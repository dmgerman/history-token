multiline_comment|/* &n;   BlueZ - Bluetooth protocol stack for Linux&n;   Copyright (C) 2000-2001 Qualcomm Incorporated&n;&n;   Written 2000,2001 by Maxim Krasnyansky &lt;maxk@qualcomm.com&gt;&n;&n;   This program is free software; you can redistribute it and/or modify&n;   it under the terms of the GNU General Public License version 2 as&n;   published by the Free Software Foundation;&n;&n;   THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS&n;   OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,&n;   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT OF THIRD PARTY RIGHTS.&n;   IN NO EVENT SHALL THE COPYRIGHT HOLDER(S) AND AUTHOR(S) BE LIABLE FOR ANY&n;   CLAIM, OR ANY SPECIAL INDIRECT OR CONSEQUENTIAL DAMAGES, OR ANY DAMAGES &n;   WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN &n;   ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF &n;   OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.&n;&n;   ALL LIABILITY, INCLUDING LIABILITY FOR INFRINGEMENT OF ANY PATENTS, &n;   COPYRIGHTS, TRADEMARKS OR OTHER RIGHTS, RELATING TO USE OF THIS &n;   SOFTWARE IS DISCLAIMED.&n;*/
multiline_comment|/*&n; * Bluetooth kernel library.&n; *&n; * $Id: lib.c,v 1.1 2002/03/08 21:06:59 maxk Exp $&n; */
macro_line|#include &lt;linux/kernel.h&gt;
macro_line|#include &lt;linux/stddef.h&gt;
macro_line|#include &lt;linux/string.h&gt;
macro_line|#include &lt;asm/errno.h&gt;
macro_line|#include &lt;net/bluetooth/bluetooth.h&gt;
DECL|function|bt_dump
r_void
id|bt_dump
c_func
(paren
r_char
op_star
id|pref
comma
id|__u8
op_star
id|buf
comma
r_int
id|count
)paren
(brace
r_char
op_star
id|ptr
suffix:semicolon
r_char
id|line
(braket
l_int|100
)braket
suffix:semicolon
r_int
id|i
suffix:semicolon
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;%s: dump, len %d&bslash;n&quot;
comma
id|pref
comma
id|count
)paren
suffix:semicolon
id|ptr
op_assign
id|line
suffix:semicolon
op_star
id|ptr
op_assign
l_int|0
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|count
suffix:semicolon
id|i
op_increment
)paren
(brace
id|ptr
op_add_assign
id|sprintf
c_func
(paren
id|ptr
comma
l_string|&quot; %2.2X&quot;
comma
id|buf
(braket
id|i
)braket
)paren
suffix:semicolon
r_if
c_cond
(paren
id|i
op_logical_and
op_logical_neg
(paren
(paren
id|i
op_plus
l_int|1
)paren
op_mod
l_int|20
)paren
)paren
(brace
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;%s:%s&bslash;n&quot;
comma
id|pref
comma
id|line
)paren
suffix:semicolon
id|ptr
op_assign
id|line
suffix:semicolon
op_star
id|ptr
op_assign
l_int|0
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
id|line
(braket
l_int|0
)braket
)paren
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;%s:%s&bslash;n&quot;
comma
id|pref
comma
id|line
)paren
suffix:semicolon
)brace
DECL|function|baswap
r_void
id|baswap
c_func
(paren
id|bdaddr_t
op_star
id|dst
comma
id|bdaddr_t
op_star
id|src
)paren
(brace
r_int
r_char
op_star
id|d
op_assign
(paren
r_int
r_char
op_star
)paren
id|dst
suffix:semicolon
r_int
r_char
op_star
id|s
op_assign
(paren
r_int
r_char
op_star
)paren
id|src
suffix:semicolon
r_int
id|i
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|6
suffix:semicolon
id|i
op_increment
)paren
id|d
(braket
id|i
)braket
op_assign
id|s
(braket
l_int|5
op_minus
id|i
)braket
suffix:semicolon
)brace
DECL|function|batostr
r_char
op_star
id|batostr
c_func
(paren
id|bdaddr_t
op_star
id|ba
)paren
(brace
r_static
r_char
id|str
(braket
l_int|2
)braket
(braket
l_int|18
)braket
suffix:semicolon
r_static
r_int
id|i
op_assign
l_int|1
suffix:semicolon
id|i
op_xor_assign
l_int|1
suffix:semicolon
id|sprintf
c_func
(paren
id|str
(braket
id|i
)braket
comma
l_string|&quot;%2.2X:%2.2X:%2.2X:%2.2X:%2.2X:%2.2X&quot;
comma
id|ba-&gt;b
(braket
l_int|0
)braket
comma
id|ba-&gt;b
(braket
l_int|1
)braket
comma
id|ba-&gt;b
(braket
l_int|2
)braket
comma
id|ba-&gt;b
(braket
l_int|3
)braket
comma
id|ba-&gt;b
(braket
l_int|4
)braket
comma
id|ba-&gt;b
(braket
l_int|5
)braket
)paren
suffix:semicolon
r_return
id|str
(braket
id|i
)braket
suffix:semicolon
)brace
multiline_comment|/* Bluetooth error codes to Unix errno mapping */
DECL|function|bt_err
r_int
id|bt_err
c_func
(paren
id|__u16
id|code
)paren
(brace
r_switch
c_cond
(paren
id|code
)paren
(brace
r_case
l_int|0
suffix:colon
r_return
l_int|0
suffix:semicolon
r_case
l_int|0x01
suffix:colon
r_return
id|EBADRQC
suffix:semicolon
r_case
l_int|0x02
suffix:colon
r_return
id|ENOTCONN
suffix:semicolon
r_case
l_int|0x03
suffix:colon
r_return
id|EIO
suffix:semicolon
r_case
l_int|0x04
suffix:colon
r_return
id|EHOSTDOWN
suffix:semicolon
r_case
l_int|0x05
suffix:colon
r_return
id|EACCES
suffix:semicolon
r_case
l_int|0x06
suffix:colon
r_return
id|EBADE
suffix:semicolon
r_case
l_int|0x07
suffix:colon
r_return
id|ENOMEM
suffix:semicolon
r_case
l_int|0x08
suffix:colon
r_return
id|ETIMEDOUT
suffix:semicolon
r_case
l_int|0x09
suffix:colon
r_return
id|EMLINK
suffix:semicolon
r_case
l_int|0x0a
suffix:colon
r_return
id|EMLINK
suffix:semicolon
r_case
l_int|0x0b
suffix:colon
r_return
id|EALREADY
suffix:semicolon
r_case
l_int|0x0c
suffix:colon
r_return
id|EBUSY
suffix:semicolon
r_case
l_int|0x0d
suffix:colon
r_case
l_int|0x0e
suffix:colon
r_case
l_int|0x0f
suffix:colon
r_return
id|ECONNREFUSED
suffix:semicolon
r_case
l_int|0x10
suffix:colon
r_return
id|ETIMEDOUT
suffix:semicolon
r_case
l_int|0x11
suffix:colon
r_case
l_int|0x27
suffix:colon
r_case
l_int|0x29
suffix:colon
r_case
l_int|0x20
suffix:colon
r_return
id|EOPNOTSUPP
suffix:semicolon
r_case
l_int|0x12
suffix:colon
r_return
id|EINVAL
suffix:semicolon
r_case
l_int|0x13
suffix:colon
r_case
l_int|0x14
suffix:colon
r_case
l_int|0x15
suffix:colon
r_return
id|ECONNRESET
suffix:semicolon
r_case
l_int|0x16
suffix:colon
r_return
id|ECONNABORTED
suffix:semicolon
r_case
l_int|0x17
suffix:colon
r_return
id|ELOOP
suffix:semicolon
r_case
l_int|0x18
suffix:colon
r_return
id|EACCES
suffix:semicolon
r_case
l_int|0x1a
suffix:colon
r_return
id|EPROTONOSUPPORT
suffix:semicolon
r_case
l_int|0x1b
suffix:colon
r_return
id|ECONNREFUSED
suffix:semicolon
r_case
l_int|0x19
suffix:colon
r_case
l_int|0x1e
suffix:colon
r_case
l_int|0x23
suffix:colon
r_case
l_int|0x24
suffix:colon
r_case
l_int|0x25
suffix:colon
r_return
id|EPROTO
suffix:semicolon
r_default
suffix:colon
r_return
id|ENOSYS
suffix:semicolon
)brace
)brace
eof
