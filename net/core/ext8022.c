multiline_comment|/*&n; * (ext8022.c)&n; * &n; * Copyright (c) 1997 by Procom Technology, Inc.&n; * &t;&t; 2001 by Arnaldo Carvalho de Melo &lt;acme@conectiva.com.br&gt;&n; *&n; * This program can be redistributed or modified under the terms of the &n; * GNU General Public License as published by the Free Software Foundation.&n; * This program is distributed without any warranty or implied warranty&n; * of merchantability or fitness for a particular purpose.&n; *&n; * See the GNU General Public License for more details.&n; */
macro_line|#include &lt;linux/config.h&gt;
macro_line|#include &lt;linux/module.h&gt;
macro_line|#include &lt;linux/netdevice.h&gt;
macro_line|#include &lt;linux/brlock.h&gt;
DECL|typedef|func_type
r_typedef
r_int
(paren
op_star
id|func_type
)paren
(paren
r_struct
id|sk_buff
op_star
id|skb
comma
r_struct
id|net_device
op_star
id|dev
comma
r_struct
id|packet_type
op_star
id|pt
)paren
suffix:semicolon
r_static
r_int
id|llc_rcv
c_func
(paren
r_struct
id|sk_buff
op_star
id|skb
comma
r_struct
id|net_device
op_star
id|dev
comma
r_struct
id|packet_type
op_star
)paren
suffix:semicolon
DECL|variable|llc_sap_table
r_static
id|func_type
id|llc_sap_table
(braket
l_int|128
)braket
suffix:semicolon
DECL|variable|llc_users
r_static
r_int
id|llc_users
suffix:semicolon
DECL|variable|llc_packet_type
r_static
r_struct
id|packet_type
id|llc_packet_type
op_assign
(brace
id|type
suffix:colon
id|__constant_htons
c_func
(paren
id|ETH_P_802_2
)paren
comma
id|func
suffix:colon
id|llc_rcv
comma
)brace
suffix:semicolon
DECL|variable|llc_tr_packet_type
r_static
r_struct
id|packet_type
id|llc_tr_packet_type
op_assign
(brace
id|type
suffix:colon
id|__constant_htons
c_func
(paren
id|ETH_P_TR_802_2
)paren
comma
id|func
suffix:colon
id|llc_rcv
comma
)brace
suffix:semicolon
DECL|function|llc_rcv
r_static
r_int
id|llc_rcv
c_func
(paren
r_struct
id|sk_buff
op_star
id|skb
comma
r_struct
id|net_device
op_star
id|dev
comma
r_struct
id|packet_type
op_star
id|pt
)paren
(brace
r_int
r_char
id|n
op_assign
(paren
op_star
(paren
id|skb-&gt;h.raw
)paren
)paren
op_rshift
l_int|1
suffix:semicolon
id|br_read_lock
c_func
(paren
id|BR_LLC_LOCK
)paren
suffix:semicolon
r_if
c_cond
(paren
id|llc_sap_table
(braket
id|n
)braket
)paren
id|llc_sap_table
(braket
id|n
)braket
(paren
id|skb
comma
id|dev
comma
id|pt
)paren
suffix:semicolon
r_else
id|kfree_skb
c_func
(paren
id|skb
)paren
suffix:semicolon
id|br_read_unlock
c_func
(paren
id|BR_LLC_LOCK
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|llc_register_sap
r_void
id|llc_register_sap
c_func
(paren
r_int
r_char
id|sap
comma
id|func_type
id|rcvfunc
)paren
(brace
id|sap
op_rshift_assign
l_int|1
suffix:semicolon
id|br_write_lock_bh
c_func
(paren
id|BR_LLC_LOCK
)paren
suffix:semicolon
id|llc_sap_table
(braket
id|sap
)braket
op_assign
id|rcvfunc
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|llc_users
)paren
(brace
id|dev_add_pack
c_func
(paren
op_amp
id|llc_packet_type
)paren
suffix:semicolon
id|dev_add_pack
c_func
(paren
op_amp
id|llc_tr_packet_type
)paren
suffix:semicolon
)brace
id|llc_users
op_increment
suffix:semicolon
id|br_write_unlock_bh
c_func
(paren
id|BR_LLC_LOCK
)paren
suffix:semicolon
)brace
DECL|function|llc_unregister_sap
r_void
id|llc_unregister_sap
c_func
(paren
r_int
r_char
id|sap
)paren
(brace
id|sap
op_rshift_assign
l_int|1
suffix:semicolon
id|br_write_lock_bh
c_func
(paren
id|BR_LLC_LOCK
)paren
suffix:semicolon
id|llc_sap_table
(braket
id|sap
)braket
op_assign
l_int|NULL
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
op_decrement
id|llc_users
)paren
(brace
id|dev_remove_pack
c_func
(paren
op_amp
id|llc_packet_type
)paren
suffix:semicolon
id|dev_remove_pack
c_func
(paren
op_amp
id|llc_tr_packet_type
)paren
suffix:semicolon
)brace
id|br_write_unlock_bh
c_func
(paren
id|BR_LLC_LOCK
)paren
suffix:semicolon
)brace
DECL|variable|llc_register_sap
id|EXPORT_SYMBOL
c_func
(paren
id|llc_register_sap
)paren
suffix:semicolon
DECL|variable|llc_unregister_sap
id|EXPORT_SYMBOL
c_func
(paren
id|llc_unregister_sap
)paren
suffix:semicolon
eof
