multiline_comment|/*&n; *     SUCS NET3:&n; *&n; *     Generic stream handling routines. These are generic for most&n; *     protocols. Even IP. Tonight 8-).&n; *     This is used because TCP, LLC (others too) layer all have mostly&n; *     identical sendmsg() and recvmsg() code.&n; *     So we (will) share it here.&n; *&n; *     Authors:        Arnaldo Carvalho de Melo &lt;acme@conectiva.com.br&gt;&n; *                     (from old tcp.c code)&n; *                     Alan Cox &lt;alan@redhat.com&gt; (Borrowed comments 8-))&n; */
macro_line|#include &lt;linux/module.h&gt;
macro_line|#include &lt;linux/net.h&gt;
macro_line|#include &lt;linux/signal.h&gt;
macro_line|#include &lt;linux/wait.h&gt;
macro_line|#include &lt;net/sock.h&gt;
multiline_comment|/**&n; * sk_stream_write_space - stream socket write_space callback.&n; * sk - socket&n; *&n; * FIXME: write proper description&n; */
DECL|function|sk_stream_write_space
r_void
id|sk_stream_write_space
c_func
(paren
r_struct
id|sock
op_star
id|sk
)paren
(brace
r_struct
id|socket
op_star
id|sock
op_assign
id|sk-&gt;sk_socket
suffix:semicolon
r_if
c_cond
(paren
id|sk_stream_wspace
c_func
(paren
id|sk
)paren
op_ge
id|sk_stream_min_wspace
c_func
(paren
id|sk
)paren
op_logical_and
id|sock
)paren
(brace
id|clear_bit
c_func
(paren
id|SOCK_NOSPACE
comma
op_amp
id|sock-&gt;flags
)paren
suffix:semicolon
r_if
c_cond
(paren
id|sk-&gt;sk_sleep
op_logical_and
id|waitqueue_active
c_func
(paren
id|sk-&gt;sk_sleep
)paren
)paren
id|wake_up_interruptible
c_func
(paren
id|sk-&gt;sk_sleep
)paren
suffix:semicolon
r_if
c_cond
(paren
id|sock-&gt;fasync_list
op_logical_and
op_logical_neg
(paren
id|sk-&gt;sk_shutdown
op_amp
id|SEND_SHUTDOWN
)paren
)paren
id|sock_wake_async
c_func
(paren
id|sock
comma
l_int|2
comma
id|POLL_OUT
)paren
suffix:semicolon
)brace
)brace
DECL|variable|sk_stream_write_space
id|EXPORT_SYMBOL
c_func
(paren
id|sk_stream_write_space
)paren
suffix:semicolon
eof
