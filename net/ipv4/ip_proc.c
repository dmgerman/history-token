multiline_comment|/*&n; * INET&t;&t;An implementation of the TCP/IP protocol suite for the LINUX&n; *&t;&t;operating system.  INET is implemented using the  BSD Socket&n; *&t;&t;interface as the means of communication with the user level.&n; *&n; *&t;&t;ipv4 proc support&n; *&n; *&t;&t;Arnaldo Carvalho de Melo &lt;acme@conectiva.com.br&gt;, 2002/10/10&n; *&n; *&t;&t;This program is free software; you can redistribute it and/or&n; *&t;&t;modify it under the terms of the GNU General Public License as&n; *&t;&t;published by the Free Software Foundation; version 2 of the&n; *&t;&t;License&n; */
macro_line|#include &lt;linux/config.h&gt;
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;linux/proc_fs.h&gt;
r_extern
r_int
id|raw_get_info
c_func
(paren
r_char
op_star
comma
r_char
op_star
op_star
comma
id|off_t
comma
r_int
)paren
suffix:semicolon
r_extern
r_int
id|snmp_get_info
c_func
(paren
r_char
op_star
comma
r_char
op_star
op_star
comma
id|off_t
comma
r_int
)paren
suffix:semicolon
r_extern
r_int
id|netstat_get_info
c_func
(paren
r_char
op_star
comma
r_char
op_star
op_star
comma
id|off_t
comma
r_int
)paren
suffix:semicolon
r_extern
r_int
id|afinet_get_info
c_func
(paren
r_char
op_star
comma
r_char
op_star
op_star
comma
id|off_t
comma
r_int
)paren
suffix:semicolon
r_extern
r_int
id|tcp_get_info
c_func
(paren
r_char
op_star
comma
r_char
op_star
op_star
comma
id|off_t
comma
r_int
)paren
suffix:semicolon
r_extern
r_int
id|udp_get_info
c_func
(paren
r_char
op_star
comma
r_char
op_star
op_star
comma
id|off_t
comma
r_int
)paren
suffix:semicolon
macro_line|#ifdef CONFIG_PROC_FS
DECL|function|ipv4_proc_init
r_int
id|__init
id|ipv4_proc_init
c_func
(paren
r_void
)paren
(brace
r_int
id|rc
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|proc_net_create
c_func
(paren
l_string|&quot;raw&quot;
comma
l_int|0
comma
id|raw_get_info
)paren
)paren
r_goto
id|out_raw
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|proc_net_create
c_func
(paren
l_string|&quot;netstat&quot;
comma
l_int|0
comma
id|netstat_get_info
)paren
)paren
r_goto
id|out_netstat
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|proc_net_create
c_func
(paren
l_string|&quot;snmp&quot;
comma
l_int|0
comma
id|snmp_get_info
)paren
)paren
r_goto
id|out_snmp
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|proc_net_create
c_func
(paren
l_string|&quot;sockstat&quot;
comma
l_int|0
comma
id|afinet_get_info
)paren
)paren
r_goto
id|out_sockstat
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|proc_net_create
c_func
(paren
l_string|&quot;tcp&quot;
comma
l_int|0
comma
id|tcp_get_info
)paren
)paren
r_goto
id|out_tcp
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|proc_net_create
c_func
(paren
l_string|&quot;udp&quot;
comma
l_int|0
comma
id|udp_get_info
)paren
)paren
r_goto
id|out_udp
suffix:semicolon
id|out
suffix:colon
r_return
id|rc
suffix:semicolon
id|out_udp
suffix:colon
id|proc_net_remove
c_func
(paren
l_string|&quot;tcp&quot;
)paren
suffix:semicolon
id|out_tcp
suffix:colon
id|proc_net_remove
c_func
(paren
l_string|&quot;sockstat&quot;
)paren
suffix:semicolon
id|out_sockstat
suffix:colon
id|proc_net_remove
c_func
(paren
l_string|&quot;snmp&quot;
)paren
suffix:semicolon
id|out_snmp
suffix:colon
id|proc_net_remove
c_func
(paren
l_string|&quot;netstat&quot;
)paren
suffix:semicolon
id|out_netstat
suffix:colon
id|proc_net_remove
c_func
(paren
l_string|&quot;raw&quot;
)paren
suffix:semicolon
id|out_raw
suffix:colon
id|rc
op_assign
op_minus
id|ENOMEM
suffix:semicolon
r_goto
id|out
suffix:semicolon
)brace
macro_line|#else /* CONFIG_PROC_FS */
DECL|function|ipv4_proc_init
r_int
id|__init
id|ipv4_proc_init
c_func
(paren
r_void
)paren
(brace
r_return
l_int|0
suffix:semicolon
)brace
macro_line|#endif /* CONFIG_PROC_FS */
eof
