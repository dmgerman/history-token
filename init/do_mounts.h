DECL|macro|__KERNEL_SYSCALLS__
mdefine_line|#define __KERNEL_SYSCALLS__
macro_line|#include &lt;linux/config.h&gt;
macro_line|#include &lt;linux/kernel.h&gt;
macro_line|#include &lt;linux/devfs_fs_kernel.h&gt;
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;linux/unistd.h&gt;
macro_line|#include &lt;linux/slab.h&gt;
macro_line|#include &lt;linux/mount.h&gt;
r_extern
id|asmlinkage
r_int
id|sys_unlink
c_func
(paren
r_const
r_char
op_star
id|name
)paren
suffix:semicolon
r_extern
id|asmlinkage
r_int
id|sys_mknod
c_func
(paren
r_const
r_char
op_star
id|name
comma
r_int
id|mode
comma
id|dev_t
id|dev
)paren
suffix:semicolon
r_extern
id|asmlinkage
r_int
id|sys_newstat
c_func
(paren
r_char
op_star
id|filename
comma
r_struct
id|stat
op_star
id|statbuf
)paren
suffix:semicolon
r_extern
id|asmlinkage
r_int
id|sys_mount
c_func
(paren
r_char
op_star
id|dev_name
comma
r_char
op_star
id|dir_name
comma
r_char
op_star
id|type
comma
r_int
r_int
id|flags
comma
r_void
op_star
id|data
)paren
suffix:semicolon
r_extern
id|asmlinkage
r_int
id|sys_umount
c_func
(paren
r_char
op_star
id|name
comma
r_int
id|flags
)paren
suffix:semicolon
macro_line|#ifdef CONFIG_DEVFS_FS
r_void
id|mount_devfs
c_func
(paren
r_void
)paren
suffix:semicolon
r_void
id|umount_devfs
c_func
(paren
r_char
op_star
id|path
)paren
suffix:semicolon
r_int
id|create_dev
c_func
(paren
r_char
op_star
id|name
comma
id|dev_t
id|dev
comma
r_char
op_star
id|devfs_name
)paren
suffix:semicolon
macro_line|#else
DECL|function|mount_devfs
r_static
r_inline
r_void
id|mount_devfs
c_func
(paren
r_void
)paren
(brace
)brace
DECL|function|umount_devfs
r_static
r_inline
r_void
id|umount_devfs
c_func
(paren
r_const
r_char
op_star
id|path
)paren
(brace
)brace
DECL|function|create_dev
r_static
r_inline
r_int
id|create_dev
c_func
(paren
r_char
op_star
id|name
comma
id|dev_t
id|dev
comma
r_char
op_star
id|devfs_name
)paren
(brace
id|sys_unlink
c_func
(paren
id|name
)paren
suffix:semicolon
r_return
id|sys_mknod
c_func
(paren
id|name
comma
id|S_IFBLK
op_or
l_int|0600
comma
id|dev
)paren
suffix:semicolon
)brace
macro_line|#endif
eof
