DECL|macro|__KERNEL_SYSCALLS__
mdefine_line|#define __KERNEL_SYSCALLS__
macro_line|#include &lt;linux/config.h&gt;
macro_line|#include &lt;linux/kernel.h&gt;
macro_line|#include &lt;linux/devfs_fs_kernel.h&gt;
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;linux/syscalls.h&gt;
macro_line|#include &lt;linux/unistd.h&gt;
macro_line|#include &lt;linux/slab.h&gt;
macro_line|#include &lt;linux/mount.h&gt;
macro_line|#include &lt;linux/major.h&gt;
macro_line|#include &lt;linux/root_dev.h&gt;
id|dev_t
id|name_to_dev_t
c_func
(paren
r_char
op_star
id|name
)paren
suffix:semicolon
r_void
id|change_floppy
c_func
(paren
r_char
op_star
id|fmt
comma
dot
dot
dot
)paren
suffix:semicolon
r_void
id|mount_block_root
c_func
(paren
r_char
op_star
id|name
comma
r_int
id|flags
)paren
suffix:semicolon
r_void
id|mount_root
c_func
(paren
r_void
)paren
suffix:semicolon
r_extern
r_int
id|root_mountflags
suffix:semicolon
r_extern
r_char
op_star
id|root_device_name
suffix:semicolon
macro_line|#ifdef CONFIG_DEVFS_FS
r_void
id|mount_devfs
c_func
(paren
r_void
)paren
suffix:semicolon
r_void
id|umount_devfs
c_func
(paren
r_char
op_star
id|path
)paren
suffix:semicolon
r_int
id|create_dev
c_func
(paren
r_char
op_star
id|name
comma
id|dev_t
id|dev
comma
r_char
op_star
id|devfs_name
)paren
suffix:semicolon
macro_line|#else
DECL|function|mount_devfs
r_static
r_inline
r_void
id|mount_devfs
c_func
(paren
r_void
)paren
(brace
)brace
DECL|function|umount_devfs
r_static
r_inline
r_void
id|umount_devfs
c_func
(paren
r_const
r_char
op_star
id|path
)paren
(brace
)brace
DECL|function|create_dev
r_static
r_inline
r_int
id|create_dev
c_func
(paren
r_char
op_star
id|name
comma
id|dev_t
id|dev
comma
r_char
op_star
id|devfs_name
)paren
(brace
id|sys_unlink
c_func
(paren
id|name
)paren
suffix:semicolon
r_return
id|sys_mknod
c_func
(paren
id|name
comma
id|S_IFBLK
op_or
l_int|0600
comma
id|new_encode_dev
c_func
(paren
id|dev
)paren
)paren
suffix:semicolon
)brace
macro_line|#endif
macro_line|#if BITS_PER_LONG == 32
DECL|function|bstat
r_static
r_inline
id|u32
id|bstat
c_func
(paren
r_char
op_star
id|name
)paren
(brace
r_struct
id|stat64
id|stat
suffix:semicolon
r_if
c_cond
(paren
id|sys_stat64
c_func
(paren
id|name
comma
op_amp
id|stat
)paren
op_ne
l_int|0
)paren
r_return
l_int|0
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|S_ISBLK
c_func
(paren
id|stat.st_mode
)paren
)paren
r_return
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|stat.st_rdev
op_ne
(paren
id|u32
)paren
id|stat.st_rdev
)paren
r_return
l_int|0
suffix:semicolon
r_return
id|stat.st_rdev
suffix:semicolon
)brace
macro_line|#else
DECL|function|bstat
r_static
r_inline
id|u32
id|bstat
c_func
(paren
r_char
op_star
id|name
)paren
(brace
r_struct
id|stat
id|stat
suffix:semicolon
r_if
c_cond
(paren
id|sys_newstat
c_func
(paren
id|name
comma
op_amp
id|stat
)paren
op_ne
l_int|0
)paren
r_return
l_int|0
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|S_ISBLK
c_func
(paren
id|stat.st_mode
)paren
)paren
r_return
l_int|0
suffix:semicolon
r_return
id|stat.st_rdev
suffix:semicolon
)brace
macro_line|#endif
macro_line|#ifdef CONFIG_BLK_DEV_RAM
r_int
id|__init
id|rd_load_disk
c_func
(paren
r_int
id|n
)paren
suffix:semicolon
r_int
id|__init
id|rd_load_image
c_func
(paren
r_char
op_star
id|from
)paren
suffix:semicolon
macro_line|#else
DECL|function|rd_load_disk
r_static
r_inline
r_int
id|rd_load_disk
c_func
(paren
r_int
id|n
)paren
(brace
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|rd_load_image
r_static
r_inline
r_int
id|rd_load_image
c_func
(paren
r_char
op_star
id|from
)paren
(brace
r_return
l_int|0
suffix:semicolon
)brace
macro_line|#endif
macro_line|#ifdef CONFIG_BLK_DEV_INITRD
r_int
id|__init
id|initrd_load
c_func
(paren
r_void
)paren
suffix:semicolon
macro_line|#else
DECL|function|initrd_load
r_static
r_inline
r_int
id|initrd_load
c_func
(paren
r_void
)paren
(brace
r_return
l_int|0
suffix:semicolon
)brace
macro_line|#endif
macro_line|#ifdef CONFIG_BLK_DEV_MD
r_void
id|md_run_setup
c_func
(paren
r_void
)paren
suffix:semicolon
macro_line|#else
DECL|function|md_run_setup
r_static
r_inline
r_void
id|md_run_setup
c_func
(paren
r_void
)paren
(brace
)brace
macro_line|#endif
eof
