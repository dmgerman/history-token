multiline_comment|/* &n; * lib/reed_solomon/encode_rs.c&n; *&n; * Overview:&n; *   Generic Reed Solomon encoder / decoder library&n; *   &n; * Copyright 2002, Phil Karn, KA9Q&n; * May be used under the terms of the GNU General Public License (GPL)&n; *&n; * Adaption to the kernel by Thomas Gleixner (tglx@linutronix.de)&n; *&n; * $Id: encode_rs.c,v 1.4 2004/10/22 15:41:47 gleixner Exp $&n; *&n; */
multiline_comment|/* Generic data width independent code which is included by the &n; * wrappers.&n; * int encode_rsX (struct rs_control *rs, uintX_t *data, int len, uintY_t *par)&n; */
(brace
r_int
id|i
comma
id|j
comma
id|pad
suffix:semicolon
r_int
id|nn
op_assign
id|rs-&gt;nn
suffix:semicolon
r_int
id|nroots
op_assign
id|rs-&gt;nroots
suffix:semicolon
r_uint16
op_star
id|alpha_to
op_assign
id|rs-&gt;alpha_to
suffix:semicolon
r_uint16
op_star
id|index_of
op_assign
id|rs-&gt;index_of
suffix:semicolon
r_uint16
op_star
id|genpoly
op_assign
id|rs-&gt;genpoly
suffix:semicolon
r_uint16
id|fb
suffix:semicolon
r_uint16
id|msk
op_assign
(paren
r_uint16
)paren
id|rs-&gt;nn
suffix:semicolon
multiline_comment|/* Check length parameter for validity */
id|pad
op_assign
id|nn
op_minus
id|nroots
op_minus
id|len
suffix:semicolon
r_if
c_cond
(paren
id|pad
OL
l_int|0
op_logical_or
id|pad
op_ge
id|nn
)paren
r_return
op_minus
id|ERANGE
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|len
suffix:semicolon
id|i
op_increment
)paren
(brace
id|fb
op_assign
id|index_of
(braket
(paren
(paren
(paren
(paren
r_uint16
)paren
id|data
(braket
id|i
)braket
)paren
op_xor
id|invmsk
)paren
op_amp
id|msk
)paren
op_xor
id|par
(braket
l_int|0
)braket
)braket
suffix:semicolon
multiline_comment|/* feedback term is non-zero */
r_if
c_cond
(paren
id|fb
op_ne
id|nn
)paren
(brace
r_for
c_loop
(paren
id|j
op_assign
l_int|1
suffix:semicolon
id|j
OL
id|nroots
suffix:semicolon
id|j
op_increment
)paren
(brace
id|par
(braket
id|j
)braket
op_xor_assign
id|alpha_to
(braket
id|rs_modnn
c_func
(paren
id|rs
comma
id|fb
op_plus
id|genpoly
(braket
id|nroots
op_minus
id|j
)braket
)paren
)braket
suffix:semicolon
)brace
)brace
multiline_comment|/* Shift */
id|memmove
c_func
(paren
op_amp
id|par
(braket
l_int|0
)braket
comma
op_amp
id|par
(braket
l_int|1
)braket
comma
r_sizeof
(paren
r_uint16
)paren
op_star
(paren
id|nroots
op_minus
l_int|1
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|fb
op_ne
id|nn
)paren
(brace
id|par
(braket
id|nroots
op_minus
l_int|1
)braket
op_assign
id|alpha_to
(braket
id|rs_modnn
c_func
(paren
id|rs
comma
id|fb
op_plus
id|genpoly
(braket
l_int|0
)braket
)paren
)braket
suffix:semicolon
)brace
r_else
(brace
id|par
(braket
id|nroots
op_minus
l_int|1
)braket
op_assign
l_int|0
suffix:semicolon
)brace
)brace
r_return
l_int|0
suffix:semicolon
)brace
eof
