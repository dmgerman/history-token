multiline_comment|/*&n; * Copyright (C) 2003 Bernardo Innocenti &lt;bernie@develer.com&gt;&n; *&n; * Based on former do_div() implementation from asm-parisc/div64.h:&n; *&t;Copyright (C) 1999 Hewlett-Packard Co&n; *&t;Copyright (C) 1999 David Mosberger-Tang &lt;davidm@hpl.hp.com&gt;&n; *&n; *&n; * Generic C version of 64bit/32bit division and modulo, with&n; * 64bit result and 32bit remainder.&n; *&n; * The fast case for (n&gt;&gt;32 == 0) is handled inline by do_div(). &n; *&n; * Code generated for this function might be very inefficient&n; * for some CPUs. div64_32() can be overridden by linking arch-specific&n; * assembly versions such as arch/ppc/lib/div64.S and arch/sh/lib/div64.S.&n; */
macro_line|#include &lt;linux/types.h&gt;
macro_line|#include &lt;asm/div64.h&gt;
DECL|function|__div64_32
r_uint32
id|__div64_32
c_func
(paren
r_uint64
op_star
id|n
comma
r_uint32
id|base
)paren
(brace
r_uint32
id|low
comma
id|low2
comma
id|high
comma
id|rem
suffix:semicolon
id|low
op_assign
op_star
id|n
op_amp
l_int|0xffffffff
suffix:semicolon
id|high
op_assign
op_star
id|n
op_rshift
l_int|32
suffix:semicolon
id|rem
op_assign
id|high
op_mod
(paren
r_uint32
)paren
id|base
suffix:semicolon
id|high
op_assign
id|high
op_div
(paren
r_uint32
)paren
id|base
suffix:semicolon
id|low2
op_assign
id|low
op_rshift
l_int|16
suffix:semicolon
id|low2
op_add_assign
id|rem
op_lshift
l_int|16
suffix:semicolon
id|rem
op_assign
id|low2
op_mod
(paren
r_uint32
)paren
id|base
suffix:semicolon
id|low2
op_assign
id|low2
op_div
(paren
r_uint32
)paren
id|base
suffix:semicolon
id|low
op_assign
id|low
op_amp
l_int|0xffff
suffix:semicolon
id|low
op_add_assign
id|rem
op_lshift
l_int|16
suffix:semicolon
id|rem
op_assign
id|low
op_mod
(paren
r_uint32
)paren
id|base
suffix:semicolon
id|low
op_assign
id|low
op_div
(paren
r_uint32
)paren
id|base
suffix:semicolon
op_star
id|n
op_assign
id|low
op_plus
(paren
(paren
r_uint64
)paren
id|low2
op_lshift
l_int|16
)paren
op_plus
(paren
(paren
r_uint64
)paren
id|high
op_lshift
l_int|32
)paren
suffix:semicolon
r_return
id|rem
suffix:semicolon
)brace
eof
