multiline_comment|/*&n; * Copyright (C) 2002 Roman Zippel &lt;zippel@linux-m68k.org&gt;&n; * Released under the terms of the GNU GPL v2.0.&n; *&n; * Introduced single menu mode (show all sub-menus in one large tree).&n; * 2002-11-06 Petr Baudis &lt;pasky@ucw.cz&gt;&n; */
macro_line|#include &lt;sys/ioctl.h&gt;
macro_line|#include &lt;sys/wait.h&gt;
macro_line|#include &lt;ctype.h&gt;
macro_line|#include &lt;errno.h&gt;
macro_line|#include &lt;fcntl.h&gt;
macro_line|#include &lt;limits.h&gt;
macro_line|#include &lt;signal.h&gt;
macro_line|#include &lt;stdarg.h&gt;
macro_line|#include &lt;stdlib.h&gt;
macro_line|#include &lt;string.h&gt;
macro_line|#include &lt;termios.h&gt;
macro_line|#include &lt;unistd.h&gt;
DECL|macro|LKC_DIRECT_LINK
mdefine_line|#define LKC_DIRECT_LINK
macro_line|#include &quot;lkc.h&quot;
DECL|variable|menu_backtitle
r_static
r_char
id|menu_backtitle
(braket
l_int|128
)braket
suffix:semicolon
DECL|variable|mconf_readme
r_static
r_const
r_char
id|mconf_readme
(braket
)braket
op_assign
l_string|&quot;Overview&bslash;n&quot;
l_string|&quot;--------&bslash;n&quot;
l_string|&quot;Some kernel features may be built directly into the kernel.&bslash;n&quot;
l_string|&quot;Some may be made into loadable runtime modules.  Some features&bslash;n&quot;
l_string|&quot;may be completely removed altogether.  There are also certain&bslash;n&quot;
l_string|&quot;kernel parameters which are not really features, but must be&bslash;n&quot;
l_string|&quot;entered in as decimal or hexadecimal numbers or possibly text.&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
l_string|&quot;Menu items beginning with [*], &lt;M&gt; or [ ] represent features&bslash;n&quot;
l_string|&quot;configured to be built in, modularized or removed respectively.&bslash;n&quot;
l_string|&quot;Pointed brackets &lt;&gt; represent module capable features.&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
l_string|&quot;To change any of these features, highlight it with the cursor&bslash;n&quot;
l_string|&quot;keys and press &lt;Y&gt; to build it in, &lt;M&gt; to make it a module or&bslash;n&quot;
l_string|&quot;&lt;N&gt; to removed it.  You may also press the &lt;Space Bar&gt; to cycle&bslash;n&quot;
l_string|&quot;through the available options (ie. Y-&gt;N-&gt;M-&gt;Y).&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
l_string|&quot;Some additional keyboard hints:&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
l_string|&quot;Menus&bslash;n&quot;
l_string|&quot;----------&bslash;n&quot;
l_string|&quot;o  Use the Up/Down arrow keys (cursor keys) to highlight the item&bslash;n&quot;
l_string|&quot;   you wish to change or submenu wish to select and press &lt;Enter&gt;.&bslash;n&quot;
l_string|&quot;   Submenus are designated by &bslash;&quot;---&gt;&bslash;&quot;.&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
l_string|&quot;   Shortcut: Press the option&squot;s highlighted letter (hotkey).&bslash;n&quot;
l_string|&quot;             Pressing a hotkey more than once will sequence&bslash;n&quot;
l_string|&quot;             through all visible items which use that hotkey.&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
l_string|&quot;   You may also use the &lt;PAGE UP&gt; and &lt;PAGE DOWN&gt; keys to scroll&bslash;n&quot;
l_string|&quot;   unseen options into view.&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
l_string|&quot;o  To exit a menu use the cursor keys to highlight the &lt;Exit&gt; button&bslash;n&quot;
l_string|&quot;   and press &lt;ENTER&gt;.&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
l_string|&quot;   Shortcut: Press &lt;ESC&gt;&lt;ESC&gt; or &lt;E&gt; or &lt;X&gt; if there is no hotkey&bslash;n&quot;
l_string|&quot;             using those letters.  You may press a single &lt;ESC&gt;, but&bslash;n&quot;
l_string|&quot;             there is a delayed response which you may find annoying.&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
l_string|&quot;   Also, the &lt;TAB&gt; and cursor keys will cycle between &lt;Select&gt;,&bslash;n&quot;
l_string|&quot;   &lt;Exit&gt; and &lt;Help&gt;&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
l_string|&quot;o  To get help with an item, use the cursor keys to highlight &lt;Help&gt;&bslash;n&quot;
l_string|&quot;   and Press &lt;ENTER&gt;.&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
l_string|&quot;   Shortcut: Press &lt;H&gt; or &lt;?&gt;.&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
l_string|&quot;Radiolists  (Choice lists)&bslash;n&quot;
l_string|&quot;-----------&bslash;n&quot;
l_string|&quot;o  Use the cursor keys to select the option you wish to set and press&bslash;n&quot;
l_string|&quot;   &lt;S&gt; or the &lt;SPACE BAR&gt;.&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
l_string|&quot;   Shortcut: Press the first letter of the option you wish to set then&bslash;n&quot;
l_string|&quot;             press &lt;S&gt; or &lt;SPACE BAR&gt;.&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
l_string|&quot;o  To see available help for the item, use the cursor keys to highlight&bslash;n&quot;
l_string|&quot;   &lt;Help&gt; and Press &lt;ENTER&gt;.&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
l_string|&quot;   Shortcut: Press &lt;H&gt; or &lt;?&gt;.&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
l_string|&quot;   Also, the &lt;TAB&gt; and cursor keys will cycle between &lt;Select&gt; and&bslash;n&quot;
l_string|&quot;   &lt;Help&gt;&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
l_string|&quot;Data Entry&bslash;n&quot;
l_string|&quot;-----------&bslash;n&quot;
l_string|&quot;o  Enter the requested information and press &lt;ENTER&gt;&bslash;n&quot;
l_string|&quot;   If you are entering hexadecimal values, it is not necessary to&bslash;n&quot;
l_string|&quot;   add the &squot;0x&squot; prefix to the entry.&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
l_string|&quot;o  For help, use the &lt;TAB&gt; or cursor keys to highlight the help option&bslash;n&quot;
l_string|&quot;   and press &lt;ENTER&gt;.  You can try &lt;TAB&gt;&lt;H&gt; as well.&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
l_string|&quot;Text Box    (Help Window)&bslash;n&quot;
l_string|&quot;--------&bslash;n&quot;
l_string|&quot;o  Use the cursor keys to scroll up/down/left/right.  The VI editor&bslash;n&quot;
l_string|&quot;   keys h,j,k,l function here as do &lt;SPACE BAR&gt; and &lt;B&gt; for those&bslash;n&quot;
l_string|&quot;   who are familiar with less and lynx.&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
l_string|&quot;o  Press &lt;E&gt;, &lt;X&gt;, &lt;Enter&gt; or &lt;Esc&gt;&lt;Esc&gt; to exit.&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
l_string|&quot;Alternate Configuration Files&bslash;n&quot;
l_string|&quot;-----------------------------&bslash;n&quot;
l_string|&quot;Menuconfig supports the use of alternate configuration files for&bslash;n&quot;
l_string|&quot;those who, for various reasons, find it necessary to switch&bslash;n&quot;
l_string|&quot;between different kernel configurations.&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
l_string|&quot;At the end of the main menu you will find two options.  One is&bslash;n&quot;
l_string|&quot;for saving the current configuration to a file of your choosing.&bslash;n&quot;
l_string|&quot;The other option is for loading a previously saved alternate&bslash;n&quot;
l_string|&quot;configuration.&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
l_string|&quot;Even if you don&squot;t use alternate configuration files, but you&bslash;n&quot;
l_string|&quot;find during a Menuconfig session that you have completely messed&bslash;n&quot;
l_string|&quot;up your settings, you may use the &bslash;&quot;Load Alternate...&bslash;&quot; option to&bslash;n&quot;
l_string|&quot;restore your previously saved settings from &bslash;&quot;.config&bslash;&quot; without&bslash;n&quot;
l_string|&quot;restarting Menuconfig.&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
l_string|&quot;Other information&bslash;n&quot;
l_string|&quot;-----------------&bslash;n&quot;
l_string|&quot;If you use Menuconfig in an XTERM window make sure you have your&bslash;n&quot;
l_string|&quot;$TERM variable set to point to a xterm definition which supports color.&bslash;n&quot;
l_string|&quot;Otherwise, Menuconfig will look rather bad.  Menuconfig will not&bslash;n&quot;
l_string|&quot;display correctly in a RXVT window because rxvt displays only one&bslash;n&quot;
l_string|&quot;intensity of color, bright.&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
l_string|&quot;Menuconfig will display larger menus on screens or xterms which are&bslash;n&quot;
l_string|&quot;set to display more than the standard 25 row by 80 column geometry.&bslash;n&quot;
l_string|&quot;In order for this to work, the &bslash;&quot;stty size&bslash;&quot; command must be able to&bslash;n&quot;
l_string|&quot;display the screen&squot;s current row and column geometry.  I STRONGLY&bslash;n&quot;
l_string|&quot;RECOMMEND that you make sure you do NOT have the shell variables&bslash;n&quot;
l_string|&quot;LINES and COLUMNS exported into your environment.  Some distributions&bslash;n&quot;
l_string|&quot;export those variables via /etc/profile.  Some ncurses programs can&bslash;n&quot;
l_string|&quot;become confused when those variables (LINES &amp; COLUMNS) don&squot;t reflect&bslash;n&quot;
l_string|&quot;the true screen size.&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
l_string|&quot;Optional personality available&bslash;n&quot;
l_string|&quot;------------------------------&bslash;n&quot;
l_string|&quot;If you prefer to have all of the kernel options listed in a single&bslash;n&quot;
l_string|&quot;menu, rather than the default multimenu hierarchy, run the menuconfig&bslash;n&quot;
l_string|&quot;with MENUCONFIG_MODE environment variable set to single_menu. Example:&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
l_string|&quot;make MENUCONFIG_MODE=single_menu menuconfig&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
l_string|&quot;&lt;Enter&gt; will then unroll the appropriate category, or enfold it if it&bslash;n&quot;
l_string|&quot;is already unrolled.&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
l_string|&quot;Note that this mode can eventually be a little more CPU expensive&bslash;n&quot;
l_string|&quot;(especially with a larger number of unrolled categories) than the&bslash;n&quot;
l_string|&quot;default mode.&bslash;n&quot;
comma
DECL|variable|menu_instructions
id|menu_instructions
(braket
)braket
op_assign
l_string|&quot;Arrow keys navigate the menu.  &quot;
l_string|&quot;&lt;Enter&gt; selects submenus ---&gt;.  &quot;
l_string|&quot;Highlighted letters are hotkeys.  &quot;
l_string|&quot;Pressing &lt;Y&gt; includes, &lt;N&gt; excludes, &lt;M&gt; modularizes features.  &quot;
l_string|&quot;Press &lt;Esc&gt;&lt;Esc&gt; to exit, &lt;?&gt; for Help, &lt;/&gt; for Search.  &quot;
l_string|&quot;Legend: [*] built-in  [ ] excluded  &lt;M&gt; module  &lt; &gt; module capable&quot;
comma
DECL|variable|radiolist_instructions
id|radiolist_instructions
(braket
)braket
op_assign
l_string|&quot;Use the arrow keys to navigate this window or &quot;
l_string|&quot;press the hotkey of the item you wish to select &quot;
l_string|&quot;followed by the &lt;SPACE BAR&gt;. &quot;
l_string|&quot;Press &lt;?&gt; for additional information about this option.&quot;
comma
DECL|variable|inputbox_instructions_int
id|inputbox_instructions_int
(braket
)braket
op_assign
l_string|&quot;Please enter a decimal value. &quot;
l_string|&quot;Fractions will not be accepted.  &quot;
l_string|&quot;Use the &lt;TAB&gt; key to move from the input field to the buttons below it.&quot;
comma
DECL|variable|inputbox_instructions_hex
id|inputbox_instructions_hex
(braket
)braket
op_assign
l_string|&quot;Please enter a hexadecimal value. &quot;
l_string|&quot;Use the &lt;TAB&gt; key to move from the input field to the buttons below it.&quot;
comma
DECL|variable|inputbox_instructions_string
id|inputbox_instructions_string
(braket
)braket
op_assign
l_string|&quot;Please enter a string value. &quot;
l_string|&quot;Use the &lt;TAB&gt; key to move from the input field to the buttons below it.&quot;
comma
DECL|variable|setmod_text
id|setmod_text
(braket
)braket
op_assign
l_string|&quot;This feature depends on another which has been configured as a module.&bslash;n&quot;
l_string|&quot;As a result, this feature will be built as a module.&quot;
comma
DECL|variable|nohelp_text
id|nohelp_text
(braket
)braket
op_assign
l_string|&quot;There is no help available for this kernel option.&bslash;n&quot;
comma
DECL|variable|load_config_text
id|load_config_text
(braket
)braket
op_assign
l_string|&quot;Enter the name of the configuration file you wish to load.  &quot;
l_string|&quot;Accept the name shown to restore the configuration you &quot;
l_string|&quot;last retrieved.  Leave blank to abort.&quot;
comma
DECL|variable|load_config_help
id|load_config_help
(braket
)braket
op_assign
l_string|&quot;&bslash;n&quot;
l_string|&quot;For various reasons, one may wish to keep several different kernel&bslash;n&quot;
l_string|&quot;configurations available on a single machine.&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
l_string|&quot;If you have saved a previous configuration in a file other than the&bslash;n&quot;
l_string|&quot;kernel&squot;s default, entering the name of the file here will allow you&bslash;n&quot;
l_string|&quot;to modify that configuration.&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
l_string|&quot;If you are uncertain, then you have probably never used alternate&bslash;n&quot;
l_string|&quot;configuration files.  You should therefor leave this blank to abort.&bslash;n&quot;
comma
DECL|variable|save_config_text
id|save_config_text
(braket
)braket
op_assign
l_string|&quot;Enter a filename to which this configuration should be saved &quot;
l_string|&quot;as an alternate.  Leave blank to abort.&quot;
comma
DECL|variable|save_config_help
id|save_config_help
(braket
)braket
op_assign
l_string|&quot;&bslash;n&quot;
l_string|&quot;For various reasons, one may wish to keep different kernel&bslash;n&quot;
l_string|&quot;configurations available on a single machine.&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
l_string|&quot;Entering a file name here will allow you to later retrieve, modify&bslash;n&quot;
l_string|&quot;and use the current configuration as an alternate to whatever&bslash;n&quot;
l_string|&quot;configuration options you have selected at that time.&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
l_string|&quot;If you are uncertain what all this means then you should probably&bslash;n&quot;
l_string|&quot;leave this blank.&bslash;n&quot;
comma
DECL|variable|search_help
id|search_help
(braket
)braket
op_assign
l_string|&quot;&bslash;n&quot;
l_string|&quot;Search for CONFIG_ symbols and display their relations.&bslash;n&quot;
l_string|&quot;Example: search for &bslash;&quot;^FOO&bslash;&quot;&bslash;n&quot;
l_string|&quot;Result:&bslash;n&quot;
l_string|&quot;-----------------------------------------------------------------&bslash;n&quot;
l_string|&quot;Symbol: FOO [=m]&bslash;n&quot;
l_string|&quot;Prompt: Foo bus is used to drive the bar HW&bslash;n&quot;
l_string|&quot;Defined at drivers/pci/Kconfig:47&bslash;n&quot;
l_string|&quot;Depends on: X86_LOCAL_APIC &amp;&amp; X86_IO_APIC || IA64&bslash;n&quot;
l_string|&quot;Location:&bslash;n&quot;
l_string|&quot;  -&gt; Bus options (PCI, PCMCIA, EISA, MCA, ISA)&bslash;n&quot;
l_string|&quot;    -&gt; PCI support (PCI [=y])&bslash;n&quot;
l_string|&quot;      -&gt; PCI access mode (&lt;choice&gt; [=y])&bslash;n&quot;
l_string|&quot;Selects: LIBCRC32&bslash;n&quot;
l_string|&quot;Selected by: BAR&bslash;n&quot;
l_string|&quot;-----------------------------------------------------------------&bslash;n&quot;
l_string|&quot;o The line &squot;Prompt:&squot; shows the text used in the menu structure for&bslash;n&quot;
l_string|&quot;  this CONFIG_ symbol&bslash;n&quot;
l_string|&quot;o The &squot;Defined at&squot; line tell at what file / line number the symbol&bslash;n&quot;
l_string|&quot;  is defined&bslash;n&quot;
l_string|&quot;o The &squot;Depends on:&squot; line tell what symbols needs to be defined for&bslash;n&quot;
l_string|&quot;  this symbol to be visible in the menu (selectable)&bslash;n&quot;
l_string|&quot;o The &squot;Location:&squot; lines tell where in the menu structure this symbol&bslash;n&quot;
l_string|&quot;  is located&bslash;n&quot;
l_string|&quot;    A location followed by a [=y] indicate that this is a selectable&bslash;n&quot;
l_string|&quot;    menu item - and current value is displayed inside brackets.&bslash;n&quot;
l_string|&quot;o The &squot;Selects:&squot; line tell what symbol will be automatically&bslash;n&quot;
l_string|&quot;  selected if this symbol is selected (y or m)&bslash;n&quot;
l_string|&quot;o The &squot;Selected by&squot; line tell what symbol has selected this symbol&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
l_string|&quot;Only relevant lines are shown.&bslash;n&quot;
l_string|&quot;&bslash;n&bslash;n&quot;
l_string|&quot;Search examples:&bslash;n&quot;
l_string|&quot;Examples: USB&t;=&gt; find all CONFIG_ symbols containing USB&bslash;n&quot;
l_string|&quot;          ^USB =&gt; find all CONFIG_ symbols starting with USB&bslash;n&quot;
l_string|&quot;          USB$ =&gt; find all CONFIG_ symbols ending with USB&bslash;n&quot;
l_string|&quot;&bslash;n&quot;
suffix:semicolon
DECL|variable|buf
DECL|variable|bufptr
r_static
r_int
r_char
id|buf
(braket
l_int|4096
)braket
comma
op_star
id|bufptr
op_assign
id|buf
suffix:semicolon
DECL|variable|input_buf
r_static
r_int
r_char
id|input_buf
(braket
l_int|4096
)braket
suffix:semicolon
DECL|variable|filename
r_static
r_char
id|filename
(braket
id|PATH_MAX
op_plus
l_int|1
)braket
op_assign
l_string|&quot;.config&quot;
suffix:semicolon
DECL|variable|args
DECL|variable|argptr
r_static
r_char
op_star
id|args
(braket
l_int|1024
)braket
comma
op_star
op_star
id|argptr
op_assign
id|args
suffix:semicolon
DECL|variable|indent
r_static
r_int
id|indent
suffix:semicolon
DECL|variable|ios_org
r_static
r_struct
id|termios
id|ios_org
suffix:semicolon
DECL|variable|rows
DECL|variable|cols
r_static
r_int
id|rows
op_assign
l_int|0
comma
id|cols
op_assign
l_int|0
suffix:semicolon
DECL|variable|current_menu
r_static
r_struct
id|menu
op_star
id|current_menu
suffix:semicolon
DECL|variable|child_count
r_static
r_int
id|child_count
suffix:semicolon
DECL|variable|do_resize
r_static
r_int
id|do_resize
suffix:semicolon
DECL|variable|single_menu_mode
r_static
r_int
id|single_menu_mode
suffix:semicolon
r_static
r_void
id|conf
c_func
(paren
r_struct
id|menu
op_star
id|menu
)paren
suffix:semicolon
r_static
r_void
id|conf_choice
c_func
(paren
r_struct
id|menu
op_star
id|menu
)paren
suffix:semicolon
r_static
r_void
id|conf_string
c_func
(paren
r_struct
id|menu
op_star
id|menu
)paren
suffix:semicolon
r_static
r_void
id|conf_load
c_func
(paren
r_void
)paren
suffix:semicolon
r_static
r_void
id|conf_save
c_func
(paren
r_void
)paren
suffix:semicolon
r_static
r_void
id|show_textbox
c_func
(paren
r_const
r_char
op_star
id|title
comma
r_const
r_char
op_star
id|text
comma
r_int
id|r
comma
r_int
id|c
)paren
suffix:semicolon
r_static
r_void
id|show_helptext
c_func
(paren
r_const
r_char
op_star
id|title
comma
r_const
r_char
op_star
id|text
)paren
suffix:semicolon
r_static
r_void
id|show_help
c_func
(paren
r_struct
id|menu
op_star
id|menu
)paren
suffix:semicolon
r_static
r_void
id|show_file
c_func
(paren
r_const
r_char
op_star
id|filename
comma
r_const
r_char
op_star
id|title
comma
r_int
id|r
comma
r_int
id|c
)paren
suffix:semicolon
r_static
r_void
id|cprint_init
c_func
(paren
r_void
)paren
suffix:semicolon
r_static
r_int
id|cprint1
c_func
(paren
r_const
r_char
op_star
id|fmt
comma
dot
dot
dot
)paren
suffix:semicolon
r_static
r_void
id|cprint_done
c_func
(paren
r_void
)paren
suffix:semicolon
r_static
r_int
id|cprint
c_func
(paren
r_const
r_char
op_star
id|fmt
comma
dot
dot
dot
)paren
suffix:semicolon
DECL|function|init_wsize
r_static
r_void
id|init_wsize
c_func
(paren
r_void
)paren
(brace
r_struct
id|winsize
id|ws
suffix:semicolon
r_char
op_star
id|env
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|ioctl
c_func
(paren
id|STDIN_FILENO
comma
id|TIOCGWINSZ
comma
op_amp
id|ws
)paren
)paren
(brace
id|rows
op_assign
id|ws.ws_row
suffix:semicolon
id|cols
op_assign
id|ws.ws_col
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|rows
)paren
(brace
id|env
op_assign
id|getenv
c_func
(paren
l_string|&quot;LINES&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|env
)paren
id|rows
op_assign
id|atoi
c_func
(paren
id|env
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|rows
)paren
id|rows
op_assign
l_int|24
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|cols
)paren
(brace
id|env
op_assign
id|getenv
c_func
(paren
l_string|&quot;COLUMNS&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|env
)paren
id|cols
op_assign
id|atoi
c_func
(paren
id|env
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|cols
)paren
id|cols
op_assign
l_int|80
suffix:semicolon
)brace
r_if
c_cond
(paren
id|rows
OL
l_int|19
op_logical_or
id|cols
OL
l_int|80
)paren
(brace
id|fprintf
c_func
(paren
id|stderr
comma
l_string|&quot;Your display is too small to run Menuconfig!&bslash;n&quot;
)paren
suffix:semicolon
id|fprintf
c_func
(paren
id|stderr
comma
l_string|&quot;It must be at least 19 lines by 80 columns.&bslash;n&quot;
)paren
suffix:semicolon
m_exit
(paren
l_int|1
)paren
suffix:semicolon
)brace
id|rows
op_sub_assign
l_int|4
suffix:semicolon
id|cols
op_sub_assign
l_int|5
suffix:semicolon
)brace
DECL|function|cprint_init
r_static
r_void
id|cprint_init
c_func
(paren
r_void
)paren
(brace
id|bufptr
op_assign
id|buf
suffix:semicolon
id|argptr
op_assign
id|args
suffix:semicolon
id|memset
c_func
(paren
id|args
comma
l_int|0
comma
r_sizeof
(paren
id|args
)paren
)paren
suffix:semicolon
id|indent
op_assign
l_int|0
suffix:semicolon
id|child_count
op_assign
l_int|0
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;./scripts/lxdialog/lxdialog&quot;
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;--backtitle&quot;
)paren
suffix:semicolon
id|cprint
c_func
(paren
id|menu_backtitle
)paren
suffix:semicolon
)brace
DECL|function|cprint1
r_static
r_int
id|cprint1
c_func
(paren
r_const
r_char
op_star
id|fmt
comma
dot
dot
dot
)paren
(brace
id|va_list
id|ap
suffix:semicolon
r_int
id|res
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
op_star
id|argptr
)paren
op_star
id|argptr
op_assign
id|bufptr
suffix:semicolon
id|va_start
c_func
(paren
id|ap
comma
id|fmt
)paren
suffix:semicolon
id|res
op_assign
id|vsprintf
c_func
(paren
id|bufptr
comma
id|fmt
comma
id|ap
)paren
suffix:semicolon
id|va_end
c_func
(paren
id|ap
)paren
suffix:semicolon
id|bufptr
op_add_assign
id|res
suffix:semicolon
r_return
id|res
suffix:semicolon
)brace
DECL|function|cprint_done
r_static
r_void
id|cprint_done
c_func
(paren
r_void
)paren
(brace
op_star
id|bufptr
op_increment
op_assign
l_int|0
suffix:semicolon
id|argptr
op_increment
suffix:semicolon
)brace
DECL|function|cprint
r_static
r_int
id|cprint
c_func
(paren
r_const
r_char
op_star
id|fmt
comma
dot
dot
dot
)paren
(brace
id|va_list
id|ap
suffix:semicolon
r_int
id|res
suffix:semicolon
op_star
id|argptr
op_increment
op_assign
id|bufptr
suffix:semicolon
id|va_start
c_func
(paren
id|ap
comma
id|fmt
)paren
suffix:semicolon
id|res
op_assign
id|vsprintf
c_func
(paren
id|bufptr
comma
id|fmt
comma
id|ap
)paren
suffix:semicolon
id|va_end
c_func
(paren
id|ap
)paren
suffix:semicolon
id|bufptr
op_add_assign
id|res
suffix:semicolon
op_star
id|bufptr
op_increment
op_assign
l_int|0
suffix:semicolon
r_return
id|res
suffix:semicolon
)brace
DECL|function|get_prompt_str
r_static
r_void
id|get_prompt_str
c_func
(paren
r_struct
id|gstr
op_star
id|r
comma
r_struct
id|property
op_star
id|prop
)paren
(brace
r_int
id|i
comma
id|j
suffix:semicolon
r_struct
id|menu
op_star
id|submenu
(braket
l_int|8
)braket
comma
op_star
id|menu
suffix:semicolon
id|str_printf
c_func
(paren
id|r
comma
l_string|&quot;Prompt: %s&bslash;n&quot;
comma
id|prop-&gt;text
)paren
suffix:semicolon
id|str_printf
c_func
(paren
id|r
comma
l_string|&quot;  Defined at %s:%d&bslash;n&quot;
comma
id|prop-&gt;menu-&gt;file-&gt;name
comma
id|prop-&gt;menu-&gt;lineno
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|expr_is_yes
c_func
(paren
id|prop-&gt;visible.expr
)paren
)paren
(brace
id|str_append
c_func
(paren
id|r
comma
l_string|&quot;  Depends on: &quot;
)paren
suffix:semicolon
id|expr_gstr_print
c_func
(paren
id|prop-&gt;visible.expr
comma
id|r
)paren
suffix:semicolon
id|str_append
c_func
(paren
id|r
comma
l_string|&quot;&bslash;n&quot;
)paren
suffix:semicolon
)brace
id|menu
op_assign
id|prop-&gt;menu-&gt;parent
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|menu
op_ne
op_amp
id|rootmenu
op_logical_and
id|i
OL
l_int|8
suffix:semicolon
id|menu
op_assign
id|menu-&gt;parent
)paren
id|submenu
(braket
id|i
op_increment
)braket
op_assign
id|menu
suffix:semicolon
r_if
c_cond
(paren
id|i
OG
l_int|0
)paren
(brace
id|str_printf
c_func
(paren
id|r
comma
l_string|&quot;  Location:&bslash;n&quot;
)paren
suffix:semicolon
r_for
c_loop
(paren
id|j
op_assign
l_int|4
suffix:semicolon
op_decrement
id|i
op_ge
l_int|0
suffix:semicolon
id|j
op_add_assign
l_int|2
)paren
(brace
id|menu
op_assign
id|submenu
(braket
id|i
)braket
suffix:semicolon
id|str_printf
c_func
(paren
id|r
comma
l_string|&quot;%*c-&gt; %s&quot;
comma
id|j
comma
l_char|&squot; &squot;
comma
id|menu_get_prompt
c_func
(paren
id|menu
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|menu-&gt;sym
)paren
(brace
id|str_printf
c_func
(paren
id|r
comma
l_string|&quot; (%s [=%s])&quot;
comma
id|menu-&gt;sym-&gt;name
ques
c_cond
id|menu-&gt;sym-&gt;name
suffix:colon
l_string|&quot;&lt;choice&gt;&quot;
comma
id|sym_get_string_value
c_func
(paren
id|menu-&gt;sym
)paren
)paren
suffix:semicolon
)brace
id|str_append
c_func
(paren
id|r
comma
l_string|&quot;&bslash;n&quot;
)paren
suffix:semicolon
)brace
)brace
)brace
DECL|function|get_symbol_str
r_static
r_void
id|get_symbol_str
c_func
(paren
r_struct
id|gstr
op_star
id|r
comma
r_struct
id|symbol
op_star
id|sym
)paren
(brace
r_bool
id|hit
suffix:semicolon
r_struct
id|property
op_star
id|prop
suffix:semicolon
id|str_printf
c_func
(paren
id|r
comma
l_string|&quot;Symbol: %s [=%s]&bslash;n&quot;
comma
id|sym-&gt;name
comma
id|sym_get_string_value
c_func
(paren
id|sym
)paren
)paren
suffix:semicolon
id|for_all_prompts
c_func
(paren
id|sym
comma
id|prop
)paren
id|get_prompt_str
c_func
(paren
id|r
comma
id|prop
)paren
suffix:semicolon
id|hit
op_assign
l_bool|false
suffix:semicolon
id|for_all_properties
c_func
(paren
id|sym
comma
id|prop
comma
id|P_SELECT
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
id|hit
)paren
(brace
id|str_append
c_func
(paren
id|r
comma
l_string|&quot;  Selects: &quot;
)paren
suffix:semicolon
id|hit
op_assign
l_bool|true
suffix:semicolon
)brace
r_else
id|str_printf
c_func
(paren
id|r
comma
l_string|&quot; &amp;&amp; &quot;
)paren
suffix:semicolon
id|expr_gstr_print
c_func
(paren
id|prop-&gt;expr
comma
id|r
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|hit
)paren
id|str_append
c_func
(paren
id|r
comma
l_string|&quot;&bslash;n&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|sym-&gt;rev_dep.expr
)paren
(brace
id|str_append
c_func
(paren
id|r
comma
l_string|&quot;  Selected by: &quot;
)paren
suffix:semicolon
id|expr_gstr_print
c_func
(paren
id|sym-&gt;rev_dep.expr
comma
id|r
)paren
suffix:semicolon
id|str_append
c_func
(paren
id|r
comma
l_string|&quot;&bslash;n&quot;
)paren
suffix:semicolon
)brace
id|str_append
c_func
(paren
id|r
comma
l_string|&quot;&bslash;n&bslash;n&quot;
)paren
suffix:semicolon
)brace
DECL|function|get_relations_str
r_static
r_struct
id|gstr
id|get_relations_str
c_func
(paren
r_struct
id|symbol
op_star
op_star
id|sym_arr
)paren
(brace
r_struct
id|symbol
op_star
id|sym
suffix:semicolon
r_struct
id|gstr
id|res
op_assign
id|str_new
c_func
(paren
)paren
suffix:semicolon
r_int
id|i
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|sym_arr
op_logical_and
(paren
id|sym
op_assign
id|sym_arr
(braket
id|i
)braket
)paren
suffix:semicolon
id|i
op_increment
)paren
id|get_symbol_str
c_func
(paren
op_amp
id|res
comma
id|sym
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|i
)paren
id|str_append
c_func
(paren
op_amp
id|res
comma
l_string|&quot;No matches found.&bslash;n&quot;
)paren
suffix:semicolon
r_return
id|res
suffix:semicolon
)brace
DECL|variable|pid
id|pid_t
id|pid
suffix:semicolon
DECL|function|winch_handler
r_static
r_void
id|winch_handler
c_func
(paren
r_int
id|sig
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
id|do_resize
)paren
(brace
id|kill
c_func
(paren
id|pid
comma
id|SIGINT
)paren
suffix:semicolon
id|do_resize
op_assign
l_int|1
suffix:semicolon
)brace
)brace
DECL|function|exec_conf
r_static
r_int
id|exec_conf
c_func
(paren
r_void
)paren
(brace
r_int
id|pipefd
(braket
l_int|2
)braket
comma
id|stat
comma
id|size
suffix:semicolon
r_struct
id|sigaction
id|sa
suffix:semicolon
id|sigset_t
id|sset
comma
id|osset
suffix:semicolon
id|sigemptyset
c_func
(paren
op_amp
id|sset
)paren
suffix:semicolon
id|sigaddset
c_func
(paren
op_amp
id|sset
comma
id|SIGINT
)paren
suffix:semicolon
id|sigprocmask
c_func
(paren
id|SIG_BLOCK
comma
op_amp
id|sset
comma
op_amp
id|osset
)paren
suffix:semicolon
id|signal
c_func
(paren
id|SIGINT
comma
id|SIG_DFL
)paren
suffix:semicolon
id|sa.sa_handler
op_assign
id|winch_handler
suffix:semicolon
id|sigemptyset
c_func
(paren
op_amp
id|sa.sa_mask
)paren
suffix:semicolon
id|sa.sa_flags
op_assign
id|SA_RESTART
suffix:semicolon
id|sigaction
c_func
(paren
id|SIGWINCH
comma
op_amp
id|sa
comma
l_int|NULL
)paren
suffix:semicolon
op_star
id|argptr
op_increment
op_assign
l_int|NULL
suffix:semicolon
id|pipe
c_func
(paren
id|pipefd
)paren
suffix:semicolon
id|pid
op_assign
id|fork
c_func
(paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|pid
op_eq
l_int|0
)paren
(brace
id|sigprocmask
c_func
(paren
id|SIG_SETMASK
comma
op_amp
id|osset
comma
l_int|NULL
)paren
suffix:semicolon
id|dup2
c_func
(paren
id|pipefd
(braket
l_int|1
)braket
comma
l_int|2
)paren
suffix:semicolon
id|close
c_func
(paren
id|pipefd
(braket
l_int|0
)braket
)paren
suffix:semicolon
id|close
c_func
(paren
id|pipefd
(braket
l_int|1
)braket
)paren
suffix:semicolon
id|execv
c_func
(paren
id|args
(braket
l_int|0
)braket
comma
id|args
)paren
suffix:semicolon
id|_exit
c_func
(paren
id|EXIT_FAILURE
)paren
suffix:semicolon
)brace
id|close
c_func
(paren
id|pipefd
(braket
l_int|1
)braket
)paren
suffix:semicolon
id|bufptr
op_assign
id|input_buf
suffix:semicolon
r_while
c_loop
(paren
l_int|1
)paren
(brace
id|size
op_assign
id|input_buf
op_plus
r_sizeof
(paren
id|input_buf
)paren
op_minus
id|bufptr
suffix:semicolon
id|size
op_assign
id|read
c_func
(paren
id|pipefd
(braket
l_int|0
)braket
comma
id|bufptr
comma
id|size
)paren
suffix:semicolon
r_if
c_cond
(paren
id|size
op_le
l_int|0
)paren
(brace
r_if
c_cond
(paren
id|size
OL
l_int|0
)paren
(brace
r_if
c_cond
(paren
id|errno
op_eq
id|EINTR
op_logical_or
id|errno
op_eq
id|EAGAIN
)paren
r_continue
suffix:semicolon
id|perror
c_func
(paren
l_string|&quot;read&quot;
)paren
suffix:semicolon
)brace
r_break
suffix:semicolon
)brace
id|bufptr
op_add_assign
id|size
suffix:semicolon
)brace
op_star
id|bufptr
op_increment
op_assign
l_int|0
suffix:semicolon
id|close
c_func
(paren
id|pipefd
(braket
l_int|0
)braket
)paren
suffix:semicolon
id|waitpid
c_func
(paren
id|pid
comma
op_amp
id|stat
comma
l_int|0
)paren
suffix:semicolon
r_if
c_cond
(paren
id|do_resize
)paren
(brace
id|init_wsize
c_func
(paren
)paren
suffix:semicolon
id|do_resize
op_assign
l_int|0
suffix:semicolon
id|sigprocmask
c_func
(paren
id|SIG_SETMASK
comma
op_amp
id|osset
comma
l_int|NULL
)paren
suffix:semicolon
r_return
op_minus
l_int|1
suffix:semicolon
)brace
r_if
c_cond
(paren
id|WIFSIGNALED
c_func
(paren
id|stat
)paren
)paren
(brace
id|printf
c_func
(paren
l_string|&quot;&bslash;finterrupted(%d)&bslash;n&quot;
comma
id|WTERMSIG
c_func
(paren
id|stat
)paren
)paren
suffix:semicolon
m_exit
(paren
l_int|1
)paren
suffix:semicolon
)brace
macro_line|#if 0
id|printf
c_func
(paren
l_string|&quot;&bslash;fexit state: %d&bslash;nexit data: &squot;%s&squot;&bslash;n&quot;
comma
id|WEXITSTATUS
c_func
(paren
id|stat
)paren
comma
id|input_buf
)paren
suffix:semicolon
id|sleep
c_func
(paren
l_int|1
)paren
suffix:semicolon
macro_line|#endif
id|sigpending
c_func
(paren
op_amp
id|sset
)paren
suffix:semicolon
r_if
c_cond
(paren
id|sigismember
c_func
(paren
op_amp
id|sset
comma
id|SIGINT
)paren
)paren
(brace
id|printf
c_func
(paren
l_string|&quot;&bslash;finterrupted&bslash;n&quot;
)paren
suffix:semicolon
m_exit
(paren
l_int|1
)paren
suffix:semicolon
)brace
id|sigprocmask
c_func
(paren
id|SIG_SETMASK
comma
op_amp
id|osset
comma
l_int|NULL
)paren
suffix:semicolon
r_return
id|WEXITSTATUS
c_func
(paren
id|stat
)paren
suffix:semicolon
)brace
DECL|function|search_conf
r_static
r_void
id|search_conf
c_func
(paren
r_void
)paren
(brace
r_struct
id|symbol
op_star
op_star
id|sym_arr
suffix:semicolon
r_int
id|stat
suffix:semicolon
r_struct
id|gstr
id|res
suffix:semicolon
id|again
suffix:colon
id|cprint_init
c_func
(paren
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;--title&quot;
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;Search Configuration Parameter&quot;
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;--inputbox&quot;
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;Enter Keyword&quot;
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;10&quot;
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;75&quot;
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;&quot;
)paren
suffix:semicolon
id|stat
op_assign
id|exec_conf
c_func
(paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|stat
OL
l_int|0
)paren
r_goto
id|again
suffix:semicolon
r_switch
c_cond
(paren
id|stat
)paren
(brace
r_case
l_int|0
suffix:colon
r_break
suffix:semicolon
r_case
l_int|1
suffix:colon
id|show_helptext
c_func
(paren
l_string|&quot;Search Configuration&quot;
comma
id|search_help
)paren
suffix:semicolon
r_goto
id|again
suffix:semicolon
r_default
suffix:colon
r_return
suffix:semicolon
)brace
id|sym_arr
op_assign
id|sym_re_search
c_func
(paren
id|input_buf
)paren
suffix:semicolon
id|res
op_assign
id|get_relations_str
c_func
(paren
id|sym_arr
)paren
suffix:semicolon
id|free
c_func
(paren
id|sym_arr
)paren
suffix:semicolon
id|show_textbox
c_func
(paren
l_string|&quot;Search Results&quot;
comma
id|str_get
c_func
(paren
op_amp
id|res
)paren
comma
l_int|0
comma
l_int|0
)paren
suffix:semicolon
id|str_free
c_func
(paren
op_amp
id|res
)paren
suffix:semicolon
)brace
DECL|function|build_conf
r_static
r_void
id|build_conf
c_func
(paren
r_struct
id|menu
op_star
id|menu
)paren
(brace
r_struct
id|symbol
op_star
id|sym
suffix:semicolon
r_struct
id|property
op_star
id|prop
suffix:semicolon
r_struct
id|menu
op_star
id|child
suffix:semicolon
r_int
id|type
comma
id|tmp
comma
id|doint
op_assign
l_int|2
suffix:semicolon
id|tristate
id|val
suffix:semicolon
r_char
id|ch
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|menu_is_visible
c_func
(paren
id|menu
)paren
)paren
r_return
suffix:semicolon
id|sym
op_assign
id|menu-&gt;sym
suffix:semicolon
id|prop
op_assign
id|menu-&gt;prompt
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|sym
)paren
(brace
r_if
c_cond
(paren
id|prop
op_logical_and
id|menu
op_ne
id|current_menu
)paren
(brace
r_const
r_char
op_star
id|prompt
op_assign
id|menu_get_prompt
c_func
(paren
id|menu
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|prop-&gt;type
)paren
(brace
r_case
id|P_MENU
suffix:colon
id|child_count
op_increment
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;m%p&quot;
comma
id|menu
)paren
suffix:semicolon
r_if
c_cond
(paren
id|single_menu_mode
)paren
(brace
id|cprint1
c_func
(paren
l_string|&quot;%s%*c%s&quot;
comma
id|menu-&gt;data
ques
c_cond
l_string|&quot;--&gt;&quot;
suffix:colon
l_string|&quot;++&gt;&quot;
comma
id|indent
op_plus
l_int|1
comma
l_char|&squot; &squot;
comma
id|prompt
)paren
suffix:semicolon
)brace
r_else
id|cprint1
c_func
(paren
l_string|&quot;   %*c%s  ---&gt;&quot;
comma
id|indent
op_plus
l_int|1
comma
l_char|&squot; &squot;
comma
id|prompt
)paren
suffix:semicolon
id|cprint_done
c_func
(paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|single_menu_mode
op_logical_and
id|menu-&gt;data
)paren
r_goto
id|conf_childs
suffix:semicolon
r_return
suffix:semicolon
r_default
suffix:colon
(brace
)brace
r_if
c_cond
(paren
id|prompt
)paren
(brace
id|child_count
op_increment
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;:%p&quot;
comma
id|menu
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;---%*c%s&quot;
comma
id|indent
op_plus
l_int|1
comma
l_char|&squot; &squot;
comma
id|prompt
)paren
suffix:semicolon
)brace
)brace
)brace
r_else
id|doint
op_assign
l_int|0
suffix:semicolon
r_goto
id|conf_childs
suffix:semicolon
)brace
id|type
op_assign
id|sym_get_type
c_func
(paren
id|sym
)paren
suffix:semicolon
r_if
c_cond
(paren
id|sym_is_choice
c_func
(paren
id|sym
)paren
)paren
(brace
r_struct
id|symbol
op_star
id|def_sym
op_assign
id|sym_get_choice_value
c_func
(paren
id|sym
)paren
suffix:semicolon
r_struct
id|menu
op_star
id|def_menu
op_assign
l_int|NULL
suffix:semicolon
id|child_count
op_increment
suffix:semicolon
r_for
c_loop
(paren
id|child
op_assign
id|menu-&gt;list
suffix:semicolon
id|child
suffix:semicolon
id|child
op_assign
id|child-&gt;next
)paren
(brace
r_if
c_cond
(paren
id|menu_is_visible
c_func
(paren
id|child
)paren
op_logical_and
id|child-&gt;sym
op_eq
id|def_sym
)paren
id|def_menu
op_assign
id|child
suffix:semicolon
)brace
id|val
op_assign
id|sym_get_tristate_value
c_func
(paren
id|sym
)paren
suffix:semicolon
r_if
c_cond
(paren
id|sym_is_changable
c_func
(paren
id|sym
)paren
)paren
(brace
id|cprint
c_func
(paren
l_string|&quot;t%p&quot;
comma
id|menu
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|type
)paren
(brace
r_case
id|S_BOOLEAN
suffix:colon
id|cprint1
c_func
(paren
l_string|&quot;[%c]&quot;
comma
id|val
op_eq
id|no
ques
c_cond
l_char|&squot; &squot;
suffix:colon
l_char|&squot;*&squot;
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|S_TRISTATE
suffix:colon
r_switch
c_cond
(paren
id|val
)paren
(brace
r_case
id|yes
suffix:colon
id|ch
op_assign
l_char|&squot;*&squot;
suffix:semicolon
r_break
suffix:semicolon
r_case
id|mod
suffix:colon
id|ch
op_assign
l_char|&squot;M&squot;
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
id|ch
op_assign
l_char|&squot; &squot;
suffix:semicolon
r_break
suffix:semicolon
)brace
id|cprint1
c_func
(paren
l_string|&quot;&lt;%c&gt;&quot;
comma
id|ch
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
)brace
r_else
(brace
id|cprint
c_func
(paren
l_string|&quot;%c%p&quot;
comma
id|def_menu
ques
c_cond
l_char|&squot;t&squot;
suffix:colon
l_char|&squot;:&squot;
comma
id|menu
)paren
suffix:semicolon
id|cprint1
c_func
(paren
l_string|&quot;   &quot;
)paren
suffix:semicolon
)brace
id|cprint1
c_func
(paren
l_string|&quot;%*c%s&quot;
comma
id|indent
op_plus
l_int|1
comma
l_char|&squot; &squot;
comma
id|menu_get_prompt
c_func
(paren
id|menu
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|val
op_eq
id|yes
)paren
(brace
r_if
c_cond
(paren
id|def_menu
)paren
(brace
id|cprint1
c_func
(paren
l_string|&quot; (%s)&quot;
comma
id|menu_get_prompt
c_func
(paren
id|def_menu
)paren
)paren
suffix:semicolon
id|cprint1
c_func
(paren
l_string|&quot;  ---&gt;&quot;
)paren
suffix:semicolon
id|cprint_done
c_func
(paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|def_menu-&gt;list
)paren
(brace
id|indent
op_add_assign
l_int|2
suffix:semicolon
id|build_conf
c_func
(paren
id|def_menu
)paren
suffix:semicolon
id|indent
op_sub_assign
l_int|2
suffix:semicolon
)brace
)brace
r_else
id|cprint_done
c_func
(paren
)paren
suffix:semicolon
r_return
suffix:semicolon
)brace
id|cprint_done
c_func
(paren
)paren
suffix:semicolon
)brace
r_else
(brace
r_if
c_cond
(paren
id|menu
op_eq
id|current_menu
)paren
(brace
id|cprint
c_func
(paren
l_string|&quot;:%p&quot;
comma
id|menu
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;---%*c%s&quot;
comma
id|indent
op_plus
l_int|1
comma
l_char|&squot; &squot;
comma
id|menu_get_prompt
c_func
(paren
id|menu
)paren
)paren
suffix:semicolon
r_goto
id|conf_childs
suffix:semicolon
)brace
id|child_count
op_increment
suffix:semicolon
id|val
op_assign
id|sym_get_tristate_value
c_func
(paren
id|sym
)paren
suffix:semicolon
r_if
c_cond
(paren
id|sym_is_choice_value
c_func
(paren
id|sym
)paren
op_logical_and
id|val
op_eq
id|yes
)paren
(brace
id|cprint
c_func
(paren
l_string|&quot;:%p&quot;
comma
id|menu
)paren
suffix:semicolon
id|cprint1
c_func
(paren
l_string|&quot;   &quot;
)paren
suffix:semicolon
)brace
r_else
(brace
r_switch
c_cond
(paren
id|type
)paren
(brace
r_case
id|S_BOOLEAN
suffix:colon
id|cprint
c_func
(paren
l_string|&quot;t%p&quot;
comma
id|menu
)paren
suffix:semicolon
r_if
c_cond
(paren
id|sym_is_changable
c_func
(paren
id|sym
)paren
)paren
id|cprint1
c_func
(paren
l_string|&quot;[%c]&quot;
comma
id|val
op_eq
id|no
ques
c_cond
l_char|&squot; &squot;
suffix:colon
l_char|&squot;*&squot;
)paren
suffix:semicolon
r_else
id|cprint1
c_func
(paren
l_string|&quot;---&quot;
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|S_TRISTATE
suffix:colon
id|cprint
c_func
(paren
l_string|&quot;t%p&quot;
comma
id|menu
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|val
)paren
(brace
r_case
id|yes
suffix:colon
id|ch
op_assign
l_char|&squot;*&squot;
suffix:semicolon
r_break
suffix:semicolon
r_case
id|mod
suffix:colon
id|ch
op_assign
l_char|&squot;M&squot;
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
id|ch
op_assign
l_char|&squot; &squot;
suffix:semicolon
r_break
suffix:semicolon
)brace
r_if
c_cond
(paren
id|sym_is_changable
c_func
(paren
id|sym
)paren
)paren
id|cprint1
c_func
(paren
l_string|&quot;&lt;%c&gt;&quot;
comma
id|ch
)paren
suffix:semicolon
r_else
id|cprint1
c_func
(paren
l_string|&quot;---&quot;
)paren
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
id|cprint
c_func
(paren
l_string|&quot;s%p&quot;
comma
id|menu
)paren
suffix:semicolon
id|tmp
op_assign
id|cprint1
c_func
(paren
l_string|&quot;(%s)&quot;
comma
id|sym_get_string_value
c_func
(paren
id|sym
)paren
)paren
suffix:semicolon
id|tmp
op_assign
id|indent
op_minus
id|tmp
op_plus
l_int|4
suffix:semicolon
r_if
c_cond
(paren
id|tmp
OL
l_int|0
)paren
id|tmp
op_assign
l_int|0
suffix:semicolon
id|cprint1
c_func
(paren
l_string|&quot;%*c%s%s&quot;
comma
id|tmp
comma
l_char|&squot; &squot;
comma
id|menu_get_prompt
c_func
(paren
id|menu
)paren
comma
(paren
id|sym_has_value
c_func
(paren
id|sym
)paren
op_logical_or
op_logical_neg
id|sym_is_changable
c_func
(paren
id|sym
)paren
)paren
ques
c_cond
l_string|&quot;&quot;
suffix:colon
l_string|&quot; (NEW)&quot;
)paren
suffix:semicolon
id|cprint_done
c_func
(paren
)paren
suffix:semicolon
r_goto
id|conf_childs
suffix:semicolon
)brace
)brace
id|cprint1
c_func
(paren
l_string|&quot;%*c%s%s&quot;
comma
id|indent
op_plus
l_int|1
comma
l_char|&squot; &squot;
comma
id|menu_get_prompt
c_func
(paren
id|menu
)paren
comma
(paren
id|sym_has_value
c_func
(paren
id|sym
)paren
op_logical_or
op_logical_neg
id|sym_is_changable
c_func
(paren
id|sym
)paren
)paren
ques
c_cond
l_string|&quot;&quot;
suffix:colon
l_string|&quot; (NEW)&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|menu-&gt;prompt-&gt;type
op_eq
id|P_MENU
)paren
(brace
id|cprint1
c_func
(paren
l_string|&quot;  ---&gt;&quot;
)paren
suffix:semicolon
id|cprint_done
c_func
(paren
)paren
suffix:semicolon
r_return
suffix:semicolon
)brace
id|cprint_done
c_func
(paren
)paren
suffix:semicolon
)brace
id|conf_childs
suffix:colon
id|indent
op_add_assign
id|doint
suffix:semicolon
r_for
c_loop
(paren
id|child
op_assign
id|menu-&gt;list
suffix:semicolon
id|child
suffix:semicolon
id|child
op_assign
id|child-&gt;next
)paren
id|build_conf
c_func
(paren
id|child
)paren
suffix:semicolon
id|indent
op_sub_assign
id|doint
suffix:semicolon
)brace
DECL|function|conf
r_static
r_void
id|conf
c_func
(paren
r_struct
id|menu
op_star
id|menu
)paren
(brace
r_struct
id|menu
op_star
id|submenu
suffix:semicolon
r_const
r_char
op_star
id|prompt
op_assign
id|menu_get_prompt
c_func
(paren
id|menu
)paren
suffix:semicolon
r_struct
id|symbol
op_star
id|sym
suffix:semicolon
r_char
id|active_entry
(braket
l_int|40
)braket
suffix:semicolon
r_int
id|stat
comma
id|type
comma
id|i
suffix:semicolon
id|unlink
c_func
(paren
l_string|&quot;lxdialog.scrltmp&quot;
)paren
suffix:semicolon
id|active_entry
(braket
l_int|0
)braket
op_assign
l_int|0
suffix:semicolon
r_while
c_loop
(paren
l_int|1
)paren
(brace
id|cprint_init
c_func
(paren
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;--title&quot;
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;%s&quot;
comma
id|prompt
ques
c_cond
id|prompt
suffix:colon
l_string|&quot;Main Menu&quot;
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;--menu&quot;
)paren
suffix:semicolon
id|cprint
c_func
(paren
id|menu_instructions
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;%d&quot;
comma
id|rows
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;%d&quot;
comma
id|cols
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;%d&quot;
comma
id|rows
op_minus
l_int|10
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;%s&quot;
comma
id|active_entry
)paren
suffix:semicolon
id|current_menu
op_assign
id|menu
suffix:semicolon
id|build_conf
c_func
(paren
id|menu
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|child_count
)paren
r_break
suffix:semicolon
r_if
c_cond
(paren
id|menu
op_eq
op_amp
id|rootmenu
)paren
(brace
id|cprint
c_func
(paren
l_string|&quot;:&quot;
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;--- &quot;
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;L&quot;
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;    Load an Alternate Configuration File&quot;
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;S&quot;
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;    Save Configuration to an Alternate File&quot;
)paren
suffix:semicolon
)brace
id|stat
op_assign
id|exec_conf
c_func
(paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|stat
OL
l_int|0
)paren
r_continue
suffix:semicolon
r_if
c_cond
(paren
id|stat
op_eq
l_int|1
op_logical_or
id|stat
op_eq
l_int|255
)paren
r_break
suffix:semicolon
id|type
op_assign
id|input_buf
(braket
l_int|0
)braket
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|type
)paren
r_continue
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|input_buf
(braket
id|i
)braket
op_logical_and
op_logical_neg
id|isspace
c_func
(paren
id|input_buf
(braket
id|i
)braket
)paren
suffix:semicolon
id|i
op_increment
)paren
suffix:semicolon
r_if
c_cond
(paren
id|i
op_ge
r_sizeof
(paren
id|active_entry
)paren
)paren
id|i
op_assign
r_sizeof
(paren
id|active_entry
)paren
op_minus
l_int|1
suffix:semicolon
id|input_buf
(braket
id|i
)braket
op_assign
l_int|0
suffix:semicolon
id|strcpy
c_func
(paren
id|active_entry
comma
id|input_buf
)paren
suffix:semicolon
id|sym
op_assign
l_int|NULL
suffix:semicolon
id|submenu
op_assign
l_int|NULL
suffix:semicolon
r_if
c_cond
(paren
id|sscanf
c_func
(paren
id|input_buf
op_plus
l_int|1
comma
l_string|&quot;%p&quot;
comma
op_amp
id|submenu
)paren
op_eq
l_int|1
)paren
id|sym
op_assign
id|submenu-&gt;sym
suffix:semicolon
r_switch
c_cond
(paren
id|stat
)paren
(brace
r_case
l_int|0
suffix:colon
r_switch
c_cond
(paren
id|type
)paren
(brace
r_case
l_char|&squot;m&squot;
suffix:colon
r_if
c_cond
(paren
id|single_menu_mode
)paren
id|submenu-&gt;data
op_assign
(paren
r_void
op_star
)paren
(paren
r_int
)paren
op_logical_neg
id|submenu-&gt;data
suffix:semicolon
r_else
id|conf
c_func
(paren
id|submenu
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_char|&squot;t&squot;
suffix:colon
r_if
c_cond
(paren
id|sym_is_choice
c_func
(paren
id|sym
)paren
op_logical_and
id|sym_get_tristate_value
c_func
(paren
id|sym
)paren
op_eq
id|yes
)paren
id|conf_choice
c_func
(paren
id|submenu
)paren
suffix:semicolon
r_else
r_if
c_cond
(paren
id|submenu-&gt;prompt-&gt;type
op_eq
id|P_MENU
)paren
id|conf
c_func
(paren
id|submenu
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_char|&squot;s&squot;
suffix:colon
id|conf_string
c_func
(paren
id|submenu
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_char|&squot;L&squot;
suffix:colon
id|conf_load
c_func
(paren
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_char|&squot;S&squot;
suffix:colon
id|conf_save
c_func
(paren
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
r_break
suffix:semicolon
r_case
l_int|2
suffix:colon
r_if
c_cond
(paren
id|sym
)paren
id|show_help
c_func
(paren
id|submenu
)paren
suffix:semicolon
r_else
id|show_helptext
c_func
(paren
l_string|&quot;README&quot;
comma
id|mconf_readme
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|3
suffix:colon
r_if
c_cond
(paren
id|type
op_eq
l_char|&squot;t&squot;
)paren
(brace
r_if
c_cond
(paren
id|sym_set_tristate_value
c_func
(paren
id|sym
comma
id|yes
)paren
)paren
r_break
suffix:semicolon
r_if
c_cond
(paren
id|sym_set_tristate_value
c_func
(paren
id|sym
comma
id|mod
)paren
)paren
id|show_textbox
c_func
(paren
l_int|NULL
comma
id|setmod_text
comma
l_int|6
comma
l_int|74
)paren
suffix:semicolon
)brace
r_break
suffix:semicolon
r_case
l_int|4
suffix:colon
r_if
c_cond
(paren
id|type
op_eq
l_char|&squot;t&squot;
)paren
id|sym_set_tristate_value
c_func
(paren
id|sym
comma
id|no
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|5
suffix:colon
r_if
c_cond
(paren
id|type
op_eq
l_char|&squot;t&squot;
)paren
id|sym_set_tristate_value
c_func
(paren
id|sym
comma
id|mod
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|6
suffix:colon
r_if
c_cond
(paren
id|type
op_eq
l_char|&squot;t&squot;
)paren
id|sym_toggle_tristate_value
c_func
(paren
id|sym
)paren
suffix:semicolon
r_else
r_if
c_cond
(paren
id|type
op_eq
l_char|&squot;m&squot;
)paren
id|conf
c_func
(paren
id|submenu
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|7
suffix:colon
id|search_conf
c_func
(paren
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
)brace
)brace
DECL|function|show_textbox
r_static
r_void
id|show_textbox
c_func
(paren
r_const
r_char
op_star
id|title
comma
r_const
r_char
op_star
id|text
comma
r_int
id|r
comma
r_int
id|c
)paren
(brace
r_int
id|fd
suffix:semicolon
id|fd
op_assign
id|creat
c_func
(paren
l_string|&quot;.help.tmp&quot;
comma
l_int|0777
)paren
suffix:semicolon
id|write
c_func
(paren
id|fd
comma
id|text
comma
id|strlen
c_func
(paren
id|text
)paren
)paren
suffix:semicolon
id|close
c_func
(paren
id|fd
)paren
suffix:semicolon
id|show_file
c_func
(paren
l_string|&quot;.help.tmp&quot;
comma
id|title
comma
id|r
comma
id|c
)paren
suffix:semicolon
id|unlink
c_func
(paren
l_string|&quot;.help.tmp&quot;
)paren
suffix:semicolon
)brace
DECL|function|show_helptext
r_static
r_void
id|show_helptext
c_func
(paren
r_const
r_char
op_star
id|title
comma
r_const
r_char
op_star
id|text
)paren
(brace
id|show_textbox
c_func
(paren
id|title
comma
id|text
comma
l_int|0
comma
l_int|0
)paren
suffix:semicolon
)brace
DECL|function|show_help
r_static
r_void
id|show_help
c_func
(paren
r_struct
id|menu
op_star
id|menu
)paren
(brace
r_struct
id|gstr
id|help
op_assign
id|str_new
c_func
(paren
)paren
suffix:semicolon
r_struct
id|symbol
op_star
id|sym
op_assign
id|menu-&gt;sym
suffix:semicolon
r_if
c_cond
(paren
id|sym-&gt;help
)paren
(brace
r_if
c_cond
(paren
id|sym-&gt;name
)paren
(brace
id|str_printf
c_func
(paren
op_amp
id|help
comma
l_string|&quot;CONFIG_%s:&bslash;n&bslash;n&quot;
comma
id|sym-&gt;name
)paren
suffix:semicolon
id|str_append
c_func
(paren
op_amp
id|help
comma
id|sym-&gt;help
)paren
suffix:semicolon
id|str_append
c_func
(paren
op_amp
id|help
comma
l_string|&quot;&bslash;n&quot;
)paren
suffix:semicolon
)brace
)brace
r_else
(brace
id|str_append
c_func
(paren
op_amp
id|help
comma
id|nohelp_text
)paren
suffix:semicolon
)brace
id|get_symbol_str
c_func
(paren
op_amp
id|help
comma
id|sym
)paren
suffix:semicolon
id|show_helptext
c_func
(paren
id|menu_get_prompt
c_func
(paren
id|menu
)paren
comma
id|str_get
c_func
(paren
op_amp
id|help
)paren
)paren
suffix:semicolon
id|str_free
c_func
(paren
op_amp
id|help
)paren
suffix:semicolon
)brace
DECL|function|show_file
r_static
r_void
id|show_file
c_func
(paren
r_const
r_char
op_star
id|filename
comma
r_const
r_char
op_star
id|title
comma
r_int
id|r
comma
r_int
id|c
)paren
(brace
r_do
(brace
id|cprint_init
c_func
(paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|title
)paren
(brace
id|cprint
c_func
(paren
l_string|&quot;--title&quot;
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;%s&quot;
comma
id|title
)paren
suffix:semicolon
)brace
id|cprint
c_func
(paren
l_string|&quot;--textbox&quot;
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;%s&quot;
comma
id|filename
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;%d&quot;
comma
id|r
ques
c_cond
id|r
suffix:colon
id|rows
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;%d&quot;
comma
id|c
ques
c_cond
id|c
suffix:colon
id|cols
)paren
suffix:semicolon
)brace
r_while
c_loop
(paren
id|exec_conf
c_func
(paren
)paren
OL
l_int|0
)paren
suffix:semicolon
)brace
DECL|function|conf_choice
r_static
r_void
id|conf_choice
c_func
(paren
r_struct
id|menu
op_star
id|menu
)paren
(brace
r_const
r_char
op_star
id|prompt
op_assign
id|menu_get_prompt
c_func
(paren
id|menu
)paren
suffix:semicolon
r_struct
id|menu
op_star
id|child
suffix:semicolon
r_struct
id|symbol
op_star
id|active
suffix:semicolon
r_int
id|stat
suffix:semicolon
id|active
op_assign
id|sym_get_choice_value
c_func
(paren
id|menu-&gt;sym
)paren
suffix:semicolon
r_while
c_loop
(paren
l_int|1
)paren
(brace
id|cprint_init
c_func
(paren
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;--title&quot;
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;%s&quot;
comma
id|prompt
ques
c_cond
id|prompt
suffix:colon
l_string|&quot;Main Menu&quot;
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;--radiolist&quot;
)paren
suffix:semicolon
id|cprint
c_func
(paren
id|radiolist_instructions
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;15&quot;
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;70&quot;
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;6&quot;
)paren
suffix:semicolon
id|current_menu
op_assign
id|menu
suffix:semicolon
r_for
c_loop
(paren
id|child
op_assign
id|menu-&gt;list
suffix:semicolon
id|child
suffix:semicolon
id|child
op_assign
id|child-&gt;next
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
id|menu_is_visible
c_func
(paren
id|child
)paren
)paren
r_continue
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;%p&quot;
comma
id|child
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;%s&quot;
comma
id|menu_get_prompt
c_func
(paren
id|child
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|child-&gt;sym
op_eq
id|sym_get_choice_value
c_func
(paren
id|menu-&gt;sym
)paren
)paren
id|cprint
c_func
(paren
l_string|&quot;ON&quot;
)paren
suffix:semicolon
r_else
r_if
c_cond
(paren
id|child-&gt;sym
op_eq
id|active
)paren
id|cprint
c_func
(paren
l_string|&quot;SELECTED&quot;
)paren
suffix:semicolon
r_else
id|cprint
c_func
(paren
l_string|&quot;OFF&quot;
)paren
suffix:semicolon
)brace
id|stat
op_assign
id|exec_conf
c_func
(paren
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|stat
)paren
(brace
r_case
l_int|0
suffix:colon
r_if
c_cond
(paren
id|sscanf
c_func
(paren
id|input_buf
comma
l_string|&quot;%p&quot;
comma
op_amp
id|child
)paren
op_ne
l_int|1
)paren
r_break
suffix:semicolon
id|sym_set_tristate_value
c_func
(paren
id|child-&gt;sym
comma
id|yes
)paren
suffix:semicolon
r_return
suffix:semicolon
r_case
l_int|1
suffix:colon
r_if
c_cond
(paren
id|sscanf
c_func
(paren
id|input_buf
comma
l_string|&quot;%p&quot;
comma
op_amp
id|child
)paren
op_eq
l_int|1
)paren
(brace
id|show_help
c_func
(paren
id|child
)paren
suffix:semicolon
id|active
op_assign
id|child-&gt;sym
suffix:semicolon
)brace
r_else
id|show_help
c_func
(paren
id|menu
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|255
suffix:colon
r_return
suffix:semicolon
)brace
)brace
)brace
DECL|function|conf_string
r_static
r_void
id|conf_string
c_func
(paren
r_struct
id|menu
op_star
id|menu
)paren
(brace
r_const
r_char
op_star
id|prompt
op_assign
id|menu_get_prompt
c_func
(paren
id|menu
)paren
suffix:semicolon
r_int
id|stat
suffix:semicolon
r_while
c_loop
(paren
l_int|1
)paren
(brace
id|cprint_init
c_func
(paren
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;--title&quot;
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;%s&quot;
comma
id|prompt
ques
c_cond
id|prompt
suffix:colon
l_string|&quot;Main Menu&quot;
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;--inputbox&quot;
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|sym_get_type
c_func
(paren
id|menu-&gt;sym
)paren
)paren
(brace
r_case
id|S_INT
suffix:colon
id|cprint
c_func
(paren
id|inputbox_instructions_int
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|S_HEX
suffix:colon
id|cprint
c_func
(paren
id|inputbox_instructions_hex
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|S_STRING
suffix:colon
id|cprint
c_func
(paren
id|inputbox_instructions_string
)paren
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
multiline_comment|/* panic? */
suffix:semicolon
)brace
id|cprint
c_func
(paren
l_string|&quot;10&quot;
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;75&quot;
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;%s&quot;
comma
id|sym_get_string_value
c_func
(paren
id|menu-&gt;sym
)paren
)paren
suffix:semicolon
id|stat
op_assign
id|exec_conf
c_func
(paren
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|stat
)paren
(brace
r_case
l_int|0
suffix:colon
r_if
c_cond
(paren
id|sym_set_string_value
c_func
(paren
id|menu-&gt;sym
comma
id|input_buf
)paren
)paren
r_return
suffix:semicolon
id|show_textbox
c_func
(paren
l_int|NULL
comma
l_string|&quot;You have made an invalid entry.&quot;
comma
l_int|5
comma
l_int|43
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|1
suffix:colon
id|show_help
c_func
(paren
id|menu
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|255
suffix:colon
r_return
suffix:semicolon
)brace
)brace
)brace
DECL|function|conf_load
r_static
r_void
id|conf_load
c_func
(paren
r_void
)paren
(brace
r_int
id|stat
suffix:semicolon
r_while
c_loop
(paren
l_int|1
)paren
(brace
id|cprint_init
c_func
(paren
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;--inputbox&quot;
)paren
suffix:semicolon
id|cprint
c_func
(paren
id|load_config_text
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;11&quot;
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;55&quot;
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;%s&quot;
comma
id|filename
)paren
suffix:semicolon
id|stat
op_assign
id|exec_conf
c_func
(paren
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|stat
)paren
(brace
r_case
l_int|0
suffix:colon
r_if
c_cond
(paren
op_logical_neg
id|input_buf
(braket
l_int|0
)braket
)paren
r_return
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|conf_read
c_func
(paren
id|input_buf
)paren
)paren
r_return
suffix:semicolon
id|show_textbox
c_func
(paren
l_int|NULL
comma
l_string|&quot;File does not exist!&quot;
comma
l_int|5
comma
l_int|38
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|1
suffix:colon
id|show_helptext
c_func
(paren
l_string|&quot;Load Alternate Configuration&quot;
comma
id|load_config_help
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|255
suffix:colon
r_return
suffix:semicolon
)brace
)brace
)brace
DECL|function|conf_save
r_static
r_void
id|conf_save
c_func
(paren
r_void
)paren
(brace
r_int
id|stat
suffix:semicolon
r_while
c_loop
(paren
l_int|1
)paren
(brace
id|cprint_init
c_func
(paren
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;--inputbox&quot;
)paren
suffix:semicolon
id|cprint
c_func
(paren
id|save_config_text
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;11&quot;
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;55&quot;
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;%s&quot;
comma
id|filename
)paren
suffix:semicolon
id|stat
op_assign
id|exec_conf
c_func
(paren
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|stat
)paren
(brace
r_case
l_int|0
suffix:colon
r_if
c_cond
(paren
op_logical_neg
id|input_buf
(braket
l_int|0
)braket
)paren
r_return
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|conf_write
c_func
(paren
id|input_buf
)paren
)paren
r_return
suffix:semicolon
id|show_textbox
c_func
(paren
l_int|NULL
comma
l_string|&quot;Can&squot;t create file!  Probably a nonexistent directory.&quot;
comma
l_int|5
comma
l_int|60
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|1
suffix:colon
id|show_helptext
c_func
(paren
l_string|&quot;Save Alternate Configuration&quot;
comma
id|save_config_help
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|255
suffix:colon
r_return
suffix:semicolon
)brace
)brace
)brace
DECL|function|conf_cleanup
r_static
r_void
id|conf_cleanup
c_func
(paren
r_void
)paren
(brace
id|tcsetattr
c_func
(paren
l_int|1
comma
id|TCSAFLUSH
comma
op_amp
id|ios_org
)paren
suffix:semicolon
id|unlink
c_func
(paren
l_string|&quot;.help.tmp&quot;
)paren
suffix:semicolon
id|unlink
c_func
(paren
l_string|&quot;lxdialog.scrltmp&quot;
)paren
suffix:semicolon
)brace
DECL|function|main
r_int
id|main
c_func
(paren
r_int
id|ac
comma
r_char
op_star
op_star
id|av
)paren
(brace
r_struct
id|symbol
op_star
id|sym
suffix:semicolon
r_char
op_star
id|mode
suffix:semicolon
r_int
id|stat
suffix:semicolon
id|conf_parse
c_func
(paren
id|av
(braket
l_int|1
)braket
)paren
suffix:semicolon
id|conf_read
c_func
(paren
l_int|NULL
)paren
suffix:semicolon
id|sym
op_assign
id|sym_lookup
c_func
(paren
l_string|&quot;KERNELRELEASE&quot;
comma
l_int|0
)paren
suffix:semicolon
id|sym_calc_value
c_func
(paren
id|sym
)paren
suffix:semicolon
id|sprintf
c_func
(paren
id|menu_backtitle
comma
l_string|&quot;Linux Kernel v%s Configuration&quot;
comma
id|sym_get_string_value
c_func
(paren
id|sym
)paren
)paren
suffix:semicolon
id|mode
op_assign
id|getenv
c_func
(paren
l_string|&quot;MENUCONFIG_MODE&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|mode
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
id|strcasecmp
c_func
(paren
id|mode
comma
l_string|&quot;single_menu&quot;
)paren
)paren
id|single_menu_mode
op_assign
l_int|1
suffix:semicolon
)brace
id|tcgetattr
c_func
(paren
l_int|1
comma
op_amp
id|ios_org
)paren
suffix:semicolon
id|atexit
c_func
(paren
id|conf_cleanup
)paren
suffix:semicolon
id|init_wsize
c_func
(paren
)paren
suffix:semicolon
id|conf
c_func
(paren
op_amp
id|rootmenu
)paren
suffix:semicolon
r_do
(brace
id|cprint_init
c_func
(paren
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;--yesno&quot;
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;Do you wish to save your new kernel configuration?&quot;
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;5&quot;
)paren
suffix:semicolon
id|cprint
c_func
(paren
l_string|&quot;60&quot;
)paren
suffix:semicolon
id|stat
op_assign
id|exec_conf
c_func
(paren
)paren
suffix:semicolon
)brace
r_while
c_loop
(paren
id|stat
OL
l_int|0
)paren
suffix:semicolon
r_if
c_cond
(paren
id|stat
op_eq
l_int|0
)paren
(brace
r_if
c_cond
(paren
id|conf_write
c_func
(paren
l_int|NULL
)paren
)paren
(brace
id|fprintf
c_func
(paren
id|stderr
comma
l_string|&quot;&bslash;n&bslash;n&quot;
l_string|&quot;Error during writing of the kernel configuration.&bslash;n&quot;
l_string|&quot;Your kernel configuration changes were NOT saved.&quot;
l_string|&quot;&bslash;n&bslash;n&quot;
)paren
suffix:semicolon
r_return
l_int|1
suffix:semicolon
)brace
id|printf
c_func
(paren
l_string|&quot;&bslash;n&bslash;n&quot;
l_string|&quot;*** End of Linux kernel configuration.&bslash;n&quot;
l_string|&quot;*** Execute &squot;make&squot; to build the kernel or try &squot;make help&squot;.&quot;
l_string|&quot;&bslash;n&bslash;n&quot;
)paren
suffix:semicolon
)brace
r_else
(brace
id|fprintf
c_func
(paren
id|stderr
comma
l_string|&quot;&bslash;n&bslash;n&quot;
l_string|&quot;Your kernel configuration changes were NOT saved.&quot;
l_string|&quot;&bslash;n&bslash;n&quot;
)paren
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
eof
