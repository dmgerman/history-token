multiline_comment|/*&n; * attrib.h - Defines for attribute handling in NTFS Linux kernel driver.&n; *&t;      Part of the Linux-NTFS project.&n; *&n; * Copyright (c) 2001-2004 Anton Altaparmakov&n; * Copyright (c) 2002 Richard Russon&n; *&n; * This program/include file is free software; you can redistribute it and/or&n; * modify it under the terms of the GNU General Public License as published&n; * by the Free Software Foundation; either version 2 of the License, or&n; * (at your option) any later version.&n; *&n; * This program/include file is distributed in the hope that it will be&n; * useful, but WITHOUT ANY WARRANTY; without even the implied warranty&n; * of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the&n; * GNU General Public License for more details.&n; *&n; * You should have received a copy of the GNU General Public License&n; * along with this program (in the main directory of the Linux-NTFS&n; * distribution in the file COPYING); if not, write to the Free Software&n; * Foundation,Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA&n; */
macro_line|#ifndef _LINUX_NTFS_ATTRIB_H
DECL|macro|_LINUX_NTFS_ATTRIB_H
mdefine_line|#define _LINUX_NTFS_ATTRIB_H
macro_line|#include &quot;endian.h&quot;
macro_line|#include &quot;types.h&quot;
macro_line|#include &quot;layout.h&quot;
macro_line|#include &quot;inode.h&quot;
macro_line|#include &quot;runlist.h&quot;
multiline_comment|/**&n; * ntfs_attr_search_ctx - used in attribute search functions&n; * @mrec:&t;buffer containing mft record to search&n; * @attr:&t;attribute record in @mrec where to begin/continue search&n; * @is_first:&t;if true ntfs_attr_lookup() begins search with @attr, else after&n; *&n; * Structure must be initialized to zero before the first call to one of the&n; * attribute search functions. Initialize @mrec to point to the mft record to&n; * search, and @attr to point to the first attribute within @mrec (not necessary&n; * if calling the _first() functions), and set @is_first to TRUE (not necessary&n; * if calling the _first() functions).&n; *&n; * If @is_first is TRUE, the search begins with @attr. If @is_first is FALSE,&n; * the search begins after @attr. This is so that, after the first call to one&n; * of the search attribute functions, we can call the function again, without&n; * any modification of the search context, to automagically get the next&n; * matching attribute.&n; */
r_typedef
r_struct
(brace
DECL|member|mrec
id|MFT_RECORD
op_star
id|mrec
suffix:semicolon
DECL|member|attr
id|ATTR_RECORD
op_star
id|attr
suffix:semicolon
DECL|member|is_first
id|BOOL
id|is_first
suffix:semicolon
DECL|member|ntfs_ino
id|ntfs_inode
op_star
id|ntfs_ino
suffix:semicolon
DECL|member|al_entry
id|ATTR_LIST_ENTRY
op_star
id|al_entry
suffix:semicolon
DECL|member|base_ntfs_ino
id|ntfs_inode
op_star
id|base_ntfs_ino
suffix:semicolon
DECL|member|base_mrec
id|MFT_RECORD
op_star
id|base_mrec
suffix:semicolon
DECL|member|base_attr
id|ATTR_RECORD
op_star
id|base_attr
suffix:semicolon
DECL|typedef|ntfs_attr_search_ctx
)brace
id|ntfs_attr_search_ctx
suffix:semicolon
r_extern
r_int
id|ntfs_map_runlist
c_func
(paren
id|ntfs_inode
op_star
id|ni
comma
id|VCN
id|vcn
)paren
suffix:semicolon
r_extern
id|runlist_element
op_star
id|ntfs_find_vcn
c_func
(paren
id|ntfs_inode
op_star
id|ni
comma
r_const
id|VCN
id|vcn
comma
r_const
id|BOOL
id|need_write
)paren
suffix:semicolon
r_int
id|ntfs_attr_lookup
c_func
(paren
r_const
id|ATTR_TYPE
id|type
comma
r_const
id|ntfschar
op_star
id|name
comma
r_const
id|u32
id|name_len
comma
r_const
id|IGNORE_CASE_BOOL
id|ic
comma
r_const
id|VCN
id|lowest_vcn
comma
r_const
id|u8
op_star
id|val
comma
r_const
id|u32
id|val_len
comma
id|ntfs_attr_search_ctx
op_star
id|ctx
)paren
suffix:semicolon
r_extern
r_int
id|load_attribute_list
c_func
(paren
id|ntfs_volume
op_star
id|vol
comma
id|runlist
op_star
id|rl
comma
id|u8
op_star
id|al_start
comma
r_const
id|s64
id|size
comma
r_const
id|s64
id|initialized_size
)paren
suffix:semicolon
DECL|function|ntfs_attr_size
r_static
r_inline
id|s64
id|ntfs_attr_size
c_func
(paren
r_const
id|ATTR_RECORD
op_star
id|a
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
id|a-&gt;non_resident
)paren
r_return
(paren
id|s64
)paren
id|le32_to_cpu
c_func
(paren
id|a-&gt;data.resident.value_length
)paren
suffix:semicolon
r_return
id|sle64_to_cpu
c_func
(paren
id|a-&gt;data.non_resident.data_size
)paren
suffix:semicolon
)brace
r_extern
r_void
id|ntfs_attr_reinit_search_ctx
c_func
(paren
id|ntfs_attr_search_ctx
op_star
id|ctx
)paren
suffix:semicolon
r_extern
id|ntfs_attr_search_ctx
op_star
id|ntfs_attr_get_search_ctx
c_func
(paren
id|ntfs_inode
op_star
id|ni
comma
id|MFT_RECORD
op_star
id|mrec
)paren
suffix:semicolon
r_extern
r_void
id|ntfs_attr_put_search_ctx
c_func
(paren
id|ntfs_attr_search_ctx
op_star
id|ctx
)paren
suffix:semicolon
r_extern
r_int
id|ntfs_attr_record_resize
c_func
(paren
id|MFT_RECORD
op_star
id|m
comma
id|ATTR_RECORD
op_star
id|a
comma
id|u32
id|new_size
)paren
suffix:semicolon
macro_line|#endif /* _LINUX_NTFS_ATTRIB_H */
eof
