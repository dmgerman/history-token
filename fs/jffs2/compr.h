multiline_comment|/*&n; * JFFS2 -- Journalling Flash File System, Version 2.&n; *&n; * Copyright (C) 2004 Ferenc Havasi &lt;havasi@inf.u-szeged.hu&gt;,&n; *                    University of Szeged, Hungary&n; *&n; * For licensing information, see the file &squot;LICENCE&squot; in the &n; * jffs2 directory.&n; *&n; * $Id: compr.h,v 1.6 2004/07/16 15:17:57 dwmw2 Exp $&n; *&n; */
macro_line|#ifndef __JFFS2_COMPR_H__
DECL|macro|__JFFS2_COMPR_H__
mdefine_line|#define __JFFS2_COMPR_H__
macro_line|#include &lt;linux/kernel.h&gt;
macro_line|#include &lt;linux/vmalloc.h&gt;
macro_line|#include &lt;linux/list.h&gt;
macro_line|#include &lt;linux/types.h&gt;
macro_line|#include &lt;linux/string.h&gt;
macro_line|#include &lt;linux/slab.h&gt;
macro_line|#include &lt;linux/errno.h&gt;
macro_line|#include &lt;linux/fs.h&gt;
macro_line|#include &lt;linux/jffs2.h&gt;
macro_line|#include &lt;linux/jffs2_fs_i.h&gt;
macro_line|#include &lt;linux/jffs2_fs_sb.h&gt;
macro_line|#include &quot;nodelist.h&quot;
DECL|macro|JFFS2_RUBINMIPS_PRIORITY
mdefine_line|#define JFFS2_RUBINMIPS_PRIORITY 10
DECL|macro|JFFS2_DYNRUBIN_PRIORITY
mdefine_line|#define JFFS2_DYNRUBIN_PRIORITY  20
DECL|macro|JFFS2_LZARI_PRIORITY
mdefine_line|#define JFFS2_LZARI_PRIORITY     30
DECL|macro|JFFS2_LZO_PRIORITY
mdefine_line|#define JFFS2_LZO_PRIORITY       40
DECL|macro|JFFS2_RTIME_PRIORITY
mdefine_line|#define JFFS2_RTIME_PRIORITY     50
DECL|macro|JFFS2_ZLIB_PRIORITY
mdefine_line|#define JFFS2_ZLIB_PRIORITY      60
DECL|macro|JFFS2_RUBINMIPS_DISABLED
mdefine_line|#define JFFS2_RUBINMIPS_DISABLED /* RUBINs will be used only */
DECL|macro|JFFS2_DYNRUBIN_DISABLED
mdefine_line|#define JFFS2_DYNRUBIN_DISABLED  /*        for decompression */
DECL|macro|JFFS2_COMPR_MODE_NONE
mdefine_line|#define JFFS2_COMPR_MODE_NONE       0
DECL|macro|JFFS2_COMPR_MODE_PRIORITY
mdefine_line|#define JFFS2_COMPR_MODE_PRIORITY   1
DECL|macro|JFFS2_COMPR_MODE_SIZE
mdefine_line|#define JFFS2_COMPR_MODE_SIZE       2
DECL|struct|jffs2_compressor
r_struct
id|jffs2_compressor
(brace
DECL|member|list
r_struct
id|list_head
id|list
suffix:semicolon
DECL|member|priority
r_int
id|priority
suffix:semicolon
multiline_comment|/* used by prirority comr. mode */
DECL|member|name
r_char
op_star
id|name
suffix:semicolon
DECL|member|compr
r_char
id|compr
suffix:semicolon
multiline_comment|/* JFFS2_COMPR_XXX */
DECL|member|compress
r_int
(paren
op_star
id|compress
)paren
(paren
r_int
r_char
op_star
id|data_in
comma
r_int
r_char
op_star
id|cpage_out
comma
r_uint32
op_star
id|srclen
comma
r_uint32
op_star
id|destlen
comma
r_void
op_star
id|model
)paren
suffix:semicolon
DECL|member|decompress
r_int
(paren
op_star
id|decompress
)paren
(paren
r_int
r_char
op_star
id|cdata_in
comma
r_int
r_char
op_star
id|data_out
comma
r_uint32
id|cdatalen
comma
r_uint32
id|datalen
comma
r_void
op_star
id|model
)paren
suffix:semicolon
DECL|member|usecount
r_int
id|usecount
suffix:semicolon
DECL|member|disabled
r_int
id|disabled
suffix:semicolon
multiline_comment|/* if seted the compressor won&squot;t compress */
DECL|member|compr_buf
r_int
r_char
op_star
id|compr_buf
suffix:semicolon
multiline_comment|/* used by size compr. mode */
DECL|member|compr_buf_size
r_uint32
id|compr_buf_size
suffix:semicolon
multiline_comment|/* used by size compr. mode */
DECL|member|stat_compr_orig_size
r_uint32
id|stat_compr_orig_size
suffix:semicolon
DECL|member|stat_compr_new_size
r_uint32
id|stat_compr_new_size
suffix:semicolon
DECL|member|stat_compr_blocks
r_uint32
id|stat_compr_blocks
suffix:semicolon
DECL|member|stat_decompr_blocks
r_uint32
id|stat_decompr_blocks
suffix:semicolon
)brace
suffix:semicolon
r_int
id|jffs2_register_compressor
c_func
(paren
r_struct
id|jffs2_compressor
op_star
id|comp
)paren
suffix:semicolon
r_int
id|jffs2_unregister_compressor
c_func
(paren
r_struct
id|jffs2_compressor
op_star
id|comp
)paren
suffix:semicolon
r_int
id|jffs2_compressors_init
c_func
(paren
r_void
)paren
suffix:semicolon
r_int
id|jffs2_compressors_exit
c_func
(paren
r_void
)paren
suffix:semicolon
r_uint16
id|jffs2_compress
c_func
(paren
r_struct
id|jffs2_sb_info
op_star
id|c
comma
r_struct
id|jffs2_inode_info
op_star
id|f
comma
r_int
r_char
op_star
id|data_in
comma
r_int
r_char
op_star
op_star
id|cpage_out
comma
r_uint32
op_star
id|datalen
comma
r_uint32
op_star
id|cdatalen
)paren
suffix:semicolon
r_int
id|jffs2_decompress
c_func
(paren
r_struct
id|jffs2_sb_info
op_star
id|c
comma
r_struct
id|jffs2_inode_info
op_star
id|f
comma
r_uint16
id|comprtype
comma
r_int
r_char
op_star
id|cdata_in
comma
r_int
r_char
op_star
id|data_out
comma
r_uint32
id|cdatalen
comma
r_uint32
id|datalen
)paren
suffix:semicolon
r_void
id|jffs2_free_comprbuf
c_func
(paren
r_int
r_char
op_star
id|comprbuf
comma
r_int
r_char
op_star
id|orig
)paren
suffix:semicolon
macro_line|#ifdef CONFIG_JFFS2_PROC
r_int
id|jffs2_enable_compressor_name
c_func
(paren
r_const
r_char
op_star
id|name
)paren
suffix:semicolon
r_int
id|jffs2_disable_compressor_name
c_func
(paren
r_const
r_char
op_star
id|name
)paren
suffix:semicolon
r_int
id|jffs2_set_compression_mode_name
c_func
(paren
r_const
r_char
op_star
id|mode_name
)paren
suffix:semicolon
r_char
op_star
id|jffs2_get_compression_mode_name
c_func
(paren
r_void
)paren
suffix:semicolon
r_int
id|jffs2_set_compressor_priority
c_func
(paren
r_const
r_char
op_star
id|mode_name
comma
r_int
id|priority
)paren
suffix:semicolon
r_char
op_star
id|jffs2_list_compressors
c_func
(paren
r_void
)paren
suffix:semicolon
r_char
op_star
id|jffs2_stats
c_func
(paren
r_void
)paren
suffix:semicolon
macro_line|#endif
multiline_comment|/* Compressor modules */
multiline_comment|/* These functions will be called by jffs2_compressors_init/exit */
macro_line|#ifdef CONFIG_JFFS2_RUBIN
r_int
id|jffs2_rubinmips_init
c_func
(paren
r_void
)paren
suffix:semicolon
r_void
id|jffs2_rubinmips_exit
c_func
(paren
r_void
)paren
suffix:semicolon
r_int
id|jffs2_dynrubin_init
c_func
(paren
r_void
)paren
suffix:semicolon
r_void
id|jffs2_dynrubin_exit
c_func
(paren
r_void
)paren
suffix:semicolon
macro_line|#endif
macro_line|#ifdef CONFIG_JFFS2_RTIME
r_int
id|jffs2_rtime_init
c_func
(paren
r_void
)paren
suffix:semicolon
r_void
id|jffs2_rtime_exit
c_func
(paren
r_void
)paren
suffix:semicolon
macro_line|#endif
macro_line|#ifdef CONFIG_JFFS2_ZLIB
r_int
id|jffs2_zlib_init
c_func
(paren
r_void
)paren
suffix:semicolon
r_void
id|jffs2_zlib_exit
c_func
(paren
r_void
)paren
suffix:semicolon
macro_line|#endif
macro_line|#ifdef CONFIG_JFFS2_LZARI
r_int
id|jffs2_lzari_init
c_func
(paren
r_void
)paren
suffix:semicolon
r_void
id|jffs2_lzari_exit
c_func
(paren
r_void
)paren
suffix:semicolon
macro_line|#endif
macro_line|#ifdef CONFIG_JFFS2_LZO
r_int
id|jffs2_lzo_init
c_func
(paren
r_void
)paren
suffix:semicolon
r_void
id|jffs2_lzo_exit
c_func
(paren
r_void
)paren
suffix:semicolon
macro_line|#endif
macro_line|#endif /* __JFFS2_COMPR_H__ */
eof
