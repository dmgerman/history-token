multiline_comment|/*&n; * ioctl32.c: Conversion between 32bit and 64bit native ioctls.&n; *&n; * Copyright (C) 1997-2000  Jakub Jelinek  (jakub@redhat.com)&n; * Copyright (C) 1998  Eddie C. Dost  (ecd@skynet.be)&n; * Copyright (C) 2001,2002  Andi Kleen, SuSE Labs &n; * Copyright (C) 2003       Pavel Machek (pavel@suse.cz)&n; *&n; * These routines maintain argument size conversion between 32bit and 64bit&n; * ioctls.&n; */
macro_line|#ifdef INCLUDES
macro_line|#include &lt;linux/config.h&gt;
macro_line|#include &lt;linux/types.h&gt;
macro_line|#include &lt;linux/compat.h&gt;
macro_line|#include &lt;linux/kernel.h&gt;
macro_line|#include &lt;linux/compiler.h&gt;
macro_line|#include &lt;linux/sched.h&gt;
macro_line|#include &lt;linux/smp.h&gt;
macro_line|#include &lt;linux/smp_lock.h&gt;
macro_line|#include &lt;linux/ioctl.h&gt;
macro_line|#include &lt;linux/if.h&gt;
macro_line|#include &lt;linux/if_bridge.h&gt;
macro_line|#include &lt;linux/slab.h&gt;
macro_line|#include &lt;linux/hdreg.h&gt;
macro_line|#include &lt;linux/raid/md.h&gt;
macro_line|#include &lt;linux/kd.h&gt;
macro_line|#include &lt;linux/dirent.h&gt;
macro_line|#include &lt;linux/route.h&gt;
macro_line|#include &lt;linux/in6.h&gt;
macro_line|#include &lt;linux/ipv6_route.h&gt;
macro_line|#include &lt;linux/skbuff.h&gt;
macro_line|#include &lt;linux/netlink.h&gt;
macro_line|#include &lt;linux/vt.h&gt;
macro_line|#include &lt;linux/fs.h&gt;
macro_line|#include &lt;linux/file.h&gt;
macro_line|#include &lt;linux/fd.h&gt;
macro_line|#include &lt;linux/ppp_defs.h&gt;
macro_line|#include &lt;linux/if_ppp.h&gt;
macro_line|#include &lt;linux/if_pppox.h&gt;
macro_line|#include &lt;linux/mtio.h&gt;
macro_line|#include &lt;linux/cdrom.h&gt;
macro_line|#include &lt;linux/loop.h&gt;
macro_line|#include &lt;linux/auto_fs.h&gt;
macro_line|#include &lt;linux/auto_fs4.h&gt;
macro_line|#include &lt;linux/devfs_fs.h&gt;
macro_line|#include &lt;linux/tty.h&gt;
macro_line|#include &lt;linux/vt_kern.h&gt;
macro_line|#include &lt;linux/fb.h&gt;
macro_line|#include &lt;linux/ext2_fs.h&gt;
macro_line|#include &lt;linux/videodev.h&gt;
macro_line|#include &lt;linux/netdevice.h&gt;
macro_line|#include &lt;linux/raw.h&gt;
macro_line|#include &lt;linux/smb_fs.h&gt;
macro_line|#include &lt;linux/blkpg.h&gt;
macro_line|#include &lt;linux/blkdev.h&gt;
macro_line|#include &lt;linux/elevator.h&gt;
macro_line|#include &lt;linux/rtc.h&gt;
macro_line|#include &lt;linux/pci.h&gt;
macro_line|#include &lt;linux/module.h&gt;
macro_line|#include &lt;linux/serial.h&gt;
macro_line|#include &lt;linux/reiserfs_fs.h&gt;
macro_line|#include &lt;linux/if_tun.h&gt;
macro_line|#include &lt;linux/ctype.h&gt;
macro_line|#include &lt;linux/ioctl32.h&gt;
macro_line|#include &lt;linux/syscalls.h&gt;
macro_line|#include &lt;linux/ncp_fs.h&gt;
macro_line|#include &lt;linux/i2c.h&gt;
macro_line|#include &lt;linux/i2c-dev.h&gt;
macro_line|#include &lt;linux/wireless.h&gt;
macro_line|#include &lt;linux/atalk.h&gt;
macro_line|#include &lt;net/sock.h&gt;          /* siocdevprivate_ioctl */
macro_line|#include &lt;net/bluetooth/bluetooth.h&gt;
macro_line|#include &lt;net/bluetooth/hci.h&gt;
macro_line|#include &lt;net/bluetooth/rfcomm.h&gt;
macro_line|#include &lt;linux/capi.h&gt;
macro_line|#include &lt;scsi/scsi.h&gt;
multiline_comment|/* Ugly hack. */
DECL|macro|__KERNEL__
macro_line|#undef __KERNEL__
macro_line|#include &lt;scsi/scsi_ioctl.h&gt;
DECL|macro|__KERNEL__
mdefine_line|#define __KERNEL__
macro_line|#include &lt;scsi/sg.h&gt;
macro_line|#include &lt;asm/types.h&gt;
macro_line|#include &lt;asm/uaccess.h&gt;
macro_line|#include &lt;linux/ethtool.h&gt;
macro_line|#include &lt;linux/mii.h&gt;
macro_line|#include &lt;linux/if_bonding.h&gt;
macro_line|#include &lt;linux/watchdog.h&gt;
macro_line|#include &lt;linux/dm-ioctl.h&gt;
macro_line|#include &lt;asm/module.h&gt;
macro_line|#include &lt;linux/soundcard.h&gt;
macro_line|#include &lt;linux/lp.h&gt;
macro_line|#include &lt;linux/ppdev.h&gt;
macro_line|#include &lt;linux/atm.h&gt;
macro_line|#include &lt;linux/atmarp.h&gt;
macro_line|#include &lt;linux/atmclip.h&gt;
macro_line|#include &lt;linux/atmdev.h&gt;
macro_line|#include &lt;linux/atmioc.h&gt;
macro_line|#include &lt;linux/atmlec.h&gt;
macro_line|#include &lt;linux/atmmpc.h&gt;
macro_line|#include &lt;linux/atmsvc.h&gt;
macro_line|#include &lt;linux/atm_tcp.h&gt;
macro_line|#include &lt;linux/sonet.h&gt;
macro_line|#include &lt;linux/atm_suni.h&gt;
macro_line|#include &lt;linux/mtd/mtd.h&gt;
macro_line|#include &lt;linux/usb.h&gt;
macro_line|#include &lt;linux/usbdevice_fs.h&gt;
macro_line|#include &lt;linux/nbd.h&gt;
macro_line|#include &lt;linux/random.h&gt;
macro_line|#include &lt;linux/filter.h&gt;
macro_line|#include &lt;linux/msdos_fs.h&gt;
macro_line|#include &lt;linux/pktcdvd.h&gt;
macro_line|#include &lt;linux/hiddev.h&gt;
DECL|macro|INCLUDES
macro_line|#undef INCLUDES
macro_line|#endif
macro_line|#ifdef CODE
multiline_comment|/* Aiee. Someone does not find a difference between int and long */
DECL|macro|EXT2_IOC32_GETFLAGS
mdefine_line|#define EXT2_IOC32_GETFLAGS               _IOR(&squot;f&squot;, 1, int)
DECL|macro|EXT2_IOC32_SETFLAGS
mdefine_line|#define EXT2_IOC32_SETFLAGS               _IOW(&squot;f&squot;, 2, int)
DECL|macro|EXT2_IOC32_GETVERSION
mdefine_line|#define EXT2_IOC32_GETVERSION             _IOR(&squot;v&squot;, 1, int)
DECL|macro|EXT2_IOC32_SETVERSION
mdefine_line|#define EXT2_IOC32_SETVERSION             _IOW(&squot;v&squot;, 2, int)
DECL|function|w_long
r_static
r_int
id|w_long
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
r_int
id|err
suffix:semicolon
r_int
r_int
id|val
suffix:semicolon
id|set_fs
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
op_amp
id|val
)paren
suffix:semicolon
id|set_fs
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|err
op_logical_and
id|put_user
c_func
(paren
id|val
comma
(paren
id|u32
id|__user
op_star
)paren
id|compat_ptr
c_func
(paren
id|arg
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_return
id|err
suffix:semicolon
)brace
DECL|function|rw_long
r_static
r_int
id|rw_long
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
id|u32
id|__user
op_star
id|argptr
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
r_int
id|err
suffix:semicolon
r_int
r_int
id|val
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|val
comma
id|argptr
)paren
)paren
(brace
r_return
op_minus
id|EFAULT
suffix:semicolon
)brace
id|set_fs
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
op_amp
id|val
)paren
suffix:semicolon
id|set_fs
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|err
op_logical_and
id|put_user
c_func
(paren
id|val
comma
id|argptr
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_return
id|err
suffix:semicolon
)brace
DECL|function|do_ext2_ioctl
r_static
r_int
id|do_ext2_ioctl
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
multiline_comment|/* These are just misnamed, they actually get/put from/to user an int */
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|EXT2_IOC32_GETFLAGS
suffix:colon
id|cmd
op_assign
id|EXT2_IOC_GETFLAGS
suffix:semicolon
r_break
suffix:semicolon
r_case
id|EXT2_IOC32_SETFLAGS
suffix:colon
id|cmd
op_assign
id|EXT2_IOC_SETFLAGS
suffix:semicolon
r_break
suffix:semicolon
r_case
id|EXT2_IOC32_GETVERSION
suffix:colon
id|cmd
op_assign
id|EXT2_IOC_GETVERSION
suffix:semicolon
r_break
suffix:semicolon
r_case
id|EXT2_IOC32_SETVERSION
suffix:colon
id|cmd
op_assign
id|EXT2_IOC_SETVERSION
suffix:semicolon
r_break
suffix:semicolon
)brace
r_return
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
id|compat_ptr
c_func
(paren
id|arg
)paren
)paren
suffix:semicolon
)brace
DECL|struct|video_tuner32
r_struct
id|video_tuner32
(brace
DECL|member|tuner
id|compat_int_t
id|tuner
suffix:semicolon
DECL|member|name
r_char
id|name
(braket
l_int|32
)braket
suffix:semicolon
DECL|member|rangelow
DECL|member|rangehigh
id|compat_ulong_t
id|rangelow
comma
id|rangehigh
suffix:semicolon
DECL|member|flags
id|u32
id|flags
suffix:semicolon
multiline_comment|/* It is really u32 in videodev.h */
DECL|member|mode
DECL|member|signal
id|u16
id|mode
comma
id|signal
suffix:semicolon
)brace
suffix:semicolon
DECL|function|get_video_tuner32
r_static
r_int
id|get_video_tuner32
c_func
(paren
r_struct
id|video_tuner
op_star
id|kp
comma
r_struct
id|video_tuner32
id|__user
op_star
id|up
)paren
(brace
r_int
id|i
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|kp-&gt;tuner
comma
op_amp
id|up-&gt;tuner
)paren
)paren
(brace
r_return
op_minus
id|EFAULT
suffix:semicolon
)brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|32
suffix:semicolon
id|i
op_increment
)paren
(brace
id|__get_user
c_func
(paren
id|kp-&gt;name
(braket
id|i
)braket
comma
op_amp
id|up-&gt;name
(braket
id|i
)braket
)paren
suffix:semicolon
)brace
id|__get_user
c_func
(paren
id|kp-&gt;rangelow
comma
op_amp
id|up-&gt;rangelow
)paren
suffix:semicolon
id|__get_user
c_func
(paren
id|kp-&gt;rangehigh
comma
op_amp
id|up-&gt;rangehigh
)paren
suffix:semicolon
id|__get_user
c_func
(paren
id|kp-&gt;flags
comma
op_amp
id|up-&gt;flags
)paren
suffix:semicolon
id|__get_user
c_func
(paren
id|kp-&gt;mode
comma
op_amp
id|up-&gt;mode
)paren
suffix:semicolon
id|__get_user
c_func
(paren
id|kp-&gt;signal
comma
op_amp
id|up-&gt;signal
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|put_video_tuner32
r_static
r_int
id|put_video_tuner32
c_func
(paren
r_struct
id|video_tuner
op_star
id|kp
comma
r_struct
id|video_tuner32
id|__user
op_star
id|up
)paren
(brace
r_int
id|i
suffix:semicolon
r_if
c_cond
(paren
id|put_user
c_func
(paren
id|kp-&gt;tuner
comma
op_amp
id|up-&gt;tuner
)paren
)paren
(brace
r_return
op_minus
id|EFAULT
suffix:semicolon
)brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|32
suffix:semicolon
id|i
op_increment
)paren
(brace
id|__put_user
c_func
(paren
id|kp-&gt;name
(braket
id|i
)braket
comma
op_amp
id|up-&gt;name
(braket
id|i
)braket
)paren
suffix:semicolon
)brace
id|__put_user
c_func
(paren
id|kp-&gt;rangelow
comma
op_amp
id|up-&gt;rangelow
)paren
suffix:semicolon
id|__put_user
c_func
(paren
id|kp-&gt;rangehigh
comma
op_amp
id|up-&gt;rangehigh
)paren
suffix:semicolon
id|__put_user
c_func
(paren
id|kp-&gt;flags
comma
op_amp
id|up-&gt;flags
)paren
suffix:semicolon
id|__put_user
c_func
(paren
id|kp-&gt;mode
comma
op_amp
id|up-&gt;mode
)paren
suffix:semicolon
id|__put_user
c_func
(paren
id|kp-&gt;signal
comma
op_amp
id|up-&gt;signal
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|struct|video_buffer32
r_struct
id|video_buffer32
(brace
DECL|member|base
id|compat_caddr_t
id|base
suffix:semicolon
DECL|member|height
DECL|member|width
DECL|member|depth
DECL|member|bytesperline
id|compat_int_t
id|height
comma
id|width
comma
id|depth
comma
id|bytesperline
suffix:semicolon
)brace
suffix:semicolon
DECL|function|get_video_buffer32
r_static
r_int
id|get_video_buffer32
c_func
(paren
r_struct
id|video_buffer
op_star
id|kp
comma
r_struct
id|video_buffer32
id|__user
op_star
id|up
)paren
(brace
id|u32
id|tmp
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|tmp
comma
op_amp
id|up-&gt;base
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
multiline_comment|/* This is actually a physical address stored&n;&t; * as a void pointer.&n;&t; */
id|kp-&gt;base
op_assign
(paren
r_void
op_star
)paren
(paren
r_int
r_int
)paren
id|tmp
suffix:semicolon
id|__get_user
c_func
(paren
id|kp-&gt;height
comma
op_amp
id|up-&gt;height
)paren
suffix:semicolon
id|__get_user
c_func
(paren
id|kp-&gt;width
comma
op_amp
id|up-&gt;width
)paren
suffix:semicolon
id|__get_user
c_func
(paren
id|kp-&gt;depth
comma
op_amp
id|up-&gt;depth
)paren
suffix:semicolon
id|__get_user
c_func
(paren
id|kp-&gt;bytesperline
comma
op_amp
id|up-&gt;bytesperline
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|put_video_buffer32
r_static
r_int
id|put_video_buffer32
c_func
(paren
r_struct
id|video_buffer
op_star
id|kp
comma
r_struct
id|video_buffer32
id|__user
op_star
id|up
)paren
(brace
id|u32
id|tmp
op_assign
(paren
id|u32
)paren
(paren
(paren
r_int
r_int
)paren
id|kp-&gt;base
)paren
suffix:semicolon
r_if
c_cond
(paren
id|put_user
c_func
(paren
id|tmp
comma
op_amp
id|up-&gt;base
)paren
)paren
(brace
r_return
op_minus
id|EFAULT
suffix:semicolon
)brace
id|__put_user
c_func
(paren
id|kp-&gt;height
comma
op_amp
id|up-&gt;height
)paren
suffix:semicolon
id|__put_user
c_func
(paren
id|kp-&gt;width
comma
op_amp
id|up-&gt;width
)paren
suffix:semicolon
id|__put_user
c_func
(paren
id|kp-&gt;depth
comma
op_amp
id|up-&gt;depth
)paren
suffix:semicolon
id|__put_user
c_func
(paren
id|kp-&gt;bytesperline
comma
op_amp
id|up-&gt;bytesperline
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|struct|video_clip32
r_struct
id|video_clip32
(brace
DECL|member|x
DECL|member|y
DECL|member|width
DECL|member|height
id|s32
id|x
comma
id|y
comma
id|width
comma
id|height
suffix:semicolon
multiline_comment|/* Its really s32 in videodev.h */
DECL|member|next
id|compat_caddr_t
id|next
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|video_window32
r_struct
id|video_window32
(brace
DECL|member|x
DECL|member|y
DECL|member|width
DECL|member|height
DECL|member|chromakey
DECL|member|flags
id|u32
id|x
comma
id|y
comma
id|width
comma
id|height
comma
id|chromakey
comma
id|flags
suffix:semicolon
DECL|member|clips
id|compat_caddr_t
id|clips
suffix:semicolon
DECL|member|clipcount
id|compat_int_t
id|clipcount
suffix:semicolon
)brace
suffix:semicolon
multiline_comment|/* You get back everything except the clips... */
DECL|function|put_video_window32
r_static
r_int
id|put_video_window32
c_func
(paren
r_struct
id|video_window
op_star
id|kp
comma
r_struct
id|video_window32
id|__user
op_star
id|up
)paren
(brace
r_if
c_cond
(paren
id|put_user
c_func
(paren
id|kp-&gt;x
comma
op_amp
id|up-&gt;x
)paren
)paren
(brace
r_return
op_minus
id|EFAULT
suffix:semicolon
)brace
id|__put_user
c_func
(paren
id|kp-&gt;y
comma
op_amp
id|up-&gt;y
)paren
suffix:semicolon
id|__put_user
c_func
(paren
id|kp-&gt;width
comma
op_amp
id|up-&gt;width
)paren
suffix:semicolon
id|__put_user
c_func
(paren
id|kp-&gt;height
comma
op_amp
id|up-&gt;height
)paren
suffix:semicolon
id|__put_user
c_func
(paren
id|kp-&gt;chromakey
comma
op_amp
id|up-&gt;chromakey
)paren
suffix:semicolon
id|__put_user
c_func
(paren
id|kp-&gt;flags
comma
op_amp
id|up-&gt;flags
)paren
suffix:semicolon
id|__put_user
c_func
(paren
id|kp-&gt;clipcount
comma
op_amp
id|up-&gt;clipcount
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|macro|VIDIOCGTUNER32
mdefine_line|#define VIDIOCGTUNER32&t;&t;_IOWR(&squot;v&squot;,4, struct video_tuner32)
DECL|macro|VIDIOCSTUNER32
mdefine_line|#define VIDIOCSTUNER32&t;&t;_IOW(&squot;v&squot;,5, struct video_tuner32)
DECL|macro|VIDIOCGWIN32
mdefine_line|#define VIDIOCGWIN32&t;&t;_IOR(&squot;v&squot;,9, struct video_window32)
DECL|macro|VIDIOCSWIN32
mdefine_line|#define VIDIOCSWIN32&t;&t;_IOW(&squot;v&squot;,10, struct video_window32)
DECL|macro|VIDIOCGFBUF32
mdefine_line|#define VIDIOCGFBUF32&t;&t;_IOR(&squot;v&squot;,11, struct video_buffer32)
DECL|macro|VIDIOCSFBUF32
mdefine_line|#define VIDIOCSFBUF32&t;&t;_IOW(&squot;v&squot;,12, struct video_buffer32)
DECL|macro|VIDIOCGFREQ32
mdefine_line|#define VIDIOCGFREQ32&t;&t;_IOR(&squot;v&squot;,14, u32)
DECL|macro|VIDIOCSFREQ32
mdefine_line|#define VIDIOCSFREQ32&t;&t;_IOW(&squot;v&squot;,15, u32)
r_enum
(brace
DECL|enumerator|MaxClips
id|MaxClips
op_assign
(paren
op_complement
l_int|0U
op_minus
r_sizeof
(paren
r_struct
id|video_window
)paren
)paren
op_div
r_sizeof
(paren
r_struct
id|video_clip
)paren
)brace
suffix:semicolon
DECL|function|do_set_window
r_static
r_int
id|do_set_window
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|video_window32
id|__user
op_star
id|up
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
r_struct
id|video_window
id|__user
op_star
id|vw
suffix:semicolon
r_struct
id|video_clip
id|__user
op_star
id|p
suffix:semicolon
r_int
id|nclips
suffix:semicolon
id|u32
id|n
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|nclips
comma
op_amp
id|up-&gt;clipcount
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
multiline_comment|/* Peculiar interface... */
r_if
c_cond
(paren
id|nclips
OL
l_int|0
)paren
id|nclips
op_assign
id|VIDEO_CLIPMAP_SIZE
suffix:semicolon
r_if
c_cond
(paren
id|nclips
OG
id|MaxClips
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
id|vw
op_assign
id|compat_alloc_user_space
c_func
(paren
r_sizeof
(paren
r_struct
id|video_window
)paren
op_plus
id|nclips
op_star
r_sizeof
(paren
r_struct
id|video_clip
)paren
)paren
suffix:semicolon
id|p
op_assign
id|nclips
ques
c_cond
(paren
r_struct
id|video_clip
id|__user
op_star
)paren
(paren
id|vw
op_plus
l_int|1
)paren
suffix:colon
l_int|NULL
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|n
comma
op_amp
id|up-&gt;x
)paren
op_logical_or
id|put_user
c_func
(paren
id|n
comma
op_amp
id|vw-&gt;x
)paren
op_logical_or
id|get_user
c_func
(paren
id|n
comma
op_amp
id|up-&gt;y
)paren
op_logical_or
id|put_user
c_func
(paren
id|n
comma
op_amp
id|vw-&gt;y
)paren
op_logical_or
id|get_user
c_func
(paren
id|n
comma
op_amp
id|up-&gt;width
)paren
op_logical_or
id|put_user
c_func
(paren
id|n
comma
op_amp
id|vw-&gt;width
)paren
op_logical_or
id|get_user
c_func
(paren
id|n
comma
op_amp
id|up-&gt;height
)paren
op_logical_or
id|put_user
c_func
(paren
id|n
comma
op_amp
id|vw-&gt;height
)paren
op_logical_or
id|get_user
c_func
(paren
id|n
comma
op_amp
id|up-&gt;chromakey
)paren
op_logical_or
id|put_user
c_func
(paren
id|n
comma
op_amp
id|vw-&gt;chromakey
)paren
op_logical_or
id|get_user
c_func
(paren
id|n
comma
op_amp
id|up-&gt;flags
)paren
op_logical_or
id|put_user
c_func
(paren
id|n
comma
op_amp
id|vw-&gt;flags
)paren
op_logical_or
id|get_user
c_func
(paren
id|n
comma
op_amp
id|up-&gt;clipcount
)paren
op_logical_or
id|put_user
c_func
(paren
id|n
comma
op_amp
id|vw-&gt;clipcount
)paren
op_logical_or
id|get_user
c_func
(paren
id|n
comma
op_amp
id|up-&gt;clips
)paren
op_logical_or
id|put_user
c_func
(paren
id|p
comma
op_amp
id|vw-&gt;clips
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|nclips
)paren
(brace
r_struct
id|video_clip32
id|__user
op_star
id|u
op_assign
id|compat_ptr
c_func
(paren
id|n
)paren
suffix:semicolon
r_int
id|i
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|u
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|nclips
suffix:semicolon
id|i
op_increment
comma
id|u
op_increment
comma
id|p
op_increment
)paren
(brace
id|s32
id|v
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|v
comma
op_amp
id|u-&gt;x
)paren
op_logical_or
id|put_user
c_func
(paren
id|v
comma
op_amp
id|p-&gt;x
)paren
op_logical_or
id|get_user
c_func
(paren
id|v
comma
op_amp
id|u-&gt;y
)paren
op_logical_or
id|put_user
c_func
(paren
id|v
comma
op_amp
id|p-&gt;y
)paren
op_logical_or
id|get_user
c_func
(paren
id|v
comma
op_amp
id|u-&gt;width
)paren
op_logical_or
id|put_user
c_func
(paren
id|v
comma
op_amp
id|p-&gt;width
)paren
op_logical_or
id|get_user
c_func
(paren
id|v
comma
op_amp
id|u-&gt;height
)paren
op_logical_or
id|put_user
c_func
(paren
id|v
comma
op_amp
id|p-&gt;height
)paren
op_logical_or
id|put_user
c_func
(paren
l_int|NULL
comma
op_amp
id|p-&gt;next
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
)brace
)brace
r_return
id|sys_ioctl
c_func
(paren
id|fd
comma
id|VIDIOCSWIN
comma
(paren
r_int
r_int
)paren
id|p
)paren
suffix:semicolon
)brace
DECL|function|do_video_ioctl
r_static
r_int
id|do_video_ioctl
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_union
(brace
r_struct
id|video_tuner
id|vt
suffix:semicolon
r_struct
id|video_buffer
id|vb
suffix:semicolon
r_struct
id|video_window
id|vw
suffix:semicolon
r_int
r_int
id|vx
suffix:semicolon
)brace
id|karg
suffix:semicolon
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
r_void
id|__user
op_star
id|up
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
r_int
id|err
op_assign
l_int|0
suffix:semicolon
multiline_comment|/* First, convert the command. */
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|VIDIOCGTUNER32
suffix:colon
id|cmd
op_assign
id|VIDIOCGTUNER
suffix:semicolon
r_break
suffix:semicolon
r_case
id|VIDIOCSTUNER32
suffix:colon
id|cmd
op_assign
id|VIDIOCSTUNER
suffix:semicolon
r_break
suffix:semicolon
r_case
id|VIDIOCGWIN32
suffix:colon
id|cmd
op_assign
id|VIDIOCGWIN
suffix:semicolon
r_break
suffix:semicolon
r_case
id|VIDIOCGFBUF32
suffix:colon
id|cmd
op_assign
id|VIDIOCGFBUF
suffix:semicolon
r_break
suffix:semicolon
r_case
id|VIDIOCSFBUF32
suffix:colon
id|cmd
op_assign
id|VIDIOCSFBUF
suffix:semicolon
r_break
suffix:semicolon
r_case
id|VIDIOCGFREQ32
suffix:colon
id|cmd
op_assign
id|VIDIOCGFREQ
suffix:semicolon
r_break
suffix:semicolon
r_case
id|VIDIOCSFREQ32
suffix:colon
id|cmd
op_assign
id|VIDIOCSFREQ
suffix:semicolon
r_break
suffix:semicolon
)brace
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|VIDIOCSTUNER
suffix:colon
r_case
id|VIDIOCGTUNER
suffix:colon
id|err
op_assign
id|get_video_tuner32
c_func
(paren
op_amp
id|karg.vt
comma
id|up
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|VIDIOCSFBUF
suffix:colon
id|err
op_assign
id|get_video_buffer32
c_func
(paren
op_amp
id|karg.vb
comma
id|up
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|VIDIOCSFREQ
suffix:colon
id|err
op_assign
id|get_user
c_func
(paren
id|karg.vx
comma
(paren
id|u32
id|__user
op_star
)paren
id|up
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
(brace
r_goto
id|out
suffix:semicolon
)brace
id|set_fs
c_func
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
op_amp
id|karg
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
op_eq
l_int|0
)paren
(brace
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|VIDIOCGTUNER
suffix:colon
id|err
op_assign
id|put_video_tuner32
c_func
(paren
op_amp
id|karg.vt
comma
id|up
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|VIDIOCGWIN
suffix:colon
id|err
op_assign
id|put_video_window32
c_func
(paren
op_amp
id|karg.vw
comma
id|up
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|VIDIOCGFBUF
suffix:colon
id|err
op_assign
id|put_video_buffer32
c_func
(paren
op_amp
id|karg.vb
comma
id|up
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|VIDIOCGFREQ
suffix:colon
id|err
op_assign
id|put_user
c_func
(paren
(paren
(paren
id|u32
)paren
id|karg.vx
)paren
comma
(paren
id|u32
id|__user
op_star
)paren
id|up
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
suffix:semicolon
)brace
id|out
suffix:colon
r_return
id|err
suffix:semicolon
)brace
macro_line|#ifdef CONFIG_NET
DECL|function|do_siocgstamp
r_static
r_int
id|do_siocgstamp
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|compat_timeval
id|__user
op_star
id|up
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
r_struct
id|timeval
id|ktv
suffix:semicolon
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
r_int
id|err
suffix:semicolon
id|set_fs
c_func
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
op_amp
id|ktv
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|err
)paren
(brace
id|err
op_assign
id|put_user
c_func
(paren
id|ktv.tv_sec
comma
op_amp
id|up-&gt;tv_sec
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|ktv.tv_usec
comma
op_amp
id|up-&gt;tv_usec
)paren
suffix:semicolon
)brace
r_return
id|err
suffix:semicolon
)brace
DECL|struct|ifmap32
r_struct
id|ifmap32
(brace
DECL|member|mem_start
id|compat_ulong_t
id|mem_start
suffix:semicolon
DECL|member|mem_end
id|compat_ulong_t
id|mem_end
suffix:semicolon
DECL|member|base_addr
r_int
r_int
id|base_addr
suffix:semicolon
DECL|member|irq
r_int
r_char
id|irq
suffix:semicolon
DECL|member|dma
r_int
r_char
id|dma
suffix:semicolon
DECL|member|port
r_int
r_char
id|port
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|ifreq32
r_struct
id|ifreq32
(brace
DECL|macro|IFHWADDRLEN
mdefine_line|#define IFHWADDRLEN     6
DECL|macro|IFNAMSIZ
mdefine_line|#define IFNAMSIZ        16
r_union
(brace
DECL|member|ifrn_name
r_char
id|ifrn_name
(braket
id|IFNAMSIZ
)braket
suffix:semicolon
multiline_comment|/* if name, e.g. &quot;en0&quot; */
DECL|member|ifr_ifrn
)brace
id|ifr_ifrn
suffix:semicolon
r_union
(brace
DECL|member|ifru_addr
r_struct
id|sockaddr
id|ifru_addr
suffix:semicolon
DECL|member|ifru_dstaddr
r_struct
id|sockaddr
id|ifru_dstaddr
suffix:semicolon
DECL|member|ifru_broadaddr
r_struct
id|sockaddr
id|ifru_broadaddr
suffix:semicolon
DECL|member|ifru_netmask
r_struct
id|sockaddr
id|ifru_netmask
suffix:semicolon
DECL|member|ifru_hwaddr
r_struct
id|sockaddr
id|ifru_hwaddr
suffix:semicolon
DECL|member|ifru_flags
r_int
id|ifru_flags
suffix:semicolon
DECL|member|ifru_ivalue
id|compat_int_t
id|ifru_ivalue
suffix:semicolon
DECL|member|ifru_mtu
id|compat_int_t
id|ifru_mtu
suffix:semicolon
DECL|member|ifru_map
r_struct
id|ifmap32
id|ifru_map
suffix:semicolon
DECL|member|ifru_slave
r_char
id|ifru_slave
(braket
id|IFNAMSIZ
)braket
suffix:semicolon
multiline_comment|/* Just fits the size */
DECL|member|ifru_newname
r_char
id|ifru_newname
(braket
id|IFNAMSIZ
)braket
suffix:semicolon
DECL|member|ifru_data
id|compat_caddr_t
id|ifru_data
suffix:semicolon
multiline_comment|/* XXXX? ifru_settings should be here */
DECL|member|ifr_ifru
)brace
id|ifr_ifru
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|ifconf32
r_struct
id|ifconf32
(brace
DECL|member|ifc_len
id|compat_int_t
id|ifc_len
suffix:semicolon
multiline_comment|/* size of buffer       */
DECL|member|ifcbuf
id|compat_caddr_t
id|ifcbuf
suffix:semicolon
)brace
suffix:semicolon
DECL|function|dev_ifname32
r_static
r_int
id|dev_ifname32
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|net_device
op_star
id|dev
suffix:semicolon
r_struct
id|ifreq32
id|ifr32
suffix:semicolon
r_int
id|err
suffix:semicolon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
op_amp
id|ifr32
comma
id|compat_ptr
c_func
(paren
id|arg
)paren
comma
r_sizeof
(paren
id|ifr32
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|dev
op_assign
id|dev_get_by_index
c_func
(paren
id|ifr32.ifr_ifindex
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|dev
)paren
r_return
op_minus
id|ENODEV
suffix:semicolon
id|strlcpy
c_func
(paren
id|ifr32.ifr_name
comma
id|dev-&gt;name
comma
r_sizeof
(paren
id|ifr32.ifr_name
)paren
)paren
suffix:semicolon
id|dev_put
c_func
(paren
id|dev
)paren
suffix:semicolon
id|err
op_assign
id|copy_to_user
c_func
(paren
id|compat_ptr
c_func
(paren
id|arg
)paren
comma
op_amp
id|ifr32
comma
r_sizeof
(paren
id|ifr32
)paren
)paren
suffix:semicolon
r_return
(paren
id|err
ques
c_cond
op_minus
id|EFAULT
suffix:colon
l_int|0
)paren
suffix:semicolon
)brace
DECL|function|dev_ifconf
r_static
r_int
id|dev_ifconf
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|ifconf32
id|ifc32
suffix:semicolon
r_struct
id|ifconf
id|ifc
suffix:semicolon
r_struct
id|ifconf
id|__user
op_star
id|uifc
suffix:semicolon
r_struct
id|ifreq32
id|__user
op_star
id|ifr32
suffix:semicolon
r_struct
id|ifreq
id|__user
op_star
id|ifr
suffix:semicolon
r_int
r_int
id|i
comma
id|j
suffix:semicolon
r_int
id|err
suffix:semicolon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
op_amp
id|ifc32
comma
id|compat_ptr
c_func
(paren
id|arg
)paren
comma
r_sizeof
(paren
r_struct
id|ifconf32
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|ifc32.ifcbuf
op_eq
l_int|0
)paren
(brace
id|ifc32.ifc_len
op_assign
l_int|0
suffix:semicolon
id|ifc.ifc_len
op_assign
l_int|0
suffix:semicolon
id|ifc.ifc_req
op_assign
l_int|NULL
suffix:semicolon
id|uifc
op_assign
id|compat_alloc_user_space
c_func
(paren
r_sizeof
(paren
r_struct
id|ifconf
)paren
)paren
suffix:semicolon
)brace
r_else
(brace
r_int
id|len
op_assign
(paren
(paren
id|ifc32.ifc_len
op_div
r_sizeof
(paren
r_struct
id|ifreq32
)paren
)paren
op_plus
l_int|1
)paren
op_star
r_sizeof
(paren
r_struct
id|ifreq
)paren
suffix:semicolon
id|uifc
op_assign
id|compat_alloc_user_space
c_func
(paren
r_sizeof
(paren
r_struct
id|ifconf
)paren
op_plus
id|len
)paren
suffix:semicolon
id|ifc.ifc_len
op_assign
id|len
suffix:semicolon
id|ifr
op_assign
id|ifc.ifc_req
op_assign
(paren
r_void
id|__user
op_star
)paren
(paren
id|uifc
op_plus
l_int|1
)paren
suffix:semicolon
id|ifr32
op_assign
id|compat_ptr
c_func
(paren
id|ifc32.ifcbuf
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|ifc32.ifc_len
suffix:semicolon
id|i
op_add_assign
r_sizeof
(paren
r_struct
id|ifreq32
)paren
)paren
(brace
r_if
c_cond
(paren
id|copy_in_user
c_func
(paren
id|ifr
comma
id|ifr32
comma
r_sizeof
(paren
r_struct
id|ifreq32
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|ifr
op_increment
suffix:semicolon
id|ifr32
op_increment
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
id|copy_to_user
c_func
(paren
id|uifc
comma
op_amp
id|ifc
comma
r_sizeof
(paren
r_struct
id|ifconf
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|err
op_assign
id|sys_ioctl
(paren
id|fd
comma
id|SIOCGIFCONF
comma
(paren
r_int
r_int
)paren
id|uifc
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_return
id|err
suffix:semicolon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
op_amp
id|ifc
comma
id|uifc
comma
r_sizeof
(paren
r_struct
id|ifconf
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|ifr
op_assign
id|ifc.ifc_req
suffix:semicolon
id|ifr32
op_assign
id|compat_ptr
c_func
(paren
id|ifc32.ifcbuf
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
comma
id|j
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|ifc32.ifc_len
op_logical_and
id|j
OL
id|ifc.ifc_len
suffix:semicolon
id|i
op_add_assign
r_sizeof
(paren
r_struct
id|ifreq32
)paren
comma
id|j
op_add_assign
r_sizeof
(paren
r_struct
id|ifreq
)paren
)paren
(brace
r_if
c_cond
(paren
id|copy_in_user
c_func
(paren
id|ifr32
comma
id|ifr
comma
r_sizeof
(paren
r_struct
id|ifreq32
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|ifr32
op_increment
suffix:semicolon
id|ifr
op_increment
suffix:semicolon
)brace
r_if
c_cond
(paren
id|ifc32.ifcbuf
op_eq
l_int|0
)paren
(brace
multiline_comment|/* Translate from 64-bit structure multiple to&n;&t;&t; * a 32-bit one.&n;&t;&t; */
id|i
op_assign
id|ifc.ifc_len
suffix:semicolon
id|i
op_assign
(paren
(paren
id|i
op_div
r_sizeof
(paren
r_struct
id|ifreq
)paren
)paren
op_star
r_sizeof
(paren
r_struct
id|ifreq32
)paren
)paren
suffix:semicolon
id|ifc32.ifc_len
op_assign
id|i
suffix:semicolon
)brace
r_else
(brace
r_if
c_cond
(paren
id|i
op_le
id|ifc32.ifc_len
)paren
id|ifc32.ifc_len
op_assign
id|i
suffix:semicolon
r_else
id|ifc32.ifc_len
op_assign
id|i
op_minus
r_sizeof
(paren
r_struct
id|ifreq32
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|copy_to_user
c_func
(paren
id|compat_ptr
c_func
(paren
id|arg
)paren
comma
op_amp
id|ifc32
comma
r_sizeof
(paren
r_struct
id|ifconf32
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|ethtool_ioctl
r_static
r_int
id|ethtool_ioctl
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|ifreq
id|__user
op_star
id|ifr
suffix:semicolon
r_struct
id|ifreq32
id|__user
op_star
id|ifr32
suffix:semicolon
id|u32
id|data
suffix:semicolon
r_void
id|__user
op_star
id|datap
suffix:semicolon
id|ifr
op_assign
id|compat_alloc_user_space
c_func
(paren
r_sizeof
(paren
op_star
id|ifr
)paren
)paren
suffix:semicolon
id|ifr32
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
r_if
c_cond
(paren
id|copy_in_user
c_func
(paren
op_amp
id|ifr-&gt;ifr_name
comma
op_amp
id|ifr32-&gt;ifr_name
comma
id|IFNAMSIZ
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|data
comma
op_amp
id|ifr32-&gt;ifr_ifru.ifru_data
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|datap
op_assign
id|compat_ptr
c_func
(paren
id|data
)paren
suffix:semicolon
r_if
c_cond
(paren
id|put_user
c_func
(paren
id|datap
comma
op_amp
id|ifr-&gt;ifr_ifru.ifru_data
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_return
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
id|ifr
)paren
suffix:semicolon
)brace
DECL|function|bond_ioctl
r_static
r_int
id|bond_ioctl
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|ifreq
id|kifr
suffix:semicolon
r_struct
id|ifreq
id|__user
op_star
id|uifr
suffix:semicolon
r_struct
id|ifreq32
id|__user
op_star
id|ifr32
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
id|mm_segment_t
id|old_fs
suffix:semicolon
r_int
id|err
suffix:semicolon
id|u32
id|data
suffix:semicolon
r_void
id|__user
op_star
id|datap
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|SIOCBONDENSLAVE
suffix:colon
r_case
id|SIOCBONDRELEASE
suffix:colon
r_case
id|SIOCBONDSETHWADDR
suffix:colon
r_case
id|SIOCBONDCHANGEACTIVE
suffix:colon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
op_amp
id|kifr
comma
id|ifr32
comma
r_sizeof
(paren
r_struct
id|ifreq32
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
id|set_fs
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
op_amp
id|kifr
)paren
suffix:semicolon
id|set_fs
(paren
id|old_fs
)paren
suffix:semicolon
r_return
id|err
suffix:semicolon
r_case
id|SIOCBONDSLAVEINFOQUERY
suffix:colon
r_case
id|SIOCBONDINFOQUERY
suffix:colon
id|uifr
op_assign
id|compat_alloc_user_space
c_func
(paren
r_sizeof
(paren
op_star
id|uifr
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|copy_in_user
c_func
(paren
op_amp
id|uifr-&gt;ifr_name
comma
op_amp
id|ifr32-&gt;ifr_name
comma
id|IFNAMSIZ
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|data
comma
op_amp
id|ifr32-&gt;ifr_ifru.ifru_data
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|datap
op_assign
id|compat_ptr
c_func
(paren
id|data
)paren
suffix:semicolon
r_if
c_cond
(paren
id|put_user
c_func
(paren
id|datap
comma
op_amp
id|uifr-&gt;ifr_ifru.ifru_data
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_return
id|sys_ioctl
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
id|uifr
)paren
suffix:semicolon
r_default
suffix:colon
r_return
op_minus
id|EINVAL
suffix:semicolon
)brace
suffix:semicolon
)brace
DECL|function|siocdevprivate_ioctl
r_int
id|siocdevprivate_ioctl
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|ifreq
id|__user
op_star
id|u_ifreq64
suffix:semicolon
r_struct
id|ifreq32
id|__user
op_star
id|u_ifreq32
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
r_char
id|tmp_buf
(braket
id|IFNAMSIZ
)braket
suffix:semicolon
r_void
id|__user
op_star
id|data64
suffix:semicolon
id|u32
id|data32
suffix:semicolon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
op_amp
id|tmp_buf
(braket
l_int|0
)braket
comma
op_amp
(paren
id|u_ifreq32-&gt;ifr_ifrn.ifrn_name
(braket
l_int|0
)braket
)paren
comma
id|IFNAMSIZ
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|__get_user
c_func
(paren
id|data32
comma
op_amp
id|u_ifreq32-&gt;ifr_ifru.ifru_data
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|data64
op_assign
id|compat_ptr
c_func
(paren
id|data32
)paren
suffix:semicolon
id|u_ifreq64
op_assign
id|compat_alloc_user_space
c_func
(paren
r_sizeof
(paren
op_star
id|u_ifreq64
)paren
)paren
suffix:semicolon
multiline_comment|/* Don&squot;t check these user accesses, just let that get trapped&n;&t; * in the ioctl handler instead.&n;&t; */
r_if
c_cond
(paren
id|copy_to_user
c_func
(paren
op_amp
id|u_ifreq64-&gt;ifr_ifrn.ifrn_name
(braket
l_int|0
)braket
comma
op_amp
id|tmp_buf
(braket
l_int|0
)braket
comma
id|IFNAMSIZ
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|__put_user
c_func
(paren
id|data64
comma
op_amp
id|u_ifreq64-&gt;ifr_ifru.ifru_data
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_return
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
id|u_ifreq64
)paren
suffix:semicolon
)brace
DECL|function|dev_ifsioc
r_static
r_int
id|dev_ifsioc
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|ifreq
id|ifr
suffix:semicolon
r_struct
id|ifreq32
id|__user
op_star
id|uifr32
suffix:semicolon
r_struct
id|ifmap32
id|__user
op_star
id|uifmap32
suffix:semicolon
id|mm_segment_t
id|old_fs
suffix:semicolon
r_int
id|err
suffix:semicolon
id|uifr32
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
id|uifmap32
op_assign
op_amp
id|uifr32-&gt;ifr_ifru.ifru_map
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|SIOCSIFMAP
suffix:colon
id|err
op_assign
id|copy_from_user
c_func
(paren
op_amp
id|ifr
comma
id|uifr32
comma
r_sizeof
(paren
id|ifr.ifr_name
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|ifr.ifr_map.mem_start
comma
op_amp
id|uifmap32-&gt;mem_start
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|ifr.ifr_map.mem_end
comma
op_amp
id|uifmap32-&gt;mem_end
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|ifr.ifr_map.base_addr
comma
op_amp
id|uifmap32-&gt;base_addr
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|ifr.ifr_map.irq
comma
op_amp
id|uifmap32-&gt;irq
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|ifr.ifr_map.dma
comma
op_amp
id|uifmap32-&gt;dma
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|ifr.ifr_map.port
comma
op_amp
id|uifmap32-&gt;port
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
(brace
)brace
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
op_amp
id|ifr
comma
id|uifr32
comma
r_sizeof
(paren
op_star
id|uifr32
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_break
suffix:semicolon
)brace
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
id|set_fs
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
op_amp
id|ifr
)paren
suffix:semicolon
id|set_fs
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|err
)paren
(brace
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|SIOCGIFFLAGS
suffix:colon
r_case
id|SIOCGIFMETRIC
suffix:colon
r_case
id|SIOCGIFMTU
suffix:colon
r_case
id|SIOCGIFMEM
suffix:colon
r_case
id|SIOCGIFHWADDR
suffix:colon
r_case
id|SIOCGIFINDEX
suffix:colon
r_case
id|SIOCGIFADDR
suffix:colon
r_case
id|SIOCGIFBRDADDR
suffix:colon
r_case
id|SIOCGIFDSTADDR
suffix:colon
r_case
id|SIOCGIFNETMASK
suffix:colon
r_case
id|SIOCGIFTXQLEN
suffix:colon
r_if
c_cond
(paren
id|copy_to_user
c_func
(paren
id|uifr32
comma
op_amp
id|ifr
comma
r_sizeof
(paren
op_star
id|uifr32
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_break
suffix:semicolon
r_case
id|SIOCGIFMAP
suffix:colon
id|err
op_assign
id|copy_to_user
c_func
(paren
id|uifr32
comma
op_amp
id|ifr
comma
r_sizeof
(paren
id|ifr.ifr_name
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|ifr.ifr_map.mem_start
comma
op_amp
id|uifmap32-&gt;mem_start
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|ifr.ifr_map.mem_end
comma
op_amp
id|uifmap32-&gt;mem_end
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|ifr.ifr_map.base_addr
comma
op_amp
id|uifmap32-&gt;base_addr
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|ifr.ifr_map.irq
comma
op_amp
id|uifmap32-&gt;irq
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|ifr.ifr_map.dma
comma
op_amp
id|uifmap32-&gt;dma
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|ifr.ifr_map.port
comma
op_amp
id|uifmap32-&gt;port
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_break
suffix:semicolon
)brace
)brace
r_return
id|err
suffix:semicolon
)brace
DECL|struct|rtentry32
r_struct
id|rtentry32
(brace
DECL|member|rt_pad1
id|u32
id|rt_pad1
suffix:semicolon
DECL|member|rt_dst
r_struct
id|sockaddr
id|rt_dst
suffix:semicolon
multiline_comment|/* target address               */
DECL|member|rt_gateway
r_struct
id|sockaddr
id|rt_gateway
suffix:semicolon
multiline_comment|/* gateway addr (RTF_GATEWAY)   */
DECL|member|rt_genmask
r_struct
id|sockaddr
id|rt_genmask
suffix:semicolon
multiline_comment|/* target network mask (IP)     */
DECL|member|rt_flags
r_int
r_int
id|rt_flags
suffix:semicolon
DECL|member|rt_pad2
r_int
id|rt_pad2
suffix:semicolon
DECL|member|rt_pad3
id|u32
id|rt_pad3
suffix:semicolon
DECL|member|rt_tos
r_int
r_char
id|rt_tos
suffix:semicolon
DECL|member|rt_class
r_int
r_char
id|rt_class
suffix:semicolon
DECL|member|rt_pad4
r_int
id|rt_pad4
suffix:semicolon
DECL|member|rt_metric
r_int
id|rt_metric
suffix:semicolon
multiline_comment|/* +1 for binary compatibility! */
DECL|member|rt_dev
multiline_comment|/* char * */
id|u32
id|rt_dev
suffix:semicolon
multiline_comment|/* forcing the device at add    */
DECL|member|rt_mtu
id|u32
id|rt_mtu
suffix:semicolon
multiline_comment|/* per route MTU/Window         */
DECL|member|rt_window
id|u32
id|rt_window
suffix:semicolon
multiline_comment|/* Window clamping              */
DECL|member|rt_irtt
r_int
r_int
id|rt_irtt
suffix:semicolon
multiline_comment|/* Initial RTT                  */
)brace
suffix:semicolon
DECL|struct|in6_rtmsg32
r_struct
id|in6_rtmsg32
(brace
DECL|member|rtmsg_dst
r_struct
id|in6_addr
id|rtmsg_dst
suffix:semicolon
DECL|member|rtmsg_src
r_struct
id|in6_addr
id|rtmsg_src
suffix:semicolon
DECL|member|rtmsg_gateway
r_struct
id|in6_addr
id|rtmsg_gateway
suffix:semicolon
DECL|member|rtmsg_type
id|u32
id|rtmsg_type
suffix:semicolon
DECL|member|rtmsg_dst_len
id|u16
id|rtmsg_dst_len
suffix:semicolon
DECL|member|rtmsg_src_len
id|u16
id|rtmsg_src_len
suffix:semicolon
DECL|member|rtmsg_metric
id|u32
id|rtmsg_metric
suffix:semicolon
DECL|member|rtmsg_info
id|u32
id|rtmsg_info
suffix:semicolon
DECL|member|rtmsg_flags
id|u32
id|rtmsg_flags
suffix:semicolon
DECL|member|rtmsg_ifindex
id|s32
id|rtmsg_ifindex
suffix:semicolon
)brace
suffix:semicolon
DECL|function|routing_ioctl
r_static
r_int
id|routing_ioctl
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_int
id|ret
suffix:semicolon
r_void
op_star
id|r
op_assign
l_int|NULL
suffix:semicolon
r_struct
id|in6_rtmsg
id|r6
suffix:semicolon
r_struct
id|rtentry
id|r4
suffix:semicolon
r_char
id|devname
(braket
l_int|16
)braket
suffix:semicolon
id|u32
id|rtdev
suffix:semicolon
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
r_struct
id|socket
op_star
id|mysock
op_assign
id|sockfd_lookup
c_func
(paren
id|fd
comma
op_amp
id|ret
)paren
suffix:semicolon
r_if
c_cond
(paren
id|mysock
op_logical_and
id|mysock-&gt;sk
op_logical_and
id|mysock-&gt;sk-&gt;sk_family
op_eq
id|AF_INET6
)paren
(brace
multiline_comment|/* ipv6 */
r_struct
id|in6_rtmsg32
id|__user
op_star
id|ur6
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
id|ret
op_assign
id|copy_from_user
(paren
op_amp
id|r6.rtmsg_dst
comma
op_amp
(paren
id|ur6-&gt;rtmsg_dst
)paren
comma
l_int|3
op_star
r_sizeof
(paren
r_struct
id|in6_addr
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
(paren
id|r6.rtmsg_type
comma
op_amp
(paren
id|ur6-&gt;rtmsg_type
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
(paren
id|r6.rtmsg_dst_len
comma
op_amp
(paren
id|ur6-&gt;rtmsg_dst_len
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
(paren
id|r6.rtmsg_src_len
comma
op_amp
(paren
id|ur6-&gt;rtmsg_src_len
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
(paren
id|r6.rtmsg_metric
comma
op_amp
(paren
id|ur6-&gt;rtmsg_metric
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
(paren
id|r6.rtmsg_info
comma
op_amp
(paren
id|ur6-&gt;rtmsg_info
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
(paren
id|r6.rtmsg_flags
comma
op_amp
(paren
id|ur6-&gt;rtmsg_flags
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
(paren
id|r6.rtmsg_ifindex
comma
op_amp
(paren
id|ur6-&gt;rtmsg_ifindex
)paren
)paren
suffix:semicolon
id|r
op_assign
(paren
r_void
op_star
)paren
op_amp
id|r6
suffix:semicolon
)brace
r_else
(brace
multiline_comment|/* ipv4 */
r_struct
id|rtentry32
id|__user
op_star
id|ur4
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
id|ret
op_assign
id|copy_from_user
(paren
op_amp
id|r4.rt_dst
comma
op_amp
(paren
id|ur4-&gt;rt_dst
)paren
comma
l_int|3
op_star
r_sizeof
(paren
r_struct
id|sockaddr
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
(paren
id|r4.rt_flags
comma
op_amp
(paren
id|ur4-&gt;rt_flags
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
(paren
id|r4.rt_metric
comma
op_amp
(paren
id|ur4-&gt;rt_metric
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
(paren
id|r4.rt_mtu
comma
op_amp
(paren
id|ur4-&gt;rt_mtu
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
(paren
id|r4.rt_window
comma
op_amp
(paren
id|ur4-&gt;rt_window
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
(paren
id|r4.rt_irtt
comma
op_amp
(paren
id|ur4-&gt;rt_irtt
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
(paren
id|rtdev
comma
op_amp
(paren
id|ur4-&gt;rt_dev
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|rtdev
)paren
(brace
id|ret
op_or_assign
id|copy_from_user
(paren
id|devname
comma
id|compat_ptr
c_func
(paren
id|rtdev
)paren
comma
l_int|15
)paren
suffix:semicolon
id|r4.rt_dev
op_assign
id|devname
suffix:semicolon
id|devname
(braket
l_int|15
)braket
op_assign
l_int|0
suffix:semicolon
)brace
r_else
id|r4.rt_dev
op_assign
l_int|NULL
suffix:semicolon
id|r
op_assign
(paren
r_void
op_star
)paren
op_amp
id|r4
suffix:semicolon
)brace
r_if
c_cond
(paren
id|ret
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|set_fs
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|ret
op_assign
id|sys_ioctl
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
id|r
)paren
suffix:semicolon
id|set_fs
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
id|mysock
)paren
id|sockfd_put
c_func
(paren
id|mysock
)paren
suffix:semicolon
r_return
id|ret
suffix:semicolon
)brace
macro_line|#endif
DECL|struct|hd_geometry32
r_struct
id|hd_geometry32
(brace
DECL|member|heads
r_int
r_char
id|heads
suffix:semicolon
DECL|member|sectors
r_int
r_char
id|sectors
suffix:semicolon
DECL|member|cylinders
r_int
r_int
id|cylinders
suffix:semicolon
DECL|member|start
id|u32
id|start
suffix:semicolon
)brace
suffix:semicolon
DECL|function|hdio_getgeo
r_static
r_int
id|hdio_getgeo
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
r_struct
id|hd_geometry
id|geo
suffix:semicolon
r_struct
id|hd_geometry32
id|__user
op_star
id|ugeo
suffix:semicolon
r_int
id|err
suffix:semicolon
id|set_fs
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|HDIO_GETGEO
comma
(paren
r_int
r_int
)paren
op_amp
id|geo
)paren
suffix:semicolon
id|set_fs
(paren
id|old_fs
)paren
suffix:semicolon
id|ugeo
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|err
)paren
(brace
id|err
op_assign
id|copy_to_user
(paren
id|ugeo
comma
op_amp
id|geo
comma
l_int|4
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
(paren
id|geo.start
comma
op_amp
id|ugeo-&gt;start
)paren
suffix:semicolon
)brace
r_return
id|err
ques
c_cond
op_minus
id|EFAULT
suffix:colon
l_int|0
suffix:semicolon
)brace
DECL|struct|fb_fix_screeninfo32
r_struct
id|fb_fix_screeninfo32
(brace
DECL|member|id
r_char
id|id
(braket
l_int|16
)braket
suffix:semicolon
DECL|member|smem_start
id|compat_caddr_t
id|smem_start
suffix:semicolon
DECL|member|smem_len
id|u32
id|smem_len
suffix:semicolon
DECL|member|type
id|u32
id|type
suffix:semicolon
DECL|member|type_aux
id|u32
id|type_aux
suffix:semicolon
DECL|member|visual
id|u32
id|visual
suffix:semicolon
DECL|member|xpanstep
id|u16
id|xpanstep
suffix:semicolon
DECL|member|ypanstep
id|u16
id|ypanstep
suffix:semicolon
DECL|member|ywrapstep
id|u16
id|ywrapstep
suffix:semicolon
DECL|member|line_length
id|u32
id|line_length
suffix:semicolon
DECL|member|mmio_start
id|compat_caddr_t
id|mmio_start
suffix:semicolon
DECL|member|mmio_len
id|u32
id|mmio_len
suffix:semicolon
DECL|member|accel
id|u32
id|accel
suffix:semicolon
DECL|member|reserved
id|u16
id|reserved
(braket
l_int|3
)braket
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|fb_cmap32
r_struct
id|fb_cmap32
(brace
DECL|member|start
id|u32
id|start
suffix:semicolon
DECL|member|len
id|u32
id|len
suffix:semicolon
DECL|member|red
id|compat_caddr_t
id|red
suffix:semicolon
DECL|member|green
id|compat_caddr_t
id|green
suffix:semicolon
DECL|member|blue
id|compat_caddr_t
id|blue
suffix:semicolon
DECL|member|transp
id|compat_caddr_t
id|transp
suffix:semicolon
)brace
suffix:semicolon
DECL|function|fb_getput_cmap
r_static
r_int
id|fb_getput_cmap
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|fb_cmap_user
id|__user
op_star
id|cmap
suffix:semicolon
r_struct
id|fb_cmap32
id|__user
op_star
id|cmap32
suffix:semicolon
id|__u32
id|data
suffix:semicolon
r_int
id|err
suffix:semicolon
id|cmap
op_assign
id|compat_alloc_user_space
c_func
(paren
r_sizeof
(paren
op_star
id|cmap
)paren
)paren
suffix:semicolon
id|cmap32
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
r_if
c_cond
(paren
id|copy_in_user
c_func
(paren
op_amp
id|cmap-&gt;start
comma
op_amp
id|cmap32-&gt;start
comma
l_int|2
op_star
r_sizeof
(paren
id|__u32
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|data
comma
op_amp
id|cmap32-&gt;red
)paren
op_logical_or
id|put_user
c_func
(paren
id|compat_ptr
c_func
(paren
id|data
)paren
comma
op_amp
id|cmap-&gt;red
)paren
op_logical_or
id|get_user
c_func
(paren
id|data
comma
op_amp
id|cmap32-&gt;green
)paren
op_logical_or
id|put_user
c_func
(paren
id|compat_ptr
c_func
(paren
id|data
)paren
comma
op_amp
id|cmap-&gt;green
)paren
op_logical_or
id|get_user
c_func
(paren
id|data
comma
op_amp
id|cmap32-&gt;blue
)paren
op_logical_or
id|put_user
c_func
(paren
id|compat_ptr
c_func
(paren
id|data
)paren
comma
op_amp
id|cmap-&gt;blue
)paren
op_logical_or
id|get_user
c_func
(paren
id|data
comma
op_amp
id|cmap32-&gt;transp
)paren
op_logical_or
id|put_user
c_func
(paren
id|compat_ptr
c_func
(paren
id|data
)paren
comma
op_amp
id|cmap-&gt;transp
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|err
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
id|cmap
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|err
)paren
(brace
r_if
c_cond
(paren
id|copy_in_user
c_func
(paren
op_amp
id|cmap32-&gt;start
comma
op_amp
id|cmap-&gt;start
comma
l_int|2
op_star
r_sizeof
(paren
id|__u32
)paren
)paren
)paren
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
)brace
r_return
id|err
suffix:semicolon
)brace
DECL|function|do_fscreeninfo_to_user
r_static
r_int
id|do_fscreeninfo_to_user
c_func
(paren
r_struct
id|fb_fix_screeninfo
op_star
id|fix
comma
r_struct
id|fb_fix_screeninfo32
id|__user
op_star
id|fix32
)paren
(brace
id|__u32
id|data
suffix:semicolon
r_int
id|err
suffix:semicolon
id|err
op_assign
id|copy_to_user
c_func
(paren
op_amp
id|fix32-&gt;id
comma
op_amp
id|fix-&gt;id
comma
r_sizeof
(paren
id|fix32-&gt;id
)paren
)paren
suffix:semicolon
id|data
op_assign
(paren
id|__u32
)paren
(paren
r_int
r_int
)paren
id|fix-&gt;smem_start
suffix:semicolon
id|err
op_or_assign
id|put_user
c_func
(paren
id|data
comma
op_amp
id|fix32-&gt;smem_start
)paren
suffix:semicolon
id|err
op_or_assign
id|put_user
c_func
(paren
id|fix-&gt;smem_len
comma
op_amp
id|fix32-&gt;smem_len
)paren
suffix:semicolon
id|err
op_or_assign
id|put_user
c_func
(paren
id|fix-&gt;type
comma
op_amp
id|fix32-&gt;type
)paren
suffix:semicolon
id|err
op_or_assign
id|put_user
c_func
(paren
id|fix-&gt;type_aux
comma
op_amp
id|fix32-&gt;type_aux
)paren
suffix:semicolon
id|err
op_or_assign
id|put_user
c_func
(paren
id|fix-&gt;visual
comma
op_amp
id|fix32-&gt;visual
)paren
suffix:semicolon
id|err
op_or_assign
id|put_user
c_func
(paren
id|fix-&gt;xpanstep
comma
op_amp
id|fix32-&gt;xpanstep
)paren
suffix:semicolon
id|err
op_or_assign
id|put_user
c_func
(paren
id|fix-&gt;ypanstep
comma
op_amp
id|fix32-&gt;ypanstep
)paren
suffix:semicolon
id|err
op_or_assign
id|put_user
c_func
(paren
id|fix-&gt;ywrapstep
comma
op_amp
id|fix32-&gt;ywrapstep
)paren
suffix:semicolon
id|err
op_or_assign
id|put_user
c_func
(paren
id|fix-&gt;line_length
comma
op_amp
id|fix32-&gt;line_length
)paren
suffix:semicolon
id|data
op_assign
(paren
id|__u32
)paren
(paren
r_int
r_int
)paren
id|fix-&gt;mmio_start
suffix:semicolon
id|err
op_or_assign
id|put_user
c_func
(paren
id|data
comma
op_amp
id|fix32-&gt;mmio_start
)paren
suffix:semicolon
id|err
op_or_assign
id|put_user
c_func
(paren
id|fix-&gt;mmio_len
comma
op_amp
id|fix32-&gt;mmio_len
)paren
suffix:semicolon
id|err
op_or_assign
id|put_user
c_func
(paren
id|fix-&gt;accel
comma
op_amp
id|fix32-&gt;accel
)paren
suffix:semicolon
id|err
op_or_assign
id|copy_to_user
c_func
(paren
id|fix32-&gt;reserved
comma
id|fix-&gt;reserved
comma
r_sizeof
(paren
id|fix-&gt;reserved
)paren
)paren
suffix:semicolon
r_return
id|err
suffix:semicolon
)brace
DECL|function|fb_get_fscreeninfo
r_static
r_int
id|fb_get_fscreeninfo
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|mm_segment_t
id|old_fs
suffix:semicolon
r_struct
id|fb_fix_screeninfo
id|fix
suffix:semicolon
r_struct
id|fb_fix_screeninfo32
id|__user
op_star
id|fix32
suffix:semicolon
r_int
id|err
suffix:semicolon
id|fix32
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
op_amp
id|fix
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|err
)paren
id|err
op_assign
id|do_fscreeninfo_to_user
c_func
(paren
op_amp
id|fix
comma
id|fix32
)paren
suffix:semicolon
r_return
id|err
suffix:semicolon
)brace
DECL|function|fb_ioctl_trans
r_static
r_int
id|fb_ioctl_trans
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_int
id|err
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|FBIOGET_FSCREENINFO
suffix:colon
id|err
op_assign
id|fb_get_fscreeninfo
c_func
(paren
id|fd
comma
id|cmd
comma
id|arg
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|FBIOGETCMAP
suffix:colon
r_case
id|FBIOPUTCMAP
suffix:colon
id|err
op_assign
id|fb_getput_cmap
c_func
(paren
id|fd
comma
id|cmd
comma
id|arg
)paren
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
(brace
)brace
r_do
(brace
r_static
r_int
id|count
suffix:semicolon
r_if
c_cond
(paren
op_increment
id|count
op_le
l_int|20
)paren
id|printk
c_func
(paren
l_string|&quot;%s: Unknown fb ioctl cmd fd(%d) &quot;
l_string|&quot;cmd(%08x) arg(%08lx)&bslash;n&quot;
comma
id|__FUNCTION__
comma
id|fd
comma
id|cmd
comma
id|arg
)paren
suffix:semicolon
)brace
r_while
c_loop
(paren
l_int|0
)paren
(brace
suffix:semicolon
)brace
id|err
op_assign
op_minus
id|ENOSYS
suffix:semicolon
r_break
suffix:semicolon
)brace
suffix:semicolon
r_return
id|err
suffix:semicolon
)brace
DECL|function|hdio_ioctl_trans
r_static
r_int
id|hdio_ioctl_trans
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
r_int
r_int
id|kval
suffix:semicolon
r_int
r_int
id|__user
op_star
id|uvp
suffix:semicolon
r_int
id|error
suffix:semicolon
id|set_fs
c_func
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|error
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
)paren
op_amp
id|kval
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
id|error
op_eq
l_int|0
)paren
(brace
id|uvp
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
r_if
c_cond
(paren
id|put_user
c_func
(paren
id|kval
comma
id|uvp
)paren
)paren
(brace
id|error
op_assign
op_minus
id|EFAULT
suffix:semicolon
)brace
)brace
r_return
id|error
suffix:semicolon
)brace
DECL|struct|sg_io_hdr32
r_typedef
r_struct
id|sg_io_hdr32
(brace
DECL|member|interface_id
id|compat_int_t
id|interface_id
suffix:semicolon
multiline_comment|/* [i] &squot;S&squot; for SCSI generic (required) */
DECL|member|dxfer_direction
id|compat_int_t
id|dxfer_direction
suffix:semicolon
multiline_comment|/* [i] data transfer direction  */
DECL|member|cmd_len
r_int
r_char
id|cmd_len
suffix:semicolon
multiline_comment|/* [i] SCSI command length ( &lt;= 16 bytes) */
DECL|member|mx_sb_len
r_int
r_char
id|mx_sb_len
suffix:semicolon
multiline_comment|/* [i] max length to write to sbp */
DECL|member|iovec_count
r_int
r_int
id|iovec_count
suffix:semicolon
multiline_comment|/* [i] 0 implies no scatter gather */
DECL|member|dxfer_len
id|compat_uint_t
id|dxfer_len
suffix:semicolon
multiline_comment|/* [i] byte count of data transfer */
DECL|member|dxferp
id|compat_uint_t
id|dxferp
suffix:semicolon
multiline_comment|/* [i], [*io] points to data transfer memory&n;&t;&t;&t;&t;&t;      or scatter gather list */
DECL|member|cmdp
id|compat_uptr_t
id|cmdp
suffix:semicolon
multiline_comment|/* [i], [*i] points to command to perform */
DECL|member|sbp
id|compat_uptr_t
id|sbp
suffix:semicolon
multiline_comment|/* [i], [*o] points to sense_buffer memory */
DECL|member|timeout
id|compat_uint_t
id|timeout
suffix:semicolon
multiline_comment|/* [i] MAX_UINT-&gt;no timeout (unit: millisec) */
DECL|member|flags
id|compat_uint_t
id|flags
suffix:semicolon
multiline_comment|/* [i] 0 -&gt; default, see SG_FLAG... */
DECL|member|pack_id
id|compat_int_t
id|pack_id
suffix:semicolon
multiline_comment|/* [i-&gt;o] unused internally (normally) */
DECL|member|usr_ptr
id|compat_uptr_t
id|usr_ptr
suffix:semicolon
multiline_comment|/* [i-&gt;o] unused internally */
DECL|member|status
r_int
r_char
id|status
suffix:semicolon
multiline_comment|/* [o] scsi status */
DECL|member|masked_status
r_int
r_char
id|masked_status
suffix:semicolon
multiline_comment|/* [o] shifted, masked scsi status */
DECL|member|msg_status
r_int
r_char
id|msg_status
suffix:semicolon
multiline_comment|/* [o] messaging level data (optional) */
DECL|member|sb_len_wr
r_int
r_char
id|sb_len_wr
suffix:semicolon
multiline_comment|/* [o] byte count actually written to sbp */
DECL|member|host_status
r_int
r_int
id|host_status
suffix:semicolon
multiline_comment|/* [o] errors from host adapter */
DECL|member|driver_status
r_int
r_int
id|driver_status
suffix:semicolon
multiline_comment|/* [o] errors from software driver */
DECL|member|resid
id|compat_int_t
id|resid
suffix:semicolon
multiline_comment|/* [o] dxfer_len - actual_transferred */
DECL|member|duration
id|compat_uint_t
id|duration
suffix:semicolon
multiline_comment|/* [o] time taken by cmd (unit: millisec) */
DECL|member|info
id|compat_uint_t
id|info
suffix:semicolon
multiline_comment|/* [o] auxiliary information */
DECL|typedef|sg_io_hdr32_t
)brace
id|sg_io_hdr32_t
suffix:semicolon
multiline_comment|/* 64 bytes long (on sparc32) */
DECL|struct|sg_iovec32
r_typedef
r_struct
id|sg_iovec32
(brace
DECL|member|iov_base
id|compat_uint_t
id|iov_base
suffix:semicolon
DECL|member|iov_len
id|compat_uint_t
id|iov_len
suffix:semicolon
DECL|typedef|sg_iovec32_t
)brace
id|sg_iovec32_t
suffix:semicolon
DECL|function|sg_build_iovec
r_static
r_int
id|sg_build_iovec
c_func
(paren
id|sg_io_hdr_t
id|__user
op_star
id|sgio
comma
r_void
id|__user
op_star
id|dxferp
comma
id|u16
id|iovec_count
)paren
(brace
id|sg_iovec_t
id|__user
op_star
id|iov
op_assign
(paren
id|sg_iovec_t
id|__user
op_star
)paren
(paren
id|sgio
op_plus
l_int|1
)paren
suffix:semicolon
id|sg_iovec32_t
id|__user
op_star
id|iov32
op_assign
id|dxferp
suffix:semicolon
r_int
id|i
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|iovec_count
suffix:semicolon
id|i
op_increment
)paren
(brace
id|u32
id|base
comma
id|len
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|base
comma
op_amp
id|iov32
(braket
id|i
)braket
dot
id|iov_base
)paren
op_logical_or
id|get_user
c_func
(paren
id|len
comma
op_amp
id|iov32
(braket
id|i
)braket
dot
id|iov_len
)paren
op_logical_or
id|put_user
c_func
(paren
id|compat_ptr
c_func
(paren
id|base
)paren
comma
op_amp
id|iov
(braket
id|i
)braket
dot
id|iov_base
)paren
op_logical_or
id|put_user
c_func
(paren
id|len
comma
op_amp
id|iov
(braket
id|i
)braket
dot
id|iov_len
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
)brace
r_if
c_cond
(paren
id|put_user
c_func
(paren
id|iov
comma
op_amp
id|sgio-&gt;dxferp
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|sg_ioctl_trans
r_static
r_int
id|sg_ioctl_trans
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|sg_io_hdr_t
id|__user
op_star
id|sgio
suffix:semicolon
id|sg_io_hdr32_t
id|__user
op_star
id|sgio32
suffix:semicolon
id|u16
id|iovec_count
suffix:semicolon
id|u32
id|data
suffix:semicolon
r_void
id|__user
op_star
id|dxferp
suffix:semicolon
r_int
id|err
suffix:semicolon
id|sgio32
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|iovec_count
comma
op_amp
id|sgio32-&gt;iovec_count
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
(brace
r_void
id|__user
op_star
id|top
op_assign
id|compat_alloc_user_space
c_func
(paren
l_int|0
)paren
suffix:semicolon
r_void
id|__user
op_star
r_new
op_assign
id|compat_alloc_user_space
c_func
(paren
r_sizeof
(paren
id|sg_io_hdr_t
)paren
op_plus
(paren
id|iovec_count
op_star
r_sizeof
(paren
id|sg_iovec_t
)paren
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
r_new
OG
id|top
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
id|sgio
op_assign
r_new
suffix:semicolon
)brace
multiline_comment|/* Ok, now construct.  */
r_if
c_cond
(paren
id|copy_in_user
c_func
(paren
op_amp
id|sgio-&gt;interface_id
comma
op_amp
id|sgio32-&gt;interface_id
comma
(paren
l_int|2
op_star
r_sizeof
(paren
r_int
)paren
)paren
op_plus
(paren
l_int|2
op_star
r_sizeof
(paren
r_int
r_char
)paren
)paren
op_plus
(paren
l_int|1
op_star
r_sizeof
(paren
r_int
r_int
)paren
)paren
op_plus
(paren
l_int|1
op_star
r_sizeof
(paren
r_int
r_int
)paren
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|data
comma
op_amp
id|sgio32-&gt;dxferp
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|dxferp
op_assign
id|compat_ptr
c_func
(paren
id|data
)paren
suffix:semicolon
r_if
c_cond
(paren
id|iovec_count
)paren
(brace
r_if
c_cond
(paren
id|sg_build_iovec
c_func
(paren
id|sgio
comma
id|dxferp
comma
id|iovec_count
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
)brace
r_else
(brace
r_if
c_cond
(paren
id|put_user
c_func
(paren
id|dxferp
comma
op_amp
id|sgio-&gt;dxferp
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
)brace
(brace
r_int
r_char
id|__user
op_star
id|cmdp
suffix:semicolon
r_int
r_char
id|__user
op_star
id|sbp
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|data
comma
op_amp
id|sgio32-&gt;cmdp
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|cmdp
op_assign
id|compat_ptr
c_func
(paren
id|data
)paren
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|data
comma
op_amp
id|sgio32-&gt;sbp
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|sbp
op_assign
id|compat_ptr
c_func
(paren
id|data
)paren
suffix:semicolon
r_if
c_cond
(paren
id|put_user
c_func
(paren
id|cmdp
comma
op_amp
id|sgio-&gt;cmdp
)paren
op_logical_or
id|put_user
c_func
(paren
id|sbp
comma
op_amp
id|sgio-&gt;sbp
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
)brace
r_if
c_cond
(paren
id|copy_in_user
c_func
(paren
op_amp
id|sgio-&gt;timeout
comma
op_amp
id|sgio32-&gt;timeout
comma
l_int|3
op_star
r_sizeof
(paren
r_int
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|data
comma
op_amp
id|sgio32-&gt;usr_ptr
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|put_user
c_func
(paren
id|compat_ptr
c_func
(paren
id|data
)paren
comma
op_amp
id|sgio-&gt;usr_ptr
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|copy_in_user
c_func
(paren
op_amp
id|sgio-&gt;status
comma
op_amp
id|sgio32-&gt;status
comma
(paren
l_int|4
op_star
r_sizeof
(paren
r_int
r_char
)paren
)paren
op_plus
(paren
l_int|2
op_star
r_sizeof
(paren
r_int
(paren
r_int
)paren
)paren
)paren
op_plus
(paren
l_int|3
op_star
r_sizeof
(paren
r_int
)paren
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|err
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
id|sgio
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
op_ge
l_int|0
)paren
(brace
r_void
id|__user
op_star
id|datap
suffix:semicolon
r_if
c_cond
(paren
id|copy_in_user
c_func
(paren
op_amp
id|sgio32-&gt;pack_id
comma
op_amp
id|sgio-&gt;pack_id
comma
r_sizeof
(paren
r_int
)paren
)paren
op_logical_or
id|get_user
c_func
(paren
id|datap
comma
op_amp
id|sgio-&gt;usr_ptr
)paren
op_logical_or
id|put_user
c_func
(paren
(paren
id|u32
)paren
(paren
r_int
r_int
)paren
id|datap
comma
op_amp
id|sgio32-&gt;usr_ptr
)paren
op_logical_or
id|copy_in_user
c_func
(paren
op_amp
id|sgio32-&gt;status
comma
op_amp
id|sgio-&gt;status
comma
(paren
l_int|4
op_star
r_sizeof
(paren
r_int
r_char
)paren
)paren
op_plus
(paren
l_int|2
op_star
r_sizeof
(paren
r_int
r_int
)paren
)paren
op_plus
(paren
l_int|3
op_star
r_sizeof
(paren
r_int
)paren
)paren
)paren
)paren
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
)brace
r_return
id|err
suffix:semicolon
)brace
DECL|struct|sock_fprog32
r_struct
id|sock_fprog32
(brace
DECL|member|len
r_int
r_int
id|len
suffix:semicolon
DECL|member|filter
id|compat_caddr_t
id|filter
suffix:semicolon
)brace
suffix:semicolon
DECL|macro|PPPIOCSPASS32
mdefine_line|#define PPPIOCSPASS32&t;_IOW(&squot;t&squot;, 71, struct sock_fprog32)
DECL|macro|PPPIOCSACTIVE32
mdefine_line|#define PPPIOCSACTIVE32&t;_IOW(&squot;t&squot;, 70, struct sock_fprog32)
DECL|function|ppp_sock_fprog_ioctl_trans
r_static
r_int
id|ppp_sock_fprog_ioctl_trans
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|sock_fprog32
id|__user
op_star
id|u_fprog32
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
r_struct
id|sock_fprog
id|__user
op_star
id|u_fprog64
op_assign
id|compat_alloc_user_space
c_func
(paren
r_sizeof
(paren
r_struct
id|sock_fprog
)paren
)paren
suffix:semicolon
r_void
id|__user
op_star
id|fptr64
suffix:semicolon
id|u32
id|fptr32
suffix:semicolon
id|u16
id|flen
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|flen
comma
op_amp
id|u_fprog32-&gt;len
)paren
op_logical_or
id|get_user
c_func
(paren
id|fptr32
comma
op_amp
id|u_fprog32-&gt;filter
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|fptr64
op_assign
id|compat_ptr
c_func
(paren
id|fptr32
)paren
suffix:semicolon
r_if
c_cond
(paren
id|put_user
c_func
(paren
id|flen
comma
op_amp
id|u_fprog64-&gt;len
)paren
op_logical_or
id|put_user
c_func
(paren
id|fptr64
comma
op_amp
id|u_fprog64-&gt;filter
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|cmd
op_eq
id|PPPIOCSPASS32
)paren
id|cmd
op_assign
id|PPPIOCSPASS
suffix:semicolon
r_else
id|cmd
op_assign
id|PPPIOCSACTIVE
suffix:semicolon
r_return
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
id|u_fprog64
)paren
suffix:semicolon
)brace
DECL|struct|ppp_option_data32
r_struct
id|ppp_option_data32
(brace
DECL|member|ptr
id|compat_caddr_t
id|ptr
suffix:semicolon
DECL|member|length
id|u32
id|length
suffix:semicolon
DECL|member|transmit
id|compat_int_t
id|transmit
suffix:semicolon
)brace
suffix:semicolon
DECL|macro|PPPIOCSCOMPRESS32
mdefine_line|#define PPPIOCSCOMPRESS32&t;_IOW(&squot;t&squot;, 77, struct ppp_option_data32)
DECL|struct|ppp_idle32
r_struct
id|ppp_idle32
(brace
DECL|member|xmit_idle
id|compat_time_t
id|xmit_idle
suffix:semicolon
DECL|member|recv_idle
id|compat_time_t
id|recv_idle
suffix:semicolon
)brace
suffix:semicolon
DECL|macro|PPPIOCGIDLE32
mdefine_line|#define PPPIOCGIDLE32&t;&t;_IOR(&squot;t&squot;, 63, struct ppp_idle32)
DECL|function|ppp_gidle
r_static
r_int
id|ppp_gidle
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|ppp_idle
id|__user
op_star
id|idle
suffix:semicolon
r_struct
id|ppp_idle32
id|__user
op_star
id|idle32
suffix:semicolon
id|__kernel_time_t
id|xmit
comma
id|recv
suffix:semicolon
r_int
id|err
suffix:semicolon
id|idle
op_assign
id|compat_alloc_user_space
c_func
(paren
r_sizeof
(paren
op_star
id|idle
)paren
)paren
suffix:semicolon
id|idle32
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|PPPIOCGIDLE
comma
(paren
r_int
r_int
)paren
id|idle
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|err
)paren
(brace
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|xmit
comma
op_amp
id|idle-&gt;xmit_idle
)paren
op_logical_or
id|get_user
c_func
(paren
id|recv
comma
op_amp
id|idle-&gt;recv_idle
)paren
op_logical_or
id|put_user
c_func
(paren
id|xmit
comma
op_amp
id|idle32-&gt;xmit_idle
)paren
op_logical_or
id|put_user
c_func
(paren
id|recv
comma
op_amp
id|idle32-&gt;recv_idle
)paren
)paren
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
)brace
r_return
id|err
suffix:semicolon
)brace
DECL|function|ppp_scompress
r_static
r_int
id|ppp_scompress
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|ppp_option_data
id|__user
op_star
id|odata
suffix:semicolon
r_struct
id|ppp_option_data32
id|__user
op_star
id|odata32
suffix:semicolon
id|__u32
id|data
suffix:semicolon
r_void
id|__user
op_star
id|datap
suffix:semicolon
id|odata
op_assign
id|compat_alloc_user_space
c_func
(paren
r_sizeof
(paren
op_star
id|odata
)paren
)paren
suffix:semicolon
id|odata32
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|data
comma
op_amp
id|odata32-&gt;ptr
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|datap
op_assign
id|compat_ptr
c_func
(paren
id|data
)paren
suffix:semicolon
r_if
c_cond
(paren
id|put_user
c_func
(paren
id|datap
comma
op_amp
id|odata-&gt;ptr
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|copy_in_user
c_func
(paren
op_amp
id|odata-&gt;length
comma
op_amp
id|odata32-&gt;length
comma
r_sizeof
(paren
id|__u32
)paren
op_plus
r_sizeof
(paren
r_int
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_return
id|sys_ioctl
c_func
(paren
id|fd
comma
id|PPPIOCSCOMPRESS
comma
(paren
r_int
r_int
)paren
id|odata
)paren
suffix:semicolon
)brace
DECL|function|ppp_ioctl_trans
r_static
r_int
id|ppp_ioctl_trans
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_int
id|err
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|PPPIOCGIDLE32
suffix:colon
id|err
op_assign
id|ppp_gidle
c_func
(paren
id|fd
comma
id|cmd
comma
id|arg
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|PPPIOCSCOMPRESS32
suffix:colon
id|err
op_assign
id|ppp_scompress
c_func
(paren
id|fd
comma
id|cmd
comma
id|arg
)paren
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
(brace
)brace
r_do
(brace
r_static
r_int
id|count
suffix:semicolon
r_if
c_cond
(paren
op_increment
id|count
op_le
l_int|20
)paren
id|printk
c_func
(paren
l_string|&quot;ppp_ioctl: Unknown cmd fd(%d) &quot;
l_string|&quot;cmd(%08x) arg(%08x)&bslash;n&quot;
comma
(paren
r_int
)paren
id|fd
comma
(paren
r_int
r_int
)paren
id|cmd
comma
(paren
r_int
r_int
)paren
id|arg
)paren
suffix:semicolon
)brace
r_while
c_loop
(paren
l_int|0
)paren
(brace
suffix:semicolon
)brace
id|err
op_assign
op_minus
id|EINVAL
suffix:semicolon
r_break
suffix:semicolon
)brace
suffix:semicolon
r_return
id|err
suffix:semicolon
)brace
DECL|struct|mtget32
r_struct
id|mtget32
(brace
DECL|member|mt_type
id|compat_long_t
id|mt_type
suffix:semicolon
DECL|member|mt_resid
id|compat_long_t
id|mt_resid
suffix:semicolon
DECL|member|mt_dsreg
id|compat_long_t
id|mt_dsreg
suffix:semicolon
DECL|member|mt_gstat
id|compat_long_t
id|mt_gstat
suffix:semicolon
DECL|member|mt_erreg
id|compat_long_t
id|mt_erreg
suffix:semicolon
DECL|member|mt_fileno
id|compat_daddr_t
id|mt_fileno
suffix:semicolon
DECL|member|mt_blkno
id|compat_daddr_t
id|mt_blkno
suffix:semicolon
)brace
suffix:semicolon
DECL|macro|MTIOCGET32
mdefine_line|#define MTIOCGET32&t;_IOR(&squot;m&squot;, 2, struct mtget32)
DECL|struct|mtpos32
r_struct
id|mtpos32
(brace
DECL|member|mt_blkno
id|compat_long_t
id|mt_blkno
suffix:semicolon
)brace
suffix:semicolon
DECL|macro|MTIOCPOS32
mdefine_line|#define MTIOCPOS32&t;_IOR(&squot;m&squot;, 3, struct mtpos32)
DECL|struct|mtconfiginfo32
r_struct
id|mtconfiginfo32
(brace
DECL|member|mt_type
id|compat_long_t
id|mt_type
suffix:semicolon
DECL|member|ifc_type
id|compat_long_t
id|ifc_type
suffix:semicolon
DECL|member|irqnr
r_int
r_int
id|irqnr
suffix:semicolon
DECL|member|dmanr
r_int
r_int
id|dmanr
suffix:semicolon
DECL|member|port
r_int
r_int
id|port
suffix:semicolon
DECL|member|debug
id|compat_ulong_t
id|debug
suffix:semicolon
DECL|member|have_dens
id|compat_uint_t
id|have_dens
suffix:colon
l_int|1
suffix:semicolon
DECL|member|have_bsf
id|compat_uint_t
id|have_bsf
suffix:colon
l_int|1
suffix:semicolon
DECL|member|have_fsr
id|compat_uint_t
id|have_fsr
suffix:colon
l_int|1
suffix:semicolon
DECL|member|have_bsr
id|compat_uint_t
id|have_bsr
suffix:colon
l_int|1
suffix:semicolon
DECL|member|have_eod
id|compat_uint_t
id|have_eod
suffix:colon
l_int|1
suffix:semicolon
DECL|member|have_seek
id|compat_uint_t
id|have_seek
suffix:colon
l_int|1
suffix:semicolon
DECL|member|have_tell
id|compat_uint_t
id|have_tell
suffix:colon
l_int|1
suffix:semicolon
DECL|member|have_ras1
id|compat_uint_t
id|have_ras1
suffix:colon
l_int|1
suffix:semicolon
DECL|member|have_ras2
id|compat_uint_t
id|have_ras2
suffix:colon
l_int|1
suffix:semicolon
DECL|member|have_ras3
id|compat_uint_t
id|have_ras3
suffix:colon
l_int|1
suffix:semicolon
DECL|member|have_qfa
id|compat_uint_t
id|have_qfa
suffix:colon
l_int|1
suffix:semicolon
DECL|member|pad1
id|compat_uint_t
id|pad1
suffix:colon
l_int|5
suffix:semicolon
DECL|member|reserved
r_char
id|reserved
(braket
l_int|10
)braket
suffix:semicolon
)brace
suffix:semicolon
DECL|macro|MTIOCGETCONFIG32
mdefine_line|#define&t;MTIOCGETCONFIG32&t;_IOR(&squot;m&squot;, 4, struct mtconfiginfo32)
DECL|macro|MTIOCSETCONFIG32
mdefine_line|#define&t;MTIOCSETCONFIG32&t;_IOW(&squot;m&squot;, 5, struct mtconfiginfo32)
DECL|function|mt_ioctl_trans
r_static
r_int
id|mt_ioctl_trans
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
r_struct
id|mtconfiginfo
id|info
suffix:semicolon
r_struct
id|mtconfiginfo32
id|__user
op_star
id|uinfo32
suffix:semicolon
r_struct
id|mtget
id|get
suffix:semicolon
r_struct
id|mtget32
id|__user
op_star
id|umget32
suffix:semicolon
r_struct
id|mtpos
id|pos
suffix:semicolon
r_struct
id|mtpos32
id|__user
op_star
id|upos32
suffix:semicolon
r_int
r_int
id|kcmd
suffix:semicolon
r_void
op_star
id|karg
suffix:semicolon
r_int
id|err
op_assign
l_int|0
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|MTIOCPOS32
suffix:colon
id|kcmd
op_assign
id|MTIOCPOS
suffix:semicolon
id|karg
op_assign
op_amp
id|pos
suffix:semicolon
r_break
suffix:semicolon
r_case
id|MTIOCGET32
suffix:colon
id|kcmd
op_assign
id|MTIOCGET
suffix:semicolon
id|karg
op_assign
op_amp
id|get
suffix:semicolon
r_break
suffix:semicolon
r_case
id|MTIOCGETCONFIG32
suffix:colon
id|kcmd
op_assign
id|MTIOCGETCONFIG
suffix:semicolon
id|karg
op_assign
op_amp
id|info
suffix:semicolon
r_break
suffix:semicolon
r_case
id|MTIOCSETCONFIG32
suffix:colon
id|kcmd
op_assign
id|MTIOCSETCONFIG
suffix:semicolon
id|karg
op_assign
op_amp
id|info
suffix:semicolon
id|uinfo32
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
id|err
op_assign
id|__get_user
c_func
(paren
id|info.mt_type
comma
op_amp
id|uinfo32-&gt;mt_type
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|info.ifc_type
comma
op_amp
id|uinfo32-&gt;ifc_type
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|info.irqnr
comma
op_amp
id|uinfo32-&gt;irqnr
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|info.dmanr
comma
op_amp
id|uinfo32-&gt;dmanr
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|info.port
comma
op_amp
id|uinfo32-&gt;port
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|info.debug
comma
op_amp
id|uinfo32-&gt;debug
)paren
suffix:semicolon
id|err
op_or_assign
id|__copy_from_user
c_func
(paren
(paren
r_char
op_star
)paren
op_amp
id|info.debug
op_plus
r_sizeof
(paren
id|info.debug
)paren
comma
(paren
r_char
id|__user
op_star
)paren
op_amp
id|uinfo32-&gt;debug
op_plus
r_sizeof
(paren
id|uinfo32-&gt;debug
)paren
comma
r_sizeof
(paren
id|__u32
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
(brace
)brace
r_do
(brace
r_static
r_int
id|count
suffix:semicolon
r_if
c_cond
(paren
op_increment
id|count
op_le
l_int|20
)paren
id|printk
c_func
(paren
l_string|&quot;mt_ioctl: Unknown cmd fd(%d) &quot;
l_string|&quot;cmd(%08x) arg(%08x)&bslash;n&quot;
comma
(paren
r_int
)paren
id|fd
comma
(paren
r_int
r_int
)paren
id|cmd
comma
(paren
r_int
r_int
)paren
id|arg
)paren
suffix:semicolon
)brace
r_while
c_loop
(paren
l_int|0
)paren
(brace
suffix:semicolon
)brace
r_return
op_minus
id|EINVAL
suffix:semicolon
)brace
id|set_fs
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
(paren
id|fd
comma
id|kcmd
comma
(paren
r_int
r_int
)paren
id|karg
)paren
suffix:semicolon
id|set_fs
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_return
id|err
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|MTIOCPOS32
suffix:colon
id|upos32
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
id|err
op_assign
id|__put_user
c_func
(paren
id|pos.mt_blkno
comma
op_amp
id|upos32-&gt;mt_blkno
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|MTIOCGET32
suffix:colon
id|umget32
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
id|err
op_assign
id|__put_user
c_func
(paren
id|get.mt_type
comma
op_amp
id|umget32-&gt;mt_type
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|get.mt_resid
comma
op_amp
id|umget32-&gt;mt_resid
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|get.mt_dsreg
comma
op_amp
id|umget32-&gt;mt_dsreg
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|get.mt_gstat
comma
op_amp
id|umget32-&gt;mt_gstat
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|get.mt_erreg
comma
op_amp
id|umget32-&gt;mt_erreg
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|get.mt_fileno
comma
op_amp
id|umget32-&gt;mt_fileno
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|get.mt_blkno
comma
op_amp
id|umget32-&gt;mt_blkno
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|MTIOCGETCONFIG32
suffix:colon
id|uinfo32
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
id|err
op_assign
id|__put_user
c_func
(paren
id|info.mt_type
comma
op_amp
id|uinfo32-&gt;mt_type
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|info.ifc_type
comma
op_amp
id|uinfo32-&gt;ifc_type
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|info.irqnr
comma
op_amp
id|uinfo32-&gt;irqnr
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|info.dmanr
comma
op_amp
id|uinfo32-&gt;dmanr
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|info.port
comma
op_amp
id|uinfo32-&gt;port
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|info.debug
comma
op_amp
id|uinfo32-&gt;debug
)paren
suffix:semicolon
id|err
op_or_assign
id|__copy_to_user
c_func
(paren
(paren
r_char
id|__user
op_star
)paren
op_amp
id|uinfo32-&gt;debug
op_plus
r_sizeof
(paren
id|uinfo32-&gt;debug
)paren
comma
(paren
r_char
op_star
)paren
op_amp
id|info.debug
op_plus
r_sizeof
(paren
id|info.debug
)paren
comma
r_sizeof
(paren
id|__u32
)paren
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|MTIOCSETCONFIG32
suffix:colon
r_break
suffix:semicolon
)brace
r_return
id|err
ques
c_cond
op_minus
id|EFAULT
suffix:colon
l_int|0
suffix:semicolon
)brace
DECL|struct|cdrom_read_audio32
r_struct
id|cdrom_read_audio32
(brace
DECL|member|addr
r_union
id|cdrom_addr
id|addr
suffix:semicolon
DECL|member|addr_format
id|u8
id|addr_format
suffix:semicolon
DECL|member|nframes
id|compat_int_t
id|nframes
suffix:semicolon
DECL|member|buf
id|compat_caddr_t
id|buf
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|cdrom_generic_command32
r_struct
id|cdrom_generic_command32
(brace
DECL|member|cmd
r_int
r_char
id|cmd
(braket
id|CDROM_PACKET_SIZE
)braket
suffix:semicolon
DECL|member|buffer
id|compat_caddr_t
id|buffer
suffix:semicolon
DECL|member|buflen
id|compat_uint_t
id|buflen
suffix:semicolon
DECL|member|stat
id|compat_int_t
id|stat
suffix:semicolon
DECL|member|sense
id|compat_caddr_t
id|sense
suffix:semicolon
DECL|member|data_direction
r_int
r_char
id|data_direction
suffix:semicolon
DECL|member|quiet
id|compat_int_t
id|quiet
suffix:semicolon
DECL|member|timeout
id|compat_int_t
id|timeout
suffix:semicolon
DECL|member|reserved
id|compat_caddr_t
id|reserved
(braket
l_int|1
)braket
suffix:semicolon
)brace
suffix:semicolon
DECL|function|cdrom_do_read_audio
r_static
r_int
id|cdrom_do_read_audio
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|cdrom_read_audio
id|__user
op_star
id|cdread_audio
suffix:semicolon
r_struct
id|cdrom_read_audio32
id|__user
op_star
id|cdread_audio32
suffix:semicolon
id|__u32
id|data
suffix:semicolon
r_void
id|__user
op_star
id|datap
suffix:semicolon
id|cdread_audio
op_assign
id|compat_alloc_user_space
c_func
(paren
r_sizeof
(paren
op_star
id|cdread_audio
)paren
)paren
suffix:semicolon
id|cdread_audio32
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
r_if
c_cond
(paren
id|copy_in_user
c_func
(paren
op_amp
id|cdread_audio-&gt;addr
comma
op_amp
id|cdread_audio32-&gt;addr
comma
(paren
r_sizeof
(paren
op_star
id|cdread_audio32
)paren
op_minus
r_sizeof
(paren
id|compat_caddr_t
)paren
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|data
comma
op_amp
id|cdread_audio32-&gt;buf
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|datap
op_assign
id|compat_ptr
c_func
(paren
id|data
)paren
suffix:semicolon
r_if
c_cond
(paren
id|put_user
c_func
(paren
id|datap
comma
op_amp
id|cdread_audio-&gt;buf
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_return
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
id|cdread_audio
)paren
suffix:semicolon
)brace
DECL|function|cdrom_do_generic_command
r_static
r_int
id|cdrom_do_generic_command
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|cdrom_generic_command
id|__user
op_star
id|cgc
suffix:semicolon
r_struct
id|cdrom_generic_command32
id|__user
op_star
id|cgc32
suffix:semicolon
id|u32
id|data
suffix:semicolon
r_int
r_char
id|dir
suffix:semicolon
r_int
id|itmp
suffix:semicolon
id|cgc
op_assign
id|compat_alloc_user_space
c_func
(paren
r_sizeof
(paren
op_star
id|cgc
)paren
)paren
suffix:semicolon
id|cgc32
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
r_if
c_cond
(paren
id|copy_in_user
c_func
(paren
op_amp
id|cgc-&gt;cmd
comma
op_amp
id|cgc32-&gt;cmd
comma
r_sizeof
(paren
id|cgc-&gt;cmd
)paren
)paren
op_logical_or
id|get_user
c_func
(paren
id|data
comma
op_amp
id|cgc32-&gt;buffer
)paren
op_logical_or
id|put_user
c_func
(paren
id|compat_ptr
c_func
(paren
id|data
)paren
comma
op_amp
id|cgc-&gt;buffer
)paren
op_logical_or
id|copy_in_user
c_func
(paren
op_amp
id|cgc-&gt;buflen
comma
op_amp
id|cgc32-&gt;buflen
comma
(paren
r_sizeof
(paren
r_int
r_int
)paren
op_plus
r_sizeof
(paren
r_int
)paren
)paren
)paren
op_logical_or
id|get_user
c_func
(paren
id|data
comma
op_amp
id|cgc32-&gt;sense
)paren
op_logical_or
id|put_user
c_func
(paren
id|compat_ptr
c_func
(paren
id|data
)paren
comma
op_amp
id|cgc-&gt;sense
)paren
op_logical_or
id|get_user
c_func
(paren
id|dir
comma
op_amp
id|cgc32-&gt;data_direction
)paren
op_logical_or
id|put_user
c_func
(paren
id|dir
comma
op_amp
id|cgc-&gt;data_direction
)paren
op_logical_or
id|get_user
c_func
(paren
id|itmp
comma
op_amp
id|cgc32-&gt;quiet
)paren
op_logical_or
id|put_user
c_func
(paren
id|itmp
comma
op_amp
id|cgc-&gt;quiet
)paren
op_logical_or
id|get_user
c_func
(paren
id|itmp
comma
op_amp
id|cgc32-&gt;timeout
)paren
op_logical_or
id|put_user
c_func
(paren
id|itmp
comma
op_amp
id|cgc-&gt;timeout
)paren
op_logical_or
id|get_user
c_func
(paren
id|data
comma
op_amp
id|cgc32-&gt;reserved
(braket
l_int|0
)braket
)paren
op_logical_or
id|put_user
c_func
(paren
id|compat_ptr
c_func
(paren
id|data
)paren
comma
op_amp
id|cgc-&gt;reserved
(braket
l_int|0
)braket
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_return
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
id|cgc
)paren
suffix:semicolon
)brace
DECL|function|cdrom_ioctl_trans
r_static
r_int
id|cdrom_ioctl_trans
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_int
id|err
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|CDROMREADAUDIO
suffix:colon
id|err
op_assign
id|cdrom_do_read_audio
c_func
(paren
id|fd
comma
id|cmd
comma
id|arg
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|CDROM_SEND_PACKET
suffix:colon
id|err
op_assign
id|cdrom_do_generic_command
c_func
(paren
id|fd
comma
id|cmd
comma
id|arg
)paren
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
(brace
)brace
r_do
(brace
r_static
r_int
id|count
suffix:semicolon
r_if
c_cond
(paren
op_increment
id|count
op_le
l_int|20
)paren
id|printk
c_func
(paren
l_string|&quot;cdrom_ioctl: Unknown cmd fd(%d) &quot;
l_string|&quot;cmd(%08x) arg(%08x)&bslash;n&quot;
comma
(paren
r_int
)paren
id|fd
comma
(paren
r_int
r_int
)paren
id|cmd
comma
(paren
r_int
r_int
)paren
id|arg
)paren
suffix:semicolon
)brace
r_while
c_loop
(paren
l_int|0
)paren
(brace
suffix:semicolon
)brace
id|err
op_assign
op_minus
id|EINVAL
suffix:semicolon
r_break
suffix:semicolon
)brace
suffix:semicolon
r_return
id|err
suffix:semicolon
)brace
DECL|struct|loop_info32
r_struct
id|loop_info32
(brace
DECL|member|lo_number
id|compat_int_t
id|lo_number
suffix:semicolon
multiline_comment|/* ioctl r/o */
DECL|member|lo_device
id|compat_dev_t
id|lo_device
suffix:semicolon
multiline_comment|/* ioctl r/o */
DECL|member|lo_inode
id|compat_ulong_t
id|lo_inode
suffix:semicolon
multiline_comment|/* ioctl r/o */
DECL|member|lo_rdevice
id|compat_dev_t
id|lo_rdevice
suffix:semicolon
multiline_comment|/* ioctl r/o */
DECL|member|lo_offset
id|compat_int_t
id|lo_offset
suffix:semicolon
DECL|member|lo_encrypt_type
id|compat_int_t
id|lo_encrypt_type
suffix:semicolon
DECL|member|lo_encrypt_key_size
id|compat_int_t
id|lo_encrypt_key_size
suffix:semicolon
multiline_comment|/* ioctl w/o */
DECL|member|lo_flags
id|compat_int_t
id|lo_flags
suffix:semicolon
multiline_comment|/* ioctl r/o */
DECL|member|lo_name
r_char
id|lo_name
(braket
id|LO_NAME_SIZE
)braket
suffix:semicolon
DECL|member|lo_encrypt_key
r_int
r_char
id|lo_encrypt_key
(braket
id|LO_KEY_SIZE
)braket
suffix:semicolon
multiline_comment|/* ioctl w/o */
DECL|member|lo_init
id|compat_ulong_t
id|lo_init
(braket
l_int|2
)braket
suffix:semicolon
DECL|member|reserved
r_char
id|reserved
(braket
l_int|4
)braket
suffix:semicolon
)brace
suffix:semicolon
DECL|function|loop_status
r_static
r_int
id|loop_status
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
r_struct
id|loop_info
id|l
suffix:semicolon
r_struct
id|loop_info32
id|__user
op_star
id|ul
suffix:semicolon
r_int
id|err
op_assign
op_minus
id|EINVAL
suffix:semicolon
id|ul
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|LOOP_SET_STATUS
suffix:colon
id|err
op_assign
id|get_user
c_func
(paren
id|l.lo_number
comma
op_amp
id|ul-&gt;lo_number
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|l.lo_device
comma
op_amp
id|ul-&gt;lo_device
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|l.lo_inode
comma
op_amp
id|ul-&gt;lo_inode
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|l.lo_rdevice
comma
op_amp
id|ul-&gt;lo_rdevice
)paren
suffix:semicolon
id|err
op_or_assign
id|__copy_from_user
c_func
(paren
op_amp
id|l.lo_offset
comma
op_amp
id|ul-&gt;lo_offset
comma
l_int|8
op_plus
(paren
r_int
r_int
)paren
id|l.lo_init
op_minus
(paren
r_int
r_int
)paren
op_amp
id|l.lo_offset
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
(brace
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
)brace
r_else
(brace
id|set_fs
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
op_amp
id|l
)paren
suffix:semicolon
id|set_fs
(paren
id|old_fs
)paren
suffix:semicolon
)brace
r_break
suffix:semicolon
r_case
id|LOOP_GET_STATUS
suffix:colon
id|set_fs
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
op_amp
id|l
)paren
suffix:semicolon
id|set_fs
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|err
)paren
(brace
id|err
op_assign
id|put_user
c_func
(paren
id|l.lo_number
comma
op_amp
id|ul-&gt;lo_number
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|l.lo_device
comma
op_amp
id|ul-&gt;lo_device
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|l.lo_inode
comma
op_amp
id|ul-&gt;lo_inode
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|l.lo_rdevice
comma
op_amp
id|ul-&gt;lo_rdevice
)paren
suffix:semicolon
id|err
op_or_assign
id|__copy_to_user
c_func
(paren
op_amp
id|ul-&gt;lo_offset
comma
op_amp
id|l.lo_offset
comma
(paren
r_int
r_int
)paren
id|l.lo_init
op_minus
(paren
r_int
r_int
)paren
op_amp
id|l.lo_offset
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
)brace
r_break
suffix:semicolon
r_default
suffix:colon
(brace
)brace
(brace
r_static
r_int
id|count
suffix:semicolon
r_if
c_cond
(paren
op_increment
id|count
op_le
l_int|20
)paren
id|printk
c_func
(paren
l_string|&quot;%s: Unknown loop ioctl cmd, fd(%d) &quot;
l_string|&quot;cmd(%08x) arg(%08lx)&bslash;n&quot;
comma
id|__FUNCTION__
comma
id|fd
comma
id|cmd
comma
id|arg
)paren
suffix:semicolon
)brace
)brace
r_return
id|err
suffix:semicolon
)brace
r_extern
r_int
id|tty_ioctl
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|file
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
suffix:semicolon
macro_line|#ifdef CONFIG_VT
DECL|function|vt_check
r_static
r_int
id|vt_check
c_func
(paren
r_struct
id|file
op_star
id|file
)paren
(brace
r_struct
id|tty_struct
op_star
id|tty
suffix:semicolon
r_struct
id|inode
op_star
id|inode
op_assign
id|file-&gt;f_dentry-&gt;d_inode
suffix:semicolon
r_if
c_cond
(paren
id|file-&gt;f_op-&gt;ioctl
op_ne
id|tty_ioctl
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
id|tty
op_assign
(paren
r_struct
id|tty_struct
op_star
)paren
id|file-&gt;private_data
suffix:semicolon
r_if
c_cond
(paren
id|tty_paranoia_check
c_func
(paren
id|tty
comma
id|inode
comma
l_string|&quot;tty_ioctl&quot;
)paren
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
r_if
c_cond
(paren
id|tty-&gt;driver-&gt;ioctl
op_ne
id|vt_ioctl
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
multiline_comment|/*&n;&t; * To have permissions to do most of the vt ioctls, we either have&n;&t; * to be the owner of the tty, or super-user.&n;&t; */
r_if
c_cond
(paren
id|current-&gt;signal-&gt;tty
op_eq
id|tty
op_logical_or
id|capable
c_func
(paren
id|CAP_SYS_ADMIN
)paren
)paren
r_return
l_int|1
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|struct|consolefontdesc32
r_struct
id|consolefontdesc32
(brace
DECL|member|charcount
r_int
r_int
id|charcount
suffix:semicolon
multiline_comment|/* characters in font (256 or 512) */
DECL|member|charheight
r_int
r_int
id|charheight
suffix:semicolon
multiline_comment|/* scan lines per character (1-32) */
DECL|member|chardata
id|compat_caddr_t
id|chardata
suffix:semicolon
multiline_comment|/* font data in expanded form */
)brace
suffix:semicolon
DECL|function|do_fontx_ioctl
r_static
r_int
id|do_fontx_ioctl
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
comma
r_struct
id|file
op_star
id|file
)paren
(brace
r_struct
id|consolefontdesc32
id|__user
op_star
id|user_cfd
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
r_struct
id|console_font_op
id|op
suffix:semicolon
id|compat_caddr_t
id|data
suffix:semicolon
r_int
id|i
comma
id|perm
suffix:semicolon
id|perm
op_assign
id|vt_check
c_func
(paren
id|file
)paren
suffix:semicolon
r_if
c_cond
(paren
id|perm
OL
l_int|0
)paren
r_return
id|perm
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|PIO_FONTX
suffix:colon
r_if
c_cond
(paren
op_logical_neg
id|perm
)paren
r_return
op_minus
id|EPERM
suffix:semicolon
id|op.op
op_assign
id|KD_FONT_OP_SET
suffix:semicolon
id|op.flags
op_assign
l_int|0
suffix:semicolon
id|op.width
op_assign
l_int|8
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|op.height
comma
op_amp
id|user_cfd-&gt;charheight
)paren
op_logical_or
id|get_user
c_func
(paren
id|op.charcount
comma
op_amp
id|user_cfd-&gt;charcount
)paren
op_logical_or
id|get_user
c_func
(paren
id|data
comma
op_amp
id|user_cfd-&gt;chardata
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|op.data
op_assign
id|compat_ptr
c_func
(paren
id|data
)paren
suffix:semicolon
r_return
id|con_font_op
c_func
(paren
id|fg_console
comma
op_amp
id|op
)paren
suffix:semicolon
r_case
id|GIO_FONTX
suffix:colon
id|op.op
op_assign
id|KD_FONT_OP_GET
suffix:semicolon
id|op.flags
op_assign
l_int|0
suffix:semicolon
id|op.width
op_assign
l_int|8
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|op.height
comma
op_amp
id|user_cfd-&gt;charheight
)paren
op_logical_or
id|get_user
c_func
(paren
id|op.charcount
comma
op_amp
id|user_cfd-&gt;charcount
)paren
op_logical_or
id|get_user
c_func
(paren
id|data
comma
op_amp
id|user_cfd-&gt;chardata
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|data
)paren
r_return
l_int|0
suffix:semicolon
id|op.data
op_assign
id|compat_ptr
c_func
(paren
id|data
)paren
suffix:semicolon
id|i
op_assign
id|con_font_op
c_func
(paren
id|fg_console
comma
op_amp
id|op
)paren
suffix:semicolon
r_if
c_cond
(paren
id|i
)paren
r_return
id|i
suffix:semicolon
r_if
c_cond
(paren
id|put_user
c_func
(paren
id|op.height
comma
op_amp
id|user_cfd-&gt;charheight
)paren
op_logical_or
id|put_user
c_func
(paren
id|op.charcount
comma
op_amp
id|user_cfd-&gt;charcount
)paren
op_logical_or
id|put_user
c_func
(paren
(paren
id|compat_caddr_t
)paren
(paren
r_int
r_int
)paren
id|op.data
comma
op_amp
id|user_cfd-&gt;chardata
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
r_return
op_minus
id|EINVAL
suffix:semicolon
)brace
DECL|struct|console_font_op32
r_struct
id|console_font_op32
(brace
DECL|member|op
id|compat_uint_t
id|op
suffix:semicolon
multiline_comment|/* operation code KD_FONT_OP_* */
DECL|member|flags
id|compat_uint_t
id|flags
suffix:semicolon
multiline_comment|/* KD_FONT_FLAG_* */
DECL|member|width
DECL|member|height
id|compat_uint_t
id|width
comma
id|height
suffix:semicolon
multiline_comment|/* font size */
DECL|member|charcount
id|compat_uint_t
id|charcount
suffix:semicolon
DECL|member|data
id|compat_caddr_t
id|data
suffix:semicolon
multiline_comment|/* font data with height fixed to 32 */
)brace
suffix:semicolon
DECL|function|do_kdfontop_ioctl
r_static
r_int
id|do_kdfontop_ioctl
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
comma
r_struct
id|file
op_star
id|file
)paren
(brace
r_struct
id|console_font_op
id|op
suffix:semicolon
r_struct
id|console_font_op32
id|__user
op_star
id|fontop
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
r_int
id|perm
op_assign
id|vt_check
c_func
(paren
id|file
)paren
comma
id|i
suffix:semicolon
r_struct
id|vt_struct
op_star
id|vt
suffix:semicolon
r_if
c_cond
(paren
id|perm
OL
l_int|0
)paren
r_return
id|perm
suffix:semicolon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
op_amp
id|op
comma
id|fontop
comma
r_sizeof
(paren
r_struct
id|console_font_op32
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|perm
op_logical_and
id|op.op
op_ne
id|KD_FONT_OP_GET
)paren
r_return
op_minus
id|EPERM
suffix:semicolon
id|op.data
op_assign
id|compat_ptr
c_func
(paren
(paren
(paren
r_struct
id|console_font_op32
op_star
)paren
op_amp
id|op
)paren
op_member_access_from_pointer
id|data
)paren
suffix:semicolon
id|op.flags
op_or_assign
id|KD_FONT_FLAG_OLD
suffix:semicolon
id|vt
op_assign
(paren
r_struct
id|vt_struct
op_star
)paren
(paren
(paren
r_struct
id|tty_struct
op_star
)paren
id|file-&gt;private_data
)paren
op_member_access_from_pointer
id|driver_data
suffix:semicolon
id|i
op_assign
id|con_font_op
c_func
(paren
id|vt-&gt;vc_num
comma
op_amp
id|op
)paren
suffix:semicolon
r_if
c_cond
(paren
id|i
)paren
r_return
id|i
suffix:semicolon
(paren
(paren
r_struct
id|console_font_op32
op_star
)paren
op_amp
id|op
)paren
op_member_access_from_pointer
id|data
op_assign
(paren
r_int
r_int
)paren
id|op.data
suffix:semicolon
r_if
c_cond
(paren
id|copy_to_user
c_func
(paren
id|fontop
comma
op_amp
id|op
comma
r_sizeof
(paren
r_struct
id|console_font_op32
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|struct|unimapdesc32
r_struct
id|unimapdesc32
(brace
DECL|member|entry_ct
r_int
r_int
id|entry_ct
suffix:semicolon
DECL|member|entries
id|compat_caddr_t
id|entries
suffix:semicolon
)brace
suffix:semicolon
DECL|function|do_unimap_ioctl
r_static
r_int
id|do_unimap_ioctl
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
comma
r_struct
id|file
op_star
id|file
)paren
(brace
r_struct
id|unimapdesc32
id|tmp
suffix:semicolon
r_struct
id|unimapdesc32
id|__user
op_star
id|user_ud
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
r_int
id|perm
op_assign
id|vt_check
c_func
(paren
id|file
)paren
suffix:semicolon
r_if
c_cond
(paren
id|perm
OL
l_int|0
)paren
r_return
id|perm
suffix:semicolon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
op_amp
id|tmp
comma
id|user_ud
comma
r_sizeof
id|tmp
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|PIO_UNIMAP
suffix:colon
r_if
c_cond
(paren
op_logical_neg
id|perm
)paren
r_return
op_minus
id|EPERM
suffix:semicolon
r_return
id|con_set_unimap
c_func
(paren
id|fg_console
comma
id|tmp.entry_ct
comma
id|compat_ptr
c_func
(paren
id|tmp.entries
)paren
)paren
suffix:semicolon
r_case
id|GIO_UNIMAP
suffix:colon
r_return
id|con_get_unimap
c_func
(paren
id|fg_console
comma
id|tmp.entry_ct
comma
op_amp
(paren
id|user_ud-&gt;entry_ct
)paren
comma
id|compat_ptr
c_func
(paren
id|tmp.entries
)paren
)paren
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
macro_line|#endif /* CONFIG_VT */
DECL|function|do_smb_getmountuid
r_static
r_int
id|do_smb_getmountuid
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
id|__kernel_uid_t
id|kuid
suffix:semicolon
r_int
id|err
suffix:semicolon
id|cmd
op_assign
id|SMB_IOC_GETMOUNTUID
suffix:semicolon
id|set_fs
c_func
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
op_amp
id|kuid
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
op_ge
l_int|0
)paren
id|err
op_assign
id|put_user
c_func
(paren
id|kuid
comma
(paren
id|compat_uid_t
id|__user
op_star
)paren
id|compat_ptr
c_func
(paren
id|arg
)paren
)paren
suffix:semicolon
r_return
id|err
suffix:semicolon
)brace
DECL|struct|atmif_sioc32
r_struct
id|atmif_sioc32
(brace
DECL|member|number
id|compat_int_t
id|number
suffix:semicolon
DECL|member|length
id|compat_int_t
id|length
suffix:semicolon
DECL|member|arg
id|compat_caddr_t
id|arg
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|atm_iobuf32
r_struct
id|atm_iobuf32
(brace
DECL|member|length
id|compat_int_t
id|length
suffix:semicolon
DECL|member|buffer
id|compat_caddr_t
id|buffer
suffix:semicolon
)brace
suffix:semicolon
DECL|macro|ATM_GETLINKRATE32
mdefine_line|#define ATM_GETLINKRATE32 _IOW(&squot;a&squot;, ATMIOC_ITF+1, struct atmif_sioc32)
DECL|macro|ATM_GETNAMES32
mdefine_line|#define ATM_GETNAMES32    _IOW(&squot;a&squot;, ATMIOC_ITF+3, struct atm_iobuf32)
DECL|macro|ATM_GETTYPE32
mdefine_line|#define ATM_GETTYPE32     _IOW(&squot;a&squot;, ATMIOC_ITF+4, struct atmif_sioc32)
DECL|macro|ATM_GETESI32
mdefine_line|#define ATM_GETESI32&t;  _IOW(&squot;a&squot;, ATMIOC_ITF+5, struct atmif_sioc32)
DECL|macro|ATM_GETADDR32
mdefine_line|#define ATM_GETADDR32&t;  _IOW(&squot;a&squot;, ATMIOC_ITF+6, struct atmif_sioc32)
DECL|macro|ATM_RSTADDR32
mdefine_line|#define ATM_RSTADDR32&t;  _IOW(&squot;a&squot;, ATMIOC_ITF+7, struct atmif_sioc32)
DECL|macro|ATM_ADDADDR32
mdefine_line|#define ATM_ADDADDR32&t;  _IOW(&squot;a&squot;, ATMIOC_ITF+8, struct atmif_sioc32)
DECL|macro|ATM_DELADDR32
mdefine_line|#define ATM_DELADDR32&t;  _IOW(&squot;a&squot;, ATMIOC_ITF+9, struct atmif_sioc32)
DECL|macro|ATM_GETCIRANGE32
mdefine_line|#define ATM_GETCIRANGE32  _IOW(&squot;a&squot;, ATMIOC_ITF+10, struct atmif_sioc32)
DECL|macro|ATM_SETCIRANGE32
mdefine_line|#define ATM_SETCIRANGE32  _IOW(&squot;a&squot;, ATMIOC_ITF+11, struct atmif_sioc32)
DECL|macro|ATM_SETESI32
mdefine_line|#define ATM_SETESI32      _IOW(&squot;a&squot;, ATMIOC_ITF+12, struct atmif_sioc32)
DECL|macro|ATM_SETESIF32
mdefine_line|#define ATM_SETESIF32     _IOW(&squot;a&squot;, ATMIOC_ITF+13, struct atmif_sioc32)
DECL|macro|ATM_GETSTAT32
mdefine_line|#define ATM_GETSTAT32     _IOW(&squot;a&squot;, ATMIOC_SARCOM+0, struct atmif_sioc32)
DECL|macro|ATM_GETSTATZ32
mdefine_line|#define ATM_GETSTATZ32    _IOW(&squot;a&squot;, ATMIOC_SARCOM+1, struct atmif_sioc32)
DECL|macro|ATM_GETLOOP32
mdefine_line|#define ATM_GETLOOP32&t;  _IOW(&squot;a&squot;, ATMIOC_SARCOM+2, struct atmif_sioc32)
DECL|macro|ATM_SETLOOP32
mdefine_line|#define ATM_SETLOOP32&t;  _IOW(&squot;a&squot;, ATMIOC_SARCOM+3, struct atmif_sioc32)
DECL|macro|ATM_QUERYLOOP32
mdefine_line|#define ATM_QUERYLOOP32&t;  _IOW(&squot;a&squot;, ATMIOC_SARCOM+4, struct atmif_sioc32)
r_static
r_struct
(brace
DECL|member|cmd32
r_int
r_int
id|cmd32
suffix:semicolon
DECL|member|cmd
r_int
r_int
id|cmd
suffix:semicolon
DECL|variable|atm_ioctl_map
)brace
id|atm_ioctl_map
(braket
)braket
op_assign
(brace
(brace
id|ATM_GETLINKRATE32
comma
id|ATM_GETLINKRATE
)brace
comma
(brace
id|ATM_GETNAMES32
comma
id|ATM_GETNAMES
)brace
comma
(brace
id|ATM_GETTYPE32
comma
id|ATM_GETTYPE
)brace
comma
(brace
id|ATM_GETESI32
comma
id|ATM_GETESI
)brace
comma
(brace
id|ATM_GETADDR32
comma
id|ATM_GETADDR
)brace
comma
(brace
id|ATM_RSTADDR32
comma
id|ATM_RSTADDR
)brace
comma
(brace
id|ATM_ADDADDR32
comma
id|ATM_ADDADDR
)brace
comma
(brace
id|ATM_DELADDR32
comma
id|ATM_DELADDR
)brace
comma
(brace
id|ATM_GETCIRANGE32
comma
id|ATM_GETCIRANGE
)brace
comma
(brace
id|ATM_SETCIRANGE32
comma
id|ATM_SETCIRANGE
)brace
comma
(brace
id|ATM_SETESI32
comma
id|ATM_SETESI
)brace
comma
(brace
id|ATM_SETESIF32
comma
id|ATM_SETESIF
)brace
comma
(brace
id|ATM_GETSTAT32
comma
id|ATM_GETSTAT
)brace
comma
(brace
id|ATM_GETSTATZ32
comma
id|ATM_GETSTATZ
)brace
comma
(brace
id|ATM_GETLOOP32
comma
id|ATM_GETLOOP
)brace
comma
(brace
id|ATM_SETLOOP32
comma
id|ATM_SETLOOP
)brace
comma
(brace
id|ATM_QUERYLOOP32
comma
id|ATM_QUERYLOOP
)brace
)brace
suffix:semicolon
DECL|macro|NR_ATM_IOCTL
mdefine_line|#define NR_ATM_IOCTL (sizeof(atm_ioctl_map)/sizeof(atm_ioctl_map[0]))
DECL|function|do_atm_iobuf
r_static
r_int
id|do_atm_iobuf
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|atm_iobuf
id|__user
op_star
id|iobuf
suffix:semicolon
r_struct
id|atm_iobuf32
id|__user
op_star
id|iobuf32
suffix:semicolon
id|u32
id|data
suffix:semicolon
r_void
id|__user
op_star
id|datap
suffix:semicolon
r_int
id|len
comma
id|err
suffix:semicolon
id|iobuf
op_assign
id|compat_alloc_user_space
c_func
(paren
r_sizeof
(paren
op_star
id|iobuf
)paren
)paren
suffix:semicolon
id|iobuf32
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|len
comma
op_amp
id|iobuf32-&gt;length
)paren
op_logical_or
id|get_user
c_func
(paren
id|data
comma
op_amp
id|iobuf32-&gt;buffer
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|datap
op_assign
id|compat_ptr
c_func
(paren
id|data
)paren
suffix:semicolon
r_if
c_cond
(paren
id|put_user
c_func
(paren
id|len
comma
op_amp
id|iobuf-&gt;length
)paren
op_logical_or
id|put_user
c_func
(paren
id|datap
comma
op_amp
id|iobuf-&gt;buffer
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|err
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
id|iobuf
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|err
)paren
(brace
r_if
c_cond
(paren
id|copy_in_user
c_func
(paren
op_amp
id|iobuf32-&gt;length
comma
op_amp
id|iobuf-&gt;length
comma
r_sizeof
(paren
r_int
)paren
)paren
)paren
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
)brace
r_return
id|err
suffix:semicolon
)brace
DECL|function|do_atmif_sioc
r_static
r_int
id|do_atmif_sioc
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|atmif_sioc
id|__user
op_star
id|sioc
suffix:semicolon
r_struct
id|atmif_sioc32
id|__user
op_star
id|sioc32
suffix:semicolon
id|u32
id|data
suffix:semicolon
r_void
id|__user
op_star
id|datap
suffix:semicolon
r_int
id|err
suffix:semicolon
id|sioc
op_assign
id|compat_alloc_user_space
c_func
(paren
r_sizeof
(paren
op_star
id|sioc
)paren
)paren
suffix:semicolon
id|sioc32
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
r_if
c_cond
(paren
id|copy_in_user
c_func
(paren
op_amp
id|sioc-&gt;number
comma
op_amp
id|sioc32-&gt;number
comma
l_int|2
op_star
r_sizeof
(paren
r_int
)paren
)paren
op_logical_or
id|get_user
c_func
(paren
id|data
comma
op_amp
id|sioc32-&gt;arg
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|datap
op_assign
id|compat_ptr
c_func
(paren
id|data
)paren
suffix:semicolon
r_if
c_cond
(paren
id|put_user
c_func
(paren
id|datap
comma
op_amp
id|sioc-&gt;arg
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|err
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
id|sioc
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|err
)paren
(brace
r_if
c_cond
(paren
id|copy_in_user
c_func
(paren
op_amp
id|sioc32-&gt;length
comma
op_amp
id|sioc-&gt;length
comma
r_sizeof
(paren
r_int
)paren
)paren
)paren
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
)brace
r_return
id|err
suffix:semicolon
)brace
DECL|function|do_atm_ioctl
r_static
r_int
id|do_atm_ioctl
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd32
comma
r_int
r_int
id|arg
)paren
(brace
r_int
id|i
suffix:semicolon
r_int
r_int
id|cmd
op_assign
l_int|0
suffix:semicolon
r_switch
c_cond
(paren
id|cmd32
)paren
(brace
r_case
id|SONET_GETSTAT
suffix:colon
r_case
id|SONET_GETSTATZ
suffix:colon
r_case
id|SONET_GETDIAG
suffix:colon
r_case
id|SONET_SETDIAG
suffix:colon
r_case
id|SONET_CLRDIAG
suffix:colon
r_case
id|SONET_SETFRAMING
suffix:colon
r_case
id|SONET_GETFRAMING
suffix:colon
r_case
id|SONET_GETFRSENSE
suffix:colon
r_return
id|do_atmif_sioc
c_func
(paren
id|fd
comma
id|cmd32
comma
id|arg
)paren
suffix:semicolon
)brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|NR_ATM_IOCTL
suffix:semicolon
id|i
op_increment
)paren
(brace
r_if
c_cond
(paren
id|cmd32
op_eq
id|atm_ioctl_map
(braket
id|i
)braket
dot
id|cmd32
)paren
(brace
id|cmd
op_assign
id|atm_ioctl_map
(braket
id|i
)braket
dot
id|cmd
suffix:semicolon
r_break
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
id|i
op_eq
id|NR_ATM_IOCTL
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|ATM_GETNAMES
suffix:colon
r_return
id|do_atm_iobuf
c_func
(paren
id|fd
comma
id|cmd
comma
id|arg
)paren
suffix:semicolon
r_case
id|ATM_GETLINKRATE
suffix:colon
r_case
id|ATM_GETTYPE
suffix:colon
r_case
id|ATM_GETESI
suffix:colon
r_case
id|ATM_GETADDR
suffix:colon
r_case
id|ATM_RSTADDR
suffix:colon
r_case
id|ATM_ADDADDR
suffix:colon
r_case
id|ATM_DELADDR
suffix:colon
r_case
id|ATM_GETCIRANGE
suffix:colon
r_case
id|ATM_SETCIRANGE
suffix:colon
r_case
id|ATM_SETESI
suffix:colon
r_case
id|ATM_SETESIF
suffix:colon
r_case
id|ATM_GETSTAT
suffix:colon
r_case
id|ATM_GETSTATZ
suffix:colon
r_case
id|ATM_GETLOOP
suffix:colon
r_case
id|ATM_SETLOOP
suffix:colon
r_case
id|ATM_QUERYLOOP
suffix:colon
r_return
id|do_atmif_sioc
c_func
(paren
id|fd
comma
id|cmd
comma
id|arg
)paren
suffix:semicolon
)brace
r_return
op_minus
id|EINVAL
suffix:semicolon
)brace
r_static
id|__attribute_used__
r_int
DECL|function|ret_einval
id|ret_einval
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_return
op_minus
id|EINVAL
suffix:semicolon
)brace
DECL|function|broken_blkgetsize
r_static
r_int
id|broken_blkgetsize
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
multiline_comment|/* The mkswap binary hard codes it to Intel value :-((( */
r_return
id|w_long
c_func
(paren
id|fd
comma
id|BLKGETSIZE
comma
id|arg
)paren
suffix:semicolon
)brace
DECL|struct|blkpg_ioctl_arg32
r_struct
id|blkpg_ioctl_arg32
(brace
DECL|member|op
id|compat_int_t
id|op
suffix:semicolon
DECL|member|flags
id|compat_int_t
id|flags
suffix:semicolon
DECL|member|datalen
id|compat_int_t
id|datalen
suffix:semicolon
DECL|member|data
id|compat_caddr_t
id|data
suffix:semicolon
)brace
suffix:semicolon
DECL|function|blkpg_ioctl_trans
r_static
r_int
id|blkpg_ioctl_trans
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|blkpg_ioctl_arg32
id|__user
op_star
id|ua32
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
r_struct
id|blkpg_ioctl_arg
id|__user
op_star
id|a
op_assign
id|compat_alloc_user_space
c_func
(paren
r_sizeof
(paren
op_star
id|a
)paren
)paren
suffix:semicolon
id|compat_caddr_t
id|udata
suffix:semicolon
id|compat_int_t
id|n
suffix:semicolon
r_int
id|err
suffix:semicolon
id|err
op_assign
id|get_user
c_func
(paren
id|n
comma
op_amp
id|ua32-&gt;op
)paren
suffix:semicolon
id|err
op_or_assign
id|put_user
c_func
(paren
id|n
comma
op_amp
id|a-&gt;op
)paren
suffix:semicolon
id|err
op_or_assign
id|get_user
c_func
(paren
id|n
comma
op_amp
id|ua32-&gt;flags
)paren
suffix:semicolon
id|err
op_or_assign
id|put_user
c_func
(paren
id|n
comma
op_amp
id|a-&gt;flags
)paren
suffix:semicolon
id|err
op_or_assign
id|get_user
c_func
(paren
id|n
comma
op_amp
id|ua32-&gt;datalen
)paren
suffix:semicolon
id|err
op_or_assign
id|put_user
c_func
(paren
id|n
comma
op_amp
id|a-&gt;datalen
)paren
suffix:semicolon
id|err
op_or_assign
id|get_user
c_func
(paren
id|udata
comma
op_amp
id|ua32-&gt;data
)paren
suffix:semicolon
id|err
op_or_assign
id|put_user
c_func
(paren
id|compat_ptr
c_func
(paren
id|udata
)paren
comma
op_amp
id|a-&gt;data
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_return
id|err
suffix:semicolon
r_return
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
id|a
)paren
suffix:semicolon
)brace
DECL|function|ioc_settimeout
r_static
r_int
id|ioc_settimeout
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_return
id|rw_long
c_func
(paren
id|fd
comma
id|AUTOFS_IOC_SETTIMEOUT
comma
id|arg
)paren
suffix:semicolon
)brace
multiline_comment|/* Fix sizeof(sizeof()) breakage */
DECL|macro|BLKBSZGET_32
mdefine_line|#define BLKBSZGET_32   _IOR(0x12,112,int)
DECL|macro|BLKBSZSET_32
mdefine_line|#define BLKBSZSET_32   _IOW(0x12,113,int)
DECL|macro|BLKGETSIZE64_32
mdefine_line|#define BLKGETSIZE64_32        _IOR(0x12,114,int)
DECL|function|do_blkbszget
r_static
r_int
id|do_blkbszget
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_return
id|sys_ioctl
c_func
(paren
id|fd
comma
id|BLKBSZGET
comma
(paren
r_int
r_int
)paren
id|compat_ptr
c_func
(paren
id|arg
)paren
)paren
suffix:semicolon
)brace
DECL|function|do_blkbszset
r_static
r_int
id|do_blkbszset
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_return
id|sys_ioctl
c_func
(paren
id|fd
comma
id|BLKBSZSET
comma
(paren
r_int
r_int
)paren
id|compat_ptr
c_func
(paren
id|arg
)paren
)paren
suffix:semicolon
)brace
DECL|function|do_blkgetsize64
r_static
r_int
id|do_blkgetsize64
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_return
id|sys_ioctl
c_func
(paren
id|fd
comma
id|BLKGETSIZE64
comma
(paren
r_int
r_int
)paren
id|compat_ptr
c_func
(paren
id|arg
)paren
)paren
suffix:semicolon
)brace
multiline_comment|/* Bluetooth ioctls */
DECL|macro|HCIUARTSETPROTO
mdefine_line|#define HCIUARTSETPROTO&t;_IOW(&squot;U&squot;, 200, int)
DECL|macro|HCIUARTGETPROTO
mdefine_line|#define HCIUARTGETPROTO&t;_IOR(&squot;U&squot;, 201, int)
DECL|macro|BNEPCONNADD
mdefine_line|#define BNEPCONNADD&t;_IOW(&squot;B&squot;, 200, int)
DECL|macro|BNEPCONNDEL
mdefine_line|#define BNEPCONNDEL&t;_IOW(&squot;B&squot;, 201, int)
DECL|macro|BNEPGETCONNLIST
mdefine_line|#define BNEPGETCONNLIST&t;_IOR(&squot;B&squot;, 210, int)
DECL|macro|BNEPGETCONNINFO
mdefine_line|#define BNEPGETCONNINFO&t;_IOR(&squot;B&squot;, 211, int)
DECL|macro|CMTPCONNADD
mdefine_line|#define CMTPCONNADD&t;_IOW(&squot;C&squot;, 200, int)
DECL|macro|CMTPCONNDEL
mdefine_line|#define CMTPCONNDEL&t;_IOW(&squot;C&squot;, 201, int)
DECL|macro|CMTPGETCONNLIST
mdefine_line|#define CMTPGETCONNLIST&t;_IOR(&squot;C&squot;, 210, int)
DECL|macro|CMTPGETCONNINFO
mdefine_line|#define CMTPGETCONNINFO&t;_IOR(&squot;C&squot;, 211, int)
DECL|macro|HIDPCONNADD
mdefine_line|#define HIDPCONNADD&t;_IOW(&squot;H&squot;, 200, int)
DECL|macro|HIDPCONNDEL
mdefine_line|#define HIDPCONNDEL&t;_IOW(&squot;H&squot;, 201, int)
DECL|macro|HIDPGETCONNLIST
mdefine_line|#define HIDPGETCONNLIST&t;_IOR(&squot;H&squot;, 210, int)
DECL|macro|HIDPGETCONNINFO
mdefine_line|#define HIDPGETCONNINFO&t;_IOR(&squot;H&squot;, 211, int)
DECL|struct|floppy_struct32
r_struct
id|floppy_struct32
(brace
DECL|member|size
id|compat_uint_t
id|size
suffix:semicolon
DECL|member|sect
id|compat_uint_t
id|sect
suffix:semicolon
DECL|member|head
id|compat_uint_t
id|head
suffix:semicolon
DECL|member|track
id|compat_uint_t
id|track
suffix:semicolon
DECL|member|stretch
id|compat_uint_t
id|stretch
suffix:semicolon
DECL|member|gap
r_int
r_char
id|gap
suffix:semicolon
DECL|member|rate
r_int
r_char
id|rate
suffix:semicolon
DECL|member|spec1
r_int
r_char
id|spec1
suffix:semicolon
DECL|member|fmt_gap
r_int
r_char
id|fmt_gap
suffix:semicolon
DECL|member|name
r_const
id|compat_caddr_t
id|name
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|floppy_drive_params32
r_struct
id|floppy_drive_params32
(brace
DECL|member|cmos
r_char
id|cmos
suffix:semicolon
DECL|member|max_dtr
id|compat_ulong_t
id|max_dtr
suffix:semicolon
DECL|member|hlt
id|compat_ulong_t
id|hlt
suffix:semicolon
DECL|member|hut
id|compat_ulong_t
id|hut
suffix:semicolon
DECL|member|srt
id|compat_ulong_t
id|srt
suffix:semicolon
DECL|member|spinup
id|compat_ulong_t
id|spinup
suffix:semicolon
DECL|member|spindown
id|compat_ulong_t
id|spindown
suffix:semicolon
DECL|member|spindown_offset
r_int
r_char
id|spindown_offset
suffix:semicolon
DECL|member|select_delay
r_int
r_char
id|select_delay
suffix:semicolon
DECL|member|rps
r_int
r_char
id|rps
suffix:semicolon
DECL|member|tracks
r_int
r_char
id|tracks
suffix:semicolon
DECL|member|timeout
id|compat_ulong_t
id|timeout
suffix:semicolon
DECL|member|interleave_sect
r_int
r_char
id|interleave_sect
suffix:semicolon
DECL|member|max_errors
r_struct
id|floppy_max_errors
id|max_errors
suffix:semicolon
DECL|member|flags
r_char
id|flags
suffix:semicolon
DECL|member|read_track
r_char
id|read_track
suffix:semicolon
DECL|member|autodetect
r_int
id|autodetect
(braket
l_int|8
)braket
suffix:semicolon
DECL|member|checkfreq
id|compat_int_t
id|checkfreq
suffix:semicolon
DECL|member|native_format
id|compat_int_t
id|native_format
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|floppy_drive_struct32
r_struct
id|floppy_drive_struct32
(brace
DECL|member|flags
r_int
r_char
id|flags
suffix:semicolon
DECL|member|spinup_date
id|compat_ulong_t
id|spinup_date
suffix:semicolon
DECL|member|select_date
id|compat_ulong_t
id|select_date
suffix:semicolon
DECL|member|first_read_date
id|compat_ulong_t
id|first_read_date
suffix:semicolon
DECL|member|probed_format
r_int
id|probed_format
suffix:semicolon
DECL|member|track
r_int
id|track
suffix:semicolon
DECL|member|maxblock
r_int
id|maxblock
suffix:semicolon
DECL|member|maxtrack
r_int
id|maxtrack
suffix:semicolon
DECL|member|generation
id|compat_int_t
id|generation
suffix:semicolon
DECL|member|keep_data
id|compat_int_t
id|keep_data
suffix:semicolon
DECL|member|fd_ref
id|compat_int_t
id|fd_ref
suffix:semicolon
DECL|member|fd_device
id|compat_int_t
id|fd_device
suffix:semicolon
DECL|member|last_checked
id|compat_int_t
id|last_checked
suffix:semicolon
DECL|member|dmabuf
id|compat_caddr_t
id|dmabuf
suffix:semicolon
DECL|member|bufblocks
id|compat_int_t
id|bufblocks
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|floppy_fdc_state32
r_struct
id|floppy_fdc_state32
(brace
DECL|member|spec1
id|compat_int_t
id|spec1
suffix:semicolon
DECL|member|spec2
id|compat_int_t
id|spec2
suffix:semicolon
DECL|member|dtr
id|compat_int_t
id|dtr
suffix:semicolon
DECL|member|version
r_int
r_char
id|version
suffix:semicolon
DECL|member|dor
r_int
r_char
id|dor
suffix:semicolon
DECL|member|address
id|compat_ulong_t
id|address
suffix:semicolon
DECL|member|rawcmd
r_int
r_int
id|rawcmd
suffix:colon
l_int|2
suffix:semicolon
DECL|member|reset
r_int
r_int
id|reset
suffix:colon
l_int|1
suffix:semicolon
DECL|member|need_configure
r_int
r_int
id|need_configure
suffix:colon
l_int|1
suffix:semicolon
DECL|member|perp_mode
r_int
r_int
id|perp_mode
suffix:colon
l_int|2
suffix:semicolon
DECL|member|has_fifo
r_int
r_int
id|has_fifo
suffix:colon
l_int|1
suffix:semicolon
DECL|member|driver_version
r_int
r_int
id|driver_version
suffix:semicolon
DECL|member|track
r_int
r_char
id|track
(braket
l_int|4
)braket
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|floppy_write_errors32
r_struct
id|floppy_write_errors32
(brace
DECL|member|write_errors
r_int
r_int
id|write_errors
suffix:semicolon
DECL|member|first_error_sector
id|compat_ulong_t
id|first_error_sector
suffix:semicolon
DECL|member|first_error_generation
id|compat_int_t
id|first_error_generation
suffix:semicolon
DECL|member|last_error_sector
id|compat_ulong_t
id|last_error_sector
suffix:semicolon
DECL|member|last_error_generation
id|compat_int_t
id|last_error_generation
suffix:semicolon
DECL|member|badness
id|compat_uint_t
id|badness
suffix:semicolon
)brace
suffix:semicolon
DECL|macro|FDSETPRM32
mdefine_line|#define FDSETPRM32 _IOW(2, 0x42, struct floppy_struct32)
DECL|macro|FDDEFPRM32
mdefine_line|#define FDDEFPRM32 _IOW(2, 0x43, struct floppy_struct32)
DECL|macro|FDGETPRM32
mdefine_line|#define FDGETPRM32 _IOR(2, 0x04, struct floppy_struct32)
DECL|macro|FDSETDRVPRM32
mdefine_line|#define FDSETDRVPRM32 _IOW(2, 0x90, struct floppy_drive_params32)
DECL|macro|FDGETDRVPRM32
mdefine_line|#define FDGETDRVPRM32 _IOR(2, 0x11, struct floppy_drive_params32)
DECL|macro|FDGETDRVSTAT32
mdefine_line|#define FDGETDRVSTAT32 _IOR(2, 0x12, struct floppy_drive_struct32)
DECL|macro|FDPOLLDRVSTAT32
mdefine_line|#define FDPOLLDRVSTAT32 _IOR(2, 0x13, struct floppy_drive_struct32)
DECL|macro|FDGETFDCSTAT32
mdefine_line|#define FDGETFDCSTAT32 _IOR(2, 0x15, struct floppy_fdc_state32)
DECL|macro|FDWERRORGET32
mdefine_line|#define FDWERRORGET32  _IOR(2, 0x17, struct floppy_write_errors32)
r_static
r_struct
(brace
DECL|member|cmd32
r_int
r_int
id|cmd32
suffix:semicolon
DECL|member|cmd
r_int
r_int
id|cmd
suffix:semicolon
DECL|variable|fd_ioctl_trans_table
)brace
id|fd_ioctl_trans_table
(braket
)braket
op_assign
(brace
(brace
id|FDSETPRM32
comma
id|FDSETPRM
)brace
comma
(brace
id|FDDEFPRM32
comma
id|FDDEFPRM
)brace
comma
(brace
id|FDGETPRM32
comma
id|FDGETPRM
)brace
comma
(brace
id|FDSETDRVPRM32
comma
id|FDSETDRVPRM
)brace
comma
(brace
id|FDGETDRVPRM32
comma
id|FDGETDRVPRM
)brace
comma
(brace
id|FDGETDRVSTAT32
comma
id|FDGETDRVSTAT
)brace
comma
(brace
id|FDPOLLDRVSTAT32
comma
id|FDPOLLDRVSTAT
)brace
comma
(brace
id|FDGETFDCSTAT32
comma
id|FDGETFDCSTAT
)brace
comma
(brace
id|FDWERRORGET32
comma
id|FDWERRORGET
)brace
)brace
suffix:semicolon
DECL|macro|NR_FD_IOCTL_TRANS
mdefine_line|#define NR_FD_IOCTL_TRANS (sizeof(fd_ioctl_trans_table)/sizeof(fd_ioctl_trans_table[0]))
DECL|function|fd_ioctl_trans
r_static
r_int
id|fd_ioctl_trans
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
r_void
op_star
id|karg
op_assign
l_int|NULL
suffix:semicolon
r_int
r_int
id|kcmd
op_assign
l_int|0
suffix:semicolon
r_int
id|i
comma
id|err
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|NR_FD_IOCTL_TRANS
suffix:semicolon
id|i
op_increment
)paren
r_if
c_cond
(paren
id|cmd
op_eq
id|fd_ioctl_trans_table
(braket
id|i
)braket
dot
id|cmd32
)paren
(brace
id|kcmd
op_assign
id|fd_ioctl_trans_table
(braket
id|i
)braket
dot
id|cmd
suffix:semicolon
r_break
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|kcmd
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|FDSETPRM32
suffix:colon
r_case
id|FDDEFPRM32
suffix:colon
r_case
id|FDGETPRM32
suffix:colon
(brace
id|compat_uptr_t
id|name
suffix:semicolon
r_struct
id|floppy_struct32
id|__user
op_star
id|uf
suffix:semicolon
r_struct
id|floppy_struct
op_star
id|f
suffix:semicolon
id|uf
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
id|f
op_assign
id|karg
op_assign
id|kmalloc
c_func
(paren
r_sizeof
(paren
r_struct
id|floppy_struct
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|karg
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
r_if
c_cond
(paren
id|cmd
op_eq
id|FDGETPRM32
)paren
r_break
suffix:semicolon
id|err
op_assign
id|__get_user
c_func
(paren
id|f-&gt;size
comma
op_amp
id|uf-&gt;size
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;sect
comma
op_amp
id|uf-&gt;sect
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;head
comma
op_amp
id|uf-&gt;head
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;track
comma
op_amp
id|uf-&gt;track
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;stretch
comma
op_amp
id|uf-&gt;stretch
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;gap
comma
op_amp
id|uf-&gt;gap
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;rate
comma
op_amp
id|uf-&gt;rate
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;spec1
comma
op_amp
id|uf-&gt;spec1
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;fmt_gap
comma
op_amp
id|uf-&gt;fmt_gap
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|name
comma
op_amp
id|uf-&gt;name
)paren
suffix:semicolon
id|f-&gt;name
op_assign
id|compat_ptr
c_func
(paren
id|name
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
(brace
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_goto
id|out
suffix:semicolon
)brace
r_break
suffix:semicolon
)brace
r_case
id|FDSETDRVPRM32
suffix:colon
r_case
id|FDGETDRVPRM32
suffix:colon
(brace
r_struct
id|floppy_drive_params32
id|__user
op_star
id|uf
suffix:semicolon
r_struct
id|floppy_drive_params
op_star
id|f
suffix:semicolon
id|uf
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
id|f
op_assign
id|karg
op_assign
id|kmalloc
c_func
(paren
r_sizeof
(paren
r_struct
id|floppy_drive_params
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|karg
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
r_if
c_cond
(paren
id|cmd
op_eq
id|FDGETDRVPRM32
)paren
r_break
suffix:semicolon
id|err
op_assign
id|__get_user
c_func
(paren
id|f-&gt;cmos
comma
op_amp
id|uf-&gt;cmos
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;max_dtr
comma
op_amp
id|uf-&gt;max_dtr
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;hlt
comma
op_amp
id|uf-&gt;hlt
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;hut
comma
op_amp
id|uf-&gt;hut
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;srt
comma
op_amp
id|uf-&gt;srt
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;spinup
comma
op_amp
id|uf-&gt;spinup
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;spindown
comma
op_amp
id|uf-&gt;spindown
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;spindown_offset
comma
op_amp
id|uf-&gt;spindown_offset
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;select_delay
comma
op_amp
id|uf-&gt;select_delay
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;rps
comma
op_amp
id|uf-&gt;rps
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;tracks
comma
op_amp
id|uf-&gt;tracks
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;timeout
comma
op_amp
id|uf-&gt;timeout
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;interleave_sect
comma
op_amp
id|uf-&gt;interleave_sect
)paren
suffix:semicolon
id|err
op_or_assign
id|__copy_from_user
c_func
(paren
op_amp
id|f-&gt;max_errors
comma
op_amp
id|uf-&gt;max_errors
comma
r_sizeof
(paren
id|f-&gt;max_errors
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;flags
comma
op_amp
id|uf-&gt;flags
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;read_track
comma
op_amp
id|uf-&gt;read_track
)paren
suffix:semicolon
id|err
op_or_assign
id|__copy_from_user
c_func
(paren
id|f-&gt;autodetect
comma
id|uf-&gt;autodetect
comma
r_sizeof
(paren
id|f-&gt;autodetect
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;checkfreq
comma
op_amp
id|uf-&gt;checkfreq
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;native_format
comma
op_amp
id|uf-&gt;native_format
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
(brace
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_goto
id|out
suffix:semicolon
)brace
r_break
suffix:semicolon
)brace
r_case
id|FDGETDRVSTAT32
suffix:colon
r_case
id|FDPOLLDRVSTAT32
suffix:colon
id|karg
op_assign
id|kmalloc
c_func
(paren
r_sizeof
(paren
r_struct
id|floppy_drive_struct
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|karg
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
r_break
suffix:semicolon
r_case
id|FDGETFDCSTAT32
suffix:colon
id|karg
op_assign
id|kmalloc
c_func
(paren
r_sizeof
(paren
r_struct
id|floppy_fdc_state
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|karg
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
r_break
suffix:semicolon
r_case
id|FDWERRORGET32
suffix:colon
id|karg
op_assign
id|kmalloc
c_func
(paren
r_sizeof
(paren
r_struct
id|floppy_write_errors
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|karg
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
r_return
op_minus
id|EINVAL
suffix:semicolon
)brace
id|set_fs
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
(paren
id|fd
comma
id|kcmd
comma
(paren
r_int
r_int
)paren
id|karg
)paren
suffix:semicolon
id|set_fs
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_goto
id|out
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|FDGETPRM32
suffix:colon
(brace
r_struct
id|floppy_struct
op_star
id|f
op_assign
id|karg
suffix:semicolon
r_struct
id|floppy_struct32
id|__user
op_star
id|uf
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
id|err
op_assign
id|__put_user
c_func
(paren
id|f-&gt;size
comma
op_amp
id|uf-&gt;size
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;sect
comma
op_amp
id|uf-&gt;sect
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;head
comma
op_amp
id|uf-&gt;head
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;track
comma
op_amp
id|uf-&gt;track
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;stretch
comma
op_amp
id|uf-&gt;stretch
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;gap
comma
op_amp
id|uf-&gt;gap
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;rate
comma
op_amp
id|uf-&gt;rate
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;spec1
comma
op_amp
id|uf-&gt;spec1
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;fmt_gap
comma
op_amp
id|uf-&gt;fmt_gap
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
(paren
id|u64
)paren
id|f-&gt;name
comma
(paren
id|compat_caddr_t
id|__user
op_star
)paren
op_amp
id|uf-&gt;name
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
r_case
id|FDGETDRVPRM32
suffix:colon
(brace
r_struct
id|floppy_drive_params32
id|__user
op_star
id|uf
suffix:semicolon
r_struct
id|floppy_drive_params
op_star
id|f
op_assign
id|karg
suffix:semicolon
id|uf
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
id|err
op_assign
id|__put_user
c_func
(paren
id|f-&gt;cmos
comma
op_amp
id|uf-&gt;cmos
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;max_dtr
comma
op_amp
id|uf-&gt;max_dtr
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;hlt
comma
op_amp
id|uf-&gt;hlt
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;hut
comma
op_amp
id|uf-&gt;hut
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;srt
comma
op_amp
id|uf-&gt;srt
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;spinup
comma
op_amp
id|uf-&gt;spinup
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;spindown
comma
op_amp
id|uf-&gt;spindown
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;spindown_offset
comma
op_amp
id|uf-&gt;spindown_offset
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;select_delay
comma
op_amp
id|uf-&gt;select_delay
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;rps
comma
op_amp
id|uf-&gt;rps
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;tracks
comma
op_amp
id|uf-&gt;tracks
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;timeout
comma
op_amp
id|uf-&gt;timeout
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;interleave_sect
comma
op_amp
id|uf-&gt;interleave_sect
)paren
suffix:semicolon
id|err
op_or_assign
id|__copy_to_user
c_func
(paren
op_amp
id|uf-&gt;max_errors
comma
op_amp
id|f-&gt;max_errors
comma
r_sizeof
(paren
id|f-&gt;max_errors
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;flags
comma
op_amp
id|uf-&gt;flags
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;read_track
comma
op_amp
id|uf-&gt;read_track
)paren
suffix:semicolon
id|err
op_or_assign
id|__copy_to_user
c_func
(paren
id|uf-&gt;autodetect
comma
id|f-&gt;autodetect
comma
r_sizeof
(paren
id|f-&gt;autodetect
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;checkfreq
comma
op_amp
id|uf-&gt;checkfreq
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;native_format
comma
op_amp
id|uf-&gt;native_format
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
r_case
id|FDGETDRVSTAT32
suffix:colon
r_case
id|FDPOLLDRVSTAT32
suffix:colon
(brace
r_struct
id|floppy_drive_struct32
id|__user
op_star
id|uf
suffix:semicolon
r_struct
id|floppy_drive_struct
op_star
id|f
op_assign
id|karg
suffix:semicolon
id|uf
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
id|err
op_assign
id|__put_user
c_func
(paren
id|f-&gt;flags
comma
op_amp
id|uf-&gt;flags
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;spinup_date
comma
op_amp
id|uf-&gt;spinup_date
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;select_date
comma
op_amp
id|uf-&gt;select_date
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;first_read_date
comma
op_amp
id|uf-&gt;first_read_date
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;probed_format
comma
op_amp
id|uf-&gt;probed_format
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;track
comma
op_amp
id|uf-&gt;track
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;maxblock
comma
op_amp
id|uf-&gt;maxblock
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;maxtrack
comma
op_amp
id|uf-&gt;maxtrack
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;generation
comma
op_amp
id|uf-&gt;generation
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;keep_data
comma
op_amp
id|uf-&gt;keep_data
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;fd_ref
comma
op_amp
id|uf-&gt;fd_ref
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;fd_device
comma
op_amp
id|uf-&gt;fd_device
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;last_checked
comma
op_amp
id|uf-&gt;last_checked
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
(paren
id|u64
)paren
id|f-&gt;dmabuf
comma
op_amp
id|uf-&gt;dmabuf
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
(paren
id|u64
)paren
id|f-&gt;bufblocks
comma
op_amp
id|uf-&gt;bufblocks
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
r_case
id|FDGETFDCSTAT32
suffix:colon
(brace
r_struct
id|floppy_fdc_state32
id|__user
op_star
id|uf
suffix:semicolon
r_struct
id|floppy_fdc_state
op_star
id|f
op_assign
id|karg
suffix:semicolon
id|uf
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
id|err
op_assign
id|__put_user
c_func
(paren
id|f-&gt;spec1
comma
op_amp
id|uf-&gt;spec1
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;spec2
comma
op_amp
id|uf-&gt;spec2
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;dtr
comma
op_amp
id|uf-&gt;dtr
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;version
comma
op_amp
id|uf-&gt;version
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;dor
comma
op_amp
id|uf-&gt;dor
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;address
comma
op_amp
id|uf-&gt;address
)paren
suffix:semicolon
id|err
op_or_assign
id|__copy_to_user
c_func
(paren
(paren
r_char
id|__user
op_star
)paren
op_amp
id|uf-&gt;address
op_plus
r_sizeof
(paren
id|uf-&gt;address
)paren
comma
(paren
r_char
op_star
)paren
op_amp
id|f-&gt;address
op_plus
r_sizeof
(paren
id|f-&gt;address
)paren
comma
r_sizeof
(paren
r_int
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;driver_version
comma
op_amp
id|uf-&gt;driver_version
)paren
suffix:semicolon
id|err
op_or_assign
id|__copy_to_user
c_func
(paren
id|uf-&gt;track
comma
id|f-&gt;track
comma
r_sizeof
(paren
id|f-&gt;track
)paren
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
r_case
id|FDWERRORGET32
suffix:colon
(brace
r_struct
id|floppy_write_errors32
id|__user
op_star
id|uf
suffix:semicolon
r_struct
id|floppy_write_errors
op_star
id|f
op_assign
id|karg
suffix:semicolon
id|uf
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
id|err
op_assign
id|__put_user
c_func
(paren
id|f-&gt;write_errors
comma
op_amp
id|uf-&gt;write_errors
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;first_error_sector
comma
op_amp
id|uf-&gt;first_error_sector
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;first_error_generation
comma
op_amp
id|uf-&gt;first_error_generation
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;last_error_sector
comma
op_amp
id|uf-&gt;last_error_sector
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;last_error_generation
comma
op_amp
id|uf-&gt;last_error_generation
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;badness
comma
op_amp
id|uf-&gt;badness
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
r_default
suffix:colon
r_break
suffix:semicolon
)brace
r_if
c_cond
(paren
id|err
)paren
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
id|out
suffix:colon
r_if
c_cond
(paren
id|karg
)paren
id|kfree
c_func
(paren
id|karg
)paren
suffix:semicolon
r_return
id|err
suffix:semicolon
)brace
DECL|struct|mtd_oob_buf32
r_struct
id|mtd_oob_buf32
(brace
DECL|member|start
id|u_int32_t
id|start
suffix:semicolon
DECL|member|length
id|u_int32_t
id|length
suffix:semicolon
DECL|member|ptr
id|compat_caddr_t
id|ptr
suffix:semicolon
multiline_comment|/* unsigned char* */
)brace
suffix:semicolon
DECL|macro|MEMWRITEOOB32
mdefine_line|#define MEMWRITEOOB32 &t;_IOWR(&squot;M&squot;,3,struct mtd_oob_buf32)
DECL|macro|MEMREADOOB32
mdefine_line|#define MEMREADOOB32 &t;_IOWR(&squot;M&squot;,4,struct mtd_oob_buf32)
DECL|function|mtd_rw_oob
r_static
r_int
id|mtd_rw_oob
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|mtd_oob_buf
id|__user
op_star
id|buf
op_assign
id|compat_alloc_user_space
c_func
(paren
r_sizeof
(paren
op_star
id|buf
)paren
)paren
suffix:semicolon
r_struct
id|mtd_oob_buf32
id|__user
op_star
id|buf32
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
id|u32
id|data
suffix:semicolon
r_char
id|__user
op_star
id|datap
suffix:semicolon
r_int
r_int
id|real_cmd
suffix:semicolon
r_int
id|err
suffix:semicolon
id|real_cmd
op_assign
(paren
id|cmd
op_eq
id|MEMREADOOB32
)paren
ques
c_cond
id|MEMREADOOB
suffix:colon
id|MEMWRITEOOB
suffix:semicolon
r_if
c_cond
(paren
id|copy_in_user
c_func
(paren
op_amp
id|buf-&gt;start
comma
op_amp
id|buf32-&gt;start
comma
l_int|2
op_star
r_sizeof
(paren
id|u32
)paren
)paren
op_logical_or
id|get_user
c_func
(paren
id|data
comma
op_amp
id|buf32-&gt;ptr
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|datap
op_assign
id|compat_ptr
c_func
(paren
id|data
)paren
suffix:semicolon
r_if
c_cond
(paren
id|put_user
c_func
(paren
id|datap
comma
op_amp
id|buf-&gt;ptr
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|err
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|real_cmd
comma
(paren
r_int
r_int
)paren
id|buf
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|err
)paren
(brace
r_if
c_cond
(paren
id|copy_in_user
c_func
(paren
op_amp
id|buf32-&gt;start
comma
op_amp
id|buf-&gt;start
comma
l_int|2
op_star
r_sizeof
(paren
id|u32
)paren
)paren
)paren
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
)brace
r_return
id|err
suffix:semicolon
)brace
DECL|macro|VFAT_IOCTL_READDIR_BOTH32
mdefine_line|#define&t;VFAT_IOCTL_READDIR_BOTH32&t;_IOR(&squot;r&squot;, 1, struct compat_dirent[2])
DECL|macro|VFAT_IOCTL_READDIR_SHORT32
mdefine_line|#define&t;VFAT_IOCTL_READDIR_SHORT32&t;_IOR(&squot;r&squot;, 2, struct compat_dirent[2])
r_static
r_int
DECL|function|put_dirent32
id|put_dirent32
(paren
r_struct
id|dirent
op_star
id|d
comma
r_struct
id|compat_dirent
id|__user
op_star
id|d32
)paren
(brace
r_int
id|ret
suffix:semicolon
r_if
c_cond
(paren
(paren
id|ret
op_assign
id|verify_area
c_func
(paren
id|VERIFY_WRITE
comma
id|d32
comma
r_sizeof
(paren
r_struct
id|compat_dirent
)paren
)paren
)paren
)paren
r_return
id|ret
suffix:semicolon
id|__put_user
c_func
(paren
id|d-&gt;d_ino
comma
op_amp
id|d32-&gt;d_ino
)paren
suffix:semicolon
id|__put_user
c_func
(paren
id|d-&gt;d_off
comma
op_amp
id|d32-&gt;d_off
)paren
suffix:semicolon
id|__put_user
c_func
(paren
id|d-&gt;d_reclen
comma
op_amp
id|d32-&gt;d_reclen
)paren
suffix:semicolon
r_if
c_cond
(paren
id|__copy_to_user
c_func
(paren
id|d32-&gt;d_name
comma
id|d-&gt;d_name
comma
id|d-&gt;d_reclen
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_return
id|ret
suffix:semicolon
)brace
DECL|function|vfat_ioctl32
r_static
r_int
id|vfat_ioctl32
c_func
(paren
r_int
id|fd
comma
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|compat_dirent
id|__user
op_star
id|p
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
r_int
id|ret
suffix:semicolon
id|mm_segment_t
id|oldfs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
r_struct
id|dirent
id|d
(braket
l_int|2
)braket
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|VFAT_IOCTL_READDIR_BOTH32
suffix:colon
id|cmd
op_assign
id|VFAT_IOCTL_READDIR_BOTH
suffix:semicolon
r_break
suffix:semicolon
r_case
id|VFAT_IOCTL_READDIR_SHORT32
suffix:colon
id|cmd
op_assign
id|VFAT_IOCTL_READDIR_SHORT
suffix:semicolon
r_break
suffix:semicolon
)brace
id|set_fs
c_func
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|ret
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
op_amp
id|d
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|oldfs
)paren
suffix:semicolon
r_if
c_cond
(paren
id|ret
op_ge
l_int|0
)paren
(brace
id|ret
op_or_assign
id|put_dirent32
c_func
(paren
op_amp
id|d
(braket
l_int|0
)braket
comma
id|p
)paren
suffix:semicolon
id|ret
op_or_assign
id|put_dirent32
c_func
(paren
op_amp
id|d
(braket
l_int|1
)braket
comma
id|p
op_plus
l_int|1
)paren
suffix:semicolon
)brace
r_return
id|ret
suffix:semicolon
)brace
DECL|macro|REISERFS_IOC_UNPACK32
mdefine_line|#define REISERFS_IOC_UNPACK32               _IOW(0xCD,1,int)
DECL|function|reiserfs_ioctl32
r_static
r_int
id|reiserfs_ioctl32
c_func
(paren
r_int
id|fd
comma
r_int
id|cmd
comma
r_int
r_int
id|ptr
)paren
(brace
r_if
c_cond
(paren
id|cmd
op_eq
id|REISERFS_IOC_UNPACK32
)paren
id|cmd
op_assign
id|REISERFS_IOC_UNPACK
suffix:semicolon
r_return
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
id|ptr
)paren
suffix:semicolon
)brace
DECL|struct|raw32_config_request
r_struct
id|raw32_config_request
(brace
DECL|member|raw_minor
id|compat_int_t
id|raw_minor
suffix:semicolon
DECL|member|block_major
id|__u64
id|block_major
suffix:semicolon
DECL|member|block_minor
id|__u64
id|block_minor
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
)paren
)paren
suffix:semicolon
DECL|function|get_raw32_request
r_static
r_int
id|get_raw32_request
c_func
(paren
r_struct
id|raw_config_request
op_star
id|req
comma
r_struct
id|raw32_config_request
id|__user
op_star
id|user_req
)paren
(brace
r_int
id|ret
suffix:semicolon
r_if
c_cond
(paren
(paren
id|ret
op_assign
id|verify_area
c_func
(paren
id|VERIFY_READ
comma
id|user_req
comma
r_sizeof
(paren
r_struct
id|raw32_config_request
)paren
)paren
)paren
)paren
r_return
id|ret
suffix:semicolon
id|ret
op_assign
id|__get_user
c_func
(paren
id|req-&gt;raw_minor
comma
op_amp
id|user_req-&gt;raw_minor
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
c_func
(paren
id|req-&gt;block_major
comma
op_amp
id|user_req-&gt;block_major
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
c_func
(paren
id|req-&gt;block_minor
comma
op_amp
id|user_req-&gt;block_minor
)paren
suffix:semicolon
r_return
id|ret
ques
c_cond
op_minus
id|EFAULT
suffix:colon
l_int|0
suffix:semicolon
)brace
DECL|function|set_raw32_request
r_static
r_int
id|set_raw32_request
c_func
(paren
r_struct
id|raw_config_request
op_star
id|req
comma
r_struct
id|raw32_config_request
id|__user
op_star
id|user_req
)paren
(brace
r_int
id|ret
suffix:semicolon
r_if
c_cond
(paren
(paren
id|ret
op_assign
id|verify_area
c_func
(paren
id|VERIFY_WRITE
comma
id|user_req
comma
r_sizeof
(paren
r_struct
id|raw32_config_request
)paren
)paren
)paren
)paren
r_return
id|ret
suffix:semicolon
id|ret
op_assign
id|__put_user
c_func
(paren
id|req-&gt;raw_minor
comma
op_amp
id|user_req-&gt;raw_minor
)paren
suffix:semicolon
id|ret
op_or_assign
id|__put_user
c_func
(paren
id|req-&gt;block_major
comma
op_amp
id|user_req-&gt;block_major
)paren
suffix:semicolon
id|ret
op_or_assign
id|__put_user
c_func
(paren
id|req-&gt;block_minor
comma
op_amp
id|user_req-&gt;block_minor
)paren
suffix:semicolon
r_return
id|ret
ques
c_cond
op_minus
id|EFAULT
suffix:colon
l_int|0
suffix:semicolon
)brace
DECL|function|raw_ioctl
r_static
r_int
id|raw_ioctl
c_func
(paren
r_int
id|fd
comma
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_int
id|ret
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|RAW_SETBIND
suffix:colon
r_case
id|RAW_GETBIND
suffix:colon
(brace
r_struct
id|raw_config_request
id|req
suffix:semicolon
r_struct
id|raw32_config_request
id|__user
op_star
id|user_req
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
id|mm_segment_t
id|oldfs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|ret
op_assign
id|get_raw32_request
c_func
(paren
op_amp
id|req
comma
id|user_req
)paren
)paren
)paren
r_return
id|ret
suffix:semicolon
id|set_fs
c_func
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|ret
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
op_amp
id|req
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|oldfs
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
op_logical_neg
id|ret
)paren
op_logical_and
(paren
id|cmd
op_eq
id|RAW_GETBIND
)paren
)paren
(brace
id|ret
op_assign
id|set_raw32_request
c_func
(paren
op_amp
id|req
comma
id|user_req
)paren
suffix:semicolon
)brace
r_break
suffix:semicolon
)brace
r_default
suffix:colon
id|ret
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
id|arg
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
r_return
id|ret
suffix:semicolon
)brace
DECL|struct|serial_struct32
r_struct
id|serial_struct32
(brace
DECL|member|type
id|compat_int_t
id|type
suffix:semicolon
DECL|member|line
id|compat_int_t
id|line
suffix:semicolon
DECL|member|port
id|compat_uint_t
id|port
suffix:semicolon
DECL|member|irq
id|compat_int_t
id|irq
suffix:semicolon
DECL|member|flags
id|compat_int_t
id|flags
suffix:semicolon
DECL|member|xmit_fifo_size
id|compat_int_t
id|xmit_fifo_size
suffix:semicolon
DECL|member|custom_divisor
id|compat_int_t
id|custom_divisor
suffix:semicolon
DECL|member|baud_base
id|compat_int_t
id|baud_base
suffix:semicolon
DECL|member|close_delay
r_int
r_int
id|close_delay
suffix:semicolon
DECL|member|io_type
r_char
id|io_type
suffix:semicolon
DECL|member|reserved_char
r_char
id|reserved_char
(braket
l_int|1
)braket
suffix:semicolon
DECL|member|hub6
id|compat_int_t
id|hub6
suffix:semicolon
DECL|member|closing_wait
r_int
r_int
id|closing_wait
suffix:semicolon
multiline_comment|/* time to wait before closing */
DECL|member|closing_wait2
r_int
r_int
id|closing_wait2
suffix:semicolon
multiline_comment|/* no longer used... */
DECL|member|iomem_base
id|compat_uint_t
id|iomem_base
suffix:semicolon
DECL|member|iomem_reg_shift
r_int
r_int
id|iomem_reg_shift
suffix:semicolon
DECL|member|port_high
r_int
r_int
id|port_high
suffix:semicolon
multiline_comment|/* compat_ulong_t  iomap_base FIXME */
DECL|member|reserved
id|compat_int_t
id|reserved
(braket
l_int|1
)braket
suffix:semicolon
)brace
suffix:semicolon
DECL|function|serial_struct_ioctl
r_static
r_int
id|serial_struct_ioctl
c_func
(paren
r_int
id|fd
comma
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_typedef
r_struct
id|serial_struct
id|SS
suffix:semicolon
r_typedef
r_struct
id|serial_struct32
id|SS32
suffix:semicolon
r_struct
id|serial_struct32
id|__user
op_star
id|ss32
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
r_int
id|err
suffix:semicolon
r_struct
id|serial_struct
id|ss
suffix:semicolon
id|mm_segment_t
id|oldseg
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
id|__u32
id|udata
suffix:semicolon
r_if
c_cond
(paren
id|cmd
op_eq
id|TIOCSSERIAL
)paren
(brace
r_if
c_cond
(paren
id|verify_area
c_func
(paren
id|VERIFY_READ
comma
id|ss32
comma
r_sizeof
(paren
id|SS32
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|__copy_from_user
c_func
(paren
op_amp
id|ss
comma
id|ss32
comma
m_offsetof
(paren
id|SS32
comma
id|iomem_base
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|__get_user
c_func
(paren
id|udata
comma
op_amp
id|ss32-&gt;iomem_base
)paren
suffix:semicolon
id|ss.iomem_base
op_assign
id|compat_ptr
c_func
(paren
id|udata
)paren
suffix:semicolon
id|__get_user
c_func
(paren
id|ss.iomem_reg_shift
comma
op_amp
id|ss32-&gt;iomem_reg_shift
)paren
suffix:semicolon
id|__get_user
c_func
(paren
id|ss.port_high
comma
op_amp
id|ss32-&gt;port_high
)paren
suffix:semicolon
id|ss.iomap_base
op_assign
l_int|0UL
suffix:semicolon
)brace
id|set_fs
c_func
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
(paren
op_amp
id|ss
)paren
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|oldseg
)paren
suffix:semicolon
r_if
c_cond
(paren
id|cmd
op_eq
id|TIOCGSERIAL
op_logical_and
id|err
op_ge
l_int|0
)paren
(brace
r_if
c_cond
(paren
id|verify_area
c_func
(paren
id|VERIFY_WRITE
comma
id|ss32
comma
r_sizeof
(paren
id|SS32
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|__copy_to_user
c_func
(paren
id|ss32
comma
op_amp
id|ss
comma
m_offsetof
(paren
id|SS32
comma
id|iomem_base
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|__put_user
c_func
(paren
(paren
r_int
r_int
)paren
id|ss.iomem_base
op_rshift
l_int|32
ques
c_cond
l_int|0xffffffff
suffix:colon
(paren
r_int
)paren
(paren
r_int
r_int
)paren
id|ss.iomem_base
comma
op_amp
id|ss32-&gt;iomem_base
)paren
suffix:semicolon
id|__put_user
c_func
(paren
id|ss.iomem_reg_shift
comma
op_amp
id|ss32-&gt;iomem_reg_shift
)paren
suffix:semicolon
id|__put_user
c_func
(paren
id|ss.port_high
comma
op_amp
id|ss32-&gt;port_high
)paren
suffix:semicolon
)brace
r_return
id|err
suffix:semicolon
)brace
DECL|struct|usbdevfs_ctrltransfer32
r_struct
id|usbdevfs_ctrltransfer32
(brace
DECL|member|bRequestType
id|u8
id|bRequestType
suffix:semicolon
DECL|member|bRequest
id|u8
id|bRequest
suffix:semicolon
DECL|member|wValue
id|u16
id|wValue
suffix:semicolon
DECL|member|wIndex
id|u16
id|wIndex
suffix:semicolon
DECL|member|wLength
id|u16
id|wLength
suffix:semicolon
DECL|member|timeout
id|u32
id|timeout
suffix:semicolon
multiline_comment|/* in milliseconds */
DECL|member|data
id|compat_caddr_t
id|data
suffix:semicolon
)brace
suffix:semicolon
DECL|macro|USBDEVFS_CONTROL32
mdefine_line|#define USBDEVFS_CONTROL32           _IOWR(&squot;U&squot;, 0, struct usbdevfs_ctrltransfer32)
DECL|function|do_usbdevfs_control
r_static
r_int
id|do_usbdevfs_control
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|usbdevfs_ctrltransfer32
id|__user
op_star
id|p32
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
r_struct
id|usbdevfs_ctrltransfer
id|__user
op_star
id|p
suffix:semicolon
id|__u32
id|udata
suffix:semicolon
id|p
op_assign
id|compat_alloc_user_space
c_func
(paren
r_sizeof
(paren
op_star
id|p
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|copy_in_user
c_func
(paren
id|p
comma
id|p32
comma
(paren
r_sizeof
(paren
op_star
id|p32
)paren
op_minus
r_sizeof
(paren
id|compat_caddr_t
)paren
)paren
)paren
op_logical_or
id|get_user
c_func
(paren
id|udata
comma
op_amp
id|p32-&gt;data
)paren
op_logical_or
id|put_user
c_func
(paren
id|compat_ptr
c_func
(paren
id|udata
)paren
comma
op_amp
id|p-&gt;data
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_return
id|sys_ioctl
c_func
(paren
id|fd
comma
id|USBDEVFS_CONTROL
comma
(paren
r_int
r_int
)paren
id|p
)paren
suffix:semicolon
)brace
DECL|struct|usbdevfs_bulktransfer32
r_struct
id|usbdevfs_bulktransfer32
(brace
DECL|member|ep
id|compat_uint_t
id|ep
suffix:semicolon
DECL|member|len
id|compat_uint_t
id|len
suffix:semicolon
DECL|member|timeout
id|compat_uint_t
id|timeout
suffix:semicolon
multiline_comment|/* in milliseconds */
DECL|member|data
id|compat_caddr_t
id|data
suffix:semicolon
)brace
suffix:semicolon
DECL|macro|USBDEVFS_BULK32
mdefine_line|#define USBDEVFS_BULK32              _IOWR(&squot;U&squot;, 2, struct usbdevfs_bulktransfer32)
DECL|function|do_usbdevfs_bulk
r_static
r_int
id|do_usbdevfs_bulk
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|usbdevfs_bulktransfer32
id|__user
op_star
id|p32
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
r_struct
id|usbdevfs_bulktransfer
id|__user
op_star
id|p
suffix:semicolon
id|compat_uint_t
id|n
suffix:semicolon
id|compat_caddr_t
id|addr
suffix:semicolon
id|p
op_assign
id|compat_alloc_user_space
c_func
(paren
r_sizeof
(paren
op_star
id|p
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|n
comma
op_amp
id|p32-&gt;ep
)paren
op_logical_or
id|put_user
c_func
(paren
id|n
comma
op_amp
id|p-&gt;ep
)paren
op_logical_or
id|get_user
c_func
(paren
id|n
comma
op_amp
id|p32-&gt;len
)paren
op_logical_or
id|put_user
c_func
(paren
id|n
comma
op_amp
id|p-&gt;len
)paren
op_logical_or
id|get_user
c_func
(paren
id|n
comma
op_amp
id|p32-&gt;timeout
)paren
op_logical_or
id|put_user
c_func
(paren
id|n
comma
op_amp
id|p-&gt;timeout
)paren
op_logical_or
id|get_user
c_func
(paren
id|addr
comma
op_amp
id|p32-&gt;data
)paren
op_logical_or
id|put_user
c_func
(paren
id|compat_ptr
c_func
(paren
id|addr
)paren
comma
op_amp
id|p-&gt;data
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_return
id|sys_ioctl
c_func
(paren
id|fd
comma
id|USBDEVFS_BULK
comma
(paren
r_int
r_int
)paren
id|p
)paren
suffix:semicolon
)brace
multiline_comment|/* This needs more work before we can enable it.  Unfortunately&n; * because of the fancy asynchronous way URB status/error is written&n; * back to userspace, we&squot;ll need to fiddle with USB devio internals&n; * and/or reimplement entirely the frontend of it ourselves. -DaveM&n; *&n; * The issue is:&n; *&n; *&t;When an URB is submitted via usbdevicefs it is put onto an&n; *&t;asynchronous queue.  When the URB completes, it may be reaped&n; *&t;via another ioctl.  During this reaping the status is written&n; *&t;back to userspace along with the length of the transfer.&n; *&n; *&t;We must translate into 64-bit kernel types so we pass in a kernel&n; *&t;space copy of the usbdevfs_urb structure.  This would mean that we&n; *&t;must do something to deal with the async entry reaping.  First we&n; *&t;have to deal somehow with this transitory memory we&squot;ve allocated.&n; *&t;This is problematic since there are many call sites from which the&n; *&t;async entries can be destroyed (and thus when we&squot;d need to free up&n; *&t;this kernel memory).  One of which is the close() op of usbdevicefs.&n; *&t;To handle that we&squot;d need to make our own file_operations struct which&n; *&t;overrides usbdevicefs&squot;s release op with our own which runs usbdevicefs&squot;s&n; *&t;real release op then frees up the kernel memory.&n; *&n; *&t;But how to keep track of these kernel buffers?  We&squot;d need to either&n; *&t;keep track of them in some table _or_ know about usbdevicefs internals&n; *&t;(ie. the exact layout of its file private, which is actually defined&n; *&t;in linux/usbdevice_fs.h, the layout of the async queues are private to&n; *&t;devio.c)&n; *&n; * There is one possible other solution I considered, also involving knowledge&n; * of usbdevicefs internals:&n; *&n; *&t;After an URB is submitted, we &quot;fix up&quot; the address back to the user&n; *&t;space one.  This would work if the status/length fields written back&n; *&t;by the async URB completion lines up perfectly in the 32-bit type with&n; *&t;the 64-bit kernel type.  Unfortunately, it does not because the iso&n; *&t;frame descriptors, at the end of the struct, can be written back.&n; *&n; * I think we&squot;ll just need to simply duplicate the devio URB engine here.&n; */
macro_line|#if 0
r_struct
id|usbdevfs_urb32
(brace
r_int
r_char
id|type
suffix:semicolon
r_int
r_char
id|endpoint
suffix:semicolon
id|compat_int_t
id|status
suffix:semicolon
id|compat_uint_t
id|flags
suffix:semicolon
id|compat_caddr_t
id|buffer
suffix:semicolon
id|compat_int_t
id|buffer_length
suffix:semicolon
id|compat_int_t
id|actual_length
suffix:semicolon
id|compat_int_t
id|start_frame
suffix:semicolon
id|compat_int_t
id|number_of_packets
suffix:semicolon
id|compat_int_t
id|error_count
suffix:semicolon
id|compat_uint_t
id|signr
suffix:semicolon
id|compat_caddr_t
id|usercontext
suffix:semicolon
multiline_comment|/* unused */
r_struct
id|usbdevfs_iso_packet_desc
id|iso_frame_desc
(braket
l_int|0
)braket
suffix:semicolon
)brace
suffix:semicolon
mdefine_line|#define USBDEVFS_SUBMITURB32       _IOR(&squot;U&squot;, 10, struct usbdevfs_urb32)
r_static
r_int
id|get_urb32
c_func
(paren
r_struct
id|usbdevfs_urb
op_star
id|kurb
comma
r_struct
id|usbdevfs_urb32
op_star
id|uurb
)paren
(brace
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|kurb-&gt;type
comma
op_amp
id|uurb-&gt;type
)paren
op_logical_or
id|__get_user
c_func
(paren
id|kurb-&gt;endpoint
comma
op_amp
id|uurb-&gt;endpoint
)paren
op_logical_or
id|__get_user
c_func
(paren
id|kurb-&gt;status
comma
op_amp
id|uurb-&gt;status
)paren
op_logical_or
id|__get_user
c_func
(paren
id|kurb-&gt;flags
comma
op_amp
id|uurb-&gt;flags
)paren
op_logical_or
id|__get_user
c_func
(paren
id|kurb-&gt;buffer_length
comma
op_amp
id|uurb-&gt;buffer_length
)paren
op_logical_or
id|__get_user
c_func
(paren
id|kurb-&gt;actual_length
comma
op_amp
id|uurb-&gt;actual_length
)paren
op_logical_or
id|__get_user
c_func
(paren
id|kurb-&gt;start_frame
comma
op_amp
id|uurb-&gt;start_frame
)paren
op_logical_or
id|__get_user
c_func
(paren
id|kurb-&gt;number_of_packets
comma
op_amp
id|uurb-&gt;number_of_packets
)paren
op_logical_or
id|__get_user
c_func
(paren
id|kurb-&gt;error_count
comma
op_amp
id|uurb-&gt;error_count
)paren
op_logical_or
id|__get_user
c_func
(paren
id|kurb-&gt;signr
comma
op_amp
id|uurb-&gt;signr
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|kurb-&gt;usercontext
op_assign
l_int|0
suffix:semicolon
multiline_comment|/* unused currently */
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/* Just put back the values which usbdevfs actually changes. */
r_static
r_int
id|put_urb32
c_func
(paren
r_struct
id|usbdevfs_urb
op_star
id|kurb
comma
r_struct
id|usbdevfs_urb32
op_star
id|uurb
)paren
(brace
r_if
c_cond
(paren
id|put_user
c_func
(paren
id|kurb-&gt;status
comma
op_amp
id|uurb-&gt;status
)paren
op_logical_or
id|__put_user
c_func
(paren
id|kurb-&gt;actual_length
comma
op_amp
id|uurb-&gt;actual_length
)paren
op_logical_or
id|__put_user
c_func
(paren
id|kurb-&gt;error_count
comma
op_amp
id|uurb-&gt;error_count
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|kurb-&gt;number_of_packets
op_ne
l_int|0
)paren
(brace
r_int
id|i
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|kurb-&gt;number_of_packets
suffix:semicolon
id|i
op_increment
)paren
(brace
r_if
c_cond
(paren
id|__put_user
c_func
(paren
id|kurb-&gt;iso_frame_desc
(braket
id|i
)braket
dot
id|actual_length
comma
op_amp
id|uurb-&gt;iso_frame_desc
(braket
id|i
)braket
dot
id|actual_length
)paren
op_logical_or
id|__put_user
c_func
(paren
id|kurb-&gt;iso_frame_desc
(braket
id|i
)braket
dot
id|status
comma
op_amp
id|uurb-&gt;iso_frame_desc
(braket
id|i
)braket
dot
id|status
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
)brace
)brace
r_return
l_int|0
suffix:semicolon
)brace
r_static
r_int
id|get_urb32_isoframes
c_func
(paren
r_struct
id|usbdevfs_urb
op_star
id|kurb
comma
r_struct
id|usbdevfs_urb32
op_star
id|uurb
)paren
(brace
r_int
r_int
id|totlen
suffix:semicolon
r_int
id|i
suffix:semicolon
r_if
c_cond
(paren
id|kurb-&gt;type
op_ne
id|USBDEVFS_URB_TYPE_ISO
)paren
(brace
id|kurb-&gt;number_of_packets
op_assign
l_int|0
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
r_if
c_cond
(paren
id|kurb-&gt;number_of_packets
template_param
l_int|128
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
op_amp
id|kurb-&gt;iso_frame_desc
(braket
l_int|0
)braket
comma
op_amp
id|uurb-&gt;iso_frame_desc
(braket
l_int|0
)braket
comma
r_sizeof
(paren
r_struct
id|usbdevfs_iso_packet_desc
)paren
op_star
id|kurb-&gt;number_of_packets
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|totlen
op_assign
l_int|0
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|kurb-&gt;number_of_packets
suffix:semicolon
id|i
op_increment
)paren
(brace
r_int
r_int
id|this_len
suffix:semicolon
id|this_len
op_assign
id|kurb-&gt;iso_frame_desc
(braket
id|i
)braket
dot
id|length
suffix:semicolon
r_if
c_cond
(paren
id|this_len
OG
l_int|1023
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
id|totlen
op_add_assign
id|this_len
suffix:semicolon
)brace
r_if
c_cond
(paren
id|totlen
OG
l_int|32768
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
id|kurb-&gt;buffer_length
op_assign
id|totlen
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
r_static
r_int
id|do_usbdevfs_urb
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|usbdevfs_urb
op_star
id|kurb
suffix:semicolon
r_struct
id|usbdevfs_urb32
op_star
id|uurb
suffix:semicolon
id|mm_segment_t
id|old_fs
suffix:semicolon
id|__u32
id|udata
suffix:semicolon
r_void
op_star
id|uptr
comma
op_star
id|kptr
suffix:semicolon
r_int
r_int
id|buflen
suffix:semicolon
r_int
id|err
suffix:semicolon
id|uurb
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
id|err
op_assign
op_minus
id|ENOMEM
suffix:semicolon
id|kurb
op_assign
id|kmalloc
c_func
(paren
r_sizeof
(paren
r_struct
id|usbdevfs_urb
)paren
op_plus
(paren
r_sizeof
(paren
r_struct
id|usbdevfs_iso_packet_desc
)paren
op_star
l_int|128
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|kurb
)paren
r_goto
id|out
suffix:semicolon
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|get_urb32
c_func
(paren
id|kurb
comma
id|uurb
)paren
)paren
r_goto
id|out
suffix:semicolon
id|err
op_assign
id|get_urb32_isoframes
c_func
(paren
id|kurb
comma
id|uurb
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_goto
id|out
suffix:semicolon
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|__get_user
c_func
(paren
id|udata
comma
op_amp
id|uurb-&gt;buffer
)paren
)paren
r_goto
id|out
suffix:semicolon
id|uptr
op_assign
id|compat_ptr
c_func
(paren
id|udata
)paren
suffix:semicolon
id|buflen
op_assign
id|kurb-&gt;buffer_length
suffix:semicolon
id|err
op_assign
id|verify_area
c_func
(paren
id|VERIFY_WRITE
comma
id|uptr
comma
id|buflen
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_goto
id|out
suffix:semicolon
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|USBDEVFS_SUBMITURB
comma
(paren
r_int
r_int
)paren
id|kurb
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
op_ge
l_int|0
)paren
(brace
multiline_comment|/* RED-PEN Shit, this doesn&squot;t work for async URBs :-( XXX */
r_if
c_cond
(paren
id|put_urb32
c_func
(paren
id|kurb
comma
id|uurb
)paren
)paren
(brace
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
)brace
)brace
id|out
suffix:colon
id|kfree
c_func
(paren
id|kurb
)paren
suffix:semicolon
r_return
id|err
suffix:semicolon
)brace
macro_line|#endif
DECL|macro|USBDEVFS_REAPURB32
mdefine_line|#define USBDEVFS_REAPURB32         _IOW(&squot;U&squot;, 12, u32)
DECL|macro|USBDEVFS_REAPURBNDELAY32
mdefine_line|#define USBDEVFS_REAPURBNDELAY32   _IOW(&squot;U&squot;, 13, u32)
DECL|function|do_usbdevfs_reapurb
r_static
r_int
id|do_usbdevfs_reapurb
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|mm_segment_t
id|old_fs
suffix:semicolon
r_void
op_star
id|kptr
suffix:semicolon
r_int
id|err
suffix:semicolon
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
(paren
id|cmd
op_eq
id|USBDEVFS_REAPURB32
ques
c_cond
id|USBDEVFS_REAPURB
suffix:colon
id|USBDEVFS_REAPURBNDELAY
)paren
comma
(paren
r_int
r_int
)paren
op_amp
id|kptr
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
op_ge
l_int|0
op_logical_and
id|put_user
c_func
(paren
(paren
id|u32
)paren
(paren
id|u64
)paren
id|kptr
comma
(paren
id|u32
id|__user
op_star
)paren
id|compat_ptr
c_func
(paren
id|arg
)paren
)paren
)paren
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_return
id|err
suffix:semicolon
)brace
DECL|struct|usbdevfs_disconnectsignal32
r_struct
id|usbdevfs_disconnectsignal32
(brace
DECL|member|signr
id|compat_int_t
id|signr
suffix:semicolon
DECL|member|context
id|compat_caddr_t
id|context
suffix:semicolon
)brace
suffix:semicolon
DECL|macro|USBDEVFS_DISCSIGNAL32
mdefine_line|#define USBDEVFS_DISCSIGNAL32      _IOR(&squot;U&squot;, 14, struct usbdevfs_disconnectsignal32)
DECL|function|do_usbdevfs_discsignal
r_static
r_int
id|do_usbdevfs_discsignal
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|usbdevfs_disconnectsignal
id|kdis
suffix:semicolon
r_struct
id|usbdevfs_disconnectsignal32
id|__user
op_star
id|udis
suffix:semicolon
id|mm_segment_t
id|old_fs
suffix:semicolon
id|u32
id|uctx
suffix:semicolon
r_int
id|err
suffix:semicolon
id|udis
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|kdis.signr
comma
op_amp
id|udis-&gt;signr
)paren
op_logical_or
id|__get_user
c_func
(paren
id|uctx
comma
op_amp
id|udis-&gt;context
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|kdis.context
op_assign
id|compat_ptr
c_func
(paren
id|uctx
)paren
suffix:semicolon
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|USBDEVFS_DISCSIGNAL
comma
(paren
r_int
r_int
)paren
op_amp
id|kdis
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|old_fs
)paren
suffix:semicolon
r_return
id|err
suffix:semicolon
)brace
multiline_comment|/*&n; * I2C layer ioctls&n; */
DECL|struct|i2c_msg32
r_struct
id|i2c_msg32
(brace
DECL|member|addr
id|u16
id|addr
suffix:semicolon
DECL|member|flags
id|u16
id|flags
suffix:semicolon
DECL|member|len
id|u16
id|len
suffix:semicolon
DECL|member|buf
id|compat_caddr_t
id|buf
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|i2c_rdwr_ioctl_data32
r_struct
id|i2c_rdwr_ioctl_data32
(brace
DECL|member|msgs
id|compat_caddr_t
id|msgs
suffix:semicolon
multiline_comment|/* struct i2c_msg __user *msgs */
DECL|member|nmsgs
id|u32
id|nmsgs
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|i2c_smbus_ioctl_data32
r_struct
id|i2c_smbus_ioctl_data32
(brace
DECL|member|read_write
id|u8
id|read_write
suffix:semicolon
DECL|member|command
id|u8
id|command
suffix:semicolon
DECL|member|size
id|u32
id|size
suffix:semicolon
DECL|member|data
id|compat_caddr_t
id|data
suffix:semicolon
multiline_comment|/* union i2c_smbus_data *data */
)brace
suffix:semicolon
DECL|function|do_i2c_rdwr_ioctl
r_static
r_int
id|do_i2c_rdwr_ioctl
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|i2c_rdwr_ioctl_data
id|__user
op_star
id|tdata
suffix:semicolon
r_struct
id|i2c_rdwr_ioctl_data32
id|__user
op_star
id|udata
suffix:semicolon
r_struct
id|i2c_msg
id|__user
op_star
id|tmsgs
suffix:semicolon
r_struct
id|i2c_msg32
id|__user
op_star
id|umsgs
suffix:semicolon
id|compat_caddr_t
id|datap
suffix:semicolon
r_int
id|nmsgs
comma
id|i
suffix:semicolon
id|tdata
op_assign
id|compat_alloc_user_space
c_func
(paren
r_sizeof
(paren
op_star
id|tdata
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|tdata
op_eq
l_int|NULL
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
r_if
c_cond
(paren
id|verify_area
c_func
(paren
id|VERIFY_WRITE
comma
id|tdata
comma
r_sizeof
(paren
op_star
id|tdata
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|udata
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
r_if
c_cond
(paren
id|verify_area
c_func
(paren
id|VERIFY_READ
comma
id|udata
comma
r_sizeof
(paren
op_star
id|udata
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|__get_user
c_func
(paren
id|nmsgs
comma
op_amp
id|udata-&gt;nmsgs
)paren
op_logical_or
id|__put_user
c_func
(paren
id|nmsgs
comma
op_amp
id|tdata-&gt;nmsgs
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|nmsgs
OG
id|I2C_RDRW_IOCTL_MAX_MSGS
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
r_if
c_cond
(paren
id|__get_user
c_func
(paren
id|datap
comma
op_amp
id|udata-&gt;msgs
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|umsgs
op_assign
id|compat_ptr
c_func
(paren
id|datap
)paren
suffix:semicolon
r_if
c_cond
(paren
id|verify_area
c_func
(paren
id|VERIFY_READ
comma
id|umsgs
comma
r_sizeof
(paren
r_struct
id|i2c_msg
)paren
op_star
id|nmsgs
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|tmsgs
op_assign
id|compat_alloc_user_space
c_func
(paren
r_sizeof
(paren
r_struct
id|i2c_msg
)paren
op_star
id|nmsgs
)paren
suffix:semicolon
r_if
c_cond
(paren
id|tmsgs
op_eq
l_int|NULL
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
r_if
c_cond
(paren
id|verify_area
c_func
(paren
id|VERIFY_WRITE
comma
id|tmsgs
comma
r_sizeof
(paren
r_struct
id|i2c_msg
)paren
op_star
id|nmsgs
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|__put_user
c_func
(paren
id|tmsgs
comma
op_amp
id|tdata-&gt;msgs
)paren
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|nmsgs
suffix:semicolon
id|i
op_increment
)paren
(brace
r_if
c_cond
(paren
id|__copy_in_user
c_func
(paren
op_amp
id|tmsgs
(braket
id|i
)braket
dot
id|addr
comma
op_amp
id|umsgs
(braket
id|i
)braket
dot
id|addr
comma
l_int|3
op_star
r_sizeof
(paren
id|u16
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|__get_user
c_func
(paren
id|datap
comma
op_amp
id|umsgs
(braket
id|i
)braket
dot
id|buf
)paren
op_logical_or
id|__put_user
c_func
(paren
id|compat_ptr
c_func
(paren
id|datap
)paren
comma
op_amp
id|tmsgs
(braket
id|i
)braket
dot
id|buf
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
)brace
r_return
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
id|tdata
)paren
suffix:semicolon
)brace
DECL|function|do_i2c_smbus_ioctl
r_static
r_int
id|do_i2c_smbus_ioctl
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|i2c_smbus_ioctl_data
id|__user
op_star
id|tdata
suffix:semicolon
r_struct
id|i2c_smbus_ioctl_data32
id|__user
op_star
id|udata
suffix:semicolon
id|compat_caddr_t
id|datap
suffix:semicolon
id|tdata
op_assign
id|compat_alloc_user_space
c_func
(paren
r_sizeof
(paren
op_star
id|tdata
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|tdata
op_eq
l_int|NULL
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
r_if
c_cond
(paren
id|verify_area
c_func
(paren
id|VERIFY_WRITE
comma
id|tdata
comma
r_sizeof
(paren
op_star
id|tdata
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|udata
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
r_if
c_cond
(paren
id|verify_area
c_func
(paren
id|VERIFY_READ
comma
id|udata
comma
r_sizeof
(paren
op_star
id|udata
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|__copy_in_user
c_func
(paren
op_amp
id|tdata-&gt;read_write
comma
op_amp
id|udata-&gt;read_write
comma
l_int|2
op_star
r_sizeof
(paren
id|u8
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|__copy_in_user
c_func
(paren
op_amp
id|tdata-&gt;size
comma
op_amp
id|udata-&gt;size
comma
l_int|2
op_star
r_sizeof
(paren
id|u32
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|__get_user
c_func
(paren
id|datap
comma
op_amp
id|udata-&gt;data
)paren
op_logical_or
id|__put_user
c_func
(paren
id|compat_ptr
c_func
(paren
id|datap
)paren
comma
op_amp
id|tdata-&gt;data
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_return
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
id|tdata
)paren
suffix:semicolon
)brace
DECL|struct|compat_iw_point
r_struct
id|compat_iw_point
(brace
DECL|member|pointer
id|compat_caddr_t
id|pointer
suffix:semicolon
DECL|member|length
id|__u16
id|length
suffix:semicolon
DECL|member|flags
id|__u16
id|flags
suffix:semicolon
)brace
suffix:semicolon
DECL|function|do_wireless_ioctl
r_static
r_int
id|do_wireless_ioctl
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|iwreq
id|__user
op_star
id|iwr
suffix:semicolon
r_struct
id|iwreq
id|__user
op_star
id|iwr_u
suffix:semicolon
r_struct
id|iw_point
id|__user
op_star
id|iwp
suffix:semicolon
r_struct
id|compat_iw_point
id|__user
op_star
id|iwp_u
suffix:semicolon
id|compat_caddr_t
id|pointer
suffix:semicolon
id|__u16
id|length
comma
id|flags
suffix:semicolon
id|iwr_u
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
id|iwp_u
op_assign
(paren
r_struct
id|compat_iw_point
id|__user
op_star
)paren
op_amp
id|iwr_u-&gt;u.data
suffix:semicolon
id|iwr
op_assign
id|compat_alloc_user_space
c_func
(paren
r_sizeof
(paren
op_star
id|iwr
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|iwr
op_eq
l_int|NULL
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
id|iwp
op_assign
op_amp
id|iwr-&gt;u.data
suffix:semicolon
r_if
c_cond
(paren
id|verify_area
c_func
(paren
id|VERIFY_WRITE
comma
id|iwr
comma
r_sizeof
(paren
op_star
id|iwr
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|__copy_in_user
c_func
(paren
op_amp
id|iwr-&gt;ifr_ifrn.ifrn_name
(braket
l_int|0
)braket
comma
op_amp
id|iwr_u-&gt;ifr_ifrn.ifrn_name
(braket
l_int|0
)braket
comma
r_sizeof
(paren
id|iwr-&gt;ifr_ifrn.ifrn_name
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|__get_user
c_func
(paren
id|pointer
comma
op_amp
id|iwp_u-&gt;pointer
)paren
op_logical_or
id|__get_user
c_func
(paren
id|length
comma
op_amp
id|iwp_u-&gt;length
)paren
op_logical_or
id|__get_user
c_func
(paren
id|flags
comma
op_amp
id|iwp_u-&gt;flags
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|__put_user
c_func
(paren
id|compat_ptr
c_func
(paren
id|pointer
)paren
comma
op_amp
id|iwp-&gt;pointer
)paren
op_logical_or
id|__put_user
c_func
(paren
id|length
comma
op_amp
id|iwp-&gt;length
)paren
op_logical_or
id|__put_user
c_func
(paren
id|flags
comma
op_amp
id|iwp-&gt;flags
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_return
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
id|iwr
)paren
suffix:semicolon
)brace
multiline_comment|/* Since old style bridge ioctl&squot;s endup using SIOCDEVPRIVATE&n; * for some operations; this forces use of the newer bridge-utils that&n; * use compatiable ioctls&n; */
DECL|function|old_bridge_ioctl
r_static
r_int
id|old_bridge_ioctl
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|u32
id|tmp
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|tmp
comma
(paren
id|u32
id|__user
op_star
)paren
id|arg
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|tmp
op_eq
id|BRCTL_GET_VERSION
)paren
r_return
id|BRCTL_VERSION
op_plus
l_int|1
suffix:semicolon
r_return
op_minus
id|EINVAL
suffix:semicolon
)brace
macro_line|#if defined(CONFIG_NCP_FS) || defined(CONFIG_NCP_FS_MODULE)
DECL|struct|ncp_ioctl_request_32
r_struct
id|ncp_ioctl_request_32
(brace
DECL|member|function
id|u32
id|function
suffix:semicolon
DECL|member|size
id|u32
id|size
suffix:semicolon
DECL|member|data
id|compat_caddr_t
id|data
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|ncp_fs_info_v2_32
r_struct
id|ncp_fs_info_v2_32
(brace
DECL|member|version
id|s32
id|version
suffix:semicolon
DECL|member|mounted_uid
id|u32
id|mounted_uid
suffix:semicolon
DECL|member|connection
id|u32
id|connection
suffix:semicolon
DECL|member|buffer_size
id|u32
id|buffer_size
suffix:semicolon
DECL|member|volume_number
id|u32
id|volume_number
suffix:semicolon
DECL|member|directory_id
id|u32
id|directory_id
suffix:semicolon
DECL|member|dummy1
id|u32
id|dummy1
suffix:semicolon
DECL|member|dummy2
id|u32
id|dummy2
suffix:semicolon
DECL|member|dummy3
id|u32
id|dummy3
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|ncp_objectname_ioctl_32
r_struct
id|ncp_objectname_ioctl_32
(brace
DECL|member|auth_type
id|s32
id|auth_type
suffix:semicolon
DECL|member|object_name_len
id|u32
id|object_name_len
suffix:semicolon
DECL|member|object_name
id|compat_caddr_t
id|object_name
suffix:semicolon
multiline_comment|/* an userspace data, in most cases user name */
)brace
suffix:semicolon
DECL|struct|ncp_privatedata_ioctl_32
r_struct
id|ncp_privatedata_ioctl_32
(brace
DECL|member|len
id|u32
id|len
suffix:semicolon
DECL|member|data
id|compat_caddr_t
id|data
suffix:semicolon
multiline_comment|/* ~1000 for NDS */
)brace
suffix:semicolon
DECL|macro|NCP_IOC_NCPREQUEST_32
mdefine_line|#define&t;NCP_IOC_NCPREQUEST_32&t;&t;_IOR(&squot;n&squot;, 1, struct ncp_ioctl_request_32)
DECL|macro|NCP_IOC_GETMOUNTUID2_32
mdefine_line|#define NCP_IOC_GETMOUNTUID2_32&t;&t;_IOW(&squot;n&squot;, 2, u32)
DECL|macro|NCP_IOC_GET_FS_INFO_V2_32
mdefine_line|#define NCP_IOC_GET_FS_INFO_V2_32&t;_IOWR(&squot;n&squot;, 4, struct ncp_fs_info_v2_32)
DECL|macro|NCP_IOC_GETOBJECTNAME_32
mdefine_line|#define NCP_IOC_GETOBJECTNAME_32&t;_IOWR(&squot;n&squot;, 9, struct ncp_objectname_ioctl_32)
DECL|macro|NCP_IOC_SETOBJECTNAME_32
mdefine_line|#define NCP_IOC_SETOBJECTNAME_32&t;_IOR(&squot;n&squot;, 9, struct ncp_objectname_ioctl_32)
DECL|macro|NCP_IOC_GETPRIVATEDATA_32
mdefine_line|#define NCP_IOC_GETPRIVATEDATA_32&t;_IOWR(&squot;n&squot;, 10, struct ncp_privatedata_ioctl_32)
DECL|macro|NCP_IOC_SETPRIVATEDATA_32
mdefine_line|#define NCP_IOC_SETPRIVATEDATA_32&t;_IOR(&squot;n&squot;, 10, struct ncp_privatedata_ioctl_32)
DECL|function|do_ncp_ncprequest
r_static
r_int
id|do_ncp_ncprequest
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|ncp_ioctl_request_32
id|n32
suffix:semicolon
r_struct
id|ncp_ioctl_request
id|__user
op_star
id|p
op_assign
id|compat_alloc_user_space
c_func
(paren
r_sizeof
(paren
op_star
id|p
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
op_amp
id|n32
comma
id|compat_ptr
c_func
(paren
id|arg
)paren
comma
r_sizeof
(paren
id|n32
)paren
)paren
op_logical_or
id|put_user
c_func
(paren
id|n32.function
comma
op_amp
id|p-&gt;function
)paren
op_logical_or
id|put_user
c_func
(paren
id|n32.size
comma
op_amp
id|p-&gt;size
)paren
op_logical_or
id|put_user
c_func
(paren
id|compat_ptr
c_func
(paren
id|n32.data
)paren
comma
op_amp
id|p-&gt;data
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_return
id|sys_ioctl
c_func
(paren
id|fd
comma
id|NCP_IOC_NCPREQUEST
comma
(paren
r_int
r_int
)paren
id|p
)paren
suffix:semicolon
)brace
DECL|function|do_ncp_getmountuid2
r_static
r_int
id|do_ncp_getmountuid2
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
id|__kernel_uid_t
id|kuid
suffix:semicolon
r_int
id|err
suffix:semicolon
id|cmd
op_assign
id|NCP_IOC_GETMOUNTUID2
suffix:semicolon
id|set_fs
c_func
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
op_amp
id|kuid
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|err
)paren
id|err
op_assign
id|put_user
c_func
(paren
id|kuid
comma
(paren
r_int
r_int
id|__user
op_star
)paren
id|compat_ptr
c_func
(paren
id|arg
)paren
)paren
suffix:semicolon
r_return
id|err
suffix:semicolon
)brace
DECL|function|do_ncp_getfsinfo2
r_static
r_int
id|do_ncp_getfsinfo2
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
r_struct
id|ncp_fs_info_v2_32
id|n32
suffix:semicolon
r_struct
id|ncp_fs_info_v2
id|n
suffix:semicolon
r_int
id|err
suffix:semicolon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
op_amp
id|n32
comma
id|compat_ptr
c_func
(paren
id|arg
)paren
comma
r_sizeof
(paren
id|n32
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|n32.version
op_ne
id|NCP_GET_FS_INFO_VERSION_V2
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
id|n.version
op_assign
id|NCP_GET_FS_INFO_VERSION_V2
suffix:semicolon
id|set_fs
c_func
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|NCP_IOC_GET_FS_INFO_V2
comma
(paren
r_int
r_int
)paren
op_amp
id|n
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|err
)paren
(brace
id|n32.version
op_assign
id|n.version
suffix:semicolon
id|n32.mounted_uid
op_assign
id|n.mounted_uid
suffix:semicolon
id|n32.connection
op_assign
id|n.connection
suffix:semicolon
id|n32.buffer_size
op_assign
id|n.buffer_size
suffix:semicolon
id|n32.volume_number
op_assign
id|n.volume_number
suffix:semicolon
id|n32.directory_id
op_assign
id|n.directory_id
suffix:semicolon
id|n32.dummy1
op_assign
id|n.dummy1
suffix:semicolon
id|n32.dummy2
op_assign
id|n.dummy2
suffix:semicolon
id|n32.dummy3
op_assign
id|n.dummy3
suffix:semicolon
id|err
op_assign
id|copy_to_user
c_func
(paren
id|compat_ptr
c_func
(paren
id|arg
)paren
comma
op_amp
id|n32
comma
r_sizeof
(paren
id|n32
)paren
)paren
ques
c_cond
op_minus
id|EFAULT
suffix:colon
l_int|0
suffix:semicolon
)brace
r_return
id|err
suffix:semicolon
)brace
DECL|function|do_ncp_getobjectname
r_static
r_int
id|do_ncp_getobjectname
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|ncp_objectname_ioctl_32
id|n32
comma
id|__user
op_star
id|p32
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
r_struct
id|ncp_objectname_ioctl
id|__user
op_star
id|p
op_assign
id|compat_alloc_user_space
c_func
(paren
r_sizeof
(paren
op_star
id|p
)paren
)paren
suffix:semicolon
id|s32
id|auth_type
suffix:semicolon
id|u32
id|name_len
suffix:semicolon
r_int
id|err
suffix:semicolon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
op_amp
id|n32
comma
id|p32
comma
r_sizeof
(paren
id|n32
)paren
)paren
op_logical_or
id|put_user
c_func
(paren
id|n32.object_name_len
comma
op_amp
id|p-&gt;object_name_len
)paren
op_logical_or
id|put_user
c_func
(paren
id|compat_ptr
c_func
(paren
id|n32.object_name
)paren
comma
op_amp
id|p-&gt;object_name
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|err
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|NCP_IOC_GETOBJECTNAME
comma
(paren
r_int
r_int
)paren
id|p
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_return
id|err
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|auth_type
comma
op_amp
id|p-&gt;auth_type
)paren
op_logical_or
id|put_user
c_func
(paren
id|auth_type
comma
op_amp
id|p32-&gt;auth_type
)paren
op_logical_or
id|get_user
c_func
(paren
id|name_len
comma
op_amp
id|p-&gt;object_name_len
)paren
op_logical_or
id|put_user
c_func
(paren
id|name_len
comma
op_amp
id|p32-&gt;object_name_len
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|do_ncp_setobjectname
r_static
r_int
id|do_ncp_setobjectname
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|ncp_objectname_ioctl_32
id|n32
comma
id|__user
op_star
id|p32
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
r_struct
id|ncp_objectname_ioctl
id|__user
op_star
id|p
op_assign
id|compat_alloc_user_space
c_func
(paren
r_sizeof
(paren
op_star
id|p
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
op_amp
id|n32
comma
id|p32
comma
r_sizeof
(paren
id|n32
)paren
)paren
op_logical_or
id|put_user
c_func
(paren
id|n32.auth_type
comma
op_amp
id|p-&gt;auth_type
)paren
op_logical_or
id|put_user
c_func
(paren
id|n32.object_name_len
comma
op_amp
id|p-&gt;object_name_len
)paren
op_logical_or
id|put_user
c_func
(paren
id|compat_ptr
c_func
(paren
id|n32.object_name
)paren
comma
op_amp
id|p-&gt;object_name
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_return
id|sys_ioctl
c_func
(paren
id|fd
comma
id|NCP_IOC_SETOBJECTNAME
comma
(paren
r_int
r_int
)paren
id|p
)paren
suffix:semicolon
)brace
DECL|function|do_ncp_getprivatedata
r_static
r_int
id|do_ncp_getprivatedata
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|ncp_privatedata_ioctl_32
id|n32
comma
id|__user
op_star
id|p32
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
r_struct
id|ncp_privatedata_ioctl
id|__user
op_star
id|p
op_assign
id|compat_alloc_user_space
c_func
(paren
r_sizeof
(paren
op_star
id|p
)paren
)paren
suffix:semicolon
id|u32
id|len
suffix:semicolon
r_int
id|err
suffix:semicolon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
op_amp
id|n32
comma
id|p32
comma
r_sizeof
(paren
id|n32
)paren
)paren
op_logical_or
id|put_user
c_func
(paren
id|n32.len
comma
op_amp
id|p-&gt;len
)paren
op_logical_or
id|put_user
c_func
(paren
id|compat_ptr
c_func
(paren
id|n32.data
)paren
comma
op_amp
id|p-&gt;data
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|err
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|NCP_IOC_GETPRIVATEDATA
comma
(paren
r_int
r_int
)paren
id|p
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_return
id|err
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|len
comma
op_amp
id|p-&gt;len
)paren
op_logical_or
id|put_user
c_func
(paren
id|len
comma
op_amp
id|p32-&gt;len
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|do_ncp_setprivatedata
r_static
r_int
id|do_ncp_setprivatedata
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|ncp_privatedata_ioctl_32
id|n32
suffix:semicolon
r_struct
id|ncp_privatedata_ioctl_32
id|__user
op_star
id|p32
op_assign
id|compat_ptr
c_func
(paren
id|arg
)paren
suffix:semicolon
r_struct
id|ncp_privatedata_ioctl
id|__user
op_star
id|p
op_assign
id|compat_alloc_user_space
c_func
(paren
r_sizeof
(paren
op_star
id|p
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
op_amp
id|n32
comma
id|p32
comma
r_sizeof
(paren
id|n32
)paren
)paren
op_logical_or
id|put_user
c_func
(paren
id|n32.len
comma
op_amp
id|p-&gt;len
)paren
op_logical_or
id|put_user
c_func
(paren
id|compat_ptr
c_func
(paren
id|n32.data
)paren
comma
op_amp
id|p-&gt;data
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_return
id|sys_ioctl
c_func
(paren
id|fd
comma
id|NCP_IOC_SETPRIVATEDATA
comma
(paren
r_int
r_int
)paren
id|p
)paren
suffix:semicolon
)brace
macro_line|#endif
DECL|macro|CODE
macro_line|#undef CODE
macro_line|#endif
macro_line|#ifdef DECLARES
id|HANDLE_IOCTL
c_func
(paren
id|MEMREADOOB32
comma
id|mtd_rw_oob
)paren
id|HANDLE_IOCTL
c_func
(paren
id|MEMWRITEOOB32
comma
id|mtd_rw_oob
)paren
macro_line|#ifdef CONFIG_NET
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFNAME
comma
id|dev_ifname32
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFCONF
comma
id|dev_ifconf
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFFLAGS
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIFFLAGS
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFMETRIC
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIFMETRIC
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFMTU
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIFMTU
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFMEM
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIFMEM
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFHWADDR
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIFHWADDR
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCADDMULTI
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCDELMULTI
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFINDEX
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFMAP
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIFMAP
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFADDR
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIFADDR
comma
id|dev_ifsioc
)paren
multiline_comment|/* ioctls used by appletalk ddp.c */
id|HANDLE_IOCTL
c_func
(paren
id|SIOCATALKDIFADDR
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCDIFADDR
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSARP
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCDARP
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFBRDADDR
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIFBRDADDR
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFDSTADDR
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIFDSTADDR
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFNETMASK
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIFNETMASK
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIFPFLAGS
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFPFLAGS
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFTXQLEN
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIFTXQLEN
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|TUNSETIFF
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCETHTOOL
comma
id|ethtool_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCBONDENSLAVE
comma
id|bond_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCBONDRELEASE
comma
id|bond_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCBONDSETHWADDR
comma
id|bond_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCBONDSLAVEINFOQUERY
comma
id|bond_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCBONDINFOQUERY
comma
id|bond_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCBONDCHANGEACTIVE
comma
id|bond_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCADDRT
comma
id|routing_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCDELRT
comma
id|routing_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCBRADDIF
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCBRDELIF
comma
id|dev_ifsioc
)paren
multiline_comment|/* Note SIOCRTMSG is no longer, so this is safe and * the user would have seen just an -EINVAL anyways. */
id|HANDLE_IOCTL
c_func
(paren
id|SIOCRTMSG
comma
id|ret_einval
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGSTAMP
comma
id|do_siocgstamp
)paren
macro_line|#endif
id|HANDLE_IOCTL
c_func
(paren
id|HDIO_GETGEO
comma
id|hdio_getgeo
)paren
id|HANDLE_IOCTL
c_func
(paren
id|BLKRAGET
comma
id|w_long
)paren
id|HANDLE_IOCTL
c_func
(paren
id|BLKGETSIZE
comma
id|w_long
)paren
id|HANDLE_IOCTL
c_func
(paren
l_int|0x1260
comma
id|broken_blkgetsize
)paren
id|HANDLE_IOCTL
c_func
(paren
id|BLKFRAGET
comma
id|w_long
)paren
id|HANDLE_IOCTL
c_func
(paren
id|BLKSECTGET
comma
id|w_long
)paren
id|HANDLE_IOCTL
c_func
(paren
id|FBIOGET_FSCREENINFO
comma
id|fb_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|BLKPG
comma
id|blkpg_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|FBIOGETCMAP
comma
id|fb_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|FBIOPUTCMAP
comma
id|fb_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|HDIO_GET_KEEPSETTINGS
comma
id|hdio_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|HDIO_GET_UNMASKINTR
comma
id|hdio_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|HDIO_GET_DMA
comma
id|hdio_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|HDIO_GET_32BIT
comma
id|hdio_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|HDIO_GET_MULTCOUNT
comma
id|hdio_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|HDIO_GET_NOWERR
comma
id|hdio_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|HDIO_GET_NICE
comma
id|hdio_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|FDSETPRM32
comma
id|fd_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|FDDEFPRM32
comma
id|fd_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|FDGETPRM32
comma
id|fd_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|FDSETDRVPRM32
comma
id|fd_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|FDGETDRVPRM32
comma
id|fd_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|FDGETDRVSTAT32
comma
id|fd_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|FDPOLLDRVSTAT32
comma
id|fd_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|FDGETFDCSTAT32
comma
id|fd_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|FDWERRORGET32
comma
id|fd_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SG_IO
comma
id|sg_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|PPPIOCGIDLE32
comma
id|ppp_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|PPPIOCSCOMPRESS32
comma
id|ppp_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|PPPIOCSPASS32
comma
id|ppp_sock_fprog_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|PPPIOCSACTIVE32
comma
id|ppp_sock_fprog_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|MTIOCGET32
comma
id|mt_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|MTIOCPOS32
comma
id|mt_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|MTIOCGETCONFIG32
comma
id|mt_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|MTIOCSETCONFIG32
comma
id|mt_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|CDROMREADAUDIO
comma
id|cdrom_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|CDROM_SEND_PACKET
comma
id|cdrom_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|LOOP_SET_STATUS
comma
id|loop_status
)paren
id|HANDLE_IOCTL
c_func
(paren
id|LOOP_GET_STATUS
comma
id|loop_status
)paren
DECL|macro|AUTOFS_IOC_SETTIMEOUT32
mdefine_line|#define AUTOFS_IOC_SETTIMEOUT32 _IOWR(0x93,0x64,unsigned int)
id|HANDLE_IOCTL
c_func
(paren
id|AUTOFS_IOC_SETTIMEOUT32
comma
id|ioc_settimeout
)paren
macro_line|#ifdef CONFIG_VT
id|HANDLE_IOCTL
c_func
(paren
id|PIO_FONTX
comma
id|do_fontx_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|GIO_FONTX
comma
id|do_fontx_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|PIO_UNIMAP
comma
id|do_unimap_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|GIO_UNIMAP
comma
id|do_unimap_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|KDFONTOP
comma
id|do_kdfontop_ioctl
)paren
macro_line|#endif
id|HANDLE_IOCTL
c_func
(paren
id|EXT2_IOC32_GETFLAGS
comma
id|do_ext2_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|EXT2_IOC32_SETFLAGS
comma
id|do_ext2_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|EXT2_IOC32_GETVERSION
comma
id|do_ext2_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|EXT2_IOC32_SETVERSION
comma
id|do_ext2_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|VIDIOCGTUNER32
comma
id|do_video_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|VIDIOCSTUNER32
comma
id|do_video_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|VIDIOCGWIN32
comma
id|do_video_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|VIDIOCSWIN32
comma
id|do_set_window
)paren
id|HANDLE_IOCTL
c_func
(paren
id|VIDIOCGFBUF32
comma
id|do_video_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|VIDIOCSFBUF32
comma
id|do_video_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|VIDIOCGFREQ32
comma
id|do_video_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|VIDIOCSFREQ32
comma
id|do_video_ioctl
)paren
multiline_comment|/* One SMB ioctl needs translations. */
DECL|macro|SMB_IOC_GETMOUNTUID_32
mdefine_line|#define SMB_IOC_GETMOUNTUID_32 _IOR(&squot;u&squot;, 1, compat_uid_t)
id|HANDLE_IOCTL
c_func
(paren
id|SMB_IOC_GETMOUNTUID_32
comma
id|do_smb_getmountuid
)paren
id|HANDLE_IOCTL
c_func
(paren
id|ATM_GETLINKRATE32
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|ATM_GETNAMES32
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|ATM_GETTYPE32
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|ATM_GETESI32
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|ATM_GETADDR32
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|ATM_RSTADDR32
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|ATM_ADDADDR32
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|ATM_DELADDR32
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|ATM_GETCIRANGE32
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|ATM_SETCIRANGE32
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|ATM_SETESI32
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|ATM_SETESIF32
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|ATM_GETSTAT32
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|ATM_GETSTATZ32
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|ATM_GETLOOP32
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|ATM_SETLOOP32
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|ATM_QUERYLOOP32
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SONET_GETSTAT
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SONET_GETSTATZ
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SONET_GETDIAG
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SONET_SETDIAG
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SONET_CLRDIAG
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SONET_SETFRAMING
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SONET_GETFRAMING
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SONET_GETFRSENSE
comma
id|do_atm_ioctl
)paren
multiline_comment|/* block stuff */
id|HANDLE_IOCTL
c_func
(paren
id|BLKBSZGET_32
comma
id|do_blkbszget
)paren
id|HANDLE_IOCTL
c_func
(paren
id|BLKBSZSET_32
comma
id|do_blkbszset
)paren
id|HANDLE_IOCTL
c_func
(paren
id|BLKGETSIZE64_32
comma
id|do_blkgetsize64
)paren
multiline_comment|/* vfat */
id|HANDLE_IOCTL
c_func
(paren
id|VFAT_IOCTL_READDIR_BOTH32
comma
id|vfat_ioctl32
)paren
id|HANDLE_IOCTL
c_func
(paren
id|VFAT_IOCTL_READDIR_SHORT32
comma
id|vfat_ioctl32
)paren
id|HANDLE_IOCTL
c_func
(paren
id|REISERFS_IOC_UNPACK32
comma
id|reiserfs_ioctl32
)paren
multiline_comment|/* Raw devices */
id|HANDLE_IOCTL
c_func
(paren
id|RAW_SETBIND
comma
id|raw_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|RAW_GETBIND
comma
id|raw_ioctl
)paren
multiline_comment|/* Serial */
id|HANDLE_IOCTL
c_func
(paren
id|TIOCGSERIAL
comma
id|serial_struct_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|TIOCSSERIAL
comma
id|serial_struct_ioctl
)paren
multiline_comment|/* Usbdevfs */
id|HANDLE_IOCTL
c_func
(paren
id|USBDEVFS_CONTROL32
comma
id|do_usbdevfs_control
)paren
id|HANDLE_IOCTL
c_func
(paren
id|USBDEVFS_BULK32
comma
id|do_usbdevfs_bulk
)paren
multiline_comment|/*HANDLE_IOCTL(USBDEVFS_SUBMITURB32, do_usbdevfs_urb)*/
id|HANDLE_IOCTL
c_func
(paren
id|USBDEVFS_REAPURB32
comma
id|do_usbdevfs_reapurb
)paren
id|HANDLE_IOCTL
c_func
(paren
id|USBDEVFS_REAPURBNDELAY32
comma
id|do_usbdevfs_reapurb
)paren
id|HANDLE_IOCTL
c_func
(paren
id|USBDEVFS_DISCSIGNAL32
comma
id|do_usbdevfs_discsignal
)paren
multiline_comment|/* i2c */
id|HANDLE_IOCTL
c_func
(paren
id|I2C_FUNCS
comma
id|w_long
)paren
id|HANDLE_IOCTL
c_func
(paren
id|I2C_RDWR
comma
id|do_i2c_rdwr_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|I2C_SMBUS
comma
id|do_i2c_smbus_ioctl
)paren
multiline_comment|/* wireless */
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIWRANGE
comma
id|do_wireless_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIWSPY
comma
id|do_wireless_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIWSPY
comma
id|do_wireless_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIWTHRSPY
comma
id|do_wireless_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIWTHRSPY
comma
id|do_wireless_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIWAPLIST
comma
id|do_wireless_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIWSCAN
comma
id|do_wireless_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIWESSID
comma
id|do_wireless_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIWESSID
comma
id|do_wireless_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIWNICKN
comma
id|do_wireless_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIWNICKN
comma
id|do_wireless_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIWENCODE
comma
id|do_wireless_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIWENCODE
comma
id|do_wireless_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIFBR
comma
id|old_bridge_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFBR
comma
id|old_bridge_ioctl
)paren
macro_line|#if defined(CONFIG_NCP_FS) || defined(CONFIG_NCP_FS_MODULE)
id|HANDLE_IOCTL
c_func
(paren
id|NCP_IOC_NCPREQUEST_32
comma
id|do_ncp_ncprequest
)paren
id|HANDLE_IOCTL
c_func
(paren
id|NCP_IOC_GETMOUNTUID2_32
comma
id|do_ncp_getmountuid2
)paren
id|HANDLE_IOCTL
c_func
(paren
id|NCP_IOC_GET_FS_INFO_V2_32
comma
id|do_ncp_getfsinfo2
)paren
id|HANDLE_IOCTL
c_func
(paren
id|NCP_IOC_GETOBJECTNAME_32
comma
id|do_ncp_getobjectname
)paren
id|HANDLE_IOCTL
c_func
(paren
id|NCP_IOC_SETOBJECTNAME_32
comma
id|do_ncp_setobjectname
)paren
id|HANDLE_IOCTL
c_func
(paren
id|NCP_IOC_GETPRIVATEDATA_32
comma
id|do_ncp_getprivatedata
)paren
id|HANDLE_IOCTL
c_func
(paren
id|NCP_IOC_SETPRIVATEDATA_32
comma
id|do_ncp_setprivatedata
)paren
macro_line|#endif
DECL|macro|DECLARES
macro_line|#undef DECLARES
macro_line|#endif
eof
