r_extern
r_struct
id|vfsmount
op_star
id|sysfs_mount
suffix:semicolon
r_extern
id|kmem_cache_t
op_star
id|sysfs_dir_cachep
suffix:semicolon
r_extern
r_struct
id|inode
op_star
id|sysfs_new_inode
c_func
(paren
id|mode_t
id|mode
)paren
suffix:semicolon
r_extern
r_int
id|sysfs_create
c_func
(paren
r_struct
id|dentry
op_star
comma
r_int
id|mode
comma
r_int
(paren
op_star
id|init
)paren
(paren
r_struct
id|inode
op_star
)paren
)paren
suffix:semicolon
r_extern
r_int
id|sysfs_make_dirent
c_func
(paren
r_struct
id|sysfs_dirent
op_star
comma
r_struct
id|dentry
op_star
comma
r_void
op_star
comma
id|umode_t
comma
r_int
)paren
suffix:semicolon
r_extern
r_struct
id|dentry
op_star
id|sysfs_get_dentry
c_func
(paren
r_struct
id|dentry
op_star
comma
r_const
r_char
op_star
)paren
suffix:semicolon
r_extern
r_int
id|sysfs_add_file
c_func
(paren
r_struct
id|dentry
op_star
comma
r_const
r_struct
id|attribute
op_star
comma
r_int
)paren
suffix:semicolon
r_extern
r_void
id|sysfs_hash_and_remove
c_func
(paren
r_struct
id|dentry
op_star
id|dir
comma
r_const
r_char
op_star
id|name
)paren
suffix:semicolon
r_extern
r_int
id|sysfs_create_subdir
c_func
(paren
r_struct
id|kobject
op_star
comma
r_const
r_char
op_star
comma
r_struct
id|dentry
op_star
op_star
)paren
suffix:semicolon
r_extern
r_void
id|sysfs_remove_subdir
c_func
(paren
r_struct
id|dentry
op_star
)paren
suffix:semicolon
r_extern
r_const
r_int
r_char
op_star
id|sysfs_get_name
c_func
(paren
r_struct
id|sysfs_dirent
op_star
id|sd
)paren
suffix:semicolon
r_extern
r_void
id|sysfs_drop_dentry
c_func
(paren
r_struct
id|sysfs_dirent
op_star
id|sd
comma
r_struct
id|dentry
op_star
id|parent
)paren
suffix:semicolon
r_extern
r_struct
id|rw_semaphore
id|sysfs_rename_sem
suffix:semicolon
r_extern
r_struct
id|super_block
op_star
id|sysfs_sb
suffix:semicolon
r_extern
r_struct
id|file_operations
id|sysfs_dir_operations
suffix:semicolon
r_extern
r_struct
id|file_operations
id|sysfs_file_operations
suffix:semicolon
r_extern
r_struct
id|file_operations
id|bin_fops
suffix:semicolon
r_extern
r_struct
id|inode_operations
id|sysfs_dir_inode_operations
suffix:semicolon
r_extern
r_struct
id|inode_operations
id|sysfs_symlink_inode_operations
suffix:semicolon
DECL|struct|sysfs_symlink
r_struct
id|sysfs_symlink
(brace
DECL|member|link_name
r_char
op_star
id|link_name
suffix:semicolon
DECL|member|target_kobj
r_struct
id|kobject
op_star
id|target_kobj
suffix:semicolon
)brace
suffix:semicolon
DECL|function|to_kobj
r_static
r_inline
r_struct
id|kobject
op_star
id|to_kobj
c_func
(paren
r_struct
id|dentry
op_star
id|dentry
)paren
(brace
r_struct
id|sysfs_dirent
op_star
id|sd
op_assign
id|dentry-&gt;d_fsdata
suffix:semicolon
r_return
(paren
(paren
r_struct
id|kobject
op_star
)paren
id|sd-&gt;s_element
)paren
suffix:semicolon
)brace
DECL|function|to_attr
r_static
r_inline
r_struct
id|attribute
op_star
id|to_attr
c_func
(paren
r_struct
id|dentry
op_star
id|dentry
)paren
(brace
r_struct
id|sysfs_dirent
op_star
id|sd
op_assign
id|dentry-&gt;d_fsdata
suffix:semicolon
r_return
(paren
(paren
r_struct
id|attribute
op_star
)paren
id|sd-&gt;s_element
)paren
suffix:semicolon
)brace
DECL|function|to_bin_attr
r_static
r_inline
r_struct
id|bin_attribute
op_star
id|to_bin_attr
c_func
(paren
r_struct
id|dentry
op_star
id|dentry
)paren
(brace
r_struct
id|sysfs_dirent
op_star
id|sd
op_assign
id|dentry-&gt;d_fsdata
suffix:semicolon
r_return
(paren
(paren
r_struct
id|bin_attribute
op_star
)paren
id|sd-&gt;s_element
)paren
suffix:semicolon
)brace
DECL|function|sysfs_get_kobject
r_static
r_inline
r_struct
id|kobject
op_star
id|sysfs_get_kobject
c_func
(paren
r_struct
id|dentry
op_star
id|dentry
)paren
(brace
r_struct
id|kobject
op_star
id|kobj
op_assign
l_int|NULL
suffix:semicolon
id|spin_lock
c_func
(paren
op_amp
id|dcache_lock
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|d_unhashed
c_func
(paren
id|dentry
)paren
)paren
(brace
r_struct
id|sysfs_dirent
op_star
id|sd
op_assign
id|dentry-&gt;d_fsdata
suffix:semicolon
r_if
c_cond
(paren
id|sd-&gt;s_type
op_amp
id|SYSFS_KOBJ_LINK
)paren
(brace
r_struct
id|sysfs_symlink
op_star
id|sl
op_assign
id|sd-&gt;s_element
suffix:semicolon
id|kobj
op_assign
id|kobject_get
c_func
(paren
id|sl-&gt;target_kobj
)paren
suffix:semicolon
)brace
r_else
id|kobj
op_assign
id|kobject_get
c_func
(paren
id|sd-&gt;s_element
)paren
suffix:semicolon
)brace
id|spin_unlock
c_func
(paren
op_amp
id|dcache_lock
)paren
suffix:semicolon
r_return
id|kobj
suffix:semicolon
)brace
DECL|function|release_sysfs_dirent
r_static
r_inline
r_void
id|release_sysfs_dirent
c_func
(paren
r_struct
id|sysfs_dirent
op_star
id|sd
)paren
(brace
r_if
c_cond
(paren
id|sd-&gt;s_type
op_amp
id|SYSFS_KOBJ_LINK
)paren
(brace
r_struct
id|sysfs_symlink
op_star
id|sl
op_assign
id|sd-&gt;s_element
suffix:semicolon
id|kfree
c_func
(paren
id|sl-&gt;link_name
)paren
suffix:semicolon
id|kobject_put
c_func
(paren
id|sl-&gt;target_kobj
)paren
suffix:semicolon
id|kfree
c_func
(paren
id|sl
)paren
suffix:semicolon
)brace
id|kmem_cache_free
c_func
(paren
id|sysfs_dir_cachep
comma
id|sd
)paren
suffix:semicolon
)brace
DECL|function|sysfs_get
r_static
r_inline
r_struct
id|sysfs_dirent
op_star
id|sysfs_get
c_func
(paren
r_struct
id|sysfs_dirent
op_star
id|sd
)paren
(brace
r_if
c_cond
(paren
id|sd
)paren
(brace
id|WARN_ON
c_func
(paren
op_logical_neg
id|atomic_read
c_func
(paren
op_amp
id|sd-&gt;s_count
)paren
)paren
suffix:semicolon
id|atomic_inc
c_func
(paren
op_amp
id|sd-&gt;s_count
)paren
suffix:semicolon
)brace
r_return
id|sd
suffix:semicolon
)brace
DECL|function|sysfs_put
r_static
r_inline
r_void
id|sysfs_put
c_func
(paren
r_struct
id|sysfs_dirent
op_star
id|sd
)paren
(brace
r_if
c_cond
(paren
id|atomic_dec_and_test
c_func
(paren
op_amp
id|sd-&gt;s_count
)paren
)paren
id|release_sysfs_dirent
c_func
(paren
id|sd
)paren
suffix:semicolon
)brace
eof
