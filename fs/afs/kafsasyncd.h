multiline_comment|/* kafsasyncd.h: AFS asynchronous operation daemon&n; *&n; * Copyright (C) 2002 Red Hat, Inc. All Rights Reserved.&n; * Written by David Howells (dhowells@redhat.com)&n; *&n; * This program is free software; you can redistribute it and/or&n; * modify it under the terms of the GNU General Public License&n; * as published by the Free Software Foundation; either version&n; * 2 of the License, or (at your option) any later version.&n; */
macro_line|#ifndef _LINUX_AFS_KAFSASYNCD_H
DECL|macro|_LINUX_AFS_KAFSASYNCD_H
mdefine_line|#define _LINUX_AFS_KAFSASYNCD_H
macro_line|#include &quot;types.h&quot;
r_struct
id|afs_async_op
suffix:semicolon
DECL|struct|afs_async_op_ops
r_struct
id|afs_async_op_ops
(brace
DECL|member|attend
r_void
(paren
op_star
id|attend
)paren
(paren
r_struct
id|afs_async_op
op_star
id|op
)paren
suffix:semicolon
DECL|member|discard
r_void
(paren
op_star
id|discard
)paren
(paren
r_struct
id|afs_async_op
op_star
id|op
)paren
suffix:semicolon
)brace
suffix:semicolon
multiline_comment|/*****************************************************************************/
multiline_comment|/*&n; * asynchronous operation record&n; */
DECL|struct|afs_async_op
r_struct
id|afs_async_op
(brace
DECL|member|link
r_struct
id|list_head
id|link
suffix:semicolon
DECL|member|server
r_struct
id|afs_server
op_star
id|server
suffix:semicolon
multiline_comment|/* server being contacted */
DECL|member|call
r_struct
id|rxrpc_call
op_star
id|call
suffix:semicolon
multiline_comment|/* RxRPC call performing op */
DECL|member|waiter
id|wait_queue_t
id|waiter
suffix:semicolon
multiline_comment|/* wait queue for kafsasyncd */
DECL|member|ops
r_const
r_struct
id|afs_async_op_ops
op_star
id|ops
suffix:semicolon
multiline_comment|/* operations */
)brace
suffix:semicolon
DECL|function|afs_async_op_init
r_static
r_inline
r_void
id|afs_async_op_init
c_func
(paren
r_struct
id|afs_async_op
op_star
id|op
comma
r_const
r_struct
id|afs_async_op_ops
op_star
id|ops
)paren
(brace
id|INIT_LIST_HEAD
c_func
(paren
op_amp
id|op-&gt;link
)paren
suffix:semicolon
id|op-&gt;call
op_assign
l_int|NULL
suffix:semicolon
id|op-&gt;ops
op_assign
id|ops
suffix:semicolon
)brace
r_extern
r_int
id|afs_kafsasyncd_start
c_func
(paren
r_void
)paren
suffix:semicolon
r_extern
r_void
id|afs_kafsasyncd_stop
c_func
(paren
r_void
)paren
suffix:semicolon
r_extern
r_void
id|afs_kafsasyncd_begin_op
c_func
(paren
r_struct
id|afs_async_op
op_star
id|op
)paren
suffix:semicolon
r_extern
r_void
id|afs_kafsasyncd_attend_op
c_func
(paren
r_struct
id|afs_async_op
op_star
id|op
)paren
suffix:semicolon
r_extern
r_void
id|afs_kafsasyncd_terminate_op
c_func
(paren
r_struct
id|afs_async_op
op_star
id|op
)paren
suffix:semicolon
macro_line|#endif /* _LINUX_AFS_KAFSASYNCD_H */
eof
