multiline_comment|/*&n; *  linux/fs/hfs/sysdep.c&n; *&n; * Copyright (C) 1996  Paul H. Hargrove&n; * (C) 2003 Ardis Technologies &lt;roman@ardistech.com&gt;&n; * This file may be distributed under the terms of the GNU General Public License.&n; *&n; * This file contains the code to do various system dependent things.&n; */
macro_line|#include &quot;hfs_fs.h&quot;
multiline_comment|/* dentry case-handling: just lowercase everything */
DECL|function|hfs_revalidate_dentry
r_static
r_int
id|hfs_revalidate_dentry
c_func
(paren
r_struct
id|dentry
op_star
id|dentry
comma
r_struct
id|nameidata
op_star
id|nd
)paren
(brace
r_struct
id|inode
op_star
id|inode
op_assign
id|dentry-&gt;d_inode
suffix:semicolon
r_int
id|diff
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|inode
)paren
(brace
r_return
l_int|1
suffix:semicolon
)brace
multiline_comment|/* fix up inode on a timezone change */
id|diff
op_assign
id|sys_tz.tz_minuteswest
op_star
l_int|60
op_minus
id|HFS_I
c_func
(paren
id|inode
)paren
op_member_access_from_pointer
id|tz_secondswest
suffix:semicolon
r_if
c_cond
(paren
id|diff
)paren
(brace
id|inode-&gt;i_ctime.tv_sec
op_add_assign
id|diff
suffix:semicolon
id|inode-&gt;i_atime.tv_sec
op_add_assign
id|diff
suffix:semicolon
id|inode-&gt;i_mtime.tv_sec
op_add_assign
id|diff
suffix:semicolon
id|HFS_I
c_func
(paren
id|inode
)paren
op_member_access_from_pointer
id|tz_secondswest
op_add_assign
id|diff
suffix:semicolon
)brace
r_return
l_int|1
suffix:semicolon
)brace
DECL|variable|hfs_dentry_operations
r_struct
id|dentry_operations
id|hfs_dentry_operations
op_assign
(brace
dot
id|d_revalidate
op_assign
id|hfs_revalidate_dentry
comma
dot
id|d_hash
op_assign
id|hfs_hash_dentry
comma
dot
id|d_compare
op_assign
id|hfs_compare_dentry
comma
)brace
suffix:semicolon
eof
