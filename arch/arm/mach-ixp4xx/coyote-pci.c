multiline_comment|/*&n; * arch/arch/mach-ixp4xx/coyote-pci.c&n; *&n; * PCI setup routines for ADI Engineering Coyote platform&n; *&n; * Copyright (C) 2002 Jungo Software Technologies.&n; * Copyright (C) 2003 MontaVista Softwrae, Inc.&n; *&n; * Maintainer: Deepak Saxena &lt;dsaxena@mvista.com&gt;&n; *&n; * This program is free software; you can redistribute it and/or modify&n; * it under the terms of the GNU General Public License version 2 as&n; * published by the Free Software Foundation.&n; *&n; */
macro_line|#include &lt;linux/kernel.h&gt;
macro_line|#include &lt;linux/pci.h&gt;
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;asm/mach-types.h&gt;
macro_line|#include &lt;asm/hardware.h&gt;
macro_line|#include &lt;asm/irq.h&gt;
macro_line|#include &lt;asm/mach/pci.h&gt;
r_extern
r_void
id|ixp4xx_pci_preinit
c_func
(paren
r_void
)paren
suffix:semicolon
r_extern
r_int
id|ixp4xx_setup
c_func
(paren
r_int
id|nr
comma
r_struct
id|pci_sys_data
op_star
id|sys
)paren
suffix:semicolon
r_extern
r_struct
id|pci_bus
op_star
id|ixp4xx_scan_bus
c_func
(paren
r_int
id|nr
comma
r_struct
id|pci_sys_data
op_star
id|sys
)paren
suffix:semicolon
DECL|function|coyote_pci_preinit
r_void
id|__init
id|coyote_pci_preinit
c_func
(paren
r_void
)paren
(brace
id|gpio_line_config
c_func
(paren
id|COYOTE_PCI_SLOT0_PIN
comma
id|IXP4XX_GPIO_IN
op_or
id|IXP4XX_GPIO_ACTIVE_LOW
)paren
suffix:semicolon
id|gpio_line_config
c_func
(paren
id|COYOTE_PCI_SLOT1_PIN
comma
id|IXP4XX_GPIO_IN
op_or
id|IXP4XX_GPIO_ACTIVE_LOW
)paren
suffix:semicolon
id|gpio_line_isr_clear
c_func
(paren
id|COYOTE_PCI_SLOT0_PIN
)paren
suffix:semicolon
id|gpio_line_isr_clear
c_func
(paren
id|COYOTE_PCI_SLOT1_PIN
)paren
suffix:semicolon
id|ixp4xx_pci_preinit
c_func
(paren
)paren
suffix:semicolon
)brace
DECL|function|coyote_map_irq
r_static
r_int
id|__init
id|coyote_map_irq
c_func
(paren
r_struct
id|pci_dev
op_star
id|dev
comma
id|u8
id|slot
comma
id|u8
id|pin
)paren
(brace
r_if
c_cond
(paren
id|slot
op_eq
id|COYOTE_PCI_SLOT0_DEVID
)paren
r_return
id|IRQ_COYOTE_PCI_SLOT0
suffix:semicolon
r_else
r_if
c_cond
(paren
id|slot
op_eq
id|COYOTE_PCI_SLOT1_DEVID
)paren
r_return
id|IRQ_COYOTE_PCI_SLOT1
suffix:semicolon
r_else
r_return
op_minus
l_int|1
suffix:semicolon
)brace
DECL|variable|__initdata
r_struct
id|hw_pci
id|coyote_pci
id|__initdata
op_assign
(brace
dot
id|nr_controllers
op_assign
l_int|1
comma
dot
id|preinit
op_assign
id|coyote_pci_preinit
comma
dot
id|swizzle
op_assign
id|pci_std_swizzle
comma
dot
id|setup
op_assign
id|ixp4xx_setup
comma
dot
id|scan
op_assign
id|ixp4xx_scan_bus
comma
dot
id|map_irq
op_assign
id|coyote_map_irq
comma
)brace
suffix:semicolon
DECL|function|coyote_pci_init
r_int
id|__init
id|coyote_pci_init
c_func
(paren
r_void
)paren
(brace
r_if
c_cond
(paren
id|machine_is_adi_coyote
c_func
(paren
)paren
)paren
id|pci_common_init
c_func
(paren
op_amp
id|coyote_pci
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|variable|coyote_pci_init
id|subsys_initcall
c_func
(paren
id|coyote_pci_init
)paren
suffix:semicolon
eof
