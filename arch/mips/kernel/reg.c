multiline_comment|/*&n; * offset.c: Calculate pt_regs and task_struct indices.&n; *&n; * Copyright (C) 1996 David S. Miller&n; * Copyright (C) 1997, 1998, 1999, 2000, 2001, 2002, 2003 Ralf Baechle&n; */
macro_line|#include &lt;linux/types.h&gt;
macro_line|#include &lt;linux/sched.h&gt;
macro_line|#include &lt;linux/mm.h&gt;
macro_line|#include &lt;linux/interrupt.h&gt;
macro_line|#include &lt;asm/ptrace.h&gt;
macro_line|#include &lt;asm/processor.h&gt;
DECL|macro|text
mdefine_line|#define text(t) __asm__(&quot;&bslash;n@@@&quot; t)
DECL|macro|_offset
mdefine_line|#define _offset(type, member) ((unsigned long) &amp;(((type *)NULL)-&gt;member))
DECL|macro|index
mdefine_line|#define index(string, ptr, member) &bslash;&n;&t;__asm__(&quot;&bslash;n@@@&quot; string &quot;%0&quot; : : &quot;i&quot; (_offset(ptr, member)/sizeof(long)))
DECL|macro|size
mdefine_line|#define size(string, size) &bslash;&n;&t;__asm__(&quot;&bslash;n@@@&quot; string &quot;%0&quot; : : &quot;i&quot; (sizeof(size)))
DECL|macro|linefeed
mdefine_line|#define linefeed text(&quot;&quot;)
DECL|function|output_ptreg_defines
r_void
id|output_ptreg_defines
c_func
(paren
r_void
)paren
(brace
id|text
c_func
(paren
l_string|&quot;/* MIPS pt_regs indices. */&quot;
)paren
suffix:semicolon
id|index
c_func
(paren
l_string|&quot;#define EF_R0     &quot;
comma
r_struct
id|pt_regs
comma
id|regs
(braket
l_int|0
)braket
)paren
suffix:semicolon
id|index
c_func
(paren
l_string|&quot;#define EF_R1     &quot;
comma
r_struct
id|pt_regs
comma
id|regs
(braket
l_int|1
)braket
)paren
suffix:semicolon
id|index
c_func
(paren
l_string|&quot;#define EF_R2     &quot;
comma
r_struct
id|pt_regs
comma
id|regs
(braket
l_int|2
)braket
)paren
suffix:semicolon
id|index
c_func
(paren
l_string|&quot;#define EF_R3     &quot;
comma
r_struct
id|pt_regs
comma
id|regs
(braket
l_int|3
)braket
)paren
suffix:semicolon
id|index
c_func
(paren
l_string|&quot;#define EF_R4     &quot;
comma
r_struct
id|pt_regs
comma
id|regs
(braket
l_int|4
)braket
)paren
suffix:semicolon
id|index
c_func
(paren
l_string|&quot;#define EF_R5     &quot;
comma
r_struct
id|pt_regs
comma
id|regs
(braket
l_int|5
)braket
)paren
suffix:semicolon
id|index
c_func
(paren
l_string|&quot;#define EF_R6     &quot;
comma
r_struct
id|pt_regs
comma
id|regs
(braket
l_int|6
)braket
)paren
suffix:semicolon
id|index
c_func
(paren
l_string|&quot;#define EF_R7     &quot;
comma
r_struct
id|pt_regs
comma
id|regs
(braket
l_int|7
)braket
)paren
suffix:semicolon
id|index
c_func
(paren
l_string|&quot;#define EF_R8     &quot;
comma
r_struct
id|pt_regs
comma
id|regs
(braket
l_int|8
)braket
)paren
suffix:semicolon
id|index
c_func
(paren
l_string|&quot;#define EF_R9     &quot;
comma
r_struct
id|pt_regs
comma
id|regs
(braket
l_int|9
)braket
)paren
suffix:semicolon
id|index
c_func
(paren
l_string|&quot;#define EF_R10    &quot;
comma
r_struct
id|pt_regs
comma
id|regs
(braket
l_int|10
)braket
)paren
suffix:semicolon
id|index
c_func
(paren
l_string|&quot;#define EF_R11    &quot;
comma
r_struct
id|pt_regs
comma
id|regs
(braket
l_int|11
)braket
)paren
suffix:semicolon
id|index
c_func
(paren
l_string|&quot;#define EF_R12    &quot;
comma
r_struct
id|pt_regs
comma
id|regs
(braket
l_int|12
)braket
)paren
suffix:semicolon
id|index
c_func
(paren
l_string|&quot;#define EF_R13    &quot;
comma
r_struct
id|pt_regs
comma
id|regs
(braket
l_int|13
)braket
)paren
suffix:semicolon
id|index
c_func
(paren
l_string|&quot;#define EF_R14    &quot;
comma
r_struct
id|pt_regs
comma
id|regs
(braket
l_int|14
)braket
)paren
suffix:semicolon
id|index
c_func
(paren
l_string|&quot;#define EF_R15    &quot;
comma
r_struct
id|pt_regs
comma
id|regs
(braket
l_int|15
)braket
)paren
suffix:semicolon
id|index
c_func
(paren
l_string|&quot;#define EF_R16    &quot;
comma
r_struct
id|pt_regs
comma
id|regs
(braket
l_int|16
)braket
)paren
suffix:semicolon
id|index
c_func
(paren
l_string|&quot;#define EF_R17    &quot;
comma
r_struct
id|pt_regs
comma
id|regs
(braket
l_int|17
)braket
)paren
suffix:semicolon
id|index
c_func
(paren
l_string|&quot;#define EF_R18    &quot;
comma
r_struct
id|pt_regs
comma
id|regs
(braket
l_int|18
)braket
)paren
suffix:semicolon
id|index
c_func
(paren
l_string|&quot;#define EF_R19    &quot;
comma
r_struct
id|pt_regs
comma
id|regs
(braket
l_int|19
)braket
)paren
suffix:semicolon
id|index
c_func
(paren
l_string|&quot;#define EF_R20    &quot;
comma
r_struct
id|pt_regs
comma
id|regs
(braket
l_int|20
)braket
)paren
suffix:semicolon
id|index
c_func
(paren
l_string|&quot;#define EF_R21    &quot;
comma
r_struct
id|pt_regs
comma
id|regs
(braket
l_int|21
)braket
)paren
suffix:semicolon
id|index
c_func
(paren
l_string|&quot;#define EF_R22    &quot;
comma
r_struct
id|pt_regs
comma
id|regs
(braket
l_int|22
)braket
)paren
suffix:semicolon
id|index
c_func
(paren
l_string|&quot;#define EF_R23    &quot;
comma
r_struct
id|pt_regs
comma
id|regs
(braket
l_int|23
)braket
)paren
suffix:semicolon
id|index
c_func
(paren
l_string|&quot;#define EF_R24    &quot;
comma
r_struct
id|pt_regs
comma
id|regs
(braket
l_int|24
)braket
)paren
suffix:semicolon
id|index
c_func
(paren
l_string|&quot;#define EF_R25    &quot;
comma
r_struct
id|pt_regs
comma
id|regs
(braket
l_int|25
)braket
)paren
suffix:semicolon
id|index
c_func
(paren
l_string|&quot;#define EF_R26    &quot;
comma
r_struct
id|pt_regs
comma
id|regs
(braket
l_int|26
)braket
)paren
suffix:semicolon
id|index
c_func
(paren
l_string|&quot;#define EF_R27    &quot;
comma
r_struct
id|pt_regs
comma
id|regs
(braket
l_int|27
)braket
)paren
suffix:semicolon
id|index
c_func
(paren
l_string|&quot;#define EF_R28    &quot;
comma
r_struct
id|pt_regs
comma
id|regs
(braket
l_int|28
)braket
)paren
suffix:semicolon
id|index
c_func
(paren
l_string|&quot;#define EF_R29    &quot;
comma
r_struct
id|pt_regs
comma
id|regs
(braket
l_int|29
)braket
)paren
suffix:semicolon
id|index
c_func
(paren
l_string|&quot;#define EF_R30    &quot;
comma
r_struct
id|pt_regs
comma
id|regs
(braket
l_int|30
)braket
)paren
suffix:semicolon
id|index
c_func
(paren
l_string|&quot;#define EF_R31    &quot;
comma
r_struct
id|pt_regs
comma
id|regs
(braket
l_int|31
)braket
)paren
suffix:semicolon
id|linefeed
suffix:semicolon
id|index
c_func
(paren
l_string|&quot;#define EF_LO     &quot;
comma
r_struct
id|pt_regs
comma
id|lo
)paren
suffix:semicolon
id|index
c_func
(paren
l_string|&quot;#define EF_HI     &quot;
comma
r_struct
id|pt_regs
comma
id|hi
)paren
suffix:semicolon
id|linefeed
suffix:semicolon
id|index
c_func
(paren
l_string|&quot;#define EF_EPC    &quot;
comma
r_struct
id|pt_regs
comma
id|cp0_epc
)paren
suffix:semicolon
id|index
c_func
(paren
l_string|&quot;#define EF_BVADDR &quot;
comma
r_struct
id|pt_regs
comma
id|cp0_badvaddr
)paren
suffix:semicolon
id|index
c_func
(paren
l_string|&quot;#define EF_STATUS &quot;
comma
r_struct
id|pt_regs
comma
id|cp0_status
)paren
suffix:semicolon
id|index
c_func
(paren
l_string|&quot;#define EF_CAUSE  &quot;
comma
r_struct
id|pt_regs
comma
id|cp0_cause
)paren
suffix:semicolon
id|linefeed
suffix:semicolon
id|size
c_func
(paren
l_string|&quot;#define EF_SIZE   &quot;
comma
r_struct
id|pt_regs
)paren
suffix:semicolon
id|linefeed
suffix:semicolon
)brace
eof
