multiline_comment|/*&n; * ioctl32.c: Conversion between 32bit and 64bit native ioctls.&n; *&n; * Copyright (C) 2000 Silicon Graphics, Inc.&n; * Written by Ulf Carlsson (ulfc@engr.sgi.com)&n; * Copyright (C) 2000 Ralf Baechle&n; * Copyright (C) 2002, 2003  Maciej W. Rozycki&n; *&n; * Mostly stolen from the sparc64 ioctl32 implementation.&n; */
macro_line|#include &lt;linux/config.h&gt;
macro_line|#include &lt;linux/types.h&gt;
macro_line|#include &lt;linux/compat.h&gt;
macro_line|#include &lt;linux/ioctl32.h&gt;
macro_line|#include &lt;linux/kernel.h&gt;
macro_line|#include &lt;linux/sched.h&gt;
macro_line|#include &lt;linux/if.h&gt;
macro_line|#include &lt;linux/mm.h&gt;
macro_line|#include &lt;linux/mtio.h&gt;
macro_line|#include &lt;linux/auto_fs.h&gt;
macro_line|#include &lt;linux/auto_fs4.h&gt;
macro_line|#include &lt;linux/devfs_fs.h&gt;
macro_line|#include &lt;linux/tty.h&gt;
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;linux/fs.h&gt;
macro_line|#include &lt;linux/file.h&gt;
macro_line|#include &lt;linux/fd.h&gt;
macro_line|#include &lt;linux/ppp_defs.h&gt;
macro_line|#include &lt;linux/if_ppp.h&gt;
macro_line|#include &lt;linux/if_pppox.h&gt;
macro_line|#include &lt;linux/if_tun.h&gt;
macro_line|#include &lt;linux/cdrom.h&gt;
macro_line|#include &lt;linux/blkdev.h&gt;
macro_line|#include &lt;linux/loop.h&gt;
macro_line|#include &lt;linux/fb.h&gt;
macro_line|#include &lt;linux/i2c.h&gt;
macro_line|#include &lt;linux/vt.h&gt;
macro_line|#include &lt;linux/vt_kern.h&gt;
macro_line|#include &lt;linux/kd.h&gt;
macro_line|#include &lt;linux/ext2_fs.h&gt;
macro_line|#include &lt;linux/videodev.h&gt;
macro_line|#include &lt;linux/netdevice.h&gt;
macro_line|#include &lt;linux/raw.h&gt;
macro_line|#include &lt;linux/smb_fs.h&gt;
macro_line|#include &lt;linux/ncp_fs.h&gt;
macro_line|#include &lt;linux/route.h&gt;
macro_line|#include &lt;linux/hdreg.h&gt;
macro_line|#include &lt;linux/raid/md.h&gt;
macro_line|#include &lt;linux/blkpg.h&gt;
macro_line|#include &lt;linux/elevator.h&gt;
macro_line|#include &lt;linux/rtc.h&gt;
macro_line|#include &lt;linux/pci.h&gt;
macro_line|#include &lt;linux/dm-ioctl.h&gt;
macro_line|#include &lt;scsi/scsi.h&gt;
DECL|macro|__KERNEL__
macro_line|#undef __KERNEL__&t;&t;/* This file was born to be ugly ...  */
macro_line|#include &lt;scsi/scsi_ioctl.h&gt;
DECL|macro|__KERNEL__
mdefine_line|#define __KERNEL__
macro_line|#include &lt;scsi/sg.h&gt;
macro_line|#include &lt;linux/ethtool.h&gt;
macro_line|#include &lt;linux/mii.h&gt;
macro_line|#include &lt;linux/if_bonding.h&gt;
macro_line|#include &lt;linux/syscalls.h&gt;
macro_line|#include &lt;linux/watchdog.h&gt;
macro_line|#include &lt;asm/ioctls.h&gt;
macro_line|#include &lt;asm/module.h&gt;
macro_line|#include &lt;linux/soundcard.h&gt;
macro_line|#include &lt;linux/lp.h&gt;
macro_line|#include &lt;linux/atm.h&gt;
macro_line|#include &lt;linux/atmarp.h&gt;
macro_line|#include &lt;linux/atmclip.h&gt;
macro_line|#include &lt;linux/atmdev.h&gt;
macro_line|#include &lt;linux/atmioc.h&gt;
macro_line|#include &lt;linux/atmlec.h&gt;
macro_line|#include &lt;linux/atmmpc.h&gt;
macro_line|#include &lt;linux/atmsvc.h&gt;
macro_line|#include &lt;linux/atm_tcp.h&gt;
macro_line|#include &lt;linux/sonet.h&gt;
macro_line|#include &lt;linux/atm_suni.h&gt;
macro_line|#include &lt;linux/mtd/mtd.h&gt;
macro_line|#include &lt;net/bluetooth/bluetooth.h&gt;
macro_line|#include &lt;net/bluetooth/hci.h&gt;
macro_line|#include &lt;net/bluetooth/rfcomm.h&gt;
macro_line|#include &lt;linux/usb.h&gt;
macro_line|#include &lt;linux/usbdevice_fs.h&gt;
macro_line|#include &lt;linux/nbd.h&gt;
macro_line|#include &lt;linux/random.h&gt;
macro_line|#include &lt;linux/filter.h&gt;
macro_line|#include &lt;linux/wireless.h&gt;
macro_line|#ifdef CONFIG_SIBYTE_TBPROF
macro_line|#include &lt;asm/sibyte/trace_prof.h&gt;
macro_line|#endif
DECL|function|w_long
r_static
r_int
id|w_long
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
r_int
id|err
suffix:semicolon
r_int
r_int
id|val
suffix:semicolon
id|set_fs
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
op_amp
id|val
)paren
suffix:semicolon
id|set_fs
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|err
op_logical_and
id|put_user
c_func
(paren
(paren
r_int
r_int
)paren
id|val
comma
(paren
id|u32
op_star
)paren
id|arg
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_return
id|err
suffix:semicolon
)brace
DECL|function|rw_long
r_static
r_int
id|rw_long
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
r_int
id|err
suffix:semicolon
r_int
r_int
id|val
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|val
comma
(paren
id|u32
op_star
)paren
id|arg
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|set_fs
c_func
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
op_amp
id|val
)paren
suffix:semicolon
id|set_fs
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|err
op_logical_and
id|put_user
c_func
(paren
id|val
comma
(paren
id|u32
op_star
)paren
id|arg
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_return
id|err
suffix:semicolon
)brace
DECL|macro|A
mdefine_line|#define A(__x) ((unsigned long)(__x))
macro_line|#ifdef CONFIG_FB
DECL|struct|fb_fix_screeninfo32
r_struct
id|fb_fix_screeninfo32
(brace
DECL|member|id
r_char
id|id
(braket
l_int|16
)braket
suffix:semicolon
multiline_comment|/* identification string eg &quot;TT Builtin&quot; */
DECL|member|smem_start
id|__u32
id|smem_start
suffix:semicolon
multiline_comment|/* Start of frame buffer mem */
multiline_comment|/* (physical address) */
DECL|member|smem_len
id|__u32
id|smem_len
suffix:semicolon
multiline_comment|/* Length of frame buffer mem */
DECL|member|type
id|__u32
id|type
suffix:semicolon
multiline_comment|/* see FB_TYPE_*&t;&t;*/
DECL|member|type_aux
id|__u32
id|type_aux
suffix:semicolon
multiline_comment|/* Interleave for interleaved Planes */
DECL|member|visual
id|__u32
id|visual
suffix:semicolon
multiline_comment|/* see FB_VISUAL_*&t;&t;*/
DECL|member|xpanstep
id|__u16
id|xpanstep
suffix:semicolon
multiline_comment|/* zero if no hardware panning  */
DECL|member|ypanstep
id|__u16
id|ypanstep
suffix:semicolon
multiline_comment|/* zero if no hardware panning  */
DECL|member|ywrapstep
id|__u16
id|ywrapstep
suffix:semicolon
multiline_comment|/* zero if no hardware ywrap    */
DECL|member|line_length
id|__u32
id|line_length
suffix:semicolon
multiline_comment|/* length of a line in bytes    */
DECL|member|mmio_start
id|__u32
id|mmio_start
suffix:semicolon
multiline_comment|/* Start of Memory Mapped I/O   */
multiline_comment|/* (physical address) */
DECL|member|mmio_len
id|__u32
id|mmio_len
suffix:semicolon
multiline_comment|/* Length of Memory Mapped I/O  */
DECL|member|accel
id|__u32
id|accel
suffix:semicolon
multiline_comment|/* Type of acceleration available */
DECL|member|reserved
id|__u16
id|reserved
(braket
l_int|3
)braket
suffix:semicolon
multiline_comment|/* Reserved for future compatibility */
)brace
suffix:semicolon
DECL|function|do_fbioget_fscreeninfo_ioctl
r_static
r_int
id|do_fbioget_fscreeninfo_ioctl
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
r_struct
id|fb_fix_screeninfo
id|fix
suffix:semicolon
r_struct
id|fb_fix_screeninfo32
op_star
id|fix32
op_assign
(paren
r_struct
id|fb_fix_screeninfo32
op_star
)paren
id|arg
suffix:semicolon
r_int
id|err
suffix:semicolon
id|set_fs
c_func
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
op_amp
id|fix
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
op_eq
l_int|0
)paren
(brace
id|err
op_assign
id|__copy_to_user
c_func
(paren
(paren
r_char
op_star
)paren
id|fix32-&gt;id
comma
(paren
r_char
op_star
)paren
id|fix.id
comma
r_sizeof
(paren
id|fix.id
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
(paren
id|__u32
)paren
(paren
r_int
r_int
)paren
id|fix.smem_start
comma
op_amp
id|fix32-&gt;smem_start
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|fix.smem_len
comma
op_amp
id|fix32-&gt;smem_len
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|fix.type
comma
op_amp
id|fix32-&gt;type
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|fix.type_aux
comma
op_amp
id|fix32-&gt;type_aux
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|fix.visual
comma
op_amp
id|fix32-&gt;visual
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|fix.xpanstep
comma
op_amp
id|fix32-&gt;xpanstep
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|fix.ypanstep
comma
op_amp
id|fix32-&gt;ypanstep
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|fix.ywrapstep
comma
op_amp
id|fix32-&gt;ywrapstep
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|fix.line_length
comma
op_amp
id|fix32-&gt;line_length
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
(paren
id|__u32
)paren
(paren
r_int
r_int
)paren
id|fix.mmio_start
comma
op_amp
id|fix32-&gt;mmio_start
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|fix.mmio_len
comma
op_amp
id|fix32-&gt;mmio_len
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|fix.accel
comma
op_amp
id|fix32-&gt;accel
)paren
suffix:semicolon
id|err
op_or_assign
id|__copy_to_user
c_func
(paren
(paren
r_char
op_star
)paren
id|fix32-&gt;reserved
comma
(paren
r_char
op_star
)paren
id|fix.reserved
comma
r_sizeof
(paren
id|fix.reserved
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
)brace
r_return
id|err
suffix:semicolon
)brace
DECL|struct|fb_cmap32
r_struct
id|fb_cmap32
(brace
DECL|member|start
id|__u32
id|start
suffix:semicolon
multiline_comment|/* First entry  */
DECL|member|len
id|__u32
id|len
suffix:semicolon
multiline_comment|/* Number of entries */
DECL|member|red
id|__u32
id|red
suffix:semicolon
multiline_comment|/* Red values   */
DECL|member|green
id|__u32
id|green
suffix:semicolon
DECL|member|blue
id|__u32
id|blue
suffix:semicolon
DECL|member|transp
id|__u32
id|transp
suffix:semicolon
multiline_comment|/* transparency, can be NULL */
)brace
suffix:semicolon
DECL|function|do_fbiocmap_ioctl
r_static
r_int
id|do_fbiocmap_ioctl
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
id|u32
id|red
op_assign
l_int|0
comma
id|green
op_assign
l_int|0
comma
id|blue
op_assign
l_int|0
comma
id|transp
op_assign
l_int|0
suffix:semicolon
r_struct
id|fb_cmap
id|cmap
suffix:semicolon
r_struct
id|fb_cmap32
op_star
id|cmap32
op_assign
(paren
r_struct
id|fb_cmap32
op_star
)paren
id|arg
suffix:semicolon
r_int
id|err
suffix:semicolon
id|memset
c_func
(paren
op_amp
id|cmap
comma
l_int|0
comma
r_sizeof
(paren
id|cmap
)paren
)paren
suffix:semicolon
id|err
op_assign
id|__get_user
c_func
(paren
id|cmap.start
comma
op_amp
id|cmap32-&gt;start
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|cmap.len
comma
op_amp
id|cmap32-&gt;len
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|red
comma
op_amp
id|cmap32-&gt;red
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|green
comma
op_amp
id|cmap32-&gt;green
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|blue
comma
op_amp
id|cmap32-&gt;blue
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|transp
comma
op_amp
id|cmap32-&gt;transp
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|err
op_assign
op_minus
id|ENOMEM
suffix:semicolon
id|cmap.red
op_assign
id|kmalloc
c_func
(paren
id|cmap.len
op_star
r_sizeof
(paren
id|__u16
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|cmap.red
)paren
r_goto
id|out
suffix:semicolon
id|cmap.green
op_assign
id|kmalloc
c_func
(paren
id|cmap.len
op_star
r_sizeof
(paren
id|__u16
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|cmap.green
)paren
r_goto
id|out
suffix:semicolon
id|cmap.blue
op_assign
id|kmalloc
c_func
(paren
id|cmap.len
op_star
r_sizeof
(paren
id|__u16
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|cmap.blue
)paren
r_goto
id|out
suffix:semicolon
r_if
c_cond
(paren
id|transp
)paren
(brace
id|cmap.transp
op_assign
id|kmalloc
c_func
(paren
id|cmap.len
op_star
r_sizeof
(paren
id|__u16
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|cmap.transp
)paren
r_goto
id|out
suffix:semicolon
)brace
r_if
c_cond
(paren
id|cmd
op_eq
id|FBIOPUTCMAP
)paren
(brace
id|err
op_assign
id|__copy_from_user
c_func
(paren
id|cmap.red
comma
(paren
r_char
op_star
)paren
id|A
c_func
(paren
id|red
)paren
comma
id|cmap.len
op_star
r_sizeof
(paren
id|__u16
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__copy_from_user
c_func
(paren
id|cmap.green
comma
(paren
r_char
op_star
)paren
id|A
c_func
(paren
id|green
)paren
comma
id|cmap.len
op_star
r_sizeof
(paren
id|__u16
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__copy_from_user
c_func
(paren
id|cmap.blue
comma
(paren
r_char
op_star
)paren
id|A
c_func
(paren
id|blue
)paren
comma
id|cmap.len
op_star
r_sizeof
(paren
id|__u16
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|cmap.transp
)paren
id|err
op_or_assign
id|__copy_from_user
c_func
(paren
id|cmap.transp
comma
(paren
r_char
op_star
)paren
id|A
c_func
(paren
id|transp
)paren
comma
id|cmap.len
op_star
r_sizeof
(paren
id|__u16
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
(brace
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_goto
id|out
suffix:semicolon
)brace
)brace
id|set_fs
c_func
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
op_amp
id|cmap
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_goto
id|out
suffix:semicolon
r_if
c_cond
(paren
id|cmd
op_eq
id|FBIOGETCMAP
)paren
(brace
id|err
op_assign
id|__copy_to_user
c_func
(paren
(paren
r_char
op_star
)paren
id|A
c_func
(paren
id|red
)paren
comma
id|cmap.red
comma
id|cmap.len
op_star
r_sizeof
(paren
id|__u16
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__copy_to_user
c_func
(paren
(paren
r_char
op_star
)paren
id|A
c_func
(paren
id|green
)paren
comma
id|cmap.blue
comma
id|cmap.len
op_star
r_sizeof
(paren
id|__u16
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__copy_to_user
c_func
(paren
(paren
r_char
op_star
)paren
id|A
c_func
(paren
id|blue
)paren
comma
id|cmap.blue
comma
id|cmap.len
op_star
r_sizeof
(paren
id|__u16
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|cmap.transp
)paren
id|err
op_or_assign
id|__copy_to_user
c_func
(paren
(paren
r_char
op_star
)paren
id|A
c_func
(paren
id|transp
)paren
comma
id|cmap.transp
comma
id|cmap.len
op_star
r_sizeof
(paren
id|__u16
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
(brace
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_goto
id|out
suffix:semicolon
)brace
)brace
id|out
suffix:colon
r_if
c_cond
(paren
id|cmap.red
)paren
id|kfree
c_func
(paren
id|cmap.red
)paren
suffix:semicolon
r_if
c_cond
(paren
id|cmap.green
)paren
id|kfree
c_func
(paren
id|cmap.green
)paren
suffix:semicolon
r_if
c_cond
(paren
id|cmap.blue
)paren
id|kfree
c_func
(paren
id|cmap.blue
)paren
suffix:semicolon
r_if
c_cond
(paren
id|cmap.transp
)paren
id|kfree
c_func
(paren
id|cmap.transp
)paren
suffix:semicolon
r_return
id|err
suffix:semicolon
)brace
macro_line|#endif /* CONFIG_FB */
DECL|function|do_siocgstamp
r_static
r_int
id|do_siocgstamp
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|compat_timeval
op_star
id|up
op_assign
(paren
r_struct
id|compat_timeval
op_star
)paren
id|arg
suffix:semicolon
r_struct
id|timeval
id|ktv
suffix:semicolon
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
r_int
id|err
suffix:semicolon
id|set_fs
c_func
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
op_amp
id|ktv
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|err
)paren
(brace
id|err
op_assign
id|put_user
c_func
(paren
id|ktv.tv_sec
comma
op_amp
id|up-&gt;tv_sec
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|ktv.tv_usec
comma
op_amp
id|up-&gt;tv_usec
)paren
suffix:semicolon
)brace
r_return
id|err
suffix:semicolon
)brace
DECL|macro|EXT2_IOC32_GETFLAGS
mdefine_line|#define EXT2_IOC32_GETFLAGS               _IOR(&squot;f&squot;, 1, int)
DECL|macro|EXT2_IOC32_SETFLAGS
mdefine_line|#define EXT2_IOC32_SETFLAGS               _IOW(&squot;f&squot;, 2, int)
DECL|macro|EXT2_IOC32_GETVERSION
mdefine_line|#define EXT2_IOC32_GETVERSION             _IOR(&squot;v&squot;, 1, int)
DECL|macro|EXT2_IOC32_SETVERSION
mdefine_line|#define EXT2_IOC32_SETVERSION             _IOW(&squot;v&squot;, 2, int)
DECL|struct|ifmap32
r_struct
id|ifmap32
(brace
DECL|member|mem_start
r_int
r_int
id|mem_start
suffix:semicolon
DECL|member|mem_end
r_int
r_int
id|mem_end
suffix:semicolon
DECL|member|base_addr
r_int
r_int
id|base_addr
suffix:semicolon
DECL|member|irq
r_int
r_char
id|irq
suffix:semicolon
DECL|member|dma
r_int
r_char
id|dma
suffix:semicolon
DECL|member|port
r_int
r_char
id|port
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|ifreq32
r_struct
id|ifreq32
(brace
DECL|macro|IFHWADDRLEN
mdefine_line|#define IFHWADDRLEN     6
DECL|macro|IFNAMSIZ
mdefine_line|#define IFNAMSIZ        16
r_union
(brace
DECL|member|ifrn_name
r_char
id|ifrn_name
(braket
id|IFNAMSIZ
)braket
suffix:semicolon
multiline_comment|/* if name, e.g. &quot;en0&quot; */
DECL|member|ifr_ifrn
)brace
id|ifr_ifrn
suffix:semicolon
r_union
(brace
DECL|member|ifru_addr
r_struct
id|sockaddr
id|ifru_addr
suffix:semicolon
DECL|member|ifru_dstaddr
r_struct
id|sockaddr
id|ifru_dstaddr
suffix:semicolon
DECL|member|ifru_broadaddr
r_struct
id|sockaddr
id|ifru_broadaddr
suffix:semicolon
DECL|member|ifru_netmask
r_struct
id|sockaddr
id|ifru_netmask
suffix:semicolon
DECL|member|ifru_hwaddr
r_struct
id|sockaddr
id|ifru_hwaddr
suffix:semicolon
DECL|member|ifru_flags
r_int
id|ifru_flags
suffix:semicolon
DECL|member|ifru_ivalue
r_int
id|ifru_ivalue
suffix:semicolon
DECL|member|ifru_mtu
r_int
id|ifru_mtu
suffix:semicolon
DECL|member|ifru_map
r_struct
id|ifmap32
id|ifru_map
suffix:semicolon
DECL|member|ifru_slave
r_char
id|ifru_slave
(braket
id|IFNAMSIZ
)braket
suffix:semicolon
multiline_comment|/* Just fits the size */
DECL|member|ifru_newname
r_char
id|ifru_newname
(braket
id|IFNAMSIZ
)braket
suffix:semicolon
DECL|member|ifru_data
id|compat_caddr_t
id|ifru_data
suffix:semicolon
DECL|member|ifr_ifru
)brace
id|ifr_ifru
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|ifconf32
r_struct
id|ifconf32
(brace
DECL|member|ifc_len
r_int
id|ifc_len
suffix:semicolon
multiline_comment|/* size of buffer       */
DECL|member|ifcbuf
id|compat_caddr_t
id|ifcbuf
suffix:semicolon
)brace
suffix:semicolon
macro_line|#ifdef CONFIG_NET
DECL|function|dev_ifname32
r_static
r_int
id|dev_ifname32
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|ireq32
op_star
id|uir32
op_assign
(paren
r_struct
id|ireq32
op_star
)paren
id|arg
suffix:semicolon
r_struct
id|net_device
op_star
id|dev
suffix:semicolon
r_struct
id|ifreq32
id|ifr32
suffix:semicolon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
op_amp
id|ifr32
comma
id|uir32
comma
r_sizeof
(paren
r_struct
id|ifreq32
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|read_lock
c_func
(paren
op_amp
id|dev_base_lock
)paren
suffix:semicolon
id|dev
op_assign
id|__dev_get_by_index
c_func
(paren
id|ifr32.ifr_ifindex
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|dev
)paren
(brace
id|read_unlock
c_func
(paren
op_amp
id|dev_base_lock
)paren
suffix:semicolon
r_return
op_minus
id|ENODEV
suffix:semicolon
)brace
id|strcpy
c_func
(paren
id|ifr32.ifr_name
comma
id|dev-&gt;name
)paren
suffix:semicolon
id|read_unlock
c_func
(paren
op_amp
id|dev_base_lock
)paren
suffix:semicolon
r_if
c_cond
(paren
id|copy_to_user
c_func
(paren
id|uir32
comma
op_amp
id|ifr32
comma
r_sizeof
(paren
r_struct
id|ifreq32
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|dev_ifconf
r_static
r_inline
r_int
id|dev_ifconf
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|ioconf32
op_star
id|uifc32
op_assign
(paren
r_struct
id|ioconf32
op_star
)paren
id|arg
suffix:semicolon
r_struct
id|ifconf32
id|ifc32
suffix:semicolon
r_struct
id|ifconf
id|ifc
suffix:semicolon
r_struct
id|ifreq32
op_star
id|ifr32
suffix:semicolon
r_struct
id|ifreq
op_star
id|ifr
suffix:semicolon
id|mm_segment_t
id|old_fs
suffix:semicolon
r_int
r_int
id|i
comma
id|j
suffix:semicolon
r_int
id|err
suffix:semicolon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
op_amp
id|ifc32
comma
id|uifc32
comma
r_sizeof
(paren
r_struct
id|ifconf32
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|ifc32.ifcbuf
op_eq
l_int|0
)paren
(brace
id|ifc32.ifc_len
op_assign
l_int|0
suffix:semicolon
id|ifc.ifc_len
op_assign
l_int|0
suffix:semicolon
id|ifc.ifc_buf
op_assign
l_int|NULL
suffix:semicolon
)brace
r_else
(brace
id|ifc.ifc_len
op_assign
(paren
(paren
id|ifc32.ifc_len
op_div
r_sizeof
(paren
r_struct
id|ifreq32
)paren
)paren
)paren
op_star
r_sizeof
(paren
r_struct
id|ifreq
)paren
suffix:semicolon
id|ifc.ifc_buf
op_assign
id|kmalloc
(paren
id|ifc.ifc_len
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|ifc.ifc_buf
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
)brace
id|ifr
op_assign
id|ifc.ifc_req
suffix:semicolon
id|ifr32
op_assign
(paren
r_struct
id|ifreq32
op_star
)paren
id|A
c_func
(paren
id|ifc32.ifcbuf
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|ifc32.ifc_len
suffix:semicolon
id|i
op_add_assign
r_sizeof
(paren
r_struct
id|ifreq32
)paren
)paren
(brace
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
id|ifr
op_increment
comma
id|ifr32
op_increment
comma
r_sizeof
(paren
r_struct
id|ifreq32
)paren
)paren
)paren
(brace
id|kfree
(paren
id|ifc.ifc_buf
)paren
suffix:semicolon
r_return
op_minus
id|EFAULT
suffix:semicolon
)brace
)brace
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
id|set_fs
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
(paren
id|fd
comma
id|SIOCGIFCONF
comma
(paren
r_int
r_int
)paren
op_amp
id|ifc
)paren
suffix:semicolon
id|set_fs
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_goto
id|out
suffix:semicolon
id|ifr
op_assign
id|ifc.ifc_req
suffix:semicolon
id|ifr32
op_assign
(paren
r_struct
id|ifreq32
op_star
)paren
id|A
c_func
(paren
id|ifc32.ifcbuf
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
comma
id|j
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|ifc32.ifc_len
op_logical_and
id|j
OL
id|ifc.ifc_len
suffix:semicolon
id|i
op_add_assign
r_sizeof
(paren
r_struct
id|ifreq32
)paren
comma
id|j
op_add_assign
r_sizeof
(paren
r_struct
id|ifreq
)paren
)paren
(brace
r_if
c_cond
(paren
id|copy_to_user
c_func
(paren
id|ifr32
op_increment
comma
id|ifr
op_increment
comma
r_sizeof
(paren
r_struct
id|ifreq32
)paren
)paren
)paren
(brace
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_goto
id|out
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
id|ifc32.ifcbuf
op_eq
l_int|0
)paren
(brace
multiline_comment|/* Translate from 64-bit structure multiple to&n;&t;&t; * a 32-bit one.&n;&t;&t; */
id|i
op_assign
id|ifc.ifc_len
suffix:semicolon
id|i
op_assign
(paren
(paren
id|i
op_div
r_sizeof
(paren
r_struct
id|ifreq
)paren
)paren
op_star
r_sizeof
(paren
r_struct
id|ifreq32
)paren
)paren
suffix:semicolon
id|ifc32.ifc_len
op_assign
id|i
suffix:semicolon
)brace
r_else
(brace
r_if
c_cond
(paren
id|i
op_le
id|ifc32.ifc_len
)paren
id|ifc32.ifc_len
op_assign
id|i
suffix:semicolon
r_else
id|ifc32.ifc_len
op_assign
id|i
op_minus
r_sizeof
(paren
r_struct
id|ifreq32
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|copy_to_user
c_func
(paren
id|uifc32
comma
op_amp
id|ifc32
comma
r_sizeof
(paren
r_struct
id|ifconf32
)paren
)paren
)paren
(brace
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_goto
id|out
suffix:semicolon
)brace
id|out
suffix:colon
r_if
c_cond
(paren
id|ifc.ifc_buf
op_ne
l_int|NULL
)paren
(brace
id|kfree
(paren
id|ifc.ifc_buf
)paren
suffix:semicolon
)brace
r_return
id|err
suffix:semicolon
)brace
DECL|function|siocdevprivate_ioctl
r_int
id|siocdevprivate_ioctl
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|ifreq
op_star
id|u_ifreq64
suffix:semicolon
r_struct
id|ifreq32
op_star
id|u_ifreq32
op_assign
(paren
r_struct
id|ifreq32
op_star
)paren
id|arg
suffix:semicolon
r_char
id|tmp_buf
(braket
id|IFNAMSIZ
)braket
suffix:semicolon
r_void
op_star
id|data64
suffix:semicolon
id|u32
id|data32
suffix:semicolon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
op_amp
id|tmp_buf
(braket
l_int|0
)braket
comma
op_amp
(paren
id|u_ifreq32-&gt;ifr_ifrn.ifrn_name
(braket
l_int|0
)braket
)paren
comma
id|IFNAMSIZ
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|__get_user
c_func
(paren
id|data32
comma
op_amp
id|u_ifreq32-&gt;ifr_ifru.ifru_data
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|data64
op_assign
(paren
r_void
op_star
)paren
id|A
c_func
(paren
id|data32
)paren
suffix:semicolon
id|u_ifreq64
op_assign
id|compat_alloc_user_space
c_func
(paren
r_sizeof
(paren
op_star
id|u_ifreq64
)paren
)paren
suffix:semicolon
multiline_comment|/* Don&squot;t check these user accesses, just let that get trapped&n;&t; * in the ioctl handler instead.&n;&t; */
id|copy_to_user
c_func
(paren
op_amp
id|u_ifreq64-&gt;ifr_ifrn.ifrn_name
(braket
l_int|0
)braket
comma
op_amp
id|tmp_buf
(braket
l_int|0
)braket
comma
id|IFNAMSIZ
)paren
suffix:semicolon
id|__put_user
c_func
(paren
id|data64
comma
op_amp
id|u_ifreq64-&gt;ifr_ifru.ifru_data
)paren
suffix:semicolon
r_return
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
id|u_ifreq64
)paren
suffix:semicolon
)brace
DECL|function|dev_ifsioc
r_static
r_int
id|dev_ifsioc
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|ifreq
id|ifr
suffix:semicolon
id|mm_segment_t
id|old_fs
suffix:semicolon
r_int
id|err
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|SIOCSIFMAP
suffix:colon
id|err
op_assign
id|copy_from_user
c_func
(paren
op_amp
id|ifr
comma
(paren
r_struct
id|ifreq32
op_star
)paren
id|arg
comma
r_sizeof
(paren
id|ifr.ifr_name
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|ifr.ifr_map.mem_start
comma
op_amp
(paren
(paren
(paren
r_struct
id|ifreq32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|ifr_ifru.ifru_map.mem_start
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|ifr.ifr_map.mem_end
comma
op_amp
(paren
(paren
(paren
r_struct
id|ifreq32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|ifr_ifru.ifru_map.mem_end
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|ifr.ifr_map.base_addr
comma
op_amp
(paren
(paren
(paren
r_struct
id|ifreq32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|ifr_ifru.ifru_map.base_addr
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|ifr.ifr_map.irq
comma
op_amp
(paren
(paren
(paren
r_struct
id|ifreq32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|ifr_ifru.ifru_map.irq
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|ifr.ifr_map.dma
comma
op_amp
(paren
(paren
(paren
r_struct
id|ifreq32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|ifr_ifru.ifru_map.dma
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|ifr.ifr_map.port
comma
op_amp
(paren
(paren
(paren
r_struct
id|ifreq32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|ifr_ifru.ifru_map.port
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
(brace
)brace
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
op_amp
id|ifr
comma
(paren
r_struct
id|ifreq32
op_star
)paren
id|arg
comma
r_sizeof
(paren
r_struct
id|ifreq32
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_break
suffix:semicolon
)brace
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
id|set_fs
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
op_amp
id|ifr
)paren
suffix:semicolon
id|set_fs
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|err
)paren
(brace
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|SIOCGIFFLAGS
suffix:colon
r_case
id|SIOCGIFMETRIC
suffix:colon
r_case
id|SIOCGIFMTU
suffix:colon
r_case
id|SIOCGIFMEM
suffix:colon
r_case
id|SIOCGIFHWADDR
suffix:colon
r_case
id|SIOCGIFINDEX
suffix:colon
r_case
id|SIOCGIFADDR
suffix:colon
r_case
id|SIOCGIFBRDADDR
suffix:colon
r_case
id|SIOCGIFDSTADDR
suffix:colon
r_case
id|SIOCGIFNETMASK
suffix:colon
r_case
id|SIOCGIFTXQLEN
suffix:colon
r_if
c_cond
(paren
id|copy_to_user
c_func
(paren
(paren
r_struct
id|ifreq32
op_star
)paren
id|arg
comma
op_amp
id|ifr
comma
r_sizeof
(paren
r_struct
id|ifreq32
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_break
suffix:semicolon
r_case
id|SIOCGIFMAP
suffix:colon
id|err
op_assign
id|copy_to_user
c_func
(paren
(paren
r_struct
id|ifreq32
op_star
)paren
id|arg
comma
op_amp
id|ifr
comma
r_sizeof
(paren
id|ifr.ifr_name
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|ifr.ifr_map.mem_start
comma
op_amp
(paren
(paren
(paren
r_struct
id|ifreq32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|ifr_ifru.ifru_map.mem_start
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|ifr.ifr_map.mem_end
comma
op_amp
(paren
(paren
(paren
r_struct
id|ifreq32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|ifr_ifru.ifru_map.mem_end
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|ifr.ifr_map.base_addr
comma
op_amp
(paren
(paren
(paren
r_struct
id|ifreq32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|ifr_ifru.ifru_map.base_addr
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|ifr.ifr_map.irq
comma
op_amp
(paren
(paren
(paren
r_struct
id|ifreq32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|ifr_ifru.ifru_map.irq
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|ifr.ifr_map.dma
comma
op_amp
(paren
(paren
(paren
r_struct
id|ifreq32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|ifr_ifru.ifru_map.dma
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|ifr.ifr_map.port
comma
op_amp
(paren
(paren
(paren
r_struct
id|ifreq32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|ifr_ifru.ifru_map.port
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_break
suffix:semicolon
)brace
)brace
r_return
id|err
suffix:semicolon
)brace
DECL|struct|rtentry32
r_struct
id|rtentry32
(brace
DECL|member|rt_pad1
r_int
r_int
id|rt_pad1
suffix:semicolon
DECL|member|rt_dst
r_struct
id|sockaddr
id|rt_dst
suffix:semicolon
multiline_comment|/* target address&t;&t;*/
DECL|member|rt_gateway
r_struct
id|sockaddr
id|rt_gateway
suffix:semicolon
multiline_comment|/* gateway addr (RTF_GATEWAY)&t;*/
DECL|member|rt_genmask
r_struct
id|sockaddr
id|rt_genmask
suffix:semicolon
multiline_comment|/* target network mask (IP)&t;*/
DECL|member|rt_flags
r_int
r_int
id|rt_flags
suffix:semicolon
DECL|member|rt_pad2
r_int
id|rt_pad2
suffix:semicolon
DECL|member|rt_pad3
r_int
r_int
id|rt_pad3
suffix:semicolon
DECL|member|rt_pad4
r_int
r_int
id|rt_pad4
suffix:semicolon
DECL|member|rt_metric
r_int
id|rt_metric
suffix:semicolon
multiline_comment|/* +1 for binary compatibility!&t;*/
DECL|member|rt_dev
r_int
r_int
id|rt_dev
suffix:semicolon
multiline_comment|/* forcing the device at add&t;*/
DECL|member|rt_mtu
r_int
r_int
id|rt_mtu
suffix:semicolon
multiline_comment|/* per route MTU/Window &t;*/
macro_line|#ifndef __KERNEL__
DECL|macro|rt_mss
mdefine_line|#define rt_mss&t;rt_mtu&t;&t;&t;/* Compatibility :-(            */
macro_line|#endif
DECL|member|rt_window
r_int
r_int
id|rt_window
suffix:semicolon
multiline_comment|/* Window clamping &t;&t;*/
DECL|member|rt_irtt
r_int
r_int
id|rt_irtt
suffix:semicolon
multiline_comment|/* Initial RTT&t;&t;&t;*/
)brace
suffix:semicolon
DECL|function|routing_ioctl
r_static
r_inline
r_int
id|routing_ioctl
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|rtentry32
op_star
id|ur
op_assign
(paren
r_struct
id|rtentry32
op_star
)paren
id|arg
suffix:semicolon
r_struct
id|rtentry
id|r
suffix:semicolon
r_char
id|devname
(braket
l_int|16
)braket
suffix:semicolon
id|u32
id|rtdev
suffix:semicolon
r_int
id|ret
suffix:semicolon
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
id|ret
op_assign
id|copy_from_user
(paren
op_amp
id|r.rt_dst
comma
op_amp
(paren
id|ur-&gt;rt_dst
)paren
comma
l_int|3
op_star
r_sizeof
(paren
r_struct
id|sockaddr
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
(paren
id|r.rt_flags
comma
op_amp
(paren
id|ur-&gt;rt_flags
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
(paren
id|r.rt_metric
comma
op_amp
(paren
id|ur-&gt;rt_metric
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
(paren
id|r.rt_mtu
comma
op_amp
(paren
id|ur-&gt;rt_mtu
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
(paren
id|r.rt_window
comma
op_amp
(paren
id|ur-&gt;rt_window
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
(paren
id|r.rt_irtt
comma
op_amp
(paren
id|ur-&gt;rt_irtt
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
(paren
id|rtdev
comma
op_amp
(paren
id|ur-&gt;rt_dev
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|rtdev
)paren
(brace
id|ret
op_or_assign
id|copy_from_user
(paren
id|devname
comma
(paren
r_char
op_star
)paren
id|A
c_func
(paren
id|rtdev
)paren
comma
l_int|15
)paren
suffix:semicolon
id|r.rt_dev
op_assign
id|devname
suffix:semicolon
id|devname
(braket
l_int|15
)braket
op_assign
l_int|0
suffix:semicolon
)brace
r_else
id|r.rt_dev
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|ret
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|set_fs
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|ret
op_assign
id|sys_ioctl
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
)paren
op_amp
id|r
)paren
suffix:semicolon
id|set_fs
(paren
id|old_fs
)paren
suffix:semicolon
r_return
id|ret
suffix:semicolon
)brace
macro_line|#endif /* CONFIG_NET */
DECL|function|do_ext2_ioctl
r_static
r_int
id|do_ext2_ioctl
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
multiline_comment|/* These are just misnamed, they actually get/put from/to user an int */
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|EXT2_IOC32_GETFLAGS
suffix:colon
id|cmd
op_assign
id|EXT2_IOC_GETFLAGS
suffix:semicolon
r_break
suffix:semicolon
r_case
id|EXT2_IOC32_SETFLAGS
suffix:colon
id|cmd
op_assign
id|EXT2_IOC_SETFLAGS
suffix:semicolon
r_break
suffix:semicolon
r_case
id|EXT2_IOC32_GETVERSION
suffix:colon
id|cmd
op_assign
id|EXT2_IOC_GETVERSION
suffix:semicolon
r_break
suffix:semicolon
r_case
id|EXT2_IOC32_SETVERSION
suffix:colon
id|cmd
op_assign
id|EXT2_IOC_SETVERSION
suffix:semicolon
r_break
suffix:semicolon
)brace
r_return
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
id|arg
)paren
suffix:semicolon
)brace
DECL|struct|hd_geometry32
r_struct
id|hd_geometry32
(brace
DECL|member|heads
r_int
r_char
id|heads
suffix:semicolon
DECL|member|sectors
r_int
r_char
id|sectors
suffix:semicolon
DECL|member|cylinders
r_int
r_int
id|cylinders
suffix:semicolon
DECL|member|start
id|u32
id|start
suffix:semicolon
)brace
suffix:semicolon
DECL|function|hdio_getgeo
r_static
r_int
id|hdio_getgeo
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
r_struct
id|hd_geometry
id|geo
suffix:semicolon
r_int
id|err
suffix:semicolon
id|set_fs
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|HDIO_GETGEO
comma
(paren
r_int
r_int
)paren
op_amp
id|geo
)paren
suffix:semicolon
id|set_fs
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|err
)paren
(brace
id|err
op_assign
id|copy_to_user
(paren
(paren
r_struct
id|hd_geometry32
op_star
)paren
id|arg
comma
op_amp
id|geo
comma
l_int|4
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
(paren
id|geo.start
comma
op_amp
(paren
(paren
(paren
r_struct
id|hd_geometry32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|start
)paren
)paren
suffix:semicolon
)brace
r_return
id|err
ques
c_cond
op_minus
id|EFAULT
suffix:colon
l_int|0
suffix:semicolon
)brace
DECL|function|hdio_ioctl_trans
r_static
r_int
id|hdio_ioctl_trans
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
r_int
r_int
id|kval
suffix:semicolon
r_int
r_int
op_star
id|uvp
suffix:semicolon
r_int
id|error
suffix:semicolon
id|set_fs
c_func
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|error
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
)paren
op_amp
id|kval
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
id|error
op_eq
l_int|0
)paren
(brace
id|uvp
op_assign
(paren
r_int
r_int
op_star
)paren
id|arg
suffix:semicolon
r_if
c_cond
(paren
id|put_user
c_func
(paren
id|kval
comma
id|uvp
)paren
)paren
id|error
op_assign
op_minus
id|EFAULT
suffix:semicolon
)brace
r_return
id|error
suffix:semicolon
)brace
DECL|function|ret_einval
r_static
r_int
id|ret_einval
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_return
op_minus
id|EINVAL
suffix:semicolon
)brace
DECL|struct|blkpg_ioctl_arg32
r_struct
id|blkpg_ioctl_arg32
(brace
DECL|member|op
r_int
id|op
suffix:semicolon
DECL|member|flags
r_int
id|flags
suffix:semicolon
DECL|member|datalen
r_int
id|datalen
suffix:semicolon
DECL|member|data
id|u32
id|data
suffix:semicolon
)brace
suffix:semicolon
DECL|function|blkpg_ioctl_trans
r_static
r_int
id|blkpg_ioctl_trans
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_struct
id|blkpg_ioctl_arg32
op_star
id|arg
)paren
(brace
r_struct
id|blkpg_ioctl_arg
id|a
suffix:semicolon
r_struct
id|blkpg_partition
id|p
suffix:semicolon
r_int
id|err
suffix:semicolon
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
id|err
op_assign
id|get_user
c_func
(paren
id|a.op
comma
op_amp
id|arg-&gt;op
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|a.flags
comma
op_amp
id|arg-&gt;flags
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|a.datalen
comma
op_amp
id|arg-&gt;datalen
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
(paren
r_int
)paren
id|a.data
comma
op_amp
id|arg-&gt;data
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_return
id|err
suffix:semicolon
r_switch
c_cond
(paren
id|a.op
)paren
(brace
r_case
id|BLKPG_ADD_PARTITION
suffix:colon
r_case
id|BLKPG_DEL_PARTITION
suffix:colon
r_if
c_cond
(paren
id|a.datalen
OL
r_sizeof
(paren
r_struct
id|blkpg_partition
)paren
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
op_amp
id|p
comma
id|a.data
comma
r_sizeof
(paren
r_struct
id|blkpg_partition
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|a.data
op_assign
op_amp
id|p
suffix:semicolon
id|set_fs
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
op_amp
id|a
)paren
suffix:semicolon
id|set_fs
(paren
id|old_fs
)paren
suffix:semicolon
r_default
suffix:colon
r_return
op_minus
id|EINVAL
suffix:semicolon
)brace
r_return
id|err
suffix:semicolon
)brace
DECL|struct|mtget32
r_struct
id|mtget32
(brace
DECL|member|mt_type
id|__u32
id|mt_type
suffix:semicolon
DECL|member|mt_resid
id|__u32
id|mt_resid
suffix:semicolon
DECL|member|mt_dsreg
id|__u32
id|mt_dsreg
suffix:semicolon
DECL|member|mt_gstat
id|__u32
id|mt_gstat
suffix:semicolon
DECL|member|mt_erreg
id|__u32
id|mt_erreg
suffix:semicolon
DECL|member|mt_fileno
id|compat_daddr_t
id|mt_fileno
suffix:semicolon
DECL|member|mt_blkno
id|compat_daddr_t
id|mt_blkno
suffix:semicolon
)brace
suffix:semicolon
DECL|macro|MTIOCGET32
mdefine_line|#define MTIOCGET32&t;_IOR(&squot;m&squot;, 2, struct mtget32)
DECL|struct|mtpos32
r_struct
id|mtpos32
(brace
DECL|member|mt_blkno
id|__u32
id|mt_blkno
suffix:semicolon
)brace
suffix:semicolon
DECL|macro|MTIOCPOS32
mdefine_line|#define MTIOCPOS32&t;_IOR(&squot;m&squot;, 3, struct mtpos32)
DECL|struct|mtconfiginfo32
r_struct
id|mtconfiginfo32
(brace
DECL|member|mt_type
id|__u32
id|mt_type
suffix:semicolon
DECL|member|ifc_type
id|__u32
id|ifc_type
suffix:semicolon
DECL|member|irqnr
id|__u16
id|irqnr
suffix:semicolon
DECL|member|dmanr
id|__u16
id|dmanr
suffix:semicolon
DECL|member|port
id|__u16
id|port
suffix:semicolon
DECL|member|debug
id|__u32
id|debug
suffix:semicolon
DECL|member|have_dens
id|__u32
id|have_dens
suffix:colon
l_int|1
suffix:semicolon
DECL|member|have_bsf
id|__u32
id|have_bsf
suffix:colon
l_int|1
suffix:semicolon
DECL|member|have_fsr
id|__u32
id|have_fsr
suffix:colon
l_int|1
suffix:semicolon
DECL|member|have_bsr
id|__u32
id|have_bsr
suffix:colon
l_int|1
suffix:semicolon
DECL|member|have_eod
id|__u32
id|have_eod
suffix:colon
l_int|1
suffix:semicolon
DECL|member|have_seek
id|__u32
id|have_seek
suffix:colon
l_int|1
suffix:semicolon
DECL|member|have_tell
id|__u32
id|have_tell
suffix:colon
l_int|1
suffix:semicolon
DECL|member|have_ras1
id|__u32
id|have_ras1
suffix:colon
l_int|1
suffix:semicolon
DECL|member|have_ras2
id|__u32
id|have_ras2
suffix:colon
l_int|1
suffix:semicolon
DECL|member|have_ras3
id|__u32
id|have_ras3
suffix:colon
l_int|1
suffix:semicolon
DECL|member|have_qfa
id|__u32
id|have_qfa
suffix:colon
l_int|1
suffix:semicolon
DECL|member|pad1
id|__u32
id|pad1
suffix:colon
l_int|5
suffix:semicolon
DECL|member|reserved
r_char
id|reserved
(braket
l_int|10
)braket
suffix:semicolon
)brace
suffix:semicolon
DECL|macro|MTIOCGETCONFIG32
mdefine_line|#define&t;MTIOCGETCONFIG32&t;_IOR(&squot;m&squot;, 4, struct mtconfiginfo32)
DECL|macro|MTIOCSETCONFIG32
mdefine_line|#define&t;MTIOCSETCONFIG32&t;_IOW(&squot;m&squot;, 5, struct mtconfiginfo32)
DECL|function|mt_ioctl_trans
r_static
r_int
id|mt_ioctl_trans
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
r_struct
id|mtconfiginfo
id|info
suffix:semicolon
r_struct
id|mtget
id|get
suffix:semicolon
r_struct
id|mtpos
id|pos
suffix:semicolon
r_int
r_int
id|kcmd
suffix:semicolon
r_void
op_star
id|karg
suffix:semicolon
r_int
id|err
op_assign
l_int|0
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|MTIOCPOS32
suffix:colon
id|kcmd
op_assign
id|MTIOCPOS
suffix:semicolon
id|karg
op_assign
op_amp
id|pos
suffix:semicolon
r_break
suffix:semicolon
r_case
id|MTIOCGET32
suffix:colon
id|kcmd
op_assign
id|MTIOCGET
suffix:semicolon
id|karg
op_assign
op_amp
id|get
suffix:semicolon
r_break
suffix:semicolon
r_case
id|MTIOCGETCONFIG32
suffix:colon
id|kcmd
op_assign
id|MTIOCGETCONFIG
suffix:semicolon
id|karg
op_assign
op_amp
id|info
suffix:semicolon
r_break
suffix:semicolon
r_case
id|MTIOCSETCONFIG32
suffix:colon
id|kcmd
op_assign
id|MTIOCSETCONFIG
suffix:semicolon
id|karg
op_assign
op_amp
id|info
suffix:semicolon
id|err
op_assign
id|__get_user
c_func
(paren
id|info.mt_type
comma
op_amp
(paren
(paren
r_struct
id|mtconfiginfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|mt_type
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|info.ifc_type
comma
op_amp
(paren
(paren
r_struct
id|mtconfiginfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|ifc_type
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|info.irqnr
comma
op_amp
(paren
(paren
r_struct
id|mtconfiginfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|irqnr
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|info.dmanr
comma
op_amp
(paren
(paren
r_struct
id|mtconfiginfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|dmanr
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|info.port
comma
op_amp
(paren
(paren
r_struct
id|mtconfiginfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|port
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|info.debug
comma
op_amp
(paren
(paren
r_struct
id|mtconfiginfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|debug
)paren
suffix:semicolon
id|err
op_or_assign
id|__copy_from_user
c_func
(paren
(paren
r_char
op_star
)paren
op_amp
id|info.debug
op_plus
r_sizeof
(paren
id|info.debug
)paren
comma
(paren
r_char
op_star
)paren
op_amp
(paren
(paren
r_struct
id|mtconfiginfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|debug
op_plus
r_sizeof
(paren
(paren
(paren
r_struct
id|mtconfiginfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|debug
)paren
comma
r_sizeof
(paren
id|__u32
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
(brace
)brace
r_do
(brace
r_static
r_int
id|count
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
op_increment
id|count
op_le
l_int|20
)paren
id|printk
c_func
(paren
l_string|&quot;mt_ioctl: Unknown cmd fd(%d) &quot;
l_string|&quot;cmd(%08x) arg(%08x)&bslash;n&quot;
comma
(paren
r_int
)paren
id|fd
comma
(paren
r_int
r_int
)paren
id|cmd
comma
(paren
r_int
r_int
)paren
id|arg
)paren
suffix:semicolon
)brace
r_while
c_loop
(paren
l_int|0
)paren
(brace
suffix:semicolon
)brace
r_return
op_minus
id|EINVAL
suffix:semicolon
)brace
id|set_fs
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
(paren
id|fd
comma
id|kcmd
comma
(paren
r_int
r_int
)paren
id|karg
)paren
suffix:semicolon
id|set_fs
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_return
id|err
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|MTIOCPOS32
suffix:colon
id|err
op_assign
id|__put_user
c_func
(paren
id|pos.mt_blkno
comma
op_amp
(paren
(paren
r_struct
id|mtpos32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|mt_blkno
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|MTIOCGET32
suffix:colon
id|err
op_assign
id|__put_user
c_func
(paren
id|get.mt_type
comma
op_amp
(paren
(paren
r_struct
id|mtget32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|mt_type
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|get.mt_resid
comma
op_amp
(paren
(paren
r_struct
id|mtget32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|mt_resid
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|get.mt_dsreg
comma
op_amp
(paren
(paren
r_struct
id|mtget32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|mt_dsreg
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|get.mt_gstat
comma
op_amp
(paren
(paren
r_struct
id|mtget32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|mt_gstat
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|get.mt_erreg
comma
op_amp
(paren
(paren
r_struct
id|mtget32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|mt_erreg
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|get.mt_fileno
comma
op_amp
(paren
(paren
r_struct
id|mtget32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|mt_fileno
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|get.mt_blkno
comma
op_amp
(paren
(paren
r_struct
id|mtget32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|mt_blkno
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|MTIOCGETCONFIG32
suffix:colon
id|err
op_assign
id|__put_user
c_func
(paren
id|info.mt_type
comma
op_amp
(paren
(paren
r_struct
id|mtconfiginfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|mt_type
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|info.ifc_type
comma
op_amp
(paren
(paren
r_struct
id|mtconfiginfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|ifc_type
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|info.irqnr
comma
op_amp
(paren
(paren
r_struct
id|mtconfiginfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|irqnr
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|info.dmanr
comma
op_amp
(paren
(paren
r_struct
id|mtconfiginfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|dmanr
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|info.port
comma
op_amp
(paren
(paren
r_struct
id|mtconfiginfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|port
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|info.debug
comma
op_amp
(paren
(paren
r_struct
id|mtconfiginfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|debug
)paren
suffix:semicolon
id|err
op_or_assign
id|__copy_to_user
c_func
(paren
(paren
r_char
op_star
)paren
op_amp
(paren
(paren
r_struct
id|mtconfiginfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|debug
op_plus
r_sizeof
(paren
(paren
(paren
r_struct
id|mtconfiginfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|debug
)paren
comma
(paren
r_char
op_star
)paren
op_amp
id|info.debug
op_plus
r_sizeof
(paren
id|info.debug
)paren
comma
r_sizeof
(paren
id|__u32
)paren
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|MTIOCSETCONFIG32
suffix:colon
r_break
suffix:semicolon
)brace
r_return
id|err
ques
c_cond
op_minus
id|EFAULT
suffix:colon
l_int|0
suffix:semicolon
)brace
DECL|macro|AUTOFS_IOC_SETTIMEOUT32
mdefine_line|#define AUTOFS_IOC_SETTIMEOUT32 _IOWR(0x93,0x64,unsigned int)
DECL|function|ioc_settimeout
r_static
r_int
id|ioc_settimeout
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_return
id|rw_long
c_func
(paren
id|fd
comma
id|AUTOFS_IOC_SETTIMEOUT
comma
id|arg
)paren
suffix:semicolon
)brace
macro_line|#ifdef CONFIG_VT
r_extern
r_int
id|tty_ioctl
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|file
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
suffix:semicolon
DECL|function|vt_check
r_static
r_int
id|vt_check
c_func
(paren
r_struct
id|file
op_star
id|file
)paren
(brace
r_struct
id|tty_struct
op_star
id|tty
suffix:semicolon
r_struct
id|inode
op_star
id|inode
op_assign
id|file-&gt;f_dentry-&gt;d_inode
suffix:semicolon
r_if
c_cond
(paren
id|file-&gt;f_op-&gt;ioctl
op_ne
id|tty_ioctl
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
id|tty
op_assign
(paren
r_struct
id|tty_struct
op_star
)paren
id|file-&gt;private_data
suffix:semicolon
r_if
c_cond
(paren
id|tty_paranoia_check
c_func
(paren
id|tty
comma
id|inode
comma
l_string|&quot;tty_ioctl&quot;
)paren
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
r_if
c_cond
(paren
id|tty-&gt;driver-&gt;ioctl
op_ne
id|vt_ioctl
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
multiline_comment|/*&n;&t; * To have permissions to do most of the vt ioctls, we either have&n;&t; * to be the owner of the tty, or super-user.&n;&t; */
r_if
c_cond
(paren
id|current-&gt;tty
op_eq
id|tty
op_logical_or
id|capable
c_func
(paren
id|CAP_SYS_TTY_CONFIG
)paren
)paren
r_return
l_int|1
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|struct|consolefontdesc32
r_struct
id|consolefontdesc32
(brace
DECL|member|charcount
r_int
r_int
id|charcount
suffix:semicolon
multiline_comment|/* characters in font (256 or 512) */
DECL|member|charheight
r_int
r_int
id|charheight
suffix:semicolon
multiline_comment|/* scan lines per character (1-32) */
DECL|member|chardata
id|u32
id|chardata
suffix:semicolon
multiline_comment|/* font data in expanded form */
)brace
suffix:semicolon
DECL|function|do_fontx_ioctl
r_static
r_int
id|do_fontx_ioctl
c_func
(paren
r_int
r_int
id|fd
comma
r_int
id|cmd
comma
r_struct
id|consolefontdesc32
op_star
id|user_cfd
comma
r_struct
id|file
op_star
id|file
)paren
(brace
r_struct
id|consolefontdesc
id|cfdarg
suffix:semicolon
r_struct
id|console_font_op
id|op
suffix:semicolon
r_int
id|i
comma
id|perm
suffix:semicolon
id|perm
op_assign
id|vt_check
c_func
(paren
id|file
)paren
suffix:semicolon
r_if
c_cond
(paren
id|perm
OL
l_int|0
)paren
r_return
id|perm
suffix:semicolon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
op_amp
id|cfdarg
comma
id|user_cfd
comma
r_sizeof
(paren
r_struct
id|consolefontdesc32
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|cfdarg.chardata
op_assign
(paren
r_int
r_char
op_star
)paren
id|A
c_func
(paren
(paren
(paren
r_struct
id|consolefontdesc32
op_star
)paren
op_amp
id|cfdarg
)paren
op_member_access_from_pointer
id|chardata
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|PIO_FONTX
suffix:colon
r_if
c_cond
(paren
op_logical_neg
id|perm
)paren
r_return
op_minus
id|EPERM
suffix:semicolon
id|op.op
op_assign
id|KD_FONT_OP_SET
suffix:semicolon
id|op.flags
op_assign
l_int|0
suffix:semicolon
id|op.width
op_assign
l_int|8
suffix:semicolon
id|op.height
op_assign
id|cfdarg.charheight
suffix:semicolon
id|op.charcount
op_assign
id|cfdarg.charcount
suffix:semicolon
id|op.data
op_assign
id|cfdarg.chardata
suffix:semicolon
r_return
id|con_font_op
c_func
(paren
id|fg_console
comma
op_amp
id|op
)paren
suffix:semicolon
r_case
id|GIO_FONTX
suffix:colon
r_if
c_cond
(paren
op_logical_neg
id|cfdarg.chardata
)paren
r_return
l_int|0
suffix:semicolon
id|op.op
op_assign
id|KD_FONT_OP_GET
suffix:semicolon
id|op.flags
op_assign
l_int|0
suffix:semicolon
id|op.width
op_assign
l_int|8
suffix:semicolon
id|op.height
op_assign
id|cfdarg.charheight
suffix:semicolon
id|op.charcount
op_assign
id|cfdarg.charcount
suffix:semicolon
id|op.data
op_assign
id|cfdarg.chardata
suffix:semicolon
id|i
op_assign
id|con_font_op
c_func
(paren
id|fg_console
comma
op_amp
id|op
)paren
suffix:semicolon
r_if
c_cond
(paren
id|i
)paren
r_return
id|i
suffix:semicolon
id|cfdarg.charheight
op_assign
id|op.height
suffix:semicolon
id|cfdarg.charcount
op_assign
id|op.charcount
suffix:semicolon
(paren
(paren
r_struct
id|consolefontdesc32
op_star
)paren
op_amp
id|cfdarg
)paren
op_member_access_from_pointer
id|chardata
op_assign
(paren
r_int
r_int
)paren
id|cfdarg.chardata
suffix:semicolon
r_if
c_cond
(paren
id|copy_to_user
c_func
(paren
id|user_cfd
comma
op_amp
id|cfdarg
comma
r_sizeof
(paren
r_struct
id|consolefontdesc32
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
r_return
op_minus
id|EINVAL
suffix:semicolon
)brace
DECL|struct|console_font_op32
r_struct
id|console_font_op32
(brace
DECL|member|op
r_int
r_int
id|op
suffix:semicolon
multiline_comment|/* operation code KD_FONT_OP_* */
DECL|member|flags
r_int
r_int
id|flags
suffix:semicolon
multiline_comment|/* KD_FONT_FLAG_* */
DECL|member|width
DECL|member|height
r_int
r_int
id|width
comma
id|height
suffix:semicolon
multiline_comment|/* font size */
DECL|member|charcount
r_int
r_int
id|charcount
suffix:semicolon
DECL|member|data
id|u32
id|data
suffix:semicolon
multiline_comment|/* font data with height fixed to 32 */
)brace
suffix:semicolon
DECL|function|do_kdfontop_ioctl
r_static
r_int
id|do_kdfontop_ioctl
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_struct
id|console_font_op32
op_star
id|fontop
comma
r_struct
id|file
op_star
id|file
)paren
(brace
r_struct
id|console_font_op
id|op
suffix:semicolon
r_int
id|perm
op_assign
id|vt_check
c_func
(paren
id|file
)paren
comma
id|i
suffix:semicolon
r_struct
id|vt_struct
op_star
id|vt
suffix:semicolon
r_if
c_cond
(paren
id|perm
OL
l_int|0
)paren
r_return
id|perm
suffix:semicolon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
op_amp
id|op
comma
(paren
r_void
op_star
)paren
id|fontop
comma
r_sizeof
(paren
r_struct
id|console_font_op32
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|perm
op_logical_and
id|op.op
op_ne
id|KD_FONT_OP_GET
)paren
r_return
op_minus
id|EPERM
suffix:semicolon
id|op.data
op_assign
(paren
r_int
r_char
op_star
)paren
id|A
c_func
(paren
(paren
(paren
r_struct
id|console_font_op32
op_star
)paren
op_amp
id|op
)paren
op_member_access_from_pointer
id|data
)paren
suffix:semicolon
id|op.flags
op_or_assign
id|KD_FONT_FLAG_OLD
suffix:semicolon
id|vt
op_assign
(paren
r_struct
id|vt_struct
op_star
)paren
(paren
(paren
r_struct
id|tty_struct
op_star
)paren
id|file-&gt;private_data
)paren
op_member_access_from_pointer
id|driver_data
suffix:semicolon
id|i
op_assign
id|con_font_op
c_func
(paren
id|vt-&gt;vc_num
comma
op_amp
id|op
)paren
suffix:semicolon
r_if
c_cond
(paren
id|i
)paren
r_return
id|i
suffix:semicolon
(paren
(paren
r_struct
id|console_font_op32
op_star
)paren
op_amp
id|op
)paren
op_member_access_from_pointer
id|data
op_assign
(paren
r_int
r_int
)paren
id|op.data
suffix:semicolon
r_if
c_cond
(paren
id|copy_to_user
c_func
(paren
(paren
r_void
op_star
)paren
id|fontop
comma
op_amp
id|op
comma
r_sizeof
(paren
r_struct
id|console_font_op32
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
macro_line|#endif
DECL|typedef|ioctl32_handler_t
r_typedef
r_int
(paren
op_star
id|ioctl32_handler_t
)paren
(paren
r_int
r_int
comma
r_int
r_int
comma
r_int
r_int
comma
r_struct
id|file
op_star
)paren
suffix:semicolon
DECL|macro|COMPATIBLE_IOCTL
mdefine_line|#define COMPATIBLE_IOCTL(cmd)&t;&t;HANDLE_IOCTL((cmd),sys_ioctl)
DECL|macro|HANDLE_IOCTL
mdefine_line|#define HANDLE_IOCTL(cmd,handler)&t;{ (cmd), (ioctl32_handler_t)(handler), NULL },
DECL|macro|IOCTL_TABLE_START
mdefine_line|#define IOCTL_TABLE_START &bslash;&n;&t;struct ioctl_trans ioctl_start[] = {
DECL|macro|IOCTL_TABLE_END
mdefine_line|#define IOCTL_TABLE_END &bslash;&n;&t;};
id|IOCTL_TABLE_START
macro_line|#include &lt;linux/compat_ioctl.h&gt;
id|COMPATIBLE_IOCTL
c_func
(paren
id|TCGETA
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TCSETA
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TCSETAW
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TCSETAF
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TCSBRK
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TCSBRKP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TCXONC
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TCFLSH
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TCGETS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TCSETS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TCSETSW
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TCSETSF
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCLINUX
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCGETD
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCSETD
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCEXCL
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCNXCL
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCCONS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCGSOFTCAR
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCSSOFTCAR
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCSWINSZ
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCGWINSZ
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCMGET
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCMBIC
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCMBIS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCMSET
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCPKT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCNOTTY
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCSTI
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCOUTQ
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCSPGRP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCGPGRP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCSCTTY
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCGPTN
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCSPTLCK
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCGSERIAL
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCSSERIAL
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCSERGETLSR
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FIOCLEX
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FIONCLEX
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FIOASYNC
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FIONBIO
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FIONREAD
)paren
macro_line|#ifdef CONFIG_FB
multiline_comment|/* Big F */
id|COMPATIBLE_IOCTL
c_func
(paren
id|FBIOGET_VSCREENINFO
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FBIOPUT_VSCREENINFO
)paren
id|HANDLE_IOCTL
c_func
(paren
id|FBIOGET_FSCREENINFO
comma
id|do_fbioget_fscreeninfo_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|FBIOGETCMAP
comma
id|do_fbiocmap_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|FBIOPUTCMAP
comma
id|do_fbiocmap_ioctl
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FBIOPAN_DISPLAY
)paren
macro_line|#endif /* CONFIG_FB */
macro_line|#ifdef CONFIG_VT
multiline_comment|/* Big K */
id|COMPATIBLE_IOCTL
c_func
(paren
id|PIO_FONT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|GIO_FONT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDSIGACCEPT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDGETKEYCODE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDSETKEYCODE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KIOCSOUND
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDMKTONE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDGKBTYPE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDSETMODE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDGETMODE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDSKBMODE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDGKBMODE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDSKBMETA
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDGKBMETA
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDGKBENT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDSKBENT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDGKBSENT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDSKBSENT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDGKBDIACR
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDSKBDIACR
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDKBDREP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDGKBLED
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDSKBLED
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDGETLED
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDSETLED
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|GIO_SCRNMAP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PIO_SCRNMAP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|GIO_UNISCRNMAP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PIO_UNISCRNMAP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PIO_FONTRESET
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PIO_UNIMAPCLR
)paren
id|HANDLE_IOCTL
c_func
(paren
id|PIO_FONTX
comma
id|do_fontx_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|KDFONTOP
comma
id|do_kdfontop_ioctl
)paren
multiline_comment|/* Big V */
id|COMPATIBLE_IOCTL
c_func
(paren
id|VT_SETMODE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VT_GETMODE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VT_GETSTATE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VT_OPENQRY
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VT_ACTIVATE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VT_WAITACTIVE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VT_RELDISP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VT_DISALLOCATE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VT_RESIZE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VT_RESIZEX
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VT_LOCKSWITCH
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VT_UNLOCKSWITCH
)paren
macro_line|#endif
multiline_comment|/* Big S */
id|COMPATIBLE_IOCTL
c_func
(paren
id|SCSI_IOCTL_GET_IDLUN
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SCSI_IOCTL_DOORLOCK
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SCSI_IOCTL_DOORUNLOCK
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SCSI_IOCTL_TEST_UNIT_READY
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SCSI_IOCTL_GET_BUS_NUMBER
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SCSI_IOCTL_SEND_COMMAND
)paren
multiline_comment|/* Socket level stuff */
id|COMPATIBLE_IOCTL
c_func
(paren
id|FIOSETOWN
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SIOCSPGRP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FIOGETOWN
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SIOCGPGRP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SIOCATMARK
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SIOCSIFLINK
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SIOCSIFENCAP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SIOCGIFENCAP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SIOCSIFBR
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SIOCGIFBR
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SIOCSARP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SIOCGARP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SIOCDARP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SIOCSRARP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SIOCGRARP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SIOCDRARP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SIOCADDDLCI
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SIOCDELDLCI
)paren
multiline_comment|/* SG stuff */
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_SET_TIMEOUT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_GET_TIMEOUT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_EMULATED_HOST
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_SET_TRANSFORM
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_GET_TRANSFORM
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_SET_RESERVED_SIZE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_GET_RESERVED_SIZE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_GET_SCSI_ID
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_SET_FORCE_LOW_DMA
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_GET_LOW_DMA
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_SET_FORCE_PACK_ID
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_GET_PACK_ID
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_GET_NUM_WAITING
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_SET_DEBUG
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_GET_SG_TABLESIZE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_GET_COMMAND_Q
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_SET_COMMAND_Q
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_GET_VERSION_NUM
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_NEXT_CMD_LEN
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_SCSI_RESET
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_IO
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_GET_REQUEST_TABLE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_SET_KEEP_ORPHAN
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_GET_KEEP_ORPHAN
)paren
multiline_comment|/* PPP stuff */
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCGFLAGS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCSFLAGS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCGASYNCMAP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCSASYNCMAP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCGUNIT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCGRASYNCMAP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCSRASYNCMAP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCGMRU
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCSMRU
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCSMAXCID
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCGXASYNCMAP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCSXASYNCMAP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCXFERUNIT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCGNPMODE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCSNPMODE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCGDEBUG
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCSDEBUG
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCNEWUNIT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCATTACH
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCGCHAN
)paren
multiline_comment|/* PPPOX */
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPOEIOCSFWD
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPOEIOCDFWD
)paren
multiline_comment|/* CDROM stuff */
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROMPAUSE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROMRESUME
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROMPLAYMSF
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROMPLAYTRKIND
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROMREADTOCHDR
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROMREADTOCENTRY
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROMSTOP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROMSTART
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROMEJECT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROMVOLCTRL
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROMSUBCHNL
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROMEJECT_SW
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROMMULTISESSION
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROM_GET_MCN
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROMRESET
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROMVOLREAD
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROMSEEK
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROMPLAYBLK
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROMCLOSETRAY
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROM_SET_OPTIONS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROM_CLEAR_OPTIONS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROM_SELECT_SPEED
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROM_SELECT_DISC
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROM_MEDIA_CHANGED
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROM_DRIVE_STATUS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROM_DISC_STATUS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROM_CHANGER_NSLOTS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROM_LOCKDOOR
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROM_DEBUG
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROM_GET_CAPABILITY
)paren
multiline_comment|/* DVD ioctls */
id|COMPATIBLE_IOCTL
c_func
(paren
id|DVD_READ_STRUCT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|DVD_WRITE_STRUCT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|DVD_AUTH
)paren
multiline_comment|/* Big L */
id|COMPATIBLE_IOCTL
c_func
(paren
id|LOOP_SET_FD
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|LOOP_CLR_FD
)paren
macro_line|#ifdef CONFIG_NET
multiline_comment|/* And these ioctls need translation */
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFNAME
comma
id|dev_ifname32
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFCONF
comma
id|dev_ifconf
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFFLAGS
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIFFLAGS
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFMETRIC
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIFMETRIC
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFMTU
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIFMTU
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFMEM
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIFMEM
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFHWADDR
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIFHWADDR
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCADDMULTI
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCDELMULTI
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFINDEX
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFMAP
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIFMAP
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFADDR
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIFADDR
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFBRDADDR
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIFBRDADDR
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFDSTADDR
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIFDSTADDR
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFNETMASK
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIFNETMASK
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIFPFLAGS
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFPFLAGS
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGPPPSTATS
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGPPPCSTATS
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGPPPVER
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFTXQLEN
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIFTXQLEN
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCADDRT
comma
id|routing_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCDELRT
comma
id|routing_ioctl
)paren
multiline_comment|/*&n; * Note SIOCRTMSG is no longer, so this is safe and * the user would&n; * have seen just an -EINVAL anyways.&n; */
id|HANDLE_IOCTL
c_func
(paren
id|SIOCRTMSG
comma
id|ret_einval
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGSTAMP
comma
id|do_siocgstamp
)paren
macro_line|#endif /* CONFIG_NET */
id|HANDLE_IOCTL
c_func
(paren
id|EXT2_IOC32_GETFLAGS
comma
id|do_ext2_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|EXT2_IOC32_SETFLAGS
comma
id|do_ext2_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|EXT2_IOC32_GETVERSION
comma
id|do_ext2_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|EXT2_IOC32_SETVERSION
comma
id|do_ext2_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|HDIO_GETGEO
comma
id|hdio_getgeo
)paren
multiline_comment|/* hdreg.h ioctls  */
id|HANDLE_IOCTL
c_func
(paren
id|HDIO_GET_UNMASKINTR
comma
id|hdio_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|HDIO_GET_MULTCOUNT
comma
id|hdio_ioctl_trans
)paren
singleline_comment|// HDIO_OBSOLETE_IDENTITY
singleline_comment|//HANDLE_IOCTL(HDIO_GET_KEEPSETTINGS, hdio_ioctl_trans)
id|HANDLE_IOCTL
c_func
(paren
id|HDIO_GET_32BIT
comma
id|hdio_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|HDIO_GET_NOWERR
comma
id|hdio_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|HDIO_GET_DMA
comma
id|hdio_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|HDIO_GET_NICE
comma
id|hdio_ioctl_trans
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|HDIO_GET_IDENTITY
)paren
singleline_comment|// HDIO_TRISTATE_HWIF&t;&t;&t;&t;/* not implemented */
singleline_comment|// HDIO_DRIVE_TASK&t;&t;&t;&t;/* To do, need specs */
id|COMPATIBLE_IOCTL
c_func
(paren
id|HDIO_DRIVE_CMD
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|HDIO_SET_MULTCOUNT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|HDIO_SET_UNMASKINTR
)paren
singleline_comment|//COMPATIBLE_IOCTL(HDIO_SET_KEEPSETTINGS)
id|COMPATIBLE_IOCTL
c_func
(paren
id|HDIO_SET_32BIT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|HDIO_SET_NOWERR
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|HDIO_SET_DMA
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|HDIO_SET_PIO_MODE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|HDIO_SET_NICE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|BLKROSET
)paren
multiline_comment|/* fs.h ioctls  */
id|COMPATIBLE_IOCTL
c_func
(paren
id|BLKROGET
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|BLKRRPART
)paren
id|HANDLE_IOCTL
c_func
(paren
id|BLKGETSIZE
comma
id|w_long
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|BLKFLSBUF
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|BLKSECTSET
)paren
id|HANDLE_IOCTL
c_func
(paren
id|BLKSECTGET
comma
id|w_long
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|BLKSSZGET
)paren
id|HANDLE_IOCTL
c_func
(paren
id|BLKPG
comma
id|blkpg_ioctl_trans
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|BLKBSZGET
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|BLKBSZSET
)paren
macro_line|#ifdef CONFIG_MD
multiline_comment|/* status */
id|COMPATIBLE_IOCTL
c_func
(paren
id|RAID_VERSION
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|GET_ARRAY_INFO
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|GET_DISK_INFO
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PRINT_RAID_DEBUG
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|RAID_AUTORUN
)paren
multiline_comment|/* configuration */
id|COMPATIBLE_IOCTL
c_func
(paren
id|CLEAR_ARRAY
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|ADD_NEW_DISK
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|HOT_REMOVE_DISK
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SET_ARRAY_INFO
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SET_DISK_INFO
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|WRITE_RAID_INFO
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|UNPROTECT_ARRAY
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PROTECT_ARRAY
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|HOT_ADD_DISK
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SET_DISK_FAULTY
)paren
multiline_comment|/* usage */
id|COMPATIBLE_IOCTL
c_func
(paren
id|RUN_ARRAY
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|START_ARRAY
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|STOP_ARRAY
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|STOP_ARRAY_RO
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|RESTART_ARRAY_RW
)paren
macro_line|#endif /* CONFIG_MD */
macro_line|#ifdef CONFIG_SIBYTE_TBPROF
id|COMPATIBLE_IOCTL
c_func
(paren
id|SBPROF_ZBSTART
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SBPROF_ZBSTOP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SBPROF_ZBWAITFULL
)paren
macro_line|#endif /* CONFIG_SIBYTE_TBPROF */
id|COMPATIBLE_IOCTL
c_func
(paren
id|MTIOCTOP
)paren
multiline_comment|/* mtio.h ioctls  */
id|HANDLE_IOCTL
c_func
(paren
id|MTIOCGET32
comma
id|mt_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|MTIOCPOS32
comma
id|mt_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|MTIOCGETCONFIG32
comma
id|mt_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|MTIOCSETCONFIG32
comma
id|mt_ioctl_trans
)paren
singleline_comment|// MTIOCRDFTSEG
singleline_comment|// MTIOCWRFTSEG
singleline_comment|// MTIOCVOLINFO
singleline_comment|// MTIOCGETSIZE
singleline_comment|// MTIOCFTFORMAT
singleline_comment|// MTIOCFTCMD
id|COMPATIBLE_IOCTL
c_func
(paren
id|AUTOFS_IOC_READY
)paren
multiline_comment|/* auto_fs.h ioctls */
id|COMPATIBLE_IOCTL
c_func
(paren
id|AUTOFS_IOC_FAIL
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|AUTOFS_IOC_CATATONIC
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|AUTOFS_IOC_PROTOVER
)paren
id|HANDLE_IOCTL
c_func
(paren
id|AUTOFS_IOC_SETTIMEOUT32
comma
id|ioc_settimeout
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|AUTOFS_IOC_EXPIRE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|AUTOFS_IOC_EXPIRE_MULTI
)paren
multiline_comment|/* Little p (/dev/rtc, /dev/envctrl, etc.) */
id|COMPATIBLE_IOCTL
c_func
(paren
id|_IOR
c_func
(paren
l_char|&squot;p&squot;
comma
l_int|20
comma
r_int
(braket
l_int|7
)braket
)paren
)paren
multiline_comment|/* RTCGET */
id|COMPATIBLE_IOCTL
c_func
(paren
id|_IOW
c_func
(paren
l_char|&squot;p&squot;
comma
l_int|21
comma
r_int
(braket
l_int|7
)braket
)paren
)paren
multiline_comment|/* RTCSET */
id|COMPATIBLE_IOCTL
c_func
(paren
id|RTC_AIE_ON
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|RTC_AIE_OFF
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|RTC_UIE_ON
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|RTC_UIE_OFF
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|RTC_PIE_ON
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|RTC_PIE_OFF
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|RTC_WIE_ON
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|RTC_WIE_OFF
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|RTC_ALM_SET
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|RTC_ALM_READ
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|RTC_RD_TIME
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|RTC_SET_TIME
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|RTC_WKALM_SET
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|RTC_WKALM_RD
)paren
id|IOCTL_TABLE_END
r_int
id|ioctl_table_size
op_assign
id|ARRAY_SIZE
c_func
(paren
id|ioctl_start
)paren
suffix:semicolon
DECL|macro|NR_IOCTL_TRANS
mdefine_line|#define NR_IOCTL_TRANS&t;&t;(sizeof(ioctl_translations) /&t;&bslash;&n;&t;&t;&t;&t; sizeof(ioctl_translations[0]))
eof
