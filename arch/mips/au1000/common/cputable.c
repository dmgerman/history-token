multiline_comment|/*&n; *  arch/mips/au1000/common/cputable.c&n; *&n; *  Copyright (C) 2004 Dan Malek (dan@embeddededge.com)&n; *&t;Copied from PowerPC and updated for Alchemy Au1xxx processors.&n; *&n; *  Copyright (C) 2001 Ben. Herrenschmidt (benh@kernel.crashing.org)&n; *&n; *  This program is free software; you can redistribute it and/or&n; *  modify it under the terms of the GNU General Public License&n; *  as published by the Free Software Foundation; either version&n; *  2 of the License, or (at your option) any later version.&n; */
macro_line|#include &lt;linux/string.h&gt;
macro_line|#include &lt;linux/sched.h&gt;
macro_line|#include &lt;linux/threads.h&gt;
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;asm/mach-au1x00/au1000.h&gt;
DECL|variable|cur_cpu_spec
r_struct
id|cpu_spec
op_star
id|cur_cpu_spec
(braket
id|NR_CPUS
)braket
suffix:semicolon
multiline_comment|/* With some thought, we can probably use the mask to reduce the&n; * size of the table.&n; */
DECL|variable|cpu_specs
r_struct
id|cpu_spec
id|cpu_specs
(braket
)braket
op_assign
(brace
(brace
l_int|0xffffffff
comma
l_int|0x00030100
comma
l_string|&quot;Au1000 DA&quot;
comma
l_int|1
comma
l_int|0
)brace
comma
(brace
l_int|0xffffffff
comma
l_int|0x00030201
comma
l_string|&quot;Au1000 HA&quot;
comma
l_int|1
comma
l_int|0
)brace
comma
(brace
l_int|0xffffffff
comma
l_int|0x00030202
comma
l_string|&quot;Au1000 HB&quot;
comma
l_int|1
comma
l_int|0
)brace
comma
(brace
l_int|0xffffffff
comma
l_int|0x00030203
comma
l_string|&quot;Au1000 HC&quot;
comma
l_int|1
comma
l_int|1
)brace
comma
(brace
l_int|0xffffffff
comma
l_int|0x00030204
comma
l_string|&quot;Au1000 HD&quot;
comma
l_int|1
comma
l_int|1
)brace
comma
(brace
l_int|0xffffffff
comma
l_int|0x01030200
comma
l_string|&quot;Au1500 AB&quot;
comma
l_int|1
comma
l_int|1
)brace
comma
(brace
l_int|0xffffffff
comma
l_int|0x01030201
comma
l_string|&quot;Au1500 AC&quot;
comma
l_int|0
comma
l_int|1
)brace
comma
(brace
l_int|0xffffffff
comma
l_int|0x01030202
comma
l_string|&quot;Au1500 AD&quot;
comma
l_int|0
comma
l_int|1
)brace
comma
(brace
l_int|0xffffffff
comma
l_int|0x02030200
comma
l_string|&quot;Au1100 AB&quot;
comma
l_int|1
comma
l_int|1
)brace
comma
(brace
l_int|0xffffffff
comma
l_int|0x02030201
comma
l_string|&quot;Au1100 BA&quot;
comma
l_int|1
comma
l_int|1
)brace
comma
(brace
l_int|0xffffffff
comma
l_int|0x02030202
comma
l_string|&quot;Au1100 BC&quot;
comma
l_int|1
comma
l_int|1
)brace
comma
(brace
l_int|0xffffffff
comma
l_int|0x02030203
comma
l_string|&quot;Au1100 BD&quot;
comma
l_int|0
comma
l_int|1
)brace
comma
(brace
l_int|0xffffffff
comma
l_int|0x02030204
comma
l_string|&quot;Au1100 BE&quot;
comma
l_int|0
comma
l_int|1
)brace
comma
(brace
l_int|0xffffffff
comma
l_int|0x03030200
comma
l_string|&quot;Au1550 AA&quot;
comma
l_int|0
comma
l_int|1
)brace
comma
(brace
l_int|0xffffffff
comma
l_int|0x04030200
comma
l_string|&quot;Au1200 AA&quot;
comma
l_int|0
comma
l_int|1
)brace
comma
(brace
l_int|0x00000000
comma
l_int|0x00000000
comma
l_string|&quot;Unknown Au1xxx&quot;
comma
l_int|1
comma
l_int|0
)brace
comma
)brace
suffix:semicolon
r_void
DECL|function|set_cpuspec
id|set_cpuspec
c_func
(paren
r_void
)paren
(brace
r_struct
id|cpu_spec
op_star
id|sp
suffix:semicolon
id|u32
id|prid
suffix:semicolon
id|prid
op_assign
id|read_c0_prid
c_func
(paren
)paren
suffix:semicolon
id|sp
op_assign
id|cpu_specs
suffix:semicolon
r_while
c_loop
(paren
(paren
id|prid
op_amp
id|sp-&gt;prid_mask
)paren
op_ne
id|sp-&gt;prid_value
)paren
id|sp
op_increment
suffix:semicolon
id|cur_cpu_spec
(braket
l_int|0
)braket
op_assign
id|sp
suffix:semicolon
)brace
eof
