multiline_comment|/*&n; * Platform device support for Au1x00 SoCs.&n; *&n; * Copyright 2004, Matt Porter &lt;mporter@kernel.crashing.org&gt;&n; *&n; * This file is licensed under the terms of the GNU General Public&n; * License version 2.  This program is licensed &quot;as is&quot; without any&n; * warranty of any kind, whether express or implied.&n; */
macro_line|#include &lt;linux/device.h&gt;
macro_line|#include &lt;linux/kernel.h&gt;
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;linux/resource.h&gt;
macro_line|#include &lt;asm/mach-au1x00/au1000.h&gt;
DECL|variable|au1xxx_usb_ohci_resources
r_static
r_struct
id|resource
id|au1xxx_usb_ohci_resources
(braket
)braket
op_assign
(brace
(braket
l_int|0
)braket
op_assign
(brace
dot
id|start
op_assign
id|USB_OHCI_BASE
comma
dot
id|end
op_assign
id|USB_OHCI_BASE
op_plus
id|USB_OHCI_LEN
comma
dot
id|flags
op_assign
id|IORESOURCE_MEM
comma
)brace
comma
(braket
l_int|1
)braket
op_assign
(brace
dot
id|start
op_assign
id|AU1000_USB_HOST_INT
comma
dot
id|end
op_assign
id|AU1000_USB_HOST_INT
comma
dot
id|flags
op_assign
id|IORESOURCE_IRQ
comma
)brace
comma
)brace
suffix:semicolon
multiline_comment|/* The dmamask must be set for OHCI to work */
DECL|variable|ohci_dmamask
r_static
id|u64
id|ohci_dmamask
op_assign
op_complement
(paren
id|u32
)paren
l_int|0
suffix:semicolon
DECL|variable|au1xxx_usb_ohci_device
r_static
r_struct
id|platform_device
id|au1xxx_usb_ohci_device
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;au1xxx-ohci&quot;
comma
dot
id|id
op_assign
l_int|0
comma
dot
id|dev
op_assign
(brace
dot
id|dma_mask
op_assign
op_amp
id|ohci_dmamask
comma
dot
id|coherent_dma_mask
op_assign
l_int|0xffffffff
comma
)brace
comma
dot
id|num_resources
op_assign
id|ARRAY_SIZE
c_func
(paren
id|au1xxx_usb_ohci_resources
)paren
comma
dot
id|resource
op_assign
id|au1xxx_usb_ohci_resources
comma
)brace
suffix:semicolon
DECL|variable|__initdata
r_static
r_struct
id|platform_device
op_star
id|au1xxx_platform_devices
(braket
)braket
id|__initdata
op_assign
(brace
op_amp
id|au1xxx_usb_ohci_device
comma
)brace
suffix:semicolon
DECL|function|au1xxx_platform_init
r_int
id|au1xxx_platform_init
c_func
(paren
r_void
)paren
(brace
r_return
id|platform_add_devices
c_func
(paren
id|au1xxx_platform_devices
comma
id|ARRAY_SIZE
c_func
(paren
id|au1xxx_platform_devices
)paren
)paren
suffix:semicolon
)brace
DECL|variable|au1xxx_platform_init
id|arch_initcall
c_func
(paren
id|au1xxx_platform_init
)paren
suffix:semicolon
eof
