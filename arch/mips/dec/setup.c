multiline_comment|/*&n; * Setup the interrupt stuff.&n; *&n; * This file is subject to the terms and conditions of the GNU General Public&n; * License.  See the file &quot;COPYING&quot; in the main directory of this archive&n; * for more details.&n; *&n; * Copyright (C) 1998 Harald Koerfgen&n; * Copyright (C) 2000, 2001, 2002, 2003  Maciej W. Rozycki&n; */
macro_line|#include &lt;linux/config.h&gt;
macro_line|#include &lt;linux/sched.h&gt;
macro_line|#include &lt;linux/interrupt.h&gt;
macro_line|#include &lt;linux/param.h&gt;
macro_line|#include &lt;linux/console.h&gt;
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;linux/module.h&gt;
macro_line|#include &lt;linux/spinlock.h&gt;
macro_line|#include &lt;linux/types.h&gt;
macro_line|#include &lt;asm/bootinfo.h&gt;
macro_line|#include &lt;asm/cpu.h&gt;
macro_line|#include &lt;asm/cpu-features.h&gt;
macro_line|#include &lt;asm/irq.h&gt;
macro_line|#include &lt;asm/irq_cpu.h&gt;
macro_line|#include &lt;asm/mipsregs.h&gt;
macro_line|#include &lt;asm/reboot.h&gt;
macro_line|#include &lt;asm/time.h&gt;
macro_line|#include &lt;asm/traps.h&gt;
macro_line|#include &lt;asm/wbflush.h&gt;
macro_line|#include &lt;asm/dec/interrupts.h&gt;
macro_line|#include &lt;asm/dec/ioasic.h&gt;
macro_line|#include &lt;asm/dec/ioasic_addrs.h&gt;
macro_line|#include &lt;asm/dec/ioasic_ints.h&gt;
macro_line|#include &lt;asm/dec/kn01.h&gt;
macro_line|#include &lt;asm/dec/kn02.h&gt;
macro_line|#include &lt;asm/dec/kn02ba.h&gt;
macro_line|#include &lt;asm/dec/kn02ca.h&gt;
macro_line|#include &lt;asm/dec/kn03.h&gt;
macro_line|#include &lt;asm/dec/kn230.h&gt;
r_extern
r_void
id|dec_machine_restart
c_func
(paren
r_char
op_star
id|command
)paren
suffix:semicolon
r_extern
r_void
id|dec_machine_halt
c_func
(paren
r_void
)paren
suffix:semicolon
r_extern
r_void
id|dec_machine_power_off
c_func
(paren
r_void
)paren
suffix:semicolon
r_extern
id|irqreturn_t
id|dec_intr_halt
c_func
(paren
r_int
id|irq
comma
r_void
op_star
id|dev_id
comma
r_struct
id|pt_regs
op_star
id|regs
)paren
suffix:semicolon
r_extern
id|asmlinkage
r_void
id|decstation_handle_int
c_func
(paren
r_void
)paren
suffix:semicolon
DECL|variable|ioasic_ssr_lock
id|spinlock_t
id|ioasic_ssr_lock
suffix:semicolon
DECL|variable|ioasic_base
r_volatile
id|u32
op_star
id|ioasic_base
suffix:semicolon
DECL|variable|dec_kn_slot_size
r_int
r_int
id|dec_kn_slot_size
suffix:semicolon
multiline_comment|/*&n; * IRQ routing and priority tables.  Priorites are set as follows:&n; *&n; * &t;&t;KN01&t;KN230&t;KN02&t;KN02-BA&t;KN02-CA&t;KN03&n; *&n; * MEMORY&t;CPU&t;CPU&t;CPU&t;ASIC&t;CPU&t;CPU&n; * RTC&t;&t;CPU&t;CPU&t;CPU&t;ASIC&t;CPU&t;CPU&n; * DMA&t;&t;-&t;-&t;-&t;ASIC&t;ASIC&t;ASIC&n; * SERIAL0&t;CPU&t;CPU&t;CSR&t;ASIC&t;ASIC&t;ASIC&n; * SERIAL1&t;-&t;-&t;-&t;ASIC&t;-&t;ASIC&n; * SCSI&t;&t;CPU&t;CPU&t;CSR&t;ASIC&t;ASIC&t;ASIC&n; * ETHERNET&t;CPU&t;*&t;CSR&t;ASIC&t;ASIC&t;ASIC&n; * other&t;-&t;-&t;-&t;ASIC&t;-&t;-&n; * TC2&t;&t;-&t;-&t;CSR&t;CPU&t;ASIC&t;ASIC&n; * TC1&t;&t;-&t;-&t;CSR&t;CPU&t;ASIC&t;ASIC&n; * TC0&t;&t;-&t;-&t;CSR&t;CPU&t;ASIC&t;ASIC&n; * other&t;-&t;CPU&t;-&t;CPU&t;ASIC&t;ASIC&n; * other&t;-&t;-&t;-&t;-&t;CPU&t;CPU&n; *&n; * * -- shared with SCSI&n; */
DECL|variable|dec_interrupt
r_int
id|dec_interrupt
(braket
id|DEC_NR_INTS
)braket
op_assign
(brace
(braket
l_int|0
dot
dot
dot
id|DEC_NR_INTS
op_minus
l_int|1
)braket
op_assign
op_minus
l_int|1
)brace
suffix:semicolon
DECL|variable|cpu_mask_nr_tbl
id|int_ptr
id|cpu_mask_nr_tbl
(braket
id|DEC_MAX_CPU_INTS
)braket
(braket
l_int|2
)braket
op_assign
(brace
(brace
(brace
dot
id|i
op_assign
op_complement
l_int|0
)brace
comma
(brace
dot
id|p
op_assign
id|dec_intr_unimplemented
)brace
)brace
comma
)brace
suffix:semicolon
DECL|variable|asic_mask_nr_tbl
id|int_ptr
id|asic_mask_nr_tbl
(braket
id|DEC_MAX_ASIC_INTS
)braket
(braket
l_int|2
)braket
op_assign
(brace
(brace
(brace
dot
id|i
op_assign
op_complement
l_int|0
)brace
comma
(brace
dot
id|p
op_assign
id|asic_intr_unimplemented
)brace
)brace
comma
)brace
suffix:semicolon
DECL|variable|cpu_fpu_mask
r_int
id|cpu_fpu_mask
op_assign
id|DEC_CPU_IRQ_MASK
c_func
(paren
id|DEC_CPU_INR_FPU
)paren
suffix:semicolon
DECL|variable|ioirq
r_static
r_struct
id|irqaction
id|ioirq
op_assign
(brace
dot
id|handler
op_assign
id|no_action
comma
dot
id|name
op_assign
l_string|&quot;cascade&quot;
comma
)brace
suffix:semicolon
DECL|variable|fpuirq
r_static
r_struct
id|irqaction
id|fpuirq
op_assign
(brace
dot
id|handler
op_assign
id|no_action
comma
dot
id|name
op_assign
l_string|&quot;fpu&quot;
comma
)brace
suffix:semicolon
DECL|variable|busirq
r_static
r_struct
id|irqaction
id|busirq
op_assign
(brace
dot
id|flags
op_assign
id|SA_INTERRUPT
comma
dot
id|name
op_assign
l_string|&quot;bus error&quot;
comma
)brace
suffix:semicolon
DECL|variable|haltirq
r_static
r_struct
id|irqaction
id|haltirq
op_assign
(brace
dot
id|handler
op_assign
id|dec_intr_halt
comma
dot
id|name
op_assign
l_string|&quot;halt&quot;
comma
)brace
suffix:semicolon
multiline_comment|/*&n; * Bus error (DBE/IBE exceptions and bus interrupts) handling setup.&n; */
DECL|function|dec_be_init
r_void
id|__init
id|dec_be_init
c_func
(paren
r_void
)paren
(brace
r_switch
c_cond
(paren
id|mips_machtype
)paren
(brace
r_case
id|MACH_DS23100
suffix:colon
multiline_comment|/* DS2100/DS3100 Pmin/Pmax */
id|busirq.flags
op_or_assign
id|SA_SHIRQ
suffix:semicolon
r_break
suffix:semicolon
r_case
id|MACH_DS5000_200
suffix:colon
multiline_comment|/* DS5000/200 3max */
r_case
id|MACH_DS5000_2X0
suffix:colon
multiline_comment|/* DS5000/240 3max+ */
r_case
id|MACH_DS5900
suffix:colon
multiline_comment|/* DS5900 bigmax */
id|board_be_handler
op_assign
id|dec_ecc_be_handler
suffix:semicolon
id|busirq.handler
op_assign
id|dec_ecc_be_interrupt
suffix:semicolon
id|dec_ecc_be_init
c_func
(paren
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
)brace
r_extern
r_void
id|dec_time_init
c_func
(paren
r_void
)paren
suffix:semicolon
r_extern
r_void
id|dec_timer_setup
c_func
(paren
r_struct
id|irqaction
op_star
)paren
suffix:semicolon
DECL|function|decstation_setup
r_static
r_void
id|__init
id|decstation_setup
c_func
(paren
r_void
)paren
(brace
id|board_be_init
op_assign
id|dec_be_init
suffix:semicolon
id|board_time_init
op_assign
id|dec_time_init
suffix:semicolon
id|board_timer_setup
op_assign
id|dec_timer_setup
suffix:semicolon
id|wbflush_setup
c_func
(paren
)paren
suffix:semicolon
id|_machine_restart
op_assign
id|dec_machine_restart
suffix:semicolon
id|_machine_halt
op_assign
id|dec_machine_halt
suffix:semicolon
id|_machine_power_off
op_assign
id|dec_machine_power_off
suffix:semicolon
)brace
DECL|variable|decstation_setup
id|early_initcall
c_func
(paren
id|decstation_setup
)paren
suffix:semicolon
multiline_comment|/*&n; * Machine-specific initialisation for KN01, aka DS2100 (aka Pmin)&n; * or DS3100 (aka Pmax).&n; */
DECL|variable|__initdata
r_static
r_int
id|kn01_interrupt
(braket
id|DEC_NR_INTS
)braket
id|__initdata
op_assign
(brace
(braket
id|DEC_IRQ_CASCADE
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_AB_RECV
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_AB_XMIT
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_DZ11
)braket
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN01_CPU_INR_DZ11
)paren
comma
(braket
id|DEC_IRQ_ASC
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_FLOPPY
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_FPU
)braket
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|DEC_CPU_INR_FPU
)paren
comma
(braket
id|DEC_IRQ_HALT
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_ISDN
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_LANCE
)braket
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN01_CPU_INR_LANCE
)paren
comma
(braket
id|DEC_IRQ_BUS
)braket
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN01_CPU_INR_BUS
)paren
comma
(braket
id|DEC_IRQ_PSU
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_RTC
)braket
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN01_CPU_INR_RTC
)paren
comma
(braket
id|DEC_IRQ_SCC0
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_SCC1
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_SII
)braket
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN01_CPU_INR_SII
)paren
comma
(braket
id|DEC_IRQ_TC0
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_TC1
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_TC2
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_TIMER
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_VIDEO
)braket
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN01_CPU_INR_VIDEO
)paren
comma
(braket
id|DEC_IRQ_ASC_MERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_ASC_ERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_ASC_DMA
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_FLOPPY_ERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_ISDN_ERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_ISDN_RXDMA
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_ISDN_TXDMA
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_LANCE_MERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_SCC0A_RXERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_SCC0A_RXDMA
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_SCC0A_TXERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_SCC0A_TXDMA
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_AB_RXERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_AB_RXDMA
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_AB_TXERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_AB_TXDMA
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_SCC1A_RXERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_SCC1A_RXDMA
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_SCC1A_TXERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_SCC1A_TXDMA
)braket
op_assign
op_minus
l_int|1
comma
)brace
suffix:semicolon
DECL|variable|__initdata
r_static
id|int_ptr
id|kn01_cpu_mask_nr_tbl
(braket
)braket
(braket
l_int|2
)braket
id|__initdata
op_assign
(brace
(brace
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_MASK
c_func
(paren
id|KN01_CPU_INR_BUS
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN01_CPU_INR_BUS
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_MASK
c_func
(paren
id|KN01_CPU_INR_RTC
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN01_CPU_INR_RTC
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_MASK
c_func
(paren
id|KN01_CPU_INR_DZ11
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN01_CPU_INR_DZ11
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_MASK
c_func
(paren
id|KN01_CPU_INR_SII
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN01_CPU_INR_SII
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_MASK
c_func
(paren
id|KN01_CPU_INR_LANCE
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN01_CPU_INR_LANCE
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_ALL
)brace
comma
(brace
dot
id|p
op_assign
id|cpu_all_int
)brace
)brace
comma
)brace
suffix:semicolon
DECL|function|dec_init_kn01
r_void
id|__init
id|dec_init_kn01
c_func
(paren
r_void
)paren
(brace
multiline_comment|/* IRQ routing. */
id|memcpy
c_func
(paren
op_amp
id|dec_interrupt
comma
op_amp
id|kn01_interrupt
comma
r_sizeof
(paren
id|kn01_interrupt
)paren
)paren
suffix:semicolon
multiline_comment|/* CPU IRQ priorities. */
id|memcpy
c_func
(paren
op_amp
id|cpu_mask_nr_tbl
comma
op_amp
id|kn01_cpu_mask_nr_tbl
comma
r_sizeof
(paren
id|kn01_cpu_mask_nr_tbl
)paren
)paren
suffix:semicolon
id|mips_cpu_irq_init
c_func
(paren
id|DEC_CPU_IRQ_BASE
)paren
suffix:semicolon
)brace
multiline_comment|/* dec_init_kn01 */
multiline_comment|/*&n; * Machine-specific initialisation for KN230, aka DS5100, aka MIPSmate.&n; */
DECL|variable|__initdata
r_static
r_int
id|kn230_interrupt
(braket
id|DEC_NR_INTS
)braket
id|__initdata
op_assign
(brace
(braket
id|DEC_IRQ_CASCADE
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_AB_RECV
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_AB_XMIT
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_DZ11
)braket
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN230_CPU_INR_DZ11
)paren
comma
(braket
id|DEC_IRQ_ASC
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_FLOPPY
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_FPU
)braket
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|DEC_CPU_INR_FPU
)paren
comma
(braket
id|DEC_IRQ_HALT
)braket
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN230_CPU_INR_HALT
)paren
comma
(braket
id|DEC_IRQ_ISDN
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_LANCE
)braket
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN230_CPU_INR_LANCE
)paren
comma
(braket
id|DEC_IRQ_BUS
)braket
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN230_CPU_INR_BUS
)paren
comma
(braket
id|DEC_IRQ_PSU
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_RTC
)braket
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN230_CPU_INR_RTC
)paren
comma
(braket
id|DEC_IRQ_SCC0
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_SCC1
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_SII
)braket
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN230_CPU_INR_SII
)paren
comma
(braket
id|DEC_IRQ_TC0
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_TC1
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_TC2
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_TIMER
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_VIDEO
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_ASC_MERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_ASC_ERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_ASC_DMA
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_FLOPPY_ERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_ISDN_ERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_ISDN_RXDMA
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_ISDN_TXDMA
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_LANCE_MERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_SCC0A_RXERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_SCC0A_RXDMA
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_SCC0A_TXERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_SCC0A_TXDMA
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_AB_RXERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_AB_RXDMA
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_AB_TXERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_AB_TXDMA
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_SCC1A_RXERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_SCC1A_RXDMA
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_SCC1A_TXERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_SCC1A_TXDMA
)braket
op_assign
op_minus
l_int|1
comma
)brace
suffix:semicolon
DECL|variable|__initdata
r_static
id|int_ptr
id|kn230_cpu_mask_nr_tbl
(braket
)braket
(braket
l_int|2
)braket
id|__initdata
op_assign
(brace
(brace
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_MASK
c_func
(paren
id|KN230_CPU_INR_BUS
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN230_CPU_INR_BUS
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_MASK
c_func
(paren
id|KN230_CPU_INR_RTC
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN230_CPU_INR_RTC
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_MASK
c_func
(paren
id|KN230_CPU_INR_DZ11
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN230_CPU_INR_DZ11
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_MASK
c_func
(paren
id|KN230_CPU_INR_SII
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN230_CPU_INR_SII
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_ALL
)brace
comma
(brace
dot
id|p
op_assign
id|cpu_all_int
)brace
)brace
comma
)brace
suffix:semicolon
DECL|function|dec_init_kn230
r_void
id|__init
id|dec_init_kn230
c_func
(paren
r_void
)paren
(brace
multiline_comment|/* IRQ routing. */
id|memcpy
c_func
(paren
op_amp
id|dec_interrupt
comma
op_amp
id|kn230_interrupt
comma
r_sizeof
(paren
id|kn230_interrupt
)paren
)paren
suffix:semicolon
multiline_comment|/* CPU IRQ priorities. */
id|memcpy
c_func
(paren
op_amp
id|cpu_mask_nr_tbl
comma
op_amp
id|kn230_cpu_mask_nr_tbl
comma
r_sizeof
(paren
id|kn230_cpu_mask_nr_tbl
)paren
)paren
suffix:semicolon
id|mips_cpu_irq_init
c_func
(paren
id|DEC_CPU_IRQ_BASE
)paren
suffix:semicolon
)brace
multiline_comment|/* dec_init_kn230 */
multiline_comment|/*&n; * Machine-specific initialisation for KN02, aka DS5000/200, aka 3max.&n; */
DECL|variable|__initdata
r_static
r_int
id|kn02_interrupt
(braket
id|DEC_NR_INTS
)braket
id|__initdata
op_assign
(brace
(braket
id|DEC_IRQ_CASCADE
)braket
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN02_CPU_INR_CASCADE
)paren
comma
(braket
id|DEC_IRQ_AB_RECV
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_AB_XMIT
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_DZ11
)braket
op_assign
id|KN02_IRQ_NR
c_func
(paren
id|KN02_CSR_INR_DZ11
)paren
comma
(braket
id|DEC_IRQ_ASC
)braket
op_assign
id|KN02_IRQ_NR
c_func
(paren
id|KN02_CSR_INR_ASC
)paren
comma
(braket
id|DEC_IRQ_FLOPPY
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_FPU
)braket
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|DEC_CPU_INR_FPU
)paren
comma
(braket
id|DEC_IRQ_HALT
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_ISDN
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_LANCE
)braket
op_assign
id|KN02_IRQ_NR
c_func
(paren
id|KN02_CSR_INR_LANCE
)paren
comma
(braket
id|DEC_IRQ_BUS
)braket
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN02_CPU_INR_BUS
)paren
comma
(braket
id|DEC_IRQ_PSU
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_RTC
)braket
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN02_CPU_INR_RTC
)paren
comma
(braket
id|DEC_IRQ_SCC0
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_SCC1
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_SII
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_TC0
)braket
op_assign
id|KN02_IRQ_NR
c_func
(paren
id|KN02_CSR_INR_TC0
)paren
comma
(braket
id|DEC_IRQ_TC1
)braket
op_assign
id|KN02_IRQ_NR
c_func
(paren
id|KN02_CSR_INR_TC1
)paren
comma
(braket
id|DEC_IRQ_TC2
)braket
op_assign
id|KN02_IRQ_NR
c_func
(paren
id|KN02_CSR_INR_TC2
)paren
comma
(braket
id|DEC_IRQ_TIMER
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_VIDEO
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_ASC_MERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_ASC_ERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_ASC_DMA
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_FLOPPY_ERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_ISDN_ERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_ISDN_RXDMA
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_ISDN_TXDMA
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_LANCE_MERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_SCC0A_RXERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_SCC0A_RXDMA
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_SCC0A_TXERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_SCC0A_TXDMA
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_AB_RXERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_AB_RXDMA
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_AB_TXERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_AB_TXDMA
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_SCC1A_RXERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_SCC1A_RXDMA
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_SCC1A_TXERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_SCC1A_TXDMA
)braket
op_assign
op_minus
l_int|1
comma
)brace
suffix:semicolon
DECL|variable|__initdata
r_static
id|int_ptr
id|kn02_cpu_mask_nr_tbl
(braket
)braket
(braket
l_int|2
)braket
id|__initdata
op_assign
(brace
(brace
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_MASK
c_func
(paren
id|KN02_CPU_INR_BUS
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN02_CPU_INR_BUS
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_MASK
c_func
(paren
id|KN02_CPU_INR_RTC
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN02_CPU_INR_RTC
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_MASK
c_func
(paren
id|KN02_CPU_INR_CASCADE
)paren
)brace
comma
(brace
dot
id|p
op_assign
id|kn02_io_int
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_ALL
)brace
comma
(brace
dot
id|p
op_assign
id|cpu_all_int
)brace
)brace
comma
)brace
suffix:semicolon
DECL|variable|__initdata
r_static
id|int_ptr
id|kn02_asic_mask_nr_tbl
(braket
)braket
(braket
l_int|2
)braket
id|__initdata
op_assign
(brace
(brace
(brace
dot
id|i
op_assign
id|KN02_IRQ_MASK
c_func
(paren
id|KN02_CSR_INR_DZ11
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|KN02_IRQ_NR
c_func
(paren
id|KN02_CSR_INR_DZ11
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|KN02_IRQ_MASK
c_func
(paren
id|KN02_CSR_INR_ASC
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|KN02_IRQ_NR
c_func
(paren
id|KN02_CSR_INR_ASC
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|KN02_IRQ_MASK
c_func
(paren
id|KN02_CSR_INR_LANCE
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|KN02_IRQ_NR
c_func
(paren
id|KN02_CSR_INR_LANCE
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|KN02_IRQ_MASK
c_func
(paren
id|KN02_CSR_INR_TC2
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|KN02_IRQ_NR
c_func
(paren
id|KN02_CSR_INR_TC2
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|KN02_IRQ_MASK
c_func
(paren
id|KN02_CSR_INR_TC1
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|KN02_IRQ_NR
c_func
(paren
id|KN02_CSR_INR_TC1
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|KN02_IRQ_MASK
c_func
(paren
id|KN02_CSR_INR_TC0
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|KN02_IRQ_NR
c_func
(paren
id|KN02_CSR_INR_TC0
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|KN02_IRQ_ALL
)brace
comma
(brace
dot
id|p
op_assign
id|kn02_all_int
)brace
)brace
comma
)brace
suffix:semicolon
DECL|function|dec_init_kn02
r_void
id|__init
id|dec_init_kn02
c_func
(paren
r_void
)paren
(brace
multiline_comment|/* IRQ routing. */
id|memcpy
c_func
(paren
op_amp
id|dec_interrupt
comma
op_amp
id|kn02_interrupt
comma
r_sizeof
(paren
id|kn02_interrupt
)paren
)paren
suffix:semicolon
multiline_comment|/* CPU IRQ priorities. */
id|memcpy
c_func
(paren
op_amp
id|cpu_mask_nr_tbl
comma
op_amp
id|kn02_cpu_mask_nr_tbl
comma
r_sizeof
(paren
id|kn02_cpu_mask_nr_tbl
)paren
)paren
suffix:semicolon
multiline_comment|/* KN02 CSR IRQ priorities. */
id|memcpy
c_func
(paren
op_amp
id|asic_mask_nr_tbl
comma
op_amp
id|kn02_asic_mask_nr_tbl
comma
r_sizeof
(paren
id|kn02_asic_mask_nr_tbl
)paren
)paren
suffix:semicolon
id|mips_cpu_irq_init
c_func
(paren
id|DEC_CPU_IRQ_BASE
)paren
suffix:semicolon
id|init_kn02_irqs
c_func
(paren
id|KN02_IRQ_BASE
)paren
suffix:semicolon
)brace
multiline_comment|/* dec_init_kn02 */
multiline_comment|/*&n; * Machine-specific initialisation for KN02-BA, aka DS5000/1xx&n; * (xx = 20, 25, 33), aka 3min.  Also applies to KN04(-BA), aka&n; * DS5000/150, aka 4min.&n; */
DECL|variable|__initdata
r_static
r_int
id|kn02ba_interrupt
(braket
id|DEC_NR_INTS
)braket
id|__initdata
op_assign
(brace
(braket
id|DEC_IRQ_CASCADE
)braket
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN02BA_CPU_INR_CASCADE
)paren
comma
(braket
id|DEC_IRQ_AB_RECV
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_AB_XMIT
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_DZ11
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_ASC
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN02BA_IO_INR_ASC
)paren
comma
(braket
id|DEC_IRQ_FLOPPY
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_FPU
)braket
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|DEC_CPU_INR_FPU
)paren
comma
(braket
id|DEC_IRQ_HALT
)braket
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN02BA_CPU_INR_HALT
)paren
comma
(braket
id|DEC_IRQ_ISDN
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_LANCE
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN02BA_IO_INR_LANCE
)paren
comma
(braket
id|DEC_IRQ_BUS
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN02BA_IO_INR_BUS
)paren
comma
(braket
id|DEC_IRQ_PSU
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN02BA_IO_INR_PSU
)paren
comma
(braket
id|DEC_IRQ_RTC
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN02BA_IO_INR_RTC
)paren
comma
(braket
id|DEC_IRQ_SCC0
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN02BA_IO_INR_SCC0
)paren
comma
(braket
id|DEC_IRQ_SCC1
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN02BA_IO_INR_SCC1
)paren
comma
(braket
id|DEC_IRQ_SII
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_TC0
)braket
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN02BA_CPU_INR_TC0
)paren
comma
(braket
id|DEC_IRQ_TC1
)braket
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN02BA_CPU_INR_TC1
)paren
comma
(braket
id|DEC_IRQ_TC2
)braket
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN02BA_CPU_INR_TC2
)paren
comma
(braket
id|DEC_IRQ_TIMER
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_VIDEO
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_ASC_MERR
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_ASC_MERR
)paren
comma
(braket
id|DEC_IRQ_ASC_ERR
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_ASC_ERR
)paren
comma
(braket
id|DEC_IRQ_ASC_DMA
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_ASC_DMA
)paren
comma
(braket
id|DEC_IRQ_FLOPPY_ERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_ISDN_ERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_ISDN_RXDMA
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_ISDN_TXDMA
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_LANCE_MERR
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_LANCE_MERR
)paren
comma
(braket
id|DEC_IRQ_SCC0A_RXERR
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_SCC0A_RXERR
)paren
comma
(braket
id|DEC_IRQ_SCC0A_RXDMA
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_SCC0A_RXDMA
)paren
comma
(braket
id|DEC_IRQ_SCC0A_TXERR
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_SCC0A_TXERR
)paren
comma
(braket
id|DEC_IRQ_SCC0A_TXDMA
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_SCC0A_TXDMA
)paren
comma
(braket
id|DEC_IRQ_AB_RXERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_AB_RXDMA
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_AB_TXERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_AB_TXDMA
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_SCC1A_RXERR
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_SCC1A_RXERR
)paren
comma
(braket
id|DEC_IRQ_SCC1A_RXDMA
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_SCC1A_RXDMA
)paren
comma
(braket
id|DEC_IRQ_SCC1A_TXERR
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_SCC1A_TXERR
)paren
comma
(braket
id|DEC_IRQ_SCC1A_TXDMA
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_SCC1A_TXDMA
)paren
comma
)brace
suffix:semicolon
DECL|variable|__initdata
r_static
id|int_ptr
id|kn02ba_cpu_mask_nr_tbl
(braket
)braket
(braket
l_int|2
)braket
id|__initdata
op_assign
(brace
(brace
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_MASK
c_func
(paren
id|KN02BA_CPU_INR_CASCADE
)paren
)brace
comma
(brace
dot
id|p
op_assign
id|kn02xa_io_int
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_MASK
c_func
(paren
id|KN02BA_CPU_INR_TC2
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN02BA_CPU_INR_TC2
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_MASK
c_func
(paren
id|KN02BA_CPU_INR_TC1
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN02BA_CPU_INR_TC1
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_MASK
c_func
(paren
id|KN02BA_CPU_INR_TC0
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN02BA_CPU_INR_TC0
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_ALL
)brace
comma
(brace
dot
id|p
op_assign
id|cpu_all_int
)brace
)brace
comma
)brace
suffix:semicolon
DECL|variable|__initdata
r_static
id|int_ptr
id|kn02ba_asic_mask_nr_tbl
(braket
)braket
(braket
l_int|2
)braket
id|__initdata
op_assign
(brace
(brace
(brace
dot
id|i
op_assign
id|IO_IRQ_MASK
c_func
(paren
id|KN02BA_IO_INR_BUS
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN02BA_IO_INR_BUS
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|IO_IRQ_MASK
c_func
(paren
id|KN02BA_IO_INR_RTC
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN02BA_IO_INR_RTC
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|IO_IRQ_DMA
)brace
comma
(brace
dot
id|p
op_assign
id|asic_dma_int
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|IO_IRQ_MASK
c_func
(paren
id|KN02BA_IO_INR_SCC0
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN02BA_IO_INR_SCC0
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|IO_IRQ_MASK
c_func
(paren
id|KN02BA_IO_INR_SCC1
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN02BA_IO_INR_SCC1
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|IO_IRQ_MASK
c_func
(paren
id|KN02BA_IO_INR_ASC
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN02BA_IO_INR_ASC
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|IO_IRQ_MASK
c_func
(paren
id|KN02BA_IO_INR_LANCE
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN02BA_IO_INR_LANCE
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|IO_IRQ_ALL
)brace
comma
(brace
dot
id|p
op_assign
id|asic_all_int
)brace
)brace
comma
)brace
suffix:semicolon
DECL|function|dec_init_kn02ba
r_void
id|__init
id|dec_init_kn02ba
c_func
(paren
r_void
)paren
(brace
multiline_comment|/* IRQ routing. */
id|memcpy
c_func
(paren
op_amp
id|dec_interrupt
comma
op_amp
id|kn02ba_interrupt
comma
r_sizeof
(paren
id|kn02ba_interrupt
)paren
)paren
suffix:semicolon
multiline_comment|/* CPU IRQ priorities. */
id|memcpy
c_func
(paren
op_amp
id|cpu_mask_nr_tbl
comma
op_amp
id|kn02ba_cpu_mask_nr_tbl
comma
r_sizeof
(paren
id|kn02ba_cpu_mask_nr_tbl
)paren
)paren
suffix:semicolon
multiline_comment|/* I/O ASIC IRQ priorities. */
id|memcpy
c_func
(paren
op_amp
id|asic_mask_nr_tbl
comma
op_amp
id|kn02ba_asic_mask_nr_tbl
comma
r_sizeof
(paren
id|kn02ba_asic_mask_nr_tbl
)paren
)paren
suffix:semicolon
id|mips_cpu_irq_init
c_func
(paren
id|DEC_CPU_IRQ_BASE
)paren
suffix:semicolon
id|init_ioasic_irqs
c_func
(paren
id|IO_IRQ_BASE
)paren
suffix:semicolon
)brace
multiline_comment|/* dec_init_kn02ba */
multiline_comment|/*&n; * Machine-specific initialisation for KN02-CA, aka DS5000/xx,&n; * (xx = 20, 25, 33), aka MAXine.  Also applies to KN04(-CA), aka&n; * DS5000/50, aka 4MAXine.&n; */
DECL|variable|__initdata
r_static
r_int
id|kn02ca_interrupt
(braket
id|DEC_NR_INTS
)braket
id|__initdata
op_assign
(brace
(braket
id|DEC_IRQ_CASCADE
)braket
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN02CA_CPU_INR_CASCADE
)paren
comma
(braket
id|DEC_IRQ_AB_RECV
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN02CA_IO_INR_AB_RECV
)paren
comma
(braket
id|DEC_IRQ_AB_XMIT
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN02CA_IO_INR_AB_XMIT
)paren
comma
(braket
id|DEC_IRQ_DZ11
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_ASC
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN02CA_IO_INR_ASC
)paren
comma
(braket
id|DEC_IRQ_FLOPPY
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN02CA_IO_INR_FLOPPY
)paren
comma
(braket
id|DEC_IRQ_FPU
)braket
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|DEC_CPU_INR_FPU
)paren
comma
(braket
id|DEC_IRQ_HALT
)braket
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN02CA_CPU_INR_HALT
)paren
comma
(braket
id|DEC_IRQ_ISDN
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN02CA_IO_INR_ISDN
)paren
comma
(braket
id|DEC_IRQ_LANCE
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN02CA_IO_INR_LANCE
)paren
comma
(braket
id|DEC_IRQ_BUS
)braket
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN02CA_CPU_INR_BUS
)paren
comma
(braket
id|DEC_IRQ_PSU
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_RTC
)braket
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN02CA_CPU_INR_RTC
)paren
comma
(braket
id|DEC_IRQ_SCC0
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN02CA_IO_INR_SCC0
)paren
comma
(braket
id|DEC_IRQ_SCC1
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_SII
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_TC0
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN02CA_IO_INR_TC0
)paren
comma
(braket
id|DEC_IRQ_TC1
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN02CA_IO_INR_TC1
)paren
comma
(braket
id|DEC_IRQ_TC2
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_TIMER
)braket
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN02CA_CPU_INR_TIMER
)paren
comma
(braket
id|DEC_IRQ_VIDEO
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN02CA_IO_INR_VIDEO
)paren
comma
(braket
id|DEC_IRQ_ASC_MERR
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_ASC_MERR
)paren
comma
(braket
id|DEC_IRQ_ASC_ERR
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_ASC_ERR
)paren
comma
(braket
id|DEC_IRQ_ASC_DMA
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_ASC_DMA
)paren
comma
(braket
id|DEC_IRQ_FLOPPY_ERR
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_FLOPPY_ERR
)paren
comma
(braket
id|DEC_IRQ_ISDN_ERR
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_ISDN_ERR
)paren
comma
(braket
id|DEC_IRQ_ISDN_RXDMA
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_ISDN_RXDMA
)paren
comma
(braket
id|DEC_IRQ_ISDN_TXDMA
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_ISDN_TXDMA
)paren
comma
(braket
id|DEC_IRQ_LANCE_MERR
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_LANCE_MERR
)paren
comma
(braket
id|DEC_IRQ_SCC0A_RXERR
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_SCC0A_RXERR
)paren
comma
(braket
id|DEC_IRQ_SCC0A_RXDMA
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_SCC0A_RXDMA
)paren
comma
(braket
id|DEC_IRQ_SCC0A_TXERR
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_SCC0A_TXERR
)paren
comma
(braket
id|DEC_IRQ_SCC0A_TXDMA
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_SCC0A_TXDMA
)paren
comma
(braket
id|DEC_IRQ_AB_RXERR
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_AB_RXERR
)paren
comma
(braket
id|DEC_IRQ_AB_RXDMA
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_AB_RXDMA
)paren
comma
(braket
id|DEC_IRQ_AB_TXERR
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_AB_TXERR
)paren
comma
(braket
id|DEC_IRQ_AB_TXDMA
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_AB_TXDMA
)paren
comma
(braket
id|DEC_IRQ_SCC1A_RXERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_SCC1A_RXDMA
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_SCC1A_TXERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_SCC1A_TXDMA
)braket
op_assign
op_minus
l_int|1
comma
)brace
suffix:semicolon
DECL|variable|__initdata
r_static
id|int_ptr
id|kn02ca_cpu_mask_nr_tbl
(braket
)braket
(braket
l_int|2
)braket
id|__initdata
op_assign
(brace
(brace
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_MASK
c_func
(paren
id|KN02CA_CPU_INR_BUS
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN02CA_CPU_INR_BUS
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_MASK
c_func
(paren
id|KN02CA_CPU_INR_RTC
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN02CA_CPU_INR_RTC
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_MASK
c_func
(paren
id|KN02CA_CPU_INR_CASCADE
)paren
)brace
comma
(brace
dot
id|p
op_assign
id|kn02xa_io_int
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_ALL
)brace
comma
(brace
dot
id|p
op_assign
id|cpu_all_int
)brace
)brace
comma
)brace
suffix:semicolon
DECL|variable|__initdata
r_static
id|int_ptr
id|kn02ca_asic_mask_nr_tbl
(braket
)braket
(braket
l_int|2
)braket
id|__initdata
op_assign
(brace
(brace
(brace
dot
id|i
op_assign
id|IO_IRQ_DMA
)brace
comma
(brace
dot
id|p
op_assign
id|asic_dma_int
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|IO_IRQ_MASK
c_func
(paren
id|KN02CA_IO_INR_SCC0
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN02CA_IO_INR_SCC0
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|IO_IRQ_MASK
c_func
(paren
id|KN02CA_IO_INR_ASC
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN02CA_IO_INR_ASC
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|IO_IRQ_MASK
c_func
(paren
id|KN02CA_IO_INR_LANCE
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN02CA_IO_INR_LANCE
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|IO_IRQ_MASK
c_func
(paren
id|KN02CA_IO_INR_TC1
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN02CA_IO_INR_TC1
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|IO_IRQ_MASK
c_func
(paren
id|KN02CA_IO_INR_TC0
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN02CA_IO_INR_TC0
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|IO_IRQ_ALL
)brace
comma
(brace
dot
id|p
op_assign
id|asic_all_int
)brace
)brace
comma
)brace
suffix:semicolon
DECL|function|dec_init_kn02ca
r_void
id|__init
id|dec_init_kn02ca
c_func
(paren
r_void
)paren
(brace
multiline_comment|/* IRQ routing. */
id|memcpy
c_func
(paren
op_amp
id|dec_interrupt
comma
op_amp
id|kn02ca_interrupt
comma
r_sizeof
(paren
id|kn02ca_interrupt
)paren
)paren
suffix:semicolon
multiline_comment|/* CPU IRQ priorities. */
id|memcpy
c_func
(paren
op_amp
id|cpu_mask_nr_tbl
comma
op_amp
id|kn02ca_cpu_mask_nr_tbl
comma
r_sizeof
(paren
id|kn02ca_cpu_mask_nr_tbl
)paren
)paren
suffix:semicolon
multiline_comment|/* I/O ASIC IRQ priorities. */
id|memcpy
c_func
(paren
op_amp
id|asic_mask_nr_tbl
comma
op_amp
id|kn02ca_asic_mask_nr_tbl
comma
r_sizeof
(paren
id|kn02ca_asic_mask_nr_tbl
)paren
)paren
suffix:semicolon
id|mips_cpu_irq_init
c_func
(paren
id|DEC_CPU_IRQ_BASE
)paren
suffix:semicolon
id|init_ioasic_irqs
c_func
(paren
id|IO_IRQ_BASE
)paren
suffix:semicolon
)brace
multiline_comment|/* dec_init_kn02ca */
multiline_comment|/*&n; * Machine-specific initialisation for KN03, aka DS5000/240,&n; * aka 3max+ and DS5900, aka BIGmax.  Also applies to KN05, aka&n; * DS5000/260, aka 4max+ and DS5900/260.&n; */
DECL|variable|__initdata
r_static
r_int
id|kn03_interrupt
(braket
id|DEC_NR_INTS
)braket
id|__initdata
op_assign
(brace
(braket
id|DEC_IRQ_CASCADE
)braket
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN03_CPU_INR_CASCADE
)paren
comma
(braket
id|DEC_IRQ_AB_RECV
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_AB_XMIT
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_DZ11
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_ASC
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN03_IO_INR_ASC
)paren
comma
(braket
id|DEC_IRQ_FLOPPY
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_FPU
)braket
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|DEC_CPU_INR_FPU
)paren
comma
(braket
id|DEC_IRQ_HALT
)braket
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN03_CPU_INR_HALT
)paren
comma
(braket
id|DEC_IRQ_ISDN
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_LANCE
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN03_IO_INR_LANCE
)paren
comma
(braket
id|DEC_IRQ_BUS
)braket
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN03_CPU_INR_BUS
)paren
comma
(braket
id|DEC_IRQ_PSU
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN03_IO_INR_PSU
)paren
comma
(braket
id|DEC_IRQ_RTC
)braket
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN03_CPU_INR_RTC
)paren
comma
(braket
id|DEC_IRQ_SCC0
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN03_IO_INR_SCC0
)paren
comma
(braket
id|DEC_IRQ_SCC1
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN03_IO_INR_SCC1
)paren
comma
(braket
id|DEC_IRQ_SII
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_TC0
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN03_IO_INR_TC0
)paren
comma
(braket
id|DEC_IRQ_TC1
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN03_IO_INR_TC1
)paren
comma
(braket
id|DEC_IRQ_TC2
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN03_IO_INR_TC2
)paren
comma
(braket
id|DEC_IRQ_TIMER
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_VIDEO
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_ASC_MERR
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_ASC_MERR
)paren
comma
(braket
id|DEC_IRQ_ASC_ERR
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_ASC_ERR
)paren
comma
(braket
id|DEC_IRQ_ASC_DMA
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_ASC_DMA
)paren
comma
(braket
id|DEC_IRQ_FLOPPY_ERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_ISDN_ERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_ISDN_RXDMA
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_ISDN_TXDMA
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_LANCE_MERR
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_LANCE_MERR
)paren
comma
(braket
id|DEC_IRQ_SCC0A_RXERR
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_SCC0A_RXERR
)paren
comma
(braket
id|DEC_IRQ_SCC0A_RXDMA
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_SCC0A_RXDMA
)paren
comma
(braket
id|DEC_IRQ_SCC0A_TXERR
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_SCC0A_TXERR
)paren
comma
(braket
id|DEC_IRQ_SCC0A_TXDMA
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_SCC0A_TXDMA
)paren
comma
(braket
id|DEC_IRQ_AB_RXERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_AB_RXDMA
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_AB_TXERR
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_AB_TXDMA
)braket
op_assign
op_minus
l_int|1
comma
(braket
id|DEC_IRQ_SCC1A_RXERR
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_SCC1A_RXERR
)paren
comma
(braket
id|DEC_IRQ_SCC1A_RXDMA
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_SCC1A_RXDMA
)paren
comma
(braket
id|DEC_IRQ_SCC1A_TXERR
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_SCC1A_TXERR
)paren
comma
(braket
id|DEC_IRQ_SCC1A_TXDMA
)braket
op_assign
id|IO_IRQ_NR
c_func
(paren
id|IO_INR_SCC1A_TXDMA
)paren
comma
)brace
suffix:semicolon
DECL|variable|__initdata
r_static
id|int_ptr
id|kn03_cpu_mask_nr_tbl
(braket
)braket
(braket
l_int|2
)braket
id|__initdata
op_assign
(brace
(brace
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_MASK
c_func
(paren
id|KN03_CPU_INR_BUS
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN03_CPU_INR_BUS
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_MASK
c_func
(paren
id|KN03_CPU_INR_RTC
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_NR
c_func
(paren
id|KN03_CPU_INR_RTC
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_MASK
c_func
(paren
id|KN03_CPU_INR_CASCADE
)paren
)brace
comma
(brace
dot
id|p
op_assign
id|kn03_io_int
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|DEC_CPU_IRQ_ALL
)brace
comma
(brace
dot
id|p
op_assign
id|cpu_all_int
)brace
)brace
comma
)brace
suffix:semicolon
DECL|variable|__initdata
r_static
id|int_ptr
id|kn03_asic_mask_nr_tbl
(braket
)braket
(braket
l_int|2
)braket
id|__initdata
op_assign
(brace
(brace
(brace
dot
id|i
op_assign
id|IO_IRQ_DMA
)brace
comma
(brace
dot
id|p
op_assign
id|asic_dma_int
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|IO_IRQ_MASK
c_func
(paren
id|KN03_IO_INR_SCC0
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN03_IO_INR_SCC0
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|IO_IRQ_MASK
c_func
(paren
id|KN03_IO_INR_SCC1
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN03_IO_INR_SCC1
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|IO_IRQ_MASK
c_func
(paren
id|KN03_IO_INR_ASC
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN03_IO_INR_ASC
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|IO_IRQ_MASK
c_func
(paren
id|KN03_IO_INR_LANCE
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN03_IO_INR_LANCE
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|IO_IRQ_MASK
c_func
(paren
id|KN03_IO_INR_TC2
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN03_IO_INR_TC2
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|IO_IRQ_MASK
c_func
(paren
id|KN03_IO_INR_TC1
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN03_IO_INR_TC1
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|IO_IRQ_MASK
c_func
(paren
id|KN03_IO_INR_TC0
)paren
)brace
comma
(brace
dot
id|i
op_assign
id|IO_IRQ_NR
c_func
(paren
id|KN03_IO_INR_TC0
)paren
)brace
)brace
comma
(brace
(brace
dot
id|i
op_assign
id|IO_IRQ_ALL
)brace
comma
(brace
dot
id|p
op_assign
id|asic_all_int
)brace
)brace
comma
)brace
suffix:semicolon
DECL|function|dec_init_kn03
r_void
id|__init
id|dec_init_kn03
c_func
(paren
r_void
)paren
(brace
multiline_comment|/* IRQ routing. */
id|memcpy
c_func
(paren
op_amp
id|dec_interrupt
comma
op_amp
id|kn03_interrupt
comma
r_sizeof
(paren
id|kn03_interrupt
)paren
)paren
suffix:semicolon
multiline_comment|/* CPU IRQ priorities. */
id|memcpy
c_func
(paren
op_amp
id|cpu_mask_nr_tbl
comma
op_amp
id|kn03_cpu_mask_nr_tbl
comma
r_sizeof
(paren
id|kn03_cpu_mask_nr_tbl
)paren
)paren
suffix:semicolon
multiline_comment|/* I/O ASIC IRQ priorities. */
id|memcpy
c_func
(paren
op_amp
id|asic_mask_nr_tbl
comma
op_amp
id|kn03_asic_mask_nr_tbl
comma
r_sizeof
(paren
id|kn03_asic_mask_nr_tbl
)paren
)paren
suffix:semicolon
id|mips_cpu_irq_init
c_func
(paren
id|DEC_CPU_IRQ_BASE
)paren
suffix:semicolon
id|init_ioasic_irqs
c_func
(paren
id|IO_IRQ_BASE
)paren
suffix:semicolon
)brace
multiline_comment|/* dec_init_kn03 */
DECL|function|arch_init_irq
r_void
id|__init
id|arch_init_irq
c_func
(paren
r_void
)paren
(brace
r_switch
c_cond
(paren
id|mips_machtype
)paren
(brace
r_case
id|MACH_DS23100
suffix:colon
multiline_comment|/* DS2100/DS3100 Pmin/Pmax */
id|dec_init_kn01
c_func
(paren
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|MACH_DS5100
suffix:colon
multiline_comment|/* DS5100 MIPSmate */
id|dec_init_kn230
c_func
(paren
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|MACH_DS5000_200
suffix:colon
multiline_comment|/* DS5000/200 3max */
id|dec_init_kn02
c_func
(paren
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|MACH_DS5000_1XX
suffix:colon
multiline_comment|/* DS5000/1xx 3min */
id|dec_init_kn02ba
c_func
(paren
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|MACH_DS5000_2X0
suffix:colon
multiline_comment|/* DS5000/240 3max+ */
r_case
id|MACH_DS5900
suffix:colon
multiline_comment|/* DS5900 bigmax */
id|dec_init_kn03
c_func
(paren
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|MACH_DS5000_XX
suffix:colon
multiline_comment|/* Personal DS5000/xx */
id|dec_init_kn02ca
c_func
(paren
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|MACH_DS5800
suffix:colon
multiline_comment|/* DS5800 Isis */
id|panic
c_func
(paren
l_string|&quot;Don&squot;t know how to set this up!&quot;
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|MACH_DS5400
suffix:colon
multiline_comment|/* DS5400 MIPSfair */
id|panic
c_func
(paren
l_string|&quot;Don&squot;t know how to set this up!&quot;
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|MACH_DS5500
suffix:colon
multiline_comment|/* DS5500 MIPSfair-2 */
id|panic
c_func
(paren
l_string|&quot;Don&squot;t know how to set this up!&quot;
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
id|set_except_vector
c_func
(paren
l_int|0
comma
id|decstation_handle_int
)paren
suffix:semicolon
multiline_comment|/* Free the FPU interrupt if the exception is present. */
r_if
c_cond
(paren
op_logical_neg
id|cpu_has_nofpuex
)paren
(brace
id|cpu_fpu_mask
op_assign
l_int|0
suffix:semicolon
id|dec_interrupt
(braket
id|DEC_IRQ_FPU
)braket
op_assign
op_minus
l_int|1
suffix:semicolon
)brace
multiline_comment|/* Register board interrupts: FPU and cascade. */
r_if
c_cond
(paren
id|dec_interrupt
(braket
id|DEC_IRQ_FPU
)braket
op_ge
l_int|0
)paren
id|setup_irq
c_func
(paren
id|dec_interrupt
(braket
id|DEC_IRQ_FPU
)braket
comma
op_amp
id|fpuirq
)paren
suffix:semicolon
r_if
c_cond
(paren
id|dec_interrupt
(braket
id|DEC_IRQ_CASCADE
)braket
op_ge
l_int|0
)paren
id|setup_irq
c_func
(paren
id|dec_interrupt
(braket
id|DEC_IRQ_CASCADE
)braket
comma
op_amp
id|ioirq
)paren
suffix:semicolon
multiline_comment|/* Register the bus error interrupt. */
r_if
c_cond
(paren
id|dec_interrupt
(braket
id|DEC_IRQ_BUS
)braket
op_ge
l_int|0
op_logical_and
id|busirq.handler
)paren
id|setup_irq
c_func
(paren
id|dec_interrupt
(braket
id|DEC_IRQ_BUS
)braket
comma
op_amp
id|busirq
)paren
suffix:semicolon
multiline_comment|/* Register the HALT interrupt. */
r_if
c_cond
(paren
id|dec_interrupt
(braket
id|DEC_IRQ_HALT
)braket
op_ge
l_int|0
)paren
id|setup_irq
c_func
(paren
id|dec_interrupt
(braket
id|DEC_IRQ_HALT
)braket
comma
op_amp
id|haltirq
)paren
suffix:semicolon
)brace
DECL|variable|ioasic_base
id|EXPORT_SYMBOL
c_func
(paren
id|ioasic_base
)paren
suffix:semicolon
DECL|variable|dec_kn_slot_size
id|EXPORT_SYMBOL
c_func
(paren
id|dec_kn_slot_size
)paren
suffix:semicolon
DECL|variable|dec_interrupt
id|EXPORT_SYMBOL
c_func
(paren
id|dec_interrupt
)paren
suffix:semicolon
eof
