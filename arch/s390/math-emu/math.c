multiline_comment|/*&n; *  arch/s390/math-emu/math.c&n; *&n; *  S390 version&n; *    Copyright (C) 1999-2001 IBM Deutschland Entwicklung GmbH, IBM Corporation&n; *    Author(s): Martin Schwidefsky (schwidefsky@de.ibm.com),&n; *&n; * &squot;math.c&squot; emulates IEEE instructions on a S390 processor&n; *          that does not have the IEEE fpu (all processors before G5).&n; */
macro_line|#include &lt;linux/config.h&gt;
macro_line|#include &lt;linux/types.h&gt;
macro_line|#include &lt;linux/sched.h&gt;
macro_line|#include &lt;linux/mm.h&gt;
macro_line|#include &lt;asm/uaccess.h&gt;
macro_line|#include &lt;asm/lowcore.h&gt;
macro_line|#include &quot;sfp-util.h&quot;
macro_line|#include &lt;math-emu/soft-fp.h&gt;
macro_line|#include &lt;math-emu/single.h&gt;
macro_line|#include &lt;math-emu/double.h&gt;
macro_line|#include &lt;math-emu/quad.h&gt;
multiline_comment|/*&n; * I miss a macro to round a floating point number to the&n; * nearest integer in the same floating point format.&n; */
DECL|macro|_FP_TO_FPINT_ROUND
mdefine_line|#define _FP_TO_FPINT_ROUND(fs, wc, X)&t;&t;&t;&t;&t;&bslash;&n;  do {&t;&t;&t;&t;&t;&t;&t;&t;&t;&bslash;&n;    switch (X##_c)&t;&t;&t;&t;&t;&t;&t;&bslash;&n;      {&t;&t;&t;&t;&t;&t;&t;&t;&t;&bslash;&n;      case FP_CLS_NORMAL:&t;&t;&t;&t;&t;&t;&bslash;&n;        if (X##_e &gt; _FP_FRACBITS_##fs + _FP_EXPBIAS_##fs)&t;&t;&bslash;&n;          { /* floating point number has no bits after the dot. */&t;&bslash;&n;          }&t;&t;&t;&t;&t;&t;&t;&t;&bslash;&n;        else if (X##_e &lt;= _FP_FRACBITS_##fs + _FP_EXPBIAS_##fs &amp;&amp;&t;&bslash;&n;                 X##_e &gt; _FP_EXPBIAS_##fs)&t;&t;&t;&t;&bslash;&n;&t;  { /* some bits before the dot, some after it. */&t;&t;&bslash;&n;            _FP_FRAC_SRS_##wc(X, _FP_WFRACBITS_##fs,&t;&t;&t;&bslash;&n;                              X##_e - _FP_EXPBIAS_##fs&t;&t;&t;&bslash;&n;                              + _FP_FRACBITS_##fs);&t;&t;&t;&bslash;&n;&t;    _FP_ROUND(wc, X);&t;&t;&t;&t;&t;&t;&bslash;&n;&t;    _FP_FRAC_SLL_##wc(X, X##_e - _FP_EXPBIAS_##fs&t;&t;&bslash;&n;                              + _FP_FRACBITS_##fs);&t;&t;&t;&bslash;&n;          }&t;&t;&t;&t;&t;&t;&t;&t;&bslash;&n;        else&t;&t;&t;&t;&t;&t;&t;&t;&bslash;&n;          { /* all bits after the dot. */&t;&t;&t;&t;&bslash;&n;&t;    FP_SET_EXCEPTION(FP_EX_INEXACT);&t;&t;&t;&t;&bslash;&n;            X##_c = FP_CLS_ZERO;&t;&t;&t;&t;&t;&bslash;&n;&t;  }&t;&t;&t;&t;&t;&t;&t;&t;&bslash;&n;        break;&t;&t;&t;&t;&t;&t;&t;&t;&bslash;&n;      case FP_CLS_NAN:&t;&t;&t;&t;&t;&t;&t;&bslash;&n;      case FP_CLS_INF:&t;&t;&t;&t;&t;&t;&t;&bslash;&n;      case FP_CLS_ZERO:&t;&t;&t;&t;&t;&t;&t;&bslash;&n;        break;&t;&t;&t;&t;&t;&t;&t;&t;&bslash;&n;      }&t;&t;&t;&t;&t;&t;&t;&t;&t;&bslash;&n;  } while (0)
DECL|macro|FP_TO_FPINT_ROUND_S
mdefine_line|#define FP_TO_FPINT_ROUND_S(X)&t;_FP_TO_FPINT_ROUND(S,1,X)
DECL|macro|FP_TO_FPINT_ROUND_D
mdefine_line|#define FP_TO_FPINT_ROUND_D(X)&t;_FP_TO_FPINT_ROUND(D,2,X)
DECL|macro|FP_TO_FPINT_ROUND_Q
mdefine_line|#define FP_TO_FPINT_ROUND_Q(X)&t;_FP_TO_FPINT_ROUND(Q,4,X)
r_typedef
r_union
(brace
DECL|member|ld
r_int
r_float
id|ld
suffix:semicolon
r_struct
(brace
DECL|member|high
id|__u64
id|high
suffix:semicolon
DECL|member|low
id|__u64
id|low
suffix:semicolon
DECL|member|w
)brace
id|w
suffix:semicolon
DECL|typedef|mathemu_ldcv
)brace
id|mathemu_ldcv
suffix:semicolon
macro_line|#ifdef CONFIG_SYSCTL
DECL|variable|sysctl_ieee_emulation_warnings
r_int
id|sysctl_ieee_emulation_warnings
op_assign
l_int|1
suffix:semicolon
macro_line|#endif
DECL|macro|mathemu_put_user
mdefine_line|#define mathemu_put_user(x, p) &bslash;&n;        do { &bslash;&n;                if (put_user((x),(p))) &bslash;&n;                        return SIGSEGV; &bslash;&n;        } while (0)
DECL|macro|mathemu_get_user
mdefine_line|#define mathemu_get_user(x, p) &bslash;&n;        do { &bslash;&n;                if (get_user((x),(p))) &bslash;&n;                        return SIGSEGV; &bslash;&n;        } while (0)
DECL|macro|mathemu_copy_from_user
mdefine_line|#define mathemu_copy_from_user(d, s, n)&bslash;&n;        do { &bslash;&n;                if (copy_from_user((d),(s),(n)) != 0) &bslash;&n;                        return SIGSEGV; &bslash;&n;        } while (0)
DECL|macro|mathemu_copy_to_user
mdefine_line|#define mathemu_copy_to_user(d, s, n) &bslash;&n;        do { &bslash;&n;                if (copy_to_user((d),(s),(n)) != 0) &bslash;&n;                        return SIGSEGV; &bslash;&n;        } while (0)
DECL|function|display_emulation_not_implemented
r_static
r_void
id|display_emulation_not_implemented
c_func
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_char
op_star
id|instr
)paren
(brace
r_struct
id|pt_regs
op_star
id|regs
suffix:semicolon
id|__u16
op_star
id|location
suffix:semicolon
macro_line|#ifdef CONFIG_SYSCTL
r_if
c_cond
(paren
id|sysctl_ieee_emulation_warnings
)paren
macro_line|#endif
(brace
id|location
op_assign
(paren
id|__u16
op_star
)paren
(paren
id|regs-&gt;psw.addr
op_minus
id|S390_lowcore.pgm_ilc
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot;%s ieee fpu instruction not emulated &quot;
l_string|&quot;process name: %s pid: %d &bslash;n&quot;
comma
id|instr
comma
id|current-&gt;comm
comma
id|current-&gt;pid
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot;%s&squot;s PSW:    %08lx %08lx&bslash;n&quot;
comma
id|instr
comma
(paren
r_int
r_int
)paren
id|regs-&gt;psw.mask
comma
(paren
r_int
r_int
)paren
id|location
)paren
suffix:semicolon
)brace
)brace
DECL|function|emu_set_CC
r_static
r_inline
r_void
id|emu_set_CC
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|cc
)paren
(brace
id|regs-&gt;psw.mask
op_assign
(paren
id|regs-&gt;psw.mask
op_amp
l_int|0xFFFFCFFF
)paren
op_or
(paren
(paren
id|cc
op_amp
l_int|3
)paren
op_lshift
l_int|12
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * Set the condition code in the user psw.&n; *  0 : Result is zero&n; *  1 : Result is less than zero&n; *  2 : Result is greater than zero&n; *  3 : Result is NaN or INF&n; */
DECL|function|emu_set_CC_cs
r_static
r_inline
r_void
id|emu_set_CC_cs
c_func
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
r_class
comma
r_int
id|sign
)paren
(brace
r_switch
c_cond
(paren
r_class
)paren
(brace
r_case
id|FP_CLS_NORMAL
suffix:colon
r_case
id|FP_CLS_INF
suffix:colon
id|emu_set_CC
c_func
(paren
id|regs
comma
id|sign
ques
c_cond
l_int|1
suffix:colon
l_int|2
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|FP_CLS_ZERO
suffix:colon
id|emu_set_CC
c_func
(paren
id|regs
comma
l_int|0
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|FP_CLS_NAN
suffix:colon
id|emu_set_CC
c_func
(paren
id|regs
comma
l_int|3
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
)brace
multiline_comment|/* Add long double */
DECL|function|emu_axbr
r_static
r_int
id|emu_axbr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_Q
c_func
(paren
id|QA
)paren
suffix:semicolon
id|FP_DECL_Q
c_func
(paren
id|QB
)paren
suffix:semicolon
id|FP_DECL_Q
c_func
(paren
id|QR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
id|mathemu_ldcv
id|cvt
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|cvt.w.high
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|ui
suffix:semicolon
id|cvt.w.low
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
op_plus
l_int|2
)braket
dot
id|ui
suffix:semicolon
id|FP_UNPACK_QP
c_func
(paren
id|QA
comma
op_amp
id|cvt.ld
)paren
suffix:semicolon
id|cvt.w.high
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|ui
suffix:semicolon
id|cvt.w.low
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
op_plus
l_int|2
)braket
dot
id|ui
suffix:semicolon
id|FP_UNPACK_QP
c_func
(paren
id|QB
comma
op_amp
id|cvt.ld
)paren
suffix:semicolon
id|FP_ADD_Q
c_func
(paren
id|QR
comma
id|QA
comma
id|QB
)paren
suffix:semicolon
id|FP_PACK_QP
c_func
(paren
op_amp
id|cvt.ld
comma
id|QR
)paren
suffix:semicolon
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|ui
op_assign
id|cvt.w.high
suffix:semicolon
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
op_plus
l_int|2
)braket
dot
id|ui
op_assign
id|cvt.w.low
suffix:semicolon
id|emu_set_CC_cs
c_func
(paren
id|regs
comma
id|QR_c
comma
id|QR_s
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Add double */
DECL|function|emu_adbr
r_static
r_int
id|emu_adbr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_D
c_func
(paren
id|DA
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DB
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|d
)paren
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DB
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|d
)paren
suffix:semicolon
id|FP_ADD_D
c_func
(paren
id|DR
comma
id|DA
comma
id|DB
)paren
suffix:semicolon
id|FP_PACK_DP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|d
comma
id|DR
)paren
suffix:semicolon
id|emu_set_CC_cs
c_func
(paren
id|regs
comma
id|DR_c
comma
id|DR_s
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Add double */
DECL|function|emu_adb
r_static
r_int
id|emu_adb
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_float
op_star
id|val
)paren
(brace
id|FP_DECL_D
c_func
(paren
id|DA
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DB
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|d
)paren
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DB
comma
id|val
)paren
suffix:semicolon
id|FP_ADD_D
c_func
(paren
id|DR
comma
id|DA
comma
id|DB
)paren
suffix:semicolon
id|FP_PACK_DP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|d
comma
id|DR
)paren
suffix:semicolon
id|emu_set_CC_cs
c_func
(paren
id|regs
comma
id|DR_c
comma
id|DR_s
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Add float */
DECL|function|emu_aebr
r_static
r_int
id|emu_aebr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_S
c_func
(paren
id|SA
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SB
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|f
)paren
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SB
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|f
)paren
suffix:semicolon
id|FP_ADD_S
c_func
(paren
id|SR
comma
id|SA
comma
id|SB
)paren
suffix:semicolon
id|FP_PACK_SP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|f
comma
id|SR
)paren
suffix:semicolon
id|emu_set_CC_cs
c_func
(paren
id|regs
comma
id|SR_c
comma
id|SR_s
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Add float */
DECL|function|emu_aeb
r_static
r_int
id|emu_aeb
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_float
op_star
id|val
)paren
(brace
id|FP_DECL_S
c_func
(paren
id|SA
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SB
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|f
)paren
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SB
comma
id|val
)paren
suffix:semicolon
id|FP_ADD_S
c_func
(paren
id|SR
comma
id|SA
comma
id|SB
)paren
suffix:semicolon
id|FP_PACK_SP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|f
comma
id|SR
)paren
suffix:semicolon
id|emu_set_CC_cs
c_func
(paren
id|regs
comma
id|SR_c
comma
id|SR_s
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Compare long double */
DECL|function|emu_cxbr
r_static
r_int
id|emu_cxbr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_Q
c_func
(paren
id|QA
)paren
suffix:semicolon
id|FP_DECL_Q
c_func
(paren
id|QB
)paren
suffix:semicolon
id|mathemu_ldcv
id|cvt
suffix:semicolon
r_int
id|IR
suffix:semicolon
id|cvt.w.high
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|ui
suffix:semicolon
id|cvt.w.low
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
op_plus
l_int|2
)braket
dot
id|ui
suffix:semicolon
id|FP_UNPACK_RAW_QP
c_func
(paren
id|QA
comma
op_amp
id|cvt.ld
)paren
suffix:semicolon
id|cvt.w.high
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|ui
suffix:semicolon
id|cvt.w.low
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
op_plus
l_int|2
)braket
dot
id|ui
suffix:semicolon
id|FP_UNPACK_RAW_QP
c_func
(paren
id|QB
comma
op_amp
id|cvt.ld
)paren
suffix:semicolon
id|FP_CMP_Q
c_func
(paren
id|IR
comma
id|QA
comma
id|QB
comma
l_int|3
)paren
suffix:semicolon
multiline_comment|/*&n;         * IR == -1 if DA &lt; DB, IR == 0 if DA == DB,&n;         * IR == 1 if DA &gt; DB and IR == 3 if unorderded&n;         */
id|emu_set_CC
c_func
(paren
id|regs
comma
(paren
id|IR
op_eq
op_minus
l_int|1
)paren
ques
c_cond
l_int|1
suffix:colon
(paren
id|IR
op_eq
l_int|1
)paren
ques
c_cond
l_int|2
suffix:colon
id|IR
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/* Compare double */
DECL|function|emu_cdbr
r_static
r_int
id|emu_cdbr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_D
c_func
(paren
id|DA
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DB
)paren
suffix:semicolon
r_int
id|IR
suffix:semicolon
id|FP_UNPACK_RAW_DP
c_func
(paren
id|DA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|d
)paren
suffix:semicolon
id|FP_UNPACK_RAW_DP
c_func
(paren
id|DB
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|d
)paren
suffix:semicolon
id|FP_CMP_D
c_func
(paren
id|IR
comma
id|DA
comma
id|DB
comma
l_int|3
)paren
suffix:semicolon
multiline_comment|/*&n;         * IR == -1 if DA &lt; DB, IR == 0 if DA == DB,&n;         * IR == 1 if DA &gt; DB and IR == 3 if unorderded&n;         */
id|emu_set_CC
c_func
(paren
id|regs
comma
(paren
id|IR
op_eq
op_minus
l_int|1
)paren
ques
c_cond
l_int|1
suffix:colon
(paren
id|IR
op_eq
l_int|1
)paren
ques
c_cond
l_int|2
suffix:colon
id|IR
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/* Compare double */
DECL|function|emu_cdb
r_static
r_int
id|emu_cdb
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_float
op_star
id|val
)paren
(brace
id|FP_DECL_D
c_func
(paren
id|DA
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DB
)paren
suffix:semicolon
r_int
id|IR
suffix:semicolon
id|FP_UNPACK_RAW_DP
c_func
(paren
id|DA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|d
)paren
suffix:semicolon
id|FP_UNPACK_RAW_DP
c_func
(paren
id|DB
comma
id|val
)paren
suffix:semicolon
id|FP_CMP_D
c_func
(paren
id|IR
comma
id|DA
comma
id|DB
comma
l_int|3
)paren
suffix:semicolon
multiline_comment|/*&n;         * IR == -1 if DA &lt; DB, IR == 0 if DA == DB,&n;         * IR == 1 if DA &gt; DB and IR == 3 if unorderded&n;         */
id|emu_set_CC
c_func
(paren
id|regs
comma
(paren
id|IR
op_eq
op_minus
l_int|1
)paren
ques
c_cond
l_int|1
suffix:colon
(paren
id|IR
op_eq
l_int|1
)paren
ques
c_cond
l_int|2
suffix:colon
id|IR
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/* Compare float */
DECL|function|emu_cebr
r_static
r_int
id|emu_cebr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_S
c_func
(paren
id|SA
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SB
)paren
suffix:semicolon
r_int
id|IR
suffix:semicolon
id|FP_UNPACK_RAW_SP
c_func
(paren
id|SA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|f
)paren
suffix:semicolon
id|FP_UNPACK_RAW_SP
c_func
(paren
id|SB
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|f
)paren
suffix:semicolon
id|FP_CMP_S
c_func
(paren
id|IR
comma
id|SA
comma
id|SB
comma
l_int|3
)paren
suffix:semicolon
multiline_comment|/*&n;         * IR == -1 if DA &lt; DB, IR == 0 if DA == DB,&n;         * IR == 1 if DA &gt; DB and IR == 3 if unorderded&n;         */
id|emu_set_CC
c_func
(paren
id|regs
comma
(paren
id|IR
op_eq
op_minus
l_int|1
)paren
ques
c_cond
l_int|1
suffix:colon
(paren
id|IR
op_eq
l_int|1
)paren
ques
c_cond
l_int|2
suffix:colon
id|IR
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/* Compare float */
DECL|function|emu_ceb
r_static
r_int
id|emu_ceb
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_float
op_star
id|val
)paren
(brace
id|FP_DECL_S
c_func
(paren
id|SA
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SB
)paren
suffix:semicolon
r_int
id|IR
suffix:semicolon
id|FP_UNPACK_RAW_SP
c_func
(paren
id|SA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|f
)paren
suffix:semicolon
id|FP_UNPACK_RAW_SP
c_func
(paren
id|SB
comma
id|val
)paren
suffix:semicolon
id|FP_CMP_S
c_func
(paren
id|IR
comma
id|SA
comma
id|SB
comma
l_int|3
)paren
suffix:semicolon
multiline_comment|/*&n;         * IR == -1 if DA &lt; DB, IR == 0 if DA == DB,&n;         * IR == 1 if DA &gt; DB and IR == 3 if unorderded&n;         */
id|emu_set_CC
c_func
(paren
id|regs
comma
(paren
id|IR
op_eq
op_minus
l_int|1
)paren
ques
c_cond
l_int|1
suffix:colon
(paren
id|IR
op_eq
l_int|1
)paren
ques
c_cond
l_int|2
suffix:colon
id|IR
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/* Compare and signal long double */
DECL|function|emu_kxbr
r_static
r_int
id|emu_kxbr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_Q
c_func
(paren
id|QA
)paren
suffix:semicolon
id|FP_DECL_Q
c_func
(paren
id|QB
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
id|mathemu_ldcv
id|cvt
suffix:semicolon
r_int
id|IR
suffix:semicolon
id|cvt.w.high
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|ui
suffix:semicolon
id|cvt.w.low
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
op_plus
l_int|2
)braket
dot
id|ui
suffix:semicolon
id|FP_UNPACK_RAW_QP
c_func
(paren
id|QA
comma
op_amp
id|cvt.ld
)paren
suffix:semicolon
id|cvt.w.high
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|ui
suffix:semicolon
id|cvt.w.low
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
op_plus
l_int|2
)braket
dot
id|ui
suffix:semicolon
id|FP_UNPACK_QP
c_func
(paren
id|QB
comma
op_amp
id|cvt.ld
)paren
suffix:semicolon
id|FP_CMP_Q
c_func
(paren
id|IR
comma
id|QA
comma
id|QB
comma
l_int|3
)paren
suffix:semicolon
multiline_comment|/*&n;         * IR == -1 if DA &lt; DB, IR == 0 if DA == DB,&n;         * IR == 1 if DA &gt; DB and IR == 3 if unorderded&n;         */
id|emu_set_CC
c_func
(paren
id|regs
comma
(paren
id|IR
op_eq
op_minus
l_int|1
)paren
ques
c_cond
l_int|1
suffix:colon
(paren
id|IR
op_eq
l_int|1
)paren
ques
c_cond
l_int|2
suffix:colon
id|IR
)paren
suffix:semicolon
r_if
c_cond
(paren
id|IR
op_eq
l_int|3
)paren
id|FP_SET_EXCEPTION
(paren
id|FP_EX_INVALID
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Compare and signal double */
DECL|function|emu_kdbr
r_static
r_int
id|emu_kdbr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_D
c_func
(paren
id|DA
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DB
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|IR
suffix:semicolon
id|FP_UNPACK_RAW_DP
c_func
(paren
id|DA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|d
)paren
suffix:semicolon
id|FP_UNPACK_RAW_DP
c_func
(paren
id|DB
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|d
)paren
suffix:semicolon
id|FP_CMP_D
c_func
(paren
id|IR
comma
id|DA
comma
id|DB
comma
l_int|3
)paren
suffix:semicolon
multiline_comment|/*&n;         * IR == -1 if DA &lt; DB, IR == 0 if DA == DB,&n;         * IR == 1 if DA &gt; DB and IR == 3 if unorderded&n;         */
id|emu_set_CC
c_func
(paren
id|regs
comma
(paren
id|IR
op_eq
op_minus
l_int|1
)paren
ques
c_cond
l_int|1
suffix:colon
(paren
id|IR
op_eq
l_int|1
)paren
ques
c_cond
l_int|2
suffix:colon
id|IR
)paren
suffix:semicolon
r_if
c_cond
(paren
id|IR
op_eq
l_int|3
)paren
id|FP_SET_EXCEPTION
(paren
id|FP_EX_INVALID
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Compare and signal double */
DECL|function|emu_kdb
r_static
r_int
id|emu_kdb
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_float
op_star
id|val
)paren
(brace
id|FP_DECL_D
c_func
(paren
id|DA
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DB
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|IR
suffix:semicolon
id|FP_UNPACK_RAW_DP
c_func
(paren
id|DA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|d
)paren
suffix:semicolon
id|FP_UNPACK_RAW_DP
c_func
(paren
id|DB
comma
id|val
)paren
suffix:semicolon
id|FP_CMP_D
c_func
(paren
id|IR
comma
id|DA
comma
id|DB
comma
l_int|3
)paren
suffix:semicolon
multiline_comment|/*&n;         * IR == -1 if DA &lt; DB, IR == 0 if DA == DB,&n;         * IR == 1 if DA &gt; DB and IR == 3 if unorderded&n;         */
id|emu_set_CC
c_func
(paren
id|regs
comma
(paren
id|IR
op_eq
op_minus
l_int|1
)paren
ques
c_cond
l_int|1
suffix:colon
(paren
id|IR
op_eq
l_int|1
)paren
ques
c_cond
l_int|2
suffix:colon
id|IR
)paren
suffix:semicolon
r_if
c_cond
(paren
id|IR
op_eq
l_int|3
)paren
id|FP_SET_EXCEPTION
(paren
id|FP_EX_INVALID
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Compare and signal float */
DECL|function|emu_kebr
r_static
r_int
id|emu_kebr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_S
c_func
(paren
id|SA
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SB
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|IR
suffix:semicolon
id|FP_UNPACK_RAW_SP
c_func
(paren
id|SA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|f
)paren
suffix:semicolon
id|FP_UNPACK_RAW_SP
c_func
(paren
id|SB
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|f
)paren
suffix:semicolon
id|FP_CMP_S
c_func
(paren
id|IR
comma
id|SA
comma
id|SB
comma
l_int|3
)paren
suffix:semicolon
multiline_comment|/*&n;         * IR == -1 if DA &lt; DB, IR == 0 if DA == DB,&n;         * IR == 1 if DA &gt; DB and IR == 3 if unorderded&n;         */
id|emu_set_CC
c_func
(paren
id|regs
comma
(paren
id|IR
op_eq
op_minus
l_int|1
)paren
ques
c_cond
l_int|1
suffix:colon
(paren
id|IR
op_eq
l_int|1
)paren
ques
c_cond
l_int|2
suffix:colon
id|IR
)paren
suffix:semicolon
r_if
c_cond
(paren
id|IR
op_eq
l_int|3
)paren
id|FP_SET_EXCEPTION
(paren
id|FP_EX_INVALID
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Compare and signal float */
DECL|function|emu_keb
r_static
r_int
id|emu_keb
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_float
op_star
id|val
)paren
(brace
id|FP_DECL_S
c_func
(paren
id|SA
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SB
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|IR
suffix:semicolon
id|FP_UNPACK_RAW_SP
c_func
(paren
id|SA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|f
)paren
suffix:semicolon
id|FP_UNPACK_RAW_SP
c_func
(paren
id|SB
comma
id|val
)paren
suffix:semicolon
id|FP_CMP_S
c_func
(paren
id|IR
comma
id|SA
comma
id|SB
comma
l_int|3
)paren
suffix:semicolon
multiline_comment|/*&n;         * IR == -1 if DA &lt; DB, IR == 0 if DA == DB,&n;         * IR == 1 if DA &gt; DB and IR == 3 if unorderded&n;         */
id|emu_set_CC
c_func
(paren
id|regs
comma
(paren
id|IR
op_eq
op_minus
l_int|1
)paren
ques
c_cond
l_int|1
suffix:colon
(paren
id|IR
op_eq
l_int|1
)paren
ques
c_cond
l_int|2
suffix:colon
id|IR
)paren
suffix:semicolon
r_if
c_cond
(paren
id|IR
op_eq
l_int|3
)paren
id|FP_SET_EXCEPTION
(paren
id|FP_EX_INVALID
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Convert from fixed long double */
DECL|function|emu_cxfbr
r_static
r_int
id|emu_cxfbr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_Q
c_func
(paren
id|QR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
id|mathemu_ldcv
id|cvt
suffix:semicolon
id|__s32
id|si
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|si
op_assign
id|regs-&gt;gprs
(braket
id|ry
)braket
suffix:semicolon
id|FP_FROM_INT_Q
c_func
(paren
id|QR
comma
id|si
comma
l_int|32
comma
r_int
)paren
suffix:semicolon
id|FP_PACK_QP
c_func
(paren
op_amp
id|cvt.ld
comma
id|QR
)paren
suffix:semicolon
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|ui
op_assign
id|cvt.w.high
suffix:semicolon
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
op_plus
l_int|2
)braket
dot
id|ui
op_assign
id|cvt.w.low
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Convert from fixed double */
DECL|function|emu_cdfbr
r_static
r_int
id|emu_cdfbr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_D
c_func
(paren
id|DR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
id|__s32
id|si
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|si
op_assign
id|regs-&gt;gprs
(braket
id|ry
)braket
suffix:semicolon
id|FP_FROM_INT_D
c_func
(paren
id|DR
comma
id|si
comma
l_int|32
comma
r_int
)paren
suffix:semicolon
id|FP_PACK_DP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|d
comma
id|DR
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Convert from fixed float */
DECL|function|emu_cefbr
r_static
r_int
id|emu_cefbr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_S
c_func
(paren
id|SR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
id|__s32
id|si
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|si
op_assign
id|regs-&gt;gprs
(braket
id|ry
)braket
suffix:semicolon
id|FP_FROM_INT_S
c_func
(paren
id|SR
comma
id|si
comma
l_int|32
comma
r_int
)paren
suffix:semicolon
id|FP_PACK_SP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|f
comma
id|SR
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Convert to fixed long double */
DECL|function|emu_cfxbr
r_static
r_int
id|emu_cfxbr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
comma
r_int
id|mask
)paren
(brace
id|FP_DECL_Q
c_func
(paren
id|QA
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
id|mathemu_ldcv
id|cvt
suffix:semicolon
id|__s32
id|si
suffix:semicolon
r_int
id|mode
suffix:semicolon
r_if
c_cond
(paren
id|mask
op_eq
l_int|0
)paren
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
r_else
r_if
c_cond
(paren
id|mask
op_eq
l_int|1
)paren
id|mode
op_assign
id|FP_RND_NEAREST
suffix:semicolon
r_else
id|mode
op_assign
id|mask
op_minus
l_int|4
suffix:semicolon
id|cvt.w.high
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|ui
suffix:semicolon
id|cvt.w.low
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
op_plus
l_int|2
)braket
dot
id|ui
suffix:semicolon
id|FP_UNPACK_QP
c_func
(paren
id|QA
comma
op_amp
id|cvt.ld
)paren
suffix:semicolon
id|FP_TO_INT_ROUND_Q
c_func
(paren
id|si
comma
id|QA
comma
l_int|32
comma
l_int|1
)paren
suffix:semicolon
id|regs-&gt;gprs
(braket
id|rx
)braket
op_assign
id|si
suffix:semicolon
id|emu_set_CC_cs
c_func
(paren
id|regs
comma
id|QA_c
comma
id|QA_s
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Convert to fixed double */
DECL|function|emu_cfdbr
r_static
r_int
id|emu_cfdbr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
comma
r_int
id|mask
)paren
(brace
id|FP_DECL_D
c_func
(paren
id|DA
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
id|__s32
id|si
suffix:semicolon
r_int
id|mode
suffix:semicolon
r_if
c_cond
(paren
id|mask
op_eq
l_int|0
)paren
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
r_else
r_if
c_cond
(paren
id|mask
op_eq
l_int|1
)paren
id|mode
op_assign
id|FP_RND_NEAREST
suffix:semicolon
r_else
id|mode
op_assign
id|mask
op_minus
l_int|4
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|d
)paren
suffix:semicolon
id|FP_TO_INT_ROUND_D
c_func
(paren
id|si
comma
id|DA
comma
l_int|32
comma
l_int|1
)paren
suffix:semicolon
id|regs-&gt;gprs
(braket
id|rx
)braket
op_assign
id|si
suffix:semicolon
id|emu_set_CC_cs
c_func
(paren
id|regs
comma
id|DA_c
comma
id|DA_s
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Convert to fixed float */
DECL|function|emu_cfebr
r_static
r_int
id|emu_cfebr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
comma
r_int
id|mask
)paren
(brace
id|FP_DECL_S
c_func
(paren
id|SA
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
id|__s32
id|si
suffix:semicolon
r_int
id|mode
suffix:semicolon
r_if
c_cond
(paren
id|mask
op_eq
l_int|0
)paren
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
r_else
r_if
c_cond
(paren
id|mask
op_eq
l_int|1
)paren
id|mode
op_assign
id|FP_RND_NEAREST
suffix:semicolon
r_else
id|mode
op_assign
id|mask
op_minus
l_int|4
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|f
)paren
suffix:semicolon
id|FP_TO_INT_ROUND_S
c_func
(paren
id|si
comma
id|SA
comma
l_int|32
comma
l_int|1
)paren
suffix:semicolon
id|regs-&gt;gprs
(braket
id|rx
)braket
op_assign
id|si
suffix:semicolon
id|emu_set_CC_cs
c_func
(paren
id|regs
comma
id|SA_c
comma
id|SA_s
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Divide long double */
DECL|function|emu_dxbr
r_static
r_int
id|emu_dxbr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_Q
c_func
(paren
id|QA
)paren
suffix:semicolon
id|FP_DECL_Q
c_func
(paren
id|QB
)paren
suffix:semicolon
id|FP_DECL_Q
c_func
(paren
id|QR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
id|mathemu_ldcv
id|cvt
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|cvt.w.high
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|ui
suffix:semicolon
id|cvt.w.low
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
op_plus
l_int|2
)braket
dot
id|ui
suffix:semicolon
id|FP_UNPACK_QP
c_func
(paren
id|QA
comma
op_amp
id|cvt.ld
)paren
suffix:semicolon
id|cvt.w.high
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|ui
suffix:semicolon
id|cvt.w.low
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
op_plus
l_int|2
)braket
dot
id|ui
suffix:semicolon
id|FP_UNPACK_QP
c_func
(paren
id|QB
comma
op_amp
id|cvt.ld
)paren
suffix:semicolon
id|FP_DIV_Q
c_func
(paren
id|QR
comma
id|QA
comma
id|QB
)paren
suffix:semicolon
id|FP_PACK_QP
c_func
(paren
op_amp
id|cvt.ld
comma
id|QR
)paren
suffix:semicolon
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|ui
op_assign
id|cvt.w.high
suffix:semicolon
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
op_plus
l_int|2
)braket
dot
id|ui
op_assign
id|cvt.w.low
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Divide double */
DECL|function|emu_ddbr
r_static
r_int
id|emu_ddbr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_D
c_func
(paren
id|DA
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DB
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|d
)paren
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DB
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|d
)paren
suffix:semicolon
id|FP_DIV_D
c_func
(paren
id|DR
comma
id|DA
comma
id|DB
)paren
suffix:semicolon
id|FP_PACK_DP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|d
comma
id|DR
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Divide double */
DECL|function|emu_ddb
r_static
r_int
id|emu_ddb
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_float
op_star
id|val
)paren
(brace
id|FP_DECL_D
c_func
(paren
id|DA
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DB
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|d
)paren
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DB
comma
id|val
)paren
suffix:semicolon
id|FP_DIV_D
c_func
(paren
id|DR
comma
id|DA
comma
id|DB
)paren
suffix:semicolon
id|FP_PACK_DP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|d
comma
id|DR
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Divide float */
DECL|function|emu_debr
r_static
r_int
id|emu_debr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_S
c_func
(paren
id|SA
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SB
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|f
)paren
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SB
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|f
)paren
suffix:semicolon
id|FP_DIV_S
c_func
(paren
id|SR
comma
id|SA
comma
id|SB
)paren
suffix:semicolon
id|FP_PACK_SP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|f
comma
id|SR
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Divide float */
DECL|function|emu_deb
r_static
r_int
id|emu_deb
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_float
op_star
id|val
)paren
(brace
id|FP_DECL_S
c_func
(paren
id|SA
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SB
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|f
)paren
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SB
comma
id|val
)paren
suffix:semicolon
id|FP_DIV_S
c_func
(paren
id|SR
comma
id|SA
comma
id|SB
)paren
suffix:semicolon
id|FP_PACK_SP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|f
comma
id|SR
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Divide to integer double */
DECL|function|emu_didbr
r_static
r_int
id|emu_didbr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
comma
r_int
id|mask
)paren
(brace
id|display_emulation_not_implemented
c_func
(paren
id|regs
comma
l_string|&quot;didbr&quot;
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/* Divide to integer float */
DECL|function|emu_diebr
r_static
r_int
id|emu_diebr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
comma
r_int
id|mask
)paren
(brace
id|display_emulation_not_implemented
c_func
(paren
id|regs
comma
l_string|&quot;diebr&quot;
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/* Extract fpc */
DECL|function|emu_efpc
r_static
r_int
id|emu_efpc
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|regs-&gt;gprs
(braket
id|rx
)braket
op_assign
id|current-&gt;thread.fp_regs.fpc
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/* Load and test long double */
DECL|function|emu_ltxbr
r_static
r_int
id|emu_ltxbr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|s390_fp_regs
op_star
id|fp_regs
op_assign
op_amp
id|current-&gt;thread.fp_regs
suffix:semicolon
id|mathemu_ldcv
id|cvt
suffix:semicolon
id|FP_DECL_Q
c_func
(paren
id|QA
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
id|cvt.w.high
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|ui
suffix:semicolon
id|cvt.w.low
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
op_plus
l_int|2
)braket
dot
id|ui
suffix:semicolon
id|FP_UNPACK_QP
c_func
(paren
id|QA
comma
op_amp
id|cvt.ld
)paren
suffix:semicolon
id|fp_regs-&gt;fprs
(braket
id|rx
)braket
dot
id|ui
op_assign
id|fp_regs-&gt;fprs
(braket
id|ry
)braket
dot
id|ui
suffix:semicolon
id|fp_regs-&gt;fprs
(braket
id|rx
op_plus
l_int|2
)braket
dot
id|ui
op_assign
id|fp_regs-&gt;fprs
(braket
id|ry
op_plus
l_int|2
)braket
dot
id|ui
suffix:semicolon
id|emu_set_CC_cs
c_func
(paren
id|regs
comma
id|QA_c
comma
id|QA_s
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Load and test double */
DECL|function|emu_ltdbr
r_static
r_int
id|emu_ltdbr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|s390_fp_regs
op_star
id|fp_regs
op_assign
op_amp
id|current-&gt;thread.fp_regs
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DA
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DA
comma
op_amp
id|fp_regs-&gt;fprs
(braket
id|ry
)braket
dot
id|d
)paren
suffix:semicolon
id|fp_regs-&gt;fprs
(braket
id|rx
)braket
dot
id|ui
op_assign
id|fp_regs-&gt;fprs
(braket
id|ry
)braket
dot
id|ui
suffix:semicolon
id|emu_set_CC_cs
c_func
(paren
id|regs
comma
id|DA_c
comma
id|DA_s
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Load and test double */
DECL|function|emu_ltebr
r_static
r_int
id|emu_ltebr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|s390_fp_regs
op_star
id|fp_regs
op_assign
op_amp
id|current-&gt;thread.fp_regs
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SA
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SA
comma
op_amp
id|fp_regs-&gt;fprs
(braket
id|ry
)braket
dot
id|f
)paren
suffix:semicolon
id|fp_regs-&gt;fprs
(braket
id|rx
)braket
dot
id|ui
op_assign
id|fp_regs-&gt;fprs
(braket
id|ry
)braket
dot
id|ui
suffix:semicolon
id|emu_set_CC_cs
c_func
(paren
id|regs
comma
id|SA_c
comma
id|SA_s
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Load complement long double */
DECL|function|emu_lcxbr
r_static
r_int
id|emu_lcxbr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_Q
c_func
(paren
id|QA
)paren
suffix:semicolon
id|FP_DECL_Q
c_func
(paren
id|QR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
id|mathemu_ldcv
id|cvt
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|cvt.w.high
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|ui
suffix:semicolon
id|cvt.w.low
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
op_plus
l_int|2
)braket
dot
id|ui
suffix:semicolon
id|FP_UNPACK_QP
c_func
(paren
id|QA
comma
op_amp
id|cvt.ld
)paren
suffix:semicolon
id|FP_NEG_Q
c_func
(paren
id|QR
comma
id|QA
)paren
suffix:semicolon
id|FP_PACK_QP
c_func
(paren
op_amp
id|cvt.ld
comma
id|QR
)paren
suffix:semicolon
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|ui
op_assign
id|cvt.w.high
suffix:semicolon
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
op_plus
l_int|2
)braket
dot
id|ui
op_assign
id|cvt.w.low
suffix:semicolon
id|emu_set_CC_cs
c_func
(paren
id|regs
comma
id|QR_c
comma
id|QR_s
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Load complement double */
DECL|function|emu_lcdbr
r_static
r_int
id|emu_lcdbr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_D
c_func
(paren
id|DA
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|d
)paren
suffix:semicolon
id|FP_NEG_D
c_func
(paren
id|DR
comma
id|DA
)paren
suffix:semicolon
id|FP_PACK_DP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|d
comma
id|DR
)paren
suffix:semicolon
id|emu_set_CC_cs
c_func
(paren
id|regs
comma
id|DR_c
comma
id|DR_s
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Load complement float */
DECL|function|emu_lcebr
r_static
r_int
id|emu_lcebr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_S
c_func
(paren
id|SA
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|f
)paren
suffix:semicolon
id|FP_NEG_S
c_func
(paren
id|SR
comma
id|SA
)paren
suffix:semicolon
id|FP_PACK_SP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|f
comma
id|SR
)paren
suffix:semicolon
id|emu_set_CC_cs
c_func
(paren
id|regs
comma
id|SR_c
comma
id|SR_s
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Load floating point integer long double */
DECL|function|emu_fixbr
r_static
r_int
id|emu_fixbr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
comma
r_int
id|mask
)paren
(brace
id|s390_fp_regs
op_star
id|fp_regs
op_assign
op_amp
id|current-&gt;thread.fp_regs
suffix:semicolon
id|FP_DECL_Q
c_func
(paren
id|QA
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
id|mathemu_ldcv
id|cvt
suffix:semicolon
id|__s32
id|si
suffix:semicolon
r_int
id|mode
suffix:semicolon
r_if
c_cond
(paren
id|mask
op_eq
l_int|0
)paren
id|mode
op_assign
id|fp_regs-&gt;fpc
op_amp
l_int|3
suffix:semicolon
r_else
r_if
c_cond
(paren
id|mask
op_eq
l_int|1
)paren
id|mode
op_assign
id|FP_RND_NEAREST
suffix:semicolon
r_else
id|mode
op_assign
id|mask
op_minus
l_int|4
suffix:semicolon
id|cvt.w.high
op_assign
id|fp_regs-&gt;fprs
(braket
id|ry
)braket
dot
id|ui
suffix:semicolon
id|cvt.w.low
op_assign
id|fp_regs-&gt;fprs
(braket
id|ry
op_plus
l_int|2
)braket
dot
id|ui
suffix:semicolon
id|FP_UNPACK_QP
c_func
(paren
id|QA
comma
op_amp
id|cvt.ld
)paren
suffix:semicolon
id|FP_TO_FPINT_ROUND_Q
c_func
(paren
id|QA
)paren
suffix:semicolon
id|FP_PACK_QP
c_func
(paren
op_amp
id|cvt.ld
comma
id|QA
)paren
suffix:semicolon
id|fp_regs-&gt;fprs
(braket
id|rx
)braket
dot
id|ui
op_assign
id|cvt.w.high
suffix:semicolon
id|fp_regs-&gt;fprs
(braket
id|rx
op_plus
l_int|2
)braket
dot
id|ui
op_assign
id|cvt.w.low
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Load floating point integer double */
DECL|function|emu_fidbr
r_static
r_int
id|emu_fidbr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
comma
r_int
id|mask
)paren
(brace
multiline_comment|/* FIXME: rounding mode !! */
id|s390_fp_regs
op_star
id|fp_regs
op_assign
op_amp
id|current-&gt;thread.fp_regs
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DA
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
id|__s32
id|si
suffix:semicolon
r_int
id|mode
suffix:semicolon
r_if
c_cond
(paren
id|mask
op_eq
l_int|0
)paren
id|mode
op_assign
id|fp_regs-&gt;fpc
op_amp
l_int|3
suffix:semicolon
r_else
r_if
c_cond
(paren
id|mask
op_eq
l_int|1
)paren
id|mode
op_assign
id|FP_RND_NEAREST
suffix:semicolon
r_else
id|mode
op_assign
id|mask
op_minus
l_int|4
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DA
comma
op_amp
id|fp_regs-&gt;fprs
(braket
id|ry
)braket
dot
id|d
)paren
suffix:semicolon
id|FP_TO_FPINT_ROUND_D
c_func
(paren
id|DA
)paren
suffix:semicolon
id|FP_PACK_DP
c_func
(paren
op_amp
id|fp_regs-&gt;fprs
(braket
id|rx
)braket
dot
id|d
comma
id|DA
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Load floating point integer float */
DECL|function|emu_fiebr
r_static
r_int
id|emu_fiebr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
comma
r_int
id|mask
)paren
(brace
id|s390_fp_regs
op_star
id|fp_regs
op_assign
op_amp
id|current-&gt;thread.fp_regs
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SA
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
id|__s32
id|si
suffix:semicolon
r_int
id|mode
suffix:semicolon
r_if
c_cond
(paren
id|mask
op_eq
l_int|0
)paren
id|mode
op_assign
id|fp_regs-&gt;fpc
op_amp
l_int|3
suffix:semicolon
r_else
r_if
c_cond
(paren
id|mask
op_eq
l_int|1
)paren
id|mode
op_assign
id|FP_RND_NEAREST
suffix:semicolon
r_else
id|mode
op_assign
id|mask
op_minus
l_int|4
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SA
comma
op_amp
id|fp_regs-&gt;fprs
(braket
id|ry
)braket
dot
id|f
)paren
suffix:semicolon
id|FP_TO_FPINT_ROUND_S
c_func
(paren
id|SA
)paren
suffix:semicolon
id|FP_PACK_SP
c_func
(paren
op_amp
id|fp_regs-&gt;fprs
(braket
id|rx
)braket
dot
id|f
comma
id|SA
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Load lengthened double to long double */
DECL|function|emu_lxdbr
r_static
r_int
id|emu_lxdbr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_D
c_func
(paren
id|DA
)paren
suffix:semicolon
id|FP_DECL_Q
c_func
(paren
id|QR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
id|mathemu_ldcv
id|cvt
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|d
)paren
suffix:semicolon
id|FP_CONV
(paren
id|Q
comma
id|D
comma
l_int|4
comma
l_int|2
comma
id|QR
comma
id|DA
)paren
suffix:semicolon
id|FP_PACK_QP
c_func
(paren
op_amp
id|cvt.ld
comma
id|QR
)paren
suffix:semicolon
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|ui
op_assign
id|cvt.w.high
suffix:semicolon
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
op_plus
l_int|2
)braket
dot
id|ui
op_assign
id|cvt.w.low
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Load lengthened double to long double */
DECL|function|emu_lxdb
r_static
r_int
id|emu_lxdb
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_float
op_star
id|val
)paren
(brace
id|FP_DECL_D
c_func
(paren
id|DA
)paren
suffix:semicolon
id|FP_DECL_Q
c_func
(paren
id|QR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
id|mathemu_ldcv
id|cvt
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DA
comma
id|val
)paren
suffix:semicolon
id|FP_CONV
(paren
id|Q
comma
id|D
comma
l_int|4
comma
l_int|2
comma
id|QR
comma
id|DA
)paren
suffix:semicolon
id|FP_PACK_QP
c_func
(paren
op_amp
id|cvt.ld
comma
id|QR
)paren
suffix:semicolon
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|ui
op_assign
id|cvt.w.high
suffix:semicolon
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
op_plus
l_int|2
)braket
dot
id|ui
op_assign
id|cvt.w.low
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Load lengthened float to long double */
DECL|function|emu_lxebr
r_static
r_int
id|emu_lxebr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_S
c_func
(paren
id|SA
)paren
suffix:semicolon
id|FP_DECL_Q
c_func
(paren
id|QR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
id|mathemu_ldcv
id|cvt
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|f
)paren
suffix:semicolon
id|FP_CONV
(paren
id|Q
comma
id|S
comma
l_int|4
comma
l_int|1
comma
id|QR
comma
id|SA
)paren
suffix:semicolon
id|FP_PACK_QP
c_func
(paren
op_amp
id|cvt.ld
comma
id|QR
)paren
suffix:semicolon
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|ui
op_assign
id|cvt.w.high
suffix:semicolon
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
op_plus
l_int|2
)braket
dot
id|ui
op_assign
id|cvt.w.low
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Load lengthened float to long double */
DECL|function|emu_lxeb
r_static
r_int
id|emu_lxeb
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_float
op_star
id|val
)paren
(brace
id|FP_DECL_S
c_func
(paren
id|SA
)paren
suffix:semicolon
id|FP_DECL_Q
c_func
(paren
id|QR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
id|mathemu_ldcv
id|cvt
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SA
comma
id|val
)paren
suffix:semicolon
id|FP_CONV
(paren
id|Q
comma
id|S
comma
l_int|4
comma
l_int|1
comma
id|QR
comma
id|SA
)paren
suffix:semicolon
id|FP_PACK_QP
c_func
(paren
op_amp
id|cvt.ld
comma
id|QR
)paren
suffix:semicolon
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|ui
op_assign
id|cvt.w.high
suffix:semicolon
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
op_plus
l_int|2
)braket
dot
id|ui
op_assign
id|cvt.w.low
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Load lengthened float to double */
DECL|function|emu_ldebr
r_static
r_int
id|emu_ldebr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_S
c_func
(paren
id|SA
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|f
)paren
suffix:semicolon
id|FP_CONV
(paren
id|D
comma
id|S
comma
l_int|2
comma
l_int|1
comma
id|DR
comma
id|SA
)paren
suffix:semicolon
id|FP_PACK_DP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|d
comma
id|DR
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Load lengthened float to double */
DECL|function|emu_ldeb
r_static
r_int
id|emu_ldeb
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_float
op_star
id|val
)paren
(brace
id|FP_DECL_S
c_func
(paren
id|SA
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SA
comma
id|val
)paren
suffix:semicolon
id|FP_CONV
(paren
id|D
comma
id|S
comma
l_int|2
comma
l_int|1
comma
id|DR
comma
id|SA
)paren
suffix:semicolon
id|FP_PACK_DP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|d
comma
id|DR
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Load negative long double */
DECL|function|emu_lnxbr
r_static
r_int
id|emu_lnxbr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_Q
c_func
(paren
id|QA
)paren
suffix:semicolon
id|FP_DECL_Q
c_func
(paren
id|QR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
id|mathemu_ldcv
id|cvt
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|cvt.w.high
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|ui
suffix:semicolon
id|cvt.w.low
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
op_plus
l_int|2
)braket
dot
id|ui
suffix:semicolon
id|FP_UNPACK_QP
c_func
(paren
id|QA
comma
op_amp
id|cvt.ld
)paren
suffix:semicolon
r_if
c_cond
(paren
id|QA_s
op_eq
l_int|0
)paren
(brace
id|FP_NEG_Q
c_func
(paren
id|QR
comma
id|QA
)paren
suffix:semicolon
id|FP_PACK_QP
c_func
(paren
op_amp
id|cvt.ld
comma
id|QR
)paren
suffix:semicolon
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|ui
op_assign
id|cvt.w.high
suffix:semicolon
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
op_plus
l_int|2
)braket
dot
id|ui
op_assign
id|cvt.w.low
suffix:semicolon
)brace
r_else
(brace
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|ui
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|ui
suffix:semicolon
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
op_plus
l_int|2
)braket
dot
id|ui
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
op_plus
l_int|2
)braket
dot
id|ui
suffix:semicolon
)brace
id|emu_set_CC_cs
c_func
(paren
id|regs
comma
id|QR_c
comma
id|QR_s
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Load negative double */
DECL|function|emu_lndbr
r_static
r_int
id|emu_lndbr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_D
c_func
(paren
id|DA
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|d
)paren
suffix:semicolon
r_if
c_cond
(paren
id|DA_s
op_eq
l_int|0
)paren
(brace
id|FP_NEG_D
c_func
(paren
id|DR
comma
id|DA
)paren
suffix:semicolon
id|FP_PACK_DP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|d
comma
id|DR
)paren
suffix:semicolon
)brace
r_else
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|ui
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|ui
suffix:semicolon
id|emu_set_CC_cs
c_func
(paren
id|regs
comma
id|DR_c
comma
id|DR_s
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Load negative float */
DECL|function|emu_lnebr
r_static
r_int
id|emu_lnebr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_S
c_func
(paren
id|SA
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|f
)paren
suffix:semicolon
r_if
c_cond
(paren
id|SA_s
op_eq
l_int|0
)paren
(brace
id|FP_NEG_S
c_func
(paren
id|SR
comma
id|SA
)paren
suffix:semicolon
id|FP_PACK_SP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|f
comma
id|SR
)paren
suffix:semicolon
)brace
r_else
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|ui
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|ui
suffix:semicolon
id|emu_set_CC_cs
c_func
(paren
id|regs
comma
id|SR_c
comma
id|SR_s
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Load positive long double */
DECL|function|emu_lpxbr
r_static
r_int
id|emu_lpxbr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_Q
c_func
(paren
id|QA
)paren
suffix:semicolon
id|FP_DECL_Q
c_func
(paren
id|QR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
id|mathemu_ldcv
id|cvt
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|cvt.w.high
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|ui
suffix:semicolon
id|cvt.w.low
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
op_plus
l_int|2
)braket
dot
id|ui
suffix:semicolon
id|FP_UNPACK_QP
c_func
(paren
id|QA
comma
op_amp
id|cvt.ld
)paren
suffix:semicolon
r_if
c_cond
(paren
id|QA_s
op_ne
l_int|0
)paren
(brace
id|FP_NEG_Q
c_func
(paren
id|QR
comma
id|QA
)paren
suffix:semicolon
id|FP_PACK_QP
c_func
(paren
op_amp
id|cvt.ld
comma
id|QR
)paren
suffix:semicolon
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|ui
op_assign
id|cvt.w.high
suffix:semicolon
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
op_plus
l_int|2
)braket
dot
id|ui
op_assign
id|cvt.w.low
suffix:semicolon
)brace
r_else
(brace
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|ui
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|ui
suffix:semicolon
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
op_plus
l_int|2
)braket
dot
id|ui
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
op_plus
l_int|2
)braket
dot
id|ui
suffix:semicolon
)brace
id|emu_set_CC_cs
c_func
(paren
id|regs
comma
id|QR_c
comma
id|QR_s
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Load positive double */
DECL|function|emu_lpdbr
r_static
r_int
id|emu_lpdbr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_D
c_func
(paren
id|DA
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|d
)paren
suffix:semicolon
r_if
c_cond
(paren
id|DA_s
op_ne
l_int|0
)paren
(brace
id|FP_NEG_D
c_func
(paren
id|DR
comma
id|DA
)paren
suffix:semicolon
id|FP_PACK_DP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|d
comma
id|DR
)paren
suffix:semicolon
)brace
r_else
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|ui
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|ui
suffix:semicolon
id|emu_set_CC_cs
c_func
(paren
id|regs
comma
id|DR_c
comma
id|DR_s
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Load positive float */
DECL|function|emu_lpebr
r_static
r_int
id|emu_lpebr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_S
c_func
(paren
id|SA
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|f
)paren
suffix:semicolon
r_if
c_cond
(paren
id|SA_s
op_ne
l_int|0
)paren
(brace
id|FP_NEG_S
c_func
(paren
id|SR
comma
id|SA
)paren
suffix:semicolon
id|FP_PACK_SP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|f
comma
id|SR
)paren
suffix:semicolon
)brace
r_else
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|ui
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|ui
suffix:semicolon
id|emu_set_CC_cs
c_func
(paren
id|regs
comma
id|SR_c
comma
id|SR_s
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Load rounded long double to double */
DECL|function|emu_ldxbr
r_static
r_int
id|emu_ldxbr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_Q
c_func
(paren
id|QA
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
id|mathemu_ldcv
id|cvt
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|cvt.w.high
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|ui
suffix:semicolon
id|cvt.w.low
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
op_plus
l_int|2
)braket
dot
id|ui
suffix:semicolon
id|FP_UNPACK_QP
c_func
(paren
id|QA
comma
op_amp
id|cvt.ld
)paren
suffix:semicolon
id|FP_CONV
(paren
id|D
comma
id|Q
comma
l_int|2
comma
l_int|4
comma
id|DR
comma
id|QA
)paren
suffix:semicolon
id|FP_PACK_DP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|f
comma
id|DR
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Load rounded long double to float */
DECL|function|emu_lexbr
r_static
r_int
id|emu_lexbr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_Q
c_func
(paren
id|QA
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
id|mathemu_ldcv
id|cvt
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|cvt.w.high
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|ui
suffix:semicolon
id|cvt.w.low
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
op_plus
l_int|2
)braket
dot
id|ui
suffix:semicolon
id|FP_UNPACK_QP
c_func
(paren
id|QA
comma
op_amp
id|cvt.ld
)paren
suffix:semicolon
id|FP_CONV
(paren
id|S
comma
id|Q
comma
l_int|1
comma
l_int|4
comma
id|SR
comma
id|QA
)paren
suffix:semicolon
id|FP_PACK_SP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|f
comma
id|SR
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Load rounded double to float */
DECL|function|emu_ledbr
r_static
r_int
id|emu_ledbr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_D
c_func
(paren
id|DA
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|d
)paren
suffix:semicolon
id|FP_CONV
(paren
id|S
comma
id|D
comma
l_int|1
comma
l_int|2
comma
id|SR
comma
id|DA
)paren
suffix:semicolon
id|FP_PACK_SP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|f
comma
id|SR
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Multiply long double */
DECL|function|emu_mxbr
r_static
r_int
id|emu_mxbr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_Q
c_func
(paren
id|QA
)paren
suffix:semicolon
id|FP_DECL_Q
c_func
(paren
id|QB
)paren
suffix:semicolon
id|FP_DECL_Q
c_func
(paren
id|QR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
id|mathemu_ldcv
id|cvt
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|cvt.w.high
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|ui
suffix:semicolon
id|cvt.w.low
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
op_plus
l_int|2
)braket
dot
id|ui
suffix:semicolon
id|FP_UNPACK_QP
c_func
(paren
id|QA
comma
op_amp
id|cvt.ld
)paren
suffix:semicolon
id|cvt.w.high
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|ui
suffix:semicolon
id|cvt.w.low
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
op_plus
l_int|2
)braket
dot
id|ui
suffix:semicolon
id|FP_UNPACK_QP
c_func
(paren
id|QB
comma
op_amp
id|cvt.ld
)paren
suffix:semicolon
id|FP_MUL_Q
c_func
(paren
id|QR
comma
id|QA
comma
id|QB
)paren
suffix:semicolon
id|FP_PACK_QP
c_func
(paren
op_amp
id|cvt.ld
comma
id|QR
)paren
suffix:semicolon
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|ui
op_assign
id|cvt.w.high
suffix:semicolon
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
op_plus
l_int|2
)braket
dot
id|ui
op_assign
id|cvt.w.low
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Multiply double */
DECL|function|emu_mdbr
r_static
r_int
id|emu_mdbr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_D
c_func
(paren
id|DA
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DB
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|d
)paren
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DB
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|d
)paren
suffix:semicolon
id|FP_MUL_D
c_func
(paren
id|DR
comma
id|DA
comma
id|DB
)paren
suffix:semicolon
id|FP_PACK_DP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|d
comma
id|DR
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Multiply double */
DECL|function|emu_mdb
r_static
r_int
id|emu_mdb
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_float
op_star
id|val
)paren
(brace
id|FP_DECL_D
c_func
(paren
id|DA
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DB
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|d
)paren
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DB
comma
id|val
)paren
suffix:semicolon
id|FP_MUL_D
c_func
(paren
id|DR
comma
id|DA
comma
id|DB
)paren
suffix:semicolon
id|FP_PACK_DP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|d
comma
id|DR
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Multiply double to long double */
DECL|function|emu_mxdbr
r_static
r_int
id|emu_mxdbr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_D
c_func
(paren
id|DA
)paren
suffix:semicolon
id|FP_DECL_Q
c_func
(paren
id|QA
)paren
suffix:semicolon
id|FP_DECL_Q
c_func
(paren
id|QB
)paren
suffix:semicolon
id|FP_DECL_Q
c_func
(paren
id|QR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
id|mathemu_ldcv
id|cvt
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|d
)paren
suffix:semicolon
id|FP_CONV
(paren
id|Q
comma
id|D
comma
l_int|4
comma
l_int|2
comma
id|QA
comma
id|DA
)paren
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|d
)paren
suffix:semicolon
id|FP_CONV
(paren
id|Q
comma
id|D
comma
l_int|4
comma
l_int|2
comma
id|QB
comma
id|DA
)paren
suffix:semicolon
id|FP_MUL_Q
c_func
(paren
id|QR
comma
id|QA
comma
id|QB
)paren
suffix:semicolon
id|FP_PACK_QP
c_func
(paren
op_amp
id|cvt.ld
comma
id|QR
)paren
suffix:semicolon
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|ui
op_assign
id|cvt.w.high
suffix:semicolon
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
op_plus
l_int|2
)braket
dot
id|ui
op_assign
id|cvt.w.low
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Multiply double to long double */
DECL|function|emu_mxdb
r_static
r_int
id|emu_mxdb
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
r_float
op_star
id|val
)paren
(brace
id|FP_DECL_Q
c_func
(paren
id|QA
)paren
suffix:semicolon
id|FP_DECL_Q
c_func
(paren
id|QB
)paren
suffix:semicolon
id|FP_DECL_Q
c_func
(paren
id|QR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
id|mathemu_ldcv
id|cvt
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|cvt.w.high
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|ui
suffix:semicolon
id|cvt.w.low
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
op_plus
l_int|2
)braket
dot
id|ui
suffix:semicolon
id|FP_UNPACK_QP
c_func
(paren
id|QA
comma
op_amp
id|cvt.ld
)paren
suffix:semicolon
id|FP_UNPACK_QP
c_func
(paren
id|QB
comma
id|val
)paren
suffix:semicolon
id|FP_MUL_Q
c_func
(paren
id|QR
comma
id|QA
comma
id|QB
)paren
suffix:semicolon
id|FP_PACK_QP
c_func
(paren
op_amp
id|cvt.ld
comma
id|QR
)paren
suffix:semicolon
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|ui
op_assign
id|cvt.w.high
suffix:semicolon
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
op_plus
l_int|2
)braket
dot
id|ui
op_assign
id|cvt.w.low
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Multiply float */
DECL|function|emu_meebr
r_static
r_int
id|emu_meebr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_S
c_func
(paren
id|SA
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SB
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|f
)paren
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SB
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|f
)paren
suffix:semicolon
id|FP_MUL_S
c_func
(paren
id|SR
comma
id|SA
comma
id|SB
)paren
suffix:semicolon
id|FP_PACK_SP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|f
comma
id|SR
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Multiply float */
DECL|function|emu_meeb
r_static
r_int
id|emu_meeb
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_float
op_star
id|val
)paren
(brace
id|FP_DECL_S
c_func
(paren
id|SA
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SB
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|f
)paren
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SB
comma
id|val
)paren
suffix:semicolon
id|FP_MUL_S
c_func
(paren
id|SR
comma
id|SA
comma
id|SB
)paren
suffix:semicolon
id|FP_PACK_SP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|f
comma
id|SR
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Multiply float to double */
DECL|function|emu_mdebr
r_static
r_int
id|emu_mdebr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_S
c_func
(paren
id|SA
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DA
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DB
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|f
)paren
suffix:semicolon
id|FP_CONV
(paren
id|D
comma
id|S
comma
l_int|2
comma
l_int|1
comma
id|DA
comma
id|SA
)paren
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|f
)paren
suffix:semicolon
id|FP_CONV
(paren
id|D
comma
id|S
comma
l_int|2
comma
l_int|1
comma
id|DB
comma
id|SA
)paren
suffix:semicolon
id|FP_MUL_D
c_func
(paren
id|DR
comma
id|DA
comma
id|DB
)paren
suffix:semicolon
id|FP_PACK_DP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|d
comma
id|DR
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Multiply float to double */
DECL|function|emu_mdeb
r_static
r_int
id|emu_mdeb
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_float
op_star
id|val
)paren
(brace
id|FP_DECL_S
c_func
(paren
id|SA
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DA
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DB
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|f
)paren
suffix:semicolon
id|FP_CONV
(paren
id|D
comma
id|S
comma
l_int|2
comma
l_int|1
comma
id|DA
comma
id|SA
)paren
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SA
comma
id|val
)paren
suffix:semicolon
id|FP_CONV
(paren
id|D
comma
id|S
comma
l_int|2
comma
l_int|1
comma
id|DB
comma
id|SA
)paren
suffix:semicolon
id|FP_MUL_D
c_func
(paren
id|DR
comma
id|DA
comma
id|DB
)paren
suffix:semicolon
id|FP_PACK_DP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|d
comma
id|DR
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Multiply and add double */
DECL|function|emu_madbr
r_static
r_int
id|emu_madbr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
comma
r_int
id|rz
)paren
(brace
id|FP_DECL_D
c_func
(paren
id|DA
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DB
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DC
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|d
)paren
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DB
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|d
)paren
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DC
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rz
)braket
dot
id|d
)paren
suffix:semicolon
id|FP_MUL_D
c_func
(paren
id|DR
comma
id|DA
comma
id|DB
)paren
suffix:semicolon
id|FP_ADD_D
c_func
(paren
id|DR
comma
id|DR
comma
id|DC
)paren
suffix:semicolon
id|FP_PACK_DP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rz
)braket
dot
id|d
comma
id|DR
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Multiply and add double */
DECL|function|emu_madb
r_static
r_int
id|emu_madb
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_float
op_star
id|val
comma
r_int
id|rz
)paren
(brace
id|FP_DECL_D
c_func
(paren
id|DA
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DB
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DC
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|d
)paren
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DB
comma
id|val
)paren
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DC
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rz
)braket
dot
id|d
)paren
suffix:semicolon
id|FP_MUL_D
c_func
(paren
id|DR
comma
id|DA
comma
id|DB
)paren
suffix:semicolon
id|FP_ADD_D
c_func
(paren
id|DR
comma
id|DR
comma
id|DC
)paren
suffix:semicolon
id|FP_PACK_DP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rz
)braket
dot
id|d
comma
id|DR
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Multiply and add float */
DECL|function|emu_maebr
r_static
r_int
id|emu_maebr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
comma
r_int
id|rz
)paren
(brace
id|FP_DECL_S
c_func
(paren
id|SA
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SB
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SC
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|f
)paren
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SB
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|f
)paren
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SC
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rz
)braket
dot
id|f
)paren
suffix:semicolon
id|FP_MUL_S
c_func
(paren
id|SR
comma
id|SA
comma
id|SB
)paren
suffix:semicolon
id|FP_ADD_S
c_func
(paren
id|SR
comma
id|SR
comma
id|SC
)paren
suffix:semicolon
id|FP_PACK_SP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rz
)braket
dot
id|f
comma
id|SR
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Multiply and add float */
DECL|function|emu_maeb
r_static
r_int
id|emu_maeb
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_float
op_star
id|val
comma
r_int
id|rz
)paren
(brace
id|FP_DECL_S
c_func
(paren
id|SA
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SB
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SC
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|f
)paren
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SB
comma
id|val
)paren
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SC
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rz
)braket
dot
id|f
)paren
suffix:semicolon
id|FP_MUL_S
c_func
(paren
id|SR
comma
id|SA
comma
id|SB
)paren
suffix:semicolon
id|FP_ADD_S
c_func
(paren
id|SR
comma
id|SR
comma
id|SC
)paren
suffix:semicolon
id|FP_PACK_SP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rz
)braket
dot
id|f
comma
id|SR
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Multiply and subtract double */
DECL|function|emu_msdbr
r_static
r_int
id|emu_msdbr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
comma
r_int
id|rz
)paren
(brace
id|FP_DECL_D
c_func
(paren
id|DA
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DB
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DC
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|d
)paren
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DB
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|d
)paren
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DC
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rz
)braket
dot
id|d
)paren
suffix:semicolon
id|FP_MUL_D
c_func
(paren
id|DR
comma
id|DA
comma
id|DB
)paren
suffix:semicolon
id|FP_SUB_D
c_func
(paren
id|DR
comma
id|DR
comma
id|DC
)paren
suffix:semicolon
id|FP_PACK_DP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rz
)braket
dot
id|d
comma
id|DR
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Multiply and subtract double */
DECL|function|emu_msdb
r_static
r_int
id|emu_msdb
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_float
op_star
id|val
comma
r_int
id|rz
)paren
(brace
id|FP_DECL_D
c_func
(paren
id|DA
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DB
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DC
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|d
)paren
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DB
comma
id|val
)paren
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DC
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rz
)braket
dot
id|d
)paren
suffix:semicolon
id|FP_MUL_D
c_func
(paren
id|DR
comma
id|DA
comma
id|DB
)paren
suffix:semicolon
id|FP_SUB_D
c_func
(paren
id|DR
comma
id|DR
comma
id|DC
)paren
suffix:semicolon
id|FP_PACK_DP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rz
)braket
dot
id|d
comma
id|DR
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Multiply and subtract float */
DECL|function|emu_msebr
r_static
r_int
id|emu_msebr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
comma
r_int
id|rz
)paren
(brace
id|FP_DECL_S
c_func
(paren
id|SA
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SB
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SC
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|f
)paren
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SB
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|f
)paren
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SC
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rz
)braket
dot
id|f
)paren
suffix:semicolon
id|FP_MUL_S
c_func
(paren
id|SR
comma
id|SA
comma
id|SB
)paren
suffix:semicolon
id|FP_SUB_S
c_func
(paren
id|SR
comma
id|SR
comma
id|SC
)paren
suffix:semicolon
id|FP_PACK_SP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rz
)braket
dot
id|f
comma
id|SR
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Multiply and subtract float */
DECL|function|emu_mseb
r_static
r_int
id|emu_mseb
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_float
op_star
id|val
comma
r_int
id|rz
)paren
(brace
id|FP_DECL_S
c_func
(paren
id|SA
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SB
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SC
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|f
)paren
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SB
comma
id|val
)paren
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SC
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rz
)braket
dot
id|f
)paren
suffix:semicolon
id|FP_MUL_S
c_func
(paren
id|SR
comma
id|SA
comma
id|SB
)paren
suffix:semicolon
id|FP_SUB_S
c_func
(paren
id|SR
comma
id|SR
comma
id|SC
)paren
suffix:semicolon
id|FP_PACK_SP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rz
)braket
dot
id|f
comma
id|SR
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Set floating point control word */
DECL|function|emu_sfpc
r_static
r_int
id|emu_sfpc
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|__u32
id|temp
suffix:semicolon
id|temp
op_assign
id|regs-&gt;gprs
(braket
id|rx
)braket
suffix:semicolon
r_if
c_cond
(paren
(paren
id|temp
op_amp
op_complement
id|FPC_VALID_MASK
)paren
op_ne
l_int|0
)paren
r_return
id|SIGILL
suffix:semicolon
id|current-&gt;thread.fp_regs.fpc
op_assign
id|temp
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/* Square root long double */
DECL|function|emu_sqxbr
r_static
r_int
id|emu_sqxbr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_Q
c_func
(paren
id|QA
)paren
suffix:semicolon
id|FP_DECL_Q
c_func
(paren
id|QR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
id|mathemu_ldcv
id|cvt
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|cvt.w.high
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|ui
suffix:semicolon
id|cvt.w.low
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
op_plus
l_int|2
)braket
dot
id|ui
suffix:semicolon
id|FP_UNPACK_QP
c_func
(paren
id|QA
comma
op_amp
id|cvt.ld
)paren
suffix:semicolon
id|FP_SQRT_Q
c_func
(paren
id|QR
comma
id|QA
)paren
suffix:semicolon
id|FP_PACK_QP
c_func
(paren
op_amp
id|cvt.ld
comma
id|QR
)paren
suffix:semicolon
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|ui
op_assign
id|cvt.w.high
suffix:semicolon
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
op_plus
l_int|2
)braket
dot
id|ui
op_assign
id|cvt.w.low
suffix:semicolon
id|emu_set_CC_cs
c_func
(paren
id|regs
comma
id|QR_c
comma
id|QR_s
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Square root double */
DECL|function|emu_sqdbr
r_static
r_int
id|emu_sqdbr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_D
c_func
(paren
id|DA
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|d
)paren
suffix:semicolon
id|FP_SQRT_D
c_func
(paren
id|DR
comma
id|DA
)paren
suffix:semicolon
id|FP_PACK_DP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|d
comma
id|DR
)paren
suffix:semicolon
id|emu_set_CC_cs
c_func
(paren
id|regs
comma
id|DR_c
comma
id|DR_s
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Square root double */
DECL|function|emu_sqdb
r_static
r_int
id|emu_sqdb
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_float
op_star
id|val
)paren
(brace
id|FP_DECL_D
c_func
(paren
id|DA
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DA
comma
id|val
)paren
suffix:semicolon
id|FP_SQRT_D
c_func
(paren
id|DR
comma
id|DA
)paren
suffix:semicolon
id|FP_PACK_DP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|d
comma
id|DR
)paren
suffix:semicolon
id|emu_set_CC_cs
c_func
(paren
id|regs
comma
id|DR_c
comma
id|DR_s
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Square root float */
DECL|function|emu_sqebr
r_static
r_int
id|emu_sqebr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_S
c_func
(paren
id|SA
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|f
)paren
suffix:semicolon
id|FP_SQRT_S
c_func
(paren
id|SR
comma
id|SA
)paren
suffix:semicolon
id|FP_PACK_SP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|f
comma
id|SR
)paren
suffix:semicolon
id|emu_set_CC_cs
c_func
(paren
id|regs
comma
id|SR_c
comma
id|SR_s
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Square root float */
DECL|function|emu_sqeb
r_static
r_int
id|emu_sqeb
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_float
op_star
id|val
)paren
(brace
id|FP_DECL_S
c_func
(paren
id|SA
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SA
comma
id|val
)paren
suffix:semicolon
id|FP_SQRT_S
c_func
(paren
id|SR
comma
id|SA
)paren
suffix:semicolon
id|FP_PACK_SP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|f
comma
id|SR
)paren
suffix:semicolon
id|emu_set_CC_cs
c_func
(paren
id|regs
comma
id|SR_c
comma
id|SR_s
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Subtract long double */
DECL|function|emu_sxbr
r_static
r_int
id|emu_sxbr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_Q
c_func
(paren
id|QA
)paren
suffix:semicolon
id|FP_DECL_Q
c_func
(paren
id|QB
)paren
suffix:semicolon
id|FP_DECL_Q
c_func
(paren
id|QR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
id|mathemu_ldcv
id|cvt
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|cvt.w.high
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|ui
suffix:semicolon
id|cvt.w.low
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
op_plus
l_int|2
)braket
dot
id|ui
suffix:semicolon
id|FP_UNPACK_QP
c_func
(paren
id|QA
comma
op_amp
id|cvt.ld
)paren
suffix:semicolon
id|cvt.w.high
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|ui
suffix:semicolon
id|cvt.w.low
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
op_plus
l_int|2
)braket
dot
id|ui
suffix:semicolon
id|FP_UNPACK_QP
c_func
(paren
id|QB
comma
op_amp
id|cvt.ld
)paren
suffix:semicolon
id|FP_SUB_Q
c_func
(paren
id|QR
comma
id|QA
comma
id|QB
)paren
suffix:semicolon
id|FP_PACK_QP
c_func
(paren
op_amp
id|cvt.ld
comma
id|QR
)paren
suffix:semicolon
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|ui
op_assign
id|cvt.w.high
suffix:semicolon
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
op_plus
l_int|2
)braket
dot
id|ui
op_assign
id|cvt.w.low
suffix:semicolon
id|emu_set_CC_cs
c_func
(paren
id|regs
comma
id|QR_c
comma
id|QR_s
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Subtract double */
DECL|function|emu_sdbr
r_static
r_int
id|emu_sdbr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_D
c_func
(paren
id|DA
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DB
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|d
)paren
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DB
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|d
)paren
suffix:semicolon
id|FP_SUB_D
c_func
(paren
id|DR
comma
id|DA
comma
id|DB
)paren
suffix:semicolon
id|FP_PACK_DP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|d
comma
id|DR
)paren
suffix:semicolon
id|emu_set_CC_cs
c_func
(paren
id|regs
comma
id|DR_c
comma
id|DR_s
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Subtract double */
DECL|function|emu_sdb
r_static
r_int
id|emu_sdb
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_float
op_star
id|val
)paren
(brace
id|FP_DECL_D
c_func
(paren
id|DA
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DB
)paren
suffix:semicolon
id|FP_DECL_D
c_func
(paren
id|DR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|d
)paren
suffix:semicolon
id|FP_UNPACK_DP
c_func
(paren
id|DB
comma
id|val
)paren
suffix:semicolon
id|FP_SUB_D
c_func
(paren
id|DR
comma
id|DA
comma
id|DB
)paren
suffix:semicolon
id|FP_PACK_DP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|d
comma
id|DR
)paren
suffix:semicolon
id|emu_set_CC_cs
c_func
(paren
id|regs
comma
id|DR_c
comma
id|DR_s
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Subtract float */
DECL|function|emu_sebr
r_static
r_int
id|emu_sebr
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|ry
)paren
(brace
id|FP_DECL_S
c_func
(paren
id|SA
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SB
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|f
)paren
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SB
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|ry
)braket
dot
id|f
)paren
suffix:semicolon
id|FP_SUB_S
c_func
(paren
id|SR
comma
id|SA
comma
id|SB
)paren
suffix:semicolon
id|FP_PACK_SP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|f
comma
id|SR
)paren
suffix:semicolon
id|emu_set_CC_cs
c_func
(paren
id|regs
comma
id|SR_c
comma
id|SR_s
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Subtract float */
DECL|function|emu_seb
r_static
r_int
id|emu_seb
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_float
op_star
id|val
)paren
(brace
id|FP_DECL_S
c_func
(paren
id|SA
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SB
)paren
suffix:semicolon
id|FP_DECL_S
c_func
(paren
id|SR
)paren
suffix:semicolon
id|FP_DECL_EX
suffix:semicolon
r_int
id|mode
suffix:semicolon
id|mode
op_assign
id|current-&gt;thread.fp_regs.fpc
op_amp
l_int|3
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|f
)paren
suffix:semicolon
id|FP_UNPACK_SP
c_func
(paren
id|SB
comma
id|val
)paren
suffix:semicolon
id|FP_SUB_S
c_func
(paren
id|SR
comma
id|SA
comma
id|SB
)paren
suffix:semicolon
id|FP_PACK_SP
c_func
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|f
comma
id|SR
)paren
suffix:semicolon
id|emu_set_CC_cs
c_func
(paren
id|regs
comma
id|SR_c
comma
id|SR_s
)paren
suffix:semicolon
r_return
id|_fex
suffix:semicolon
)brace
multiline_comment|/* Test data class long double */
DECL|function|emu_tcxb
r_static
r_int
id|emu_tcxb
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|val
)paren
(brace
id|FP_DECL_Q
c_func
(paren
id|QA
)paren
suffix:semicolon
id|mathemu_ldcv
id|cvt
suffix:semicolon
r_int
id|bit
suffix:semicolon
id|cvt.w.high
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|ui
suffix:semicolon
id|cvt.w.low
op_assign
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
op_plus
l_int|2
)braket
dot
id|ui
suffix:semicolon
id|FP_UNPACK_RAW_QP
c_func
(paren
id|QA
comma
op_amp
id|cvt.ld
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|QA_e
)paren
(brace
r_default
suffix:colon
id|bit
op_assign
l_int|8
suffix:semicolon
multiline_comment|/* normalized number */
r_break
suffix:semicolon
r_case
l_int|0
suffix:colon
r_if
c_cond
(paren
id|_FP_FRAC_ZEROP_4
c_func
(paren
id|QA
)paren
)paren
id|bit
op_assign
l_int|10
suffix:semicolon
multiline_comment|/* zero */
r_else
id|bit
op_assign
l_int|6
suffix:semicolon
multiline_comment|/* denormalized number */
r_break
suffix:semicolon
r_case
id|_FP_EXPMAX_Q
suffix:colon
r_if
c_cond
(paren
id|_FP_FRAC_ZEROP_4
c_func
(paren
id|QA
)paren
)paren
id|bit
op_assign
l_int|4
suffix:semicolon
multiline_comment|/* infinity */
r_else
r_if
c_cond
(paren
id|_FP_FRAC_HIGH_RAW_Q
c_func
(paren
id|QA
)paren
op_amp
id|_FP_QNANBIT_Q
)paren
id|bit
op_assign
l_int|2
suffix:semicolon
multiline_comment|/* quiet NAN */
r_else
id|bit
op_assign
l_int|0
suffix:semicolon
multiline_comment|/* signaling NAN */
r_break
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|QA_s
)paren
id|bit
op_increment
suffix:semicolon
id|emu_set_CC
c_func
(paren
id|regs
comma
(paren
(paren
id|__u32
)paren
id|val
op_rshift
id|bit
)paren
op_amp
l_int|1
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/* Test data class double */
DECL|function|emu_tcdb
r_static
r_int
id|emu_tcdb
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|val
)paren
(brace
id|FP_DECL_D
c_func
(paren
id|DA
)paren
suffix:semicolon
r_int
id|bit
suffix:semicolon
id|FP_UNPACK_RAW_DP
c_func
(paren
id|DA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|d
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|DA_e
)paren
(brace
r_default
suffix:colon
id|bit
op_assign
l_int|8
suffix:semicolon
multiline_comment|/* normalized number */
r_break
suffix:semicolon
r_case
l_int|0
suffix:colon
r_if
c_cond
(paren
id|_FP_FRAC_ZEROP_2
c_func
(paren
id|DA
)paren
)paren
id|bit
op_assign
l_int|10
suffix:semicolon
multiline_comment|/* zero */
r_else
id|bit
op_assign
l_int|6
suffix:semicolon
multiline_comment|/* denormalized number */
r_break
suffix:semicolon
r_case
id|_FP_EXPMAX_D
suffix:colon
r_if
c_cond
(paren
id|_FP_FRAC_ZEROP_2
c_func
(paren
id|DA
)paren
)paren
id|bit
op_assign
l_int|4
suffix:semicolon
multiline_comment|/* infinity */
r_else
r_if
c_cond
(paren
id|_FP_FRAC_HIGH_RAW_D
c_func
(paren
id|DA
)paren
op_amp
id|_FP_QNANBIT_D
)paren
id|bit
op_assign
l_int|2
suffix:semicolon
multiline_comment|/* quiet NAN */
r_else
id|bit
op_assign
l_int|0
suffix:semicolon
multiline_comment|/* signaling NAN */
r_break
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|DA_s
)paren
id|bit
op_increment
suffix:semicolon
id|emu_set_CC
c_func
(paren
id|regs
comma
(paren
(paren
id|__u32
)paren
id|val
op_rshift
id|bit
)paren
op_amp
l_int|1
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/* Test data class float */
DECL|function|emu_tceb
r_static
r_int
id|emu_tceb
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|val
)paren
(brace
id|FP_DECL_S
c_func
(paren
id|SA
)paren
suffix:semicolon
r_int
id|bit
suffix:semicolon
id|FP_UNPACK_RAW_SP
c_func
(paren
id|SA
comma
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|rx
)braket
dot
id|f
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|SA_e
)paren
(brace
r_default
suffix:colon
id|bit
op_assign
l_int|8
suffix:semicolon
multiline_comment|/* normalized number */
r_break
suffix:semicolon
r_case
l_int|0
suffix:colon
r_if
c_cond
(paren
id|_FP_FRAC_ZEROP_1
c_func
(paren
id|SA
)paren
)paren
id|bit
op_assign
l_int|10
suffix:semicolon
multiline_comment|/* zero */
r_else
id|bit
op_assign
l_int|6
suffix:semicolon
multiline_comment|/* denormalized number */
r_break
suffix:semicolon
r_case
id|_FP_EXPMAX_S
suffix:colon
r_if
c_cond
(paren
id|_FP_FRAC_ZEROP_1
c_func
(paren
id|SA
)paren
)paren
id|bit
op_assign
l_int|4
suffix:semicolon
multiline_comment|/* infinity */
r_else
r_if
c_cond
(paren
id|_FP_FRAC_HIGH_RAW_S
c_func
(paren
id|SA
)paren
op_amp
id|_FP_QNANBIT_S
)paren
id|bit
op_assign
l_int|2
suffix:semicolon
multiline_comment|/* quiet NAN */
r_else
id|bit
op_assign
l_int|0
suffix:semicolon
multiline_comment|/* signaling NAN */
r_break
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|SA_s
)paren
id|bit
op_increment
suffix:semicolon
id|emu_set_CC
c_func
(paren
id|regs
comma
(paren
(paren
id|__u32
)paren
id|val
op_rshift
id|bit
)paren
op_amp
l_int|1
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|emu_load_regd
r_static
r_inline
r_void
id|emu_load_regd
c_func
(paren
r_int
id|reg
)paren
(brace
r_if
c_cond
(paren
(paren
id|reg
op_amp
l_int|9
)paren
op_ne
l_int|0
)paren
multiline_comment|/* test if reg in {0,2,4,6} */
r_return
suffix:semicolon
id|asm
r_volatile
(paren
multiline_comment|/* load reg from fp_regs.fprs[reg] */
l_string|&quot;     bras  1,0f&bslash;n&quot;
l_string|&quot;     ld    0,0(%1)&bslash;n&quot;
l_string|&quot;0:   ex    %0,0(1)&quot;
suffix:colon
multiline_comment|/* no output */
suffix:colon
l_string|&quot;a&quot;
(paren
id|reg
op_lshift
l_int|4
)paren
comma
l_string|&quot;a&quot;
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|reg
)braket
dot
id|d
)paren
suffix:colon
l_string|&quot;1&quot;
)paren
suffix:semicolon
)brace
DECL|function|emu_load_rege
r_static
r_inline
r_void
id|emu_load_rege
c_func
(paren
r_int
id|reg
)paren
(brace
r_if
c_cond
(paren
(paren
id|reg
op_amp
l_int|9
)paren
op_ne
l_int|0
)paren
multiline_comment|/* test if reg in {0,2,4,6} */
r_return
suffix:semicolon
id|asm
r_volatile
(paren
multiline_comment|/* load reg from fp_regs.fprs[reg] */
l_string|&quot;     bras  1,0f&bslash;n&quot;
l_string|&quot;     le    0,0(%1)&bslash;n&quot;
l_string|&quot;0:   ex    %0,0(1)&quot;
suffix:colon
multiline_comment|/* no output */
suffix:colon
l_string|&quot;a&quot;
(paren
id|reg
op_lshift
l_int|4
)paren
comma
l_string|&quot;a&quot;
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|reg
)braket
dot
id|f
)paren
suffix:colon
l_string|&quot;1&quot;
)paren
suffix:semicolon
)brace
DECL|function|emu_store_regd
r_static
r_inline
r_void
id|emu_store_regd
c_func
(paren
r_int
id|reg
)paren
(brace
r_if
c_cond
(paren
(paren
id|reg
op_amp
l_int|9
)paren
op_ne
l_int|0
)paren
multiline_comment|/* test if reg in {0,2,4,6} */
r_return
suffix:semicolon
id|asm
r_volatile
(paren
multiline_comment|/* store reg to fp_regs.fprs[reg] */
l_string|&quot;     bras  1,0f&bslash;n&quot;
l_string|&quot;     std   0,0(%1)&bslash;n&quot;
l_string|&quot;0:   ex    %0,0(1)&quot;
suffix:colon
multiline_comment|/* no output */
suffix:colon
l_string|&quot;a&quot;
(paren
id|reg
op_lshift
l_int|4
)paren
comma
l_string|&quot;a&quot;
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|reg
)braket
dot
id|d
)paren
suffix:colon
l_string|&quot;1&quot;
)paren
suffix:semicolon
)brace
DECL|function|emu_store_rege
r_static
r_inline
r_void
id|emu_store_rege
c_func
(paren
r_int
id|reg
)paren
(brace
r_if
c_cond
(paren
(paren
id|reg
op_amp
l_int|9
)paren
op_ne
l_int|0
)paren
multiline_comment|/* test if reg in {0,2,4,6} */
r_return
suffix:semicolon
id|asm
r_volatile
(paren
multiline_comment|/* store reg to fp_regs.fprs[reg] */
l_string|&quot;     bras  1,0f&bslash;n&quot;
l_string|&quot;     ste   0,0(%1)&bslash;n&quot;
l_string|&quot;0:   ex    %0,0(1)&quot;
suffix:colon
multiline_comment|/* no output */
suffix:colon
l_string|&quot;a&quot;
(paren
id|reg
op_lshift
l_int|4
)paren
comma
l_string|&quot;a&quot;
(paren
op_amp
id|current-&gt;thread.fp_regs.fprs
(braket
id|reg
)braket
dot
id|f
)paren
suffix:colon
l_string|&quot;1&quot;
)paren
suffix:semicolon
)brace
DECL|function|math_emu_b3
r_int
id|math_emu_b3
c_func
(paren
id|__u8
op_star
id|opcode
comma
r_struct
id|pt_regs
op_star
id|regs
)paren
(brace
r_int
id|_fex
op_assign
l_int|0
suffix:semicolon
r_static
r_const
id|__u8
id|format_table
(braket
l_int|256
)braket
op_assign
(brace
(braket
l_int|0x00
)braket
op_assign
l_int|0x03
comma
(braket
l_int|0x01
)braket
op_assign
l_int|0x03
comma
(braket
l_int|0x02
)braket
op_assign
l_int|0x03
comma
(braket
l_int|0x03
)braket
op_assign
l_int|0x03
comma
(braket
l_int|0x04
)braket
op_assign
l_int|0x0f
comma
(braket
l_int|0x05
)braket
op_assign
l_int|0x0d
comma
(braket
l_int|0x06
)braket
op_assign
l_int|0x0e
comma
(braket
l_int|0x07
)braket
op_assign
l_int|0x0d
comma
(braket
l_int|0x08
)braket
op_assign
l_int|0x03
comma
(braket
l_int|0x09
)braket
op_assign
l_int|0x03
comma
(braket
l_int|0x0a
)braket
op_assign
l_int|0x03
comma
(braket
l_int|0x0b
)braket
op_assign
l_int|0x03
comma
(braket
l_int|0x0c
)braket
op_assign
l_int|0x0f
comma
(braket
l_int|0x0d
)braket
op_assign
l_int|0x03
comma
(braket
l_int|0x0e
)braket
op_assign
l_int|0x06
comma
(braket
l_int|0x0f
)braket
op_assign
l_int|0x06
comma
(braket
l_int|0x10
)braket
op_assign
l_int|0x02
comma
(braket
l_int|0x11
)braket
op_assign
l_int|0x02
comma
(braket
l_int|0x12
)braket
op_assign
l_int|0x02
comma
(braket
l_int|0x13
)braket
op_assign
l_int|0x02
comma
(braket
l_int|0x14
)braket
op_assign
l_int|0x03
comma
(braket
l_int|0x15
)braket
op_assign
l_int|0x02
comma
(braket
l_int|0x16
)braket
op_assign
l_int|0x01
comma
(braket
l_int|0x17
)braket
op_assign
l_int|0x03
comma
(braket
l_int|0x18
)braket
op_assign
l_int|0x02
comma
(braket
l_int|0x19
)braket
op_assign
l_int|0x02
comma
(braket
l_int|0x1a
)braket
op_assign
l_int|0x02
comma
(braket
l_int|0x1b
)braket
op_assign
l_int|0x02
comma
(braket
l_int|0x1c
)braket
op_assign
l_int|0x02
comma
(braket
l_int|0x1d
)braket
op_assign
l_int|0x02
comma
(braket
l_int|0x1e
)braket
op_assign
l_int|0x05
comma
(braket
l_int|0x1f
)braket
op_assign
l_int|0x05
comma
(braket
l_int|0x40
)braket
op_assign
l_int|0x01
comma
(braket
l_int|0x41
)braket
op_assign
l_int|0x01
comma
(braket
l_int|0x42
)braket
op_assign
l_int|0x01
comma
(braket
l_int|0x43
)braket
op_assign
l_int|0x01
comma
(braket
l_int|0x44
)braket
op_assign
l_int|0x12
comma
(braket
l_int|0x45
)braket
op_assign
l_int|0x0d
comma
(braket
l_int|0x46
)braket
op_assign
l_int|0x11
comma
(braket
l_int|0x47
)braket
op_assign
l_int|0x04
comma
(braket
l_int|0x48
)braket
op_assign
l_int|0x01
comma
(braket
l_int|0x49
)braket
op_assign
l_int|0x01
comma
(braket
l_int|0x4a
)braket
op_assign
l_int|0x01
comma
(braket
l_int|0x4b
)braket
op_assign
l_int|0x01
comma
(braket
l_int|0x4c
)braket
op_assign
l_int|0x01
comma
(braket
l_int|0x4d
)braket
op_assign
l_int|0x01
comma
(braket
l_int|0x53
)braket
op_assign
l_int|0x06
comma
(braket
l_int|0x57
)braket
op_assign
l_int|0x06
comma
(braket
l_int|0x5b
)braket
op_assign
l_int|0x05
comma
(braket
l_int|0x5f
)braket
op_assign
l_int|0x05
comma
(braket
l_int|0x84
)braket
op_assign
l_int|0x13
comma
(braket
l_int|0x8c
)braket
op_assign
l_int|0x13
comma
(braket
l_int|0x94
)braket
op_assign
l_int|0x09
comma
(braket
l_int|0x95
)braket
op_assign
l_int|0x08
comma
(braket
l_int|0x96
)braket
op_assign
l_int|0x07
comma
(braket
l_int|0x98
)braket
op_assign
l_int|0x0c
comma
(braket
l_int|0x99
)braket
op_assign
l_int|0x0b
comma
(braket
l_int|0x9a
)braket
op_assign
l_int|0x0a
)brace
suffix:semicolon
r_static
r_const
r_void
op_star
id|jump_table
(braket
l_int|256
)braket
op_assign
(brace
(braket
l_int|0x00
)braket
op_assign
id|emu_lpebr
comma
(braket
l_int|0x01
)braket
op_assign
id|emu_lnebr
comma
(braket
l_int|0x02
)braket
op_assign
id|emu_ltebr
comma
(braket
l_int|0x03
)braket
op_assign
id|emu_lcebr
comma
(braket
l_int|0x04
)braket
op_assign
id|emu_ldebr
comma
(braket
l_int|0x05
)braket
op_assign
id|emu_lxdbr
comma
(braket
l_int|0x06
)braket
op_assign
id|emu_lxebr
comma
(braket
l_int|0x07
)braket
op_assign
id|emu_mxdbr
comma
(braket
l_int|0x08
)braket
op_assign
id|emu_kebr
comma
(braket
l_int|0x09
)braket
op_assign
id|emu_cebr
comma
(braket
l_int|0x0a
)braket
op_assign
id|emu_aebr
comma
(braket
l_int|0x0b
)braket
op_assign
id|emu_sebr
comma
(braket
l_int|0x0c
)braket
op_assign
id|emu_mdebr
comma
(braket
l_int|0x0d
)braket
op_assign
id|emu_debr
comma
(braket
l_int|0x0e
)braket
op_assign
id|emu_maebr
comma
(braket
l_int|0x0f
)braket
op_assign
id|emu_msebr
comma
(braket
l_int|0x10
)braket
op_assign
id|emu_lpdbr
comma
(braket
l_int|0x11
)braket
op_assign
id|emu_lndbr
comma
(braket
l_int|0x12
)braket
op_assign
id|emu_ltdbr
comma
(braket
l_int|0x13
)braket
op_assign
id|emu_lcdbr
comma
(braket
l_int|0x14
)braket
op_assign
id|emu_sqebr
comma
(braket
l_int|0x15
)braket
op_assign
id|emu_sqdbr
comma
(braket
l_int|0x16
)braket
op_assign
id|emu_sqxbr
comma
(braket
l_int|0x17
)braket
op_assign
id|emu_meebr
comma
(braket
l_int|0x18
)braket
op_assign
id|emu_kdbr
comma
(braket
l_int|0x19
)braket
op_assign
id|emu_cdbr
comma
(braket
l_int|0x1a
)braket
op_assign
id|emu_adbr
comma
(braket
l_int|0x1b
)braket
op_assign
id|emu_sdbr
comma
(braket
l_int|0x1c
)braket
op_assign
id|emu_mdbr
comma
(braket
l_int|0x1d
)braket
op_assign
id|emu_ddbr
comma
(braket
l_int|0x1e
)braket
op_assign
id|emu_madbr
comma
(braket
l_int|0x1f
)braket
op_assign
id|emu_msdbr
comma
(braket
l_int|0x40
)braket
op_assign
id|emu_lpxbr
comma
(braket
l_int|0x41
)braket
op_assign
id|emu_lnxbr
comma
(braket
l_int|0x42
)braket
op_assign
id|emu_ltxbr
comma
(braket
l_int|0x43
)braket
op_assign
id|emu_lcxbr
comma
(braket
l_int|0x44
)braket
op_assign
id|emu_ledbr
comma
(braket
l_int|0x45
)braket
op_assign
id|emu_ldxbr
comma
(braket
l_int|0x46
)braket
op_assign
id|emu_lexbr
comma
(braket
l_int|0x47
)braket
op_assign
id|emu_fixbr
comma
(braket
l_int|0x48
)braket
op_assign
id|emu_kxbr
comma
(braket
l_int|0x49
)braket
op_assign
id|emu_cxbr
comma
(braket
l_int|0x4a
)braket
op_assign
id|emu_axbr
comma
(braket
l_int|0x4b
)braket
op_assign
id|emu_sxbr
comma
(braket
l_int|0x4c
)braket
op_assign
id|emu_mxbr
comma
(braket
l_int|0x4d
)braket
op_assign
id|emu_dxbr
comma
(braket
l_int|0x53
)braket
op_assign
id|emu_diebr
comma
(braket
l_int|0x57
)braket
op_assign
id|emu_fiebr
comma
(braket
l_int|0x5b
)braket
op_assign
id|emu_didbr
comma
(braket
l_int|0x5f
)braket
op_assign
id|emu_fidbr
comma
(braket
l_int|0x84
)braket
op_assign
id|emu_sfpc
comma
(braket
l_int|0x8c
)braket
op_assign
id|emu_efpc
comma
(braket
l_int|0x94
)braket
op_assign
id|emu_cefbr
comma
(braket
l_int|0x95
)braket
op_assign
id|emu_cdfbr
comma
(braket
l_int|0x96
)braket
op_assign
id|emu_cxfbr
comma
(braket
l_int|0x98
)braket
op_assign
id|emu_cfebr
comma
(braket
l_int|0x99
)braket
op_assign
id|emu_cfdbr
comma
(braket
l_int|0x9a
)braket
op_assign
id|emu_cfxbr
)brace
suffix:semicolon
r_switch
c_cond
(paren
id|format_table
(braket
id|opcode
(braket
l_int|1
)braket
)braket
)paren
(brace
r_case
l_int|1
suffix:colon
multiline_comment|/* RRE format, long double operation */
r_if
c_cond
(paren
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|0x22
)paren
r_return
id|SIGILL
suffix:semicolon
id|emu_store_regd
c_func
(paren
(paren
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_store_regd
c_func
(paren
(paren
(paren
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
op_plus
l_int|2
)paren
suffix:semicolon
id|emu_store_regd
c_func
(paren
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_store_regd
c_func
(paren
(paren
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
op_plus
l_int|2
)paren
suffix:semicolon
multiline_comment|/* call the emulation function */
id|_fex
op_assign
(paren
(paren
r_int
(paren
op_star
)paren
(paren
r_struct
id|pt_regs
op_star
comma
r_int
comma
r_int
)paren
)paren
id|jump_table
(braket
id|opcode
(braket
l_int|1
)braket
)braket
)paren
(paren
id|regs
comma
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
comma
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_load_regd
c_func
(paren
(paren
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_load_regd
c_func
(paren
(paren
(paren
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
op_plus
l_int|2
)paren
suffix:semicolon
id|emu_load_regd
c_func
(paren
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_load_regd
c_func
(paren
(paren
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
op_plus
l_int|2
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|2
suffix:colon
multiline_comment|/* RRE format, double operation */
id|emu_store_regd
c_func
(paren
(paren
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_store_regd
c_func
(paren
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
suffix:semicolon
multiline_comment|/* call the emulation function */
id|_fex
op_assign
(paren
(paren
r_int
(paren
op_star
)paren
(paren
r_struct
id|pt_regs
op_star
comma
r_int
comma
r_int
)paren
)paren
id|jump_table
(braket
id|opcode
(braket
l_int|1
)braket
)braket
)paren
(paren
id|regs
comma
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
comma
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_load_regd
c_func
(paren
(paren
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_load_regd
c_func
(paren
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|3
suffix:colon
multiline_comment|/* RRE format, float operation */
id|emu_store_rege
c_func
(paren
(paren
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_store_rege
c_func
(paren
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
suffix:semicolon
multiline_comment|/* call the emulation function */
id|_fex
op_assign
(paren
(paren
r_int
(paren
op_star
)paren
(paren
r_struct
id|pt_regs
op_star
comma
r_int
comma
r_int
)paren
)paren
id|jump_table
(braket
id|opcode
(braket
l_int|1
)braket
)braket
)paren
(paren
id|regs
comma
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
comma
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_load_rege
c_func
(paren
(paren
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_load_rege
c_func
(paren
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|4
suffix:colon
multiline_comment|/* RRF format, long double operation */
r_if
c_cond
(paren
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|0x22
)paren
r_return
id|SIGILL
suffix:semicolon
id|emu_store_regd
c_func
(paren
(paren
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_store_regd
c_func
(paren
(paren
(paren
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
op_plus
l_int|2
)paren
suffix:semicolon
id|emu_store_regd
c_func
(paren
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_store_regd
c_func
(paren
(paren
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
op_plus
l_int|2
)paren
suffix:semicolon
multiline_comment|/* call the emulation function */
id|_fex
op_assign
(paren
(paren
r_int
(paren
op_star
)paren
(paren
r_struct
id|pt_regs
op_star
comma
r_int
comma
r_int
comma
r_int
)paren
)paren
id|jump_table
(braket
id|opcode
(braket
l_int|1
)braket
)braket
)paren
(paren
id|regs
comma
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
comma
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
comma
id|opcode
(braket
l_int|2
)braket
op_rshift
l_int|4
)paren
suffix:semicolon
id|emu_load_regd
c_func
(paren
(paren
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_load_regd
c_func
(paren
(paren
(paren
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
op_plus
l_int|2
)paren
suffix:semicolon
id|emu_load_regd
c_func
(paren
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_load_regd
c_func
(paren
(paren
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
op_plus
l_int|2
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|5
suffix:colon
multiline_comment|/* RRF format, double operation */
id|emu_store_regd
c_func
(paren
(paren
id|opcode
(braket
l_int|2
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_store_regd
c_func
(paren
(paren
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_store_regd
c_func
(paren
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
suffix:semicolon
multiline_comment|/* call the emulation function */
id|_fex
op_assign
(paren
(paren
r_int
(paren
op_star
)paren
(paren
r_struct
id|pt_regs
op_star
comma
r_int
comma
r_int
comma
r_int
)paren
)paren
id|jump_table
(braket
id|opcode
(braket
l_int|1
)braket
)braket
)paren
(paren
id|regs
comma
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
comma
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
comma
id|opcode
(braket
l_int|2
)braket
op_rshift
l_int|4
)paren
suffix:semicolon
id|emu_load_regd
c_func
(paren
(paren
id|opcode
(braket
l_int|2
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_load_regd
c_func
(paren
(paren
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_load_regd
c_func
(paren
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|6
suffix:colon
multiline_comment|/* RRF format, float operation */
id|emu_store_rege
c_func
(paren
(paren
id|opcode
(braket
l_int|2
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_store_rege
c_func
(paren
(paren
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_store_rege
c_func
(paren
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
suffix:semicolon
multiline_comment|/* call the emulation function */
id|_fex
op_assign
(paren
(paren
r_int
(paren
op_star
)paren
(paren
r_struct
id|pt_regs
op_star
comma
r_int
comma
r_int
comma
r_int
)paren
)paren
id|jump_table
(braket
id|opcode
(braket
l_int|1
)braket
)braket
)paren
(paren
id|regs
comma
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
comma
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
comma
id|opcode
(braket
l_int|2
)braket
op_rshift
l_int|4
)paren
suffix:semicolon
id|emu_load_rege
c_func
(paren
(paren
id|opcode
(braket
l_int|2
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_load_rege
c_func
(paren
(paren
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_load_rege
c_func
(paren
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|7
suffix:colon
multiline_comment|/* RRE format, cxfbr instruction */
multiline_comment|/* call the emulation function */
r_if
c_cond
(paren
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|0x20
)paren
r_return
id|SIGILL
suffix:semicolon
id|_fex
op_assign
(paren
(paren
r_int
(paren
op_star
)paren
(paren
r_struct
id|pt_regs
op_star
comma
r_int
comma
r_int
)paren
)paren
id|jump_table
(braket
id|opcode
(braket
l_int|1
)braket
)braket
)paren
(paren
id|regs
comma
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
comma
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_load_regd
c_func
(paren
(paren
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_load_regd
c_func
(paren
(paren
(paren
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
op_plus
l_int|2
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|8
suffix:colon
multiline_comment|/* RRE format, cdfbr instruction */
multiline_comment|/* call the emulation function */
id|_fex
op_assign
(paren
(paren
r_int
(paren
op_star
)paren
(paren
r_struct
id|pt_regs
op_star
comma
r_int
comma
r_int
)paren
)paren
id|jump_table
(braket
id|opcode
(braket
l_int|1
)braket
)braket
)paren
(paren
id|regs
comma
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
comma
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_load_regd
c_func
(paren
(paren
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|9
suffix:colon
multiline_comment|/* RRE format, cefbr instruction */
multiline_comment|/* call the emulation function */
id|_fex
op_assign
(paren
(paren
r_int
(paren
op_star
)paren
(paren
r_struct
id|pt_regs
op_star
comma
r_int
comma
r_int
)paren
)paren
id|jump_table
(braket
id|opcode
(braket
l_int|1
)braket
)braket
)paren
(paren
id|regs
comma
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
comma
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_load_rege
c_func
(paren
(paren
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|10
suffix:colon
multiline_comment|/* RRF format, cfxbr instruction */
r_if
c_cond
(paren
(paren
id|opcode
(braket
l_int|2
)braket
op_amp
l_int|128
)paren
op_eq
l_int|128
op_logical_or
(paren
id|opcode
(braket
l_int|2
)braket
op_amp
l_int|96
)paren
op_eq
l_int|32
)paren
multiline_comment|/* mask of { 2,3,8-15 } is invalid */
r_return
id|SIGILL
suffix:semicolon
r_if
c_cond
(paren
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|2
)paren
r_return
id|SIGILL
suffix:semicolon
id|emu_store_regd
c_func
(paren
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_store_regd
c_func
(paren
(paren
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
op_plus
l_int|2
)paren
suffix:semicolon
multiline_comment|/* call the emulation function */
id|_fex
op_assign
(paren
(paren
r_int
(paren
op_star
)paren
(paren
r_struct
id|pt_regs
op_star
comma
r_int
comma
r_int
comma
r_int
)paren
)paren
id|jump_table
(braket
id|opcode
(braket
l_int|1
)braket
)braket
)paren
(paren
id|regs
comma
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
comma
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
comma
id|opcode
(braket
l_int|2
)braket
op_rshift
l_int|4
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|11
suffix:colon
multiline_comment|/* RRF format, cfdbr instruction */
r_if
c_cond
(paren
(paren
id|opcode
(braket
l_int|2
)braket
op_amp
l_int|128
)paren
op_eq
l_int|128
op_logical_or
(paren
id|opcode
(braket
l_int|2
)braket
op_amp
l_int|96
)paren
op_eq
l_int|32
)paren
multiline_comment|/* mask of { 2,3,8-15 } is invalid */
r_return
id|SIGILL
suffix:semicolon
id|emu_store_regd
c_func
(paren
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
suffix:semicolon
multiline_comment|/* call the emulation function */
id|_fex
op_assign
(paren
(paren
r_int
(paren
op_star
)paren
(paren
r_struct
id|pt_regs
op_star
comma
r_int
comma
r_int
comma
r_int
)paren
)paren
id|jump_table
(braket
id|opcode
(braket
l_int|1
)braket
)braket
)paren
(paren
id|regs
comma
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
comma
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
comma
id|opcode
(braket
l_int|2
)braket
op_rshift
l_int|4
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|12
suffix:colon
multiline_comment|/* RRF format, cfebr instruction */
r_if
c_cond
(paren
(paren
id|opcode
(braket
l_int|2
)braket
op_amp
l_int|128
)paren
op_eq
l_int|128
op_logical_or
(paren
id|opcode
(braket
l_int|2
)braket
op_amp
l_int|96
)paren
op_eq
l_int|32
)paren
multiline_comment|/* mask of { 2,3,8-15 } is invalid */
r_return
id|SIGILL
suffix:semicolon
id|emu_store_rege
c_func
(paren
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
suffix:semicolon
multiline_comment|/* call the emulation function */
id|_fex
op_assign
(paren
(paren
r_int
(paren
op_star
)paren
(paren
r_struct
id|pt_regs
op_star
comma
r_int
comma
r_int
comma
r_int
)paren
)paren
id|jump_table
(braket
id|opcode
(braket
l_int|1
)braket
)braket
)paren
(paren
id|regs
comma
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
comma
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
comma
id|opcode
(braket
l_int|2
)braket
op_rshift
l_int|4
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|13
suffix:colon
multiline_comment|/* RRE format, ldxbr &amp; mdxbr instruction */
multiline_comment|/* double store but long double load */
r_if
c_cond
(paren
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|0x20
)paren
r_return
id|SIGILL
suffix:semicolon
id|emu_store_regd
c_func
(paren
(paren
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_store_regd
c_func
(paren
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
suffix:semicolon
multiline_comment|/* call the emulation function */
id|_fex
op_assign
(paren
(paren
r_int
(paren
op_star
)paren
(paren
r_struct
id|pt_regs
op_star
comma
r_int
comma
r_int
)paren
)paren
id|jump_table
(braket
id|opcode
(braket
l_int|1
)braket
)braket
)paren
(paren
id|regs
comma
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
comma
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_load_regd
c_func
(paren
(paren
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_load_regd
c_func
(paren
(paren
(paren
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
op_plus
l_int|2
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|14
suffix:colon
multiline_comment|/* RRE format, ldxbr &amp; mdxbr instruction */
multiline_comment|/* float store but long double load */
r_if
c_cond
(paren
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|0x20
)paren
r_return
id|SIGILL
suffix:semicolon
id|emu_store_rege
c_func
(paren
(paren
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_store_rege
c_func
(paren
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
suffix:semicolon
multiline_comment|/* call the emulation function */
id|_fex
op_assign
(paren
(paren
r_int
(paren
op_star
)paren
(paren
r_struct
id|pt_regs
op_star
comma
r_int
comma
r_int
)paren
)paren
id|jump_table
(braket
id|opcode
(braket
l_int|1
)braket
)braket
)paren
(paren
id|regs
comma
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
comma
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_load_regd
c_func
(paren
(paren
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_load_regd
c_func
(paren
(paren
(paren
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
op_plus
l_int|2
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|15
suffix:colon
multiline_comment|/* RRE format, ldebr &amp; mdebr instruction */
multiline_comment|/* float store but double load */
id|emu_store_rege
c_func
(paren
(paren
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_store_rege
c_func
(paren
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
suffix:semicolon
multiline_comment|/* call the emulation function */
id|_fex
op_assign
(paren
(paren
r_int
(paren
op_star
)paren
(paren
r_struct
id|pt_regs
op_star
comma
r_int
comma
r_int
)paren
)paren
id|jump_table
(braket
id|opcode
(braket
l_int|1
)braket
)braket
)paren
(paren
id|regs
comma
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
comma
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_load_regd
c_func
(paren
(paren
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|16
suffix:colon
multiline_comment|/* RRE format, ldxbr instruction */
multiline_comment|/* long double store but double load */
r_if
c_cond
(paren
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|2
)paren
r_return
id|SIGILL
suffix:semicolon
id|emu_store_regd
c_func
(paren
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_store_regd
c_func
(paren
(paren
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
op_plus
l_int|2
)paren
suffix:semicolon
multiline_comment|/* call the emulation function */
id|_fex
op_assign
(paren
(paren
r_int
(paren
op_star
)paren
(paren
r_struct
id|pt_regs
op_star
comma
r_int
comma
r_int
)paren
)paren
id|jump_table
(braket
id|opcode
(braket
l_int|1
)braket
)braket
)paren
(paren
id|regs
comma
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
comma
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_load_regd
c_func
(paren
(paren
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|17
suffix:colon
multiline_comment|/* RRE format, ldxbr instruction */
multiline_comment|/* long double store but float load */
r_if
c_cond
(paren
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|2
)paren
r_return
id|SIGILL
suffix:semicolon
id|emu_store_regd
c_func
(paren
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_store_regd
c_func
(paren
(paren
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
op_plus
l_int|2
)paren
suffix:semicolon
multiline_comment|/* call the emulation function */
id|_fex
op_assign
(paren
(paren
r_int
(paren
op_star
)paren
(paren
r_struct
id|pt_regs
op_star
comma
r_int
comma
r_int
)paren
)paren
id|jump_table
(braket
id|opcode
(braket
l_int|1
)braket
)braket
)paren
(paren
id|regs
comma
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
comma
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_load_rege
c_func
(paren
(paren
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|18
suffix:colon
multiline_comment|/* RRE format, ledbr instruction */
multiline_comment|/* double store but float load */
id|emu_store_regd
c_func
(paren
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
suffix:semicolon
multiline_comment|/* call the emulation function */
id|_fex
op_assign
(paren
(paren
r_int
(paren
op_star
)paren
(paren
r_struct
id|pt_regs
op_star
comma
r_int
comma
r_int
)paren
)paren
id|jump_table
(braket
id|opcode
(braket
l_int|1
)braket
)braket
)paren
(paren
id|regs
comma
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
comma
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_load_rege
c_func
(paren
(paren
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|19
suffix:colon
multiline_comment|/* RRE format, efpc &amp; sfpc instruction */
multiline_comment|/* call the emulation function */
id|_fex
op_assign
(paren
(paren
r_int
(paren
op_star
)paren
(paren
r_struct
id|pt_regs
op_star
comma
r_int
comma
r_int
)paren
)paren
id|jump_table
(braket
id|opcode
(braket
l_int|1
)braket
)braket
)paren
(paren
id|regs
comma
id|opcode
(braket
l_int|3
)braket
op_rshift
l_int|4
comma
id|opcode
(braket
l_int|3
)braket
op_amp
l_int|15
)paren
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
multiline_comment|/* invalid operation */
r_return
id|SIGILL
suffix:semicolon
)brace
r_if
c_cond
(paren
id|_fex
op_ne
l_int|0
)paren
(brace
id|current-&gt;thread.fp_regs.fpc
op_or_assign
id|_fex
suffix:semicolon
r_if
c_cond
(paren
id|current-&gt;thread.fp_regs.fpc
op_amp
(paren
id|_fex
op_lshift
l_int|8
)paren
)paren
r_return
id|SIGFPE
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|calc_addr
r_static
r_void
op_star
id|calc_addr
c_func
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|rx
comma
r_int
id|rb
comma
r_int
id|disp
)paren
(brace
id|addr_t
id|addr
suffix:semicolon
id|rx
op_and_assign
l_int|15
suffix:semicolon
id|rb
op_and_assign
l_int|15
suffix:semicolon
id|addr
op_assign
id|disp
op_amp
l_int|0xfff
suffix:semicolon
id|addr
op_add_assign
(paren
id|rx
op_ne
l_int|0
)paren
ques
c_cond
id|regs-&gt;gprs
(braket
id|rx
)braket
suffix:colon
l_int|0
suffix:semicolon
multiline_comment|/* + index */
id|addr
op_add_assign
(paren
id|rb
op_ne
l_int|0
)paren
ques
c_cond
id|regs-&gt;gprs
(braket
id|rb
)braket
suffix:colon
l_int|0
suffix:semicolon
multiline_comment|/* + base  */
r_return
(paren
r_void
op_star
)paren
id|addr
suffix:semicolon
)brace
DECL|function|math_emu_ed
r_int
id|math_emu_ed
c_func
(paren
id|__u8
op_star
id|opcode
comma
r_struct
id|pt_regs
op_star
id|regs
)paren
(brace
r_int
id|_fex
op_assign
l_int|0
suffix:semicolon
r_static
r_const
id|__u8
id|format_table
(braket
l_int|256
)braket
op_assign
(brace
(braket
l_int|0x04
)braket
op_assign
l_int|0x06
comma
(braket
l_int|0x05
)braket
op_assign
l_int|0x05
comma
(braket
l_int|0x06
)braket
op_assign
l_int|0x07
comma
(braket
l_int|0x07
)braket
op_assign
l_int|0x05
comma
(braket
l_int|0x08
)braket
op_assign
l_int|0x02
comma
(braket
l_int|0x09
)braket
op_assign
l_int|0x02
comma
(braket
l_int|0x0a
)braket
op_assign
l_int|0x02
comma
(braket
l_int|0x0b
)braket
op_assign
l_int|0x02
comma
(braket
l_int|0x0c
)braket
op_assign
l_int|0x06
comma
(braket
l_int|0x0d
)braket
op_assign
l_int|0x02
comma
(braket
l_int|0x0e
)braket
op_assign
l_int|0x04
comma
(braket
l_int|0x0f
)braket
op_assign
l_int|0x04
comma
(braket
l_int|0x10
)braket
op_assign
l_int|0x08
comma
(braket
l_int|0x11
)braket
op_assign
l_int|0x09
comma
(braket
l_int|0x12
)braket
op_assign
l_int|0x0a
comma
(braket
l_int|0x14
)braket
op_assign
l_int|0x02
comma
(braket
l_int|0x15
)braket
op_assign
l_int|0x01
comma
(braket
l_int|0x17
)braket
op_assign
l_int|0x02
comma
(braket
l_int|0x18
)braket
op_assign
l_int|0x01
comma
(braket
l_int|0x19
)braket
op_assign
l_int|0x01
comma
(braket
l_int|0x1a
)braket
op_assign
l_int|0x01
comma
(braket
l_int|0x1b
)braket
op_assign
l_int|0x01
comma
(braket
l_int|0x1c
)braket
op_assign
l_int|0x01
comma
(braket
l_int|0x1d
)braket
op_assign
l_int|0x01
comma
(braket
l_int|0x1e
)braket
op_assign
l_int|0x03
comma
(braket
l_int|0x1f
)braket
op_assign
l_int|0x03
comma
)brace
suffix:semicolon
r_static
r_const
r_void
op_star
id|jump_table
(braket
)braket
op_assign
(brace
(braket
l_int|0x04
)braket
op_assign
id|emu_ldeb
comma
(braket
l_int|0x05
)braket
op_assign
id|emu_lxdb
comma
(braket
l_int|0x06
)braket
op_assign
id|emu_lxeb
comma
(braket
l_int|0x07
)braket
op_assign
id|emu_mxdb
comma
(braket
l_int|0x08
)braket
op_assign
id|emu_keb
comma
(braket
l_int|0x09
)braket
op_assign
id|emu_ceb
comma
(braket
l_int|0x0a
)braket
op_assign
id|emu_aeb
comma
(braket
l_int|0x0b
)braket
op_assign
id|emu_seb
comma
(braket
l_int|0x0c
)braket
op_assign
id|emu_mdeb
comma
(braket
l_int|0x0d
)braket
op_assign
id|emu_deb
comma
(braket
l_int|0x0e
)braket
op_assign
id|emu_maeb
comma
(braket
l_int|0x0f
)braket
op_assign
id|emu_mseb
comma
(braket
l_int|0x10
)braket
op_assign
id|emu_tceb
comma
(braket
l_int|0x11
)braket
op_assign
id|emu_tcdb
comma
(braket
l_int|0x12
)braket
op_assign
id|emu_tcxb
comma
(braket
l_int|0x14
)braket
op_assign
id|emu_sqeb
comma
(braket
l_int|0x15
)braket
op_assign
id|emu_sqdb
comma
(braket
l_int|0x17
)braket
op_assign
id|emu_meeb
comma
(braket
l_int|0x18
)braket
op_assign
id|emu_kdb
comma
(braket
l_int|0x19
)braket
op_assign
id|emu_cdb
comma
(braket
l_int|0x1a
)braket
op_assign
id|emu_adb
comma
(braket
l_int|0x1b
)braket
op_assign
id|emu_sdb
comma
(braket
l_int|0x1c
)braket
op_assign
id|emu_mdb
comma
(braket
l_int|0x1d
)braket
op_assign
id|emu_ddb
comma
(braket
l_int|0x1e
)braket
op_assign
id|emu_madb
comma
(braket
l_int|0x1f
)braket
op_assign
id|emu_msdb
)brace
suffix:semicolon
r_switch
c_cond
(paren
id|format_table
(braket
id|opcode
(braket
l_int|5
)braket
)braket
)paren
(brace
r_case
l_int|1
suffix:colon
multiline_comment|/* RXE format, double constant */
(brace
id|__u64
op_star
id|dxb
comma
id|temp
suffix:semicolon
id|__u32
id|opc
suffix:semicolon
id|emu_store_regd
c_func
(paren
(paren
id|opcode
(braket
l_int|1
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
id|opc
op_assign
op_star
(paren
(paren
id|__u32
op_star
)paren
id|opcode
)paren
suffix:semicolon
id|dxb
op_assign
(paren
id|__u64
op_star
)paren
id|calc_addr
c_func
(paren
id|regs
comma
id|opc
op_rshift
l_int|16
comma
id|opc
op_rshift
l_int|12
comma
id|opc
)paren
suffix:semicolon
id|mathemu_copy_from_user
c_func
(paren
op_amp
id|temp
comma
id|dxb
comma
l_int|8
)paren
suffix:semicolon
multiline_comment|/* call the emulation function */
id|_fex
op_assign
(paren
(paren
r_int
(paren
op_star
)paren
(paren
r_struct
id|pt_regs
op_star
comma
r_int
comma
r_float
op_star
)paren
)paren
id|jump_table
(braket
id|opcode
(braket
l_int|5
)braket
)braket
)paren
(paren
id|regs
comma
id|opcode
(braket
l_int|1
)braket
op_rshift
l_int|4
comma
(paren
r_float
op_star
)paren
op_amp
id|temp
)paren
suffix:semicolon
id|emu_load_regd
c_func
(paren
(paren
id|opcode
(braket
l_int|1
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
r_case
l_int|2
suffix:colon
multiline_comment|/* RXE format, float constant */
(brace
id|__u32
op_star
id|dxb
comma
id|temp
suffix:semicolon
id|__u32
id|opc
suffix:semicolon
id|emu_store_rege
c_func
(paren
(paren
id|opcode
(braket
l_int|1
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
id|opc
op_assign
op_star
(paren
(paren
id|__u32
op_star
)paren
id|opcode
)paren
suffix:semicolon
id|dxb
op_assign
(paren
id|__u32
op_star
)paren
id|calc_addr
c_func
(paren
id|regs
comma
id|opc
op_rshift
l_int|16
comma
id|opc
op_rshift
l_int|12
comma
id|opc
)paren
suffix:semicolon
id|mathemu_get_user
c_func
(paren
id|temp
comma
id|dxb
)paren
suffix:semicolon
multiline_comment|/* call the emulation function */
id|_fex
op_assign
(paren
(paren
r_int
(paren
op_star
)paren
(paren
r_struct
id|pt_regs
op_star
comma
r_int
comma
r_float
op_star
)paren
)paren
id|jump_table
(braket
id|opcode
(braket
l_int|5
)braket
)braket
)paren
(paren
id|regs
comma
id|opcode
(braket
l_int|1
)braket
op_rshift
l_int|4
comma
(paren
r_float
op_star
)paren
op_amp
id|temp
)paren
suffix:semicolon
id|emu_load_rege
c_func
(paren
(paren
id|opcode
(braket
l_int|1
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
r_case
l_int|3
suffix:colon
multiline_comment|/* RXF format, double constant */
(brace
id|__u64
op_star
id|dxb
comma
id|temp
suffix:semicolon
id|__u32
id|opc
suffix:semicolon
id|emu_store_regd
c_func
(paren
(paren
id|opcode
(braket
l_int|1
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_store_regd
c_func
(paren
(paren
id|opcode
(braket
l_int|4
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
id|opc
op_assign
op_star
(paren
(paren
id|__u32
op_star
)paren
id|opcode
)paren
suffix:semicolon
id|dxb
op_assign
(paren
id|__u64
op_star
)paren
id|calc_addr
c_func
(paren
id|regs
comma
id|opc
op_rshift
l_int|16
comma
id|opc
op_rshift
l_int|12
comma
id|opc
)paren
suffix:semicolon
id|mathemu_copy_from_user
c_func
(paren
op_amp
id|temp
comma
id|dxb
comma
l_int|8
)paren
suffix:semicolon
multiline_comment|/* call the emulation function */
id|_fex
op_assign
(paren
(paren
r_int
(paren
op_star
)paren
(paren
r_struct
id|pt_regs
op_star
comma
r_int
comma
r_float
op_star
comma
r_int
)paren
)paren
id|jump_table
(braket
id|opcode
(braket
l_int|5
)braket
)braket
)paren
(paren
id|regs
comma
id|opcode
(braket
l_int|1
)braket
op_rshift
l_int|4
comma
(paren
r_float
op_star
)paren
op_amp
id|temp
comma
id|opcode
(braket
l_int|4
)braket
op_rshift
l_int|4
)paren
suffix:semicolon
id|emu_load_regd
c_func
(paren
(paren
id|opcode
(braket
l_int|1
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
r_case
l_int|4
suffix:colon
multiline_comment|/* RXF format, float constant */
(brace
id|__u32
op_star
id|dxb
comma
id|temp
suffix:semicolon
id|__u32
id|opc
suffix:semicolon
id|emu_store_rege
c_func
(paren
(paren
id|opcode
(braket
l_int|1
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_store_rege
c_func
(paren
(paren
id|opcode
(braket
l_int|4
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
id|opc
op_assign
op_star
(paren
(paren
id|__u32
op_star
)paren
id|opcode
)paren
suffix:semicolon
id|dxb
op_assign
(paren
id|__u32
op_star
)paren
id|calc_addr
c_func
(paren
id|regs
comma
id|opc
op_rshift
l_int|16
comma
id|opc
op_rshift
l_int|12
comma
id|opc
)paren
suffix:semicolon
id|mathemu_get_user
c_func
(paren
id|temp
comma
id|dxb
)paren
suffix:semicolon
multiline_comment|/* call the emulation function */
id|_fex
op_assign
(paren
(paren
r_int
(paren
op_star
)paren
(paren
r_struct
id|pt_regs
op_star
comma
r_int
comma
r_float
op_star
comma
r_int
)paren
)paren
id|jump_table
(braket
id|opcode
(braket
l_int|5
)braket
)braket
)paren
(paren
id|regs
comma
id|opcode
(braket
l_int|1
)braket
op_rshift
l_int|4
comma
(paren
r_float
op_star
)paren
op_amp
id|temp
comma
id|opcode
(braket
l_int|4
)braket
op_rshift
l_int|4
)paren
suffix:semicolon
id|emu_load_rege
c_func
(paren
(paren
id|opcode
(braket
l_int|4
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
r_case
l_int|5
suffix:colon
multiline_comment|/* RXE format, double constant */
multiline_comment|/* store double and load long double */
(brace
id|__u64
op_star
id|dxb
comma
id|temp
suffix:semicolon
id|__u32
id|opc
suffix:semicolon
r_if
c_cond
(paren
(paren
id|opcode
(braket
l_int|1
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|0x20
)paren
r_return
id|SIGILL
suffix:semicolon
id|emu_store_regd
c_func
(paren
(paren
id|opcode
(braket
l_int|1
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
id|opc
op_assign
op_star
(paren
(paren
id|__u32
op_star
)paren
id|opcode
)paren
suffix:semicolon
id|dxb
op_assign
(paren
id|__u64
op_star
)paren
id|calc_addr
c_func
(paren
id|regs
comma
id|opc
op_rshift
l_int|16
comma
id|opc
op_rshift
l_int|12
comma
id|opc
)paren
suffix:semicolon
id|mathemu_copy_from_user
c_func
(paren
op_amp
id|temp
comma
id|dxb
comma
l_int|8
)paren
suffix:semicolon
multiline_comment|/* call the emulation function */
id|_fex
op_assign
(paren
(paren
r_int
(paren
op_star
)paren
(paren
r_struct
id|pt_regs
op_star
comma
r_int
comma
r_float
op_star
)paren
)paren
id|jump_table
(braket
id|opcode
(braket
l_int|5
)braket
)braket
)paren
(paren
id|regs
comma
id|opcode
(braket
l_int|1
)braket
op_rshift
l_int|4
comma
(paren
r_float
op_star
)paren
op_amp
id|temp
)paren
suffix:semicolon
id|emu_load_regd
c_func
(paren
(paren
id|opcode
(braket
l_int|1
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_load_regd
c_func
(paren
(paren
(paren
id|opcode
(braket
l_int|1
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
op_plus
l_int|2
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
r_case
l_int|6
suffix:colon
multiline_comment|/* RXE format, float constant */
multiline_comment|/* store float and load double */
(brace
id|__u32
op_star
id|dxb
comma
id|temp
suffix:semicolon
id|__u32
id|opc
suffix:semicolon
id|emu_store_rege
c_func
(paren
(paren
id|opcode
(braket
l_int|1
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
id|opc
op_assign
op_star
(paren
(paren
id|__u32
op_star
)paren
id|opcode
)paren
suffix:semicolon
id|dxb
op_assign
(paren
id|__u32
op_star
)paren
id|calc_addr
c_func
(paren
id|regs
comma
id|opc
op_rshift
l_int|16
comma
id|opc
op_rshift
l_int|12
comma
id|opc
)paren
suffix:semicolon
id|mathemu_get_user
c_func
(paren
id|temp
comma
id|dxb
)paren
suffix:semicolon
multiline_comment|/* call the emulation function */
id|_fex
op_assign
(paren
(paren
r_int
(paren
op_star
)paren
(paren
r_struct
id|pt_regs
op_star
comma
r_int
comma
r_float
op_star
)paren
)paren
id|jump_table
(braket
id|opcode
(braket
l_int|5
)braket
)braket
)paren
(paren
id|regs
comma
id|opcode
(braket
l_int|1
)braket
op_rshift
l_int|4
comma
(paren
r_float
op_star
)paren
op_amp
id|temp
)paren
suffix:semicolon
id|emu_load_regd
c_func
(paren
(paren
id|opcode
(braket
l_int|1
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
r_case
l_int|7
suffix:colon
multiline_comment|/* RXE format, float constant */
multiline_comment|/* store float and load long double */
(brace
id|__u32
op_star
id|dxb
comma
id|temp
suffix:semicolon
id|__u32
id|opc
suffix:semicolon
r_if
c_cond
(paren
(paren
id|opcode
(braket
l_int|1
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|0x20
)paren
r_return
id|SIGILL
suffix:semicolon
id|emu_store_rege
c_func
(paren
(paren
id|opcode
(braket
l_int|1
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
id|opc
op_assign
op_star
(paren
(paren
id|__u32
op_star
)paren
id|opcode
)paren
suffix:semicolon
id|dxb
op_assign
(paren
id|__u32
op_star
)paren
id|calc_addr
c_func
(paren
id|regs
comma
id|opc
op_rshift
l_int|16
comma
id|opc
op_rshift
l_int|12
comma
id|opc
)paren
suffix:semicolon
id|mathemu_get_user
c_func
(paren
id|temp
comma
id|dxb
)paren
suffix:semicolon
multiline_comment|/* call the emulation function */
id|_fex
op_assign
(paren
(paren
r_int
(paren
op_star
)paren
(paren
r_struct
id|pt_regs
op_star
comma
r_int
comma
r_float
op_star
)paren
)paren
id|jump_table
(braket
id|opcode
(braket
l_int|5
)braket
)braket
)paren
(paren
id|regs
comma
id|opcode
(braket
l_int|1
)braket
op_rshift
l_int|4
comma
(paren
r_float
op_star
)paren
op_amp
id|temp
)paren
suffix:semicolon
id|emu_load_regd
c_func
(paren
(paren
id|opcode
(braket
l_int|1
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_load_regd
c_func
(paren
(paren
(paren
id|opcode
(braket
l_int|1
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
op_plus
l_int|2
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
r_case
l_int|8
suffix:colon
multiline_comment|/* RXE format, RX address used as int value */
(brace
id|__u64
id|dxb
suffix:semicolon
id|__u32
id|opc
suffix:semicolon
id|emu_store_rege
c_func
(paren
(paren
id|opcode
(braket
l_int|1
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
id|opc
op_assign
op_star
(paren
(paren
id|__u32
op_star
)paren
id|opcode
)paren
suffix:semicolon
id|dxb
op_assign
(paren
id|__u64
)paren
id|calc_addr
c_func
(paren
id|regs
comma
id|opc
op_rshift
l_int|16
comma
id|opc
op_rshift
l_int|12
comma
id|opc
)paren
suffix:semicolon
multiline_comment|/* call the emulation function */
id|_fex
op_assign
(paren
(paren
r_int
(paren
op_star
)paren
(paren
r_struct
id|pt_regs
op_star
comma
r_int
comma
r_int
)paren
)paren
id|jump_table
(braket
id|opcode
(braket
l_int|5
)braket
)braket
)paren
(paren
id|regs
comma
id|opcode
(braket
l_int|1
)braket
op_rshift
l_int|4
comma
id|dxb
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
r_case
l_int|9
suffix:colon
multiline_comment|/* RXE format, RX address used as int value */
(brace
id|__u64
id|dxb
suffix:semicolon
id|__u32
id|opc
suffix:semicolon
id|emu_store_regd
c_func
(paren
(paren
id|opcode
(braket
l_int|1
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
id|opc
op_assign
op_star
(paren
(paren
id|__u32
op_star
)paren
id|opcode
)paren
suffix:semicolon
id|dxb
op_assign
(paren
id|__u64
)paren
id|calc_addr
c_func
(paren
id|regs
comma
id|opc
op_rshift
l_int|16
comma
id|opc
op_rshift
l_int|12
comma
id|opc
)paren
suffix:semicolon
multiline_comment|/* call the emulation function */
id|_fex
op_assign
(paren
(paren
r_int
(paren
op_star
)paren
(paren
r_struct
id|pt_regs
op_star
comma
r_int
comma
r_int
)paren
)paren
id|jump_table
(braket
id|opcode
(braket
l_int|5
)braket
)braket
)paren
(paren
id|regs
comma
id|opcode
(braket
l_int|1
)braket
op_rshift
l_int|4
comma
id|dxb
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
r_case
l_int|10
suffix:colon
multiline_comment|/* RXE format, RX address used as int value */
(brace
id|__u64
id|dxb
suffix:semicolon
id|__u32
id|opc
suffix:semicolon
r_if
c_cond
(paren
(paren
id|opcode
(braket
l_int|1
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|2
)paren
r_return
id|SIGILL
suffix:semicolon
id|emu_store_regd
c_func
(paren
(paren
id|opcode
(braket
l_int|1
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
suffix:semicolon
id|emu_store_regd
c_func
(paren
(paren
(paren
id|opcode
(braket
l_int|1
)braket
op_rshift
l_int|4
)paren
op_amp
l_int|15
)paren
op_plus
l_int|2
)paren
suffix:semicolon
id|opc
op_assign
op_star
(paren
(paren
id|__u32
op_star
)paren
id|opcode
)paren
suffix:semicolon
id|dxb
op_assign
(paren
id|__u64
)paren
id|calc_addr
c_func
(paren
id|regs
comma
id|opc
op_rshift
l_int|16
comma
id|opc
op_rshift
l_int|12
comma
id|opc
)paren
suffix:semicolon
multiline_comment|/* call the emulation function */
id|_fex
op_assign
(paren
(paren
r_int
(paren
op_star
)paren
(paren
r_struct
id|pt_regs
op_star
comma
r_int
comma
r_int
)paren
)paren
id|jump_table
(braket
id|opcode
(braket
l_int|5
)braket
)braket
)paren
(paren
id|regs
comma
id|opcode
(braket
l_int|1
)braket
op_rshift
l_int|4
comma
id|dxb
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
r_default
suffix:colon
multiline_comment|/* invalid operation */
r_return
id|SIGILL
suffix:semicolon
)brace
r_if
c_cond
(paren
id|_fex
op_ne
l_int|0
)paren
(brace
id|current-&gt;thread.fp_regs.fpc
op_or_assign
id|_fex
suffix:semicolon
r_if
c_cond
(paren
id|current-&gt;thread.fp_regs.fpc
op_amp
(paren
id|_fex
op_lshift
l_int|8
)paren
)paren
r_return
id|SIGFPE
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/*&n; * Emulate LDR Rx,Ry with Rx or Ry not in {0, 2, 4, 6}&n; */
DECL|function|math_emu_ldr
r_int
id|math_emu_ldr
c_func
(paren
id|__u8
op_star
id|opcode
)paren
(brace
id|s390_fp_regs
op_star
id|fp_regs
op_assign
op_amp
id|current-&gt;thread.fp_regs
suffix:semicolon
id|__u16
id|opc
op_assign
op_star
(paren
(paren
id|__u16
op_star
)paren
id|opcode
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|opc
op_amp
l_int|0x90
)paren
op_eq
l_int|0
)paren
(brace
multiline_comment|/* test if rx in {0,2,4,6} */
multiline_comment|/* we got an exception therfore ry can&squot;t be in {0,2,4,6} */
id|__asm__
id|__volatile
(paren
multiline_comment|/* load rx from fp_regs.fprs[ry] */
l_string|&quot;     bras  1,0f&bslash;n&quot;
l_string|&quot;     ld    0,0(%1)&bslash;n&quot;
l_string|&quot;0:   ex    %0,0(1)&quot;
suffix:colon
multiline_comment|/* no output */
suffix:colon
l_string|&quot;a&quot;
(paren
id|opc
op_amp
l_int|0xf0
)paren
comma
l_string|&quot;a&quot;
(paren
op_amp
id|fp_regs-&gt;fprs
(braket
id|opc
op_amp
l_int|0xf
)braket
dot
id|d
)paren
suffix:colon
l_string|&quot;1&quot;
)paren
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
(paren
id|opc
op_amp
l_int|0x9
)paren
op_eq
l_int|0
)paren
(brace
multiline_comment|/* test if ry in {0,2,4,6} */
id|__asm__
id|__volatile
(paren
multiline_comment|/* store ry to fp_regs.fprs[rx] */
l_string|&quot;     bras  1,0f&bslash;n&quot;
l_string|&quot;     std   0,0(%1)&bslash;n&quot;
l_string|&quot;0:   ex    %0,0(1)&quot;
suffix:colon
multiline_comment|/* no output */
suffix:colon
l_string|&quot;a&quot;
(paren
(paren
id|opc
op_amp
l_int|0xf
)paren
op_lshift
l_int|4
)paren
comma
l_string|&quot;a&quot;
(paren
op_amp
id|fp_regs-&gt;fprs
(braket
(paren
id|opc
op_amp
l_int|0xf0
)paren
op_rshift
l_int|4
)braket
dot
id|d
)paren
suffix:colon
l_string|&quot;1&quot;
)paren
suffix:semicolon
)brace
r_else
multiline_comment|/* move fp_regs.fprs[ry] to fp_regs.fprs[rx] */
id|fp_regs-&gt;fprs
(braket
(paren
id|opc
op_amp
l_int|0xf0
)paren
op_rshift
l_int|4
)braket
op_assign
id|fp_regs-&gt;fprs
(braket
id|opc
op_amp
l_int|0xf
)braket
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/*&n; * Emulate LER Rx,Ry with Rx or Ry not in {0, 2, 4, 6}&n; */
DECL|function|math_emu_ler
r_int
id|math_emu_ler
c_func
(paren
id|__u8
op_star
id|opcode
)paren
(brace
id|s390_fp_regs
op_star
id|fp_regs
op_assign
op_amp
id|current-&gt;thread.fp_regs
suffix:semicolon
id|__u16
id|opc
op_assign
op_star
(paren
(paren
id|__u16
op_star
)paren
id|opcode
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|opc
op_amp
l_int|0x90
)paren
op_eq
l_int|0
)paren
(brace
multiline_comment|/* test if rx in {0,2,4,6} */
multiline_comment|/* we got an exception therfore ry can&squot;t be in {0,2,4,6} */
id|__asm__
id|__volatile
(paren
multiline_comment|/* load rx from fp_regs.fprs[ry] */
l_string|&quot;     bras  1,0f&bslash;n&quot;
l_string|&quot;     le    0,0(%1)&bslash;n&quot;
l_string|&quot;0:   ex    %0,0(1)&quot;
suffix:colon
multiline_comment|/* no output */
suffix:colon
l_string|&quot;a&quot;
(paren
id|opc
op_amp
l_int|0xf0
)paren
comma
l_string|&quot;a&quot;
(paren
op_amp
id|fp_regs-&gt;fprs
(braket
id|opc
op_amp
l_int|0xf
)braket
dot
id|f
)paren
suffix:colon
l_string|&quot;1&quot;
)paren
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
(paren
id|opc
op_amp
l_int|0x9
)paren
op_eq
l_int|0
)paren
(brace
multiline_comment|/* test if ry in {0,2,4,6} */
id|__asm__
id|__volatile
(paren
multiline_comment|/* store ry to fp_regs.fprs[rx] */
l_string|&quot;     bras  1,0f&bslash;n&quot;
l_string|&quot;     ste   0,0(%1)&bslash;n&quot;
l_string|&quot;0:   ex    %0,0(1)&quot;
suffix:colon
multiline_comment|/* no output */
suffix:colon
l_string|&quot;a&quot;
(paren
(paren
id|opc
op_amp
l_int|0xf
)paren
op_lshift
l_int|4
)paren
comma
l_string|&quot;a&quot;
(paren
op_amp
id|fp_regs-&gt;fprs
(braket
(paren
id|opc
op_amp
l_int|0xf0
)paren
op_rshift
l_int|4
)braket
dot
id|f
)paren
suffix:colon
l_string|&quot;1&quot;
)paren
suffix:semicolon
)brace
r_else
multiline_comment|/* move fp_regs.fprs[ry] to fp_regs.fprs[rx] */
id|fp_regs-&gt;fprs
(braket
(paren
id|opc
op_amp
l_int|0xf0
)paren
op_rshift
l_int|4
)braket
op_assign
id|fp_regs-&gt;fprs
(braket
id|opc
op_amp
l_int|0xf
)braket
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/*&n; * Emulate LD R,D(X,B) with R not in {0, 2, 4, 6}&n; */
DECL|function|math_emu_ld
r_int
id|math_emu_ld
c_func
(paren
id|__u8
op_star
id|opcode
comma
r_struct
id|pt_regs
op_star
id|regs
)paren
(brace
id|s390_fp_regs
op_star
id|fp_regs
op_assign
op_amp
id|current-&gt;thread.fp_regs
suffix:semicolon
id|__u32
id|opc
op_assign
op_star
(paren
(paren
id|__u32
op_star
)paren
id|opcode
)paren
suffix:semicolon
id|__u64
op_star
id|dxb
suffix:semicolon
id|dxb
op_assign
(paren
id|__u64
op_star
)paren
id|calc_addr
c_func
(paren
id|regs
comma
id|opc
op_rshift
l_int|16
comma
id|opc
op_rshift
l_int|12
comma
id|opc
)paren
suffix:semicolon
id|mathemu_copy_from_user
c_func
(paren
op_amp
id|fp_regs-&gt;fprs
(braket
(paren
id|opc
op_rshift
l_int|20
)paren
op_amp
l_int|0xf
)braket
dot
id|d
comma
id|dxb
comma
l_int|8
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/*&n; * Emulate LE R,D(X,B) with R not in {0, 2, 4, 6}&n; */
DECL|function|math_emu_le
r_int
id|math_emu_le
c_func
(paren
id|__u8
op_star
id|opcode
comma
r_struct
id|pt_regs
op_star
id|regs
)paren
(brace
id|s390_fp_regs
op_star
id|fp_regs
op_assign
op_amp
id|current-&gt;thread.fp_regs
suffix:semicolon
id|__u32
id|opc
op_assign
op_star
(paren
(paren
id|__u32
op_star
)paren
id|opcode
)paren
suffix:semicolon
id|__u32
op_star
id|mem
comma
op_star
id|dxb
suffix:semicolon
id|dxb
op_assign
(paren
id|__u32
op_star
)paren
id|calc_addr
c_func
(paren
id|regs
comma
id|opc
op_rshift
l_int|16
comma
id|opc
op_rshift
l_int|12
comma
id|opc
)paren
suffix:semicolon
id|mem
op_assign
(paren
id|__u32
op_star
)paren
(paren
op_amp
id|fp_regs-&gt;fprs
(braket
(paren
id|opc
op_rshift
l_int|20
)paren
op_amp
l_int|0xf
)braket
dot
id|f
)paren
suffix:semicolon
id|mathemu_get_user
c_func
(paren
id|mem
(braket
l_int|0
)braket
comma
id|dxb
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/*&n; * Emulate STD R,D(X,B) with R not in {0, 2, 4, 6}&n; */
DECL|function|math_emu_std
r_int
id|math_emu_std
c_func
(paren
id|__u8
op_star
id|opcode
comma
r_struct
id|pt_regs
op_star
id|regs
)paren
(brace
id|s390_fp_regs
op_star
id|fp_regs
op_assign
op_amp
id|current-&gt;thread.fp_regs
suffix:semicolon
id|__u32
id|opc
op_assign
op_star
(paren
(paren
id|__u32
op_star
)paren
id|opcode
)paren
suffix:semicolon
id|__u64
op_star
id|dxb
suffix:semicolon
id|dxb
op_assign
(paren
id|__u64
op_star
)paren
id|calc_addr
c_func
(paren
id|regs
comma
id|opc
op_rshift
l_int|16
comma
id|opc
op_rshift
l_int|12
comma
id|opc
)paren
suffix:semicolon
id|mathemu_copy_to_user
c_func
(paren
id|dxb
comma
op_amp
id|fp_regs-&gt;fprs
(braket
(paren
id|opc
op_rshift
l_int|20
)paren
op_amp
l_int|0xf
)braket
dot
id|d
comma
l_int|8
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/*&n; * Emulate STE R,D(X,B) with R not in {0, 2, 4, 6}&n; */
DECL|function|math_emu_ste
r_int
id|math_emu_ste
c_func
(paren
id|__u8
op_star
id|opcode
comma
r_struct
id|pt_regs
op_star
id|regs
)paren
(brace
id|s390_fp_regs
op_star
id|fp_regs
op_assign
op_amp
id|current-&gt;thread.fp_regs
suffix:semicolon
id|__u32
id|opc
op_assign
op_star
(paren
(paren
id|__u32
op_star
)paren
id|opcode
)paren
suffix:semicolon
id|__u32
op_star
id|mem
comma
op_star
id|dxb
suffix:semicolon
id|dxb
op_assign
(paren
id|__u32
op_star
)paren
id|calc_addr
c_func
(paren
id|regs
comma
id|opc
op_rshift
l_int|16
comma
id|opc
op_rshift
l_int|12
comma
id|opc
)paren
suffix:semicolon
id|mem
op_assign
(paren
id|__u32
op_star
)paren
(paren
op_amp
id|fp_regs-&gt;fprs
(braket
(paren
id|opc
op_rshift
l_int|20
)paren
op_amp
l_int|0xf
)braket
dot
id|f
)paren
suffix:semicolon
id|mathemu_put_user
c_func
(paren
id|mem
(braket
l_int|0
)braket
comma
id|dxb
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/*&n; * Emulate LFPC D(B)&n; */
DECL|function|math_emu_lfpc
r_int
id|math_emu_lfpc
c_func
(paren
id|__u8
op_star
id|opcode
comma
r_struct
id|pt_regs
op_star
id|regs
)paren
(brace
id|__u32
id|opc
op_assign
op_star
(paren
(paren
id|__u32
op_star
)paren
id|opcode
)paren
suffix:semicolon
id|__u32
op_star
id|dxb
comma
id|temp
suffix:semicolon
id|dxb
op_assign
(paren
id|__u32
op_star
)paren
id|calc_addr
c_func
(paren
id|regs
comma
l_int|0
comma
id|opc
op_rshift
l_int|12
comma
id|opc
)paren
suffix:semicolon
id|mathemu_get_user
c_func
(paren
id|temp
comma
id|dxb
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|temp
op_amp
op_complement
id|FPC_VALID_MASK
)paren
op_ne
l_int|0
)paren
r_return
id|SIGILL
suffix:semicolon
id|current-&gt;thread.fp_regs.fpc
op_assign
id|temp
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/*&n; * Emulate STFPC D(B)&n; */
DECL|function|math_emu_stfpc
r_int
id|math_emu_stfpc
c_func
(paren
id|__u8
op_star
id|opcode
comma
r_struct
id|pt_regs
op_star
id|regs
)paren
(brace
id|__u32
id|opc
op_assign
op_star
(paren
(paren
id|__u32
op_star
)paren
id|opcode
)paren
suffix:semicolon
id|__u32
op_star
id|dxb
suffix:semicolon
id|dxb
op_assign
(paren
id|__u32
op_star
)paren
id|calc_addr
c_func
(paren
id|regs
comma
l_int|0
comma
id|opc
op_rshift
l_int|12
comma
id|opc
)paren
suffix:semicolon
id|mathemu_put_user
c_func
(paren
id|current-&gt;thread.fp_regs.fpc
comma
id|dxb
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/*&n; * Emulate SRNM D(B)&n; */
DECL|function|math_emu_srnm
r_int
id|math_emu_srnm
c_func
(paren
id|__u8
op_star
id|opcode
comma
r_struct
id|pt_regs
op_star
id|regs
)paren
(brace
id|__u32
id|opc
op_assign
op_star
(paren
(paren
id|__u32
op_star
)paren
id|opcode
)paren
suffix:semicolon
id|__u32
id|temp
suffix:semicolon
id|temp
op_assign
id|calc_addr
c_func
(paren
id|regs
comma
l_int|0
comma
id|opc
op_rshift
l_int|12
comma
id|opc
)paren
suffix:semicolon
id|current-&gt;thread.fp_regs.fpc
op_and_assign
op_complement
l_int|3
suffix:semicolon
id|current-&gt;thread.fp_regs.fpc
op_or_assign
(paren
id|temp
op_amp
l_int|3
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/* broken compiler ... */
r_int
r_int
DECL|function|__negdi2
id|__negdi2
(paren
r_int
r_int
id|u
)paren
(brace
r_union
id|lll
(brace
r_int
r_int
id|ll
suffix:semicolon
r_int
id|s
(braket
l_int|2
)braket
suffix:semicolon
)brace
suffix:semicolon
r_union
id|lll
id|w
comma
id|uu
suffix:semicolon
id|uu.ll
op_assign
id|u
suffix:semicolon
id|w.s
(braket
l_int|1
)braket
op_assign
op_minus
id|uu.s
(braket
l_int|1
)braket
suffix:semicolon
id|w.s
(braket
l_int|0
)braket
op_assign
op_minus
id|uu.s
(braket
l_int|0
)braket
op_minus
(paren
(paren
r_int
)paren
id|w.s
(braket
l_int|1
)braket
op_ne
l_int|0
)paren
suffix:semicolon
r_return
id|w.ll
suffix:semicolon
)brace
eof
