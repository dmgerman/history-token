multiline_comment|/*&n; * linux/arch/sh/kernel/pci-rts7751r2d.c&n; *&n; * Author:  Ian DaSilva (idasilva@mvista.com)&n; *&n; * Highly leveraged from pci-bigsur.c, written by Dustin McIntire.&n; *&n; * May be copied or modified under the terms of the GNU General Public&n; * License.  See linux/COPYING for more information.&n; *&n; * PCI initialization for the Renesas SH7751R RTS7751R2D board&n; */
macro_line|#include &lt;linux/config.h&gt;
macro_line|#include &lt;linux/kernel.h&gt;
macro_line|#include &lt;linux/types.h&gt;
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;linux/delay.h&gt;
macro_line|#include &lt;linux/pci.h&gt;
macro_line|#include &lt;linux/module.h&gt;
macro_line|#include &lt;asm/io.h&gt;
macro_line|#include &quot;pci-sh7751.h&quot;
macro_line|#include &lt;asm/rts7751r2d/rts7751r2d.h&gt;
DECL|function|pcibios_map_platform_irq
r_int
id|__init
id|pcibios_map_platform_irq
c_func
(paren
id|u8
id|slot
comma
id|u8
id|pin
)paren
(brace
r_switch
c_cond
(paren
id|slot
)paren
(brace
r_case
l_int|0
suffix:colon
r_return
id|IRQ_PCISLOT1
suffix:semicolon
multiline_comment|/* PCI Extend slot #1 */
r_case
l_int|1
suffix:colon
r_return
id|IRQ_PCISLOT2
suffix:semicolon
multiline_comment|/* PCI Extend slot #2 */
r_case
l_int|2
suffix:colon
r_return
id|IRQ_PCMCIA
suffix:semicolon
multiline_comment|/* PCI Cardbus Bridge */
r_case
l_int|3
suffix:colon
r_return
id|IRQ_PCIETH
suffix:semicolon
multiline_comment|/* Realtek Ethernet controller */
r_default
suffix:colon
id|printk
c_func
(paren
l_string|&quot;PCI: Bad IRQ mapping request for slot %d&bslash;n&quot;
comma
id|slot
)paren
suffix:semicolon
r_return
op_minus
l_int|1
suffix:semicolon
)brace
)brace
DECL|variable|sh7751_io_resource
r_static
r_struct
id|resource
id|sh7751_io_resource
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;SH7751_IO&quot;
comma
dot
id|start
op_assign
l_int|0x4000
comma
dot
id|end
op_assign
l_int|0x4000
op_plus
id|SH7751_PCI_IO_SIZE
op_minus
l_int|1
comma
dot
id|flags
op_assign
id|IORESOURCE_IO
)brace
suffix:semicolon
DECL|variable|sh7751_mem_resource
r_static
r_struct
id|resource
id|sh7751_mem_resource
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;SH7751_mem&quot;
comma
dot
id|start
op_assign
id|SH7751_PCI_MEMORY_BASE
comma
dot
id|end
op_assign
id|SH7751_PCI_MEMORY_BASE
op_plus
id|SH7751_PCI_MEM_SIZE
op_minus
l_int|1
comma
dot
id|flags
op_assign
id|IORESOURCE_MEM
)brace
suffix:semicolon
r_extern
r_struct
id|pci_ops
id|sh7751_pci_ops
suffix:semicolon
DECL|variable|board_pci_channels
r_struct
id|pci_channel
id|board_pci_channels
(braket
)braket
op_assign
(brace
(brace
op_amp
id|sh7751_pci_ops
comma
op_amp
id|sh7751_io_resource
comma
op_amp
id|sh7751_mem_resource
comma
l_int|0
comma
l_int|0xff
)brace
comma
(brace
l_int|NULL
comma
l_int|NULL
comma
l_int|NULL
comma
l_int|0
comma
l_int|0
)brace
comma
)brace
suffix:semicolon
DECL|variable|board_pci_channels
id|EXPORT_SYMBOL
c_func
(paren
id|board_pci_channels
)paren
suffix:semicolon
DECL|variable|sh7751_pci_map
r_static
r_struct
id|sh7751_pci_address_map
id|sh7751_pci_map
op_assign
(brace
dot
id|window0
op_assign
(brace
dot
id|base
op_assign
id|SH7751_CS3_BASE_ADDR
comma
dot
id|size
op_assign
l_int|0x04000000
comma
)brace
comma
dot
id|window1
op_assign
(brace
dot
id|base
op_assign
l_int|0x00000000
comma
multiline_comment|/* Unused */
dot
id|size
op_assign
l_int|0x00000000
comma
multiline_comment|/* Unused */
)brace
comma
dot
id|flags
op_assign
id|SH7751_PCIC_NO_RESET
comma
)brace
suffix:semicolon
DECL|function|pcibios_init_platform
r_int
id|__init
id|pcibios_init_platform
c_func
(paren
r_void
)paren
(brace
r_return
id|sh7751_pcic_init
c_func
(paren
op_amp
id|sh7751_pci_map
)paren
suffix:semicolon
)brace
eof
