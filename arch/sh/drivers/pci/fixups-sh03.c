macro_line|#include &lt;linux/kernel.h&gt;
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;linux/types.h&gt;
macro_line|#include &lt;linux/pci.h&gt;
multiline_comment|/*&n; * &t;IRQ functions&n; */
DECL|function|pcibios_map_platform_irq
r_int
id|__init
id|pcibios_map_platform_irq
c_func
(paren
id|u8
id|slot
comma
id|u8
id|pin
comma
r_struct
id|pci_dev
op_star
id|dev
)paren
(brace
r_int
id|irq
suffix:semicolon
r_if
c_cond
(paren
id|dev-&gt;bus-&gt;number
op_eq
l_int|0
)paren
(brace
r_switch
c_cond
(paren
id|slot
)paren
(brace
r_case
l_int|4
suffix:colon
r_return
l_int|5
suffix:semicolon
multiline_comment|/* eth0       */
r_case
l_int|8
suffix:colon
r_return
l_int|5
suffix:semicolon
multiline_comment|/* eth1       */
r_case
l_int|6
suffix:colon
r_return
l_int|2
suffix:semicolon
multiline_comment|/* PCI bridge */
r_default
suffix:colon
id|printk
c_func
(paren
l_string|&quot;PCI: Bad IRQ mapping request for slot %d&bslash;n&quot;
comma
id|slot
)paren
suffix:semicolon
r_return
l_int|2
suffix:semicolon
)brace
)brace
r_else
(brace
r_switch
c_cond
(paren
id|pin
)paren
(brace
r_case
l_int|0
suffix:colon
id|irq
op_assign
l_int|2
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|1
suffix:colon
id|irq
op_assign
l_int|2
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|2
suffix:colon
id|irq
op_assign
l_int|2
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|3
suffix:colon
id|irq
op_assign
l_int|2
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|4
suffix:colon
id|irq
op_assign
l_int|2
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
id|irq
op_assign
op_minus
l_int|1
suffix:semicolon
r_break
suffix:semicolon
)brace
)brace
r_return
id|irq
suffix:semicolon
)brace
DECL|function|sh03_no_swizzle
r_static
id|u8
id|__init
id|sh03_no_swizzle
c_func
(paren
r_struct
id|pci_dev
op_star
id|dev
comma
id|u8
op_star
id|pin
)paren
(brace
multiline_comment|/* no swizzling */
r_return
id|PCI_SLOT
c_func
(paren
id|dev-&gt;devfn
)paren
suffix:semicolon
)brace
DECL|function|sh03_pci_lookup_irq
r_static
r_int
id|sh03_pci_lookup_irq
c_func
(paren
r_struct
id|pci_dev
op_star
id|dev
comma
id|u8
id|slot
comma
id|u8
id|pin
)paren
(brace
r_int
id|irq
op_assign
op_minus
l_int|1
suffix:semicolon
multiline_comment|/* now lookup the actual IRQ on a platform specific basis (pci-&squot;platform&squot;.c) */
id|irq
op_assign
id|pcibios_map_platform_irq
c_func
(paren
id|slot
comma
id|pin
comma
id|dev
)paren
suffix:semicolon
r_if
c_cond
(paren
id|irq
OL
l_int|0
)paren
(brace
id|pr_debug
c_func
(paren
l_string|&quot;PCI: Error mapping IRQ on device %s&bslash;n&quot;
comma
id|pci_name
c_func
(paren
id|dev
)paren
)paren
suffix:semicolon
r_return
id|irq
suffix:semicolon
)brace
id|pr_debug
c_func
(paren
l_string|&quot;Setting IRQ for slot %s to %d&bslash;n&quot;
comma
id|pci_name
c_func
(paren
id|dev
)paren
comma
id|irq
)paren
suffix:semicolon
r_return
id|irq
suffix:semicolon
)brace
DECL|function|pcibios_fixup_irqs
r_void
id|__init
id|pcibios_fixup_irqs
c_func
(paren
r_void
)paren
(brace
id|pci_fixup_irqs
c_func
(paren
id|sh03_no_swizzle
comma
id|sh03_pci_lookup_irq
)paren
suffix:semicolon
)brace
eof
