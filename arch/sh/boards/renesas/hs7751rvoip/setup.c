multiline_comment|/*&n; * linux/arch/sh/kernel/setup_hs7751rvoip.c&n; *&n; * Copyright (C) 2000  Kazumoto Kojima&n; *&n; * Renesas Technology Sales HS7751RVoIP Support.&n; *&n; * Modified for HS7751RVoIP by&n; * Atom Create Engineering Co., Ltd. 2002.&n; * Lineo uSolutions, Inc. 2003.&n; */
macro_line|#include &lt;linux/config.h&gt;
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;linux/irq.h&gt;
macro_line|#include &lt;linux/hdreg.h&gt;
macro_line|#include &lt;linux/ide.h&gt;
macro_line|#include &lt;asm/io.h&gt;
macro_line|#include &lt;asm/hs7751rvoip/hs7751rvoip.h&gt;
macro_line|#include &lt;linux/mm.h&gt;
macro_line|#include &lt;linux/vmalloc.h&gt;
multiline_comment|/* defined in mm/ioremap.c */
r_extern
r_void
op_star
id|p3_ioremap
c_func
(paren
r_int
r_int
id|phys_addr
comma
r_int
r_int
id|size
comma
r_int
r_int
id|flags
)paren
suffix:semicolon
DECL|variable|debug_counter
r_int
r_int
id|debug_counter
suffix:semicolon
DECL|function|get_system_type
r_const
r_char
op_star
id|get_system_type
c_func
(paren
r_void
)paren
(brace
r_return
l_string|&quot;HS7751RVoIP&quot;
suffix:semicolon
)brace
multiline_comment|/*&n; * Initialize the board&n; */
DECL|function|platform_setup
r_void
id|__init
id|platform_setup
c_func
(paren
r_void
)paren
(brace
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;Renesas Technology Sales HS7751RVoIP-2 support.&bslash;n&quot;
)paren
suffix:semicolon
id|ctrl_outb
c_func
(paren
l_int|0xf0
comma
id|PA_OUTPORTR
)paren
suffix:semicolon
id|debug_counter
op_assign
l_int|0
suffix:semicolon
)brace
DECL|variable|area5_io8_base
r_void
op_star
id|area5_io8_base
suffix:semicolon
DECL|variable|area6_io8_base
r_void
op_star
id|area6_io8_base
suffix:semicolon
DECL|variable|area5_io16_base
r_void
op_star
id|area5_io16_base
suffix:semicolon
DECL|variable|area6_io16_base
r_void
op_star
id|area6_io16_base
suffix:semicolon
DECL|function|cf_init
r_int
id|__init
id|cf_init
c_func
(paren
r_void
)paren
(brace
id|pgprot_t
id|prot
suffix:semicolon
r_int
r_int
id|paddrbase
comma
id|psize
suffix:semicolon
multiline_comment|/* open I/O area window */
id|paddrbase
op_assign
id|virt_to_phys
c_func
(paren
(paren
r_void
op_star
)paren
(paren
id|PA_AREA5_IO
op_plus
l_int|0x00000800
)paren
)paren
suffix:semicolon
id|psize
op_assign
id|PAGE_SIZE
suffix:semicolon
id|prot
op_assign
id|PAGE_KERNEL_PCC
c_func
(paren
l_int|1
comma
id|_PAGE_PCC_COM16
)paren
suffix:semicolon
id|area5_io16_base
op_assign
id|p3_ioremap
c_func
(paren
id|paddrbase
comma
id|psize
comma
id|prot.pgprot
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|area5_io16_base
)paren
(brace
id|printk
c_func
(paren
l_string|&quot;allocate_cf_area : can&squot;t open CF I/O window!&bslash;n&quot;
)paren
suffix:semicolon
r_return
op_minus
id|ENOMEM
suffix:semicolon
)brace
multiline_comment|/* XXX : do we need attribute and common-memory area also? */
id|paddrbase
op_assign
id|virt_to_phys
c_func
(paren
(paren
r_void
op_star
)paren
id|PA_AREA6_IO
)paren
suffix:semicolon
id|psize
op_assign
id|PAGE_SIZE
suffix:semicolon
macro_line|#if defined(CONFIG_HS7751RVOIP_CODEC)
id|prot
op_assign
id|PAGE_KERNEL_PCC
c_func
(paren
l_int|0
comma
id|_PAGE_PCC_COM8
)paren
suffix:semicolon
macro_line|#else
id|prot
op_assign
id|PAGE_KERNEL_PCC
c_func
(paren
l_int|0
comma
id|_PAGE_PCC_IO8
)paren
suffix:semicolon
macro_line|#endif
id|area6_io8_base
op_assign
id|p3_ioremap
c_func
(paren
id|paddrbase
comma
id|psize
comma
id|prot.pgprot
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|area6_io8_base
)paren
(brace
id|printk
c_func
(paren
l_string|&quot;allocate_cf_area : can&squot;t open CODEC I/O 8bit window!&bslash;n&quot;
)paren
suffix:semicolon
r_return
op_minus
id|ENOMEM
suffix:semicolon
)brace
id|prot
op_assign
id|PAGE_KERNEL_PCC
c_func
(paren
l_int|0
comma
id|_PAGE_PCC_IO16
)paren
suffix:semicolon
id|area6_io16_base
op_assign
id|p3_ioremap
c_func
(paren
id|paddrbase
comma
id|psize
comma
id|prot.pgprot
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|area6_io16_base
)paren
(brace
id|printk
c_func
(paren
l_string|&quot;allocate_cf_area : can&squot;t open CODEC I/O 16bit window!&bslash;n&quot;
)paren
suffix:semicolon
r_return
op_minus
id|ENOMEM
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
DECL|variable|cf_init
id|__initcall
(paren
id|cf_init
)paren
suffix:semicolon
eof
