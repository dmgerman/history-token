multiline_comment|/*&n; * linux/arch/sh/kernel/io_mpc1211.c&n; *&n; * Copyright (C) 2001  Saito.K &amp; Jeanne&n; *&n; * I/O routine for Interface MPC-1211.&n; *&n; */
macro_line|#include &lt;linux/kernel.h&gt;
macro_line|#include &lt;linux/types.h&gt;
macro_line|#include &lt;linux/pci.h&gt;
macro_line|#include &lt;asm/io.h&gt;
macro_line|#include &lt;asm/mpc1211/pci.h&gt;
DECL|function|delay
r_static
r_inline
r_void
id|delay
c_func
(paren
r_void
)paren
(brace
id|ctrl_inw
c_func
(paren
l_int|0xa0000000
)paren
suffix:semicolon
)brace
DECL|function|port2adr
r_static
r_inline
r_int
r_int
id|port2adr
c_func
(paren
r_int
r_int
id|port
)paren
(brace
r_return
id|port
op_plus
id|PA_PCI_IO
suffix:semicolon
)brace
DECL|function|mpc1211_inb
r_int
r_char
id|mpc1211_inb
c_func
(paren
r_int
r_int
id|port
)paren
(brace
r_return
op_star
(paren
id|__u8
op_star
)paren
id|port2adr
c_func
(paren
id|port
)paren
suffix:semicolon
)brace
DECL|function|mpc1211_inw
r_int
r_int
id|mpc1211_inw
c_func
(paren
r_int
r_int
id|port
)paren
(brace
r_return
op_star
(paren
id|__u16
op_star
)paren
id|port2adr
c_func
(paren
id|port
)paren
suffix:semicolon
)brace
DECL|function|mpc1211_inl
r_int
r_int
id|mpc1211_inl
c_func
(paren
r_int
r_int
id|port
)paren
(brace
r_return
op_star
(paren
id|__u32
op_star
)paren
id|port2adr
c_func
(paren
id|port
)paren
suffix:semicolon
)brace
DECL|function|mpc1211_outb
r_void
id|mpc1211_outb
c_func
(paren
r_int
r_char
id|value
comma
r_int
r_int
id|port
)paren
(brace
op_star
(paren
id|__u8
op_star
)paren
id|port2adr
c_func
(paren
id|port
)paren
op_assign
id|value
suffix:semicolon
)brace
DECL|function|mpc1211_outw
r_void
id|mpc1211_outw
c_func
(paren
r_int
r_int
id|value
comma
r_int
r_int
id|port
)paren
(brace
op_star
(paren
id|__u16
op_star
)paren
id|port2adr
c_func
(paren
id|port
)paren
op_assign
id|value
suffix:semicolon
)brace
DECL|function|mpc1211_outl
r_void
id|mpc1211_outl
c_func
(paren
r_int
r_int
id|value
comma
r_int
r_int
id|port
)paren
(brace
op_star
(paren
id|__u32
op_star
)paren
id|port2adr
c_func
(paren
id|port
)paren
op_assign
id|value
suffix:semicolon
)brace
DECL|function|mpc1211_inb_p
r_int
r_char
id|mpc1211_inb_p
c_func
(paren
r_int
r_int
id|port
)paren
(brace
r_int
r_char
id|v
suffix:semicolon
id|v
op_assign
op_star
(paren
id|__u8
op_star
)paren
id|port2adr
c_func
(paren
id|port
)paren
suffix:semicolon
id|delay
c_func
(paren
)paren
suffix:semicolon
r_return
id|v
suffix:semicolon
)brace
DECL|function|mpc1211_outb_p
r_void
id|mpc1211_outb_p
c_func
(paren
r_int
r_char
id|value
comma
r_int
r_int
id|port
)paren
(brace
op_star
(paren
id|__u8
op_star
)paren
id|port2adr
c_func
(paren
id|port
)paren
op_assign
id|value
suffix:semicolon
id|delay
c_func
(paren
)paren
suffix:semicolon
)brace
DECL|function|mpc1211_insb
r_void
id|mpc1211_insb
c_func
(paren
r_int
r_int
id|port
comma
r_void
op_star
id|addr
comma
r_int
r_int
id|count
)paren
(brace
r_volatile
id|__u8
op_star
id|p
op_assign
(paren
id|__u8
op_star
)paren
id|port2adr
c_func
(paren
id|port
)paren
suffix:semicolon
r_while
c_loop
(paren
id|count
op_decrement
)paren
(brace
op_star
(paren
(paren
id|__u8
op_star
)paren
id|addr
)paren
op_increment
op_assign
op_star
id|p
suffix:semicolon
)brace
)brace
DECL|function|mpc1211_insw
r_void
id|mpc1211_insw
c_func
(paren
r_int
r_int
id|port
comma
r_void
op_star
id|addr
comma
r_int
r_int
id|count
)paren
(brace
r_volatile
id|__u16
op_star
id|p
op_assign
(paren
id|__u16
op_star
)paren
id|port2adr
c_func
(paren
id|port
)paren
suffix:semicolon
r_while
c_loop
(paren
id|count
op_decrement
)paren
(brace
op_star
(paren
(paren
id|__u16
op_star
)paren
id|addr
)paren
op_increment
op_assign
op_star
id|p
suffix:semicolon
)brace
)brace
DECL|function|mpc1211_insl
r_void
id|mpc1211_insl
c_func
(paren
r_int
r_int
id|port
comma
r_void
op_star
id|addr
comma
r_int
r_int
id|count
)paren
(brace
r_volatile
id|__u32
op_star
id|p
op_assign
(paren
id|__u32
op_star
)paren
id|port2adr
c_func
(paren
id|port
)paren
suffix:semicolon
r_while
c_loop
(paren
id|count
op_decrement
)paren
(brace
op_star
(paren
(paren
id|__u32
op_star
)paren
id|addr
)paren
op_increment
op_assign
op_star
id|p
suffix:semicolon
)brace
)brace
DECL|function|mpc1211_outsb
r_void
id|mpc1211_outsb
c_func
(paren
r_int
r_int
id|port
comma
r_const
r_void
op_star
id|addr
comma
r_int
r_int
id|count
)paren
(brace
r_volatile
id|__u8
op_star
id|p
op_assign
(paren
id|__u8
op_star
)paren
id|port2adr
c_func
(paren
id|port
)paren
suffix:semicolon
r_while
c_loop
(paren
id|count
op_decrement
)paren
(brace
op_star
id|p
op_assign
op_star
(paren
(paren
id|__u8
op_star
)paren
id|addr
)paren
op_increment
suffix:semicolon
)brace
)brace
DECL|function|mpc1211_outsw
r_void
id|mpc1211_outsw
c_func
(paren
r_int
r_int
id|port
comma
r_const
r_void
op_star
id|addr
comma
r_int
r_int
id|count
)paren
(brace
r_volatile
id|__u16
op_star
id|p
op_assign
(paren
id|__u16
op_star
)paren
id|port2adr
c_func
(paren
id|port
)paren
suffix:semicolon
r_while
c_loop
(paren
id|count
op_decrement
)paren
(brace
op_star
id|p
op_assign
op_star
(paren
(paren
id|__u16
op_star
)paren
id|addr
)paren
op_increment
suffix:semicolon
)brace
)brace
DECL|function|mpc1211_outsl
r_void
id|mpc1211_outsl
c_func
(paren
r_int
r_int
id|port
comma
r_const
r_void
op_star
id|addr
comma
r_int
r_int
id|count
)paren
(brace
r_volatile
id|__u32
op_star
id|p
op_assign
(paren
id|__u32
op_star
)paren
id|port2adr
c_func
(paren
id|port
)paren
suffix:semicolon
r_while
c_loop
(paren
id|count
op_decrement
)paren
(brace
op_star
id|p
op_assign
op_star
(paren
(paren
id|__u32
op_star
)paren
id|addr
)paren
op_increment
suffix:semicolon
)brace
)brace
DECL|function|mpc1211_readb
r_int
r_char
id|mpc1211_readb
c_func
(paren
r_int
r_int
id|addr
)paren
(brace
r_return
op_star
(paren
r_volatile
r_int
r_char
op_star
)paren
id|addr
suffix:semicolon
)brace
DECL|function|mpc1211_readw
r_int
r_int
id|mpc1211_readw
c_func
(paren
r_int
r_int
id|addr
)paren
(brace
r_return
op_star
(paren
r_volatile
r_int
r_int
op_star
)paren
id|addr
suffix:semicolon
)brace
DECL|function|mpc1211_readl
r_int
r_int
id|mpc1211_readl
c_func
(paren
r_int
r_int
id|addr
)paren
(brace
r_return
op_star
(paren
r_volatile
r_int
r_int
op_star
)paren
id|addr
suffix:semicolon
)brace
DECL|function|mpc1211_writeb
r_void
id|mpc1211_writeb
c_func
(paren
r_int
r_char
id|b
comma
r_int
r_int
id|addr
)paren
(brace
op_star
(paren
r_volatile
r_int
r_char
op_star
)paren
id|addr
op_assign
id|b
suffix:semicolon
)brace
DECL|function|mpc1211_writew
r_void
id|mpc1211_writew
c_func
(paren
r_int
r_int
id|b
comma
r_int
r_int
id|addr
)paren
(brace
op_star
(paren
r_volatile
r_int
r_int
op_star
)paren
id|addr
op_assign
id|b
suffix:semicolon
)brace
DECL|function|mpc1211_writel
r_void
id|mpc1211_writel
c_func
(paren
r_int
r_int
id|b
comma
r_int
r_int
id|addr
)paren
(brace
op_star
(paren
r_volatile
r_int
r_int
op_star
)paren
id|addr
op_assign
id|b
suffix:semicolon
)brace
DECL|function|mpc1211_isa_port2addr
r_int
r_int
id|mpc1211_isa_port2addr
c_func
(paren
r_int
r_int
id|offset
)paren
(brace
r_return
id|port2adr
c_func
(paren
id|offset
)paren
suffix:semicolon
)brace
eof
