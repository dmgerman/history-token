multiline_comment|/*&n; * Generate definitions needed by assembly language modules.&n; * This code generates raw asm output which is post-processed to extract&n; * and format the required data.&n; */
macro_line|#include &lt;linux/types.h&gt;
macro_line|#include &lt;linux/stddef.h&gt;
macro_line|#include &lt;linux/sched.h&gt;
macro_line|#include &lt;linux/ptrace.h&gt;
macro_line|#include &lt;asm/io.h&gt;
DECL|macro|DEFINE
mdefine_line|#define DEFINE(sym, val) &bslash;&n;        asm volatile(&quot;&bslash;n-&gt;&quot; #sym &quot; %0 &quot; #val : : &quot;i&quot; (val))
DECL|macro|BLANK
mdefine_line|#define BLANK() asm volatile(&quot;&bslash;n-&gt;&quot; : : )
DECL|function|foo
r_void
id|foo
c_func
(paren
r_void
)paren
(brace
id|DEFINE
c_func
(paren
id|TI_TASK
comma
m_offsetof
(paren
r_struct
id|thread_info
comma
id|task
)paren
)paren
suffix:semicolon
id|DEFINE
c_func
(paren
id|TI_FLAGS
comma
m_offsetof
(paren
r_struct
id|thread_info
comma
id|flags
)paren
)paren
suffix:semicolon
id|DEFINE
c_func
(paren
id|TI_CPU
comma
m_offsetof
(paren
r_struct
id|thread_info
comma
id|cpu
)paren
)paren
suffix:semicolon
id|BLANK
c_func
(paren
)paren
suffix:semicolon
id|DEFINE
c_func
(paren
id|TASK_BLOCKED
comma
m_offsetof
(paren
r_struct
id|task_struct
comma
id|blocked
)paren
)paren
suffix:semicolon
id|DEFINE
c_func
(paren
id|TASK_UID
comma
m_offsetof
(paren
r_struct
id|task_struct
comma
id|uid
)paren
)paren
suffix:semicolon
id|DEFINE
c_func
(paren
id|TASK_EUID
comma
m_offsetof
(paren
r_struct
id|task_struct
comma
id|euid
)paren
)paren
suffix:semicolon
id|DEFINE
c_func
(paren
id|TASK_GID
comma
m_offsetof
(paren
r_struct
id|task_struct
comma
id|gid
)paren
)paren
suffix:semicolon
id|DEFINE
c_func
(paren
id|TASK_EGID
comma
m_offsetof
(paren
r_struct
id|task_struct
comma
id|egid
)paren
)paren
suffix:semicolon
id|DEFINE
c_func
(paren
id|TASK_REAL_PARENT
comma
m_offsetof
(paren
r_struct
id|task_struct
comma
id|real_parent
)paren
)paren
suffix:semicolon
id|DEFINE
c_func
(paren
id|TASK_TGID
comma
m_offsetof
(paren
r_struct
id|task_struct
comma
id|tgid
)paren
)paren
suffix:semicolon
id|BLANK
c_func
(paren
)paren
suffix:semicolon
id|DEFINE
c_func
(paren
id|SIZEOF_PT_REGS
comma
r_sizeof
(paren
r_struct
id|pt_regs
)paren
)paren
suffix:semicolon
id|DEFINE
c_func
(paren
id|PT_PTRACED
comma
id|PT_PTRACED
)paren
suffix:semicolon
id|DEFINE
c_func
(paren
id|CLONE_VM
comma
id|CLONE_VM
)paren
suffix:semicolon
id|DEFINE
c_func
(paren
id|CLONE_UNTRACED
comma
id|CLONE_UNTRACED
)paren
suffix:semicolon
id|DEFINE
c_func
(paren
id|SIGCHLD
comma
id|SIGCHLD
)paren
suffix:semicolon
id|BLANK
c_func
(paren
)paren
suffix:semicolon
id|DEFINE
c_func
(paren
id|HAE_CACHE
comma
m_offsetof
(paren
r_struct
id|alpha_machine_vector
comma
id|hae_cache
)paren
)paren
suffix:semicolon
id|DEFINE
c_func
(paren
id|HAE_REG
comma
m_offsetof
(paren
r_struct
id|alpha_machine_vector
comma
id|hae_register
)paren
)paren
suffix:semicolon
)brace
eof
