multiline_comment|/*&n; *&t;linux/arch/alpha/kernel/pci-noop.c&n; *&n; * Stub PCI interfaces for Jensen-specific kernels.&n; */
macro_line|#include &lt;linux/pci.h&gt;
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;linux/bootmem.h&gt;
macro_line|#include &lt;linux/errno.h&gt;
macro_line|#include &lt;linux/sched.h&gt;
macro_line|#include &quot;proto.h&quot;
multiline_comment|/*&n; * The PCI controller list.&n; */
DECL|variable|hose_head
DECL|variable|hose_tail
r_struct
id|pci_controller
op_star
id|hose_head
comma
op_star
op_star
id|hose_tail
op_assign
op_amp
id|hose_head
suffix:semicolon
DECL|variable|pci_isa_hose
r_struct
id|pci_controller
op_star
id|pci_isa_hose
suffix:semicolon
r_struct
id|pci_controller
op_star
id|__init
DECL|function|alloc_pci_controller
id|alloc_pci_controller
c_func
(paren
r_void
)paren
(brace
r_struct
id|pci_controller
op_star
id|hose
suffix:semicolon
id|hose
op_assign
id|alloc_bootmem
c_func
(paren
r_sizeof
(paren
op_star
id|hose
)paren
)paren
suffix:semicolon
op_star
id|hose_tail
op_assign
id|hose
suffix:semicolon
id|hose_tail
op_assign
op_amp
id|hose-&gt;next
suffix:semicolon
r_return
id|hose
suffix:semicolon
)brace
r_struct
id|resource
op_star
id|__init
DECL|function|alloc_resource
id|alloc_resource
c_func
(paren
r_void
)paren
(brace
r_struct
id|resource
op_star
id|res
suffix:semicolon
id|res
op_assign
id|alloc_bootmem
c_func
(paren
r_sizeof
(paren
op_star
id|res
)paren
)paren
suffix:semicolon
r_return
id|res
suffix:semicolon
)brace
id|asmlinkage
r_int
DECL|function|sys_pciconfig_iobase
id|sys_pciconfig_iobase
c_func
(paren
r_int
id|which
comma
r_int
r_int
id|bus
comma
r_int
r_int
id|dfn
)paren
(brace
r_struct
id|pci_controller
op_star
id|hose
suffix:semicolon
r_struct
id|pci_dev
op_star
id|dev
suffix:semicolon
multiline_comment|/* from hose or from bus.devfn */
r_if
c_cond
(paren
id|which
op_amp
id|IOBASE_FROM_HOSE
)paren
(brace
r_for
c_loop
(paren
id|hose
op_assign
id|hose_head
suffix:semicolon
id|hose
suffix:semicolon
id|hose
op_assign
id|hose-&gt;next
)paren
r_if
c_cond
(paren
id|hose-&gt;index
op_eq
id|bus
)paren
r_break
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|hose
)paren
r_return
op_minus
id|ENODEV
suffix:semicolon
)brace
r_else
(brace
multiline_comment|/* Special hook for ISA access.  */
r_if
c_cond
(paren
id|bus
op_eq
l_int|0
op_logical_and
id|dfn
op_eq
l_int|0
)paren
id|hose
op_assign
id|pci_isa_hose
suffix:semicolon
r_else
r_return
op_minus
id|ENODEV
suffix:semicolon
)brace
r_switch
c_cond
(paren
id|which
op_amp
op_complement
id|IOBASE_FROM_HOSE
)paren
(brace
r_case
id|IOBASE_HOSE
suffix:colon
r_return
id|hose-&gt;index
suffix:semicolon
r_case
id|IOBASE_SPARSE_MEM
suffix:colon
r_return
id|hose-&gt;sparse_mem_base
suffix:semicolon
r_case
id|IOBASE_DENSE_MEM
suffix:colon
r_return
id|hose-&gt;dense_mem_base
suffix:semicolon
r_case
id|IOBASE_SPARSE_IO
suffix:colon
r_return
id|hose-&gt;sparse_io_base
suffix:semicolon
r_case
id|IOBASE_DENSE_IO
suffix:colon
r_return
id|hose-&gt;dense_io_base
suffix:semicolon
r_case
id|IOBASE_ROOT_BUS
suffix:colon
r_return
id|hose-&gt;bus-&gt;number
suffix:semicolon
)brace
r_return
op_minus
id|EOPNOTSUPP
suffix:semicolon
)brace
id|asmlinkage
r_int
DECL|function|sys_pciconfig_read
id|sys_pciconfig_read
c_func
(paren
r_int
r_int
id|bus
comma
r_int
r_int
id|dfn
comma
r_int
r_int
id|off
comma
r_int
r_int
id|len
comma
r_void
op_star
id|buf
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
id|capable
c_func
(paren
id|CAP_SYS_ADMIN
)paren
)paren
r_return
op_minus
id|EPERM
suffix:semicolon
r_else
r_return
op_minus
id|ENODEV
suffix:semicolon
)brace
id|asmlinkage
r_int
DECL|function|sys_pciconfig_write
id|sys_pciconfig_write
c_func
(paren
r_int
r_int
id|bus
comma
r_int
r_int
id|dfn
comma
r_int
r_int
id|off
comma
r_int
r_int
id|len
comma
r_void
op_star
id|buf
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
id|capable
c_func
(paren
id|CAP_SYS_ADMIN
)paren
)paren
r_return
op_minus
id|EPERM
suffix:semicolon
r_else
r_return
op_minus
id|ENODEV
suffix:semicolon
)brace
multiline_comment|/* stubs for the routines in pci_iommu.c */
r_void
op_star
DECL|function|pci_alloc_consistent
id|pci_alloc_consistent
c_func
(paren
r_struct
id|pci_dev
op_star
id|pdev
comma
r_int
id|size
comma
id|dma_addr_t
op_star
id|dma_addrp
)paren
(brace
)brace
r_void
DECL|function|pci_free_consistent
id|pci_free_consistent
c_func
(paren
r_struct
id|pci_dev
op_star
id|pdev
comma
r_int
id|size
comma
r_void
op_star
id|cpu_addr
comma
id|dma_addr_t
id|dma_addr
)paren
(brace
)brace
id|dma_addr_t
DECL|function|pci_map_single
id|pci_map_single
c_func
(paren
r_struct
id|pci_dev
op_star
id|pdev
comma
r_void
op_star
id|cpu_addr
comma
r_int
id|size
comma
r_int
id|direction
)paren
(brace
)brace
r_void
DECL|function|pci_unmap_single
id|pci_unmap_single
c_func
(paren
r_struct
id|pci_dev
op_star
id|pdev
comma
id|dma_addr_t
id|dma_addr
comma
r_int
id|size
comma
r_int
id|direction
)paren
(brace
)brace
r_int
DECL|function|pci_map_sg
id|pci_map_sg
c_func
(paren
r_struct
id|pci_dev
op_star
id|pdev
comma
r_struct
id|scatterlist
op_star
id|sg
comma
r_int
id|nents
comma
r_int
id|direction
)paren
(brace
)brace
r_void
DECL|function|pci_unmap_sg
id|pci_unmap_sg
c_func
(paren
r_struct
id|pci_dev
op_star
id|pdev
comma
r_struct
id|scatterlist
op_star
id|sg
comma
r_int
id|nents
comma
r_int
id|direction
)paren
(brace
)brace
r_int
DECL|function|pci_dma_supported
id|pci_dma_supported
c_func
(paren
r_struct
id|pci_dev
op_star
id|hwdev
comma
id|dma_addr_t
id|mask
)paren
(brace
r_return
l_int|0
suffix:semicolon
)brace
eof
