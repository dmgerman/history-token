multiline_comment|/*&n; * This file is subject to the terms and conditions of the GNU General Public&n; * License.  See the file &quot;COPYING&quot; in the main directory of this archive&n; * for more details.&n; *&n; * Copyright (C) 2003 Silicon Graphics, Inc. All rights reserved.&n; */
macro_line|#include &lt;linux/types.h&gt;
macro_line|#include &lt;asm/sn/sgi.h&gt;
macro_line|#include &lt;asm/sn/iograph.h&gt;
macro_line|#include &lt;asm/sn/addrs.h&gt;
macro_line|#include &lt;asm/sn/pci/pcibr.h&gt;
macro_line|#include &lt;asm/sn/pci/pcibr_private.h&gt;
macro_line|#include &lt;asm/sn/pci/pci_defs.h&gt;
multiline_comment|/*&n; * Identification Register Access -- Read Only&t;&t;&t;    0000_0000 &n; */
r_static
r_uint64
DECL|function|__pcireg_id_get
id|__pcireg_id_get
c_func
(paren
id|pic_t
op_star
id|bridge
)paren
(brace
r_return
id|bridge-&gt;p_wid_id
suffix:semicolon
)brace
r_uint64
DECL|function|pcireg_bridge_id_get
id|pcireg_bridge_id_get
c_func
(paren
r_void
op_star
id|ptr
)paren
(brace
r_return
id|__pcireg_id_get
c_func
(paren
(paren
id|pic_t
op_star
)paren
id|ptr
)paren
suffix:semicolon
)brace
r_uint64
DECL|function|pcireg_id_get
id|pcireg_id_get
c_func
(paren
id|pcibr_soft_t
id|ptr
)paren
(brace
r_return
id|__pcireg_id_get
c_func
(paren
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * Address Bus Side Holding Register Access -- Read Only&t;    0000_0010&n; */
r_uint64
DECL|function|pcireg_bus_err_get
id|pcireg_bus_err_get
c_func
(paren
id|pcibr_soft_t
id|ptr
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
r_return
id|bridge-&gt;p_wid_err
suffix:semicolon
)brace
multiline_comment|/*&n; * Control Register Access -- Read/Write&t;&t;&t;    0000_0020&n; */
r_static
r_uint64
DECL|function|__pcireg_control_get
id|__pcireg_control_get
c_func
(paren
id|pic_t
op_star
id|bridge
)paren
(brace
r_return
id|bridge-&gt;p_wid_control
suffix:semicolon
)brace
r_uint64
DECL|function|pcireg_bridge_control_get
id|pcireg_bridge_control_get
c_func
(paren
r_void
op_star
id|ptr
)paren
(brace
r_return
id|__pcireg_control_get
c_func
(paren
(paren
id|pic_t
op_star
)paren
id|ptr
)paren
suffix:semicolon
)brace
r_uint64
DECL|function|pcireg_control_get
id|pcireg_control_get
c_func
(paren
id|pcibr_soft_t
id|ptr
)paren
(brace
r_return
id|__pcireg_control_get
c_func
(paren
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
)paren
suffix:semicolon
)brace
r_void
DECL|function|pcireg_control_set
id|pcireg_control_set
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_uint64
id|val
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
multiline_comment|/* WAR for PV 439897 &amp; 454474.  Add a readback of the control &n;&t; * register.  Lock to protect against MP accesses to this&n;&t; * register along with other write-only registers (See PVs).&n;&t; * This register isnt accessed in the &quot;hot path&quot; so the splhi&n;&t; * shouldn&squot;t be a bottleneck&n;&t; */
id|bridge-&gt;p_wid_control
op_assign
id|val
suffix:semicolon
id|bridge-&gt;p_wid_control
suffix:semicolon
multiline_comment|/* WAR */
)brace
r_void
DECL|function|pcireg_control_bit_clr
id|pcireg_control_bit_clr
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_uint64
id|bits
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
multiline_comment|/* WAR for PV 439897 &amp; 454474.  Add a readback of the control&n;&t; * register.  Lock to protect against MP accesses to this&n;&t; * register along with other write-only registers (See PVs).&n;&t; * This register isnt accessed in the &quot;hot path&quot; so the splhi&n;&t; * shouldn&squot;t be a bottleneck&n;&t; */
id|bridge-&gt;p_wid_control
op_and_assign
op_complement
id|bits
suffix:semicolon
id|bridge-&gt;p_wid_control
suffix:semicolon
multiline_comment|/* WAR */
)brace
r_void
DECL|function|pcireg_control_bit_set
id|pcireg_control_bit_set
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_uint64
id|bits
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
multiline_comment|/* WAR for PV 439897 &amp; 454474.  Add a readback of the control&n;&t; * register.  Lock to protect against MP accesses to this&n;&t; * register along with other write-only registers (See PVs).&n;&t; * This register isnt accessed in the &quot;hot path&quot; so the splhi&n;&t; * shouldn&squot;t be a bottleneck&n;&t; */
id|bridge-&gt;p_wid_control
op_or_assign
id|bits
suffix:semicolon
id|bridge-&gt;p_wid_control
suffix:semicolon
multiline_comment|/* WAR */
)brace
multiline_comment|/*&n; * Bus Speed (from control register); -- Read Only access&t;    0000_0020&n; * 0x00 == 33MHz, 0x01 == 66MHz, 0x10 == 100MHz, 0x11 == 133MHz&n; */
r_uint64
DECL|function|pcireg_speed_get
id|pcireg_speed_get
c_func
(paren
id|pcibr_soft_t
id|ptr
)paren
(brace
r_uint64
id|speedbits
suffix:semicolon
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
id|speedbits
op_assign
id|bridge-&gt;p_wid_control
op_amp
id|PIC_CTRL_PCI_SPEED
suffix:semicolon
r_return
(paren
id|speedbits
op_rshift
l_int|4
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * Bus Mode (ie. PCIX or PCI) (from Status register);&t;&t;    0000_0008&n; * 0x0 == PCI, 0x1 == PCI-X&n; */
r_uint64
DECL|function|pcireg_mode_get
id|pcireg_mode_get
c_func
(paren
id|pcibr_soft_t
id|ptr
)paren
(brace
r_uint64
id|pcix_active_bit
suffix:semicolon
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
id|pcix_active_bit
op_assign
id|bridge-&gt;p_wid_stat
op_amp
id|PIC_STAT_PCIX_ACTIVE
suffix:semicolon
r_return
(paren
id|pcix_active_bit
op_rshift
id|PIC_STAT_PCIX_ACTIVE_SHFT
)paren
suffix:semicolon
)brace
r_void
DECL|function|pcireg_req_timeout_set
id|pcireg_req_timeout_set
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_uint64
id|val
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
id|bridge-&gt;p_wid_req_timeout
op_assign
id|val
suffix:semicolon
)brace
multiline_comment|/*&n; * Interrupt Destination Addr Register Access -- Read/Write&t;    0000_0038&n; */
r_void
DECL|function|pcireg_intr_dst_set
id|pcireg_intr_dst_set
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_uint64
id|val
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
id|bridge-&gt;p_wid_int
op_assign
id|val
suffix:semicolon
)brace
multiline_comment|/*&n; * Intr Destination Addr Reg Access (target_id) -- Read/Write&t;    0000_0038&n; */
r_uint64
DECL|function|pcireg_intr_dst_target_id_get
id|pcireg_intr_dst_target_id_get
c_func
(paren
id|pcibr_soft_t
id|ptr
)paren
(brace
r_uint64
id|tid_bits
suffix:semicolon
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
id|tid_bits
op_assign
(paren
id|bridge-&gt;p_wid_int
op_amp
id|PIC_INTR_DEST_TID
)paren
suffix:semicolon
r_return
(paren
id|tid_bits
op_rshift
id|PIC_INTR_DEST_TID_SHFT
)paren
suffix:semicolon
)brace
r_void
DECL|function|pcireg_intr_dst_target_id_set
id|pcireg_intr_dst_target_id_set
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_uint64
id|target_id
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
id|bridge-&gt;p_wid_int
op_and_assign
op_complement
id|PIC_INTR_DEST_TID
suffix:semicolon
id|bridge-&gt;p_wid_int
op_or_assign
(paren
(paren
id|target_id
op_lshift
id|PIC_INTR_DEST_TID_SHFT
)paren
op_amp
id|PIC_INTR_DEST_TID
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * Intr Destination Addr Register Access (addr) -- Read/Write&t;    0000_0038&n; */
r_uint64
DECL|function|pcireg_intr_dst_addr_get
id|pcireg_intr_dst_addr_get
c_func
(paren
id|pcibr_soft_t
id|ptr
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
r_return
id|bridge-&gt;p_wid_int
op_amp
id|PIC_XTALK_ADDR_MASK
suffix:semicolon
)brace
r_void
DECL|function|pcireg_intr_dst_addr_set
id|pcireg_intr_dst_addr_set
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_uint64
id|addr
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
id|bridge-&gt;p_wid_int
op_and_assign
op_complement
id|PIC_XTALK_ADDR_MASK
suffix:semicolon
id|bridge-&gt;p_wid_int
op_or_assign
(paren
id|addr
op_amp
id|PIC_XTALK_ADDR_MASK
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * Cmd Word Holding Bus Side Error Register Access -- Read Only&t;    0000_0040&n; */
r_uint64
DECL|function|pcireg_cmdword_err_get
id|pcireg_cmdword_err_get
c_func
(paren
id|pcibr_soft_t
id|ptr
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
r_return
id|bridge-&gt;p_wid_err_cmdword
suffix:semicolon
)brace
multiline_comment|/*&n; * PCI/PCIX Target Flush Register Access -- Read Only&t;&t;    0000_0050&n; */
r_uint64
DECL|function|pcireg_tflush_get
id|pcireg_tflush_get
c_func
(paren
id|pcibr_soft_t
id|ptr
)paren
(brace
r_uint64
id|ret
op_assign
l_int|0
suffix:semicolon
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
id|ret
op_assign
id|bridge-&gt;p_wid_tflush
suffix:semicolon
multiline_comment|/* Read of the Targer Flush should always return zero */
id|ASSERT_ALWAYS
c_func
(paren
id|ret
op_eq
l_int|0
)paren
suffix:semicolon
r_return
id|ret
suffix:semicolon
)brace
multiline_comment|/*&n; * Cmd Word Holding Link Side Error Register Access -- Read Only    0000_0058&n; */
r_uint64
DECL|function|pcireg_linkside_err_get
id|pcireg_linkside_err_get
c_func
(paren
id|pcibr_soft_t
id|ptr
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
r_return
id|bridge-&gt;p_wid_aux_err
suffix:semicolon
)brace
multiline_comment|/*&n; * PCI Response Buffer Address Holding Register -- Read Only&t;    0000_0068&n; */
r_uint64
DECL|function|pcireg_resp_err_get
id|pcireg_resp_err_get
c_func
(paren
id|pcibr_soft_t
id|ptr
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
r_return
id|bridge-&gt;p_wid_resp
suffix:semicolon
)brace
multiline_comment|/*&n; * PCI Resp Buffer Address Holding Reg (Address) -- Read Only&t;    0000_0068&n; */
r_uint64
DECL|function|pcireg_resp_err_addr_get
id|pcireg_resp_err_addr_get
c_func
(paren
id|pcibr_soft_t
id|ptr
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
r_return
id|bridge-&gt;p_wid_resp
op_amp
id|PIC_RSP_BUF_ADDR
suffix:semicolon
)brace
multiline_comment|/*&n; * PCI Resp Buffer Address Holding Register (Buffer)-- Read Only    0000_0068&n; */
r_uint64
DECL|function|pcireg_resp_err_buf_get
id|pcireg_resp_err_buf_get
c_func
(paren
id|pcibr_soft_t
id|ptr
)paren
(brace
r_uint64
id|bufnum_bits
suffix:semicolon
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
id|bufnum_bits
op_assign
(paren
id|bridge-&gt;p_wid_resp_upper
op_amp
id|PIC_RSP_BUF_NUM
)paren
suffix:semicolon
r_return
(paren
id|bufnum_bits
op_rshift
id|PIC_RSP_BUF_NUM_SHFT
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * PCI Resp Buffer Address Holding Register (Device)-- Read Only    0000_0068&n; */
r_uint64
DECL|function|pcireg_resp_err_dev_get
id|pcireg_resp_err_dev_get
c_func
(paren
id|pcibr_soft_t
id|ptr
)paren
(brace
r_uint64
id|devnum_bits
suffix:semicolon
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
id|devnum_bits
op_assign
(paren
id|bridge-&gt;p_wid_resp_upper
op_amp
id|PIC_RSP_BUF_DEV_NUM
)paren
suffix:semicolon
r_return
(paren
id|devnum_bits
op_rshift
id|PIC_RSP_BUF_DEV_NUM_SHFT
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * Address Holding Register Link Side Errors -- Read Only&t;    0000_0078&n; */
r_uint64
DECL|function|pcireg_linkside_err_addr_get
id|pcireg_linkside_err_addr_get
c_func
(paren
id|pcibr_soft_t
id|ptr
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
r_return
id|bridge-&gt;p_wid_addr_lkerr
suffix:semicolon
)brace
r_void
DECL|function|pcireg_dirmap_wid_set
id|pcireg_dirmap_wid_set
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_uint64
id|target
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
id|bridge-&gt;p_dir_map
op_and_assign
op_complement
id|PIC_DIRMAP_WID
suffix:semicolon
id|bridge-&gt;p_dir_map
op_or_assign
(paren
(paren
id|target
op_lshift
id|PIC_DIRMAP_WID_SHFT
)paren
op_amp
id|PIC_DIRMAP_WID
)paren
suffix:semicolon
)brace
r_void
DECL|function|pcireg_dirmap_diroff_set
id|pcireg_dirmap_diroff_set
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_uint64
id|dir_off
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
id|bridge-&gt;p_dir_map
op_and_assign
op_complement
id|PIC_DIRMAP_DIROFF
suffix:semicolon
id|bridge-&gt;p_dir_map
op_or_assign
(paren
id|dir_off
op_amp
id|PIC_DIRMAP_DIROFF
)paren
suffix:semicolon
)brace
r_void
DECL|function|pcireg_dirmap_add512_set
id|pcireg_dirmap_add512_set
c_func
(paren
id|pcibr_soft_t
id|ptr
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
id|bridge-&gt;p_dir_map
op_or_assign
id|PIC_DIRMAP_ADD512
suffix:semicolon
)brace
r_void
DECL|function|pcireg_dirmap_add512_clr
id|pcireg_dirmap_add512_clr
c_func
(paren
id|pcibr_soft_t
id|ptr
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
id|bridge-&gt;p_dir_map
op_and_assign
op_complement
id|PIC_DIRMAP_ADD512
suffix:semicolon
)brace
multiline_comment|/*&n; * PCI Page Map Fault Address Register Access -- Read Only&t;    0000_0090&n; */
r_uint64
DECL|function|pcireg_map_fault_get
id|pcireg_map_fault_get
c_func
(paren
id|pcibr_soft_t
id|ptr
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
r_return
id|bridge-&gt;p_map_fault
suffix:semicolon
)brace
multiline_comment|/*&n; * Arbitration Register Access -- Read/Write&t;&t;&t;    0000_00A0&n; */
r_uint64
DECL|function|pcireg_arbitration_get
id|pcireg_arbitration_get
c_func
(paren
id|pcibr_soft_t
id|ptr
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
r_return
id|bridge-&gt;p_arb
suffix:semicolon
)brace
r_void
DECL|function|pcireg_arbitration_bit_set
id|pcireg_arbitration_bit_set
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_uint64
id|bits
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
id|bridge-&gt;p_arb
op_or_assign
id|bits
suffix:semicolon
)brace
multiline_comment|/*&n; * Internal Ram Parity Error Register Access -- Read Only&t;    0000_00B0&n; */
r_uint64
DECL|function|pcireg_parity_err_get
id|pcireg_parity_err_get
c_func
(paren
id|pcibr_soft_t
id|ptr
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
r_return
id|bridge-&gt;p_ate_parity_err
suffix:semicolon
)brace
multiline_comment|/*&n; * Type 1 Configuration Register Access -- Read/Write&t;&t;    0000_00C8&n; */
r_void
DECL|function|pcireg_type1_cntr_set
id|pcireg_type1_cntr_set
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_uint64
id|val
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
id|bridge-&gt;p_pci_cfg
op_assign
id|val
suffix:semicolon
)brace
multiline_comment|/*&n; * PCI Bus Error Lower Addr Holding Reg Access -- Read Only&t;    0000_00D8&n; */
r_uint64
DECL|function|pcireg_pci_bus_addr_get
id|pcireg_pci_bus_addr_get
c_func
(paren
id|pcibr_soft_t
id|ptr
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
r_return
id|bridge-&gt;p_pci_err
suffix:semicolon
)brace
multiline_comment|/*&n; * PCI Bus Error Addr Holding Reg Access (Address) -- Read Only&t;    0000_00D8&n; */
r_uint64
DECL|function|pcireg_pci_bus_addr_addr_get
id|pcireg_pci_bus_addr_addr_get
c_func
(paren
id|pcibr_soft_t
id|ptr
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
r_return
id|bridge-&gt;p_pci_err
op_amp
id|PIC_XTALK_ADDR_MASK
suffix:semicolon
)brace
multiline_comment|/*&n; * Interrupt Status Register Access -- Read Only&t;&t;    0000_0100&n; */
r_uint64
DECL|function|pcireg_intr_status_get
id|pcireg_intr_status_get
c_func
(paren
id|pcibr_soft_t
id|ptr
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
r_return
id|bridge-&gt;p_int_status
suffix:semicolon
)brace
multiline_comment|/*&n; * Interrupt Enable Register Access -- Read/Write&t;&t;    0000_0108&n; */
r_uint64
DECL|function|pcireg_intr_enable_get
id|pcireg_intr_enable_get
c_func
(paren
id|pcibr_soft_t
id|ptr
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
r_return
id|bridge-&gt;p_int_enable
suffix:semicolon
)brace
r_void
DECL|function|pcireg_intr_enable_set
id|pcireg_intr_enable_set
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_uint64
id|val
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
id|bridge-&gt;p_int_enable
op_assign
id|val
suffix:semicolon
)brace
r_void
DECL|function|pcireg_intr_enable_bit_clr
id|pcireg_intr_enable_bit_clr
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_uint64
id|bits
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
id|bridge-&gt;p_int_enable
op_and_assign
op_complement
id|bits
suffix:semicolon
)brace
r_void
DECL|function|pcireg_intr_enable_bit_set
id|pcireg_intr_enable_bit_set
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_uint64
id|bits
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
id|bridge-&gt;p_int_enable
op_or_assign
id|bits
suffix:semicolon
)brace
multiline_comment|/*&n; * Interrupt Reset Register Access -- Write Only&t;&t;    0000_0110&n; */
r_void
DECL|function|pcireg_intr_reset_set
id|pcireg_intr_reset_set
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_uint64
id|val
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
id|bridge-&gt;p_int_rst_stat
op_assign
id|val
suffix:semicolon
)brace
r_void
DECL|function|pcireg_intr_mode_set
id|pcireg_intr_mode_set
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_uint64
id|val
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
id|bridge-&gt;p_int_mode
op_assign
id|val
suffix:semicolon
)brace
r_void
DECL|function|pcireg_intr_device_set
id|pcireg_intr_device_set
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_uint64
id|val
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
id|bridge-&gt;p_int_device
op_assign
id|val
suffix:semicolon
)brace
r_static
r_void
DECL|function|__pcireg_intr_device_bit_set
id|__pcireg_intr_device_bit_set
c_func
(paren
id|pic_t
op_star
id|bridge
comma
r_uint64
id|bits
)paren
(brace
id|bridge-&gt;p_int_device
op_or_assign
id|bits
suffix:semicolon
)brace
r_void
DECL|function|pcireg_bridge_intr_device_bit_set
id|pcireg_bridge_intr_device_bit_set
c_func
(paren
r_void
op_star
id|ptr
comma
r_uint64
id|bits
)paren
(brace
id|__pcireg_intr_device_bit_set
c_func
(paren
(paren
id|pic_t
op_star
)paren
id|ptr
comma
id|bits
)paren
suffix:semicolon
)brace
r_void
DECL|function|pcireg_intr_device_bit_set
id|pcireg_intr_device_bit_set
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_uint64
id|bits
)paren
(brace
id|__pcireg_intr_device_bit_set
c_func
(paren
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
comma
id|bits
)paren
suffix:semicolon
)brace
r_void
DECL|function|pcireg_intr_device_bit_clr
id|pcireg_intr_device_bit_clr
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_uint64
id|bits
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
id|bridge-&gt;p_int_device
op_and_assign
op_complement
id|bits
suffix:semicolon
)brace
multiline_comment|/*&n; * Host Error Interrupt Field Register Access -- Read/Write&t;    0000_0128&n; */
r_void
DECL|function|pcireg_intr_host_err_set
id|pcireg_intr_host_err_set
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_uint64
id|val
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
id|bridge-&gt;p_int_host_err
op_assign
id|val
suffix:semicolon
)brace
multiline_comment|/*&n; * Interrupt Host Address Register -- Read/Write&t;0000_0130 - 0000_0168&n; */
r_uint64
DECL|function|pcireg_intr_addr_get
id|pcireg_intr_addr_get
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_int
id|int_n
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
r_return
id|bridge-&gt;p_int_addr
(braket
id|int_n
)braket
suffix:semicolon
)brace
r_static
r_void
DECL|function|__pcireg_intr_addr_set
id|__pcireg_intr_addr_set
c_func
(paren
id|pic_t
op_star
id|bridge
comma
r_int
id|int_n
comma
r_uint64
id|val
)paren
(brace
id|bridge-&gt;p_int_addr
(braket
id|int_n
)braket
op_assign
id|val
suffix:semicolon
)brace
r_void
DECL|function|pcireg_bridge_intr_addr_set
id|pcireg_bridge_intr_addr_set
c_func
(paren
r_void
op_star
id|ptr
comma
r_int
id|int_n
comma
r_uint64
id|val
)paren
(brace
id|__pcireg_intr_addr_set
c_func
(paren
(paren
id|pic_t
op_star
)paren
id|ptr
comma
id|int_n
comma
id|val
)paren
suffix:semicolon
)brace
r_void
DECL|function|pcireg_intr_addr_set
id|pcireg_intr_addr_set
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_int
id|int_n
comma
r_uint64
id|val
)paren
(brace
id|__pcireg_intr_addr_set
c_func
(paren
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
comma
id|int_n
comma
id|val
)paren
suffix:semicolon
)brace
r_void
op_star
DECL|function|pcireg_intr_addr_addr
id|pcireg_intr_addr_addr
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_int
id|int_n
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
r_return
(paren
r_void
op_star
)paren
op_amp
(paren
id|bridge-&gt;p_int_addr
(braket
id|int_n
)braket
)paren
suffix:semicolon
)brace
r_static
r_void
DECL|function|__pcireg_intr_addr_vect_set
id|__pcireg_intr_addr_vect_set
c_func
(paren
id|pic_t
op_star
id|bridge
comma
r_int
id|int_n
comma
r_uint64
id|vect
)paren
(brace
id|bridge-&gt;p_int_addr
(braket
id|int_n
)braket
op_and_assign
op_complement
id|PIC_HOST_INTR_FLD
suffix:semicolon
id|bridge-&gt;p_int_addr
(braket
id|int_n
)braket
op_or_assign
(paren
(paren
id|vect
op_lshift
id|PIC_HOST_INTR_FLD_SHFT
)paren
op_amp
id|PIC_HOST_INTR_FLD
)paren
suffix:semicolon
)brace
r_void
DECL|function|pcireg_bridge_intr_addr_vect_set
id|pcireg_bridge_intr_addr_vect_set
c_func
(paren
r_void
op_star
id|ptr
comma
r_int
id|int_n
comma
r_uint64
id|vect
)paren
(brace
id|__pcireg_intr_addr_vect_set
c_func
(paren
(paren
id|pic_t
op_star
)paren
id|ptr
comma
id|int_n
comma
id|vect
)paren
suffix:semicolon
)brace
r_void
DECL|function|pcireg_intr_addr_vect_set
id|pcireg_intr_addr_vect_set
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_int
id|int_n
comma
r_uint64
id|vect
)paren
(brace
id|__pcireg_intr_addr_vect_set
c_func
(paren
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
comma
id|int_n
comma
id|vect
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * Intr Host Address Register (int_addr) -- Read/Write&t;0000_0130 - 0000_0168&n; */
r_static
r_void
DECL|function|__pcireg_intr_addr_addr_set
id|__pcireg_intr_addr_addr_set
c_func
(paren
id|pic_t
op_star
id|bridge
comma
r_int
id|int_n
comma
r_uint64
id|addr
)paren
(brace
id|bridge-&gt;p_int_addr
(braket
id|int_n
)braket
op_and_assign
op_complement
id|PIC_HOST_INTR_ADDR
suffix:semicolon
id|bridge-&gt;p_int_addr
(braket
id|int_n
)braket
op_or_assign
(paren
id|addr
op_amp
id|PIC_HOST_INTR_ADDR
)paren
suffix:semicolon
)brace
r_void
DECL|function|pcireg_bridge_intr_addr_addr_set
id|pcireg_bridge_intr_addr_addr_set
c_func
(paren
r_void
op_star
id|ptr
comma
r_int
id|int_n
comma
r_uint64
id|addr
)paren
(brace
id|__pcireg_intr_addr_addr_set
c_func
(paren
(paren
id|pic_t
op_star
)paren
id|ptr
comma
id|int_n
comma
id|addr
)paren
suffix:semicolon
)brace
r_void
DECL|function|pcireg_intr_addr_addr_set
id|pcireg_intr_addr_addr_set
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_int
id|int_n
comma
r_uint64
id|addr
)paren
(brace
id|__pcireg_intr_addr_addr_set
c_func
(paren
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
comma
id|int_n
comma
id|addr
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * Multiple Interrupt Register Access -- Read Only&t;&t;    0000_0178&n; */
r_uint64
DECL|function|pcireg_intr_multiple_get
id|pcireg_intr_multiple_get
c_func
(paren
id|pcibr_soft_t
id|ptr
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
r_return
id|bridge-&gt;p_mult_int
suffix:semicolon
)brace
multiline_comment|/*&n; * Force Always Intr Register Access -- Write Only&t;0000_0180 - 0000_01B8&n; */
r_static
r_void
op_star
DECL|function|__pcireg_force_always_addr_get
id|__pcireg_force_always_addr_get
c_func
(paren
id|pic_t
op_star
id|bridge
comma
r_int
id|int_n
)paren
(brace
r_return
(paren
r_void
op_star
)paren
op_amp
(paren
id|bridge-&gt;p_force_always
(braket
id|int_n
)braket
)paren
suffix:semicolon
)brace
r_void
op_star
DECL|function|pcireg_bridge_force_always_addr_get
id|pcireg_bridge_force_always_addr_get
c_func
(paren
r_void
op_star
id|ptr
comma
r_int
id|int_n
)paren
(brace
r_return
id|__pcireg_force_always_addr_get
c_func
(paren
(paren
id|pic_t
op_star
)paren
id|ptr
comma
id|int_n
)paren
suffix:semicolon
)brace
r_void
op_star
DECL|function|pcireg_force_always_addr_get
id|pcireg_force_always_addr_get
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_int
id|int_n
)paren
(brace
r_return
id|__pcireg_force_always_addr_get
c_func
(paren
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
comma
id|int_n
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * Force Interrupt Register Access -- Write Only&t;0000_01C0 - 0000_01F8&n; */
r_void
DECL|function|pcireg_force_intr_set
id|pcireg_force_intr_set
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_int
id|int_n
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
id|bridge-&gt;p_force_pin
(braket
id|int_n
)braket
op_assign
l_int|1
suffix:semicolon
)brace
multiline_comment|/*&n; * Device(x) Register Access -- Read/Write&t;&t;0000_0200 - 0000_0218&n; */
r_uint64
DECL|function|pcireg_device_get
id|pcireg_device_get
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_int
id|device
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
id|ASSERT_ALWAYS
c_func
(paren
(paren
id|device
op_ge
l_int|0
)paren
op_logical_and
(paren
id|device
op_le
l_int|3
)paren
)paren
suffix:semicolon
r_return
id|bridge-&gt;p_device
(braket
id|device
)braket
suffix:semicolon
)brace
r_void
DECL|function|pcireg_device_set
id|pcireg_device_set
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_int
id|device
comma
r_uint64
id|val
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
id|ASSERT_ALWAYS
c_func
(paren
(paren
id|device
op_ge
l_int|0
)paren
op_logical_and
(paren
id|device
op_le
l_int|3
)paren
)paren
suffix:semicolon
id|bridge-&gt;p_device
(braket
id|device
)braket
op_assign
id|val
suffix:semicolon
)brace
multiline_comment|/*&n; * Device(x) Write Buffer Flush Reg Access -- Read Only&t;0000_0240 - 0000_0258&n; */
r_uint64
DECL|function|pcireg_wrb_flush_get
id|pcireg_wrb_flush_get
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_int
id|device
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
r_uint64
id|ret
op_assign
l_int|0
suffix:semicolon
id|ASSERT_ALWAYS
c_func
(paren
(paren
id|device
op_ge
l_int|0
)paren
op_logical_and
(paren
id|device
op_le
l_int|3
)paren
)paren
suffix:semicolon
id|ret
op_assign
id|bridge-&gt;p_wr_req_buf
(braket
id|device
)braket
suffix:semicolon
multiline_comment|/* Read of the Write Buffer Flush should always return zero */
id|ASSERT_ALWAYS
c_func
(paren
id|ret
op_eq
l_int|0
)paren
suffix:semicolon
r_return
id|ret
suffix:semicolon
)brace
multiline_comment|/*&n; * Even/Odd RRB Register Access -- Read/Write&t;&t;0000_0280 - 0000_0288&n; */
r_uint64
DECL|function|pcireg_rrb_get
id|pcireg_rrb_get
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_int
id|even_odd
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
r_return
id|bridge-&gt;p_rrb_map
(braket
id|even_odd
)braket
suffix:semicolon
)brace
r_void
DECL|function|pcireg_rrb_set
id|pcireg_rrb_set
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_int
id|even_odd
comma
r_uint64
id|val
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
id|bridge-&gt;p_rrb_map
(braket
id|even_odd
)braket
op_assign
id|val
suffix:semicolon
)brace
r_void
DECL|function|pcireg_rrb_bit_set
id|pcireg_rrb_bit_set
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_int
id|even_odd
comma
r_uint64
id|bits
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
id|bridge-&gt;p_rrb_map
(braket
id|even_odd
)braket
op_or_assign
id|bits
suffix:semicolon
)brace
multiline_comment|/*&n; * RRB Status Register Access -- Read Only&t;&t;&t;    0000_0290&n; */
r_uint64
DECL|function|pcireg_rrb_status_get
id|pcireg_rrb_status_get
c_func
(paren
id|pcibr_soft_t
id|ptr
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
r_return
id|bridge-&gt;p_resp_status
suffix:semicolon
)brace
multiline_comment|/*&n; * RRB Clear Register Access -- Write Only&t;&t;&t;    0000_0298&n; */
r_void
DECL|function|pcireg_rrb_clear_set
id|pcireg_rrb_clear_set
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_uint64
id|val
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
id|bridge-&gt;p_resp_clear
op_assign
id|val
suffix:semicolon
)brace
multiline_comment|/*&n; * PCIX Bus Error Address Register Access -- Read Only&t;&t;    0000_0600&n; */
r_uint64
DECL|function|pcireg_pcix_bus_err_addr_get
id|pcireg_pcix_bus_err_addr_get
c_func
(paren
id|pcibr_soft_t
id|ptr
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
r_return
id|bridge-&gt;p_pcix_bus_err_addr
suffix:semicolon
)brace
multiline_comment|/*&n; * PCIX Bus Error Attribute Register Access -- Read Only&t;    0000_0608&n; */
r_uint64
DECL|function|pcireg_pcix_bus_err_attr_get
id|pcireg_pcix_bus_err_attr_get
c_func
(paren
id|pcibr_soft_t
id|ptr
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
r_return
id|bridge-&gt;p_pcix_bus_err_attr
suffix:semicolon
)brace
multiline_comment|/*&n; * PCIX Bus Error Data Register Access -- Read Only&t;&t;    0000_0610&n; */
r_uint64
DECL|function|pcireg_pcix_bus_err_data_get
id|pcireg_pcix_bus_err_data_get
c_func
(paren
id|pcibr_soft_t
id|ptr
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
r_return
id|bridge-&gt;p_pcix_bus_err_data
suffix:semicolon
)brace
multiline_comment|/*&n; * PCIX PIO Split Request Address Register Access -- Read Only&t;    0000_0618&n; */
r_uint64
DECL|function|pcireg_pcix_pio_split_addr_get
id|pcireg_pcix_pio_split_addr_get
c_func
(paren
id|pcibr_soft_t
id|ptr
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
r_return
id|bridge-&gt;p_pcix_pio_split_addr
suffix:semicolon
)brace
multiline_comment|/*&n; * PCIX PIO Split Request Attribute Register Access -- Read Only    0000_0620&n; */
r_uint64
DECL|function|pcireg_pcix_pio_split_attr_get
id|pcireg_pcix_pio_split_attr_get
c_func
(paren
id|pcibr_soft_t
id|ptr
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
r_return
id|bridge-&gt;p_pcix_pio_split_attr
suffix:semicolon
)brace
multiline_comment|/*&n; * PCIX DMA Request Error Attribute Register Access -- Read Only    0000_0628&n; */
r_uint64
DECL|function|pcireg_pcix_req_err_attr_get
id|pcireg_pcix_req_err_attr_get
c_func
(paren
id|pcibr_soft_t
id|ptr
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
r_return
id|bridge-&gt;p_pcix_dma_req_err_attr
suffix:semicolon
)brace
multiline_comment|/*&n; * PCIX DMA Request Error Address Register Access -- Read Only&t;    0000_0630&n; */
r_uint64
DECL|function|pcireg_pcix_req_err_addr_get
id|pcireg_pcix_req_err_addr_get
c_func
(paren
id|pcibr_soft_t
id|ptr
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
r_return
id|bridge-&gt;p_pcix_dma_req_err_addr
suffix:semicolon
)brace
multiline_comment|/*&n; * Type 0 Configuration Space Access -- Read/Write&n; */
id|cfg_p
DECL|function|pcireg_type0_cfg_addr
id|pcireg_type0_cfg_addr
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_uint8
id|slot
comma
r_uint8
id|func
comma
r_int
id|off
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
multiline_comment|/* Type 0 Config space accesses on PIC are 1-4, not 0-3 since&n;&t; * it is a PCIX Bridge.  See sys/PCI/pic.h for explanation.&n;&t; */
id|slot
op_increment
suffix:semicolon
id|ASSERT_ALWAYS
c_func
(paren
(paren
(paren
r_int
)paren
id|slot
op_ge
l_int|1
)paren
op_logical_and
(paren
(paren
r_int
)paren
id|slot
op_le
l_int|4
)paren
)paren
suffix:semicolon
r_return
op_amp
(paren
id|bridge-&gt;p_type0_cfg_dev
(braket
id|slot
)braket
dot
id|f
(braket
id|func
)braket
dot
id|l
(braket
(paren
id|off
op_div
l_int|4
)paren
)braket
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * Type 1 Configuration Space Access -- Read/Write&n; */
id|cfg_p
DECL|function|pcireg_type1_cfg_addr
id|pcireg_type1_cfg_addr
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_uint8
id|func
comma
r_int
id|offset
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
multiline_comment|/*&n;&t; * Return a config space address for the given slot/func/offset.&n;&t; * Note the returned ptr is a 32bit word (ie. cfg_p) aligned ptr&n;&t; * pointing to the 32bit word that contains the &quot;offset&quot; byte.&n;&t; */
r_return
op_amp
(paren
id|bridge-&gt;p_type1_cfg.f
(braket
id|func
)braket
dot
id|l
(braket
(paren
id|offset
op_div
l_int|4
)paren
)braket
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * Internal ATE SSRAM Access -- Read/Write &n; */
id|bridge_ate_t
DECL|function|pcireg_int_ate_get
id|pcireg_int_ate_get
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_int
id|ate_index
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
id|ASSERT_ALWAYS
c_func
(paren
(paren
id|ate_index
op_ge
l_int|0
)paren
op_logical_and
(paren
id|ate_index
op_le
l_int|1024
)paren
)paren
suffix:semicolon
r_return
id|bridge-&gt;p_int_ate_ram
(braket
id|ate_index
)braket
suffix:semicolon
)brace
r_void
DECL|function|pcireg_int_ate_set
id|pcireg_int_ate_set
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_int
id|ate_index
comma
id|bridge_ate_t
id|val
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
id|ASSERT_ALWAYS
c_func
(paren
(paren
id|ate_index
op_ge
l_int|0
)paren
op_logical_and
(paren
id|ate_index
op_le
l_int|1024
)paren
)paren
suffix:semicolon
id|bridge-&gt;p_int_ate_ram
(braket
id|ate_index
)braket
op_assign
(paren
id|picate_t
)paren
id|val
suffix:semicolon
)brace
id|bridge_ate_p
DECL|function|pcireg_int_ate_addr
id|pcireg_int_ate_addr
c_func
(paren
id|pcibr_soft_t
id|ptr
comma
r_int
id|ate_index
)paren
(brace
id|pic_t
op_star
id|bridge
op_assign
(paren
id|pic_t
op_star
)paren
id|ptr-&gt;bs_base
suffix:semicolon
id|ASSERT_ALWAYS
c_func
(paren
(paren
id|ate_index
op_ge
l_int|0
)paren
op_logical_and
(paren
id|ate_index
op_le
l_int|1024
)paren
)paren
suffix:semicolon
r_return
op_amp
(paren
id|bridge-&gt;p_int_ate_ram
(braket
id|ate_index
)braket
)paren
suffix:semicolon
)brace
eof
