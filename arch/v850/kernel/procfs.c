multiline_comment|/*&n; * arch/v850/kernel/procfs.c -- Introspection functions for /proc filesystem&n; *&n; *  Copyright (C) 2001,02  NEC Corporation&n; *  Copyright (C) 2001,02  Miles Bader &lt;miles@gnu.org&gt;&n; *&n; * This file is subject to the terms and conditions of the GNU General&n; * Public License.  See the file COPYING in the main directory of this&n; * archive for more details.&n; *&n; * Written by Miles Bader &lt;miles@gnu.org&gt;&n; */
macro_line|#include &quot;mach.h&quot;
DECL|function|cpuinfo_print
r_static
r_int
id|cpuinfo_print
(paren
r_struct
id|seq_file
op_star
id|m
comma
r_void
op_star
id|v
)paren
(brace
r_extern
r_int
r_int
id|loops_per_jiffy
suffix:semicolon
id|seq_printf
(paren
id|m
comma
l_string|&quot;CPU-Family:&t;v850&bslash;nCPU-Arch:&t;%s&bslash;n&quot;
comma
id|CPU_ARCH
)paren
suffix:semicolon
macro_line|#ifdef CPU_MODEL_LONG
id|seq_printf
(paren
id|m
comma
l_string|&quot;CPU-Model:&t;%s (%s)&bslash;n&quot;
comma
id|CPU_MODEL
comma
id|CPU_MODEL_LONG
)paren
suffix:semicolon
macro_line|#else
id|seq_printf
(paren
id|m
comma
l_string|&quot;CPU-Model:&t;%s&bslash;n&quot;
comma
id|CPU_MODEL
)paren
suffix:semicolon
macro_line|#endif
macro_line|#ifdef CPU_CLOCK_FREQ
id|seq_printf
(paren
id|m
comma
l_string|&quot;CPU-Clock:&t;%ld (%ld MHz)&bslash;n&quot;
comma
(paren
r_int
)paren
id|CPU_CLOCK_FREQ
comma
(paren
r_int
)paren
id|CPU_CLOCK_FREQ
op_div
l_int|1000000
)paren
suffix:semicolon
macro_line|#endif
id|seq_printf
(paren
id|m
comma
l_string|&quot;BogoMips:&t;%lu.%02lu&bslash;n&quot;
comma
id|loops_per_jiffy
op_div
(paren
l_int|500000
op_div
id|HZ
)paren
comma
(paren
id|loops_per_jiffy
op_div
(paren
l_int|5000
op_div
id|HZ
)paren
)paren
op_mod
l_int|100
)paren
suffix:semicolon
macro_line|#ifdef PLATFORM_LONG
id|seq_printf
(paren
id|m
comma
l_string|&quot;Platform:&t;%s (%s)&bslash;n&quot;
comma
id|PLATFORM
comma
id|PLATFORM_LONG
)paren
suffix:semicolon
macro_line|#elif defined (PLATFORM)
id|seq_printf
(paren
id|m
comma
l_string|&quot;Platform:&t;%s&bslash;n&quot;
comma
id|PLATFORM
)paren
suffix:semicolon
macro_line|#endif
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|cpuinfo_start
r_static
r_void
op_star
id|cpuinfo_start
(paren
r_struct
id|seq_file
op_star
id|m
comma
id|loff_t
op_star
id|pos
)paren
(brace
r_return
op_star
id|pos
OL
id|NR_CPUS
ques
c_cond
(paren
(paren
r_void
op_star
)paren
l_int|0x12345678
)paren
suffix:colon
l_int|NULL
suffix:semicolon
)brace
DECL|function|cpuinfo_next
r_static
r_void
op_star
id|cpuinfo_next
(paren
r_struct
id|seq_file
op_star
id|m
comma
r_void
op_star
id|v
comma
id|loff_t
op_star
id|pos
)paren
(brace
op_increment
op_star
id|pos
suffix:semicolon
r_return
id|cpuinfo_start
(paren
id|m
comma
id|pos
)paren
suffix:semicolon
)brace
DECL|function|cpuinfo_stop
r_static
r_void
id|cpuinfo_stop
(paren
r_struct
id|seq_file
op_star
id|m
comma
r_void
op_star
id|v
)paren
(brace
)brace
DECL|variable|cpuinfo_op
r_struct
id|seq_operations
id|cpuinfo_op
op_assign
(brace
id|start
suffix:colon
id|cpuinfo_start
comma
id|next
suffix:colon
id|cpuinfo_next
comma
id|stop
suffix:colon
id|cpuinfo_stop
comma
id|show
suffix:colon
id|cpuinfo_print
)brace
suffix:semicolon
eof
