multiline_comment|/*&n; *&t;linux/arch/i386/kernel/profile.c&n; *&n; *&t;(C) 2002 John Levon &lt;levon@movementarian.org&gt;&n; *&n; */
macro_line|#include &lt;linux/profile.h&gt;
macro_line|#include &lt;linux/spinlock.h&gt;
macro_line|#include &lt;linux/notifier.h&gt;
macro_line|#include &lt;linux/irq.h&gt;
macro_line|#include &lt;asm/hw_irq.h&gt; 
DECL|variable|profile_listeners
r_static
r_struct
id|notifier_block
op_star
id|profile_listeners
suffix:semicolon
DECL|variable|profile_lock
r_static
id|rwlock_t
id|profile_lock
op_assign
id|RW_LOCK_UNLOCKED
suffix:semicolon
DECL|function|register_profile_notifier
r_int
id|register_profile_notifier
c_func
(paren
r_struct
id|notifier_block
op_star
id|nb
)paren
(brace
r_int
id|err
suffix:semicolon
id|write_lock_irq
c_func
(paren
op_amp
id|profile_lock
)paren
suffix:semicolon
id|err
op_assign
id|notifier_chain_register
c_func
(paren
op_amp
id|profile_listeners
comma
id|nb
)paren
suffix:semicolon
id|write_unlock_irq
c_func
(paren
op_amp
id|profile_lock
)paren
suffix:semicolon
r_return
id|err
suffix:semicolon
)brace
DECL|function|unregister_profile_notifier
r_int
id|unregister_profile_notifier
c_func
(paren
r_struct
id|notifier_block
op_star
id|nb
)paren
(brace
r_int
id|err
suffix:semicolon
id|write_lock_irq
c_func
(paren
op_amp
id|profile_lock
)paren
suffix:semicolon
id|err
op_assign
id|notifier_chain_unregister
c_func
(paren
op_amp
id|profile_listeners
comma
id|nb
)paren
suffix:semicolon
id|write_unlock_irq
c_func
(paren
op_amp
id|profile_lock
)paren
suffix:semicolon
r_return
id|err
suffix:semicolon
)brace
DECL|function|ppc64_profile_hook
r_void
id|ppc64_profile_hook
c_func
(paren
r_struct
id|pt_regs
op_star
id|regs
)paren
(brace
id|read_lock
c_func
(paren
op_amp
id|profile_lock
)paren
suffix:semicolon
id|notifier_call_chain
c_func
(paren
op_amp
id|profile_listeners
comma
l_int|0
comma
id|regs
)paren
suffix:semicolon
id|read_unlock
c_func
(paren
op_amp
id|profile_lock
)paren
suffix:semicolon
)brace
eof
