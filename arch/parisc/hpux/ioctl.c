multiline_comment|/*&n; *    Implements some necessary HPUX ioctls.&n; *&n; *    Copyright (C) 1999-2002 Matthew Wilcox &lt;willy with parisc-linux.org&gt;&n; *&n; *    This program is free software; you can redistribute it and/or modify&n; *    it under the terms of the GNU General Public License as published by&n; *    the Free Software Foundation; either version 2 of the License, or&n; *    (at your option) any later version.&n; *&n; *    This program is distributed in the hope that it will be useful,&n; *    but WITHOUT ANY WARRANTY; without even the implied warranty of&n; *    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the&n; *    GNU General Public License for more details.&n; *&n; *    You should have received a copy of the GNU General Public License&n; *    along with this program; if not, write to the Free Software&n; *    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA&n; */
multiline_comment|/*&n; * Supported ioctls:&n; *   TCGETA&n; *   TCSETA&n; *   TCSETAW&n; *   TCSETAF&n; *   TCSBRK&n; *   TCXONC&n; *   TCFLSH&n; *   TIOCGWINSZ&n; *   TIOCSWINSZ&n; *   TIOCGPGRP&n; *   TIOCSPGRP&n; */
macro_line|#include &lt;linux/sched.h&gt;
macro_line|#include &lt;linux/smp_lock.h&gt;
macro_line|#include &lt;asm/errno.h&gt;
macro_line|#include &lt;asm/ioctl.h&gt;
macro_line|#include &lt;asm/termios.h&gt;
macro_line|#include &lt;asm/uaccess.h&gt;
r_int
id|sys_ioctl
c_func
(paren
r_int
r_int
comma
r_int
r_int
comma
r_int
r_int
)paren
suffix:semicolon
DECL|function|hpux_ioctl_t
r_static
r_int
id|hpux_ioctl_t
c_func
(paren
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_int
id|result
op_assign
op_minus
id|EOPNOTSUPP
suffix:semicolon
r_int
id|nr
op_assign
id|_IOC_NR
c_func
(paren
id|cmd
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|nr
)paren
(brace
r_case
l_int|106
suffix:colon
id|result
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|TIOCSWINSZ
comma
id|arg
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|107
suffix:colon
id|result
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|TIOCGWINSZ
comma
id|arg
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
r_return
id|result
suffix:semicolon
)brace
DECL|function|hpux_ioctl
r_int
id|hpux_ioctl
c_func
(paren
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_int
id|result
op_assign
op_minus
id|EOPNOTSUPP
suffix:semicolon
r_int
id|type
op_assign
id|_IOC_TYPE
c_func
(paren
id|cmd
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|type
)paren
(brace
r_case
l_char|&squot;T&squot;
suffix:colon
multiline_comment|/* Our structures are now compatible with HPUX&squot;s */
id|result
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
id|arg
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_char|&squot;t&squot;
suffix:colon
id|result
op_assign
id|hpux_ioctl_t
c_func
(paren
id|fd
comma
id|cmd
comma
id|arg
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
r_return
id|result
suffix:semicolon
)brace
eof
