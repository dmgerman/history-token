multiline_comment|/*&n; * arch/shmedia/boot/compressed/cache.c -- simple cache management functions&n; *&n; * Code extracted from sh-ipl+g, sh-stub.c, which has the copyright:&n; *&n; *   This is originally based on an m68k software stub written by Glenn&n; *   Engel at HP, but has changed quite a bit.&n; *&n; *   Modifications for the SH by Ben Lee and Steve Chamberlain&n; *&n;****************************************************************************&n;&n;&t;&t;THIS SOFTWARE IS NOT COPYRIGHTED&n;&n;   HP offers the following for use in the public domain.  HP makes no&n;   warranty with regard to the software or it&squot;s performance and the&n;   user accepts the software &quot;AS IS&quot; with all faults.&n;&n;   HP DISCLAIMS ANY WARRANTIES, EXPRESS OR IMPLIED, WITH REGARD&n;   TO THIS SOFTWARE INCLUDING BUT NOT LIMITED TO THE WARRANTIES&n;   OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.&n;&n;****************************************************************************/
DECL|macro|CACHE_ENABLE
mdefine_line|#define CACHE_ENABLE      0
DECL|macro|CACHE_DISABLE
mdefine_line|#define CACHE_DISABLE     1
DECL|function|cache_control
r_int
id|cache_control
c_func
(paren
r_int
r_int
id|command
)paren
(brace
r_volatile
r_int
r_int
op_star
id|p
op_assign
(paren
r_volatile
r_int
r_int
op_star
)paren
l_int|0x80000000
suffix:semicolon
r_int
id|i
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
(paren
l_int|32
op_star
l_int|1024
)paren
suffix:semicolon
id|i
op_add_assign
l_int|32
)paren
(brace
(paren
r_void
op_star
)paren
op_star
id|p
suffix:semicolon
id|p
op_add_assign
(paren
l_int|32
op_div
r_sizeof
(paren
r_int
)paren
)paren
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
eof
