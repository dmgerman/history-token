multiline_comment|/*&n; * arch/ppc/platforms/cpci405.c&n; *&n; * Board setup routines for the esd CPCI-405 cPCI Board.&n; *&n; * Author: Stefan Roese&n; *         stefan.roese@esd-electronics.com&n; *&n; * Copyright 2001 esd electronic system design - hannover germany&n; *&n; * This program is free software; you can redistribute  it and/or modify it&n; * under  the terms of  the GNU General  Public License as published by the&n; * Free Software Foundation;  either version 2 of the  License, or (at your&n; * option) any later version.&n; *&n; */
macro_line|#include &lt;linux/config.h&gt;
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;linux/pci.h&gt;
macro_line|#include &lt;asm/system.h&gt;
macro_line|#include &lt;asm/pci-bridge.h&gt;
macro_line|#include &lt;asm/machdep.h&gt;
macro_line|#include &lt;asm/todc.h&gt;
DECL|variable|cpci405_nvram
r_void
op_star
id|cpci405_nvram
suffix:semicolon
multiline_comment|/*&n; * Some IRQs unique to CPCI-405.&n; */
r_int
id|__init
DECL|function|ppc405_map_irq
id|ppc405_map_irq
c_func
(paren
r_struct
id|pci_dev
op_star
id|dev
comma
r_int
r_char
id|idsel
comma
r_int
r_char
id|pin
)paren
(brace
r_static
r_char
id|pci_irq_table
(braket
)braket
(braket
l_int|4
)braket
op_assign
multiline_comment|/*&n;&t; *      PCI IDSEL/INTPIN-&gt;INTLINE&n;&t; *      A       B       C       D&n;&t; */
(brace
(brace
l_int|28
comma
l_int|28
comma
l_int|28
comma
l_int|28
)brace
comma
multiline_comment|/* IDSEL 15 - cPCI slot 8 */
(brace
l_int|29
comma
l_int|29
comma
l_int|29
comma
l_int|29
)brace
comma
multiline_comment|/* IDSEL 16 - cPCI slot 7 */
(brace
l_int|30
comma
l_int|30
comma
l_int|30
comma
l_int|30
)brace
comma
multiline_comment|/* IDSEL 17 - cPCI slot 6 */
(brace
l_int|27
comma
l_int|27
comma
l_int|27
comma
l_int|27
)brace
comma
multiline_comment|/* IDSEL 18 - cPCI slot 5 */
(brace
l_int|28
comma
l_int|28
comma
l_int|28
comma
l_int|28
)brace
comma
multiline_comment|/* IDSEL 19 - cPCI slot 4 */
(brace
l_int|29
comma
l_int|29
comma
l_int|29
comma
l_int|29
)brace
comma
multiline_comment|/* IDSEL 20 - cPCI slot 3 */
(brace
l_int|30
comma
l_int|30
comma
l_int|30
comma
l_int|30
)brace
comma
multiline_comment|/* IDSEL 21 - cPCI slot 2 */
)brace
suffix:semicolon
r_const
r_int
id|min_idsel
op_assign
l_int|15
comma
id|max_idsel
op_assign
l_int|21
comma
id|irqs_per_slot
op_assign
l_int|4
suffix:semicolon
r_return
id|PCI_IRQ_TABLE_LOOKUP
suffix:semicolon
)brace
suffix:semicolon
r_void
id|__init
DECL|function|cpci405_setup_arch
id|cpci405_setup_arch
c_func
(paren
r_void
)paren
(brace
id|ppc4xx_setup_arch
c_func
(paren
)paren
suffix:semicolon
id|TODC_INIT
c_func
(paren
id|TODC_TYPE_MK48T35
comma
id|cpci405_nvram
comma
id|cpci405_nvram
comma
id|cpci405_nvram
comma
l_int|8
)paren
suffix:semicolon
)brace
r_void
id|__init
DECL|function|cpci405_map_io
id|cpci405_map_io
c_func
(paren
r_void
)paren
(brace
id|ppc4xx_map_io
c_func
(paren
)paren
suffix:semicolon
id|cpci405_nvram
op_assign
id|ioremap
c_func
(paren
id|CPCI405_NVRAM_PADDR
comma
id|CPCI405_NVRAM_SIZE
)paren
suffix:semicolon
)brace
r_void
id|__init
DECL|function|platform_init
id|platform_init
c_func
(paren
r_int
r_int
id|r3
comma
r_int
r_int
id|r4
comma
r_int
r_int
id|r5
comma
r_int
r_int
id|r6
comma
r_int
r_int
id|r7
)paren
(brace
id|ppc4xx_init
c_func
(paren
id|r3
comma
id|r4
comma
id|r5
comma
id|r6
comma
id|r7
)paren
suffix:semicolon
id|ppc_md.setup_arch
op_assign
id|cpci405_setup_arch
suffix:semicolon
id|ppc_md.setup_io_mappings
op_assign
id|cpci405_map_io
suffix:semicolon
id|ppc_md.time_init
op_assign
id|todc_time_init
suffix:semicolon
id|ppc_md.set_rtc_time
op_assign
id|todc_set_rtc_time
suffix:semicolon
id|ppc_md.get_rtc_time
op_assign
id|todc_get_rtc_time
suffix:semicolon
id|ppc_md.nvram_read_val
op_assign
id|todc_direct_read_val
suffix:semicolon
id|ppc_md.nvram_write_val
op_assign
id|todc_direct_write_val
suffix:semicolon
)brace
eof
