multiline_comment|/*&n; * arch/ppc/platforms/4xx/ibm440gp.c&n; *&n; * PPC440GP I/O descriptions&n; *&n; * Matt Porter &lt;mporter@mvista.com&gt;&n; * Copyright 2002-2004 MontaVista Software Inc.&n; *&n; * Eugene Surovegin &lt;eugene.surovegin@zultys.com&gt; or &lt;ebs@ebshome.net&gt;&n; * Copyright (c) 2003, 2004 Zultys Technologies&n; *&n; * This program is free software; you can redistribute  it and/or modify it&n; * under  the terms of  the GNU General  Public License as published by the&n; * Free Software Foundation;  either version 2 of the  License, or (at your&n; * option) any later version.&n; *&n; */
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;linux/module.h&gt;
macro_line|#include &lt;platforms/4xx/ibm440gp.h&gt;
macro_line|#include &lt;asm/ocp.h&gt;
macro_line|#include &lt;asm/ppc4xx_pic.h&gt;
DECL|variable|ibm440gp_emac0_def
r_static
r_struct
id|ocp_func_emac_data
id|ibm440gp_emac0_def
op_assign
(brace
dot
id|rgmii_idx
op_assign
op_minus
l_int|1
comma
multiline_comment|/* No RGMII */
dot
id|rgmii_mux
op_assign
op_minus
l_int|1
comma
multiline_comment|/* No RGMII */
dot
id|zmii_idx
op_assign
l_int|0
comma
multiline_comment|/* ZMII device index */
dot
id|zmii_mux
op_assign
l_int|0
comma
multiline_comment|/* ZMII input of this EMAC */
dot
id|mal_idx
op_assign
l_int|0
comma
multiline_comment|/* MAL device index */
dot
id|mal_rx_chan
op_assign
l_int|0
comma
multiline_comment|/* MAL rx channel number */
dot
id|mal_tx_chan
op_assign
l_int|0
comma
multiline_comment|/* MAL tx channel number */
dot
id|wol_irq
op_assign
l_int|61
comma
multiline_comment|/* WOL interrupt number */
dot
id|mdio_idx
op_assign
op_minus
l_int|1
comma
multiline_comment|/* No shared MDIO */
dot
id|tah_idx
op_assign
op_minus
l_int|1
comma
multiline_comment|/* No TAH */
)brace
suffix:semicolon
DECL|variable|ibm440gp_emac1_def
r_static
r_struct
id|ocp_func_emac_data
id|ibm440gp_emac1_def
op_assign
(brace
dot
id|rgmii_idx
op_assign
op_minus
l_int|1
comma
multiline_comment|/* No RGMII */
dot
id|rgmii_mux
op_assign
op_minus
l_int|1
comma
multiline_comment|/* No RGMII */
dot
id|zmii_idx
op_assign
l_int|0
comma
multiline_comment|/* ZMII device index */
dot
id|zmii_mux
op_assign
l_int|1
comma
multiline_comment|/* ZMII input of this EMAC */
dot
id|mal_idx
op_assign
l_int|0
comma
multiline_comment|/* MAL device index */
dot
id|mal_rx_chan
op_assign
l_int|1
comma
multiline_comment|/* MAL rx channel number */
dot
id|mal_tx_chan
op_assign
l_int|2
comma
multiline_comment|/* MAL tx channel number */
dot
id|wol_irq
op_assign
l_int|63
comma
multiline_comment|/* WOL interrupt number */
dot
id|mdio_idx
op_assign
op_minus
l_int|1
comma
multiline_comment|/* No shared MDIO */
dot
id|tah_idx
op_assign
op_minus
l_int|1
comma
multiline_comment|/* No TAH */
)brace
suffix:semicolon
id|OCP_SYSFS_EMAC_DATA
c_func
(paren
)paren
DECL|variable|ibm440gp_mal0_def
r_static
r_struct
id|ocp_func_mal_data
id|ibm440gp_mal0_def
op_assign
(brace
dot
id|num_tx_chans
op_assign
l_int|4
comma
multiline_comment|/* Number of TX channels */
dot
id|num_rx_chans
op_assign
l_int|2
comma
multiline_comment|/* Number of RX channels */
dot
id|txeob_irq
op_assign
l_int|10
comma
multiline_comment|/* TX End Of Buffer IRQ  */
dot
id|rxeob_irq
op_assign
l_int|11
comma
multiline_comment|/* RX End Of Buffer IRQ  */
dot
id|txde_irq
op_assign
l_int|33
comma
multiline_comment|/* TX Descriptor Error IRQ */
dot
id|rxde_irq
op_assign
l_int|34
comma
multiline_comment|/* RX Descriptor Error IRQ */
dot
id|serr_irq
op_assign
l_int|32
comma
multiline_comment|/* MAL System Error IRQ    */
)brace
suffix:semicolon
id|OCP_SYSFS_MAL_DATA
c_func
(paren
)paren
DECL|variable|ibm440gp_iic0_def
r_static
r_struct
id|ocp_func_iic_data
id|ibm440gp_iic0_def
op_assign
(brace
dot
id|fast_mode
op_assign
l_int|0
comma
multiline_comment|/* Use standad mode (100Khz) */
)brace
suffix:semicolon
DECL|variable|ibm440gp_iic1_def
r_static
r_struct
id|ocp_func_iic_data
id|ibm440gp_iic1_def
op_assign
(brace
dot
id|fast_mode
op_assign
l_int|0
comma
multiline_comment|/* Use standad mode (100Khz) */
)brace
suffix:semicolon
id|OCP_SYSFS_IIC_DATA
c_func
(paren
)paren
DECL|variable|core_ocp
r_struct
id|ocp_def
id|core_ocp
(braket
)braket
op_assign
(brace
(brace
dot
id|vendor
op_assign
id|OCP_VENDOR_IBM
comma
dot
id|function
op_assign
id|OCP_FUNC_OPB
comma
dot
id|index
op_assign
l_int|0
comma
dot
id|paddr
op_assign
l_int|0x0000000140000000ULL
comma
dot
id|irq
op_assign
id|OCP_IRQ_NA
comma
dot
id|pm
op_assign
id|OCP_CPM_NA
comma
)brace
comma
(brace
dot
id|vendor
op_assign
id|OCP_VENDOR_IBM
comma
dot
id|function
op_assign
id|OCP_FUNC_16550
comma
dot
id|index
op_assign
l_int|0
comma
dot
id|paddr
op_assign
id|PPC440GP_UART0_ADDR
comma
dot
id|irq
op_assign
id|UART0_INT
comma
dot
id|pm
op_assign
id|IBM_CPM_UART0
comma
)brace
comma
(brace
dot
id|vendor
op_assign
id|OCP_VENDOR_IBM
comma
dot
id|function
op_assign
id|OCP_FUNC_16550
comma
dot
id|index
op_assign
l_int|1
comma
dot
id|paddr
op_assign
id|PPC440GP_UART1_ADDR
comma
dot
id|irq
op_assign
id|UART1_INT
comma
dot
id|pm
op_assign
id|IBM_CPM_UART1
comma
)brace
comma
(brace
dot
id|vendor
op_assign
id|OCP_VENDOR_IBM
comma
dot
id|function
op_assign
id|OCP_FUNC_IIC
comma
dot
id|index
op_assign
l_int|0
comma
dot
id|paddr
op_assign
l_int|0x0000000140000400ULL
comma
dot
id|irq
op_assign
l_int|2
comma
dot
id|pm
op_assign
id|IBM_CPM_IIC0
comma
dot
id|additions
op_assign
op_amp
id|ibm440gp_iic0_def
comma
dot
id|show
op_assign
op_amp
id|ocp_show_iic_data
)brace
comma
(brace
dot
id|vendor
op_assign
id|OCP_VENDOR_IBM
comma
dot
id|function
op_assign
id|OCP_FUNC_IIC
comma
dot
id|index
op_assign
l_int|1
comma
dot
id|paddr
op_assign
l_int|0x0000000140000500ULL
comma
dot
id|irq
op_assign
l_int|3
comma
dot
id|pm
op_assign
id|IBM_CPM_IIC1
comma
dot
id|additions
op_assign
op_amp
id|ibm440gp_iic1_def
comma
dot
id|show
op_assign
op_amp
id|ocp_show_iic_data
)brace
comma
(brace
dot
id|vendor
op_assign
id|OCP_VENDOR_IBM
comma
dot
id|function
op_assign
id|OCP_FUNC_GPIO
comma
dot
id|index
op_assign
l_int|0
comma
dot
id|paddr
op_assign
l_int|0x0000000140000700ULL
comma
dot
id|irq
op_assign
id|OCP_IRQ_NA
comma
dot
id|pm
op_assign
id|IBM_CPM_GPIO0
comma
)brace
comma
(brace
dot
id|vendor
op_assign
id|OCP_VENDOR_IBM
comma
dot
id|function
op_assign
id|OCP_FUNC_MAL
comma
dot
id|paddr
op_assign
id|OCP_PADDR_NA
comma
dot
id|irq
op_assign
id|OCP_IRQ_NA
comma
dot
id|pm
op_assign
id|OCP_CPM_NA
comma
dot
id|additions
op_assign
op_amp
id|ibm440gp_mal0_def
comma
dot
id|show
op_assign
op_amp
id|ocp_show_mal_data
comma
)brace
comma
(brace
dot
id|vendor
op_assign
id|OCP_VENDOR_IBM
comma
dot
id|function
op_assign
id|OCP_FUNC_EMAC
comma
dot
id|index
op_assign
l_int|0
comma
dot
id|paddr
op_assign
l_int|0x0000000140000800ULL
comma
dot
id|irq
op_assign
l_int|60
comma
dot
id|pm
op_assign
id|OCP_CPM_NA
comma
dot
id|additions
op_assign
op_amp
id|ibm440gp_emac0_def
comma
dot
id|show
op_assign
op_amp
id|ocp_show_emac_data
comma
)brace
comma
(brace
dot
id|vendor
op_assign
id|OCP_VENDOR_IBM
comma
dot
id|function
op_assign
id|OCP_FUNC_EMAC
comma
dot
id|index
op_assign
l_int|1
comma
dot
id|paddr
op_assign
l_int|0x0000000140000900ULL
comma
dot
id|irq
op_assign
l_int|62
comma
dot
id|pm
op_assign
id|OCP_CPM_NA
comma
dot
id|additions
op_assign
op_amp
id|ibm440gp_emac1_def
comma
dot
id|show
op_assign
op_amp
id|ocp_show_emac_data
comma
)brace
comma
(brace
dot
id|vendor
op_assign
id|OCP_VENDOR_IBM
comma
dot
id|function
op_assign
id|OCP_FUNC_ZMII
comma
dot
id|paddr
op_assign
l_int|0x0000000140000780ULL
comma
dot
id|irq
op_assign
id|OCP_IRQ_NA
comma
dot
id|pm
op_assign
id|OCP_CPM_NA
comma
)brace
comma
(brace
dot
id|vendor
op_assign
id|OCP_VENDOR_INVALID
)brace
)brace
suffix:semicolon
multiline_comment|/* Polarity and triggering settings for internal interrupt sources */
DECL|variable|__initdata
r_struct
id|ppc4xx_uic_settings
id|ppc4xx_core_uic_cfg
(braket
)braket
id|__initdata
op_assign
(brace
(brace
dot
id|polarity
op_assign
l_int|0xfffffe03
comma
dot
id|triggering
op_assign
l_int|0x01c00000
comma
dot
id|ext_irq_mask
op_assign
l_int|0x000001fc
comma
multiline_comment|/* IRQ0 - IRQ6 */
)brace
comma
(brace
dot
id|polarity
op_assign
l_int|0xffffc0ff
comma
dot
id|triggering
op_assign
l_int|0x00ff8000
comma
dot
id|ext_irq_mask
op_assign
l_int|0x00003f00
comma
multiline_comment|/* IRQ7 - IRQ12 */
)brace
comma
)brace
suffix:semicolon
eof
