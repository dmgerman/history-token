multiline_comment|/*&n; *  arch/ppc/platforms/chrp_pegasos_eth.c&n; *&n; *  Copyright (C) 2005 Sven Luther &lt;sl@bplan-gmbh.de&gt;&n; *  Thanks to :&n; *&t;Dale Farnsworth &lt;dale@farnsworth.org&gt;&n; *&t;Mark A. Greer &lt;mgreer@mvista.com&gt;&n; *&t;Nicolas DET &lt;nd@bplan-gmbh.de&gt;&n; *&t;Benjamin Herrenschmidt &lt;benh@kernel.crashing.org&gt;&n; *  And anyone else who helped me on this.&n; */
macro_line|#include &lt;linux/types.h&gt;
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;linux/ioport.h&gt;
macro_line|#include &lt;linux/device.h&gt;
macro_line|#include &lt;linux/mv643xx.h&gt;
macro_line|#include &lt;linux/pci.h&gt;
multiline_comment|/* Pegasos 2 specific Marvell MV 64361 gigabit ethernet port setup */
DECL|variable|mv643xx_eth_shared_resources
r_static
r_struct
id|resource
id|mv643xx_eth_shared_resources
(braket
)braket
op_assign
(brace
(braket
l_int|0
)braket
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;ethernet shared base&quot;
comma
dot
id|start
op_assign
l_int|0xf1000000
op_plus
id|MV643XX_ETH_SHARED_REGS
comma
dot
id|end
op_assign
l_int|0xf1000000
op_plus
id|MV643XX_ETH_SHARED_REGS
op_plus
id|MV643XX_ETH_SHARED_REGS_SIZE
op_minus
l_int|1
comma
dot
id|flags
op_assign
id|IORESOURCE_MEM
comma
)brace
comma
)brace
suffix:semicolon
DECL|variable|mv643xx_eth_shared_device
r_static
r_struct
id|platform_device
id|mv643xx_eth_shared_device
op_assign
(brace
dot
id|name
op_assign
id|MV643XX_ETH_SHARED_NAME
comma
dot
id|id
op_assign
l_int|0
comma
dot
id|num_resources
op_assign
id|ARRAY_SIZE
c_func
(paren
id|mv643xx_eth_shared_resources
)paren
comma
dot
id|resource
op_assign
id|mv643xx_eth_shared_resources
comma
)brace
suffix:semicolon
DECL|variable|mv643xx_eth0_resources
r_static
r_struct
id|resource
id|mv643xx_eth0_resources
(braket
)braket
op_assign
(brace
(braket
l_int|0
)braket
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;eth0 irq&quot;
comma
dot
id|start
op_assign
l_int|9
comma
dot
id|end
op_assign
l_int|9
comma
dot
id|flags
op_assign
id|IORESOURCE_IRQ
comma
)brace
comma
)brace
suffix:semicolon
DECL|variable|eth0_pd
r_static
r_struct
id|mv643xx_eth_platform_data
id|eth0_pd
suffix:semicolon
DECL|variable|eth0_device
r_static
r_struct
id|platform_device
id|eth0_device
op_assign
(brace
dot
id|name
op_assign
id|MV643XX_ETH_NAME
comma
dot
id|id
op_assign
l_int|0
comma
dot
id|num_resources
op_assign
id|ARRAY_SIZE
c_func
(paren
id|mv643xx_eth0_resources
)paren
comma
dot
id|resource
op_assign
id|mv643xx_eth0_resources
comma
dot
id|dev
op_assign
(brace
dot
id|platform_data
op_assign
op_amp
id|eth0_pd
comma
)brace
comma
)brace
suffix:semicolon
DECL|variable|mv643xx_eth1_resources
r_static
r_struct
id|resource
id|mv643xx_eth1_resources
(braket
)braket
op_assign
(brace
(braket
l_int|0
)braket
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;eth1 irq&quot;
comma
dot
id|start
op_assign
l_int|9
comma
dot
id|end
op_assign
l_int|9
comma
dot
id|flags
op_assign
id|IORESOURCE_IRQ
comma
)brace
comma
)brace
suffix:semicolon
DECL|variable|eth1_pd
r_static
r_struct
id|mv643xx_eth_platform_data
id|eth1_pd
suffix:semicolon
DECL|variable|eth1_device
r_static
r_struct
id|platform_device
id|eth1_device
op_assign
(brace
dot
id|name
op_assign
id|MV643XX_ETH_NAME
comma
dot
id|id
op_assign
l_int|1
comma
dot
id|num_resources
op_assign
id|ARRAY_SIZE
c_func
(paren
id|mv643xx_eth1_resources
)paren
comma
dot
id|resource
op_assign
id|mv643xx_eth1_resources
comma
dot
id|dev
op_assign
(brace
dot
id|platform_data
op_assign
op_amp
id|eth1_pd
comma
)brace
comma
)brace
suffix:semicolon
DECL|variable|__initdata
r_static
r_struct
id|platform_device
op_star
id|mv643xx_eth_pd_devs
(braket
)braket
id|__initdata
op_assign
(brace
op_amp
id|mv643xx_eth_shared_device
comma
op_amp
id|eth0_device
comma
op_amp
id|eth1_device
comma
)brace
suffix:semicolon
r_int
DECL|function|mv643xx_eth_add_pds
id|mv643xx_eth_add_pds
c_func
(paren
r_void
)paren
(brace
r_int
id|ret
op_assign
l_int|0
suffix:semicolon
r_static
r_struct
id|pci_device_id
id|pci_marvell_mv64360
(braket
)braket
op_assign
(brace
(brace
id|PCI_DEVICE
c_func
(paren
id|PCI_VENDOR_ID_MARVELL
comma
id|PCI_DEVICE_ID_MARVELL_MV64360
)paren
)brace
comma
(brace
)brace
)brace
suffix:semicolon
r_if
c_cond
(paren
id|pci_dev_present
c_func
(paren
id|pci_marvell_mv64360
)paren
)paren
(brace
id|ret
op_assign
id|platform_add_devices
c_func
(paren
id|mv643xx_eth_pd_devs
comma
id|ARRAY_SIZE
c_func
(paren
id|mv643xx_eth_pd_devs
)paren
)paren
suffix:semicolon
)brace
r_return
id|ret
suffix:semicolon
)brace
DECL|variable|mv643xx_eth_add_pds
id|device_initcall
c_func
(paren
id|mv643xx_eth_add_pds
)paren
suffix:semicolon
eof
