multiline_comment|/* ieee754 floating point arithmetic&n; * single and double precision&n; *&n; * BUGS&n; * not much dp done&n; * doesnt generate IEEE754_INEXACT&n; *&n; */
multiline_comment|/*&n; * MIPS floating point support&n; * Copyright (C) 1994-2000 Algorithmics Ltd.  All rights reserved.&n; * http://www.algor.co.uk&n; *&n; * ########################################################################&n; *&n; *  This program is free software; you can distribute it and/or modify it&n; *  under the terms of the GNU General Public License (Version 2) as&n; *  published by the Free Software Foundation.&n; *&n; *  This program is distributed in the hope it will be useful, but WITHOUT&n; *  ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or&n; *  FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License&n; *  for more details.&n; *&n; *  You should have received a copy of the GNU General Public License along&n; *  with this program; if not, write to the Free Software Foundation, Inc.,&n; *  59 Temple Place - Suite 330, Boston MA 02111-1307, USA.&n; *&n; * ########################################################################&n; */
macro_line|#include &quot;ieee754int.h&quot;
DECL|macro|DP_EBIAS
mdefine_line|#define DP_EBIAS&t;1023
DECL|macro|DP_EMIN
mdefine_line|#define DP_EMIN&t;&t;(-1022)
DECL|macro|DP_EMAX
mdefine_line|#define DP_EMAX&t;&t;1023
DECL|macro|SP_EBIAS
mdefine_line|#define SP_EBIAS&t;127
DECL|macro|SP_EMIN
mdefine_line|#define SP_EMIN&t;&t;(-126)
DECL|macro|SP_EMAX
mdefine_line|#define SP_EMAX&t;&t;127
multiline_comment|/* indexed by class */
DECL|variable|ieee754_cname
r_const
r_char
op_star
r_const
id|ieee754_cname
(braket
)braket
op_assign
(brace
l_string|&quot;Normal&quot;
comma
l_string|&quot;Zero&quot;
comma
l_string|&quot;Denormal&quot;
comma
l_string|&quot;Infinity&quot;
comma
l_string|&quot;QNaN&quot;
comma
l_string|&quot;SNaN&quot;
comma
)brace
suffix:semicolon
multiline_comment|/* the control status register &n;*/
DECL|variable|ieee754_csr
r_struct
id|ieee754_csr
id|ieee754_csr
suffix:semicolon
multiline_comment|/* special constants&n;*/
macro_line|#if (defined(BYTE_ORDER) &amp;&amp; BYTE_ORDER == LITTLE_ENDIAN) || defined(__MIPSEL__)
DECL|macro|SPSTR
mdefine_line|#define SPSTR(s,b,m) {m,b,s}
DECL|macro|DPSTR
mdefine_line|#define DPSTR(s,b,mh,ml) {ml,mh,b,s}
macro_line|#endif
macro_line|#ifdef __MIPSEB__
DECL|macro|SPSTR
mdefine_line|#define SPSTR(s,b,m) {s,b,m}
DECL|macro|DPSTR
mdefine_line|#define DPSTR(s,b,mh,ml) {s,b,mh,ml}
macro_line|#endif
DECL|variable|__ieee754dp_spcvals
r_const
r_struct
id|ieee754dp_konst
id|__ieee754dp_spcvals
(braket
)braket
op_assign
(brace
id|DPSTR
c_func
(paren
l_int|0
comma
id|DP_EMIN
op_minus
l_int|1
op_plus
id|DP_EBIAS
comma
l_int|0
comma
l_int|0
)paren
comma
multiline_comment|/* + zero   */
id|DPSTR
c_func
(paren
l_int|1
comma
id|DP_EMIN
op_minus
l_int|1
op_plus
id|DP_EBIAS
comma
l_int|0
comma
l_int|0
)paren
comma
multiline_comment|/* - zero   */
id|DPSTR
c_func
(paren
l_int|0
comma
id|DP_EBIAS
comma
l_int|0
comma
l_int|0
)paren
comma
multiline_comment|/* + 1.0   */
id|DPSTR
c_func
(paren
l_int|1
comma
id|DP_EBIAS
comma
l_int|0
comma
l_int|0
)paren
comma
multiline_comment|/* - 1.0   */
id|DPSTR
c_func
(paren
l_int|0
comma
l_int|3
op_plus
id|DP_EBIAS
comma
l_int|0x40000
comma
l_int|0
)paren
comma
multiline_comment|/* + 10.0   */
id|DPSTR
c_func
(paren
l_int|1
comma
l_int|3
op_plus
id|DP_EBIAS
comma
l_int|0x40000
comma
l_int|0
)paren
comma
multiline_comment|/* - 10.0   */
id|DPSTR
c_func
(paren
l_int|0
comma
id|DP_EMAX
op_plus
l_int|1
op_plus
id|DP_EBIAS
comma
l_int|0
comma
l_int|0
)paren
comma
multiline_comment|/* + infinity */
id|DPSTR
c_func
(paren
l_int|1
comma
id|DP_EMAX
op_plus
l_int|1
op_plus
id|DP_EBIAS
comma
l_int|0
comma
l_int|0
)paren
comma
multiline_comment|/* - infinity */
id|DPSTR
c_func
(paren
l_int|0
comma
id|DP_EMAX
op_plus
l_int|1
op_plus
id|DP_EBIAS
comma
l_int|0x40000
comma
l_int|0
)paren
comma
multiline_comment|/* + indef quiet Nan */
id|DPSTR
c_func
(paren
l_int|0
comma
id|DP_EMAX
op_plus
id|DP_EBIAS
comma
l_int|0xFFFFF
comma
l_int|0xFFFFFFFF
)paren
comma
multiline_comment|/* + max */
id|DPSTR
c_func
(paren
l_int|1
comma
id|DP_EMAX
op_plus
id|DP_EBIAS
comma
l_int|0xFFFFF
comma
l_int|0xFFFFFFFF
)paren
comma
multiline_comment|/* - max */
id|DPSTR
c_func
(paren
l_int|0
comma
id|DP_EMIN
op_plus
id|DP_EBIAS
comma
l_int|0
comma
l_int|0
)paren
comma
multiline_comment|/* + min normal */
id|DPSTR
c_func
(paren
l_int|1
comma
id|DP_EMIN
op_plus
id|DP_EBIAS
comma
l_int|0
comma
l_int|0
)paren
comma
multiline_comment|/* - min normal */
id|DPSTR
c_func
(paren
l_int|0
comma
id|DP_EMIN
op_minus
l_int|1
op_plus
id|DP_EBIAS
comma
l_int|0
comma
l_int|1
)paren
comma
multiline_comment|/* + min denormal */
id|DPSTR
c_func
(paren
l_int|1
comma
id|DP_EMIN
op_minus
l_int|1
op_plus
id|DP_EBIAS
comma
l_int|0
comma
l_int|1
)paren
comma
multiline_comment|/* - min denormal */
id|DPSTR
c_func
(paren
l_int|0
comma
l_int|31
op_plus
id|DP_EBIAS
comma
l_int|0
comma
l_int|0
)paren
comma
multiline_comment|/* + 1.0e31 */
id|DPSTR
c_func
(paren
l_int|0
comma
l_int|63
op_plus
id|DP_EBIAS
comma
l_int|0
comma
l_int|0
)paren
comma
multiline_comment|/* + 1.0e63 */
)brace
suffix:semicolon
DECL|variable|__ieee754sp_spcvals
r_const
r_struct
id|ieee754sp_konst
id|__ieee754sp_spcvals
(braket
)braket
op_assign
(brace
id|SPSTR
c_func
(paren
l_int|0
comma
id|SP_EMIN
op_minus
l_int|1
op_plus
id|SP_EBIAS
comma
l_int|0
)paren
comma
multiline_comment|/* + zero   */
id|SPSTR
c_func
(paren
l_int|1
comma
id|SP_EMIN
op_minus
l_int|1
op_plus
id|SP_EBIAS
comma
l_int|0
)paren
comma
multiline_comment|/* - zero   */
id|SPSTR
c_func
(paren
l_int|0
comma
id|SP_EBIAS
comma
l_int|0
)paren
comma
multiline_comment|/* + 1.0   */
id|SPSTR
c_func
(paren
l_int|1
comma
id|SP_EBIAS
comma
l_int|0
)paren
comma
multiline_comment|/* - 1.0   */
id|SPSTR
c_func
(paren
l_int|0
comma
l_int|3
op_plus
id|SP_EBIAS
comma
l_int|0x200000
)paren
comma
multiline_comment|/* + 10.0   */
id|SPSTR
c_func
(paren
l_int|1
comma
l_int|3
op_plus
id|SP_EBIAS
comma
l_int|0x200000
)paren
comma
multiline_comment|/* - 10.0   */
id|SPSTR
c_func
(paren
l_int|0
comma
id|SP_EMAX
op_plus
l_int|1
op_plus
id|SP_EBIAS
comma
l_int|0
)paren
comma
multiline_comment|/* + infinity */
id|SPSTR
c_func
(paren
l_int|1
comma
id|SP_EMAX
op_plus
l_int|1
op_plus
id|SP_EBIAS
comma
l_int|0
)paren
comma
multiline_comment|/* - infinity */
id|SPSTR
c_func
(paren
l_int|0
comma
id|SP_EMAX
op_plus
l_int|1
op_plus
id|SP_EBIAS
comma
l_int|0x200000
)paren
comma
multiline_comment|/* + indef quiet Nan  */
id|SPSTR
c_func
(paren
l_int|0
comma
id|SP_EMAX
op_plus
id|SP_EBIAS
comma
l_int|0x7FFFFF
)paren
comma
multiline_comment|/* + max normal */
id|SPSTR
c_func
(paren
l_int|1
comma
id|SP_EMAX
op_plus
id|SP_EBIAS
comma
l_int|0x7FFFFF
)paren
comma
multiline_comment|/* - max normal */
id|SPSTR
c_func
(paren
l_int|0
comma
id|SP_EMIN
op_plus
id|SP_EBIAS
comma
l_int|0
)paren
comma
multiline_comment|/* + min normal */
id|SPSTR
c_func
(paren
l_int|1
comma
id|SP_EMIN
op_plus
id|SP_EBIAS
comma
l_int|0
)paren
comma
multiline_comment|/* - min normal */
id|SPSTR
c_func
(paren
l_int|0
comma
id|SP_EMIN
op_minus
l_int|1
op_plus
id|SP_EBIAS
comma
l_int|1
)paren
comma
multiline_comment|/* + min denormal */
id|SPSTR
c_func
(paren
l_int|1
comma
id|SP_EMIN
op_minus
l_int|1
op_plus
id|SP_EBIAS
comma
l_int|1
)paren
comma
multiline_comment|/* - min denormal */
id|SPSTR
c_func
(paren
l_int|0
comma
l_int|31
op_plus
id|SP_EBIAS
comma
l_int|0
)paren
comma
multiline_comment|/* + 1.0e31 */
id|SPSTR
c_func
(paren
l_int|0
comma
l_int|63
op_plus
id|SP_EBIAS
comma
l_int|0
)paren
comma
multiline_comment|/* + 1.0e63 */
)brace
suffix:semicolon
DECL|function|ieee754si_xcpt
r_int
id|ieee754si_xcpt
c_func
(paren
r_int
id|r
comma
r_const
r_char
op_star
id|op
comma
dot
dot
dot
)paren
(brace
r_struct
id|ieee754xctx
id|ax
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|TSTX
c_func
(paren
)paren
)paren
r_return
id|r
suffix:semicolon
id|ax.op
op_assign
id|op
suffix:semicolon
id|ax.rt
op_assign
id|IEEE754_RT_SI
suffix:semicolon
id|ax.rv.si
op_assign
id|r
suffix:semicolon
id|va_start
c_func
(paren
id|ax.ap
comma
id|op
)paren
suffix:semicolon
id|ieee754_xcpt
c_func
(paren
op_amp
id|ax
)paren
suffix:semicolon
r_return
id|ax.rv.si
suffix:semicolon
)brace
DECL|function|ieee754di_xcpt
r_int
r_int
id|ieee754di_xcpt
c_func
(paren
r_int
r_int
id|r
comma
r_const
r_char
op_star
id|op
comma
dot
dot
dot
)paren
(brace
r_struct
id|ieee754xctx
id|ax
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|TSTX
c_func
(paren
)paren
)paren
r_return
id|r
suffix:semicolon
id|ax.op
op_assign
id|op
suffix:semicolon
id|ax.rt
op_assign
id|IEEE754_RT_DI
suffix:semicolon
id|ax.rv.di
op_assign
id|r
suffix:semicolon
id|va_start
c_func
(paren
id|ax.ap
comma
id|op
)paren
suffix:semicolon
id|ieee754_xcpt
c_func
(paren
op_amp
id|ax
)paren
suffix:semicolon
r_return
id|ax.rv.di
suffix:semicolon
)brace
eof
