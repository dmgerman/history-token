multiline_comment|/**&n; * @file op_x86_model.h&n; * interface to x86 model-specific MSR operations&n; *&n; * @remark Copyright 2002 OProfile authors&n; * @remark Read the file COPYING&n; *&n; * @author Graydon Hoare&n; */
macro_line|#ifndef OP_X86_MODEL_H
DECL|macro|OP_X86_MODEL_H
mdefine_line|#define OP_X86_MODEL_H
multiline_comment|/* will need re-working for Pentium IV */
DECL|macro|MAX_MSR
mdefine_line|#define MAX_MSR 4
DECL|struct|op_saved_msr
r_struct
id|op_saved_msr
(brace
DECL|member|high
r_int
r_int
id|high
suffix:semicolon
DECL|member|low
r_int
r_int
id|low
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|op_msr_group
r_struct
id|op_msr_group
(brace
DECL|member|addrs
r_int
r_int
id|addrs
(braket
id|MAX_MSR
)braket
suffix:semicolon
DECL|member|saved
r_struct
id|op_saved_msr
id|saved
(braket
id|MAX_MSR
)braket
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|op_msrs
r_struct
id|op_msrs
(brace
DECL|member|counters
r_struct
id|op_msr_group
id|counters
suffix:semicolon
DECL|member|controls
r_struct
id|op_msr_group
id|controls
suffix:semicolon
)brace
suffix:semicolon
r_struct
id|pt_regs
suffix:semicolon
multiline_comment|/* The model vtable abstracts the differences between&n; * various x86 CPU model&squot;s perfctr support.&n; */
DECL|struct|op_x86_model_spec
r_struct
id|op_x86_model_spec
(brace
DECL|member|num_counters
r_int
r_int
r_const
id|num_counters
suffix:semicolon
DECL|member|num_controls
r_int
r_int
r_const
id|num_controls
suffix:semicolon
DECL|member|fill_in_addresses
r_void
(paren
op_star
id|fill_in_addresses
)paren
(paren
r_struct
id|op_msrs
op_star
r_const
id|msrs
)paren
suffix:semicolon
DECL|member|setup_ctrs
r_void
(paren
op_star
id|setup_ctrs
)paren
(paren
r_struct
id|op_msrs
r_const
op_star
r_const
id|msrs
)paren
suffix:semicolon
DECL|member|check_ctrs
r_int
(paren
op_star
id|check_ctrs
)paren
(paren
r_int
r_int
r_const
id|cpu
comma
r_struct
id|op_msrs
r_const
op_star
r_const
id|msrs
comma
r_struct
id|pt_regs
op_star
r_const
id|regs
)paren
suffix:semicolon
DECL|member|start
r_void
(paren
op_star
id|start
)paren
(paren
r_struct
id|op_msrs
r_const
op_star
r_const
id|msrs
)paren
suffix:semicolon
DECL|member|stop
r_void
(paren
op_star
id|stop
)paren
(paren
r_struct
id|op_msrs
r_const
op_star
r_const
id|msrs
)paren
suffix:semicolon
)brace
suffix:semicolon
r_extern
r_struct
id|op_x86_model_spec
r_const
id|op_ppro_spec
suffix:semicolon
r_extern
r_struct
id|op_x86_model_spec
r_const
id|op_athlon_spec
suffix:semicolon
macro_line|#endif /* OP_X86_MODEL_H */
eof
