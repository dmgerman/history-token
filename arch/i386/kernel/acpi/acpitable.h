multiline_comment|/*&n; *  acpitable.c - IA32-specific ACPI boot-time initialization (Revision: 1)&n; *&n; *  Copyright (C) 1999 Andrew Henroid&n; *  Copyright (C) 2001 Richard Schaal&n; *  Copyright (C) 2001 Paul Diefenbaugh &lt;paul.s.diefenbaugh@intel.com&gt;&n; *  Copyright (C) 2001 Jun Nakajima &lt;jun.nakajima@intel.com&gt;&n; *  Copyright (C) 2001 Arjan van de Ven &lt;arjanv@redhat.com&gt;&n; *&n; * ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~&n; *&n; *  This program is free software; you can redistribute it and/or modify&n; *  it under the terms of the GNU General Public License as published by&n; *  the Free Software Foundation; either version 2 of the License, or&n; *  (at your option) any later version.&n; *&n; *  This program is distributed in the hope that it will be useful,&n; *  but WITHOUT ANY WARRANTY; without even the implied warranty of&n; *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the&n; *  GNU General Public License for more details.&n; *&n; *  You should have received a copy of the GNU General Public License&n; *  along with this program; if not, write to the Free Software&n; *  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA&n; *&n; * ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~&n; *&n; * $Id: acpitable.h,v 1.3 2001/11/03 22:41:34 fenrus Exp $&n; */
multiline_comment|/*&n; * The following codes are cut&amp;pasted from drivers/acpi. Part of the code&n; * there can be not updated or delivered yet.&n; * To avoid conflicts when CONFIG_ACPI is defined, the following codes are&n; * modified so that they are self-contained in this file.&n; * -- jun&n; */
macro_line|#ifndef _HEADER_ACPITABLE_H_
DECL|macro|_HEADER_ACPITABLE_H_
mdefine_line|#define _HEADER_ACPITABLE_H_
DECL|macro|dprintk
mdefine_line|#define dprintk printk
DECL|typedef|ACPI_TBLPTR
r_typedef
r_int
r_int
id|ACPI_TBLPTR
suffix:semicolon
r_typedef
r_struct
(brace
multiline_comment|/* ACPI common table header */
DECL|member|signature
r_char
id|signature
(braket
l_int|4
)braket
suffix:semicolon
multiline_comment|/* identifies type of table */
DECL|member|length
id|u32
id|length
suffix:semicolon
multiline_comment|/* length of table,&n;&t;&t;&t;&t;   in bytes, * including header */
DECL|member|revision
id|u8
id|revision
suffix:semicolon
multiline_comment|/* specification minor version # */
DECL|member|checksum
id|u8
id|checksum
suffix:semicolon
multiline_comment|/* to make sum of entire table == 0 */
DECL|member|oem_id
r_char
id|oem_id
(braket
l_int|6
)braket
suffix:semicolon
multiline_comment|/* OEM identification */
DECL|member|oem_table_id
r_char
id|oem_table_id
(braket
l_int|8
)braket
suffix:semicolon
multiline_comment|/* OEM table identification */
DECL|member|oem_revision
id|u32
id|oem_revision
suffix:semicolon
multiline_comment|/* OEM revision number */
DECL|member|asl_compiler_id
r_char
id|asl_compiler_id
(braket
l_int|4
)braket
suffix:semicolon
multiline_comment|/* ASL compiler vendor ID */
DECL|member|asl_compiler_revision
id|u32
id|asl_compiler_revision
suffix:semicolon
multiline_comment|/* ASL compiler revision number */
DECL|typedef|acpi_table_header
)brace
id|acpi_table_header
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
suffix:semicolon
suffix:semicolon
r_enum
(brace
DECL|enumerator|ACPI_APIC
id|ACPI_APIC
op_assign
l_int|0
comma
DECL|enumerator|ACPI_BOOT
id|ACPI_BOOT
comma
DECL|enumerator|ACPI_DBGP
id|ACPI_DBGP
comma
DECL|enumerator|ACPI_DSDT
id|ACPI_DSDT
comma
DECL|enumerator|ACPI_ECDT
id|ACPI_ECDT
comma
DECL|enumerator|ACPI_ETDT
id|ACPI_ETDT
comma
DECL|enumerator|ACPI_FACP
id|ACPI_FACP
comma
DECL|enumerator|ACPI_FACS
id|ACPI_FACS
comma
DECL|enumerator|ACPI_OEMX
id|ACPI_OEMX
comma
DECL|enumerator|ACPI_PSDT
id|ACPI_PSDT
comma
DECL|enumerator|ACPI_SBST
id|ACPI_SBST
comma
DECL|enumerator|ACPI_SLIT
id|ACPI_SLIT
comma
DECL|enumerator|ACPI_SPCR
id|ACPI_SPCR
comma
DECL|enumerator|ACPI_SRAT
id|ACPI_SRAT
comma
DECL|enumerator|ACPI_SSDT
id|ACPI_SSDT
comma
DECL|enumerator|ACPI_SPMI
id|ACPI_SPMI
comma
DECL|enumerator|ACPI_XSDT
id|ACPI_XSDT
comma
DECL|enumerator|ACPI_TABLE_COUNT
id|ACPI_TABLE_COUNT
)brace
suffix:semicolon
DECL|variable|acpi_table_signatures
r_static
r_char
op_star
id|acpi_table_signatures
(braket
id|ACPI_TABLE_COUNT
)braket
op_assign
(brace
l_string|&quot;APIC&quot;
comma
l_string|&quot;BOOT&quot;
comma
l_string|&quot;DBGP&quot;
comma
l_string|&quot;DSDT&quot;
comma
l_string|&quot;ECDT&quot;
comma
l_string|&quot;ETDT&quot;
comma
l_string|&quot;FACP&quot;
comma
l_string|&quot;FACS&quot;
comma
l_string|&quot;OEM&quot;
comma
l_string|&quot;PSDT&quot;
comma
l_string|&quot;SBST&quot;
comma
l_string|&quot;SLIT&quot;
comma
l_string|&quot;SPCR&quot;
comma
l_string|&quot;SRAT&quot;
comma
l_string|&quot;SSDT&quot;
comma
l_string|&quot;SPMI&quot;
comma
l_string|&quot;XSDT&quot;
)brace
suffix:semicolon
DECL|struct|acpi_table_madt
r_struct
id|acpi_table_madt
(brace
DECL|member|header
id|acpi_table_header
id|header
suffix:semicolon
DECL|member|lapic_address
id|u32
id|lapic_address
suffix:semicolon
r_struct
(brace
DECL|member|pcat_compat
id|u32
id|pcat_compat
suffix:colon
l_int|1
suffix:semicolon
DECL|member|reserved
id|u32
id|reserved
suffix:colon
l_int|31
suffix:semicolon
DECL|member|flags
)brace
id|flags
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
suffix:semicolon
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
suffix:semicolon
suffix:semicolon
r_enum
(brace
DECL|enumerator|ACPI_MADT_LAPIC
id|ACPI_MADT_LAPIC
op_assign
l_int|0
comma
DECL|enumerator|ACPI_MADT_IOAPIC
id|ACPI_MADT_IOAPIC
comma
DECL|enumerator|ACPI_MADT_INT_SRC_OVR
id|ACPI_MADT_INT_SRC_OVR
comma
DECL|enumerator|ACPI_MADT_NMI_SRC
id|ACPI_MADT_NMI_SRC
comma
DECL|enumerator|ACPI_MADT_LAPIC_NMI
id|ACPI_MADT_LAPIC_NMI
comma
DECL|enumerator|ACPI_MADT_LAPIC_ADDR_OVR
id|ACPI_MADT_LAPIC_ADDR_OVR
comma
DECL|enumerator|ACPI_MADT_IOSAPIC
id|ACPI_MADT_IOSAPIC
comma
DECL|enumerator|ACPI_MADT_LSAPIC
id|ACPI_MADT_LSAPIC
comma
DECL|enumerator|ACPI_MADT_PLAT_INT_SRC
id|ACPI_MADT_PLAT_INT_SRC
comma
DECL|enumerator|ACPI_MADT_ENTRY_COUNT
id|ACPI_MADT_ENTRY_COUNT
)brace
suffix:semicolon
DECL|macro|RSDP_SIG
mdefine_line|#define RSDP_SIG&t;&t;&t;&quot;RSD PTR &quot;
DECL|macro|RSDT_SIG
mdefine_line|#define RSDT_SIG &t;&t;&t;&quot;RSDT&quot;
DECL|macro|ACPI_DEBUG_PRINT
mdefine_line|#define ACPI_DEBUG_PRINT(pl)
DECL|macro|ACPI_MEMORY_MODE
mdefine_line|#define ACPI_MEMORY_MODE                0x01
DECL|macro|ACPI_LOGICAL_ADDRESSING
mdefine_line|#define ACPI_LOGICAL_ADDRESSING         0x00
DECL|macro|ACPI_PHYSICAL_ADDRESSING
mdefine_line|#define ACPI_PHYSICAL_ADDRESSING        0x01
DECL|macro|LO_RSDP_WINDOW_BASE
mdefine_line|#define LO_RSDP_WINDOW_BASE         &t;0&t;/* Physical Address */
DECL|macro|HI_RSDP_WINDOW_BASE
mdefine_line|#define HI_RSDP_WINDOW_BASE         &t;0xE0000&t;/* Physical Address */
DECL|macro|LO_RSDP_WINDOW_SIZE
mdefine_line|#define LO_RSDP_WINDOW_SIZE         &t;0x400
DECL|macro|HI_RSDP_WINDOW_SIZE
mdefine_line|#define HI_RSDP_WINDOW_SIZE         &t;0x20000
DECL|macro|RSDP_SCAN_STEP
mdefine_line|#define RSDP_SCAN_STEP&t;&t;&t;16
DECL|macro|RSDP_CHECKSUM_LENGTH
mdefine_line|#define RSDP_CHECKSUM_LENGTH&t;&t;20
DECL|typedef|acpi_table_handler
r_typedef
r_int
(paren
op_star
id|acpi_table_handler
)paren
(paren
id|acpi_table_header
op_star
id|header
comma
r_int
r_int
)paren
suffix:semicolon
DECL|struct|acpi_table_rsdp
r_struct
id|acpi_table_rsdp
(brace
DECL|member|signature
r_char
id|signature
(braket
l_int|8
)braket
suffix:semicolon
DECL|member|checksum
id|u8
id|checksum
suffix:semicolon
DECL|member|oem_id
r_char
id|oem_id
(braket
l_int|6
)braket
suffix:semicolon
DECL|member|revision
id|u8
id|revision
suffix:semicolon
DECL|member|rsdt_address
id|u32
id|rsdt_address
suffix:semicolon
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
suffix:semicolon
DECL|struct|acpi_table_rsdt
r_struct
id|acpi_table_rsdt
(brace
DECL|member|header
id|acpi_table_header
id|header
suffix:semicolon
DECL|member|entry
id|u32
id|entry
(braket
id|ACPI_TABLE_COUNT
)braket
suffix:semicolon
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
suffix:semicolon
r_typedef
r_struct
(brace
DECL|member|type
id|u8
id|type
suffix:semicolon
DECL|member|length
id|u8
id|length
suffix:semicolon
DECL|typedef|acpi_madt_entry_header
)brace
id|acpi_madt_entry_header
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
suffix:semicolon
r_typedef
r_struct
(brace
DECL|member|polarity
id|u16
id|polarity
suffix:colon
l_int|2
suffix:semicolon
DECL|member|trigger
id|u16
id|trigger
suffix:colon
l_int|2
suffix:semicolon
DECL|member|reserved
id|u16
id|reserved
suffix:colon
l_int|12
suffix:semicolon
DECL|typedef|acpi_madt_int_flags
)brace
id|acpi_madt_int_flags
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
suffix:semicolon
DECL|struct|acpi_table_lapic
r_struct
id|acpi_table_lapic
(brace
DECL|member|header
id|acpi_madt_entry_header
id|header
suffix:semicolon
DECL|member|acpi_id
id|u8
id|acpi_id
suffix:semicolon
DECL|member|id
id|u8
id|id
suffix:semicolon
r_struct
(brace
DECL|member|enabled
id|u32
id|enabled
suffix:colon
l_int|1
suffix:semicolon
DECL|member|reserved
id|u32
id|reserved
suffix:colon
l_int|31
suffix:semicolon
DECL|member|flags
)brace
id|flags
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
suffix:semicolon
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
suffix:semicolon
DECL|struct|acpi_table_ioapic
r_struct
id|acpi_table_ioapic
(brace
DECL|member|header
id|acpi_madt_entry_header
id|header
suffix:semicolon
DECL|member|id
id|u8
id|id
suffix:semicolon
DECL|member|reserved
id|u8
id|reserved
suffix:semicolon
DECL|member|address
id|u32
id|address
suffix:semicolon
DECL|member|global_irq_base
id|u32
id|global_irq_base
suffix:semicolon
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
suffix:semicolon
DECL|struct|acpi_table_int_src_ovr
r_struct
id|acpi_table_int_src_ovr
(brace
DECL|member|header
id|acpi_madt_entry_header
id|header
suffix:semicolon
DECL|member|bus
id|u8
id|bus
suffix:semicolon
DECL|member|bus_irq
id|u8
id|bus_irq
suffix:semicolon
DECL|member|global_irq
id|u32
id|global_irq
suffix:semicolon
DECL|member|flags
id|acpi_madt_int_flags
id|flags
suffix:semicolon
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
suffix:semicolon
DECL|struct|acpi_table_nmi_src
r_struct
id|acpi_table_nmi_src
(brace
DECL|member|header
id|acpi_madt_entry_header
id|header
suffix:semicolon
DECL|member|flags
id|acpi_madt_int_flags
id|flags
suffix:semicolon
DECL|member|global_irq
id|u32
id|global_irq
suffix:semicolon
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
suffix:semicolon
DECL|struct|acpi_table_lapic_nmi
r_struct
id|acpi_table_lapic_nmi
(brace
DECL|member|header
id|acpi_madt_entry_header
id|header
suffix:semicolon
DECL|member|acpi_id
id|u8
id|acpi_id
suffix:semicolon
DECL|member|flags
id|acpi_madt_int_flags
id|flags
suffix:semicolon
DECL|member|lint
id|u8
id|lint
suffix:semicolon
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
suffix:semicolon
DECL|struct|acpi_table_lapic_addr_ovr
r_struct
id|acpi_table_lapic_addr_ovr
(brace
DECL|member|header
id|acpi_madt_entry_header
id|header
suffix:semicolon
DECL|member|reserved
id|u8
id|reserved
(braket
l_int|2
)braket
suffix:semicolon
DECL|member|address
id|u64
id|address
suffix:semicolon
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
suffix:semicolon
DECL|struct|acpi_table_iosapic
r_struct
id|acpi_table_iosapic
(brace
DECL|member|header
id|acpi_madt_entry_header
id|header
suffix:semicolon
DECL|member|id
id|u8
id|id
suffix:semicolon
DECL|member|reserved
id|u8
id|reserved
suffix:semicolon
DECL|member|global_irq_base
id|u32
id|global_irq_base
suffix:semicolon
DECL|member|address
id|u64
id|address
suffix:semicolon
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
suffix:semicolon
DECL|struct|acpi_table_lsapic
r_struct
id|acpi_table_lsapic
(brace
DECL|member|header
id|acpi_madt_entry_header
id|header
suffix:semicolon
DECL|member|acpi_id
id|u8
id|acpi_id
suffix:semicolon
DECL|member|id
id|u8
id|id
suffix:semicolon
DECL|member|eid
id|u8
id|eid
suffix:semicolon
DECL|member|reserved
id|u8
id|reserved
(braket
l_int|3
)braket
suffix:semicolon
r_struct
(brace
DECL|member|enabled
id|u32
id|enabled
suffix:colon
l_int|1
suffix:semicolon
DECL|member|reserved
id|u32
id|reserved
suffix:colon
l_int|31
suffix:semicolon
DECL|member|flags
)brace
id|flags
suffix:semicolon
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
suffix:semicolon
DECL|struct|acpi_table_plat_int_src
r_struct
id|acpi_table_plat_int_src
(brace
DECL|member|header
id|acpi_madt_entry_header
id|header
suffix:semicolon
DECL|member|flags
id|acpi_madt_int_flags
id|flags
suffix:semicolon
DECL|member|type
id|u8
id|type
suffix:semicolon
DECL|member|id
id|u8
id|id
suffix:semicolon
DECL|member|eid
id|u8
id|eid
suffix:semicolon
DECL|member|iosapic_vector
id|u8
id|iosapic_vector
suffix:semicolon
DECL|member|global_irq
id|u32
id|global_irq
suffix:semicolon
DECL|member|reserved
id|u32
id|reserved
suffix:semicolon
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
suffix:semicolon
multiline_comment|/*&n; * ACPI Table Descriptor.  One per ACPI table&n; */
DECL|struct|acpi_table_desc
r_typedef
r_struct
id|acpi_table_desc
(brace
DECL|member|prev
r_struct
id|acpi_table_desc
op_star
id|prev
suffix:semicolon
DECL|member|next
r_struct
id|acpi_table_desc
op_star
id|next
suffix:semicolon
DECL|member|installed_desc
r_struct
id|acpi_table_desc
op_star
id|installed_desc
suffix:semicolon
DECL|member|pointer
id|acpi_table_header
op_star
id|pointer
suffix:semicolon
DECL|member|base_pointer
r_void
op_star
id|base_pointer
suffix:semicolon
DECL|member|aml_pointer
id|u8
op_star
id|aml_pointer
suffix:semicolon
DECL|member|physical_address
id|u64
id|physical_address
suffix:semicolon
DECL|member|aml_length
id|u32
id|aml_length
suffix:semicolon
DECL|member|length
id|u32
id|length
suffix:semicolon
DECL|member|count
id|u32
id|count
suffix:semicolon
DECL|member|table_id
id|u16
id|table_id
suffix:semicolon
DECL|member|type
id|u8
id|type
suffix:semicolon
DECL|member|allocation
id|u8
id|allocation
suffix:semicolon
DECL|member|loaded_into_namespace
id|u8
id|loaded_into_namespace
suffix:semicolon
DECL|typedef|acpi_table_desc
)brace
id|acpi_table_desc
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
suffix:semicolon
suffix:semicolon
macro_line|#endif
eof
