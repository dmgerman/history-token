multiline_comment|/*&n; * Generate definitions needed by assembly language modules.&n; * This code generates raw asm output which is post-processed&n; * to extract and format the required data.&n; */
macro_line|#include &lt;linux/signal.h&gt;
macro_line|#include &lt;asm/ucontext.h&gt;
macro_line|#include &quot;sigframe.h&quot;
DECL|macro|DEFINE
mdefine_line|#define DEFINE(sym, val) &bslash;&n;        asm volatile(&quot;&bslash;n-&gt;&quot; #sym &quot; %0 &quot; #val : : &quot;i&quot; (val))
DECL|macro|BLANK
mdefine_line|#define BLANK() asm volatile(&quot;&bslash;n-&gt;&quot; : : )
DECL|function|foo
r_void
id|foo
c_func
(paren
r_void
)paren
(brace
id|DEFINE
c_func
(paren
id|SIGCONTEXT_eax
comma
m_offsetof
(paren
r_struct
id|sigcontext
comma
id|eax
)paren
)paren
suffix:semicolon
id|DEFINE
c_func
(paren
id|SIGCONTEXT_ebx
comma
m_offsetof
(paren
r_struct
id|sigcontext
comma
id|ebx
)paren
)paren
suffix:semicolon
id|DEFINE
c_func
(paren
id|SIGCONTEXT_ecx
comma
m_offsetof
(paren
r_struct
id|sigcontext
comma
id|ecx
)paren
)paren
suffix:semicolon
id|DEFINE
c_func
(paren
id|SIGCONTEXT_edx
comma
m_offsetof
(paren
r_struct
id|sigcontext
comma
id|edx
)paren
)paren
suffix:semicolon
id|DEFINE
c_func
(paren
id|SIGCONTEXT_esi
comma
m_offsetof
(paren
r_struct
id|sigcontext
comma
id|esi
)paren
)paren
suffix:semicolon
id|DEFINE
c_func
(paren
id|SIGCONTEXT_edi
comma
m_offsetof
(paren
r_struct
id|sigcontext
comma
id|edi
)paren
)paren
suffix:semicolon
id|DEFINE
c_func
(paren
id|SIGCONTEXT_ebp
comma
m_offsetof
(paren
r_struct
id|sigcontext
comma
id|ebp
)paren
)paren
suffix:semicolon
id|DEFINE
c_func
(paren
id|SIGCONTEXT_esp
comma
m_offsetof
(paren
r_struct
id|sigcontext
comma
id|esp
)paren
)paren
suffix:semicolon
id|DEFINE
c_func
(paren
id|SIGCONTEXT_eip
comma
m_offsetof
(paren
r_struct
id|sigcontext
comma
id|eip
)paren
)paren
suffix:semicolon
id|BLANK
c_func
(paren
)paren
suffix:semicolon
id|DEFINE
c_func
(paren
id|RT_SIGFRAME_sigcontext
comma
m_offsetof
(paren
r_struct
id|rt_sigframe
comma
id|uc.uc_mcontext
)paren
)paren
suffix:semicolon
)brace
eof
