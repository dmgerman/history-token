macro_line|#include &lt;linux/module.h&gt;
macro_line|#include &lt;linux/bitops.h&gt;
multiline_comment|/* Find string of zero bits in a bitmap */
r_int
r_int
DECL|function|find_next_zero_string
id|find_next_zero_string
c_func
(paren
r_int
r_int
op_star
id|bitmap
comma
r_int
id|start
comma
r_int
id|nbits
comma
r_int
id|len
)paren
(brace
r_int
r_int
id|n
comma
id|end
comma
id|i
suffix:semicolon
id|again
suffix:colon
id|n
op_assign
id|find_next_zero_bit
c_func
(paren
id|bitmap
comma
id|nbits
comma
id|start
)paren
suffix:semicolon
r_if
c_cond
(paren
id|n
op_eq
op_minus
l_int|1
)paren
r_return
op_minus
l_int|1
suffix:semicolon
multiline_comment|/* could test bitsliced, but it&squot;s hardly worth it */
id|end
op_assign
id|n
op_plus
id|len
suffix:semicolon
r_if
c_cond
(paren
id|end
op_ge
id|nbits
)paren
r_return
op_minus
l_int|1
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
id|n
op_plus
l_int|1
suffix:semicolon
id|i
OL
id|end
suffix:semicolon
id|i
op_increment
)paren
(brace
r_if
c_cond
(paren
id|test_bit
c_func
(paren
id|i
comma
id|bitmap
)paren
)paren
(brace
id|start
op_assign
id|i
op_plus
l_int|1
suffix:semicolon
r_goto
id|again
suffix:semicolon
)brace
)brace
r_return
id|n
suffix:semicolon
)brace
DECL|variable|find_next_zero_string
id|EXPORT_SYMBOL
c_func
(paren
id|find_next_zero_string
)paren
suffix:semicolon
eof
