multiline_comment|/*&n; * faulty.c : Multiple Devices driver for Linux&n; *&n; * Copyright (C) 2004 Neil Brown&n; *&n; * fautly-device-simulator personality for md&n; *&n; *&n; * This program is free software; you can redistribute it and/or modify&n; * it under the terms of the GNU General Public License as published by&n; * the Free Software Foundation; either version 2, or (at your option)&n; * any later version.&n; *&n; * You should have received a copy of the GNU General Public License&n; * (for example /usr/src/linux/COPYING); if not, write to the Free&n; * Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.&n; */
multiline_comment|/*&n; * The &quot;faulty&quot; personality causes some requests to fail.&n; *&n; * Possible failure modes are:&n; *   reads fail &quot;randomly&quot; but succeed on retry&n; *   writes fail &quot;randomly&quot; but succeed on retry&n; *   reads for some address fail and then persist until a write&n; *   reads for some address fail and then persist irrespective of write&n; *   writes for some address fail and persist&n; *   all writes fail&n; *&n; * Different modes can be active at a time, but only&n; * one can be set at array creation.  Others can be added later.&n; * A mode can be one-shot or recurrent with the recurrance being&n; * once in every N requests.&n; * The bottom 5 bits of the &quot;layout&quot; indicate the mode.  The&n; * remainder indicate a period, or 0 for one-shot.&n; *&n; * There is an implementation limit on the number of concurrently&n; * persisting-faulty blocks. When a new fault is requested that would&n; * exceed the limit, it is ignored.&n; * All current faults can be clear using a layout of &quot;0&quot;.&n; *&n; * Requests are always sent to the device.  If they are to fail,&n; * we clone the bio and insert a new b_end_io into the chain.&n; */
DECL|macro|WriteTransient
mdefine_line|#define&t;WriteTransient&t;0
DECL|macro|ReadTransient
mdefine_line|#define&t;ReadTransient&t;1
DECL|macro|WritePersistent
mdefine_line|#define&t;WritePersistent&t;2
DECL|macro|ReadPersistent
mdefine_line|#define&t;ReadPersistent&t;3
DECL|macro|WriteAll
mdefine_line|#define&t;WriteAll&t;4 /* doesn&squot;t go to device */
DECL|macro|ReadFixable
mdefine_line|#define&t;ReadFixable&t;5
DECL|macro|Modes
mdefine_line|#define&t;Modes&t;6
DECL|macro|ClearErrors
mdefine_line|#define&t;ClearErrors&t;31
DECL|macro|ClearFaults
mdefine_line|#define&t;ClearFaults&t;30
DECL|macro|AllPersist
mdefine_line|#define AllPersist&t;100 /* internal use only */
DECL|macro|NoPersist
mdefine_line|#define&t;NoPersist&t;101
DECL|macro|ModeMask
mdefine_line|#define&t;ModeMask&t;0x1f
DECL|macro|ModeShift
mdefine_line|#define&t;ModeShift&t;5
DECL|macro|MaxFault
mdefine_line|#define MaxFault&t;50
macro_line|#include &lt;linux/raid/md.h&gt;
DECL|function|faulty_fail
r_static
r_int
id|faulty_fail
c_func
(paren
r_struct
id|bio
op_star
id|bio
comma
r_int
r_int
id|bytes_done
comma
r_int
id|error
)paren
(brace
r_struct
id|bio
op_star
id|b
op_assign
id|bio-&gt;bi_private
suffix:semicolon
id|b-&gt;bi_size
op_assign
id|bio-&gt;bi_size
suffix:semicolon
id|b-&gt;bi_sector
op_assign
id|bio-&gt;bi_sector
suffix:semicolon
r_if
c_cond
(paren
id|bio-&gt;bi_size
op_eq
l_int|0
)paren
id|bio_put
c_func
(paren
id|bio
)paren
suffix:semicolon
id|clear_bit
c_func
(paren
id|BIO_UPTODATE
comma
op_amp
id|b-&gt;bi_flags
)paren
suffix:semicolon
r_return
(paren
id|b-&gt;bi_end_io
)paren
(paren
id|b
comma
id|bytes_done
comma
op_minus
id|EIO
)paren
suffix:semicolon
)brace
DECL|struct|faulty_conf
r_typedef
r_struct
id|faulty_conf
(brace
DECL|member|period
r_int
id|period
(braket
id|Modes
)braket
suffix:semicolon
DECL|member|counters
id|atomic_t
id|counters
(braket
id|Modes
)braket
suffix:semicolon
DECL|member|faults
id|sector_t
id|faults
(braket
id|MaxFault
)braket
suffix:semicolon
DECL|member|modes
r_int
id|modes
(braket
id|MaxFault
)braket
suffix:semicolon
DECL|member|nfaults
r_int
id|nfaults
suffix:semicolon
DECL|member|rdev
id|mdk_rdev_t
op_star
id|rdev
suffix:semicolon
DECL|typedef|conf_t
)brace
id|conf_t
suffix:semicolon
DECL|function|check_mode
r_static
r_int
id|check_mode
c_func
(paren
id|conf_t
op_star
id|conf
comma
r_int
id|mode
)paren
(brace
r_if
c_cond
(paren
id|conf-&gt;period
(braket
id|mode
)braket
op_eq
l_int|0
op_logical_and
id|atomic_read
c_func
(paren
op_amp
id|conf-&gt;counters
(braket
id|mode
)braket
)paren
op_le
l_int|0
)paren
r_return
l_int|0
suffix:semicolon
multiline_comment|/* no failure, no decrement */
r_if
c_cond
(paren
id|atomic_dec_and_test
c_func
(paren
op_amp
id|conf-&gt;counters
(braket
id|mode
)braket
)paren
)paren
(brace
r_if
c_cond
(paren
id|conf-&gt;period
(braket
id|mode
)braket
)paren
id|atomic_set
c_func
(paren
op_amp
id|conf-&gt;counters
(braket
id|mode
)braket
comma
id|conf-&gt;period
(braket
id|mode
)braket
)paren
suffix:semicolon
r_return
l_int|1
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|check_sector
r_static
r_int
id|check_sector
c_func
(paren
id|conf_t
op_star
id|conf
comma
id|sector_t
id|start
comma
id|sector_t
id|end
comma
r_int
id|dir
)paren
(brace
multiline_comment|/* If we find a ReadFixable sector, we fix it ... */
r_int
id|i
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|conf-&gt;nfaults
suffix:semicolon
id|i
op_increment
)paren
r_if
c_cond
(paren
id|conf-&gt;faults
(braket
id|i
)braket
op_ge
id|start
op_logical_and
id|conf-&gt;faults
(braket
id|i
)braket
OL
id|end
)paren
(brace
multiline_comment|/* found it ... */
r_switch
c_cond
(paren
id|conf-&gt;modes
(braket
id|i
)braket
op_star
l_int|2
op_plus
id|dir
)paren
(brace
r_case
id|WritePersistent
op_star
l_int|2
op_plus
id|WRITE
suffix:colon
r_return
l_int|1
suffix:semicolon
r_case
id|ReadPersistent
op_star
l_int|2
op_plus
id|READ
suffix:colon
r_return
l_int|1
suffix:semicolon
r_case
id|ReadFixable
op_star
l_int|2
op_plus
id|READ
suffix:colon
r_return
l_int|1
suffix:semicolon
r_case
id|ReadFixable
op_star
l_int|2
op_plus
id|WRITE
suffix:colon
id|conf-&gt;modes
(braket
id|i
)braket
op_assign
id|NoPersist
suffix:semicolon
r_return
l_int|0
suffix:semicolon
r_case
id|AllPersist
op_star
l_int|2
op_plus
id|READ
suffix:colon
r_case
id|AllPersist
op_star
l_int|2
op_plus
id|WRITE
suffix:colon
r_return
l_int|1
suffix:semicolon
r_default
suffix:colon
r_return
l_int|0
suffix:semicolon
)brace
)brace
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|add_sector
r_static
r_void
id|add_sector
c_func
(paren
id|conf_t
op_star
id|conf
comma
id|sector_t
id|start
comma
r_int
id|mode
)paren
(brace
r_int
id|i
suffix:semicolon
r_int
id|n
op_assign
id|conf-&gt;nfaults
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|conf-&gt;nfaults
suffix:semicolon
id|i
op_increment
)paren
r_if
c_cond
(paren
id|conf-&gt;faults
(braket
id|i
)braket
op_eq
id|start
)paren
(brace
r_switch
c_cond
(paren
id|mode
)paren
(brace
r_case
id|NoPersist
suffix:colon
id|conf-&gt;modes
(braket
id|i
)braket
op_assign
id|mode
suffix:semicolon
r_return
suffix:semicolon
r_case
id|WritePersistent
suffix:colon
r_if
c_cond
(paren
id|conf-&gt;modes
(braket
id|i
)braket
op_eq
id|ReadPersistent
op_logical_or
id|conf-&gt;modes
(braket
id|i
)braket
op_eq
id|ReadFixable
)paren
id|conf-&gt;modes
(braket
id|i
)braket
op_assign
id|AllPersist
suffix:semicolon
r_else
id|conf-&gt;modes
(braket
id|i
)braket
op_assign
id|WritePersistent
suffix:semicolon
r_return
suffix:semicolon
r_case
id|ReadPersistent
suffix:colon
r_if
c_cond
(paren
id|conf-&gt;modes
(braket
id|i
)braket
op_eq
id|WritePersistent
)paren
id|conf-&gt;modes
(braket
id|i
)braket
op_assign
id|AllPersist
suffix:semicolon
r_else
id|conf-&gt;modes
(braket
id|i
)braket
op_assign
id|ReadPersistent
suffix:semicolon
r_return
suffix:semicolon
r_case
id|ReadFixable
suffix:colon
r_if
c_cond
(paren
id|conf-&gt;modes
(braket
id|i
)braket
op_eq
id|WritePersistent
op_logical_or
id|conf-&gt;modes
(braket
id|i
)braket
op_eq
id|ReadPersistent
)paren
id|conf-&gt;modes
(braket
id|i
)braket
op_assign
id|AllPersist
suffix:semicolon
r_else
id|conf-&gt;modes
(braket
id|i
)braket
op_assign
id|ReadFixable
suffix:semicolon
r_return
suffix:semicolon
)brace
)brace
r_else
r_if
c_cond
(paren
id|conf-&gt;modes
(braket
id|i
)braket
op_eq
id|NoPersist
)paren
id|n
op_assign
id|i
suffix:semicolon
r_if
c_cond
(paren
id|n
op_ge
id|MaxFault
)paren
r_return
suffix:semicolon
id|conf-&gt;faults
(braket
id|n
)braket
op_assign
id|start
suffix:semicolon
id|conf-&gt;modes
(braket
id|n
)braket
op_assign
id|mode
suffix:semicolon
r_if
c_cond
(paren
id|conf-&gt;nfaults
op_eq
id|n
)paren
id|conf-&gt;nfaults
op_assign
id|n
op_plus
l_int|1
suffix:semicolon
)brace
DECL|function|make_request
r_static
r_int
id|make_request
c_func
(paren
id|request_queue_t
op_star
id|q
comma
r_struct
id|bio
op_star
id|bio
)paren
(brace
id|mddev_t
op_star
id|mddev
op_assign
id|q-&gt;queuedata
suffix:semicolon
id|conf_t
op_star
id|conf
op_assign
(paren
id|conf_t
op_star
)paren
id|mddev
op_member_access_from_pointer
r_private
suffix:semicolon
r_int
id|failit
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|bio-&gt;bi_rw
op_amp
l_int|1
)paren
(brace
multiline_comment|/* write request */
r_if
c_cond
(paren
id|atomic_read
c_func
(paren
op_amp
id|conf-&gt;counters
(braket
id|WriteAll
)braket
)paren
)paren
(brace
multiline_comment|/* special case - don&squot;t decrement, don&squot;t generic_make_request,&n;&t;&t;&t; * just fail immediately&n;&t;&t;&t; */
id|bio_endio
c_func
(paren
id|bio
comma
id|bio-&gt;bi_size
comma
op_minus
id|EIO
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
r_if
c_cond
(paren
id|check_sector
c_func
(paren
id|conf
comma
id|bio-&gt;bi_sector
comma
id|bio-&gt;bi_sector
op_plus
(paren
id|bio-&gt;bi_size
op_rshift
l_int|9
)paren
comma
id|WRITE
)paren
)paren
id|failit
op_assign
l_int|1
suffix:semicolon
r_if
c_cond
(paren
id|check_mode
c_func
(paren
id|conf
comma
id|WritePersistent
)paren
)paren
(brace
id|add_sector
c_func
(paren
id|conf
comma
id|bio-&gt;bi_sector
comma
id|WritePersistent
)paren
suffix:semicolon
id|failit
op_assign
l_int|1
suffix:semicolon
)brace
r_if
c_cond
(paren
id|check_mode
c_func
(paren
id|conf
comma
id|WriteTransient
)paren
)paren
id|failit
op_assign
l_int|1
suffix:semicolon
)brace
r_else
(brace
multiline_comment|/* read request */
r_if
c_cond
(paren
id|check_sector
c_func
(paren
id|conf
comma
id|bio-&gt;bi_sector
comma
id|bio-&gt;bi_sector
op_plus
(paren
id|bio-&gt;bi_size
op_rshift
l_int|9
)paren
comma
id|READ
)paren
)paren
id|failit
op_assign
l_int|1
suffix:semicolon
r_if
c_cond
(paren
id|check_mode
c_func
(paren
id|conf
comma
id|ReadTransient
)paren
)paren
id|failit
op_assign
l_int|1
suffix:semicolon
r_if
c_cond
(paren
id|check_mode
c_func
(paren
id|conf
comma
id|ReadPersistent
)paren
)paren
(brace
id|add_sector
c_func
(paren
id|conf
comma
id|bio-&gt;bi_sector
comma
id|ReadPersistent
)paren
suffix:semicolon
id|failit
op_assign
l_int|1
suffix:semicolon
)brace
r_if
c_cond
(paren
id|check_mode
c_func
(paren
id|conf
comma
id|ReadFixable
)paren
)paren
(brace
id|add_sector
c_func
(paren
id|conf
comma
id|bio-&gt;bi_sector
comma
id|ReadFixable
)paren
suffix:semicolon
id|failit
op_assign
l_int|1
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
id|failit
)paren
(brace
r_struct
id|bio
op_star
id|b
op_assign
id|bio_clone
c_func
(paren
id|bio
comma
id|GFP_NOIO
)paren
suffix:semicolon
id|b-&gt;bi_bdev
op_assign
id|conf-&gt;rdev-&gt;bdev
suffix:semicolon
id|b-&gt;bi_private
op_assign
id|bio
suffix:semicolon
id|b-&gt;bi_end_io
op_assign
id|faulty_fail
suffix:semicolon
id|generic_make_request
c_func
(paren
id|b
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
r_else
(brace
id|bio-&gt;bi_bdev
op_assign
id|conf-&gt;rdev-&gt;bdev
suffix:semicolon
r_return
l_int|1
suffix:semicolon
)brace
)brace
DECL|function|status
r_static
r_void
id|status
c_func
(paren
r_struct
id|seq_file
op_star
id|seq
comma
id|mddev_t
op_star
id|mddev
)paren
(brace
id|conf_t
op_star
id|conf
op_assign
(paren
id|conf_t
op_star
)paren
id|mddev
op_member_access_from_pointer
r_private
suffix:semicolon
r_int
id|n
suffix:semicolon
r_if
c_cond
(paren
(paren
id|n
op_assign
id|atomic_read
c_func
(paren
op_amp
id|conf-&gt;counters
(braket
id|WriteTransient
)braket
)paren
)paren
op_ne
l_int|0
)paren
id|seq_printf
c_func
(paren
id|seq
comma
l_string|&quot; WriteTransient=%d(%d)&quot;
comma
id|n
comma
id|conf-&gt;period
(braket
id|WriteTransient
)braket
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|n
op_assign
id|atomic_read
c_func
(paren
op_amp
id|conf-&gt;counters
(braket
id|ReadTransient
)braket
)paren
)paren
op_ne
l_int|0
)paren
id|seq_printf
c_func
(paren
id|seq
comma
l_string|&quot; ReadTransient=%d(%d)&quot;
comma
id|n
comma
id|conf-&gt;period
(braket
id|ReadTransient
)braket
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|n
op_assign
id|atomic_read
c_func
(paren
op_amp
id|conf-&gt;counters
(braket
id|WritePersistent
)braket
)paren
)paren
op_ne
l_int|0
)paren
id|seq_printf
c_func
(paren
id|seq
comma
l_string|&quot; WritePersistent=%d(%d)&quot;
comma
id|n
comma
id|conf-&gt;period
(braket
id|WritePersistent
)braket
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|n
op_assign
id|atomic_read
c_func
(paren
op_amp
id|conf-&gt;counters
(braket
id|ReadPersistent
)braket
)paren
)paren
op_ne
l_int|0
)paren
id|seq_printf
c_func
(paren
id|seq
comma
l_string|&quot; ReadPersistent=%d(%d)&quot;
comma
id|n
comma
id|conf-&gt;period
(braket
id|ReadPersistent
)braket
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|n
op_assign
id|atomic_read
c_func
(paren
op_amp
id|conf-&gt;counters
(braket
id|ReadFixable
)braket
)paren
)paren
op_ne
l_int|0
)paren
id|seq_printf
c_func
(paren
id|seq
comma
l_string|&quot; ReadFixable=%d(%d)&quot;
comma
id|n
comma
id|conf-&gt;period
(braket
id|ReadFixable
)braket
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|n
op_assign
id|atomic_read
c_func
(paren
op_amp
id|conf-&gt;counters
(braket
id|WriteAll
)braket
)paren
)paren
op_ne
l_int|0
)paren
id|seq_printf
c_func
(paren
id|seq
comma
l_string|&quot; WriteAll&quot;
)paren
suffix:semicolon
id|seq_printf
c_func
(paren
id|seq
comma
l_string|&quot; nfaults=%d&quot;
comma
id|conf-&gt;nfaults
)paren
suffix:semicolon
)brace
DECL|function|reconfig
r_static
r_int
id|reconfig
c_func
(paren
id|mddev_t
op_star
id|mddev
comma
r_int
id|layout
comma
r_int
id|chunk_size
)paren
(brace
r_int
id|mode
op_assign
id|layout
op_amp
id|ModeMask
suffix:semicolon
r_int
id|count
op_assign
id|layout
op_rshift
id|ModeShift
suffix:semicolon
id|conf_t
op_star
id|conf
op_assign
id|mddev
op_member_access_from_pointer
r_private
suffix:semicolon
r_if
c_cond
(paren
id|chunk_size
op_ne
op_minus
l_int|1
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
multiline_comment|/* new layout */
r_if
c_cond
(paren
id|mode
op_eq
id|ClearFaults
)paren
id|conf-&gt;nfaults
op_assign
l_int|0
suffix:semicolon
r_else
r_if
c_cond
(paren
id|mode
op_eq
id|ClearErrors
)paren
(brace
r_int
id|i
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|Modes
suffix:semicolon
id|i
op_increment
)paren
(brace
id|conf-&gt;period
(braket
id|i
)braket
op_assign
l_int|0
suffix:semicolon
id|atomic_set
c_func
(paren
op_amp
id|conf-&gt;counters
(braket
id|i
)braket
comma
l_int|0
)paren
suffix:semicolon
)brace
)brace
r_else
r_if
c_cond
(paren
id|mode
OL
id|Modes
)paren
(brace
id|conf-&gt;period
(braket
id|mode
)braket
op_assign
id|count
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|count
)paren
id|count
op_increment
suffix:semicolon
id|atomic_set
c_func
(paren
op_amp
id|conf-&gt;counters
(braket
id|mode
)braket
comma
id|count
)paren
suffix:semicolon
)brace
r_else
r_return
op_minus
id|EINVAL
suffix:semicolon
id|mddev-&gt;layout
op_assign
op_minus
l_int|1
suffix:semicolon
multiline_comment|/* makes sure further changes come through */
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|run
r_static
r_int
id|run
c_func
(paren
id|mddev_t
op_star
id|mddev
)paren
(brace
id|mdk_rdev_t
op_star
id|rdev
suffix:semicolon
r_struct
id|list_head
op_star
id|tmp
suffix:semicolon
r_int
id|i
suffix:semicolon
id|conf_t
op_star
id|conf
op_assign
id|kmalloc
c_func
(paren
r_sizeof
(paren
op_star
id|conf
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|Modes
suffix:semicolon
id|i
op_increment
)paren
(brace
id|atomic_set
c_func
(paren
op_amp
id|conf-&gt;counters
(braket
id|i
)braket
comma
l_int|0
)paren
suffix:semicolon
id|conf-&gt;period
(braket
id|i
)braket
op_assign
l_int|0
suffix:semicolon
)brace
id|conf-&gt;nfaults
op_assign
l_int|0
suffix:semicolon
id|ITERATE_RDEV
c_func
(paren
id|mddev
comma
id|rdev
comma
id|tmp
)paren
id|conf-&gt;rdev
op_assign
id|rdev
suffix:semicolon
id|mddev-&gt;array_size
op_assign
id|mddev-&gt;size
suffix:semicolon
id|mddev
op_member_access_from_pointer
r_private
op_assign
id|conf
suffix:semicolon
id|reconfig
c_func
(paren
id|mddev
comma
id|mddev-&gt;layout
comma
op_minus
l_int|1
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|stop
r_static
r_int
id|stop
c_func
(paren
id|mddev_t
op_star
id|mddev
)paren
(brace
id|conf_t
op_star
id|conf
op_assign
(paren
id|conf_t
op_star
)paren
id|mddev
op_member_access_from_pointer
r_private
suffix:semicolon
id|kfree
c_func
(paren
id|conf
)paren
suffix:semicolon
id|mddev
op_member_access_from_pointer
r_private
op_assign
l_int|NULL
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|variable|faulty_personality
r_static
id|mdk_personality_t
id|faulty_personality
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;faulty&quot;
comma
dot
id|owner
op_assign
id|THIS_MODULE
comma
dot
id|make_request
op_assign
id|make_request
comma
dot
id|run
op_assign
id|run
comma
dot
id|stop
op_assign
id|stop
comma
dot
id|status
op_assign
id|status
comma
dot
id|reconfig
op_assign
id|reconfig
comma
)brace
suffix:semicolon
DECL|function|raid_init
r_static
r_int
id|__init
id|raid_init
c_func
(paren
r_void
)paren
(brace
r_return
id|register_md_personality
c_func
(paren
id|FAULTY
comma
op_amp
id|faulty_personality
)paren
suffix:semicolon
)brace
DECL|function|raid_exit
r_static
r_void
id|raid_exit
c_func
(paren
r_void
)paren
(brace
id|unregister_md_personality
c_func
(paren
id|FAULTY
)paren
suffix:semicolon
)brace
DECL|variable|raid_init
id|module_init
c_func
(paren
id|raid_init
)paren
suffix:semicolon
DECL|variable|raid_exit
id|module_exit
c_func
(paren
id|raid_exit
)paren
suffix:semicolon
id|MODULE_LICENSE
c_func
(paren
l_string|&quot;GPL&quot;
)paren
suffix:semicolon
id|MODULE_ALIAS
c_func
(paren
l_string|&quot;md-personality-10&quot;
)paren
suffix:semicolon
multiline_comment|/* faulty */
eof
