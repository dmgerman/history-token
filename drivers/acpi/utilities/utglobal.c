multiline_comment|/******************************************************************************&n; *&n; * Module Name: utglobal - Global variables for the ACPI subsystem&n; *              $Revision: 133 $&n; *&n; *****************************************************************************/
multiline_comment|/*&n; *  Copyright (C) 2000, 2001 R. Byron Moore&n; *&n; *  This program is free software; you can redistribute it and/or modify&n; *  it under the terms of the GNU General Public License as published by&n; *  the Free Software Foundation; either version 2 of the License, or&n; *  (at your option) any later version.&n; *&n; *  This program is distributed in the hope that it will be useful,&n; *  but WITHOUT ANY WARRANTY; without even the implied warranty of&n; *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the&n; *  GNU General Public License for more details.&n; *&n; *  You should have received a copy of the GNU General Public License&n; *  along with this program; if not, write to the Free Software&n; *  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA&n; */
DECL|macro|DEFINE_ACPI_GLOBALS
mdefine_line|#define DEFINE_ACPI_GLOBALS
macro_line|#include &quot;acpi.h&quot;
macro_line|#include &quot;acevents.h&quot;
macro_line|#include &quot;acnamesp.h&quot;
macro_line|#include &quot;acinterp.h&quot;
macro_line|#include &quot;amlcode.h&quot;
DECL|macro|_COMPONENT
mdefine_line|#define _COMPONENT          ACPI_UTILITIES
id|MODULE_NAME
(paren
l_string|&quot;utglobal&quot;
)paren
multiline_comment|/******************************************************************************&n; *&n; * FUNCTION:    Acpi_format_exception&n; *&n; * PARAMETERS:  Status       - The acpi_status code to be formatted&n; *&n; * RETURN:      A string containing the exception  text&n; *&n; * DESCRIPTION: This function translates an ACPI exception into an ASCII string.&n; *&n; ******************************************************************************/
r_const
r_char
op_star
DECL|function|acpi_format_exception
id|acpi_format_exception
(paren
id|acpi_status
id|status
)paren
(brace
r_const
r_char
op_star
id|exception
op_assign
l_string|&quot;UNKNOWN_STATUS_CODE&quot;
suffix:semicolon
id|acpi_status
id|sub_status
suffix:semicolon
id|sub_status
op_assign
(paren
id|status
op_amp
op_complement
id|AE_CODE_MASK
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|status
op_amp
id|AE_CODE_MASK
)paren
(brace
r_case
id|AE_CODE_ENVIRONMENTAL
suffix:colon
r_if
c_cond
(paren
id|sub_status
op_le
id|AE_CODE_ENV_MAX
)paren
(brace
id|exception
op_assign
id|acpi_gbl_exception_names_env
(braket
id|sub_status
)braket
suffix:semicolon
)brace
r_break
suffix:semicolon
r_case
id|AE_CODE_PROGRAMMER
suffix:colon
r_if
c_cond
(paren
id|sub_status
op_le
id|AE_CODE_PGM_MAX
)paren
(brace
id|exception
op_assign
id|acpi_gbl_exception_names_pgm
(braket
id|sub_status
op_minus
l_int|1
)braket
suffix:semicolon
)brace
r_break
suffix:semicolon
r_case
id|AE_CODE_ACPI_TABLES
suffix:colon
r_if
c_cond
(paren
id|sub_status
op_le
id|AE_CODE_TBL_MAX
)paren
(brace
id|exception
op_assign
id|acpi_gbl_exception_names_tbl
(braket
id|sub_status
op_minus
l_int|1
)braket
suffix:semicolon
)brace
r_break
suffix:semicolon
r_case
id|AE_CODE_AML
suffix:colon
r_if
c_cond
(paren
id|sub_status
op_le
id|AE_CODE_AML_MAX
)paren
(brace
id|exception
op_assign
id|acpi_gbl_exception_names_aml
(braket
id|sub_status
op_minus
l_int|1
)braket
suffix:semicolon
)brace
r_break
suffix:semicolon
r_case
id|AE_CODE_CONTROL
suffix:colon
r_if
c_cond
(paren
id|sub_status
op_le
id|AE_CODE_CTRL_MAX
)paren
(brace
id|exception
op_assign
id|acpi_gbl_exception_names_ctrl
(braket
id|sub_status
op_minus
l_int|1
)braket
suffix:semicolon
)brace
r_break
suffix:semicolon
r_default
suffix:colon
r_break
suffix:semicolon
)brace
r_return
(paren
(paren
r_const
r_char
op_star
)paren
id|exception
)paren
suffix:semicolon
)brace
multiline_comment|/******************************************************************************&n; *&n; * Static global variable initialization.&n; *&n; ******************************************************************************/
multiline_comment|/*&n; * We want the debug switches statically initialized so they&n; * are already set when the debugger is entered.&n; */
multiline_comment|/* Debug switch - level and trace mask */
macro_line|#ifdef ACPI_DEBUG
DECL|variable|acpi_dbg_level
id|u32
id|acpi_dbg_level
op_assign
id|DEBUG_DEFAULT
suffix:semicolon
macro_line|#else
DECL|variable|acpi_dbg_level
id|u32
id|acpi_dbg_level
op_assign
id|NORMAL_DEFAULT
suffix:semicolon
macro_line|#endif
multiline_comment|/* Debug switch - layer (component) mask */
DECL|variable|acpi_dbg_layer
id|u32
id|acpi_dbg_layer
op_assign
id|ACPI_COMPONENT_DEFAULT
suffix:semicolon
DECL|variable|acpi_gbl_nesting_level
id|u32
id|acpi_gbl_nesting_level
op_assign
l_int|0
suffix:semicolon
multiline_comment|/* Debugger globals */
DECL|variable|acpi_gbl_db_terminate_threads
id|u8
id|acpi_gbl_db_terminate_threads
op_assign
id|FALSE
suffix:semicolon
DECL|variable|acpi_gbl_method_executing
id|u8
id|acpi_gbl_method_executing
op_assign
id|FALSE
suffix:semicolon
multiline_comment|/* System flags */
DECL|variable|acpi_gbl_system_flags
id|u32
id|acpi_gbl_system_flags
op_assign
l_int|0
suffix:semicolon
DECL|variable|acpi_gbl_startup_flags
id|u32
id|acpi_gbl_startup_flags
op_assign
l_int|0
suffix:semicolon
multiline_comment|/* System starts unitialized! */
DECL|variable|acpi_gbl_shutdown
id|u8
id|acpi_gbl_shutdown
op_assign
id|TRUE
suffix:semicolon
DECL|variable|acpi_gbl_decode_to8bit
r_const
id|u8
id|acpi_gbl_decode_to8bit
(braket
l_int|8
)braket
op_assign
(brace
l_int|1
comma
l_int|2
comma
l_int|4
comma
l_int|8
comma
l_int|16
comma
l_int|32
comma
l_int|64
comma
l_int|128
)brace
suffix:semicolon
DECL|variable|acpi_gbl_db_sleep_states
r_const
id|NATIVE_CHAR
op_star
id|acpi_gbl_db_sleep_states
(braket
id|ACPI_NUM_SLEEP_STATES
)braket
op_assign
(brace
l_string|&quot;&bslash;&bslash;_S0_&quot;
comma
l_string|&quot;&bslash;&bslash;_S1_&quot;
comma
l_string|&quot;&bslash;&bslash;_S2_&quot;
comma
l_string|&quot;&bslash;&bslash;_S3_&quot;
comma
l_string|&quot;&bslash;&bslash;_S4_&quot;
comma
l_string|&quot;&bslash;&bslash;_S5_&quot;
comma
l_string|&quot;&bslash;&bslash;_S4B&quot;
)brace
suffix:semicolon
multiline_comment|/******************************************************************************&n; *&n; * Namespace globals&n; *&n; ******************************************************************************/
multiline_comment|/*&n; * Names built-in to the interpreter&n; *&n; * Initial values are currently supported only for types String and Number.&n; * To avoid type punning, both are specified as strings in this table.&n; *&n; * NOTES:&n; * 1) _SB_ is defined to be a device to allow _SB_/_INI to be run&n; *    during the initialization sequence.&n; */
DECL|variable|acpi_gbl_pre_defined_names
r_const
id|predefined_names
id|acpi_gbl_pre_defined_names
(braket
)braket
op_assign
(brace
(brace
l_string|&quot;_GPE&quot;
comma
id|INTERNAL_TYPE_DEF_ANY
)brace
comma
(brace
l_string|&quot;_PR_&quot;
comma
id|INTERNAL_TYPE_DEF_ANY
)brace
comma
(brace
l_string|&quot;_SB_&quot;
comma
id|ACPI_TYPE_DEVICE
)brace
comma
(brace
l_string|&quot;_SI_&quot;
comma
id|INTERNAL_TYPE_DEF_ANY
)brace
comma
(brace
l_string|&quot;_TZ_&quot;
comma
id|INTERNAL_TYPE_DEF_ANY
)brace
comma
(brace
l_string|&quot;_REV&quot;
comma
id|ACPI_TYPE_INTEGER
comma
l_string|&quot;2&quot;
)brace
comma
(brace
l_string|&quot;_OS_&quot;
comma
id|ACPI_TYPE_STRING
comma
id|ACPI_OS_NAME
)brace
comma
(brace
l_string|&quot;_GL_&quot;
comma
id|ACPI_TYPE_MUTEX
comma
l_string|&quot;0&quot;
)brace
comma
(brace
l_int|NULL
comma
id|ACPI_TYPE_ANY
)brace
multiline_comment|/* Table terminator */
)brace
suffix:semicolon
multiline_comment|/*&n; * Properties of the ACPI Object Types, both internal and external.&n; *&n; * Elements of Acpi_ns_properties are bit significant&n; * and the table is indexed by values of acpi_object_type&n; */
DECL|variable|acpi_gbl_ns_properties
r_const
id|u8
id|acpi_gbl_ns_properties
(braket
)braket
op_assign
(brace
id|NSP_NORMAL
comma
multiline_comment|/* 00 Any              */
id|NSP_NORMAL
comma
multiline_comment|/* 01 Number           */
id|NSP_NORMAL
comma
multiline_comment|/* 02 String           */
id|NSP_NORMAL
comma
multiline_comment|/* 03 Buffer           */
id|NSP_LOCAL
comma
multiline_comment|/* 04 Package          */
id|NSP_NORMAL
comma
multiline_comment|/* 05 Field_unit       */
id|NSP_NEWSCOPE
op_or
id|NSP_LOCAL
comma
multiline_comment|/* 06 Device           */
id|NSP_LOCAL
comma
multiline_comment|/* 07 Acpi_event       */
id|NSP_NEWSCOPE
op_or
id|NSP_LOCAL
comma
multiline_comment|/* 08 Method           */
id|NSP_LOCAL
comma
multiline_comment|/* 09 Mutex            */
id|NSP_LOCAL
comma
multiline_comment|/* 10 Region           */
id|NSP_NEWSCOPE
op_or
id|NSP_LOCAL
comma
multiline_comment|/* 11 Power            */
id|NSP_NEWSCOPE
op_or
id|NSP_LOCAL
comma
multiline_comment|/* 12 Processor        */
id|NSP_NEWSCOPE
op_or
id|NSP_LOCAL
comma
multiline_comment|/* 13 Thermal          */
id|NSP_NORMAL
comma
multiline_comment|/* 14 Buffer_field     */
id|NSP_NORMAL
comma
multiline_comment|/* 15 Ddb_handle       */
id|NSP_NORMAL
comma
multiline_comment|/* 16 Debug Object     */
id|NSP_NORMAL
comma
multiline_comment|/* 17 Def_field        */
id|NSP_NORMAL
comma
multiline_comment|/* 18 Bank_field       */
id|NSP_NORMAL
comma
multiline_comment|/* 19 Index_field      */
id|NSP_NORMAL
comma
multiline_comment|/* 20 Reference        */
id|NSP_NORMAL
comma
multiline_comment|/* 21 Alias            */
id|NSP_NORMAL
comma
multiline_comment|/* 22 Notify           */
id|NSP_NORMAL
comma
multiline_comment|/* 23 Address Handler  */
id|NSP_NEWSCOPE
op_or
id|NSP_LOCAL
comma
multiline_comment|/* 24 Resource Desc    */
id|NSP_NEWSCOPE
op_or
id|NSP_LOCAL
comma
multiline_comment|/* 25 Resource Field   */
id|NSP_NORMAL
comma
multiline_comment|/* 26 Def_field_defn   */
id|NSP_NORMAL
comma
multiline_comment|/* 27 Bank_field_defn  */
id|NSP_NORMAL
comma
multiline_comment|/* 28 Index_field_defn */
id|NSP_NORMAL
comma
multiline_comment|/* 29 If               */
id|NSP_NORMAL
comma
multiline_comment|/* 30 Else             */
id|NSP_NORMAL
comma
multiline_comment|/* 31 While            */
id|NSP_NEWSCOPE
comma
multiline_comment|/* 32 Scope            */
id|NSP_LOCAL
comma
multiline_comment|/* 33 Def_any          */
id|NSP_NORMAL
comma
multiline_comment|/* 34 Extra            */
id|NSP_NORMAL
multiline_comment|/* 35 Invalid          */
)brace
suffix:semicolon
multiline_comment|/* Hex to ASCII conversion table */
DECL|variable|acpi_gbl_hex_to_ascii
r_const
id|NATIVE_CHAR
id|acpi_gbl_hex_to_ascii
(braket
)braket
op_assign
(brace
l_char|&squot;0&squot;
comma
l_char|&squot;1&squot;
comma
l_char|&squot;2&squot;
comma
l_char|&squot;3&squot;
comma
l_char|&squot;4&squot;
comma
l_char|&squot;5&squot;
comma
l_char|&squot;6&squot;
comma
l_char|&squot;7&squot;
comma
l_char|&squot;8&squot;
comma
l_char|&squot;9&squot;
comma
l_char|&squot;A&squot;
comma
l_char|&squot;B&squot;
comma
l_char|&squot;C&squot;
comma
l_char|&squot;D&squot;
comma
l_char|&squot;E&squot;
comma
l_char|&squot;F&squot;
)brace
suffix:semicolon
multiline_comment|/*****************************************************************************&n; *&n; * FUNCTION:    Acpi_ut_hex_to_ascii_char&n; *&n; * PARAMETERS:  Integer             - Contains the hex digit&n; *              Position            - bit position of the digit within the&n; *                                    integer&n; *&n; * RETURN:      Ascii character&n; *&n; * DESCRIPTION: Convert a hex digit to an ascii character&n; *&n; ****************************************************************************/
id|u8
DECL|function|acpi_ut_hex_to_ascii_char
id|acpi_ut_hex_to_ascii_char
(paren
id|acpi_integer
id|integer
comma
id|u32
id|position
)paren
(brace
r_return
(paren
id|acpi_gbl_hex_to_ascii
(braket
(paren
id|integer
op_rshift
id|position
)paren
op_amp
l_int|0xF
)braket
)paren
suffix:semicolon
)brace
multiline_comment|/******************************************************************************&n; *&n; * Table globals&n; *&n; * NOTE: This table includes ONLY the ACPI tables that the subsystem consumes.&n; * it is NOT an exhaustive list of all possible ACPI tables.  All ACPI tables&n; * that are not used by the subsystem are simply ignored.&n; *&n; ******************************************************************************/
DECL|variable|acpi_gbl_acpi_tables
id|acpi_table_desc
id|acpi_gbl_acpi_tables
(braket
id|NUM_ACPI_TABLES
)braket
suffix:semicolon
DECL|variable|acpi_gbl_acpi_table_data
id|ACPI_TABLE_SUPPORT
id|acpi_gbl_acpi_table_data
(braket
id|NUM_ACPI_TABLES
)braket
op_assign
(brace
multiline_comment|/***********    Name,    Signature,  Signature size,    How many allowed?,   Supported?  Global typed pointer */
multiline_comment|/* RSDP 0 */
(brace
id|RSDP_NAME
comma
id|RSDP_SIG
comma
r_sizeof
(paren
id|RSDP_SIG
)paren
op_minus
l_int|1
comma
id|ACPI_TABLE_SINGLE
comma
id|AE_OK
comma
l_int|NULL
)brace
comma
multiline_comment|/* DSDT 1 */
(brace
id|DSDT_SIG
comma
id|DSDT_SIG
comma
r_sizeof
(paren
id|DSDT_SIG
)paren
op_minus
l_int|1
comma
id|ACPI_TABLE_SINGLE
comma
id|AE_OK
comma
(paren
r_void
op_star
op_star
)paren
op_amp
id|acpi_gbl_DSDT
)brace
comma
multiline_comment|/* FADT 2 */
(brace
id|FADT_SIG
comma
id|FADT_SIG
comma
r_sizeof
(paren
id|FADT_SIG
)paren
op_minus
l_int|1
comma
id|ACPI_TABLE_SINGLE
comma
id|AE_OK
comma
(paren
r_void
op_star
op_star
)paren
op_amp
id|acpi_gbl_FADT
)brace
comma
multiline_comment|/* FACS 3 */
(brace
id|FACS_SIG
comma
id|FACS_SIG
comma
r_sizeof
(paren
id|FACS_SIG
)paren
op_minus
l_int|1
comma
id|ACPI_TABLE_SINGLE
comma
id|AE_OK
comma
(paren
r_void
op_star
op_star
)paren
op_amp
id|acpi_gbl_FACS
)brace
comma
multiline_comment|/* PSDT 4 */
(brace
id|PSDT_SIG
comma
id|PSDT_SIG
comma
r_sizeof
(paren
id|PSDT_SIG
)paren
op_minus
l_int|1
comma
id|ACPI_TABLE_MULTIPLE
comma
id|AE_OK
comma
l_int|NULL
)brace
comma
multiline_comment|/* SSDT 5 */
(brace
id|SSDT_SIG
comma
id|SSDT_SIG
comma
r_sizeof
(paren
id|SSDT_SIG
)paren
op_minus
l_int|1
comma
id|ACPI_TABLE_MULTIPLE
comma
id|AE_OK
comma
l_int|NULL
)brace
comma
multiline_comment|/* XSDT 6 */
(brace
id|XSDT_SIG
comma
id|XSDT_SIG
comma
r_sizeof
(paren
id|RSDT_SIG
)paren
op_minus
l_int|1
comma
id|ACPI_TABLE_SINGLE
comma
id|AE_OK
comma
l_int|NULL
)brace
comma
)brace
suffix:semicolon
macro_line|#ifdef ACPI_DEBUG
multiline_comment|/*&n; * Strings and procedures used for debug only&n; *&n; */
multiline_comment|/*****************************************************************************&n; *&n; * FUNCTION:    Acpi_ut_get_mutex_name&n; *&n; * PARAMETERS:  None.&n; *&n; * RETURN:      Status&n; *&n; * DESCRIPTION: Translate a mutex ID into a name string (Debug only)&n; *&n; ****************************************************************************/
id|NATIVE_CHAR
op_star
DECL|function|acpi_ut_get_mutex_name
id|acpi_ut_get_mutex_name
(paren
id|u32
id|mutex_id
)paren
(brace
r_if
c_cond
(paren
id|mutex_id
OG
id|MAX_MTX
)paren
(brace
r_return
(paren
l_string|&quot;Invalid Mutex ID&quot;
)paren
suffix:semicolon
)brace
r_return
(paren
id|acpi_gbl_mutex_names
(braket
id|mutex_id
)braket
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * Elements of Acpi_gbl_Ns_type_names below must match&n; * one-to-one with values of acpi_object_type&n; *&n; * The type ACPI_TYPE_ANY (Untyped) is used as a &quot;don&squot;t care&quot; when searching; when&n; * stored in a table it really means that we have thus far seen no evidence to&n; * indicatewhat type is actually going to be stored for this entry.&n; */
DECL|variable|acpi_gbl_bad_type
r_static
r_const
id|NATIVE_CHAR
id|acpi_gbl_bad_type
(braket
)braket
op_assign
l_string|&quot;UNDEFINED&quot;
suffix:semicolon
DECL|macro|TYPE_NAME_LENGTH
mdefine_line|#define TYPE_NAME_LENGTH    12                           /* Maximum length of each string */
DECL|variable|acpi_gbl_ns_type_names
r_static
r_const
id|NATIVE_CHAR
op_star
id|acpi_gbl_ns_type_names
(braket
)braket
op_assign
multiline_comment|/* printable names of ACPI types */
(brace
multiline_comment|/* 00 */
l_string|&quot;Untyped&quot;
comma
multiline_comment|/* 01 */
l_string|&quot;Integer&quot;
comma
multiline_comment|/* 02 */
l_string|&quot;String&quot;
comma
multiline_comment|/* 03 */
l_string|&quot;Buffer&quot;
comma
multiline_comment|/* 04 */
l_string|&quot;Package&quot;
comma
multiline_comment|/* 05 */
l_string|&quot;Field_unit&quot;
comma
multiline_comment|/* 06 */
l_string|&quot;Device&quot;
comma
multiline_comment|/* 07 */
l_string|&quot;Event&quot;
comma
multiline_comment|/* 08 */
l_string|&quot;Method&quot;
comma
multiline_comment|/* 09 */
l_string|&quot;Mutex&quot;
comma
multiline_comment|/* 10 */
l_string|&quot;Region&quot;
comma
multiline_comment|/* 11 */
l_string|&quot;Power&quot;
comma
multiline_comment|/* 12 */
l_string|&quot;Processor&quot;
comma
multiline_comment|/* 13 */
l_string|&quot;Thermal&quot;
comma
multiline_comment|/* 14 */
l_string|&quot;Buffer_field&quot;
comma
multiline_comment|/* 15 */
l_string|&quot;Ddb_handle&quot;
comma
multiline_comment|/* 16 */
l_string|&quot;Debug_object&quot;
comma
multiline_comment|/* 17 */
l_string|&quot;Region_field&quot;
comma
multiline_comment|/* 18 */
l_string|&quot;Bank_field&quot;
comma
multiline_comment|/* 19 */
l_string|&quot;Index_field&quot;
comma
multiline_comment|/* 20 */
l_string|&quot;Reference&quot;
comma
multiline_comment|/* 21 */
l_string|&quot;Alias&quot;
comma
multiline_comment|/* 22 */
l_string|&quot;Notify&quot;
comma
multiline_comment|/* 23 */
l_string|&quot;Addr_handler&quot;
comma
multiline_comment|/* 24 */
l_string|&quot;Resource_desc&quot;
comma
multiline_comment|/* 25 */
l_string|&quot;Resource_fld&quot;
comma
multiline_comment|/* 26 */
l_string|&quot;Region_fld_dfn&quot;
comma
multiline_comment|/* 27 */
l_string|&quot;Bank_fld_dfn&quot;
comma
multiline_comment|/* 28 */
l_string|&quot;Index_fld_dfn&quot;
comma
multiline_comment|/* 29 */
l_string|&quot;If&quot;
comma
multiline_comment|/* 30 */
l_string|&quot;Else&quot;
comma
multiline_comment|/* 31 */
l_string|&quot;While&quot;
comma
multiline_comment|/* 32 */
l_string|&quot;Scope&quot;
comma
multiline_comment|/* 33 */
l_string|&quot;Def_any&quot;
comma
multiline_comment|/* 34 */
l_string|&quot;Extra&quot;
comma
multiline_comment|/* 35 */
l_string|&quot;Invalid&quot;
)brace
suffix:semicolon
multiline_comment|/*****************************************************************************&n; *&n; * FUNCTION:    Acpi_ut_get_type_name&n; *&n; * PARAMETERS:  None.&n; *&n; * RETURN:      Status&n; *&n; * DESCRIPTION: Translate a Type ID into a name string (Debug only)&n; *&n; ****************************************************************************/
id|NATIVE_CHAR
op_star
DECL|function|acpi_ut_get_type_name
id|acpi_ut_get_type_name
(paren
id|u32
id|type
)paren
(brace
r_if
c_cond
(paren
id|type
OG
id|INTERNAL_TYPE_INVALID
)paren
(brace
r_return
(paren
(paren
id|NATIVE_CHAR
op_star
)paren
id|acpi_gbl_bad_type
)paren
suffix:semicolon
)brace
r_return
(paren
(paren
id|NATIVE_CHAR
op_star
)paren
id|acpi_gbl_ns_type_names
(braket
id|type
)braket
)paren
suffix:semicolon
)brace
multiline_comment|/* Region type decoding */
DECL|variable|acpi_gbl_region_types
r_const
id|NATIVE_CHAR
op_star
id|acpi_gbl_region_types
(braket
id|NUM_REGION_TYPES
)braket
op_assign
(brace
l_string|&quot;System_memory&quot;
comma
l_string|&quot;System_iO&quot;
comma
l_string|&quot;PCIConfig&quot;
comma
l_string|&quot;Embedded_control&quot;
comma
l_string|&quot;SMBus&quot;
comma
l_string|&quot;CMOS&quot;
comma
l_string|&quot;PCIBar_target&quot;
comma
)brace
suffix:semicolon
multiline_comment|/*****************************************************************************&n; *&n; * FUNCTION:    Acpi_ut_get_region_name&n; *&n; * PARAMETERS:  None.&n; *&n; * RETURN:      Status&n; *&n; * DESCRIPTION: Translate a Space ID into a name string (Debug only)&n; *&n; ****************************************************************************/
id|NATIVE_CHAR
op_star
DECL|function|acpi_ut_get_region_name
id|acpi_ut_get_region_name
(paren
id|u8
id|space_id
)paren
(brace
r_if
c_cond
(paren
id|space_id
op_ge
id|USER_REGION_BEGIN
)paren
(brace
r_return
(paren
l_string|&quot;User_defined_region&quot;
)paren
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|space_id
op_ge
id|NUM_REGION_TYPES
)paren
(brace
r_return
(paren
l_string|&quot;Invalid_space_iD&quot;
)paren
suffix:semicolon
)brace
r_return
(paren
(paren
id|NATIVE_CHAR
op_star
)paren
id|acpi_gbl_region_types
(braket
id|space_id
)braket
)paren
suffix:semicolon
)brace
multiline_comment|/* Data used in keeping track of fields */
DECL|variable|acpi_gbl_FEnames
r_const
id|NATIVE_CHAR
op_star
id|acpi_gbl_FEnames
(braket
id|NUM_FIELD_NAMES
)braket
op_assign
(brace
l_string|&quot;skip&quot;
comma
l_string|&quot;?access?&quot;
)brace
suffix:semicolon
multiline_comment|/* FE = Field Element */
DECL|variable|acpi_gbl_match_ops
r_const
id|NATIVE_CHAR
op_star
id|acpi_gbl_match_ops
(braket
id|NUM_MATCH_OPS
)braket
op_assign
(brace
l_string|&quot;Error&quot;
comma
l_string|&quot;MTR&quot;
comma
l_string|&quot;MEQ&quot;
comma
l_string|&quot;MLE&quot;
comma
l_string|&quot;MLT&quot;
comma
l_string|&quot;MGE&quot;
comma
l_string|&quot;MGT&quot;
)brace
suffix:semicolon
multiline_comment|/* Access type decoding */
DECL|variable|acpi_gbl_access_types
r_const
id|NATIVE_CHAR
op_star
id|acpi_gbl_access_types
(braket
id|NUM_ACCESS_TYPES
)braket
op_assign
(brace
l_string|&quot;Any_acc&quot;
comma
l_string|&quot;Byte_acc&quot;
comma
l_string|&quot;Word_acc&quot;
comma
l_string|&quot;DWord_acc&quot;
comma
l_string|&quot;Block_acc&quot;
comma
l_string|&quot;SMBSend_recv_acc&quot;
comma
l_string|&quot;SMBQuick_acc&quot;
)brace
suffix:semicolon
multiline_comment|/* Update rule decoding */
DECL|variable|acpi_gbl_update_rules
r_const
id|NATIVE_CHAR
op_star
id|acpi_gbl_update_rules
(braket
id|NUM_UPDATE_RULES
)braket
op_assign
(brace
l_string|&quot;Preserve&quot;
comma
l_string|&quot;Write_as_ones&quot;
comma
l_string|&quot;Write_as_zeros&quot;
)brace
suffix:semicolon
macro_line|#endif
multiline_comment|/*****************************************************************************&n; *&n; * FUNCTION:    Acpi_ut_valid_object_type&n; *&n; * PARAMETERS:  None.&n; *&n; * RETURN:      TRUE if valid object type&n; *&n; * DESCRIPTION: Validate an object type&n; *&n; ****************************************************************************/
id|u8
DECL|function|acpi_ut_valid_object_type
id|acpi_ut_valid_object_type
(paren
id|u32
id|type
)paren
(brace
r_if
c_cond
(paren
id|type
OG
id|ACPI_TYPE_MAX
)paren
(brace
r_if
c_cond
(paren
(paren
id|type
OL
id|INTERNAL_TYPE_BEGIN
)paren
op_logical_or
(paren
id|type
OG
id|INTERNAL_TYPE_MAX
)paren
)paren
(brace
r_return
(paren
id|FALSE
)paren
suffix:semicolon
)brace
)brace
r_return
(paren
id|TRUE
)paren
suffix:semicolon
)brace
multiline_comment|/****************************************************************************&n; *&n; * FUNCTION:    Acpi_ut_allocate_owner_id&n; *&n; * PARAMETERS:  Id_type         - Type of ID (method or table)&n; *&n; * DESCRIPTION: Allocate a table or method owner id&n; *&n; ***************************************************************************/
id|acpi_owner_id
DECL|function|acpi_ut_allocate_owner_id
id|acpi_ut_allocate_owner_id
(paren
id|u32
id|id_type
)paren
(brace
id|acpi_owner_id
id|owner_id
op_assign
l_int|0xFFFF
suffix:semicolon
id|FUNCTION_TRACE
(paren
l_string|&quot;Ut_allocate_owner_id&quot;
)paren
suffix:semicolon
id|acpi_ut_acquire_mutex
(paren
id|ACPI_MTX_CACHES
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|id_type
)paren
(brace
r_case
id|OWNER_TYPE_TABLE
suffix:colon
id|owner_id
op_assign
id|acpi_gbl_next_table_owner_id
suffix:semicolon
id|acpi_gbl_next_table_owner_id
op_increment
suffix:semicolon
r_if
c_cond
(paren
id|acpi_gbl_next_table_owner_id
op_eq
id|FIRST_METHOD_ID
)paren
(brace
id|acpi_gbl_next_table_owner_id
op_assign
id|FIRST_TABLE_ID
suffix:semicolon
)brace
r_break
suffix:semicolon
r_case
id|OWNER_TYPE_METHOD
suffix:colon
id|owner_id
op_assign
id|acpi_gbl_next_method_owner_id
suffix:semicolon
id|acpi_gbl_next_method_owner_id
op_increment
suffix:semicolon
r_if
c_cond
(paren
id|acpi_gbl_next_method_owner_id
op_eq
id|FIRST_TABLE_ID
)paren
(brace
id|acpi_gbl_next_method_owner_id
op_assign
id|FIRST_METHOD_ID
suffix:semicolon
)brace
r_break
suffix:semicolon
)brace
id|acpi_ut_release_mutex
(paren
id|ACPI_MTX_CACHES
)paren
suffix:semicolon
id|return_VALUE
(paren
id|owner_id
)paren
suffix:semicolon
)brace
multiline_comment|/****************************************************************************&n; *&n; * FUNCTION:    Acpi_ut_init_globals&n; *&n; * PARAMETERS:  none&n; *&n; * DESCRIPTION: Init library globals.  All globals that require specific&n; *              initialization should be initialized here!&n; *&n; ***************************************************************************/
r_void
DECL|function|acpi_ut_init_globals
id|acpi_ut_init_globals
(paren
r_void
)paren
(brace
id|u32
id|i
suffix:semicolon
id|FUNCTION_TRACE
(paren
l_string|&quot;Ut_init_globals&quot;
)paren
suffix:semicolon
multiline_comment|/* Memory allocation and cache lists */
id|MEMSET
(paren
id|acpi_gbl_memory_lists
comma
l_int|0
comma
r_sizeof
(paren
id|ACPI_MEMORY_LIST
)paren
op_star
id|ACPI_NUM_MEM_LISTS
)paren
suffix:semicolon
id|acpi_gbl_memory_lists
(braket
id|ACPI_MEM_LIST_STATE
)braket
dot
id|link_offset
op_assign
(paren
id|u16
)paren
(paren
id|NATIVE_UINT
)paren
op_amp
(paren
(paren
(paren
id|acpi_generic_state
op_star
)paren
l_int|NULL
)paren
op_member_access_from_pointer
id|common.next
)paren
suffix:semicolon
id|acpi_gbl_memory_lists
(braket
id|ACPI_MEM_LIST_PSNODE
)braket
dot
id|link_offset
op_assign
(paren
id|u16
)paren
(paren
id|NATIVE_UINT
)paren
op_amp
(paren
(paren
(paren
id|acpi_parse_object
op_star
)paren
l_int|NULL
)paren
op_member_access_from_pointer
id|next
)paren
suffix:semicolon
id|acpi_gbl_memory_lists
(braket
id|ACPI_MEM_LIST_PSNODE_EXT
)braket
dot
id|link_offset
op_assign
(paren
id|u16
)paren
(paren
id|NATIVE_UINT
)paren
op_amp
(paren
(paren
(paren
id|acpi_parse2_object
op_star
)paren
l_int|NULL
)paren
op_member_access_from_pointer
id|next
)paren
suffix:semicolon
id|acpi_gbl_memory_lists
(braket
id|ACPI_MEM_LIST_OPERAND
)braket
dot
id|link_offset
op_assign
(paren
id|u16
)paren
(paren
id|NATIVE_UINT
)paren
op_amp
(paren
(paren
(paren
id|acpi_operand_object
op_star
)paren
l_int|NULL
)paren
op_member_access_from_pointer
id|cache.next
)paren
suffix:semicolon
id|acpi_gbl_memory_lists
(braket
id|ACPI_MEM_LIST_WALK
)braket
dot
id|link_offset
op_assign
(paren
id|u16
)paren
(paren
id|NATIVE_UINT
)paren
op_amp
(paren
(paren
(paren
id|acpi_walk_state
op_star
)paren
l_int|NULL
)paren
op_member_access_from_pointer
id|next
)paren
suffix:semicolon
id|acpi_gbl_memory_lists
(braket
id|ACPI_MEM_LIST_NSNODE
)braket
dot
id|object_size
op_assign
r_sizeof
(paren
id|acpi_namespace_node
)paren
suffix:semicolon
id|acpi_gbl_memory_lists
(braket
id|ACPI_MEM_LIST_STATE
)braket
dot
id|object_size
op_assign
r_sizeof
(paren
id|acpi_generic_state
)paren
suffix:semicolon
id|acpi_gbl_memory_lists
(braket
id|ACPI_MEM_LIST_PSNODE
)braket
dot
id|object_size
op_assign
r_sizeof
(paren
id|acpi_parse_object
)paren
suffix:semicolon
id|acpi_gbl_memory_lists
(braket
id|ACPI_MEM_LIST_PSNODE_EXT
)braket
dot
id|object_size
op_assign
r_sizeof
(paren
id|acpi_parse2_object
)paren
suffix:semicolon
id|acpi_gbl_memory_lists
(braket
id|ACPI_MEM_LIST_OPERAND
)braket
dot
id|object_size
op_assign
r_sizeof
(paren
id|acpi_operand_object
)paren
suffix:semicolon
id|acpi_gbl_memory_lists
(braket
id|ACPI_MEM_LIST_WALK
)braket
dot
id|object_size
op_assign
r_sizeof
(paren
id|acpi_walk_state
)paren
suffix:semicolon
id|acpi_gbl_memory_lists
(braket
id|ACPI_MEM_LIST_STATE
)braket
dot
id|max_cache_depth
op_assign
id|MAX_STATE_CACHE_DEPTH
suffix:semicolon
id|acpi_gbl_memory_lists
(braket
id|ACPI_MEM_LIST_PSNODE
)braket
dot
id|max_cache_depth
op_assign
id|MAX_PARSE_CACHE_DEPTH
suffix:semicolon
id|acpi_gbl_memory_lists
(braket
id|ACPI_MEM_LIST_PSNODE_EXT
)braket
dot
id|max_cache_depth
op_assign
id|MAX_EXTPARSE_CACHE_DEPTH
suffix:semicolon
id|acpi_gbl_memory_lists
(braket
id|ACPI_MEM_LIST_OPERAND
)braket
dot
id|max_cache_depth
op_assign
id|MAX_OBJECT_CACHE_DEPTH
suffix:semicolon
id|acpi_gbl_memory_lists
(braket
id|ACPI_MEM_LIST_WALK
)braket
dot
id|max_cache_depth
op_assign
id|MAX_WALK_CACHE_DEPTH
suffix:semicolon
id|ACPI_MEM_TRACKING
(paren
id|acpi_gbl_memory_lists
(braket
id|ACPI_MEM_LIST_GLOBAL
)braket
dot
id|list_name
op_assign
l_string|&quot;Global Memory Allocation&quot;
)paren
suffix:semicolon
id|ACPI_MEM_TRACKING
(paren
id|acpi_gbl_memory_lists
(braket
id|ACPI_MEM_LIST_NSNODE
)braket
dot
id|list_name
op_assign
l_string|&quot;Namespace Nodes&quot;
)paren
suffix:semicolon
id|ACPI_MEM_TRACKING
(paren
id|acpi_gbl_memory_lists
(braket
id|ACPI_MEM_LIST_STATE
)braket
dot
id|list_name
op_assign
l_string|&quot;State Object Cache&quot;
)paren
suffix:semicolon
id|ACPI_MEM_TRACKING
(paren
id|acpi_gbl_memory_lists
(braket
id|ACPI_MEM_LIST_PSNODE
)braket
dot
id|list_name
op_assign
l_string|&quot;Parse Node Cache&quot;
)paren
suffix:semicolon
id|ACPI_MEM_TRACKING
(paren
id|acpi_gbl_memory_lists
(braket
id|ACPI_MEM_LIST_PSNODE_EXT
)braket
dot
id|list_name
op_assign
l_string|&quot;Extended Parse Node Cache&quot;
)paren
suffix:semicolon
id|ACPI_MEM_TRACKING
(paren
id|acpi_gbl_memory_lists
(braket
id|ACPI_MEM_LIST_OPERAND
)braket
dot
id|list_name
op_assign
l_string|&quot;Operand Object Cache&quot;
)paren
suffix:semicolon
id|ACPI_MEM_TRACKING
(paren
id|acpi_gbl_memory_lists
(braket
id|ACPI_MEM_LIST_WALK
)braket
dot
id|list_name
op_assign
l_string|&quot;Tree Walk Node Cache&quot;
)paren
suffix:semicolon
multiline_comment|/* ACPI table structure */
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|NUM_ACPI_TABLES
suffix:semicolon
id|i
op_increment
)paren
(brace
id|acpi_gbl_acpi_tables
(braket
id|i
)braket
dot
id|prev
op_assign
op_amp
id|acpi_gbl_acpi_tables
(braket
id|i
)braket
suffix:semicolon
id|acpi_gbl_acpi_tables
(braket
id|i
)braket
dot
id|next
op_assign
op_amp
id|acpi_gbl_acpi_tables
(braket
id|i
)braket
suffix:semicolon
id|acpi_gbl_acpi_tables
(braket
id|i
)braket
dot
id|pointer
op_assign
l_int|NULL
suffix:semicolon
id|acpi_gbl_acpi_tables
(braket
id|i
)braket
dot
id|length
op_assign
l_int|0
suffix:semicolon
id|acpi_gbl_acpi_tables
(braket
id|i
)braket
dot
id|allocation
op_assign
id|ACPI_MEM_NOT_ALLOCATED
suffix:semicolon
id|acpi_gbl_acpi_tables
(braket
id|i
)braket
dot
id|count
op_assign
l_int|0
suffix:semicolon
)brace
multiline_comment|/* Address Space handler array */
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|ACPI_NUM_ADDRESS_SPACES
suffix:semicolon
id|i
op_increment
)paren
(brace
id|acpi_gbl_address_spaces
(braket
id|i
)braket
dot
id|handler
op_assign
l_int|NULL
suffix:semicolon
id|acpi_gbl_address_spaces
(braket
id|i
)braket
dot
id|context
op_assign
l_int|NULL
suffix:semicolon
)brace
multiline_comment|/* Mutex locked flags */
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|NUM_MTX
suffix:semicolon
id|i
op_increment
)paren
(brace
id|acpi_gbl_acpi_mutex_info
(braket
id|i
)braket
dot
id|mutex
op_assign
l_int|NULL
suffix:semicolon
id|acpi_gbl_acpi_mutex_info
(braket
id|i
)braket
dot
id|owner_id
op_assign
id|ACPI_MUTEX_NOT_ACQUIRED
suffix:semicolon
id|acpi_gbl_acpi_mutex_info
(braket
id|i
)braket
dot
id|use_count
op_assign
l_int|0
suffix:semicolon
)brace
multiline_comment|/* Global notify handlers */
id|acpi_gbl_sys_notify.handler
op_assign
l_int|NULL
suffix:semicolon
id|acpi_gbl_drv_notify.handler
op_assign
l_int|NULL
suffix:semicolon
multiline_comment|/* Global &quot;typed&quot; ACPI table pointers */
id|acpi_gbl_RSDP
op_assign
l_int|NULL
suffix:semicolon
id|acpi_gbl_XSDT
op_assign
l_int|NULL
suffix:semicolon
id|acpi_gbl_FACS
op_assign
l_int|NULL
suffix:semicolon
id|acpi_gbl_FADT
op_assign
l_int|NULL
suffix:semicolon
id|acpi_gbl_DSDT
op_assign
l_int|NULL
suffix:semicolon
multiline_comment|/* Global Lock support */
id|acpi_gbl_global_lock_acquired
op_assign
id|FALSE
suffix:semicolon
id|acpi_gbl_global_lock_thread_count
op_assign
l_int|0
suffix:semicolon
multiline_comment|/* Miscellaneous variables */
id|acpi_gbl_system_flags
op_assign
l_int|0
suffix:semicolon
id|acpi_gbl_startup_flags
op_assign
l_int|0
suffix:semicolon
id|acpi_gbl_rsdp_original_location
op_assign
l_int|0
suffix:semicolon
id|acpi_gbl_cm_single_step
op_assign
id|FALSE
suffix:semicolon
id|acpi_gbl_db_terminate_threads
op_assign
id|FALSE
suffix:semicolon
id|acpi_gbl_shutdown
op_assign
id|FALSE
suffix:semicolon
id|acpi_gbl_ns_lookup_count
op_assign
l_int|0
suffix:semicolon
id|acpi_gbl_ps_find_count
op_assign
l_int|0
suffix:semicolon
id|acpi_gbl_acpi_hardware_present
op_assign
id|TRUE
suffix:semicolon
id|acpi_gbl_next_table_owner_id
op_assign
id|FIRST_TABLE_ID
suffix:semicolon
id|acpi_gbl_next_method_owner_id
op_assign
id|FIRST_METHOD_ID
suffix:semicolon
id|acpi_gbl_debugger_configuration
op_assign
id|DEBUGGER_THREADING
suffix:semicolon
multiline_comment|/* Hardware oriented */
id|acpi_gbl_gpe0enable_register_save
op_assign
l_int|NULL
suffix:semicolon
id|acpi_gbl_gpe1_enable_register_save
op_assign
l_int|NULL
suffix:semicolon
id|acpi_gbl_original_mode
op_assign
id|SYS_MODE_UNKNOWN
suffix:semicolon
multiline_comment|/*  original ACPI/legacy mode   */
id|acpi_gbl_gpe_registers
op_assign
l_int|NULL
suffix:semicolon
id|acpi_gbl_gpe_info
op_assign
l_int|NULL
suffix:semicolon
multiline_comment|/* Namespace */
id|acpi_gbl_root_node
op_assign
l_int|NULL
suffix:semicolon
id|acpi_gbl_root_node_struct.name
op_assign
id|ACPI_ROOT_NAME
suffix:semicolon
id|acpi_gbl_root_node_struct.data_type
op_assign
id|ACPI_DESC_TYPE_NAMED
suffix:semicolon
id|acpi_gbl_root_node_struct.type
op_assign
id|ACPI_TYPE_ANY
suffix:semicolon
id|acpi_gbl_root_node_struct.child
op_assign
l_int|NULL
suffix:semicolon
id|acpi_gbl_root_node_struct.peer
op_assign
l_int|NULL
suffix:semicolon
id|acpi_gbl_root_node_struct.object
op_assign
l_int|NULL
suffix:semicolon
id|acpi_gbl_root_node_struct.flags
op_assign
id|ANOBJ_END_OF_PEER_LIST
suffix:semicolon
macro_line|#ifdef ACPI_DEBUG
id|acpi_gbl_lowest_stack_pointer
op_assign
id|ACPI_UINT32_MAX
suffix:semicolon
macro_line|#endif
id|return_VOID
suffix:semicolon
)brace
eof
