macro_line|#ifndef _IEEE1394_TRANSACTIONS_H
DECL|macro|_IEEE1394_TRANSACTIONS_H
mdefine_line|#define _IEEE1394_TRANSACTIONS_H
macro_line|#include &quot;ieee1394_core.h&quot;
multiline_comment|/*&n; * Get and free transaction labels.&n; */
r_int
id|hpsb_get_tlabel
c_func
(paren
r_struct
id|hpsb_packet
op_star
id|packet
)paren
suffix:semicolon
r_void
id|hpsb_free_tlabel
c_func
(paren
r_struct
id|hpsb_packet
op_star
id|packet
)paren
suffix:semicolon
r_struct
id|hpsb_packet
op_star
id|hpsb_make_readpacket
c_func
(paren
r_struct
id|hpsb_host
op_star
id|host
comma
id|nodeid_t
id|node
comma
id|u64
id|addr
comma
r_int
id|length
)paren
suffix:semicolon
r_struct
id|hpsb_packet
op_star
id|hpsb_make_lockpacket
c_func
(paren
r_struct
id|hpsb_host
op_star
id|host
comma
id|nodeid_t
id|node
comma
id|u64
id|addr
comma
r_int
id|extcode
comma
id|quadlet_t
op_star
id|data
comma
id|quadlet_t
id|arg
)paren
suffix:semicolon
r_struct
id|hpsb_packet
op_star
id|hpsb_make_lock64packet
c_func
(paren
r_struct
id|hpsb_host
op_star
id|host
comma
id|nodeid_t
id|node
comma
id|u64
id|addr
comma
r_int
id|extcode
comma
id|octlet_t
op_star
id|data
comma
id|octlet_t
id|arg
)paren
suffix:semicolon
r_struct
id|hpsb_packet
op_star
id|hpsb_make_phypacket
c_func
(paren
r_struct
id|hpsb_host
op_star
id|host
comma
id|quadlet_t
id|data
)paren
suffix:semicolon
r_struct
id|hpsb_packet
op_star
id|hpsb_make_isopacket
c_func
(paren
r_struct
id|hpsb_host
op_star
id|host
comma
r_int
id|length
comma
r_int
id|channel
comma
r_int
id|tag
comma
r_int
id|sync
)paren
suffix:semicolon
r_struct
id|hpsb_packet
op_star
id|hpsb_make_writepacket
(paren
r_struct
id|hpsb_host
op_star
id|host
comma
id|nodeid_t
id|node
comma
id|u64
id|addr
comma
id|quadlet_t
op_star
id|buffer
comma
r_int
id|length
)paren
suffix:semicolon
r_struct
id|hpsb_packet
op_star
id|hpsb_make_streampacket
c_func
(paren
r_struct
id|hpsb_host
op_star
id|host
comma
id|u8
op_star
id|buffer
comma
r_int
id|length
comma
r_int
id|channel
comma
r_int
id|tag
comma
r_int
id|sync
)paren
suffix:semicolon
multiline_comment|/*&n; * hpsb_packet_success - Make sense of the ack and reply codes and&n; * return more convenient error codes:&n; * 0           success&n; * -EBUSY      node is busy, try again&n; * -EAGAIN     error which can probably resolved by retry&n; * -EREMOTEIO  node suffers from an internal error&n; * -EACCES     this transaction is not allowed on requested address&n; * -EINVAL     invalid address at node&n; */
r_int
id|hpsb_packet_success
c_func
(paren
r_struct
id|hpsb_packet
op_star
id|packet
)paren
suffix:semicolon
multiline_comment|/*&n; * The generic read, write and lock functions.  All recognize the local node ID&n; * and act accordingly.  Read and write automatically use quadlet commands if&n; * length == 4 and and block commands otherwise (however, they do not yet&n; * support lengths that are not a multiple of 4).  You must explicitly specifiy&n; * the generation for which the node ID is valid, to avoid sending packets to&n; * the wrong nodes when we race with a bus reset.&n; */
r_int
id|hpsb_read
c_func
(paren
r_struct
id|hpsb_host
op_star
id|host
comma
id|nodeid_t
id|node
comma
r_int
r_int
id|generation
comma
id|u64
id|addr
comma
id|quadlet_t
op_star
id|buffer
comma
r_int
id|length
)paren
suffix:semicolon
r_int
id|hpsb_write
c_func
(paren
r_struct
id|hpsb_host
op_star
id|host
comma
id|nodeid_t
id|node
comma
r_int
r_int
id|generation
comma
id|u64
id|addr
comma
id|quadlet_t
op_star
id|buffer
comma
r_int
id|length
)paren
suffix:semicolon
r_int
id|hpsb_lock
c_func
(paren
r_struct
id|hpsb_host
op_star
id|host
comma
id|nodeid_t
id|node
comma
r_int
r_int
id|generation
comma
id|u64
id|addr
comma
r_int
id|extcode
comma
id|quadlet_t
op_star
id|data
comma
id|quadlet_t
id|arg
)paren
suffix:semicolon
r_int
id|hpsb_lock64
c_func
(paren
r_struct
id|hpsb_host
op_star
id|host
comma
id|nodeid_t
id|node
comma
r_int
r_int
id|generation
comma
id|u64
id|addr
comma
r_int
id|extcode
comma
id|octlet_t
op_star
id|data
comma
id|octlet_t
id|arg
)paren
suffix:semicolon
r_int
id|hpsb_send_gasp
c_func
(paren
r_struct
id|hpsb_host
op_star
id|host
comma
r_int
id|channel
comma
r_int
r_int
id|generation
comma
id|quadlet_t
op_star
id|buffer
comma
r_int
id|length
comma
id|u32
id|specifier_id
comma
r_int
r_int
id|version
)paren
suffix:semicolon
macro_line|#endif /* _IEEE1394_TRANSACTIONS_H */
eof
