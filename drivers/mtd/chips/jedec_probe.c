multiline_comment|/* &n;   Common Flash Interface probe code.&n;   (C) 2000 Red Hat. GPL&squot;d.&n;   $Id: jedec_probe.c,v 1.59 2004/11/17 09:46:24 dvrabel Exp $&n;   See JEDEC (http://www.jedec.org/) standard JESD21C (section 3.5)&n;   for the standard this probe goes back to.&n;&n;   Occasionally maintained by Thayne Harbaugh tharbaugh at lnxi dot com&n;*/
macro_line|#include &lt;linux/config.h&gt;
macro_line|#include &lt;linux/module.h&gt;
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;linux/types.h&gt;
macro_line|#include &lt;linux/kernel.h&gt;
macro_line|#include &lt;asm/io.h&gt;
macro_line|#include &lt;asm/byteorder.h&gt;
macro_line|#include &lt;linux/errno.h&gt;
macro_line|#include &lt;linux/slab.h&gt;
macro_line|#include &lt;linux/interrupt.h&gt;
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;linux/mtd/mtd.h&gt;
macro_line|#include &lt;linux/mtd/map.h&gt;
macro_line|#include &lt;linux/mtd/cfi.h&gt;
macro_line|#include &lt;linux/mtd/gen_probe.h&gt;
multiline_comment|/* Manufacturers */
DECL|macro|MANUFACTURER_AMD
mdefine_line|#define MANUFACTURER_AMD&t;0x0001
DECL|macro|MANUFACTURER_ATMEL
mdefine_line|#define MANUFACTURER_ATMEL&t;0x001f
DECL|macro|MANUFACTURER_FUJITSU
mdefine_line|#define MANUFACTURER_FUJITSU&t;0x0004
DECL|macro|MANUFACTURER_HYUNDAI
mdefine_line|#define MANUFACTURER_HYUNDAI&t;0x00AD
DECL|macro|MANUFACTURER_INTEL
mdefine_line|#define MANUFACTURER_INTEL&t;0x0089
DECL|macro|MANUFACTURER_MACRONIX
mdefine_line|#define MANUFACTURER_MACRONIX&t;0x00C2
DECL|macro|MANUFACTURER_PMC
mdefine_line|#define MANUFACTURER_PMC&t;0x009D
DECL|macro|MANUFACTURER_SST
mdefine_line|#define MANUFACTURER_SST&t;0x00BF
DECL|macro|MANUFACTURER_ST
mdefine_line|#define MANUFACTURER_ST&t;&t;0x0020
DECL|macro|MANUFACTURER_TOSHIBA
mdefine_line|#define MANUFACTURER_TOSHIBA&t;0x0098
DECL|macro|MANUFACTURER_WINBOND
mdefine_line|#define MANUFACTURER_WINBOND&t;0x00da
multiline_comment|/* AMD */
DECL|macro|AM29DL800BB
mdefine_line|#define AM29DL800BB&t;0x22C8
DECL|macro|AM29DL800BT
mdefine_line|#define AM29DL800BT&t;0x224A
DECL|macro|AM29F800BB
mdefine_line|#define AM29F800BB&t;0x2258
DECL|macro|AM29F800BT
mdefine_line|#define AM29F800BT&t;0x22D6
DECL|macro|AM29LV400BB
mdefine_line|#define AM29LV400BB&t;0x22BA
DECL|macro|AM29LV400BT
mdefine_line|#define AM29LV400BT&t;0x22B9
DECL|macro|AM29LV800BB
mdefine_line|#define AM29LV800BB&t;0x225B
DECL|macro|AM29LV800BT
mdefine_line|#define AM29LV800BT&t;0x22DA
DECL|macro|AM29LV160DT
mdefine_line|#define AM29LV160DT&t;0x22C4
DECL|macro|AM29LV160DB
mdefine_line|#define AM29LV160DB&t;0x2249
DECL|macro|AM29F017D
mdefine_line|#define AM29F017D&t;0x003D
DECL|macro|AM29F016D
mdefine_line|#define AM29F016D&t;0x00AD
DECL|macro|AM29F080
mdefine_line|#define AM29F080&t;0x00D5
DECL|macro|AM29F040
mdefine_line|#define AM29F040&t;0x00A4
DECL|macro|AM29LV040B
mdefine_line|#define AM29LV040B&t;0x004F
DECL|macro|AM29F032B
mdefine_line|#define AM29F032B&t;0x0041
DECL|macro|AM29F002T
mdefine_line|#define AM29F002T&t;0x00B0
multiline_comment|/* Atmel */
DECL|macro|AT49BV512
mdefine_line|#define AT49BV512&t;0x0003
DECL|macro|AT29LV512
mdefine_line|#define AT29LV512&t;0x003d
DECL|macro|AT49BV16X
mdefine_line|#define AT49BV16X&t;0x00C0
DECL|macro|AT49BV16XT
mdefine_line|#define AT49BV16XT&t;0x00C2
DECL|macro|AT49BV32X
mdefine_line|#define AT49BV32X&t;0x00C8
DECL|macro|AT49BV32XT
mdefine_line|#define AT49BV32XT&t;0x00C9
multiline_comment|/* Fujitsu */
DECL|macro|MBM29F040C
mdefine_line|#define MBM29F040C&t;0x00A4
DECL|macro|MBM29LV650UE
mdefine_line|#define MBM29LV650UE&t;0x22D7
DECL|macro|MBM29LV320TE
mdefine_line|#define MBM29LV320TE&t;0x22F6
DECL|macro|MBM29LV320BE
mdefine_line|#define MBM29LV320BE&t;0x22F9
DECL|macro|MBM29LV160TE
mdefine_line|#define MBM29LV160TE&t;0x22C4
DECL|macro|MBM29LV160BE
mdefine_line|#define MBM29LV160BE&t;0x2249
DECL|macro|MBM29LV800BA
mdefine_line|#define MBM29LV800BA&t;0x225B
DECL|macro|MBM29LV800TA
mdefine_line|#define MBM29LV800TA&t;0x22DA
DECL|macro|MBM29LV400TC
mdefine_line|#define MBM29LV400TC&t;0x22B9
DECL|macro|MBM29LV400BC
mdefine_line|#define MBM29LV400BC&t;0x22BA
multiline_comment|/* Hyundai */
DECL|macro|HY29F002T
mdefine_line|#define HY29F002T&t;0x00B0
multiline_comment|/* Intel */
DECL|macro|I28F004B3T
mdefine_line|#define I28F004B3T&t;0x00d4
DECL|macro|I28F004B3B
mdefine_line|#define I28F004B3B&t;0x00d5
DECL|macro|I28F400B3T
mdefine_line|#define I28F400B3T&t;0x8894
DECL|macro|I28F400B3B
mdefine_line|#define I28F400B3B&t;0x8895
DECL|macro|I28F008S5
mdefine_line|#define I28F008S5&t;0x00a6
DECL|macro|I28F016S5
mdefine_line|#define I28F016S5&t;0x00a0
DECL|macro|I28F008SA
mdefine_line|#define I28F008SA&t;0x00a2
DECL|macro|I28F008B3T
mdefine_line|#define I28F008B3T&t;0x00d2
DECL|macro|I28F008B3B
mdefine_line|#define I28F008B3B&t;0x00d3
DECL|macro|I28F800B3T
mdefine_line|#define I28F800B3T&t;0x8892
DECL|macro|I28F800B3B
mdefine_line|#define I28F800B3B&t;0x8893
DECL|macro|I28F016S3
mdefine_line|#define I28F016S3&t;0x00aa
DECL|macro|I28F016B3T
mdefine_line|#define I28F016B3T&t;0x00d0
DECL|macro|I28F016B3B
mdefine_line|#define I28F016B3B&t;0x00d1
DECL|macro|I28F160B3T
mdefine_line|#define I28F160B3T&t;0x8890
DECL|macro|I28F160B3B
mdefine_line|#define I28F160B3B&t;0x8891
DECL|macro|I28F320B3T
mdefine_line|#define I28F320B3T&t;0x8896
DECL|macro|I28F320B3B
mdefine_line|#define I28F320B3B&t;0x8897
DECL|macro|I28F640B3T
mdefine_line|#define I28F640B3T&t;0x8898
DECL|macro|I28F640B3B
mdefine_line|#define I28F640B3B&t;0x8899
DECL|macro|I82802AB
mdefine_line|#define I82802AB&t;0x00ad
DECL|macro|I82802AC
mdefine_line|#define I82802AC&t;0x00ac
multiline_comment|/* Macronix */
DECL|macro|MX29LV040C
mdefine_line|#define MX29LV040C&t;0x004F
DECL|macro|MX29LV160T
mdefine_line|#define MX29LV160T&t;0x22C4
DECL|macro|MX29LV160B
mdefine_line|#define MX29LV160B&t;0x2249
DECL|macro|MX29F016
mdefine_line|#define MX29F016&t;0x00AD
DECL|macro|MX29F002T
mdefine_line|#define MX29F002T&t;0x00B0
DECL|macro|MX29F004T
mdefine_line|#define MX29F004T&t;0x0045
DECL|macro|MX29F004B
mdefine_line|#define MX29F004B&t;0x0046
multiline_comment|/* PMC */
DECL|macro|PM49FL002
mdefine_line|#define PM49FL002&t;0x006D
DECL|macro|PM49FL004
mdefine_line|#define PM49FL004&t;0x006E
DECL|macro|PM49FL008
mdefine_line|#define PM49FL008&t;0x006A
multiline_comment|/* ST - www.st.com */
DECL|macro|M29W800DT
mdefine_line|#define M29W800DT&t;0x00D7
DECL|macro|M29W800DB
mdefine_line|#define M29W800DB&t;0x005B
DECL|macro|M29W160DT
mdefine_line|#define M29W160DT&t;0x22C4
DECL|macro|M29W160DB
mdefine_line|#define M29W160DB&t;0x2249
DECL|macro|M29W040B
mdefine_line|#define M29W040B&t;0x00E3
DECL|macro|M50FW040
mdefine_line|#define M50FW040&t;0x002C
DECL|macro|M50FW080
mdefine_line|#define M50FW080&t;0x002D
DECL|macro|M50FW016
mdefine_line|#define M50FW016&t;0x002E
DECL|macro|M50LPW080
mdefine_line|#define M50LPW080       0x002F
multiline_comment|/* SST */
DECL|macro|SST29EE020
mdefine_line|#define SST29EE020&t;0x0010
DECL|macro|SST29LE020
mdefine_line|#define SST29LE020&t;0x0012
DECL|macro|SST29EE512
mdefine_line|#define SST29EE512&t;0x005d
DECL|macro|SST29LE512
mdefine_line|#define SST29LE512&t;0x003d
DECL|macro|SST39LF800
mdefine_line|#define SST39LF800&t;0x2781
DECL|macro|SST39LF160
mdefine_line|#define SST39LF160&t;0x2782
DECL|macro|SST39LF512
mdefine_line|#define SST39LF512&t;0x00D4
DECL|macro|SST39LF010
mdefine_line|#define SST39LF010&t;0x00D5
DECL|macro|SST39LF020
mdefine_line|#define SST39LF020&t;0x00D6
DECL|macro|SST39LF040
mdefine_line|#define SST39LF040&t;0x00D7
DECL|macro|SST39SF010A
mdefine_line|#define SST39SF010A&t;0x00B5
DECL|macro|SST39SF020A
mdefine_line|#define SST39SF020A&t;0x00B6
DECL|macro|SST49LF004B
mdefine_line|#define SST49LF004B&t;0x0060
DECL|macro|SST49LF008A
mdefine_line|#define SST49LF008A&t;0x005a
DECL|macro|SST49LF030A
mdefine_line|#define SST49LF030A&t;0x001C
DECL|macro|SST49LF040A
mdefine_line|#define SST49LF040A&t;0x0051
DECL|macro|SST49LF080A
mdefine_line|#define SST49LF080A&t;0x005B
multiline_comment|/* Toshiba */
DECL|macro|TC58FVT160
mdefine_line|#define TC58FVT160&t;0x00C2
DECL|macro|TC58FVB160
mdefine_line|#define TC58FVB160&t;0x0043
DECL|macro|TC58FVT321
mdefine_line|#define TC58FVT321&t;0x009A
DECL|macro|TC58FVB321
mdefine_line|#define TC58FVB321&t;0x009C
DECL|macro|TC58FVT641
mdefine_line|#define TC58FVT641&t;0x0093
DECL|macro|TC58FVB641
mdefine_line|#define TC58FVB641&t;0x0095
multiline_comment|/* Winbond */
DECL|macro|W49V002A
mdefine_line|#define W49V002A&t;0x00b0
multiline_comment|/*&n; * Unlock address sets for AMD command sets.&n; * Intel command sets use the MTD_UADDR_UNNECESSARY.&n; * Each identifier, except MTD_UADDR_UNNECESSARY, and&n; * MTD_UADDR_NO_SUPPORT must be defined below in unlock_addrs[].&n; * MTD_UADDR_NOT_SUPPORTED must be 0 so that structure&n; * initialization need not require initializing all of the&n; * unlock addresses for all bit widths.&n; */
DECL|enum|uaddr
r_enum
id|uaddr
(brace
DECL|enumerator|MTD_UADDR_NOT_SUPPORTED
id|MTD_UADDR_NOT_SUPPORTED
op_assign
l_int|0
comma
multiline_comment|/* data width not supported */
DECL|enumerator|MTD_UADDR_0x0555_0x02AA
id|MTD_UADDR_0x0555_0x02AA
comma
DECL|enumerator|MTD_UADDR_0x0555_0x0AAA
id|MTD_UADDR_0x0555_0x0AAA
comma
DECL|enumerator|MTD_UADDR_0x5555_0x2AAA
id|MTD_UADDR_0x5555_0x2AAA
comma
DECL|enumerator|MTD_UADDR_0x0AAA_0x0555
id|MTD_UADDR_0x0AAA_0x0555
comma
DECL|enumerator|MTD_UADDR_DONT_CARE
id|MTD_UADDR_DONT_CARE
comma
multiline_comment|/* Requires an arbitrary address */
DECL|enumerator|MTD_UADDR_UNNECESSARY
id|MTD_UADDR_UNNECESSARY
comma
multiline_comment|/* Does not require any address */
)brace
suffix:semicolon
DECL|struct|unlock_addr
r_struct
id|unlock_addr
(brace
DECL|member|addr1
id|u32
id|addr1
suffix:semicolon
DECL|member|addr2
id|u32
id|addr2
suffix:semicolon
)brace
suffix:semicolon
multiline_comment|/*&n; * I don&squot;t like the fact that the first entry in unlock_addrs[]&n; * exists, but is for MTD_UADDR_NOT_SUPPORTED - and, therefore,&n; * should not be used.  The  problem is that structures with&n; * initializers have extra fields initialized to 0.  It is _very_&n; * desireable to have the unlock address entries for unsupported&n; * data widths automatically initialized - that means that&n; * MTD_UADDR_NOT_SUPPORTED must be 0 and the first entry here&n; * must go unused.&n; */
DECL|variable|unlock_addrs
r_static
r_const
r_struct
id|unlock_addr
id|unlock_addrs
(braket
)braket
op_assign
(brace
(braket
id|MTD_UADDR_NOT_SUPPORTED
)braket
op_assign
(brace
dot
id|addr1
op_assign
l_int|0xffff
comma
dot
id|addr2
op_assign
l_int|0xffff
)brace
comma
(braket
id|MTD_UADDR_0x0555_0x02AA
)braket
op_assign
(brace
dot
id|addr1
op_assign
l_int|0x0555
comma
dot
id|addr2
op_assign
l_int|0x02aa
)brace
comma
(braket
id|MTD_UADDR_0x0555_0x0AAA
)braket
op_assign
(brace
dot
id|addr1
op_assign
l_int|0x0555
comma
dot
id|addr2
op_assign
l_int|0x0aaa
)brace
comma
(braket
id|MTD_UADDR_0x5555_0x2AAA
)braket
op_assign
(brace
dot
id|addr1
op_assign
l_int|0x5555
comma
dot
id|addr2
op_assign
l_int|0x2aaa
)brace
comma
(braket
id|MTD_UADDR_0x0AAA_0x0555
)braket
op_assign
(brace
dot
id|addr1
op_assign
l_int|0x0AAA
comma
dot
id|addr2
op_assign
l_int|0x0555
)brace
comma
(braket
id|MTD_UADDR_DONT_CARE
)braket
op_assign
(brace
dot
id|addr1
op_assign
l_int|0x0000
comma
multiline_comment|/* Doesn&squot;t matter which address */
dot
id|addr2
op_assign
l_int|0x0000
multiline_comment|/* is used - must be last entry */
)brace
)brace
suffix:semicolon
DECL|struct|amd_flash_info
r_struct
id|amd_flash_info
(brace
DECL|member|mfr_id
r_const
id|__u16
id|mfr_id
suffix:semicolon
DECL|member|dev_id
r_const
id|__u16
id|dev_id
suffix:semicolon
DECL|member|name
r_const
r_char
op_star
id|name
suffix:semicolon
DECL|member|DevSize
r_const
r_int
id|DevSize
suffix:semicolon
DECL|member|NumEraseRegions
r_const
r_int
id|NumEraseRegions
suffix:semicolon
DECL|member|CmdSet
r_const
r_int
id|CmdSet
suffix:semicolon
DECL|member|uaddr
r_const
id|__u8
id|uaddr
(braket
l_int|4
)braket
suffix:semicolon
multiline_comment|/* unlock addrs for 8, 16, 32, 64 */
DECL|member|regions
r_const
id|ulong
id|regions
(braket
l_int|6
)braket
suffix:semicolon
)brace
suffix:semicolon
DECL|macro|ERASEINFO
mdefine_line|#define ERASEINFO(size,blocks) (size&lt;&lt;8)|(blocks-1)
DECL|macro|SIZE_64KiB
mdefine_line|#define SIZE_64KiB  16
DECL|macro|SIZE_128KiB
mdefine_line|#define SIZE_128KiB 17
DECL|macro|SIZE_256KiB
mdefine_line|#define SIZE_256KiB 18
DECL|macro|SIZE_512KiB
mdefine_line|#define SIZE_512KiB 19
DECL|macro|SIZE_1MiB
mdefine_line|#define SIZE_1MiB   20
DECL|macro|SIZE_2MiB
mdefine_line|#define SIZE_2MiB   21
DECL|macro|SIZE_4MiB
mdefine_line|#define SIZE_4MiB   22
DECL|macro|SIZE_8MiB
mdefine_line|#define SIZE_8MiB   23
multiline_comment|/*&n; * Please keep this list ordered by manufacturer!&n; * Fortunately, the list isn&squot;t searched often and so a&n; * slow, linear search isn&squot;t so bad.&n; */
DECL|variable|jedec_table
r_static
r_const
r_struct
id|amd_flash_info
id|jedec_table
(braket
)braket
op_assign
(brace
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_AMD
comma
dot
id|dev_id
op_assign
id|AM29F032B
comma
dot
id|name
op_assign
l_string|&quot;AMD AM29F032B&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_4MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|64
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_AMD
comma
dot
id|dev_id
op_assign
id|AM29LV160DT
comma
dot
id|name
op_assign
l_string|&quot;AMD AM29LV160DT&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0AAA_0x0555
comma
multiline_comment|/* x8 */
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_2MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|4
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|31
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x08000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|2
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x04000
comma
l_int|1
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_AMD
comma
dot
id|dev_id
op_assign
id|AM29LV160DB
comma
dot
id|name
op_assign
l_string|&quot;AMD AM29LV160DB&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0AAA_0x0555
comma
multiline_comment|/* x8 */
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_2MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|4
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x04000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|2
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x08000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|31
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_AMD
comma
dot
id|dev_id
op_assign
id|AM29LV400BB
comma
dot
id|name
op_assign
l_string|&quot;AMD AM29LV400BB&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0AAA_0x0555
comma
multiline_comment|/* x8 */
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
comma
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_512KiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|4
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x04000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|2
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x08000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|7
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_AMD
comma
dot
id|dev_id
op_assign
id|AM29LV400BT
comma
dot
id|name
op_assign
l_string|&quot;AMD AM29LV400BT&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0AAA_0x0555
comma
multiline_comment|/* x8 */
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
comma
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_512KiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|4
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|7
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x08000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|2
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x04000
comma
l_int|1
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_AMD
comma
dot
id|dev_id
op_assign
id|AM29LV800BB
comma
dot
id|name
op_assign
l_string|&quot;AMD AM29LV800BB&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0AAA_0x0555
comma
multiline_comment|/* x8 */
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
comma
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_1MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|4
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x04000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|2
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x08000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|15
)paren
comma
)brace
)brace
comma
(brace
multiline_comment|/* add DL */
dot
id|mfr_id
op_assign
id|MANUFACTURER_AMD
comma
dot
id|dev_id
op_assign
id|AM29DL800BB
comma
dot
id|name
op_assign
l_string|&quot;AMD AM29DL800BB&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0AAA_0x0555
comma
multiline_comment|/* x8 */
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
comma
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_1MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|6
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x04000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x08000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|4
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x08000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x04000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|14
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_AMD
comma
dot
id|dev_id
op_assign
id|AM29DL800BT
comma
dot
id|name
op_assign
l_string|&quot;AMD AM29DL800BT&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0AAA_0x0555
comma
multiline_comment|/* x8 */
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
comma
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_1MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|6
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|14
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x04000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x08000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|4
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x08000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x04000
comma
l_int|1
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_AMD
comma
dot
id|dev_id
op_assign
id|AM29F800BB
comma
dot
id|name
op_assign
l_string|&quot;AMD AM29F800BB&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0AAA_0x0555
comma
multiline_comment|/* x8 */
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
comma
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_1MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|4
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x04000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|2
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x08000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|15
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_AMD
comma
dot
id|dev_id
op_assign
id|AM29LV800BT
comma
dot
id|name
op_assign
l_string|&quot;AMD AM29LV800BT&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0AAA_0x0555
comma
multiline_comment|/* x8 */
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
comma
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_1MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|4
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|15
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x08000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|2
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x04000
comma
l_int|1
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_AMD
comma
dot
id|dev_id
op_assign
id|AM29F800BT
comma
dot
id|name
op_assign
l_string|&quot;AMD AM29F800BT&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0AAA_0x0555
comma
multiline_comment|/* x8 */
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
comma
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_1MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|4
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|15
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x08000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|2
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x04000
comma
l_int|1
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_AMD
comma
dot
id|dev_id
op_assign
id|AM29F017D
comma
dot
id|name
op_assign
l_string|&quot;AMD AM29F017D&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_DONT_CARE
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_2MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|32
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_AMD
comma
dot
id|dev_id
op_assign
id|AM29F016D
comma
dot
id|name
op_assign
l_string|&quot;AMD AM29F016D&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_2MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|32
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_AMD
comma
dot
id|dev_id
op_assign
id|AM29F080
comma
dot
id|name
op_assign
l_string|&quot;AMD AM29F080&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_1MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|16
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_AMD
comma
dot
id|dev_id
op_assign
id|AM29F040
comma
dot
id|name
op_assign
l_string|&quot;AMD AM29F040&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_512KiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|8
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_AMD
comma
dot
id|dev_id
op_assign
id|AM29LV040B
comma
dot
id|name
op_assign
l_string|&quot;AMD AM29LV040B&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_512KiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|8
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_AMD
comma
dot
id|dev_id
op_assign
id|AM29F002T
comma
dot
id|name
op_assign
l_string|&quot;AMD AM29F002T&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_256KiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|4
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|3
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x08000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|2
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x04000
comma
l_int|1
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_ATMEL
comma
dot
id|dev_id
op_assign
id|AT49BV512
comma
dot
id|name
op_assign
l_string|&quot;Atmel AT49BV512&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x5555_0x2AAA
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_64KiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|1
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_ATMEL
comma
dot
id|dev_id
op_assign
id|AT29LV512
comma
dot
id|name
op_assign
l_string|&quot;Atmel AT29LV512&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x5555_0x2AAA
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_64KiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x80
comma
l_int|256
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x80
comma
l_int|256
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_ATMEL
comma
dot
id|dev_id
op_assign
id|AT49BV16X
comma
dot
id|name
op_assign
l_string|&quot;Atmel AT49BV16X&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0555_0x0AAA
comma
multiline_comment|/* x8 */
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_0x0555_0x0AAA
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_2MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|2
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|8
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|31
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_ATMEL
comma
dot
id|dev_id
op_assign
id|AT49BV16XT
comma
dot
id|name
op_assign
l_string|&quot;Atmel AT49BV16XT&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0555_0x0AAA
comma
multiline_comment|/* x8 */
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_0x0555_0x0AAA
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_2MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|2
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|31
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|8
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_ATMEL
comma
dot
id|dev_id
op_assign
id|AT49BV32X
comma
dot
id|name
op_assign
l_string|&quot;Atmel AT49BV32X&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0555_0x0AAA
comma
multiline_comment|/* x8 */
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_0x0555_0x0AAA
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_4MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|2
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|8
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|63
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_ATMEL
comma
dot
id|dev_id
op_assign
id|AT49BV32XT
comma
dot
id|name
op_assign
l_string|&quot;Atmel AT49BV32XT&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0555_0x0AAA
comma
multiline_comment|/* x8 */
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_0x0555_0x0AAA
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_4MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|2
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|63
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|8
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_FUJITSU
comma
dot
id|dev_id
op_assign
id|MBM29F040C
comma
dot
id|name
op_assign
l_string|&quot;Fujitsu MBM29F040C&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0AAA_0x0555
comma
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_512KiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|8
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_FUJITSU
comma
dot
id|dev_id
op_assign
id|MBM29LV650UE
comma
dot
id|name
op_assign
l_string|&quot;Fujitsu MBM29LV650UE&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_DONT_CARE
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_8MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|128
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_FUJITSU
comma
dot
id|dev_id
op_assign
id|MBM29LV320TE
comma
dot
id|name
op_assign
l_string|&quot;Fujitsu MBM29LV320TE&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0AAA_0x0555
comma
multiline_comment|/* x8 */
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
comma
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_4MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|2
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|63
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|8
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_FUJITSU
comma
dot
id|dev_id
op_assign
id|MBM29LV320BE
comma
dot
id|name
op_assign
l_string|&quot;Fujitsu MBM29LV320BE&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0AAA_0x0555
comma
multiline_comment|/* x8 */
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
comma
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_4MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|2
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|8
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|63
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_FUJITSU
comma
dot
id|dev_id
op_assign
id|MBM29LV160TE
comma
dot
id|name
op_assign
l_string|&quot;Fujitsu MBM29LV160TE&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0AAA_0x0555
comma
multiline_comment|/* x8 */
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
comma
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_2MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|4
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|31
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x08000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|2
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x04000
comma
l_int|1
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_FUJITSU
comma
dot
id|dev_id
op_assign
id|MBM29LV160BE
comma
dot
id|name
op_assign
l_string|&quot;Fujitsu MBM29LV160BE&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0AAA_0x0555
comma
multiline_comment|/* x8 */
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
comma
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_2MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|4
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x04000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|2
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x08000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|31
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_FUJITSU
comma
dot
id|dev_id
op_assign
id|MBM29LV800BA
comma
dot
id|name
op_assign
l_string|&quot;Fujitsu MBM29LV800BA&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0AAA_0x0555
comma
multiline_comment|/* x8 */
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
comma
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_1MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|4
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x04000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|2
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x08000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|15
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_FUJITSU
comma
dot
id|dev_id
op_assign
id|MBM29LV800TA
comma
dot
id|name
op_assign
l_string|&quot;Fujitsu MBM29LV800TA&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0AAA_0x0555
comma
multiline_comment|/* x8 */
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
comma
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_1MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|4
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|15
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x08000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|2
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x04000
comma
l_int|1
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_FUJITSU
comma
dot
id|dev_id
op_assign
id|MBM29LV400BC
comma
dot
id|name
op_assign
l_string|&quot;Fujitsu MBM29LV400BC&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0AAA_0x0555
comma
multiline_comment|/* x8 */
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
comma
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_512KiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|4
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x04000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|2
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x08000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|7
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_FUJITSU
comma
dot
id|dev_id
op_assign
id|MBM29LV400TC
comma
dot
id|name
op_assign
l_string|&quot;Fujitsu MBM29LV400TC&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0AAA_0x0555
comma
multiline_comment|/* x8 */
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
comma
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_512KiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|4
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|7
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x08000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|2
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x04000
comma
l_int|1
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_HYUNDAI
comma
dot
id|dev_id
op_assign
id|HY29F002T
comma
dot
id|name
op_assign
l_string|&quot;Hyundai HY29F002T&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_256KiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|4
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|3
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x08000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|2
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x04000
comma
l_int|1
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_INTEL
comma
dot
id|dev_id
op_assign
id|I28F004B3B
comma
dot
id|name
op_assign
l_string|&quot;Intel 28F004B3B&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_UNNECESSARY
comma
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_512KiB
comma
dot
id|CmdSet
op_assign
id|P_ID_INTEL_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|2
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|8
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|7
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_INTEL
comma
dot
id|dev_id
op_assign
id|I28F004B3T
comma
dot
id|name
op_assign
l_string|&quot;Intel 28F004B3T&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_UNNECESSARY
comma
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_512KiB
comma
dot
id|CmdSet
op_assign
id|P_ID_INTEL_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|2
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|7
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|8
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_INTEL
comma
dot
id|dev_id
op_assign
id|I28F400B3B
comma
dot
id|name
op_assign
l_string|&quot;Intel 28F400B3B&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_UNNECESSARY
comma
multiline_comment|/* x8 */
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_UNNECESSARY
comma
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_512KiB
comma
dot
id|CmdSet
op_assign
id|P_ID_INTEL_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|2
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|8
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|7
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_INTEL
comma
dot
id|dev_id
op_assign
id|I28F400B3T
comma
dot
id|name
op_assign
l_string|&quot;Intel 28F400B3T&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_UNNECESSARY
comma
multiline_comment|/* x8 */
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_UNNECESSARY
comma
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_512KiB
comma
dot
id|CmdSet
op_assign
id|P_ID_INTEL_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|2
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|7
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|8
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_INTEL
comma
dot
id|dev_id
op_assign
id|I28F008B3B
comma
dot
id|name
op_assign
l_string|&quot;Intel 28F008B3B&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_UNNECESSARY
comma
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_1MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_INTEL_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|2
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|8
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|15
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_INTEL
comma
dot
id|dev_id
op_assign
id|I28F008B3T
comma
dot
id|name
op_assign
l_string|&quot;Intel 28F008B3T&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_UNNECESSARY
comma
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_1MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_INTEL_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|2
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|15
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|8
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_INTEL
comma
dot
id|dev_id
op_assign
id|I28F008S5
comma
dot
id|name
op_assign
l_string|&quot;Intel 28F008S5&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_UNNECESSARY
comma
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_1MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_INTEL_EXT
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|16
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_INTEL
comma
dot
id|dev_id
op_assign
id|I28F016S5
comma
dot
id|name
op_assign
l_string|&quot;Intel 28F016S5&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_UNNECESSARY
comma
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_2MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_INTEL_EXT
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|32
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_INTEL
comma
dot
id|dev_id
op_assign
id|I28F008SA
comma
dot
id|name
op_assign
l_string|&quot;Intel 28F008SA&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_UNNECESSARY
comma
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_1MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_INTEL_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|16
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_INTEL
comma
dot
id|dev_id
op_assign
id|I28F800B3B
comma
dot
id|name
op_assign
l_string|&quot;Intel 28F800B3B&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_UNNECESSARY
comma
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_1MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_INTEL_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|2
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|8
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|15
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_INTEL
comma
dot
id|dev_id
op_assign
id|I28F800B3T
comma
dot
id|name
op_assign
l_string|&quot;Intel 28F800B3T&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_UNNECESSARY
comma
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_1MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_INTEL_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|2
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|15
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|8
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_INTEL
comma
dot
id|dev_id
op_assign
id|I28F016B3B
comma
dot
id|name
op_assign
l_string|&quot;Intel 28F016B3B&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_UNNECESSARY
comma
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_2MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_INTEL_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|2
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|8
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|31
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_INTEL
comma
dot
id|dev_id
op_assign
id|I28F016S3
comma
dot
id|name
op_assign
l_string|&quot;Intel I28F016S3&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_UNNECESSARY
comma
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_2MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_INTEL_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|32
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_INTEL
comma
dot
id|dev_id
op_assign
id|I28F016B3T
comma
dot
id|name
op_assign
l_string|&quot;Intel 28F016B3T&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_UNNECESSARY
comma
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_2MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_INTEL_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|2
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|31
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|8
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_INTEL
comma
dot
id|dev_id
op_assign
id|I28F160B3B
comma
dot
id|name
op_assign
l_string|&quot;Intel 28F160B3B&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_UNNECESSARY
comma
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_2MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_INTEL_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|2
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|8
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|31
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_INTEL
comma
dot
id|dev_id
op_assign
id|I28F160B3T
comma
dot
id|name
op_assign
l_string|&quot;Intel 28F160B3T&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_UNNECESSARY
comma
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_2MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_INTEL_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|2
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|31
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|8
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_INTEL
comma
dot
id|dev_id
op_assign
id|I28F320B3B
comma
dot
id|name
op_assign
l_string|&quot;Intel 28F320B3B&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_UNNECESSARY
comma
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_4MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_INTEL_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|2
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|8
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|63
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_INTEL
comma
dot
id|dev_id
op_assign
id|I28F320B3T
comma
dot
id|name
op_assign
l_string|&quot;Intel 28F320B3T&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_UNNECESSARY
comma
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_4MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_INTEL_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|2
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|63
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|8
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_INTEL
comma
dot
id|dev_id
op_assign
id|I28F640B3B
comma
dot
id|name
op_assign
l_string|&quot;Intel 28F640B3B&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_UNNECESSARY
comma
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_8MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_INTEL_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|2
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|8
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|127
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_INTEL
comma
dot
id|dev_id
op_assign
id|I28F640B3T
comma
dot
id|name
op_assign
l_string|&quot;Intel 28F640B3T&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_UNNECESSARY
comma
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_8MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_INTEL_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|2
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|127
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|8
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_INTEL
comma
dot
id|dev_id
op_assign
id|I82802AB
comma
dot
id|name
op_assign
l_string|&quot;Intel 82802AB&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_UNNECESSARY
comma
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_512KiB
comma
dot
id|CmdSet
op_assign
id|P_ID_INTEL_EXT
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|8
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_INTEL
comma
dot
id|dev_id
op_assign
id|I82802AC
comma
dot
id|name
op_assign
l_string|&quot;Intel 82802AC&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_UNNECESSARY
comma
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_1MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_INTEL_EXT
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|16
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_MACRONIX
comma
dot
id|dev_id
op_assign
id|MX29LV040C
comma
dot
id|name
op_assign
l_string|&quot;Macronix MX29LV040C&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
comma
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_512KiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|8
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_MACRONIX
comma
dot
id|dev_id
op_assign
id|MX29LV160T
comma
dot
id|name
op_assign
l_string|&quot;MXIC MX29LV160T&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0AAA_0x0555
comma
multiline_comment|/* x8 */
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
comma
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_2MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|4
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|31
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x08000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|2
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x04000
comma
l_int|1
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_MACRONIX
comma
dot
id|dev_id
op_assign
id|MX29LV160B
comma
dot
id|name
op_assign
l_string|&quot;MXIC MX29LV160B&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0AAA_0x0555
comma
multiline_comment|/* x8 */
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
comma
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_2MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|4
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x04000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|2
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x08000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|31
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_MACRONIX
comma
dot
id|dev_id
op_assign
id|MX29F016
comma
dot
id|name
op_assign
l_string|&quot;Macronix MX29F016&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_2MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|32
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_MACRONIX
comma
dot
id|dev_id
op_assign
id|MX29F004T
comma
dot
id|name
op_assign
l_string|&quot;Macronix MX29F004T&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_512KiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|4
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|7
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x08000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|2
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x04000
comma
l_int|1
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_MACRONIX
comma
dot
id|dev_id
op_assign
id|MX29F004B
comma
dot
id|name
op_assign
l_string|&quot;Macronix MX29F004B&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_512KiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|4
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x04000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|2
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x08000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|7
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_MACRONIX
comma
dot
id|dev_id
op_assign
id|MX29F002T
comma
dot
id|name
op_assign
l_string|&quot;Macronix MX29F002T&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_256KiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|4
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|3
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x08000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|2
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x04000
comma
l_int|1
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_PMC
comma
dot
id|dev_id
op_assign
id|PM49FL002
comma
dot
id|name
op_assign
l_string|&quot;PMC Pm49FL002&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x5555_0x2AAA
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_256KiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x01000
comma
l_int|64
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_PMC
comma
dot
id|dev_id
op_assign
id|PM49FL004
comma
dot
id|name
op_assign
l_string|&quot;PMC Pm49FL004&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x5555_0x2AAA
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_512KiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x01000
comma
l_int|128
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_PMC
comma
dot
id|dev_id
op_assign
id|PM49FL008
comma
dot
id|name
op_assign
l_string|&quot;PMC Pm49FL008&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x5555_0x2AAA
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_1MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x01000
comma
l_int|256
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_SST
comma
dot
id|dev_id
op_assign
id|SST39LF512
comma
dot
id|name
op_assign
l_string|&quot;SST 39LF512&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x5555_0x2AAA
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_64KiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x01000
comma
l_int|16
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_SST
comma
dot
id|dev_id
op_assign
id|SST39LF010
comma
dot
id|name
op_assign
l_string|&quot;SST 39LF010&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x5555_0x2AAA
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_128KiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x01000
comma
l_int|32
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_SST
comma
dot
id|dev_id
op_assign
id|SST29EE020
comma
dot
id|name
op_assign
l_string|&quot;SST 29EE020&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x5555_0x2AAA
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_256KiB
comma
dot
id|CmdSet
op_assign
id|P_ID_SST_PAGE
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
id|regions
suffix:colon
(brace
id|ERASEINFO
c_func
(paren
l_int|0x01000
comma
l_int|64
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_SST
comma
dot
id|dev_id
op_assign
id|SST29LE020
comma
dot
id|name
op_assign
l_string|&quot;SST 29LE020&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x5555_0x2AAA
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_256KiB
comma
dot
id|CmdSet
op_assign
id|P_ID_SST_PAGE
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
id|regions
suffix:colon
(brace
id|ERASEINFO
c_func
(paren
l_int|0x01000
comma
l_int|64
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_SST
comma
dot
id|dev_id
op_assign
id|SST39LF020
comma
dot
id|name
op_assign
l_string|&quot;SST 39LF020&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x5555_0x2AAA
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_256KiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x01000
comma
l_int|64
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_SST
comma
dot
id|dev_id
op_assign
id|SST39LF040
comma
dot
id|name
op_assign
l_string|&quot;SST 39LF040&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x5555_0x2AAA
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_512KiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x01000
comma
l_int|128
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_SST
comma
dot
id|dev_id
op_assign
id|SST39SF010A
comma
dot
id|name
op_assign
l_string|&quot;SST 39SF010A&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x5555_0x2AAA
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_128KiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x01000
comma
l_int|32
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_SST
comma
dot
id|dev_id
op_assign
id|SST39SF020A
comma
dot
id|name
op_assign
l_string|&quot;SST 39SF020A&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x5555_0x2AAA
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_256KiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x01000
comma
l_int|64
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_SST
comma
dot
id|dev_id
op_assign
id|SST49LF004B
comma
dot
id|name
op_assign
l_string|&quot;SST 49LF004B&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x5555_0x2AAA
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_512KiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x01000
comma
l_int|128
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_SST
comma
dot
id|dev_id
op_assign
id|SST49LF008A
comma
dot
id|name
op_assign
l_string|&quot;SST 49LF008A&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x5555_0x2AAA
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_1MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x01000
comma
l_int|256
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_SST
comma
dot
id|dev_id
op_assign
id|SST49LF030A
comma
dot
id|name
op_assign
l_string|&quot;SST 49LF030A&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x5555_0x2AAA
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_512KiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x01000
comma
l_int|96
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_SST
comma
dot
id|dev_id
op_assign
id|SST49LF040A
comma
dot
id|name
op_assign
l_string|&quot;SST 49LF040A&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x5555_0x2AAA
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_512KiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x01000
comma
l_int|128
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_SST
comma
dot
id|dev_id
op_assign
id|SST49LF080A
comma
dot
id|name
op_assign
l_string|&quot;SST 49LF080A&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x5555_0x2AAA
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_1MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x01000
comma
l_int|256
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_SST
comma
multiline_comment|/* should be CFI */
dot
id|dev_id
op_assign
id|SST39LF160
comma
dot
id|name
op_assign
l_string|&quot;SST 39LF160&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x5555_0x2AAA
comma
multiline_comment|/* x8 */
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_0x5555_0x2AAA
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_2MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|2
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x1000
comma
l_int|256
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x1000
comma
l_int|256
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_ST
comma
multiline_comment|/* FIXME - CFI device? */
dot
id|dev_id
op_assign
id|M29W800DT
comma
dot
id|name
op_assign
l_string|&quot;ST M29W800DT&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x5555_0x2AAA
comma
multiline_comment|/* x8 */
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_0x5555_0x2AAA
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_1MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|4
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|15
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x08000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|2
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x04000
comma
l_int|1
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_ST
comma
multiline_comment|/* FIXME - CFI device? */
dot
id|dev_id
op_assign
id|M29W800DB
comma
dot
id|name
op_assign
l_string|&quot;ST M29W800DB&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x5555_0x2AAA
comma
multiline_comment|/* x8 */
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_0x5555_0x2AAA
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_1MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|4
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x04000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|2
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x08000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|15
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_ST
comma
multiline_comment|/* FIXME - CFI device? */
dot
id|dev_id
op_assign
id|M29W160DT
comma
dot
id|name
op_assign
l_string|&quot;ST M29W160DT&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
comma
multiline_comment|/* x8 */
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
comma
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_2MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|4
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|31
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x08000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|2
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x04000
comma
l_int|1
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_ST
comma
multiline_comment|/* FIXME - CFI device? */
dot
id|dev_id
op_assign
id|M29W160DB
comma
dot
id|name
op_assign
l_string|&quot;ST M29W160DB&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
comma
multiline_comment|/* x8 */
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
comma
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_2MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|4
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x04000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|2
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x08000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|31
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_ST
comma
dot
id|dev_id
op_assign
id|M29W040B
comma
dot
id|name
op_assign
l_string|&quot;ST M29W040B&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_512KiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|8
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_ST
comma
dot
id|dev_id
op_assign
id|M50FW040
comma
dot
id|name
op_assign
l_string|&quot;ST M50FW040&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_UNNECESSARY
comma
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_512KiB
comma
dot
id|CmdSet
op_assign
id|P_ID_INTEL_EXT
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|8
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_ST
comma
dot
id|dev_id
op_assign
id|M50FW080
comma
dot
id|name
op_assign
l_string|&quot;ST M50FW080&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_UNNECESSARY
comma
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_1MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_INTEL_EXT
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|16
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_ST
comma
dot
id|dev_id
op_assign
id|M50FW016
comma
dot
id|name
op_assign
l_string|&quot;ST M50FW016&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_UNNECESSARY
comma
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_2MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_INTEL_EXT
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|32
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_ST
comma
dot
id|dev_id
op_assign
id|M50LPW080
comma
dot
id|name
op_assign
l_string|&quot;ST M50LPW080&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_UNNECESSARY
comma
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_1MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_INTEL_EXT
comma
dot
id|NumEraseRegions
op_assign
l_int|1
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|16
)paren
comma
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_TOSHIBA
comma
dot
id|dev_id
op_assign
id|TC58FVT160
comma
dot
id|name
op_assign
l_string|&quot;Toshiba TC58FVT160&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0AAA_0x0555
comma
multiline_comment|/* x8 */
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_2MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|4
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|31
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x08000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|2
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x04000
comma
l_int|1
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_TOSHIBA
comma
dot
id|dev_id
op_assign
id|TC58FVB160
comma
dot
id|name
op_assign
l_string|&quot;Toshiba TC58FVB160&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0AAA_0x0555
comma
multiline_comment|/* x8 */
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_2MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|4
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x04000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|2
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x08000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|31
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_TOSHIBA
comma
dot
id|dev_id
op_assign
id|TC58FVB321
comma
dot
id|name
op_assign
l_string|&quot;Toshiba TC58FVB321&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0AAA_0x0555
comma
multiline_comment|/* x8 */
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_4MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|2
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|8
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|63
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_TOSHIBA
comma
dot
id|dev_id
op_assign
id|TC58FVT321
comma
dot
id|name
op_assign
l_string|&quot;Toshiba TC58FVT321&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0AAA_0x0555
comma
multiline_comment|/* x8 */
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_4MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|2
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|63
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|8
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_TOSHIBA
comma
dot
id|dev_id
op_assign
id|TC58FVB641
comma
dot
id|name
op_assign
l_string|&quot;Toshiba TC58FVB641&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0AAA_0x0555
comma
multiline_comment|/* x8 */
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
comma
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_8MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|2
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|8
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|127
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_TOSHIBA
comma
dot
id|dev_id
op_assign
id|TC58FVT641
comma
dot
id|name
op_assign
l_string|&quot;Toshiba TC58FVT641&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x0AAA_0x0555
comma
multiline_comment|/* x8 */
(braket
l_int|1
)braket
op_assign
id|MTD_UADDR_0x0555_0x02AA
comma
multiline_comment|/* x16 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_8MiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|2
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|127
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|8
)paren
)brace
)brace
comma
(brace
dot
id|mfr_id
op_assign
id|MANUFACTURER_WINBOND
comma
dot
id|dev_id
op_assign
id|W49V002A
comma
dot
id|name
op_assign
l_string|&quot;Winbond W49V002A&quot;
comma
dot
id|uaddr
op_assign
(brace
(braket
l_int|0
)braket
op_assign
id|MTD_UADDR_0x5555_0x2AAA
multiline_comment|/* x8 */
)brace
comma
dot
id|DevSize
op_assign
id|SIZE_256KiB
comma
dot
id|CmdSet
op_assign
id|P_ID_AMD_STD
comma
dot
id|NumEraseRegions
op_assign
l_int|4
comma
dot
id|regions
op_assign
(brace
id|ERASEINFO
c_func
(paren
l_int|0x10000
comma
l_int|3
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x08000
comma
l_int|1
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x02000
comma
l_int|2
)paren
comma
id|ERASEINFO
c_func
(paren
l_int|0x04000
comma
l_int|1
)paren
comma
)brace
)brace
)brace
suffix:semicolon
r_static
r_int
id|cfi_jedec_setup
c_func
(paren
r_struct
id|cfi_private
op_star
id|p_cfi
comma
r_int
id|index
)paren
suffix:semicolon
r_static
r_int
id|jedec_probe_chip
c_func
(paren
r_struct
id|map_info
op_star
id|map
comma
id|__u32
id|base
comma
r_int
r_int
op_star
id|chip_map
comma
r_struct
id|cfi_private
op_star
id|cfi
)paren
suffix:semicolon
r_static
r_struct
id|mtd_info
op_star
id|jedec_probe
c_func
(paren
r_struct
id|map_info
op_star
id|map
)paren
suffix:semicolon
DECL|function|jedec_read_mfr
r_static
r_inline
id|u32
id|jedec_read_mfr
c_func
(paren
r_struct
id|map_info
op_star
id|map
comma
id|__u32
id|base
comma
r_struct
id|cfi_private
op_star
id|cfi
)paren
(brace
id|map_word
id|result
suffix:semicolon
r_int
r_int
id|mask
suffix:semicolon
id|u32
id|ofs
op_assign
id|cfi_build_cmd_addr
c_func
(paren
l_int|0
comma
id|cfi_interleave
c_func
(paren
id|cfi
)paren
comma
id|cfi-&gt;device_type
)paren
suffix:semicolon
id|mask
op_assign
(paren
l_int|1
op_lshift
(paren
id|cfi-&gt;device_type
op_star
l_int|8
)paren
)paren
op_minus
l_int|1
suffix:semicolon
id|result
op_assign
id|map_read
c_func
(paren
id|map
comma
id|base
op_plus
id|ofs
)paren
suffix:semicolon
r_return
id|result.x
(braket
l_int|0
)braket
op_amp
id|mask
suffix:semicolon
)brace
DECL|function|jedec_read_id
r_static
r_inline
id|u32
id|jedec_read_id
c_func
(paren
r_struct
id|map_info
op_star
id|map
comma
id|__u32
id|base
comma
r_struct
id|cfi_private
op_star
id|cfi
)paren
(brace
id|map_word
id|result
suffix:semicolon
r_int
r_int
id|mask
suffix:semicolon
id|u32
id|ofs
op_assign
id|cfi_build_cmd_addr
c_func
(paren
l_int|1
comma
id|cfi_interleave
c_func
(paren
id|cfi
)paren
comma
id|cfi-&gt;device_type
)paren
suffix:semicolon
id|mask
op_assign
(paren
l_int|1
op_lshift
(paren
id|cfi-&gt;device_type
op_star
l_int|8
)paren
)paren
op_minus
l_int|1
suffix:semicolon
id|result
op_assign
id|map_read
c_func
(paren
id|map
comma
id|base
op_plus
id|ofs
)paren
suffix:semicolon
r_return
id|result.x
(braket
l_int|0
)braket
op_amp
id|mask
suffix:semicolon
)brace
DECL|function|jedec_reset
r_static
r_inline
r_void
id|jedec_reset
c_func
(paren
id|u32
id|base
comma
r_struct
id|map_info
op_star
id|map
comma
r_struct
id|cfi_private
op_star
id|cfi
)paren
(brace
multiline_comment|/* Reset */
multiline_comment|/* after checking the datasheets for SST, MACRONIX and ATMEL&n;&t; * (oh and incidentaly the jedec spec - 3.5.3.3) the reset&n;&t; * sequence is *supposed* to be 0xaa at 0x5555, 0x55 at&n;&t; * 0x2aaa, 0xF0 at 0x5555 this will not affect the AMD chips&n;&t; * as they will ignore the writes and dont care what address&n;&t; * the F0 is written to */
r_if
c_cond
(paren
id|cfi-&gt;addr_unlock1
)paren
(brace
id|DEBUG
c_func
(paren
id|MTD_DEBUG_LEVEL3
comma
l_string|&quot;reset unlock called %x %x &bslash;n&quot;
comma
id|cfi-&gt;addr_unlock1
comma
id|cfi-&gt;addr_unlock2
)paren
suffix:semicolon
id|cfi_send_gen_cmd
c_func
(paren
l_int|0xaa
comma
id|cfi-&gt;addr_unlock1
comma
id|base
comma
id|map
comma
id|cfi
comma
id|cfi-&gt;device_type
comma
l_int|NULL
)paren
suffix:semicolon
id|cfi_send_gen_cmd
c_func
(paren
l_int|0x55
comma
id|cfi-&gt;addr_unlock2
comma
id|base
comma
id|map
comma
id|cfi
comma
id|cfi-&gt;device_type
comma
l_int|NULL
)paren
suffix:semicolon
)brace
id|cfi_send_gen_cmd
c_func
(paren
l_int|0xF0
comma
id|cfi-&gt;addr_unlock1
comma
id|base
comma
id|map
comma
id|cfi
comma
id|cfi-&gt;device_type
comma
l_int|NULL
)paren
suffix:semicolon
multiline_comment|/* Some misdesigned intel chips do not respond for 0xF0 for a reset,&n;&t; * so ensure we&squot;re in read mode.  Send both the Intel and the AMD command&n;&t; * for this.  Intel uses 0xff for this, AMD uses 0xff for NOP, so&n;&t; * this should be safe.&n;&t; */
id|cfi_send_gen_cmd
c_func
(paren
l_int|0xFF
comma
l_int|0
comma
id|base
comma
id|map
comma
id|cfi
comma
id|cfi-&gt;device_type
comma
l_int|NULL
)paren
suffix:semicolon
multiline_comment|/* FIXME - should have reset delay before continuing */
)brace
DECL|function|finfo_uaddr
r_static
r_inline
id|__u8
id|finfo_uaddr
c_func
(paren
r_const
r_struct
id|amd_flash_info
op_star
id|finfo
comma
r_int
id|device_type
)paren
(brace
r_int
id|uaddr_idx
suffix:semicolon
id|__u8
id|uaddr
op_assign
id|MTD_UADDR_NOT_SUPPORTED
suffix:semicolon
r_switch
c_cond
(paren
id|device_type
)paren
(brace
r_case
id|CFI_DEVICETYPE_X8
suffix:colon
id|uaddr_idx
op_assign
l_int|0
suffix:semicolon
r_break
suffix:semicolon
r_case
id|CFI_DEVICETYPE_X16
suffix:colon
id|uaddr_idx
op_assign
l_int|1
suffix:semicolon
r_break
suffix:semicolon
r_case
id|CFI_DEVICETYPE_X32
suffix:colon
id|uaddr_idx
op_assign
l_int|2
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
id|printk
c_func
(paren
id|KERN_NOTICE
l_string|&quot;MTD: %s(): unknown device_type %d&bslash;n&quot;
comma
id|__func__
comma
id|device_type
)paren
suffix:semicolon
r_goto
id|uaddr_done
suffix:semicolon
)brace
id|uaddr
op_assign
id|finfo-&gt;uaddr
(braket
id|uaddr_idx
)braket
suffix:semicolon
r_if
c_cond
(paren
id|uaddr
op_ne
id|MTD_UADDR_NOT_SUPPORTED
)paren
(brace
multiline_comment|/* ASSERT(&quot;The unlock addresses for non-8-bit mode&n;&t;&t;   are bollocks. We don&squot;t really need an array.&quot;); */
id|uaddr
op_assign
id|finfo-&gt;uaddr
(braket
l_int|0
)braket
suffix:semicolon
)brace
id|uaddr_done
suffix:colon
r_return
id|uaddr
suffix:semicolon
)brace
DECL|function|cfi_jedec_setup
r_static
r_int
id|cfi_jedec_setup
c_func
(paren
r_struct
id|cfi_private
op_star
id|p_cfi
comma
r_int
id|index
)paren
(brace
r_int
id|i
comma
id|num_erase_regions
suffix:semicolon
id|__u8
id|uaddr
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot;Found: %s&bslash;n&quot;
comma
id|jedec_table
(braket
id|index
)braket
dot
id|name
)paren
suffix:semicolon
id|num_erase_regions
op_assign
id|jedec_table
(braket
id|index
)braket
dot
id|NumEraseRegions
suffix:semicolon
id|p_cfi-&gt;cfiq
op_assign
id|kmalloc
c_func
(paren
r_sizeof
(paren
r_struct
id|cfi_ident
)paren
op_plus
id|num_erase_regions
op_star
l_int|4
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|p_cfi-&gt;cfiq
)paren
(brace
singleline_comment|//xx printk(KERN_WARNING &quot;%s: kmalloc failed for CFI ident structure&bslash;n&quot;, map-&gt;name);
r_return
l_int|0
suffix:semicolon
)brace
id|memset
c_func
(paren
id|p_cfi-&gt;cfiq
comma
l_int|0
comma
r_sizeof
(paren
r_struct
id|cfi_ident
)paren
)paren
suffix:semicolon
id|p_cfi-&gt;cfiq-&gt;P_ID
op_assign
id|jedec_table
(braket
id|index
)braket
dot
id|CmdSet
suffix:semicolon
id|p_cfi-&gt;cfiq-&gt;NumEraseRegions
op_assign
id|jedec_table
(braket
id|index
)braket
dot
id|NumEraseRegions
suffix:semicolon
id|p_cfi-&gt;cfiq-&gt;DevSize
op_assign
id|jedec_table
(braket
id|index
)braket
dot
id|DevSize
suffix:semicolon
id|p_cfi-&gt;cfi_mode
op_assign
id|CFI_MODE_JEDEC
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|num_erase_regions
suffix:semicolon
id|i
op_increment
)paren
(brace
id|p_cfi-&gt;cfiq-&gt;EraseRegionInfo
(braket
id|i
)braket
op_assign
id|jedec_table
(braket
id|index
)braket
dot
id|regions
(braket
id|i
)braket
suffix:semicolon
)brace
id|p_cfi-&gt;cmdset_priv
op_assign
l_int|NULL
suffix:semicolon
multiline_comment|/* This may be redundant for some cases, but it doesn&squot;t hurt */
id|p_cfi-&gt;mfr
op_assign
id|jedec_table
(braket
id|index
)braket
dot
id|mfr_id
suffix:semicolon
id|p_cfi-&gt;id
op_assign
id|jedec_table
(braket
id|index
)braket
dot
id|dev_id
suffix:semicolon
id|uaddr
op_assign
id|finfo_uaddr
c_func
(paren
op_amp
id|jedec_table
(braket
id|index
)braket
comma
id|p_cfi-&gt;device_type
)paren
suffix:semicolon
r_if
c_cond
(paren
id|uaddr
op_eq
id|MTD_UADDR_NOT_SUPPORTED
)paren
(brace
id|kfree
c_func
(paren
id|p_cfi-&gt;cfiq
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/* Mask out address bits which are smaller than the device type */
id|p_cfi-&gt;addr_unlock1
op_assign
id|unlock_addrs
(braket
id|uaddr
)braket
dot
id|addr1
suffix:semicolon
id|p_cfi-&gt;addr_unlock2
op_assign
id|unlock_addrs
(braket
id|uaddr
)braket
dot
id|addr2
suffix:semicolon
r_return
l_int|1
suffix:semicolon
multiline_comment|/* ok */
)brace
multiline_comment|/*&n; * There is a BIG problem properly ID&squot;ing the JEDEC devic and guaranteeing&n; * the mapped address, unlock addresses, and proper chip ID.  This function&n; * attempts to minimize errors.  It is doubtfull that this probe will ever&n; * be perfect - consequently there should be some module parameters that&n; * could be manually specified to force the chip info.&n; */
DECL|function|jedec_match
r_static
r_inline
r_int
id|jedec_match
c_func
(paren
id|__u32
id|base
comma
r_struct
id|map_info
op_star
id|map
comma
r_struct
id|cfi_private
op_star
id|cfi
comma
r_const
r_struct
id|amd_flash_info
op_star
id|finfo
)paren
(brace
r_int
id|rc
op_assign
l_int|0
suffix:semicolon
multiline_comment|/* failure until all tests pass */
id|u32
id|mfr
comma
id|id
suffix:semicolon
id|__u8
id|uaddr
suffix:semicolon
multiline_comment|/*&n;&t; * The IDs must match.  For X16 and X32 devices operating in&n;&t; * a lower width ( X8 or X16 ), the device ID&squot;s are usually just&n;&t; * the lower byte(s) of the larger device ID for wider mode.  If&n;&t; * a part is found that doesn&squot;t fit this assumption (device id for&n;&t; * smaller width mode is completely unrealated to full-width mode)&n;&t; * then the jedec_table[] will have to be augmented with the IDs&n;&t; * for different widths.&n;&t; */
r_switch
c_cond
(paren
id|cfi-&gt;device_type
)paren
(brace
r_case
id|CFI_DEVICETYPE_X8
suffix:colon
id|mfr
op_assign
(paren
id|__u8
)paren
id|finfo-&gt;mfr_id
suffix:semicolon
id|id
op_assign
(paren
id|__u8
)paren
id|finfo-&gt;dev_id
suffix:semicolon
r_break
suffix:semicolon
r_case
id|CFI_DEVICETYPE_X16
suffix:colon
id|mfr
op_assign
(paren
id|__u16
)paren
id|finfo-&gt;mfr_id
suffix:semicolon
id|id
op_assign
(paren
id|__u16
)paren
id|finfo-&gt;dev_id
suffix:semicolon
r_break
suffix:semicolon
r_case
id|CFI_DEVICETYPE_X32
suffix:colon
id|mfr
op_assign
(paren
id|__u16
)paren
id|finfo-&gt;mfr_id
suffix:semicolon
id|id
op_assign
(paren
id|__u32
)paren
id|finfo-&gt;dev_id
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
id|printk
c_func
(paren
id|KERN_WARNING
l_string|&quot;MTD %s(): Unsupported device type %d&bslash;n&quot;
comma
id|__func__
comma
id|cfi-&gt;device_type
)paren
suffix:semicolon
r_goto
id|match_done
suffix:semicolon
)brace
r_if
c_cond
(paren
id|cfi-&gt;mfr
op_ne
id|mfr
op_logical_or
id|cfi-&gt;id
op_ne
id|id
)paren
(brace
r_goto
id|match_done
suffix:semicolon
)brace
multiline_comment|/* the part size must fit in the memory window */
id|DEBUG
c_func
(paren
id|MTD_DEBUG_LEVEL3
comma
l_string|&quot;MTD %s(): Check fit 0x%.8x + 0x%.8x = 0x%.8x&bslash;n&quot;
comma
id|__func__
comma
id|base
comma
l_int|1
op_lshift
id|finfo-&gt;DevSize
comma
id|base
op_plus
(paren
l_int|1
op_lshift
id|finfo-&gt;DevSize
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|base
op_plus
id|cfi_interleave
c_func
(paren
id|cfi
)paren
op_star
(paren
l_int|1
op_lshift
id|finfo-&gt;DevSize
)paren
OG
id|map-&gt;size
)paren
(brace
id|DEBUG
c_func
(paren
id|MTD_DEBUG_LEVEL3
comma
l_string|&quot;MTD %s(): 0x%.4x 0x%.4x %dKiB doesn&squot;t fit&bslash;n&quot;
comma
id|__func__
comma
id|finfo-&gt;mfr_id
comma
id|finfo-&gt;dev_id
comma
l_int|1
op_lshift
id|finfo-&gt;DevSize
)paren
suffix:semicolon
r_goto
id|match_done
suffix:semicolon
)brace
id|uaddr
op_assign
id|finfo_uaddr
c_func
(paren
id|finfo
comma
id|cfi-&gt;device_type
)paren
suffix:semicolon
r_if
c_cond
(paren
id|uaddr
op_eq
id|MTD_UADDR_NOT_SUPPORTED
)paren
(brace
r_goto
id|match_done
suffix:semicolon
)brace
id|DEBUG
c_func
(paren
id|MTD_DEBUG_LEVEL3
comma
l_string|&quot;MTD %s(): check unlock addrs 0x%.4x 0x%.4x&bslash;n&quot;
comma
id|__func__
comma
id|cfi-&gt;addr_unlock1
comma
id|cfi-&gt;addr_unlock2
)paren
suffix:semicolon
r_if
c_cond
(paren
id|MTD_UADDR_UNNECESSARY
op_ne
id|uaddr
op_logical_and
id|MTD_UADDR_DONT_CARE
op_ne
id|uaddr
op_logical_and
(paren
id|unlock_addrs
(braket
id|uaddr
)braket
dot
id|addr1
op_ne
id|cfi-&gt;addr_unlock1
op_logical_or
id|unlock_addrs
(braket
id|uaddr
)braket
dot
id|addr2
op_ne
id|cfi-&gt;addr_unlock2
)paren
)paren
(brace
id|DEBUG
c_func
(paren
id|MTD_DEBUG_LEVEL3
comma
l_string|&quot;MTD %s(): 0x%.4x 0x%.4x did not match&bslash;n&quot;
comma
id|__func__
comma
id|unlock_addrs
(braket
id|uaddr
)braket
dot
id|addr1
comma
id|unlock_addrs
(braket
id|uaddr
)braket
dot
id|addr2
)paren
suffix:semicolon
r_goto
id|match_done
suffix:semicolon
)brace
multiline_comment|/*&n;&t; * Make sure the ID&squot;s dissappear when the device is taken out of&n;&t; * ID mode.  The only time this should fail when it should succeed&n;&t; * is when the ID&squot;s are written as data to the same&n;&t; * addresses.  For this rare and unfortunate case the chip&n;&t; * cannot be probed correctly.&n;&t; * FIXME - write a driver that takes all of the chip info as&n;&t; * module parameters, doesn&squot;t probe but forces a load.&n;&t; */
id|DEBUG
c_func
(paren
id|MTD_DEBUG_LEVEL3
comma
l_string|&quot;MTD %s(): check ID&squot;s disappear when not in ID mode&bslash;n&quot;
comma
id|__func__
)paren
suffix:semicolon
id|jedec_reset
c_func
(paren
id|base
comma
id|map
comma
id|cfi
)paren
suffix:semicolon
id|mfr
op_assign
id|jedec_read_mfr
c_func
(paren
id|map
comma
id|base
comma
id|cfi
)paren
suffix:semicolon
id|id
op_assign
id|jedec_read_id
c_func
(paren
id|map
comma
id|base
comma
id|cfi
)paren
suffix:semicolon
r_if
c_cond
(paren
id|mfr
op_eq
id|cfi-&gt;mfr
op_logical_and
id|id
op_eq
id|cfi-&gt;id
)paren
(brace
id|DEBUG
c_func
(paren
id|MTD_DEBUG_LEVEL3
comma
l_string|&quot;MTD %s(): ID 0x%.2x:0x%.2x did not change after reset:&bslash;n&quot;
l_string|&quot;You might need to manually specify JEDEC parameters.&bslash;n&quot;
comma
id|__func__
comma
id|cfi-&gt;mfr
comma
id|cfi-&gt;id
)paren
suffix:semicolon
r_goto
id|match_done
suffix:semicolon
)brace
multiline_comment|/* all tests passed - mark  as success */
id|rc
op_assign
l_int|1
suffix:semicolon
multiline_comment|/*&n;&t; * Put the device back in ID mode - only need to do this if we&n;&t; * were truly frobbing a real device.&n;&t; */
id|DEBUG
c_func
(paren
id|MTD_DEBUG_LEVEL3
comma
l_string|&quot;MTD %s(): return to ID mode&bslash;n&quot;
comma
id|__func__
)paren
suffix:semicolon
r_if
c_cond
(paren
id|cfi-&gt;addr_unlock1
)paren
(brace
id|cfi_send_gen_cmd
c_func
(paren
l_int|0xaa
comma
id|cfi-&gt;addr_unlock1
comma
id|base
comma
id|map
comma
id|cfi
comma
id|cfi-&gt;device_type
comma
l_int|NULL
)paren
suffix:semicolon
id|cfi_send_gen_cmd
c_func
(paren
l_int|0x55
comma
id|cfi-&gt;addr_unlock2
comma
id|base
comma
id|map
comma
id|cfi
comma
id|cfi-&gt;device_type
comma
l_int|NULL
)paren
suffix:semicolon
)brace
id|cfi_send_gen_cmd
c_func
(paren
l_int|0x90
comma
id|cfi-&gt;addr_unlock1
comma
id|base
comma
id|map
comma
id|cfi
comma
id|cfi-&gt;device_type
comma
l_int|NULL
)paren
suffix:semicolon
multiline_comment|/* FIXME - should have a delay before continuing */
id|match_done
suffix:colon
r_return
id|rc
suffix:semicolon
)brace
DECL|function|jedec_probe_chip
r_static
r_int
id|jedec_probe_chip
c_func
(paren
r_struct
id|map_info
op_star
id|map
comma
id|__u32
id|base
comma
r_int
r_int
op_star
id|chip_map
comma
r_struct
id|cfi_private
op_star
id|cfi
)paren
(brace
r_int
id|i
suffix:semicolon
r_enum
id|uaddr
id|uaddr_idx
op_assign
id|MTD_UADDR_NOT_SUPPORTED
suffix:semicolon
id|u32
id|probe_offset1
comma
id|probe_offset2
suffix:semicolon
id|retry
suffix:colon
r_if
c_cond
(paren
op_logical_neg
id|cfi-&gt;numchips
)paren
(brace
id|uaddr_idx
op_increment
suffix:semicolon
r_if
c_cond
(paren
id|MTD_UADDR_UNNECESSARY
op_eq
id|uaddr_idx
)paren
r_return
l_int|0
suffix:semicolon
multiline_comment|/* Mask out address bits which are smaller than the device type */
id|cfi-&gt;addr_unlock1
op_assign
id|unlock_addrs
(braket
id|uaddr_idx
)braket
dot
id|addr1
suffix:semicolon
id|cfi-&gt;addr_unlock2
op_assign
id|unlock_addrs
(braket
id|uaddr_idx
)braket
dot
id|addr2
suffix:semicolon
)brace
multiline_comment|/* Make certain we aren&squot;t probing past the end of map */
r_if
c_cond
(paren
id|base
op_ge
id|map-&gt;size
)paren
(brace
id|printk
c_func
(paren
id|KERN_NOTICE
l_string|&quot;Probe at base(0x%08x) past the end of the map(0x%08lx)&bslash;n&quot;
comma
id|base
comma
id|map-&gt;size
op_minus
l_int|1
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/* Ensure the unlock addresses we try stay inside the map */
id|probe_offset1
op_assign
id|cfi_build_cmd_addr
c_func
(paren
id|cfi-&gt;addr_unlock1
comma
id|cfi_interleave
c_func
(paren
id|cfi
)paren
comma
id|cfi-&gt;device_type
)paren
suffix:semicolon
id|probe_offset2
op_assign
id|cfi_build_cmd_addr
c_func
(paren
id|cfi-&gt;addr_unlock1
comma
id|cfi_interleave
c_func
(paren
id|cfi
)paren
comma
id|cfi-&gt;device_type
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
(paren
id|base
op_plus
id|probe_offset1
op_plus
id|map_bankwidth
c_func
(paren
id|map
)paren
)paren
op_ge
id|map-&gt;size
)paren
op_logical_or
(paren
(paren
id|base
op_plus
id|probe_offset2
op_plus
id|map_bankwidth
c_func
(paren
id|map
)paren
)paren
op_ge
id|map-&gt;size
)paren
)paren
(brace
r_goto
id|retry
suffix:semicolon
)brace
multiline_comment|/* Reset */
id|jedec_reset
c_func
(paren
id|base
comma
id|map
comma
id|cfi
)paren
suffix:semicolon
multiline_comment|/* Autoselect Mode */
r_if
c_cond
(paren
id|cfi-&gt;addr_unlock1
)paren
(brace
id|cfi_send_gen_cmd
c_func
(paren
l_int|0xaa
comma
id|cfi-&gt;addr_unlock1
comma
id|base
comma
id|map
comma
id|cfi
comma
id|cfi-&gt;device_type
comma
l_int|NULL
)paren
suffix:semicolon
id|cfi_send_gen_cmd
c_func
(paren
l_int|0x55
comma
id|cfi-&gt;addr_unlock2
comma
id|base
comma
id|map
comma
id|cfi
comma
id|cfi-&gt;device_type
comma
l_int|NULL
)paren
suffix:semicolon
)brace
id|cfi_send_gen_cmd
c_func
(paren
l_int|0x90
comma
id|cfi-&gt;addr_unlock1
comma
id|base
comma
id|map
comma
id|cfi
comma
id|cfi-&gt;device_type
comma
l_int|NULL
)paren
suffix:semicolon
multiline_comment|/* FIXME - should have a delay before continuing */
r_if
c_cond
(paren
op_logical_neg
id|cfi-&gt;numchips
)paren
(brace
multiline_comment|/* This is the first time we&squot;re called. Set up the CFI &n;&t;&t;   stuff accordingly and return */
id|cfi-&gt;mfr
op_assign
id|jedec_read_mfr
c_func
(paren
id|map
comma
id|base
comma
id|cfi
)paren
suffix:semicolon
id|cfi-&gt;id
op_assign
id|jedec_read_id
c_func
(paren
id|map
comma
id|base
comma
id|cfi
)paren
suffix:semicolon
id|DEBUG
c_func
(paren
id|MTD_DEBUG_LEVEL3
comma
l_string|&quot;Search for id:(%02x %02x) interleave(%d) type(%d)&bslash;n&quot;
comma
id|cfi-&gt;mfr
comma
id|cfi-&gt;id
comma
id|cfi_interleave
c_func
(paren
id|cfi
)paren
comma
id|cfi-&gt;device_type
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
r_sizeof
(paren
id|jedec_table
)paren
op_div
r_sizeof
(paren
id|jedec_table
(braket
l_int|0
)braket
)paren
suffix:semicolon
id|i
op_increment
)paren
(brace
r_if
c_cond
(paren
id|jedec_match
c_func
(paren
id|base
comma
id|map
comma
id|cfi
comma
op_amp
id|jedec_table
(braket
id|i
)braket
)paren
)paren
(brace
id|DEBUG
c_func
(paren
id|MTD_DEBUG_LEVEL3
comma
l_string|&quot;MTD %s(): matched device 0x%x,0x%x unlock_addrs: 0x%.4x 0x%.4x&bslash;n&quot;
comma
id|__func__
comma
id|cfi-&gt;mfr
comma
id|cfi-&gt;id
comma
id|cfi-&gt;addr_unlock1
comma
id|cfi-&gt;addr_unlock2
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|cfi_jedec_setup
c_func
(paren
id|cfi
comma
id|i
)paren
)paren
r_return
l_int|0
suffix:semicolon
r_goto
id|ok_out
suffix:semicolon
)brace
)brace
r_goto
id|retry
suffix:semicolon
)brace
r_else
(brace
id|__u16
id|mfr
suffix:semicolon
id|__u16
id|id
suffix:semicolon
multiline_comment|/* Make sure it is a chip of the same manufacturer and id */
id|mfr
op_assign
id|jedec_read_mfr
c_func
(paren
id|map
comma
id|base
comma
id|cfi
)paren
suffix:semicolon
id|id
op_assign
id|jedec_read_id
c_func
(paren
id|map
comma
id|base
comma
id|cfi
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|mfr
op_ne
id|cfi-&gt;mfr
)paren
op_logical_or
(paren
id|id
op_ne
id|cfi-&gt;id
)paren
)paren
(brace
id|printk
c_func
(paren
id|KERN_DEBUG
l_string|&quot;%s: Found different chip or no chip at all (mfr 0x%x, id 0x%x) at 0x%x&bslash;n&quot;
comma
id|map-&gt;name
comma
id|mfr
comma
id|id
comma
id|base
)paren
suffix:semicolon
id|jedec_reset
c_func
(paren
id|base
comma
id|map
comma
id|cfi
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
)brace
multiline_comment|/* Check each previous chip locations to see if it&squot;s an alias */
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
(paren
id|base
op_rshift
id|cfi-&gt;chipshift
)paren
suffix:semicolon
id|i
op_increment
)paren
(brace
r_int
r_int
id|start
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|test_bit
c_func
(paren
id|i
comma
id|chip_map
)paren
)paren
(brace
r_continue
suffix:semicolon
multiline_comment|/* Skip location; no valid chip at this address */
)brace
id|start
op_assign
id|i
op_lshift
id|cfi-&gt;chipshift
suffix:semicolon
r_if
c_cond
(paren
id|jedec_read_mfr
c_func
(paren
id|map
comma
id|start
comma
id|cfi
)paren
op_eq
id|cfi-&gt;mfr
op_logical_and
id|jedec_read_id
c_func
(paren
id|map
comma
id|start
comma
id|cfi
)paren
op_eq
id|cfi-&gt;id
)paren
(brace
multiline_comment|/* Eep. This chip also looks like it&squot;s in autoselect mode.&n;&t;&t;&t;   Is it an alias for the new one? */
id|jedec_reset
c_func
(paren
id|start
comma
id|map
comma
id|cfi
)paren
suffix:semicolon
multiline_comment|/* If the device IDs go away, it&squot;s an alias */
r_if
c_cond
(paren
id|jedec_read_mfr
c_func
(paren
id|map
comma
id|base
comma
id|cfi
)paren
op_ne
id|cfi-&gt;mfr
op_logical_or
id|jedec_read_id
c_func
(paren
id|map
comma
id|base
comma
id|cfi
)paren
op_ne
id|cfi-&gt;id
)paren
(brace
id|printk
c_func
(paren
id|KERN_DEBUG
l_string|&quot;%s: Found an alias at 0x%x for the chip at 0x%lx&bslash;n&quot;
comma
id|map-&gt;name
comma
id|base
comma
id|start
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/* Yes, it&squot;s actually got the device IDs as data. Most&n;&t;&t;&t; * unfortunate. Stick the new chip in read mode&n;&t;&t;&t; * too and if it&squot;s the same, assume it&squot;s an alias. */
multiline_comment|/* FIXME: Use other modes to do a proper check */
id|jedec_reset
c_func
(paren
id|base
comma
id|map
comma
id|cfi
)paren
suffix:semicolon
r_if
c_cond
(paren
id|jedec_read_mfr
c_func
(paren
id|map
comma
id|base
comma
id|cfi
)paren
op_eq
id|cfi-&gt;mfr
op_logical_and
id|jedec_read_id
c_func
(paren
id|map
comma
id|base
comma
id|cfi
)paren
op_eq
id|cfi-&gt;id
)paren
(brace
id|printk
c_func
(paren
id|KERN_DEBUG
l_string|&quot;%s: Found an alias at 0x%x for the chip at 0x%lx&bslash;n&quot;
comma
id|map-&gt;name
comma
id|base
comma
id|start
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
)brace
)brace
multiline_comment|/* OK, if we got to here, then none of the previous chips appear to&n;&t;   be aliases for the current one. */
id|set_bit
c_func
(paren
(paren
id|base
op_rshift
id|cfi-&gt;chipshift
)paren
comma
id|chip_map
)paren
suffix:semicolon
multiline_comment|/* Update chip map */
id|cfi-&gt;numchips
op_increment
suffix:semicolon
id|ok_out
suffix:colon
multiline_comment|/* Put it back into Read Mode */
id|jedec_reset
c_func
(paren
id|base
comma
id|map
comma
id|cfi
)paren
suffix:semicolon
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;%s: Found %d x%d devices at 0x%x in %d-bit bank&bslash;n&quot;
comma
id|map-&gt;name
comma
id|cfi_interleave
c_func
(paren
id|cfi
)paren
comma
id|cfi-&gt;device_type
op_star
l_int|8
comma
id|base
comma
id|map-&gt;bankwidth
op_star
l_int|8
)paren
suffix:semicolon
r_return
l_int|1
suffix:semicolon
)brace
DECL|variable|jedec_chip_probe
r_static
r_struct
id|chip_probe
id|jedec_chip_probe
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;JEDEC&quot;
comma
dot
id|probe_chip
op_assign
id|jedec_probe_chip
)brace
suffix:semicolon
DECL|function|jedec_probe
r_static
r_struct
id|mtd_info
op_star
id|jedec_probe
c_func
(paren
r_struct
id|map_info
op_star
id|map
)paren
(brace
multiline_comment|/*&n;&t; * Just use the generic probe stuff to call our CFI-specific&n;&t; * chip_probe routine in all the possible permutations, etc.&n;&t; */
r_return
id|mtd_do_chip_probe
c_func
(paren
id|map
comma
op_amp
id|jedec_chip_probe
)paren
suffix:semicolon
)brace
DECL|variable|jedec_chipdrv
r_static
r_struct
id|mtd_chip_driver
id|jedec_chipdrv
op_assign
(brace
dot
id|probe
op_assign
id|jedec_probe
comma
dot
id|name
op_assign
l_string|&quot;jedec_probe&quot;
comma
dot
id|module
op_assign
id|THIS_MODULE
)brace
suffix:semicolon
DECL|function|jedec_probe_init
r_static
r_int
id|__init
id|jedec_probe_init
c_func
(paren
r_void
)paren
(brace
id|register_mtd_chip_driver
c_func
(paren
op_amp
id|jedec_chipdrv
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|jedec_probe_exit
r_static
r_void
id|__exit
id|jedec_probe_exit
c_func
(paren
r_void
)paren
(brace
id|unregister_mtd_chip_driver
c_func
(paren
op_amp
id|jedec_chipdrv
)paren
suffix:semicolon
)brace
DECL|variable|jedec_probe_init
id|module_init
c_func
(paren
id|jedec_probe_init
)paren
suffix:semicolon
DECL|variable|jedec_probe_exit
id|module_exit
c_func
(paren
id|jedec_probe_exit
)paren
suffix:semicolon
id|MODULE_LICENSE
c_func
(paren
l_string|&quot;GPL&quot;
)paren
suffix:semicolon
id|MODULE_AUTHOR
c_func
(paren
l_string|&quot;Erwin Authried &lt;eauth@softsys.co.at&gt; et al.&quot;
)paren
suffix:semicolon
id|MODULE_DESCRIPTION
c_func
(paren
l_string|&quot;Probe code for JEDEC-compliant flash chips&quot;
)paren
suffix:semicolon
eof
