multiline_comment|/*&n; * drivers/mtd/mtdblock.h&n; *&n; * common defines for mtdblock-core and mtdblock-2x&n; *&n; * $Id: mtdblock.h,v 1.1 2002/11/27 10:33:37 gleixner Exp $&n; *&n; */
macro_line|#ifndef __MTD_MTDBLOCK_H__
DECL|macro|__MTD_MTDBLOCK_H__
mdefine_line|#define __MTD_MTDBLOCK_H__
DECL|macro|MAJOR_NR
mdefine_line|#define MAJOR_NR MTD_BLOCK_MAJOR
DECL|macro|DEVICE_NAME
mdefine_line|#define DEVICE_NAME &quot;mtdblock&quot;
DECL|struct|mtdblk_dev
r_struct
id|mtdblk_dev
(brace
DECL|member|mtd
r_struct
id|mtd_info
op_star
id|mtd
suffix:semicolon
multiline_comment|/* Locked */
DECL|member|count
r_int
id|count
suffix:semicolon
DECL|member|cache_sem
r_struct
id|semaphore
id|cache_sem
suffix:semicolon
DECL|member|cache_data
r_int
r_char
op_star
id|cache_data
suffix:semicolon
DECL|member|cache_offset
r_int
r_int
id|cache_offset
suffix:semicolon
DECL|member|cache_size
r_int
r_int
id|cache_size
suffix:semicolon
DECL|enumerator|STATE_EMPTY
DECL|enumerator|STATE_CLEAN
DECL|enumerator|STATE_DIRTY
DECL|member|cache_state
r_enum
(brace
id|STATE_EMPTY
comma
id|STATE_CLEAN
comma
id|STATE_DIRTY
)brace
id|cache_state
suffix:semicolon
)brace
suffix:semicolon
r_extern
r_int
id|write_cached_data
(paren
r_struct
id|mtdblk_dev
op_star
id|mtdblk
)paren
suffix:semicolon
r_extern
r_int
id|do_cached_write
(paren
r_struct
id|mtdblk_dev
op_star
id|mtdblk
comma
r_int
r_int
id|pos
comma
r_int
id|len
comma
r_const
r_char
op_star
id|buf
)paren
suffix:semicolon
r_extern
r_int
id|do_cached_read
(paren
r_struct
id|mtdblk_dev
op_star
id|mtdblk
comma
r_int
r_int
id|pos
comma
r_int
id|len
comma
r_char
op_star
id|buf
)paren
suffix:semicolon
r_extern
r_void
id|__exit
id|cleanup_mtdblock
c_func
(paren
r_void
)paren
suffix:semicolon
r_extern
r_int
id|__init
id|init_mtdblock
c_func
(paren
r_void
)paren
suffix:semicolon
macro_line|#endif
eof
