multiline_comment|/*&n; * FILE NAME&n; *&t;drivers/pcmcia/vrc4173_cardu.c&n; *&n; * BRIEF MODULE DESCRIPTION&n; * &t;NEC VRC4173 CARDU driver for Socket Services&n; *&t;(This device doesn&squot;t support CardBus. it is supporting only 16bit PC Card.)&n; *&n; * Copyright 2002,2003 Yoichi Yuasa &lt;yuasa@hh.iij4u.or.jp&gt;&n; *&n; *  This program is free software; you can redistribute it and/or modify it&n; *  under the terms of the GNU General Public License as published by the&n; *  Free Software Foundation; either version 2 of the License, or (at your&n; *  option) any later version.&n; *&n; *  THIS SOFTWARE IS PROVIDED ``AS IS&squot;&squot; AND ANY EXPRESS OR IMPLIED&n; *  WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF&n; *  MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.&n; *  IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,&n; *  INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,&n; *  BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS&n; *  OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND&n; *  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR&n; *  TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE&n; *  USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.&n; *&n; *  You should have received a copy of the GNU General Public License along&n; *  with this program; if not, write to the Free Software Foundation, Inc.,&n; *  675 Mass Ave, Cambridge, MA 02139, USA.&n; */
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;linux/module.h&gt;
macro_line|#include &lt;linux/pci.h&gt;
macro_line|#include &lt;linux/spinlock.h&gt;
macro_line|#include &lt;linux/types.h&gt;
macro_line|#include &lt;asm/io.h&gt;
macro_line|#include &lt;pcmcia/ss.h&gt;
macro_line|#include &quot;vrc4173_cardu.h&quot;
id|MODULE_DESCRIPTION
c_func
(paren
l_string|&quot;NEC VRC4173 CARDU driver for Socket Services&quot;
)paren
suffix:semicolon
id|MODULE_AUTHOR
c_func
(paren
l_string|&quot;Yoichi Yuasa &lt;yuasa@hh.iij4u.or.jp&gt;&quot;
)paren
suffix:semicolon
id|MODULE_LICENSE
c_func
(paren
l_string|&quot;GPL&quot;
)paren
suffix:semicolon
DECL|variable|vrc4173_cardu_slots
r_static
r_int
id|vrc4173_cardu_slots
suffix:semicolon
DECL|variable|cardu_sockets
r_static
id|vrc4173_socket_t
id|cardu_sockets
(braket
id|CARDU_MAX_SOCKETS
)braket
suffix:semicolon
r_extern
r_struct
id|socket_info_t
op_star
id|pcmcia_register_socket
(paren
r_int
id|slot
comma
r_struct
id|pccard_operations
op_star
id|vtable
comma
r_int
id|use_bus_pm
)paren
suffix:semicolon
r_extern
r_void
id|pcmcia_unregister_socket
c_func
(paren
r_struct
id|socket_info_t
op_star
id|s
)paren
suffix:semicolon
DECL|function|exca_readb
r_static
r_inline
r_uint8
id|exca_readb
c_func
(paren
id|vrc4173_socket_t
op_star
id|socket
comma
r_uint16
id|offset
)paren
(brace
r_return
id|readb
c_func
(paren
id|socket-&gt;base
op_plus
id|EXCA_REGS_BASE
op_plus
id|offset
)paren
suffix:semicolon
)brace
DECL|function|exca_readw
r_static
r_inline
r_uint16
id|exca_readw
c_func
(paren
id|vrc4173_socket_t
op_star
id|socket
comma
r_uint16
id|offset
)paren
(brace
r_uint16
id|val
suffix:semicolon
id|val
op_assign
id|readb
c_func
(paren
id|socket-&gt;base
op_plus
id|EXCA_REGS_BASE
op_plus
id|offset
)paren
suffix:semicolon
id|val
op_or_assign
(paren
id|u16
)paren
id|readb
c_func
(paren
id|socket-&gt;base
op_plus
id|EXCA_REGS_BASE
op_plus
id|offset
op_plus
l_int|1
)paren
op_lshift
l_int|8
suffix:semicolon
r_return
id|val
suffix:semicolon
)brace
DECL|function|exca_writeb
r_static
r_inline
r_void
id|exca_writeb
c_func
(paren
id|vrc4173_socket_t
op_star
id|socket
comma
r_uint16
id|offset
comma
r_uint8
id|val
)paren
(brace
id|writeb
c_func
(paren
id|val
comma
id|socket-&gt;base
op_plus
id|EXCA_REGS_BASE
op_plus
id|offset
)paren
suffix:semicolon
)brace
DECL|function|exca_writew
r_static
r_inline
r_void
id|exca_writew
c_func
(paren
id|vrc4173_socket_t
op_star
id|socket
comma
r_uint8
id|offset
comma
r_uint16
id|val
)paren
(brace
id|writeb
c_func
(paren
(paren
id|u8
)paren
id|val
comma
id|socket-&gt;base
op_plus
id|EXCA_REGS_BASE
op_plus
id|offset
)paren
suffix:semicolon
id|writeb
c_func
(paren
(paren
id|u8
)paren
(paren
id|val
op_rshift
l_int|8
)paren
comma
id|socket-&gt;base
op_plus
id|EXCA_REGS_BASE
op_plus
id|offset
op_plus
l_int|1
)paren
suffix:semicolon
)brace
DECL|function|cardbus_socket_readl
r_static
r_inline
r_uint32
id|cardbus_socket_readl
c_func
(paren
id|vrc4173_socket_t
op_star
id|socket
comma
id|u16
id|offset
)paren
(brace
r_return
id|readl
c_func
(paren
id|socket-&gt;base
op_plus
id|CARDBUS_SOCKET_REGS_BASE
op_plus
id|offset
)paren
suffix:semicolon
)brace
DECL|function|cardbus_socket_writel
r_static
r_inline
r_void
id|cardbus_socket_writel
c_func
(paren
id|vrc4173_socket_t
op_star
id|socket
comma
id|u16
id|offset
comma
r_uint32
id|val
)paren
(brace
id|writel
c_func
(paren
id|val
comma
id|socket-&gt;base
op_plus
id|CARDBUS_SOCKET_REGS_BASE
op_plus
id|offset
)paren
suffix:semicolon
)brace
DECL|function|cardu_pciregs_init
r_static
r_void
id|cardu_pciregs_init
c_func
(paren
r_struct
id|pci_dev
op_star
id|dev
)paren
(brace
id|u32
id|syscnt
suffix:semicolon
id|u16
id|brgcnt
suffix:semicolon
id|u8
id|devcnt
suffix:semicolon
id|pci_write_config_dword
c_func
(paren
id|dev
comma
l_int|0x1c
comma
l_int|0x10000000
)paren
suffix:semicolon
id|pci_write_config_dword
c_func
(paren
id|dev
comma
l_int|0x20
comma
l_int|0x17fff000
)paren
suffix:semicolon
id|pci_write_config_dword
c_func
(paren
id|dev
comma
l_int|0x2c
comma
l_int|0
)paren
suffix:semicolon
id|pci_write_config_dword
c_func
(paren
id|dev
comma
l_int|0x30
comma
l_int|0xfffc
)paren
suffix:semicolon
id|pci_read_config_word
c_func
(paren
id|dev
comma
id|BRGCNT
comma
op_amp
id|brgcnt
)paren
suffix:semicolon
id|brgcnt
op_and_assign
op_complement
id|IREQ_INT
suffix:semicolon
id|pci_write_config_word
c_func
(paren
id|dev
comma
id|BRGCNT
comma
id|brgcnt
)paren
suffix:semicolon
id|pci_read_config_dword
c_func
(paren
id|dev
comma
id|SYSCNT
comma
op_amp
id|syscnt
)paren
suffix:semicolon
id|syscnt
op_and_assign
op_complement
(paren
id|BAD_VCC_REQ_DISB
op_or
id|PCPCI_EN
op_or
id|CH_ASSIGN_MASK
op_or
id|SUB_ID_WR_EN
op_or
id|PCI_CLK_RIN
)paren
suffix:semicolon
id|syscnt
op_or_assign
(paren
id|CH_ASSIGN_NODMA
op_or
id|ASYN_INT_MODE
)paren
suffix:semicolon
id|pci_write_config_dword
c_func
(paren
id|dev
comma
id|SYSCNT
comma
id|syscnt
)paren
suffix:semicolon
id|pci_read_config_byte
c_func
(paren
id|dev
comma
id|DEVCNT
comma
op_amp
id|devcnt
)paren
suffix:semicolon
id|devcnt
op_and_assign
op_complement
(paren
id|ZOOM_VIDEO_EN
op_or
id|SR_PCI_INT_SEL_MASK
op_or
id|PCI_INT_MODE
op_or
id|IRQ_MODE
)paren
suffix:semicolon
id|devcnt
op_or_assign
(paren
id|SR_PCI_INT_SEL_NONE
op_or
id|IFG
)paren
suffix:semicolon
id|pci_write_config_byte
c_func
(paren
id|dev
comma
id|DEVCNT
comma
id|devcnt
)paren
suffix:semicolon
id|pci_write_config_byte
c_func
(paren
id|dev
comma
id|CHIPCNT
comma
id|S_PREF_DISB
)paren
suffix:semicolon
id|pci_write_config_byte
c_func
(paren
id|dev
comma
id|SERRDIS
comma
l_int|0
)paren
suffix:semicolon
)brace
DECL|function|cardu_init
r_static
r_int
id|cardu_init
c_func
(paren
r_int
r_int
id|slot
)paren
(brace
id|vrc4173_socket_t
op_star
id|socket
op_assign
op_amp
id|cardu_sockets
(braket
id|slot
)braket
suffix:semicolon
id|cardu_pciregs_init
c_func
(paren
id|socket-&gt;dev
)paren
suffix:semicolon
multiline_comment|/* CARD_SC bits are cleared by reading CARD_SC. */
id|exca_writeb
c_func
(paren
id|socket
comma
id|GLO_CNT
comma
l_int|0
)paren
suffix:semicolon
id|socket-&gt;cap.features
op_or_assign
id|SS_CAP_PCCARD
op_or
id|SS_CAP_PAGE_REGS
suffix:semicolon
id|socket-&gt;cap.irq_mask
op_assign
l_int|0
suffix:semicolon
id|socket-&gt;cap.map_size
op_assign
l_int|0x1000
suffix:semicolon
id|socket-&gt;cap.pci_irq
op_assign
id|socket-&gt;dev-&gt;irq
suffix:semicolon
id|socket-&gt;events
op_assign
l_int|0
suffix:semicolon
id|spin_lock_init
c_func
(paren
id|socket-&gt;event_lock
)paren
suffix:semicolon
multiline_comment|/* Enable PC Card status interrupts */
id|exca_writeb
c_func
(paren
id|socket
comma
id|CARD_SCI
comma
id|CARD_DT_EN
op_or
id|RDY_EN
op_or
id|BAT_WAR_EN
op_or
id|BAT_DEAD_EN
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|cardu_suspend
r_static
r_int
id|cardu_suspend
c_func
(paren
r_int
r_int
id|slot
)paren
(brace
r_return
op_minus
id|EINVAL
suffix:semicolon
)brace
DECL|function|cardu_register_callback
r_static
r_int
id|cardu_register_callback
c_func
(paren
r_int
r_int
id|sock
comma
r_void
(paren
op_star
id|handler
)paren
(paren
r_void
op_star
comma
r_int
r_int
)paren
comma
r_void
op_star
id|info
)paren
(brace
id|vrc4173_socket_t
op_star
id|socket
op_assign
op_amp
id|cardu_sockets
(braket
id|sock
)braket
suffix:semicolon
id|socket-&gt;handler
op_assign
id|handler
suffix:semicolon
id|socket-&gt;info
op_assign
id|info
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|cardu_inquire_socket
r_static
r_int
id|cardu_inquire_socket
c_func
(paren
r_int
r_int
id|sock
comma
id|socket_cap_t
op_star
id|cap
)paren
(brace
id|vrc4173_socket_t
op_star
id|socket
op_assign
op_amp
id|cardu_sockets
(braket
id|sock
)braket
suffix:semicolon
op_star
id|cap
op_assign
id|socket-&gt;cap
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|cardu_get_status
r_static
r_int
id|cardu_get_status
c_func
(paren
r_int
r_int
id|sock
comma
id|u_int
op_star
id|value
)paren
(brace
id|vrc4173_socket_t
op_star
id|socket
op_assign
op_amp
id|cardu_sockets
(braket
id|sock
)braket
suffix:semicolon
r_uint32
id|state
suffix:semicolon
r_uint8
id|status
suffix:semicolon
id|u_int
id|val
op_assign
l_int|0
suffix:semicolon
id|status
op_assign
id|exca_readb
c_func
(paren
id|socket
comma
id|IF_STATUS
)paren
suffix:semicolon
r_if
c_cond
(paren
id|status
op_amp
id|CARD_PWR
)paren
id|val
op_or_assign
id|SS_POWERON
suffix:semicolon
r_if
c_cond
(paren
id|status
op_amp
id|READY
)paren
id|val
op_or_assign
id|SS_READY
suffix:semicolon
r_if
c_cond
(paren
id|status
op_amp
id|CARD_WP
)paren
id|val
op_or_assign
id|SS_WRPROT
suffix:semicolon
r_if
c_cond
(paren
(paren
id|status
op_amp
(paren
id|CARD_DETECT1
op_or
id|CARD_DETECT2
)paren
)paren
op_eq
(paren
id|CARD_DETECT1
op_or
id|CARD_DETECT2
)paren
)paren
id|val
op_or_assign
id|SS_DETECT
suffix:semicolon
r_if
c_cond
(paren
id|exca_readb
c_func
(paren
id|socket
comma
id|INT_GEN_CNT
)paren
op_amp
id|CARD_TYPE_IO
)paren
(brace
r_if
c_cond
(paren
id|status
op_amp
id|STSCHG
)paren
id|val
op_or_assign
id|SS_STSCHG
suffix:semicolon
)brace
r_else
(brace
id|status
op_and_assign
id|BV_DETECT_MASK
suffix:semicolon
r_if
c_cond
(paren
id|status
op_ne
id|BV_DETECT_GOOD
)paren
(brace
r_if
c_cond
(paren
id|status
op_eq
id|BV_DETECT_WARN
)paren
id|val
op_or_assign
id|SS_BATWARN
suffix:semicolon
r_else
id|val
op_or_assign
id|SS_BATDEAD
suffix:semicolon
)brace
)brace
id|state
op_assign
id|cardbus_socket_readl
c_func
(paren
id|socket
comma
id|SKT_PRE_STATE
)paren
suffix:semicolon
r_if
c_cond
(paren
id|state
op_amp
id|VOL_3V_CARD_DT
)paren
id|val
op_or_assign
id|SS_3VCARD
suffix:semicolon
r_if
c_cond
(paren
id|state
op_amp
id|VOL_XV_CARD_DT
)paren
id|val
op_or_assign
id|SS_XVCARD
suffix:semicolon
r_if
c_cond
(paren
id|state
op_amp
id|CB_CARD_DT
)paren
id|val
op_or_assign
id|SS_CARDBUS
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
(paren
id|state
op_amp
(paren
id|VOL_YV_CARD_DT
op_or
id|VOL_XV_CARD_DT
op_or
id|VOL_3V_CARD_DT
op_or
id|VOL_5V_CARD_DT
op_or
id|CCD20
op_or
id|CCD10
)paren
)paren
)paren
id|val
op_or_assign
id|SS_PENDING
suffix:semicolon
op_star
id|value
op_assign
id|val
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|get_Vcc_value
r_static
r_inline
id|u_char
id|get_Vcc_value
c_func
(paren
r_uint8
id|val
)paren
(brace
r_switch
c_cond
(paren
id|val
op_amp
id|VCC_MASK
)paren
(brace
r_case
id|VCC_3V
suffix:colon
r_return
l_int|33
suffix:semicolon
r_case
id|VCC_5V
suffix:colon
r_return
l_int|50
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|get_Vpp_value
r_static
r_inline
id|u_char
id|get_Vpp_value
c_func
(paren
r_uint8
id|val
)paren
(brace
r_switch
c_cond
(paren
id|val
op_amp
id|VPP_MASK
)paren
(brace
r_case
id|VPP_12V
suffix:colon
r_return
l_int|120
suffix:semicolon
r_case
id|VPP_VCC
suffix:colon
r_return
id|get_Vcc_value
c_func
(paren
id|val
)paren
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|cardu_get_socket
r_static
r_int
id|cardu_get_socket
c_func
(paren
r_int
r_int
id|sock
comma
id|socket_state_t
op_star
id|state
)paren
(brace
id|vrc4173_socket_t
op_star
id|socket
op_assign
op_amp
id|cardu_sockets
(braket
id|sock
)braket
suffix:semicolon
r_uint8
id|val
suffix:semicolon
id|val
op_assign
id|exca_readb
c_func
(paren
id|socket
comma
id|PWR_CNT
)paren
suffix:semicolon
id|state-&gt;Vcc
op_assign
id|get_Vcc_value
c_func
(paren
id|val
)paren
suffix:semicolon
id|state-&gt;Vpp
op_assign
id|get_Vpp_value
c_func
(paren
id|val
)paren
suffix:semicolon
id|state-&gt;flags
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|val
op_amp
id|CARD_OUT_EN
)paren
id|state-&gt;flags
op_or_assign
id|SS_OUTPUT_ENA
suffix:semicolon
id|val
op_assign
id|exca_readb
c_func
(paren
id|socket
comma
id|INT_GEN_CNT
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
(paren
id|val
op_amp
id|CARD_REST0
)paren
)paren
id|state-&gt;flags
op_or_assign
id|SS_RESET
suffix:semicolon
r_if
c_cond
(paren
id|val
op_amp
id|CARD_TYPE_IO
)paren
id|state-&gt;flags
op_or_assign
id|SS_IOCARD
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|set_Vcc_value
r_static
r_inline
r_uint8
id|set_Vcc_value
c_func
(paren
id|u_char
id|Vcc
)paren
(brace
r_switch
c_cond
(paren
id|Vcc
)paren
(brace
r_case
l_int|33
suffix:colon
r_return
id|VCC_3V
suffix:semicolon
r_case
l_int|50
suffix:colon
r_return
id|VCC_5V
suffix:semicolon
)brace
r_return
id|VCC_0V
suffix:semicolon
)brace
DECL|function|set_Vpp_value
r_static
r_inline
r_uint8
id|set_Vpp_value
c_func
(paren
id|u_char
id|Vpp
)paren
(brace
r_switch
c_cond
(paren
id|Vpp
)paren
(brace
r_case
l_int|33
suffix:colon
r_case
l_int|50
suffix:colon
r_return
id|VPP_VCC
suffix:semicolon
r_case
l_int|120
suffix:colon
r_return
id|VPP_12V
suffix:semicolon
)brace
r_return
id|VPP_0V
suffix:semicolon
)brace
DECL|function|cardu_set_socket
r_static
r_int
id|cardu_set_socket
c_func
(paren
r_int
r_int
id|sock
comma
id|socket_state_t
op_star
id|state
)paren
(brace
id|vrc4173_socket_t
op_star
id|socket
op_assign
op_amp
id|cardu_sockets
(braket
id|sock
)braket
suffix:semicolon
r_uint8
id|val
suffix:semicolon
r_if
c_cond
(paren
(paren
(paren
id|state-&gt;Vpp
op_eq
l_int|33
)paren
op_logical_or
(paren
id|state-&gt;Vpp
op_eq
l_int|50
)paren
)paren
op_logical_and
(paren
id|state-&gt;Vpp
op_ne
id|state-&gt;Vcc
)paren
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
id|val
op_assign
id|set_Vcc_value
c_func
(paren
id|state-&gt;Vcc
)paren
suffix:semicolon
id|val
op_or_assign
id|set_Vpp_value
c_func
(paren
id|state-&gt;Vpp
)paren
suffix:semicolon
r_if
c_cond
(paren
id|state-&gt;flags
op_amp
id|SS_OUTPUT_ENA
)paren
id|val
op_or_assign
id|CARD_OUT_EN
suffix:semicolon
id|exca_writeb
c_func
(paren
id|socket
comma
id|PWR_CNT
comma
id|val
)paren
suffix:semicolon
id|val
op_assign
id|exca_readb
c_func
(paren
id|socket
comma
id|INT_GEN_CNT
)paren
op_amp
id|CARD_REST0
suffix:semicolon
r_if
c_cond
(paren
id|state-&gt;flags
op_amp
id|SS_RESET
)paren
id|val
op_and_assign
op_complement
id|CARD_REST0
suffix:semicolon
r_else
id|val
op_or_assign
id|CARD_REST0
suffix:semicolon
r_if
c_cond
(paren
id|state-&gt;flags
op_amp
id|SS_IOCARD
)paren
id|val
op_or_assign
id|CARD_TYPE_IO
suffix:semicolon
id|exca_writeb
c_func
(paren
id|socket
comma
id|INT_GEN_CNT
comma
id|val
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|cardu_get_io_map
r_static
r_int
id|cardu_get_io_map
c_func
(paren
r_int
r_int
id|sock
comma
r_struct
id|pccard_io_map
op_star
id|io
)paren
(brace
id|vrc4173_socket_t
op_star
id|socket
op_assign
op_amp
id|cardu_sockets
(braket
id|sock
)braket
suffix:semicolon
r_uint8
id|ioctl
comma
id|window
suffix:semicolon
id|u_char
id|map
suffix:semicolon
id|map
op_assign
id|io-&gt;map
suffix:semicolon
r_if
c_cond
(paren
id|map
OG
l_int|1
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
id|io-&gt;start
op_assign
id|exca_readw
c_func
(paren
id|socket
comma
id|IO_WIN_SA
c_func
(paren
id|map
)paren
)paren
suffix:semicolon
id|io-&gt;stop
op_assign
id|exca_readw
c_func
(paren
id|socket
comma
id|IO_WIN_EA
c_func
(paren
id|map
)paren
)paren
suffix:semicolon
id|ioctl
op_assign
id|exca_readb
c_func
(paren
id|socket
comma
id|IO_WIN_CNT
)paren
suffix:semicolon
id|window
op_assign
id|exca_readb
c_func
(paren
id|socket
comma
id|ADR_WIN_EN
)paren
suffix:semicolon
id|io-&gt;flags
op_assign
(paren
id|window
op_amp
id|IO_WIN_EN
c_func
(paren
id|map
)paren
)paren
ques
c_cond
id|MAP_ACTIVE
suffix:colon
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|ioctl
op_amp
id|IO_WIN_DATA_AUTOSZ
c_func
(paren
id|map
)paren
)paren
id|io-&gt;flags
op_or_assign
id|MAP_AUTOSZ
suffix:semicolon
r_else
r_if
c_cond
(paren
id|ioctl
op_amp
id|IO_WIN_DATA_16BIT
c_func
(paren
id|map
)paren
)paren
id|io-&gt;flags
op_or_assign
id|MAP_16BIT
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|cardu_set_io_map
r_static
r_int
id|cardu_set_io_map
c_func
(paren
r_int
r_int
id|sock
comma
r_struct
id|pccard_io_map
op_star
id|io
)paren
(brace
id|vrc4173_socket_t
op_star
id|socket
op_assign
op_amp
id|cardu_sockets
(braket
id|sock
)braket
suffix:semicolon
r_uint16
id|ioctl
suffix:semicolon
r_uint8
id|window
comma
id|enable
suffix:semicolon
id|u_char
id|map
suffix:semicolon
id|map
op_assign
id|io-&gt;map
suffix:semicolon
r_if
c_cond
(paren
id|map
OG
l_int|1
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
id|window
op_assign
id|exca_readb
c_func
(paren
id|socket
comma
id|ADR_WIN_EN
)paren
suffix:semicolon
id|enable
op_assign
id|IO_WIN_EN
c_func
(paren
id|map
)paren
suffix:semicolon
r_if
c_cond
(paren
id|window
op_amp
id|enable
)paren
(brace
id|window
op_and_assign
op_complement
id|enable
suffix:semicolon
id|exca_writeb
c_func
(paren
id|socket
comma
id|ADR_WIN_EN
comma
id|window
)paren
suffix:semicolon
)brace
id|exca_writew
c_func
(paren
id|socket
comma
id|IO_WIN_SA
c_func
(paren
id|map
)paren
comma
id|io-&gt;start
)paren
suffix:semicolon
id|exca_writew
c_func
(paren
id|socket
comma
id|IO_WIN_EA
c_func
(paren
id|map
)paren
comma
id|io-&gt;stop
)paren
suffix:semicolon
id|ioctl
op_assign
id|exca_readb
c_func
(paren
id|socket
comma
id|IO_WIN_CNT
)paren
op_amp
op_complement
id|IO_WIN_CNT_MASK
c_func
(paren
id|map
)paren
suffix:semicolon
r_if
c_cond
(paren
id|io-&gt;flags
op_amp
id|MAP_AUTOSZ
)paren
id|ioctl
op_or_assign
id|IO_WIN_DATA_AUTOSZ
c_func
(paren
id|map
)paren
suffix:semicolon
r_else
r_if
c_cond
(paren
id|io-&gt;flags
op_amp
id|MAP_16BIT
)paren
id|ioctl
op_or_assign
id|IO_WIN_DATA_16BIT
c_func
(paren
id|map
)paren
suffix:semicolon
id|exca_writeb
c_func
(paren
id|socket
comma
id|IO_WIN_CNT
comma
id|ioctl
)paren
suffix:semicolon
r_if
c_cond
(paren
id|io-&gt;flags
op_amp
id|MAP_ACTIVE
)paren
id|exca_writeb
c_func
(paren
id|socket
comma
id|ADR_WIN_EN
comma
id|window
op_or
id|enable
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|cardu_get_mem_map
r_static
r_int
id|cardu_get_mem_map
c_func
(paren
r_int
r_int
id|sock
comma
r_struct
id|pccard_mem_map
op_star
id|mem
)paren
(brace
id|vrc4173_socket_t
op_star
id|socket
op_assign
op_amp
id|cardu_sockets
(braket
id|sock
)braket
suffix:semicolon
r_uint32
id|start
comma
id|stop
comma
id|offset
comma
id|page
suffix:semicolon
r_uint8
id|window
suffix:semicolon
id|u_char
id|map
suffix:semicolon
id|map
op_assign
id|mem-&gt;map
suffix:semicolon
r_if
c_cond
(paren
id|map
OG
l_int|4
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
id|window
op_assign
id|exca_readb
c_func
(paren
id|socket
comma
id|ADR_WIN_EN
)paren
suffix:semicolon
id|mem-&gt;flags
op_assign
(paren
id|window
op_amp
id|MEM_WIN_EN
c_func
(paren
id|map
)paren
)paren
ques
c_cond
id|MAP_ACTIVE
suffix:colon
l_int|0
suffix:semicolon
id|start
op_assign
id|exca_readw
c_func
(paren
id|socket
comma
id|MEM_WIN_SA
c_func
(paren
id|map
)paren
)paren
suffix:semicolon
id|mem-&gt;flags
op_or_assign
(paren
id|start
op_amp
id|MEM_WIN_DSIZE
)paren
ques
c_cond
id|MAP_16BIT
suffix:colon
l_int|0
suffix:semicolon
id|start
op_assign
(paren
id|start
op_amp
l_int|0x0fff
)paren
op_lshift
l_int|12
suffix:semicolon
id|stop
op_assign
id|exca_readw
c_func
(paren
id|socket
comma
id|MEM_WIN_EA
c_func
(paren
id|map
)paren
)paren
suffix:semicolon
id|stop
op_assign
(paren
(paren
id|stop
op_amp
l_int|0x0fff
)paren
op_lshift
l_int|12
)paren
op_plus
l_int|0x0fff
suffix:semicolon
id|offset
op_assign
id|exca_readw
c_func
(paren
id|socket
comma
id|MEM_WIN_OA
c_func
(paren
id|map
)paren
)paren
suffix:semicolon
id|mem-&gt;flags
op_or_assign
(paren
id|offset
op_amp
id|MEM_WIN_WP
)paren
ques
c_cond
id|MAP_WRPROT
suffix:colon
l_int|0
suffix:semicolon
id|mem-&gt;flags
op_or_assign
(paren
id|offset
op_amp
id|MEM_WIN_REGSET
)paren
ques
c_cond
id|MAP_ATTRIB
suffix:colon
l_int|0
suffix:semicolon
id|offset
op_assign
(paren
(paren
id|offset
op_amp
l_int|0x3fff
)paren
op_lshift
l_int|12
)paren
op_plus
id|start
suffix:semicolon
id|mem-&gt;card_start
op_assign
id|offset
op_amp
l_int|0x03ffffff
suffix:semicolon
id|page
op_assign
id|exca_readb
c_func
(paren
id|socket
comma
id|MEM_WIN_SAU
c_func
(paren
id|map
)paren
)paren
op_lshift
l_int|24
suffix:semicolon
id|mem-&gt;sys_start
op_assign
id|start
op_plus
id|page
suffix:semicolon
id|mem-&gt;sys_stop
op_assign
id|start
op_plus
id|page
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|cardu_set_mem_map
r_static
r_int
id|cardu_set_mem_map
c_func
(paren
r_int
r_int
id|sock
comma
r_struct
id|pccard_mem_map
op_star
id|mem
)paren
(brace
id|vrc4173_socket_t
op_star
id|socket
op_assign
op_amp
id|cardu_sockets
(braket
id|sock
)braket
suffix:semicolon
r_uint16
id|value
suffix:semicolon
r_uint8
id|window
comma
id|enable
suffix:semicolon
id|u_long
id|sys_start
comma
id|sys_stop
comma
id|card_start
suffix:semicolon
id|u_char
id|map
suffix:semicolon
id|map
op_assign
id|mem-&gt;map
suffix:semicolon
id|sys_start
op_assign
id|mem-&gt;sys_start
suffix:semicolon
id|sys_stop
op_assign
id|mem-&gt;sys_stop
suffix:semicolon
id|card_start
op_assign
id|mem-&gt;card_start
suffix:semicolon
r_if
c_cond
(paren
id|map
OG
l_int|4
op_logical_or
id|sys_start
OG
id|sys_stop
op_logical_or
(paren
(paren
id|sys_start
op_xor
id|sys_stop
)paren
op_rshift
l_int|24
)paren
op_logical_or
(paren
id|card_start
op_rshift
l_int|26
)paren
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
id|window
op_assign
id|exca_readb
c_func
(paren
id|socket
comma
id|ADR_WIN_EN
)paren
suffix:semicolon
id|enable
op_assign
id|MEM_WIN_EN
c_func
(paren
id|map
)paren
suffix:semicolon
r_if
c_cond
(paren
id|window
op_amp
id|enable
)paren
(brace
id|window
op_and_assign
op_complement
id|enable
suffix:semicolon
id|exca_writeb
c_func
(paren
id|socket
comma
id|ADR_WIN_EN
comma
id|window
)paren
suffix:semicolon
)brace
id|exca_writeb
c_func
(paren
id|socket
comma
id|MEM_WIN_SAU
c_func
(paren
id|map
)paren
comma
id|sys_start
op_rshift
l_int|24
)paren
suffix:semicolon
id|value
op_assign
(paren
id|sys_start
op_rshift
l_int|12
)paren
op_amp
l_int|0x0fff
suffix:semicolon
r_if
c_cond
(paren
id|mem-&gt;flags
op_amp
id|MAP_16BIT
)paren
id|value
op_or_assign
id|MEM_WIN_DSIZE
suffix:semicolon
id|exca_writew
c_func
(paren
id|socket
comma
id|MEM_WIN_SA
c_func
(paren
id|map
)paren
comma
id|value
)paren
suffix:semicolon
id|value
op_assign
(paren
id|sys_stop
op_rshift
l_int|12
)paren
op_amp
l_int|0x0fff
suffix:semicolon
id|exca_writew
c_func
(paren
id|socket
comma
id|MEM_WIN_EA
c_func
(paren
id|map
)paren
comma
id|value
)paren
suffix:semicolon
id|value
op_assign
(paren
(paren
id|card_start
op_minus
id|sys_start
)paren
op_rshift
l_int|12
)paren
op_amp
l_int|0x3fff
suffix:semicolon
r_if
c_cond
(paren
id|mem-&gt;flags
op_amp
id|MAP_WRPROT
)paren
id|value
op_or_assign
id|MEM_WIN_WP
suffix:semicolon
r_if
c_cond
(paren
id|mem-&gt;flags
op_amp
id|MAP_ATTRIB
)paren
id|value
op_or_assign
id|MEM_WIN_REGSET
suffix:semicolon
id|exca_writew
c_func
(paren
id|socket
comma
id|MEM_WIN_OA
c_func
(paren
id|map
)paren
comma
id|value
)paren
suffix:semicolon
r_if
c_cond
(paren
id|mem-&gt;flags
op_amp
id|MAP_ACTIVE
)paren
id|exca_writeb
c_func
(paren
id|socket
comma
id|ADR_WIN_EN
comma
id|window
op_or
id|enable
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|cardu_proc_setup
r_static
r_void
id|cardu_proc_setup
c_func
(paren
r_int
r_int
id|sock
comma
r_struct
id|proc_dir_entry
op_star
id|base
)paren
(brace
)brace
DECL|variable|cardu_operations
r_static
r_struct
id|pccard_operations
id|cardu_operations
op_assign
(brace
dot
id|init
op_assign
id|cardu_init
comma
dot
id|suspend
op_assign
id|cardu_suspend
comma
dot
id|register_callback
op_assign
id|cardu_register_callback
comma
dot
id|inquire_socket
op_assign
id|cardu_inquire_socket
comma
dot
id|get_status
op_assign
id|cardu_get_status
comma
dot
id|get_socket
op_assign
id|cardu_get_socket
comma
dot
id|set_socket
op_assign
id|cardu_set_socket
comma
dot
id|get_io_map
op_assign
id|cardu_get_io_map
comma
dot
id|set_io_map
op_assign
id|cardu_set_io_map
comma
dot
id|get_mem_map
op_assign
id|cardu_get_mem_map
comma
dot
id|set_mem_map
op_assign
id|cardu_set_mem_map
comma
dot
id|proc_setup
op_assign
id|cardu_proc_setup
comma
)brace
suffix:semicolon
DECL|function|cardu_bh
r_static
r_void
id|cardu_bh
c_func
(paren
r_void
op_star
id|data
)paren
(brace
id|vrc4173_socket_t
op_star
id|socket
op_assign
(paren
id|vrc4173_socket_t
op_star
)paren
id|data
suffix:semicolon
r_uint16
id|events
suffix:semicolon
id|spin_lock_irq
c_func
(paren
op_amp
id|socket-&gt;event_lock
)paren
suffix:semicolon
id|events
op_assign
id|socket-&gt;events
suffix:semicolon
id|socket-&gt;events
op_assign
l_int|0
suffix:semicolon
id|spin_unlock_irq
c_func
(paren
op_amp
id|socket-&gt;event_lock
)paren
suffix:semicolon
r_if
c_cond
(paren
id|socket-&gt;handler
)paren
id|socket
op_member_access_from_pointer
id|handler
c_func
(paren
id|socket-&gt;info
comma
id|events
)paren
suffix:semicolon
)brace
DECL|function|get_events
r_static
r_uint16
id|get_events
c_func
(paren
id|vrc4173_socket_t
op_star
id|socket
)paren
(brace
r_uint16
id|events
op_assign
l_int|0
suffix:semicolon
r_uint8
id|csc
comma
id|status
suffix:semicolon
id|status
op_assign
id|exca_readb
c_func
(paren
id|socket
comma
id|IF_STATUS
)paren
suffix:semicolon
id|csc
op_assign
id|exca_readb
c_func
(paren
id|socket
comma
id|CARD_SC
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|csc
op_amp
id|CARD_DT_CHG
)paren
op_logical_and
(paren
(paren
id|status
op_amp
(paren
id|CARD_DETECT1
op_or
id|CARD_DETECT2
)paren
)paren
op_eq
(paren
id|CARD_DETECT1
op_or
id|CARD_DETECT2
)paren
)paren
)paren
id|events
op_or_assign
id|SS_DETECT
suffix:semicolon
r_if
c_cond
(paren
(paren
id|csc
op_amp
id|RDY_CHG
)paren
op_logical_and
(paren
id|status
op_amp
id|READY
)paren
)paren
id|events
op_or_assign
id|SS_READY
suffix:semicolon
r_if
c_cond
(paren
id|exca_readb
c_func
(paren
id|socket
comma
id|INT_GEN_CNT
)paren
op_amp
id|CARD_TYPE_IO
)paren
(brace
r_if
c_cond
(paren
(paren
id|csc
op_amp
id|BAT_DEAD_ST_CHG
)paren
op_logical_and
(paren
id|status
op_amp
id|STSCHG
)paren
)paren
id|events
op_or_assign
id|SS_STSCHG
suffix:semicolon
)brace
r_else
(brace
r_if
c_cond
(paren
id|csc
op_amp
(paren
id|BAT_WAR_CHG
op_or
id|BAT_DEAD_ST_CHG
)paren
)paren
(brace
r_if
c_cond
(paren
(paren
id|status
op_amp
id|BV_DETECT_MASK
)paren
op_ne
id|BV_DETECT_GOOD
)paren
(brace
r_if
c_cond
(paren
id|status
op_eq
id|BV_DETECT_WARN
)paren
id|events
op_or_assign
id|SS_BATWARN
suffix:semicolon
r_else
id|events
op_or_assign
id|SS_BATDEAD
suffix:semicolon
)brace
)brace
)brace
r_return
id|events
suffix:semicolon
)brace
DECL|function|cardu_interrupt
r_static
r_void
id|cardu_interrupt
c_func
(paren
r_int
id|irq
comma
r_void
op_star
id|dev_id
comma
r_struct
id|pt_regs
op_star
id|regs
)paren
(brace
id|vrc4173_socket_t
op_star
id|socket
op_assign
(paren
id|vrc4173_socket_t
op_star
)paren
id|dev_id
suffix:semicolon
r_uint16
id|events
suffix:semicolon
id|INIT_WORK
c_func
(paren
op_amp
id|socket-&gt;tq_work
comma
id|cardu_bh
comma
id|socket
)paren
suffix:semicolon
id|events
op_assign
id|get_events
c_func
(paren
id|socket
)paren
suffix:semicolon
r_if
c_cond
(paren
id|events
)paren
(brace
id|spin_lock
c_func
(paren
op_amp
id|socket-&gt;event_lock
)paren
suffix:semicolon
id|socket-&gt;events
op_or_assign
id|events
suffix:semicolon
id|spin_unlock
c_func
(paren
op_amp
id|socket-&gt;event_lock
)paren
suffix:semicolon
id|schedule_work
c_func
(paren
op_amp
id|socket-&gt;tq_work
)paren
suffix:semicolon
)brace
)brace
DECL|function|vrc4173_cardu_probe
r_static
r_int
id|__devinit
id|vrc4173_cardu_probe
c_func
(paren
r_struct
id|pci_dev
op_star
id|dev
comma
r_const
r_struct
id|pci_device_id
op_star
id|ent
)paren
(brace
id|vrc4173_socket_t
op_star
id|socket
suffix:semicolon
r_int
r_int
id|start
comma
id|len
comma
id|flags
suffix:semicolon
r_int
id|slot
comma
id|err
suffix:semicolon
id|slot
op_assign
id|vrc4173_cardu_slots
op_increment
suffix:semicolon
id|socket
op_assign
op_amp
id|cardu_sockets
(braket
id|slot
)braket
suffix:semicolon
r_if
c_cond
(paren
id|socket-&gt;noprobe
op_ne
l_int|0
)paren
r_return
op_minus
id|EBUSY
suffix:semicolon
id|sprintf
c_func
(paren
id|socket-&gt;name
comma
l_string|&quot;NEC VRC4173 CARDU%1d&quot;
comma
id|slot
op_plus
l_int|1
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|err
op_assign
id|pci_enable_device
c_func
(paren
id|dev
)paren
)paren
OL
l_int|0
)paren
r_return
id|err
suffix:semicolon
id|start
op_assign
id|pci_resource_start
c_func
(paren
id|dev
comma
l_int|0
)paren
suffix:semicolon
r_if
c_cond
(paren
id|start
op_eq
l_int|0
)paren
r_return
op_minus
id|ENODEV
suffix:semicolon
id|len
op_assign
id|pci_resource_len
c_func
(paren
id|dev
comma
l_int|0
)paren
suffix:semicolon
r_if
c_cond
(paren
id|len
op_eq
l_int|0
)paren
r_return
op_minus
id|ENODEV
suffix:semicolon
r_if
c_cond
(paren
(paren
(paren
id|flags
op_assign
id|pci_resource_flags
c_func
(paren
id|dev
comma
l_int|0
)paren
)paren
op_amp
id|IORESOURCE_MEM
)paren
op_eq
l_int|0
)paren
r_return
op_minus
id|EBUSY
suffix:semicolon
r_if
c_cond
(paren
(paren
id|err
op_assign
id|pci_request_regions
c_func
(paren
id|dev
comma
id|socket-&gt;name
)paren
)paren
OL
l_int|0
)paren
r_return
id|err
suffix:semicolon
id|socket-&gt;base
op_assign
id|ioremap
c_func
(paren
id|start
comma
id|len
)paren
suffix:semicolon
r_if
c_cond
(paren
id|socket-&gt;base
op_eq
l_int|NULL
)paren
r_return
op_minus
id|ENODEV
suffix:semicolon
id|socket-&gt;dev
op_assign
id|dev
suffix:semicolon
id|socket-&gt;pcmcia_socket
op_assign
id|pcmcia_register_socket
c_func
(paren
id|slot
comma
op_amp
id|cardu_operations
comma
l_int|1
)paren
suffix:semicolon
r_if
c_cond
(paren
id|socket-&gt;pcmcia_socket
op_eq
l_int|NULL
)paren
(brace
id|iounmap
c_func
(paren
id|socket-&gt;base
)paren
suffix:semicolon
id|socket-&gt;base
op_assign
l_int|NULL
suffix:semicolon
r_return
op_minus
id|ENOMEM
suffix:semicolon
)brace
r_if
c_cond
(paren
id|request_irq
c_func
(paren
id|dev-&gt;irq
comma
id|cardu_interrupt
comma
id|SA_SHIRQ
comma
id|socket-&gt;name
comma
id|socket
)paren
OL
l_int|0
)paren
(brace
id|pcmcia_unregister_socket
c_func
(paren
id|socket-&gt;pcmcia_socket
)paren
suffix:semicolon
id|socket-&gt;pcmcia_socket
op_assign
l_int|NULL
suffix:semicolon
id|iounmap
c_func
(paren
id|socket-&gt;base
)paren
suffix:semicolon
id|socket-&gt;base
op_assign
l_int|NULL
suffix:semicolon
r_return
op_minus
id|EBUSY
suffix:semicolon
)brace
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;%s at %#08lx, IRQ %d&bslash;n&quot;
comma
id|socket-&gt;name
comma
id|start
comma
id|dev-&gt;irq
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|vrc4173_cardu_setup
r_static
r_int
id|__devinit
id|vrc4173_cardu_setup
c_func
(paren
r_char
op_star
id|options
)paren
(brace
r_if
c_cond
(paren
id|options
op_eq
l_int|NULL
op_logical_or
op_star
id|options
op_eq
l_char|&squot;&bslash;0&squot;
)paren
r_return
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|strncmp
c_func
(paren
id|options
comma
l_string|&quot;cardu1:&quot;
comma
l_int|7
)paren
op_eq
l_int|0
)paren
(brace
id|options
op_add_assign
l_int|7
suffix:semicolon
r_if
c_cond
(paren
op_star
id|options
op_ne
l_char|&squot;&bslash;0&squot;
)paren
(brace
r_if
c_cond
(paren
id|strncmp
c_func
(paren
id|options
comma
l_string|&quot;noprobe&quot;
comma
l_int|7
)paren
op_eq
l_int|0
)paren
(brace
id|cardu_sockets
(braket
id|CARDU1
)braket
dot
id|noprobe
op_assign
l_int|1
suffix:semicolon
id|options
op_add_assign
l_int|7
suffix:semicolon
)brace
r_if
c_cond
(paren
op_star
id|options
op_ne
l_char|&squot;,&squot;
)paren
r_return
l_int|0
suffix:semicolon
)brace
r_else
r_return
l_int|0
suffix:semicolon
)brace
r_if
c_cond
(paren
id|strncmp
c_func
(paren
id|options
comma
l_string|&quot;cardu2:&quot;
comma
l_int|7
)paren
op_eq
l_int|0
)paren
(brace
id|options
op_add_assign
l_int|7
suffix:semicolon
r_if
c_cond
(paren
(paren
op_star
id|options
op_ne
l_char|&squot;&bslash;0&squot;
)paren
op_logical_and
(paren
id|strncmp
c_func
(paren
id|options
comma
l_string|&quot;noprobe&quot;
comma
l_int|7
)paren
op_eq
l_int|0
)paren
)paren
id|cardu_sockets
(braket
id|CARDU2
)braket
dot
id|noprobe
op_assign
l_int|1
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
id|__setup
c_func
(paren
l_string|&quot;vrc4173_cardu=&quot;
comma
id|vrc4173_cardu_setup
)paren
suffix:semicolon
DECL|variable|__devinitdata
r_static
r_struct
id|pci_device_id
id|vrc4173_cardu_id_table
(braket
)braket
id|__devinitdata
op_assign
(brace
(brace
dot
id|vendor
op_assign
id|PCI_VENDOR_ID_NEC
comma
dot
id|device
op_assign
id|PCI_DEVICE_ID_NEC_NAPCCARD
comma
dot
id|subvendor
op_assign
id|PCI_ANY_ID
comma
dot
id|subdevice
op_assign
id|PCI_ANY_ID
comma
)brace
comma
(brace
l_int|0
comma
)brace
)brace
suffix:semicolon
DECL|variable|vrc4173_cardu_driver
r_static
r_struct
id|pci_driver
id|vrc4173_cardu_driver
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;NEC VRC4173 CARDU&quot;
comma
dot
id|probe
op_assign
id|vrc4173_cardu_probe
comma
dot
id|id_table
op_assign
id|vrc4173_cardu_id_table
comma
)brace
suffix:semicolon
DECL|function|vrc4173_cardu_init
r_static
r_int
id|__devinit
id|vrc4173_cardu_init
c_func
(paren
r_void
)paren
(brace
id|vrc4173_cardu_slots
op_assign
l_int|0
suffix:semicolon
r_return
id|pci_module_init
c_func
(paren
op_amp
id|vrc4173_cardu_driver
)paren
suffix:semicolon
)brace
DECL|function|vrc4173_cardu_exit
r_static
r_void
id|__devexit
id|vrc4173_cardu_exit
c_func
(paren
r_void
)paren
(brace
id|pci_unregister_driver
c_func
(paren
op_amp
id|vrc4173_cardu_driver
)paren
suffix:semicolon
)brace
DECL|variable|vrc4173_cardu_init
id|module_init
c_func
(paren
id|vrc4173_cardu_init
)paren
suffix:semicolon
DECL|variable|vrc4173_cardu_exit
id|module_exit
c_func
(paren
id|vrc4173_cardu_exit
)paren
suffix:semicolon
eof
