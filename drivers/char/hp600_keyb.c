multiline_comment|/*&n; *&t;$Id$ &n; *&t;Copyright (C) 2000 YAEGASHI Takeshi&n; *&t;HP600 keyboard scan routine and translation table&n; *&t;Copyright (C) 2000 Niibe Yutaka&n; *&t;HP620 keyboard translation table&n; */
macro_line|#include &lt;linux/kernel.h&gt;
macro_line|#include &lt;linux/sched.h&gt;
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;asm/machvec.h&gt;
macro_line|#include &lt;asm/delay.h&gt;
macro_line|#include &lt;asm/io.h&gt;
macro_line|#include &quot;scan_keyb.h&quot;
DECL|macro|PCDR
mdefine_line|#define PCDR 0xa4000124
DECL|macro|PDDR
mdefine_line|#define PDDR 0xa4000126
DECL|macro|PEDR
mdefine_line|#define PEDR 0xa4000128
DECL|macro|PFDR
mdefine_line|#define PFDR 0xa400012a
DECL|macro|PGDR
mdefine_line|#define PGDR 0xa400012c
DECL|macro|PHDR
mdefine_line|#define PHDR 0xa400012e
DECL|macro|PJDR
mdefine_line|#define PJDR 0xa4000130
DECL|macro|PKDR
mdefine_line|#define PKDR 0xa4000132
DECL|macro|PLDR
mdefine_line|#define PLDR 0xa4000134
DECL|variable|hp620_japanese_table
r_static
r_const
r_int
r_char
id|hp620_japanese_table
(braket
)braket
op_assign
(brace
multiline_comment|/* PTD1 */
l_int|0x0a
comma
l_int|0x0b
comma
l_int|0x0c
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x0e
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x02
comma
l_int|0x03
comma
l_int|0x04
comma
l_int|0x05
comma
l_int|0x06
comma
l_int|0x07
comma
l_int|0x08
comma
l_int|0x09
comma
multiline_comment|/* PTD5 */
l_int|0x18
comma
l_int|0x19
comma
l_int|0x0d
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x10
comma
l_int|0x11
comma
l_int|0x12
comma
l_int|0x13
comma
l_int|0x14
comma
l_int|0x15
comma
l_int|0x16
comma
l_int|0x17
comma
multiline_comment|/* PTD7 */
l_int|0x26
comma
l_int|0x1a
comma
l_int|0x2b
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x1e
comma
l_int|0x1f
comma
l_int|0x20
comma
l_int|0x21
comma
l_int|0x22
comma
l_int|0x23
comma
l_int|0x24
comma
l_int|0x25
comma
multiline_comment|/* PTE0 */
l_int|0x27
comma
l_int|0x1b
comma
l_int|0x29
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x2a
comma
l_int|0x0f
comma
l_int|0x01
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
multiline_comment|/* PTE1 */
l_int|0x35
comma
l_int|0x28
comma
l_int|0x1c
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x70
comma
l_int|0x3a
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x2f
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x34
comma
multiline_comment|/* PTE3 */
l_int|0x48
comma
l_int|0x4d
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x2d
comma
l_int|0x2e
comma
l_int|0x7b
comma
l_int|0x30
comma
l_int|0x31
comma
l_int|0x32
comma
l_int|0x33
comma
multiline_comment|/* PTE6 */
l_int|0x4b
comma
l_int|0x50
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x2c
comma
l_int|0x38
comma
l_int|0x00
comma
l_int|0x39
comma
l_int|0x79
comma
l_int|0x7d
comma
l_int|0x73
comma
multiline_comment|/* PTE7 */
l_int|0x41
comma
l_int|0x42
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x1d
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x3b
comma
l_int|0x3c
comma
l_int|0x3d
comma
l_int|0x3e
comma
l_int|0x3f
comma
l_int|0x40
comma
multiline_comment|/* **** */
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
)brace
suffix:semicolon
DECL|variable|hp680_japanese_table
r_static
r_const
r_int
r_char
id|hp680_japanese_table
(braket
)braket
op_assign
(brace
multiline_comment|/* PTD1 */
l_int|0x3a
comma
l_int|0x70
comma
l_int|0x29
comma
l_int|0x00
comma
l_int|0x01
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x3b
comma
l_int|0x3c
comma
l_int|0x3d
comma
l_int|0x42
comma
l_int|0x41
comma
l_int|0x40
comma
l_int|0x3e
comma
l_int|0x3f
comma
multiline_comment|/* PTD5 */
l_int|0x35
comma
l_int|0x28
comma
l_int|0x1c
comma
l_int|0x00
comma
l_int|0x2c
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x2d
comma
l_int|0x2e
comma
l_int|0x2f
comma
l_int|0x34
comma
l_int|0x33
comma
l_int|0x32
comma
l_int|0x30
comma
l_int|0x31
comma
multiline_comment|/* PTD7 */
l_int|0x50
comma
l_int|0x4d
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x4b
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x38
comma
l_int|0x7b
comma
multiline_comment|/* PTE0 */
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0xdb
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x1d
comma
l_int|0x00
comma
l_int|0x39
comma
l_int|0x53
comma
l_int|0x73
comma
l_int|0xf9
comma
l_int|0x00
comma
l_int|0x00
comma
multiline_comment|/* PTE1 */
l_int|0x27
comma
l_int|0x1b
comma
l_int|0x2b
comma
l_int|0x00
comma
l_int|0x1e
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x1f
comma
l_int|0x20
comma
l_int|0x21
comma
l_int|0x26
comma
l_int|0x25
comma
l_int|0x24
comma
l_int|0x22
comma
l_int|0x23
comma
multiline_comment|/* PTE3 */
l_int|0x48
comma
l_int|0x7d
comma
l_int|0x36
comma
l_int|0x00
comma
l_int|0x0f
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x2a
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
multiline_comment|/* PTE6 */
l_int|0x19
comma
l_int|0x1a
comma
l_int|0x0e
comma
l_int|0x00
comma
l_int|0x10
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x11
comma
l_int|0x12
comma
l_int|0x13
comma
l_int|0x18
comma
l_int|0x17
comma
l_int|0x16
comma
l_int|0x14
comma
l_int|0x15
comma
multiline_comment|/* PTE7 */
l_int|0x0b
comma
l_int|0x0c
comma
l_int|0x0d
comma
l_int|0x00
comma
l_int|0x02
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x03
comma
l_int|0x04
comma
l_int|0x05
comma
l_int|0x0a
comma
l_int|0x09
comma
l_int|0x08
comma
l_int|0x06
comma
l_int|0x07
comma
multiline_comment|/* **** */
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
)brace
suffix:semicolon
DECL|function|hp620_japanese_scan_kbd
r_static
r_int
id|hp620_japanese_scan_kbd
c_func
(paren
r_int
r_char
op_star
id|s
)paren
(brace
r_int
id|i
suffix:semicolon
r_int
r_char
id|matrix_switch
(braket
)braket
op_assign
(brace
l_int|0xfd
comma
l_int|0xff
comma
multiline_comment|/* PTD1 */
l_int|0xdf
comma
l_int|0xff
comma
multiline_comment|/* PTD5 */
l_int|0x7f
comma
l_int|0xff
comma
multiline_comment|/* PTD7 */
l_int|0xff
comma
l_int|0xfe
comma
multiline_comment|/* PTE0 */
l_int|0xff
comma
l_int|0xfd
comma
multiline_comment|/* PTE1 */
l_int|0xff
comma
l_int|0xf7
comma
multiline_comment|/* PTE3 */
l_int|0xff
comma
l_int|0xbf
comma
multiline_comment|/* PTE6 */
l_int|0xff
comma
l_int|0x7f
comma
multiline_comment|/* PTE7 */
)brace
comma
op_star
id|t
op_assign
id|matrix_switch
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|8
suffix:semicolon
id|i
op_increment
)paren
(brace
id|ctrl_outb
c_func
(paren
op_star
id|t
op_increment
comma
id|PDDR
)paren
suffix:semicolon
id|ctrl_outb
c_func
(paren
op_star
id|t
op_increment
comma
id|PEDR
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|50
)paren
suffix:semicolon
op_star
id|s
op_increment
op_assign
id|ctrl_inb
c_func
(paren
id|PCDR
)paren
suffix:semicolon
op_star
id|s
op_increment
op_assign
id|ctrl_inb
c_func
(paren
id|PFDR
)paren
suffix:semicolon
)brace
id|ctrl_outb
c_func
(paren
l_int|0xff
comma
id|PDDR
)paren
suffix:semicolon
id|ctrl_outb
c_func
(paren
l_int|0xff
comma
id|PEDR
)paren
suffix:semicolon
op_star
id|s
op_increment
op_assign
id|ctrl_inb
c_func
(paren
id|PGDR
)paren
suffix:semicolon
op_star
id|s
op_increment
op_assign
id|ctrl_inb
c_func
(paren
id|PHDR
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|hp680_japanese_scan_kbd
r_static
r_int
id|hp680_japanese_scan_kbd
c_func
(paren
r_int
r_char
op_star
id|s
)paren
(brace
r_int
id|i
suffix:semicolon
r_int
r_char
id|matrix_switch
(braket
)braket
op_assign
(brace
l_int|0xfd
comma
l_int|0xff
comma
multiline_comment|/* PTD1 */
l_int|0xdf
comma
l_int|0xff
comma
multiline_comment|/* PTD5 */
l_int|0x7f
comma
l_int|0xff
comma
multiline_comment|/* PTD7 */
l_int|0xff
comma
l_int|0xfe
comma
multiline_comment|/* PTE0 */
l_int|0xff
comma
l_int|0xfd
comma
multiline_comment|/* PTE1 */
l_int|0xff
comma
l_int|0xf7
comma
multiline_comment|/* PTE3 */
l_int|0xff
comma
l_int|0xbf
comma
multiline_comment|/* PTE6 */
l_int|0xff
comma
l_int|0x7f
comma
multiline_comment|/* PTE7 */
)brace
comma
op_star
id|t
op_assign
id|matrix_switch
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|8
suffix:semicolon
id|i
op_increment
)paren
(brace
id|ctrl_outb
c_func
(paren
op_star
id|t
op_increment
comma
id|PDDR
)paren
suffix:semicolon
id|ctrl_outb
c_func
(paren
op_star
id|t
op_increment
comma
id|PEDR
)paren
suffix:semicolon
op_star
id|s
op_increment
op_assign
id|ctrl_inb
c_func
(paren
id|PCDR
)paren
suffix:semicolon
op_star
id|s
op_increment
op_assign
id|ctrl_inb
c_func
(paren
id|PFDR
)paren
suffix:semicolon
)brace
id|ctrl_outb
c_func
(paren
l_int|0xff
comma
id|PDDR
)paren
suffix:semicolon
id|ctrl_outb
c_func
(paren
l_int|0xff
comma
id|PEDR
)paren
suffix:semicolon
op_star
id|s
op_increment
op_assign
id|ctrl_inb
c_func
(paren
id|PGDR
)paren
suffix:semicolon
op_star
id|s
op_increment
op_assign
id|ctrl_inb
c_func
(paren
id|PHDR
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|hp600_kbd_init_hw
r_void
id|__init
id|hp600_kbd_init_hw
c_func
(paren
r_void
)paren
(brace
id|scan_kbd_init
c_func
(paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|MACH_HP620
)paren
id|register_scan_keyboard
c_func
(paren
id|hp620_japanese_scan_kbd
comma
id|hp620_japanese_table
comma
l_int|18
)paren
suffix:semicolon
r_else
r_if
c_cond
(paren
id|MACH_HP680
op_logical_or
id|MACH_HP690
)paren
id|register_scan_keyboard
c_func
(paren
id|hp680_japanese_scan_kbd
comma
id|hp680_japanese_table
comma
l_int|18
)paren
suffix:semicolon
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;HP600 matrix scan keyboard registered&bslash;n&quot;
)paren
suffix:semicolon
)brace
multiline_comment|/****************************************************************&n;HP Jornada 690(Japanese version) keyboard scan matrix&n;&n;&t;PTC7&t;PTC6&t;PTC5&t;PTC4&t;PTC3&t;PTC2&t;PTC1&t;PTC0&t;&n;PTD1&t;REC&t;&t;&t;Escape&t;on/off&t;Han/Zen&t;Hira&t;Eisu&t;&n;PTD5&t;REC&t;&t;&t;Z&t;on/off&t;Enter&t;:&t;/&t;&n;PTD7&t;REC&t;&t;&t;&t;&t;&t;Right&t;Down&t;&n;PTE0&t;REC&t;&t;&t;Windows&t;on/off&t;&t;&t;&t;&n;PTE1&t;REC&t;&t;&t;A&t;on/off&t;]&t;[&t;;&t;&n;PTE3&t;REC&t;&t;&t;Tab&t;on/off&t;ShirtR&t;&bslash;&t;Up&t;&n;PTE6&t;REC&t;&t;&t;Q&t;on/off&t;BS&t;@&t;P&t;&n;PTE7&t;REC&t;&t;&t;1&t;on/off&t;^&t;-&t;0&t;&n;&n;&t;PTF7&t;PTF6&t;PTF5&t;PTF4&t;PTF3&t;PTF2&t;PTF1&t;PTF0&n;PTD1&t;F5&t;F4&t;F6&t;F7&t;F8&t;F3&t;F2&t;F1&t;&n;PTD5&t;N&t;B&t;M&t;,&t;.&t;V&t;C&t;X&t;&n;PTD7&t;Muhen&t;Alt&t;&t;&t;Left&t;&t;&t;&t;&n;PTE0&t;&t;&t;Henkan&t;_&t;Del&t;Space&t;&t;Ctrl&t;&n;PTE1&t;H&t;G&t;J&t;K&t;L&t;F&t;D&t;S&t;&n;PTE3&t;&t;&t;&t;&t;&t;&t;ShiftL&t;&t;&n;PTE6&t;Y&t;T&t;U&t;I&t;O&t;R&t;E&t;W&t;&n;PTE7&t;6&t;5&t;7&t;8&t;9&t;4&t;3&t;2&t;&n;&n;&t;PTG5&t;PTG4&t;PTG3&t;PTG0&t;PTH0&n;*&t;REC&t;REW&t;FWW&t;Cover&t;on/off&n;&n;&n;&t;&t;7&t;6&t;5&t;4&t;3&t;2&t;1&t;0&n;C: 0xffff 0xdf&t;IP&t;IP&t;IP&t;IP&t;IP&t;IP&t;IP&t;IP&n;D: 0x6786 0x59&t;O&t;I&t;O&t;IP&t;I&t;F&t;O&t;I&n;E: 0x5045 0x00&t;O&t;O&t;F&t;F&t;O&t;F&t;O&t;O&n;F: 0xffff 0xff&t;IP&t;IP&t;IP&t;IP&t;IP&t;IP&t;IP&t;IP&n;G: 0xaffe 0xfd&t;I&t;I&t;IP&t;IP&t;IP&t;IP&t;IP&t;I&n;H: 0x70f2 0x49&t;O&t;IP&t;F&t;F&t;IP&t;IP&t;F&t;I&n;J: 0x0704 0x22&t;F&t;F&t;O&t;IP&t;F&t;F&t;O&t;F&n;K: 0x0100 0x10&t;F&t;F&t;F&t;O&t;F&t;F&t;F&t;F&n;L: 0x0c3c 0x26&t;F&t;F&t;IP&t;F&t;F&t;IP&t;IP&t;F&n;&n;****************************************************************/
multiline_comment|/****************************************************************&n;HP Jornada 620(Japanese version) keyboard scan matrix&n;&n;&t;PTC7&t;PTC6&t;PTC5&t;PTC4&t;PTC3&t;PTC2&t;PTC1&t;PTC0&n;PTD1&t;EREC&t;&t;BS&t;Ctrl&t;on/off&t;-&t;0&t;9&n;PTD5&t;EREC&t;&t;BS&t;Ctrl&t;on/off&t;^&t;P&t;O&n;PTD7&t;EREC&t;&t;BS&t;Ctrl&t;on/off&t;]&t;@&t;L&n;PTE0&t;EREC&t;&t;BS&t;Ctrl&t;on/off&t;Han/Zen [&t;;&n;PTE1&t;EREC&t;&t;BS&t;Ctrl&t;on/off&t;Enter&t;:&t;/&n;PTE3&t;EREC&t;&t;BS&t;Ctrl&t;on/off&t;&t;Right&t;Up&n;PTE6&t;EREC&t;&t;BS&t;Ctrl&t;on/off&t;&t;Down&t;Left&n;PTE7&t;EREC&t;&t;BS&t;Ctrl&t;on/off&t;&t;F8&t;F7&n;&n;&t;PTF7&t;PTF6&t;PTF5&t;PTF4&t;PTF3&t;PTF2&t;PTF1&t;PTF0&n;PTD1&t;8&t;7&t;6&t;5&t;4&t;3&t;2&t;1&n;PTD5&t;I&t;U&t;Y&t;T&t;R&t;E&t;W&t;Q&n;PTD7&t;K&t;J&t;H&t;G&t;F&t;D&t;S&t;A&n;PTE0&t;&t;&t;&t;&t;&t;ESC&t;Tab&t;Shift&n;PTE1&t;.&t;&t;&t;V&t;&t;&t;Caps&t;Hira&n;PTE3&t;,&t;M&t;N&t;B&t;Muhen&t;C&t;X&n;PTE6&t;_&t;&bslash;&t;Henkan&t;Space&t;&t;Alt&t;Z&n;PTE7&t;F6&t;F5&t;F4&t;F3&t;F2&t;F1&t;&t;REC&n;&n;&t;PTH0&n;*&t;on/off&n;&n;&t;&t;7&t;6&t;5&t;4&t;3&t;2&t;1&t;0&n;C: 0xffff 0xff&t;IP&t;IP&t;IP&t;IP&t;IP&t;IP&t;IP&t;IP&n;D: 0x4404 0xaf&t;O&t;F&t;O&t;F&t;F&t;F&t;O&t;F&n;E: 0x5045 0xff&t;O&t;O&t;F&t;F&t;O&t;F&t;O&t;O&n;F: 0xffff 0xff&t;IP&t;IP&t;IP&t;IP&t;IP&t;IP&t;IP&t;IP&n;G: 0xd5ff 0x00&t;IP&t;O&t;O&t;O&t;IP&t;IP&t;IP&t;IP&n;H: 0x63ff 0xd1&t;O&t;I&t;F&t;IP&t;IP&t;IP&t;IP&t;IP&n;J: 0x0004 0x02&t;F&t;F&t;F&t;F&t;F&t;F&t;O&t;F&n;K: 0x0401 0xff&t;F&t;F&t;O&t;F&t;F&t;F&t;F&t;O&n;L: 0x0c00 0x20&t;F&t;F&t;IP&t;F&t;F&t;F&t;F&t;F&n;&n;ADCSR: 0x08&n;ADCR: 0x3f&n;&n; ****************************************************************/
multiline_comment|/****************************************************************&n;Japanese 109 keyboard scan code layout&n;&n;                                              E02A-     E1- &n;01    3B 3C 3D 3E  3F 40 41 42  43 44 57 58   E037  46  1045&n;                                                                   &n;29 02 03 04 05 06 07 08 09 0A 0B 0C 0D 7D 0E  E052 E047 E049   45 E035 37  4A&n;0F  10 11 12 13 14 15 16 17 18 19 1A 1B   1C  E053 E04F E051   47  48  49  4E&n;3A   1E 1F 20 21 22 23 24 25 26 27 28 2B                       4B  4C  4D&n;2A    2C 2D 2E 2F 30 31 32 33 34 35 73    36       E048        4F  50  51  E0-&n;1D  DB  38  7B   39   79 70  E038 DC DD E01D  E04B E050 E04D     52    53  1C&n;&n;****************************************************************/
macro_line|#if 0
r_int
id|__init
id|hp620_keyboard_test
c_func
(paren
r_void
)paren
(brace
r_int
id|i
suffix:semicolon
r_int
r_char
id|s
(braket
l_int|18
)braket
suffix:semicolon
r_int
r_int
id|a
comma
id|b
comma
id|c
comma
id|d
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot;PCCR: %04lx, PCDR: %02lx&bslash;n&quot;
comma
id|ctrl_inw
c_func
(paren
l_int|0xa4000104
)paren
comma
id|ctrl_inb
c_func
(paren
l_int|0xa4000124
)paren
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot;PDCR: %04lx, PDDR: %02lx&bslash;n&quot;
comma
id|ctrl_inw
c_func
(paren
l_int|0xa4000106
)paren
comma
id|ctrl_inb
c_func
(paren
l_int|0xa4000126
)paren
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot;PECR: %04lx, PEDR: %02lx&bslash;n&quot;
comma
id|ctrl_inw
c_func
(paren
l_int|0xa4000108
)paren
comma
id|ctrl_inb
c_func
(paren
l_int|0xa4000128
)paren
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot;PFCR: %04lx, PFDR: %02lx&bslash;n&quot;
comma
id|ctrl_inw
c_func
(paren
l_int|0xa400010a
)paren
comma
id|ctrl_inb
c_func
(paren
l_int|0xa400012a
)paren
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot;PGCR: %04lx, PGDR: %02lx&bslash;n&quot;
comma
id|ctrl_inw
c_func
(paren
l_int|0xa400010c
)paren
comma
id|ctrl_inb
c_func
(paren
l_int|0xa400012c
)paren
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot;PHCR: %04lx, PHDR: %02lx&bslash;n&quot;
comma
id|ctrl_inw
c_func
(paren
l_int|0xa400010e
)paren
comma
id|ctrl_inb
c_func
(paren
l_int|0xa400012e
)paren
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot;PJCR: %04lx, PJDR: %02lx&bslash;n&quot;
comma
id|ctrl_inw
c_func
(paren
l_int|0xa4000110
)paren
comma
id|ctrl_inb
c_func
(paren
l_int|0xa4000130
)paren
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot;PKCR: %04lx, PKDR: %02lx&bslash;n&quot;
comma
id|ctrl_inw
c_func
(paren
l_int|0xa4000112
)paren
comma
id|ctrl_inb
c_func
(paren
l_int|0xa4000132
)paren
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot;PLCR: %04lx, PLDR: %02lx&bslash;n&quot;
comma
id|ctrl_inw
c_func
(paren
l_int|0xa4000114
)paren
comma
id|ctrl_inb
c_func
(paren
l_int|0xa4000134
)paren
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot;ADCSR: %02lx, ADCR: %02lx&bslash;n&quot;
comma
id|ctrl_inb
c_func
(paren
l_int|0xa4000090
)paren
comma
id|ctrl_inb
c_func
(paren
l_int|0xa4000092
)paren
)paren
suffix:semicolon
id|ctrl_inb
c_func
(paren
l_int|0xa4000004
)paren
suffix:semicolon
id|ctrl_inb
c_func
(paren
l_int|0xa4000006
)paren
suffix:semicolon
id|ctrl_inb
c_func
(paren
l_int|0xa4000008
)paren
suffix:semicolon
id|ctrl_outb
c_func
(paren
l_int|0
comma
l_int|0xa4000004
)paren
suffix:semicolon
id|ctrl_outb
c_func
(paren
l_int|0
comma
l_int|0xa4000006
)paren
suffix:semicolon
id|ctrl_outb
c_func
(paren
l_int|0
comma
l_int|0xa4000008
)paren
suffix:semicolon
id|ctrl_outb
c_func
(paren
l_int|0
comma
l_int|0xa4000090
)paren
suffix:semicolon
id|ctrl_outb
c_func
(paren
l_int|0x3b
comma
l_int|0xa4000090
)paren
suffix:semicolon
r_while
c_loop
(paren
l_int|1
)paren
(brace
id|hp620_japanese_scan_kbd
c_func
(paren
id|s
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|18
suffix:semicolon
id|i
op_add_assign
l_int|2
)paren
(brace
id|printk
c_func
(paren
l_string|&quot;%02x%02x &quot;
comma
id|s
(braket
id|i
)braket
comma
id|s
(braket
id|i
op_plus
l_int|1
)braket
)paren
suffix:semicolon
)brace
macro_line|#if 0
id|ctrl_outb
c_func
(paren
op_complement
l_int|2
comma
id|PJDR
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot;%02lx%02lx &quot;
comma
id|ctrl_inb
c_func
(paren
id|PCDR
)paren
comma
id|ctrl_inb
c_func
(paren
id|PFDR
)paren
)paren
suffix:semicolon
id|ctrl_outb
c_func
(paren
l_int|0xff
comma
id|PJDR
)paren
suffix:semicolon
id|ctrl_outb
c_func
(paren
op_complement
l_int|1
comma
id|PKDR
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot;%02lx%02lx &quot;
comma
id|ctrl_inb
c_func
(paren
id|PCDR
)paren
comma
id|ctrl_inb
c_func
(paren
id|PFDR
)paren
)paren
suffix:semicolon
id|ctrl_outb
c_func
(paren
op_complement
l_int|32
comma
id|PKDR
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot;%02lx%02lx &quot;
comma
id|ctrl_inb
c_func
(paren
id|PCDR
)paren
comma
id|ctrl_inb
c_func
(paren
id|PFDR
)paren
)paren
suffix:semicolon
id|ctrl_outb
c_func
(paren
l_int|0xff
comma
id|PKDR
)paren
suffix:semicolon
macro_line|#endif
id|printk
c_func
(paren
l_string|&quot;%02lx%02lx%02lx%02lx &quot;
comma
id|a
comma
id|b
comma
id|c
comma
id|d
)paren
suffix:semicolon
r_if
c_cond
(paren
id|ctrl_inb
c_func
(paren
l_int|0xa4000090
)paren
op_amp
l_int|0x80
)paren
(brace
id|a
op_assign
id|ctrl_inb
c_func
(paren
l_int|0xa4000080
)paren
suffix:semicolon
id|b
op_assign
id|ctrl_inb
c_func
(paren
l_int|0xa4000084
)paren
suffix:semicolon
id|c
op_assign
id|ctrl_inb
c_func
(paren
l_int|0xa4000088
)paren
suffix:semicolon
id|d
op_assign
id|ctrl_inb
c_func
(paren
l_int|0xa400008c
)paren
suffix:semicolon
id|ctrl_outb
c_func
(paren
l_int|0x3b
comma
l_int|0xa4000090
)paren
suffix:semicolon
)brace
id|printk
c_func
(paren
l_string|&quot;%02lx%02lx%02lx &quot;
comma
id|ctrl_inb
c_func
(paren
l_int|0xa4000004
)paren
comma
id|ctrl_inb
c_func
(paren
l_int|0xa4000006
)paren
comma
id|ctrl_inb
c_func
(paren
l_int|0xa4000008
)paren
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot;&bslash;n&quot;
)paren
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
id|module_init
c_func
(paren
id|keyboard_probe
)paren
suffix:semicolon
macro_line|#endif
eof
