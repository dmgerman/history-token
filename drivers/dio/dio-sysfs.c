multiline_comment|/*&n; *  File Attributes for DIO Devices&n; *&n; *  Copyright (C) 2004 Jochen Friedrich&n; *&n; *  Loosely based on drivers/pci/pci-sysfs.c and drivers/zorro/zorro-sysfs.c&n; *&n; *  This file is subject to the terms and conditions of the GNU General Public&n; *  License.  See the file COPYING in the main directory of this archive&n; *  for more details.&n; */
macro_line|#include &lt;linux/kernel.h&gt;
macro_line|#include &lt;linux/dio.h&gt;
macro_line|#include &lt;linux/stat.h&gt;
multiline_comment|/* show configuration fields */
DECL|function|dio_show_id
r_static
id|ssize_t
id|dio_show_id
c_func
(paren
r_struct
id|device
op_star
id|dev
comma
r_char
op_star
id|buf
)paren
(brace
r_struct
id|dio_dev
op_star
id|d
suffix:semicolon
id|d
op_assign
id|to_dio_dev
c_func
(paren
id|dev
)paren
suffix:semicolon
r_return
id|sprintf
c_func
(paren
id|buf
comma
l_string|&quot;0x%02x&bslash;n&quot;
comma
(paren
id|d-&gt;id
op_amp
l_int|0xff
)paren
)paren
suffix:semicolon
)brace
r_static
id|DEVICE_ATTR
c_func
(paren
id|id
comma
id|S_IRUGO
comma
id|dio_show_id
comma
l_int|NULL
)paren
suffix:semicolon
DECL|function|dio_show_ipl
r_static
id|ssize_t
id|dio_show_ipl
c_func
(paren
r_struct
id|device
op_star
id|dev
comma
r_char
op_star
id|buf
)paren
(brace
r_struct
id|dio_dev
op_star
id|d
suffix:semicolon
id|d
op_assign
id|to_dio_dev
c_func
(paren
id|dev
)paren
suffix:semicolon
r_return
id|sprintf
c_func
(paren
id|buf
comma
l_string|&quot;0x%02x&bslash;n&quot;
comma
id|d-&gt;ipl
)paren
suffix:semicolon
)brace
r_static
id|DEVICE_ATTR
c_func
(paren
id|ipl
comma
id|S_IRUGO
comma
id|dio_show_ipl
comma
l_int|NULL
)paren
suffix:semicolon
DECL|function|dio_show_secid
r_static
id|ssize_t
id|dio_show_secid
c_func
(paren
r_struct
id|device
op_star
id|dev
comma
r_char
op_star
id|buf
)paren
(brace
r_struct
id|dio_dev
op_star
id|d
suffix:semicolon
id|d
op_assign
id|to_dio_dev
c_func
(paren
id|dev
)paren
suffix:semicolon
r_return
id|sprintf
c_func
(paren
id|buf
comma
l_string|&quot;0x%02x&bslash;n&quot;
comma
(paren
(paren
id|d-&gt;id
op_rshift
l_int|8
)paren
op_amp
l_int|0xff
)paren
)paren
suffix:semicolon
)brace
r_static
id|DEVICE_ATTR
c_func
(paren
id|secid
comma
id|S_IRUGO
comma
id|dio_show_secid
comma
l_int|NULL
)paren
suffix:semicolon
DECL|function|dio_show_name
r_static
id|ssize_t
id|dio_show_name
c_func
(paren
r_struct
id|device
op_star
id|dev
comma
r_char
op_star
id|buf
)paren
(brace
r_struct
id|dio_dev
op_star
id|d
suffix:semicolon
id|d
op_assign
id|to_dio_dev
c_func
(paren
id|dev
)paren
suffix:semicolon
r_return
id|sprintf
c_func
(paren
id|buf
comma
l_string|&quot;%s&bslash;n&quot;
comma
id|d-&gt;name
)paren
suffix:semicolon
)brace
r_static
id|DEVICE_ATTR
c_func
(paren
id|name
comma
id|S_IRUGO
comma
id|dio_show_name
comma
l_int|NULL
)paren
suffix:semicolon
DECL|function|dio_show_resource
r_static
id|ssize_t
id|dio_show_resource
c_func
(paren
r_struct
id|device
op_star
id|dev
comma
r_char
op_star
id|buf
)paren
(brace
r_struct
id|dio_dev
op_star
id|d
op_assign
id|to_dio_dev
c_func
(paren
id|dev
)paren
suffix:semicolon
r_return
id|sprintf
c_func
(paren
id|buf
comma
l_string|&quot;0x%08lx 0x%08lx 0x%08lx&bslash;n&quot;
comma
id|dio_resource_start
c_func
(paren
id|d
)paren
comma
id|dio_resource_end
c_func
(paren
id|d
)paren
comma
id|dio_resource_flags
c_func
(paren
id|d
)paren
)paren
suffix:semicolon
)brace
r_static
id|DEVICE_ATTR
c_func
(paren
id|resource
comma
id|S_IRUGO
comma
id|dio_show_resource
comma
l_int|NULL
)paren
suffix:semicolon
DECL|function|dio_create_sysfs_dev_files
r_void
id|dio_create_sysfs_dev_files
c_func
(paren
r_struct
id|dio_dev
op_star
id|d
)paren
(brace
r_struct
id|device
op_star
id|dev
op_assign
op_amp
id|d-&gt;dev
suffix:semicolon
multiline_comment|/* current configuration&squot;s attributes */
id|device_create_file
c_func
(paren
id|dev
comma
op_amp
id|dev_attr_id
)paren
suffix:semicolon
id|device_create_file
c_func
(paren
id|dev
comma
op_amp
id|dev_attr_ipl
)paren
suffix:semicolon
id|device_create_file
c_func
(paren
id|dev
comma
op_amp
id|dev_attr_secid
)paren
suffix:semicolon
id|device_create_file
c_func
(paren
id|dev
comma
op_amp
id|dev_attr_name
)paren
suffix:semicolon
id|device_create_file
c_func
(paren
id|dev
comma
op_amp
id|dev_attr_resource
)paren
suffix:semicolon
)brace
eof
