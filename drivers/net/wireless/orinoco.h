multiline_comment|/* orinoco.h&n; * &n; * Common definitions to all pieces of the various orinoco&n; * drivers&n; */
macro_line|#ifndef _ORINOCO_H
DECL|macro|_ORINOCO_H
mdefine_line|#define _ORINOCO_H
multiline_comment|/* To enable debug messages */
singleline_comment|//#define ORINOCO_DEBUG&t;&t;3
macro_line|#if (! defined (WIRELESS_EXT)) || (WIRELESS_EXT &lt; 10)
macro_line|#error &quot;orinoco driver requires Wireless extensions v10 or later.&quot;
macro_line|#endif /* (! defined (WIRELESS_EXT)) || (WIRELESS_EXT &lt; 10) */
DECL|macro|WIRELESS_SPY
mdefine_line|#define WIRELESS_SPY&t;&t;
singleline_comment|// enable iwspy support
DECL|macro|ORINOCO_MAX_KEY_SIZE
mdefine_line|#define ORINOCO_MAX_KEY_SIZE&t;14
DECL|macro|ORINOCO_MAX_KEYS
mdefine_line|#define ORINOCO_MAX_KEYS&t;4
DECL|struct|orinoco_key
r_typedef
r_struct
id|orinoco_key
(brace
DECL|member|len
id|u16
id|len
suffix:semicolon
multiline_comment|/* always store little-endian */
DECL|member|data
r_char
id|data
(braket
id|ORINOCO_MAX_KEY_SIZE
)braket
suffix:semicolon
DECL|typedef|orinoco_key_t
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
id|orinoco_key_t
suffix:semicolon
DECL|typedef|orinoco_keys_t
r_typedef
id|orinoco_key_t
id|orinoco_keys_t
(braket
id|ORINOCO_MAX_KEYS
)braket
suffix:semicolon
multiline_comment|/*====================================================================*/
DECL|struct|orinoco_private
r_struct
id|orinoco_private
(brace
DECL|member|card
r_void
op_star
id|card
suffix:semicolon
multiline_comment|/* Pointer to card dependant structure */
multiline_comment|/* card dependant extra reset code (i.e. bus/interface specific */
DECL|member|hard_reset
r_int
(paren
op_star
id|hard_reset
)paren
(paren
r_struct
id|orinoco_private
op_star
)paren
suffix:semicolon
DECL|member|lock
id|spinlock_t
id|lock
suffix:semicolon
DECL|member|state
r_int
id|state
suffix:semicolon
DECL|macro|ORINOCO_STATE_INIRQ
mdefine_line|#define ORINOCO_STATE_INIRQ 0
DECL|macro|ORINOCO_STATE_DOIRQ
mdefine_line|#define ORINOCO_STATE_DOIRQ 1
multiline_comment|/* Net device stuff */
DECL|member|ndev
r_struct
id|net_device
op_star
id|ndev
suffix:semicolon
DECL|member|stats
r_struct
id|net_device_stats
id|stats
suffix:semicolon
DECL|member|wstats
r_struct
id|iw_statistics
id|wstats
suffix:semicolon
multiline_comment|/* Hardware control variables */
DECL|member|hw
id|hermes_t
id|hw
suffix:semicolon
DECL|member|txfid
id|u16
id|txfid
suffix:semicolon
multiline_comment|/* Capabilities of the hardware/firmware */
DECL|member|firmware_type
r_int
id|firmware_type
suffix:semicolon
DECL|macro|FIRMWARE_TYPE_AGERE
mdefine_line|#define FIRMWARE_TYPE_AGERE 1
DECL|macro|FIRMWARE_TYPE_INTERSIL
mdefine_line|#define FIRMWARE_TYPE_INTERSIL 2
DECL|macro|FIRMWARE_TYPE_SYMBOL
mdefine_line|#define FIRMWARE_TYPE_SYMBOL 3
DECL|member|has_ibss
DECL|member|has_port3
DECL|member|has_ibss_any
DECL|member|ibss_port
r_int
id|has_ibss
comma
id|has_port3
comma
id|has_ibss_any
comma
id|ibss_port
suffix:semicolon
DECL|member|has_wep
DECL|member|has_big_wep
r_int
id|has_wep
comma
id|has_big_wep
suffix:semicolon
DECL|member|has_mwo
r_int
id|has_mwo
suffix:semicolon
DECL|member|has_pm
r_int
id|has_pm
suffix:semicolon
DECL|member|has_preamble
r_int
id|has_preamble
suffix:semicolon
DECL|member|has_sensitivity
r_int
id|has_sensitivity
suffix:semicolon
DECL|member|nicbuf_size
r_int
id|nicbuf_size
suffix:semicolon
DECL|member|broken_cor_reset
r_int
id|broken_cor_reset
suffix:semicolon
DECL|member|channel_mask
id|u16
id|channel_mask
suffix:semicolon
multiline_comment|/* Configuration paramaters */
DECL|member|iw_mode
id|u32
id|iw_mode
suffix:semicolon
DECL|member|prefer_port3
r_int
id|prefer_port3
suffix:semicolon
DECL|member|wep_on
DECL|member|wep_restrict
DECL|member|tx_key
id|u16
id|wep_on
comma
id|wep_restrict
comma
id|tx_key
suffix:semicolon
DECL|member|keys
id|orinoco_keys_t
id|keys
suffix:semicolon
DECL|member|bitratemode
r_int
id|bitratemode
suffix:semicolon
DECL|member|nick
r_char
id|nick
(braket
id|IW_ESSID_MAX_SIZE
op_plus
l_int|1
)braket
suffix:semicolon
DECL|member|desired_essid
r_char
id|desired_essid
(braket
id|IW_ESSID_MAX_SIZE
op_plus
l_int|1
)braket
suffix:semicolon
DECL|member|frag_thresh
DECL|member|mwo_robust
id|u16
id|frag_thresh
comma
id|mwo_robust
suffix:semicolon
DECL|member|channel
id|u16
id|channel
suffix:semicolon
DECL|member|ap_density
DECL|member|rts_thresh
id|u16
id|ap_density
comma
id|rts_thresh
suffix:semicolon
DECL|member|pm_on
DECL|member|pm_mcast
DECL|member|pm_period
DECL|member|pm_timeout
id|u16
id|pm_on
comma
id|pm_mcast
comma
id|pm_period
comma
id|pm_timeout
suffix:semicolon
DECL|member|preamble
id|u16
id|preamble
suffix:semicolon
macro_line|#ifdef WIRELESS_SPY
DECL|member|spy_number
r_int
id|spy_number
suffix:semicolon
DECL|member|spy_address
id|u_char
id|spy_address
(braket
id|IW_MAX_SPY
)braket
(braket
id|ETH_ALEN
)braket
suffix:semicolon
DECL|member|spy_stat
r_struct
id|iw_quality
id|spy_stat
(braket
id|IW_MAX_SPY
)braket
suffix:semicolon
macro_line|#endif
multiline_comment|/* Configuration dependent variables */
DECL|member|port_type
DECL|member|allow_ibss
r_int
id|port_type
comma
id|allow_ibss
suffix:semicolon
DECL|member|promiscuous
DECL|member|mc_count
r_int
id|promiscuous
comma
id|mc_count
suffix:semicolon
multiline_comment|/* /proc based debugging stuff */
DECL|member|dir_dev
r_struct
id|proc_dir_entry
op_star
id|dir_dev
suffix:semicolon
)brace
suffix:semicolon
multiline_comment|/*====================================================================*/
r_extern
r_struct
id|list_head
id|orinoco_instances
suffix:semicolon
macro_line|#ifdef ORINOCO_DEBUG
r_extern
r_int
id|orinoco_debug
suffix:semicolon
DECL|macro|DEBUG
mdefine_line|#define DEBUG(n, args...) do { if (orinoco_debug&gt;(n)) printk(KERN_DEBUG args); } while(0)
DECL|macro|DEBUGMORE
mdefine_line|#define DEBUGMORE(n, args...) do { if (orinoco_debug&gt;(n)) printk(args); } while (0)
macro_line|#else
DECL|macro|DEBUG
mdefine_line|#define DEBUG(n, args...) do { } while (0)
DECL|macro|DEBUGMORE
mdefine_line|#define DEBUGMORE(n, args...) do { } while (0)
macro_line|#endif&t;/* ORINOCO_DEBUG */
DECL|macro|TRACE_ENTER
mdefine_line|#define TRACE_ENTER(devname) DEBUG(2, &quot;%s: -&gt; &quot; __FUNCTION__ &quot;()&bslash;n&quot;, devname);
DECL|macro|TRACE_EXIT
mdefine_line|#define TRACE_EXIT(devname)  DEBUG(2, &quot;%s: &lt;- &quot; __FUNCTION__ &quot;()&bslash;n&quot;, devname);
DECL|macro|RUP_EVEN
mdefine_line|#define RUP_EVEN(a) ( (a) % 2 ? (a) + 1 : (a) )
multiline_comment|/* utility routines */
r_struct
id|net_device
op_star
id|alloc_orinocodev
c_func
(paren
r_int
id|sizeof_card
)paren
suffix:semicolon
r_extern
r_void
id|orinoco_shutdown
c_func
(paren
r_struct
id|orinoco_private
op_star
id|dev
)paren
suffix:semicolon
r_extern
r_int
id|orinoco_reset
c_func
(paren
r_struct
id|orinoco_private
op_star
id|dev
)paren
suffix:semicolon
r_extern
r_int
id|orinoco_proc_dev_init
c_func
(paren
r_struct
id|orinoco_private
op_star
id|dev
)paren
suffix:semicolon
r_extern
r_void
id|orinoco_proc_dev_cleanup
c_func
(paren
r_struct
id|orinoco_private
op_star
id|priv
)paren
suffix:semicolon
r_extern
r_void
id|orinoco_interrupt
c_func
(paren
r_int
id|irq
comma
r_void
op_star
id|dev_id
comma
r_struct
id|pt_regs
op_star
id|regs
)paren
suffix:semicolon
macro_line|#endif /* _ORINOCO_H */
eof
