multiline_comment|/*******************************************************************************&n;&n;  This software program is available to you under a choice of one of two&n;  licenses. You may choose to be licensed under either the GNU General Public&n;  License 2.0, June 1991, available at http://www.fsf.org/copyleft/gpl.html,&n;  or the Intel BSD + Patent License, the text of which follows:&n;  &n;  Recipient has requested a license and Intel Corporation (&quot;Intel&quot;) is willing&n;  to grant a license for the software entitled Linux Base Driver for the&n;  Intel(R) PRO/1000 Family of Adapters (e1000) (the &quot;Software&quot;) being provided&n;  by Intel Corporation. The following definitions apply to this license:&n;  &n;  &quot;Licensed Patents&quot; means patent claims licensable by Intel Corporation which&n;  are necessarily infringed by the use of sale of the Software alone or when&n;  combined with the operating system referred to below.&n;  &n;  &quot;Recipient&quot; means the party to whom Intel delivers this Software.&n;  &n;  &quot;Licensee&quot; means Recipient and those third parties that receive a license to&n;  any operating system available under the GNU General Public License 2.0 or&n;  later.&n;  &n;  Copyright (c) 1999 - 2002 Intel Corporation.&n;  All rights reserved.&n;  &n;  The license is provided to Recipient and Recipient&squot;s Licensees under the&n;  following terms.&n;  &n;  Redistribution and use in source and binary forms of the Software, with or&n;  without modification, are permitted provided that the following conditions&n;  are met:&n;  &n;  Redistributions of source code of the Software may retain the above&n;  copyright notice, this list of conditions and the following disclaimer.&n;  &n;  Redistributions in binary form of the Software may reproduce the above&n;  copyright notice, this list of conditions and the following disclaimer in&n;  the documentation and/or materials provided with the distribution.&n;  &n;  Neither the name of Intel Corporation nor the names of its contributors&n;  shall be used to endorse or promote products derived from this Software&n;  without specific prior written permission.&n;  &n;  Intel hereby grants Recipient and Licensees a non-exclusive, worldwide,&n;  royalty-free patent license under Licensed Patents to make, use, sell, offer&n;  to sell, import and otherwise transfer the Software, if any, in source code&n;  and object code form. This license shall include changes to the Software&n;  that are error corrections or other minor changes to the Software that do&n;  not add functionality or features when the Software is incorporated in any&n;  version of an operating system that has been distributed under the GNU&n;  General Public License 2.0 or later. This patent license shall apply to the&n;  combination of the Software and any operating system licensed under the GNU&n;  General Public License 2.0 or later if, at the time Intel provides the&n;  Software to Recipient, such addition of the Software to the then publicly&n;  available versions of such operating systems available under the GNU General&n;  Public License 2.0 or later (whether in gold, beta or alpha form) causes&n;  such combination to be covered by the Licensed Patents. The patent license&n;  shall not apply to any other combinations which include the Software. NO&n;  hardware per se is licensed hereunder.&n;  &n;  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot;&n;  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE&n;  IMPLIED WARRANTIES OF MECHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE&n;  ARE DISCLAIMED. IN NO EVENT SHALL INTEL OR IT CONTRIBUTORS BE LIABLE FOR ANY&n;  DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES&n;  (INCLUDING, BUT NOT LIMITED, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;&n;  ANY LOSS OF USE; DATA, OR PROFITS; OR BUSINESS INTERUPTION) HOWEVER CAUSED&n;  AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY OR&n;  TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE&n;  OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.&n;&n;*******************************************************************************/
multiline_comment|/*&n; * Proc fs support.&n; *&n; * Read-only files created by driver (if CONFIG_PROC_FS):&n; *&n; * /proc/net/PRO_LAN_Adapters/&lt;ethx&gt;.info&n; * /proc/net/PRO_LAN_Adapters/&lt;ethx&gt;/&lt;attribute&gt;&n; *&n; * where &lt;ethx&gt;      is the system device name, i.e eth0.&n; *       &lt;attribute&gt; is the driver attribute name.&n; *&n; * There is one file for each driver attribute, where the contents&n; * of the file is the attribute value.  The ethx.info file contains&n; * a list of all driver attributes in one file.&n; *&n; */
macro_line|#include &quot;e1000.h&quot;
macro_line|#ifdef CONFIG_PROC_FS
macro_line|#include &lt;linux/proc_fs.h&gt;
DECL|macro|ADAPTERS_PROC_DIR
mdefine_line|#define ADAPTERS_PROC_DIR           &quot;PRO_LAN_Adapters&quot;
DECL|macro|TAG_MAX_LENGTH
mdefine_line|#define TAG_MAX_LENGTH              36
r_extern
r_char
id|e1000_driver_name
(braket
)braket
suffix:semicolon
r_extern
r_char
id|e1000_driver_version
(braket
)braket
suffix:semicolon
multiline_comment|/*&n; * The list of driver proc attributes is stored in a proc_list link&n; * list.  The list is build with proc_list_setup and is used to&n; * build the proc fs nodes.  The private data for each node is the&n; * corresponding link in the link list.&n; */
DECL|struct|proc_list
r_struct
id|proc_list
(brace
DECL|member|list
r_struct
id|list_head
id|list
suffix:semicolon
multiline_comment|/* link list */
DECL|member|tag
r_char
id|tag
(braket
id|TAG_MAX_LENGTH
)braket
suffix:semicolon
multiline_comment|/* attribute name */
DECL|member|data
r_void
op_star
id|data
suffix:semicolon
multiline_comment|/* attribute data */
DECL|member|len
r_int
id|len
suffix:semicolon
multiline_comment|/* sizeof data */
DECL|member|func
r_char
op_star
(paren
op_star
id|func
)paren
(paren
r_void
op_star
comma
r_int
comma
r_char
op_star
)paren
suffix:semicolon
multiline_comment|/* format data func */
)brace
suffix:semicolon
r_static
r_int
DECL|function|e1000_proc_read
id|e1000_proc_read
c_func
(paren
r_char
op_star
id|page
comma
r_char
op_star
op_star
id|start
comma
id|off_t
id|off
comma
r_int
id|count
comma
r_int
op_star
id|eof
)paren
(brace
r_int
id|len
op_assign
id|strlen
c_func
(paren
id|page
)paren
suffix:semicolon
id|page
(braket
id|len
op_increment
)braket
op_assign
l_char|&squot;&bslash;n&squot;
suffix:semicolon
r_if
c_cond
(paren
id|len
op_le
id|off
op_plus
id|count
)paren
(brace
op_star
id|eof
op_assign
l_int|1
suffix:semicolon
)brace
op_star
id|start
op_assign
id|page
op_plus
id|off
suffix:semicolon
id|len
op_sub_assign
id|off
suffix:semicolon
r_if
c_cond
(paren
id|len
OG
id|count
)paren
(brace
id|len
op_assign
id|count
suffix:semicolon
)brace
r_if
c_cond
(paren
id|len
OL
l_int|0
)paren
(brace
id|len
op_assign
l_int|0
suffix:semicolon
)brace
r_return
id|len
suffix:semicolon
)brace
r_static
r_int
DECL|function|e1000_proc_info_read
id|e1000_proc_info_read
c_func
(paren
r_char
op_star
id|page
comma
r_char
op_star
op_star
id|start
comma
id|off_t
id|off
comma
r_int
id|count
comma
r_int
op_star
id|eof
comma
r_void
op_star
id|data
)paren
(brace
r_struct
id|list_head
op_star
id|proc_list_head
op_assign
id|data
comma
op_star
id|curr
suffix:semicolon
r_struct
id|proc_list
op_star
id|elem
suffix:semicolon
r_char
op_star
id|p
op_assign
id|page
suffix:semicolon
r_char
id|buf
(braket
l_int|64
)braket
suffix:semicolon
id|list_for_each
c_func
(paren
id|curr
comma
id|proc_list_head
)paren
(brace
id|elem
op_assign
id|list_entry
c_func
(paren
id|curr
comma
r_struct
id|proc_list
comma
id|list
)paren
suffix:semicolon
r_if
c_cond
(paren
id|strlen
c_func
(paren
id|elem-&gt;tag
)paren
op_eq
l_int|0
)paren
(brace
id|p
op_add_assign
id|sprintf
c_func
(paren
id|p
comma
l_string|&quot;&bslash;n&quot;
)paren
suffix:semicolon
)brace
r_else
id|p
op_add_assign
id|sprintf
c_func
(paren
id|p
comma
l_string|&quot;%-32s %s&bslash;n&quot;
comma
id|elem-&gt;tag
comma
id|elem
op_member_access_from_pointer
id|func
c_func
(paren
id|elem-&gt;data
comma
id|elem-&gt;len
comma
id|buf
)paren
)paren
suffix:semicolon
)brace
op_star
id|p
op_assign
l_char|&squot;&bslash;0&squot;
suffix:semicolon
r_return
id|e1000_proc_read
c_func
(paren
id|page
comma
id|start
comma
id|off
comma
id|count
comma
id|eof
)paren
suffix:semicolon
)brace
r_static
r_int
DECL|function|e1000_proc_single_read
id|e1000_proc_single_read
c_func
(paren
r_char
op_star
id|page
comma
r_char
op_star
op_star
id|start
comma
id|off_t
id|off
comma
r_int
id|count
comma
r_int
op_star
id|eof
comma
r_void
op_star
id|data
)paren
(brace
r_struct
id|proc_list
op_star
id|elem
op_assign
id|data
suffix:semicolon
id|sprintf
c_func
(paren
id|page
comma
l_string|&quot;%s&quot;
comma
id|elem
op_member_access_from_pointer
id|func
c_func
(paren
id|elem-&gt;data
comma
id|elem-&gt;len
comma
id|page
)paren
)paren
suffix:semicolon
r_return
id|e1000_proc_read
c_func
(paren
id|page
comma
id|start
comma
id|off
comma
id|count
comma
id|eof
)paren
suffix:semicolon
)brace
r_static
r_void
id|__devexit
DECL|function|e1000_proc_dirs_free
id|e1000_proc_dirs_free
c_func
(paren
r_char
op_star
id|name
comma
r_struct
id|list_head
op_star
id|proc_list_head
)paren
(brace
r_struct
id|proc_dir_entry
op_star
id|intel_proc_dir
comma
op_star
id|proc_dir
suffix:semicolon
r_char
id|info_name
(braket
id|strlen
c_func
(paren
id|name
)paren
op_plus
id|strlen
c_func
(paren
l_string|&quot;.info&quot;
)paren
)braket
suffix:semicolon
r_for
c_loop
(paren
id|intel_proc_dir
op_assign
id|proc_net-&gt;subdir
suffix:semicolon
id|intel_proc_dir
suffix:semicolon
id|intel_proc_dir
op_assign
id|intel_proc_dir-&gt;next
)paren
(brace
r_if
c_cond
(paren
(paren
id|intel_proc_dir-&gt;namelen
op_eq
id|strlen
c_func
(paren
id|ADAPTERS_PROC_DIR
)paren
)paren
op_logical_and
(paren
id|memcmp
c_func
(paren
id|intel_proc_dir-&gt;name
comma
id|ADAPTERS_PROC_DIR
comma
id|strlen
c_func
(paren
id|ADAPTERS_PROC_DIR
)paren
)paren
op_eq
l_int|0
)paren
)paren
(brace
r_break
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
op_logical_neg
id|intel_proc_dir
)paren
(brace
r_return
suffix:semicolon
)brace
r_for
c_loop
(paren
id|proc_dir
op_assign
id|intel_proc_dir-&gt;subdir
suffix:semicolon
id|proc_dir
suffix:semicolon
id|proc_dir
op_assign
id|proc_dir-&gt;next
)paren
(brace
r_if
c_cond
(paren
(paren
id|proc_dir-&gt;namelen
op_eq
id|strlen
c_func
(paren
id|name
)paren
)paren
op_logical_and
op_logical_neg
id|memcmp
c_func
(paren
id|proc_dir-&gt;name
comma
id|name
comma
id|strlen
c_func
(paren
id|name
)paren
)paren
)paren
r_break
suffix:semicolon
)brace
r_if
c_cond
(paren
id|proc_dir
)paren
(brace
r_struct
id|list_head
op_star
id|curr
suffix:semicolon
r_struct
id|proc_list
op_star
id|elem
suffix:semicolon
id|list_for_each
c_func
(paren
id|curr
comma
id|proc_list_head
)paren
(brace
id|elem
op_assign
id|list_entry
c_func
(paren
id|curr
comma
r_struct
id|proc_list
comma
id|list
)paren
suffix:semicolon
id|remove_proc_entry
c_func
(paren
id|elem-&gt;tag
comma
id|proc_dir
)paren
suffix:semicolon
)brace
id|strcpy
c_func
(paren
id|info_name
comma
id|name
)paren
suffix:semicolon
id|strcat
c_func
(paren
id|info_name
comma
l_string|&quot;.info&quot;
)paren
suffix:semicolon
id|remove_proc_entry
c_func
(paren
id|info_name
comma
id|intel_proc_dir
)paren
suffix:semicolon
id|remove_proc_entry
c_func
(paren
id|name
comma
id|intel_proc_dir
)paren
suffix:semicolon
)brace
multiline_comment|/* If the intel dir is empty, remove it */
r_for
c_loop
(paren
id|proc_dir
op_assign
id|intel_proc_dir-&gt;subdir
suffix:semicolon
id|proc_dir
suffix:semicolon
id|proc_dir
op_assign
id|proc_dir-&gt;next
)paren
(brace
multiline_comment|/* ignore . and .. */
r_if
c_cond
(paren
op_star
(paren
id|proc_dir-&gt;name
)paren
op_eq
l_char|&squot;.&squot;
)paren
(brace
r_continue
suffix:semicolon
)brace
r_break
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|proc_dir
)paren
(brace
id|remove_proc_entry
c_func
(paren
id|ADAPTERS_PROC_DIR
comma
id|proc_net
)paren
suffix:semicolon
)brace
r_return
suffix:semicolon
)brace
r_static
r_int
id|__devinit
DECL|function|e1000_proc_singles_create
id|e1000_proc_singles_create
c_func
(paren
r_struct
id|proc_dir_entry
op_star
id|parent
comma
r_struct
id|list_head
op_star
id|proc_list_head
)paren
(brace
r_struct
id|list_head
op_star
id|curr
suffix:semicolon
r_struct
id|proc_list
op_star
id|elem
suffix:semicolon
id|list_for_each
c_func
(paren
id|curr
comma
id|proc_list_head
)paren
(brace
r_struct
id|proc_dir_entry
op_star
id|proc_entry
suffix:semicolon
id|elem
op_assign
id|list_entry
c_func
(paren
id|curr
comma
r_struct
id|proc_list
comma
id|list
)paren
suffix:semicolon
r_if
c_cond
(paren
id|strlen
c_func
(paren
id|elem-&gt;tag
)paren
op_eq
l_int|0
)paren
(brace
r_continue
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
(paren
id|proc_entry
op_assign
id|create_proc_entry
c_func
(paren
id|elem-&gt;tag
comma
id|S_IFREG
comma
id|parent
)paren
)paren
)paren
(brace
r_return
l_int|0
suffix:semicolon
)brace
id|proc_entry-&gt;read_proc
op_assign
id|e1000_proc_single_read
suffix:semicolon
id|proc_entry-&gt;data
op_assign
id|elem
suffix:semicolon
id|SET_MODULE_OWNER
c_func
(paren
id|proc_entry
)paren
suffix:semicolon
)brace
r_return
l_int|1
suffix:semicolon
)brace
r_static
r_int
id|__devinit
DECL|function|e1000_proc_dirs_create
id|e1000_proc_dirs_create
c_func
(paren
r_char
op_star
id|name
comma
r_struct
id|list_head
op_star
id|proc_list_head
)paren
(brace
r_struct
id|proc_dir_entry
op_star
id|intel_proc_dir
comma
op_star
id|proc_dir
comma
op_star
id|info_entry
suffix:semicolon
r_char
id|info_name
(braket
id|strlen
c_func
(paren
id|name
)paren
op_plus
id|strlen
c_func
(paren
l_string|&quot;.info&quot;
)paren
)braket
suffix:semicolon
r_for
c_loop
(paren
id|intel_proc_dir
op_assign
id|proc_net-&gt;subdir
suffix:semicolon
id|intel_proc_dir
suffix:semicolon
id|intel_proc_dir
op_assign
id|intel_proc_dir-&gt;next
)paren
(brace
r_if
c_cond
(paren
(paren
id|intel_proc_dir-&gt;namelen
op_eq
id|strlen
c_func
(paren
id|ADAPTERS_PROC_DIR
)paren
)paren
op_logical_and
(paren
id|memcmp
c_func
(paren
id|intel_proc_dir-&gt;name
comma
id|ADAPTERS_PROC_DIR
comma
id|strlen
c_func
(paren
id|ADAPTERS_PROC_DIR
)paren
)paren
op_eq
l_int|0
)paren
)paren
(brace
r_break
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
op_logical_neg
id|intel_proc_dir
)paren
r_if
c_cond
(paren
op_logical_neg
(paren
id|intel_proc_dir
op_assign
id|create_proc_entry
c_func
(paren
id|ADAPTERS_PROC_DIR
comma
id|S_IFDIR
comma
id|proc_net
)paren
)paren
)paren
(brace
r_return
l_int|0
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
(paren
id|proc_dir
op_assign
id|create_proc_entry
c_func
(paren
id|name
comma
id|S_IFDIR
comma
id|intel_proc_dir
)paren
)paren
)paren
(brace
r_return
l_int|0
suffix:semicolon
)brace
id|SET_MODULE_OWNER
c_func
(paren
id|proc_dir
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|e1000_proc_singles_create
c_func
(paren
id|proc_dir
comma
id|proc_list_head
)paren
)paren
(brace
r_return
l_int|0
suffix:semicolon
)brace
id|strcpy
c_func
(paren
id|info_name
comma
id|name
)paren
suffix:semicolon
id|strcat
c_func
(paren
id|info_name
comma
l_string|&quot;.info&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
(paren
id|info_entry
op_assign
id|create_proc_entry
c_func
(paren
id|info_name
comma
id|S_IFREG
comma
id|intel_proc_dir
)paren
)paren
)paren
(brace
r_return
l_int|0
suffix:semicolon
)brace
id|SET_MODULE_OWNER
c_func
(paren
id|info_entry
)paren
suffix:semicolon
id|info_entry-&gt;read_proc
op_assign
id|e1000_proc_info_read
suffix:semicolon
id|info_entry-&gt;data
op_assign
id|proc_list_head
suffix:semicolon
r_return
l_int|1
suffix:semicolon
)brace
r_static
r_void
id|__devinit
DECL|function|e1000_proc_list_add
id|e1000_proc_list_add
c_func
(paren
r_struct
id|list_head
op_star
id|proc_list_head
comma
r_char
op_star
id|tag
comma
r_void
op_star
id|data
comma
r_int
id|len
comma
r_char
op_star
(paren
op_star
id|func
)paren
(paren
r_void
op_star
comma
r_int
comma
r_char
op_star
)paren
)paren
(brace
r_struct
id|proc_list
op_star
r_new
op_assign
(paren
r_struct
id|proc_list
op_star
)paren
id|kmalloc
c_func
(paren
r_sizeof
(paren
r_struct
id|proc_list
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
r_new
)paren
(brace
r_return
suffix:semicolon
)brace
id|strncpy
c_func
(paren
r_new
op_member_access_from_pointer
id|tag
comma
id|tag
comma
id|TAG_MAX_LENGTH
)paren
suffix:semicolon
r_new
op_member_access_from_pointer
id|data
op_assign
id|data
suffix:semicolon
r_new
op_member_access_from_pointer
id|len
op_assign
id|len
suffix:semicolon
r_new
op_member_access_from_pointer
id|func
op_assign
id|func
suffix:semicolon
id|list_add_tail
c_func
(paren
op_amp
r_new
op_member_access_from_pointer
id|list
comma
id|proc_list_head
)paren
suffix:semicolon
r_return
suffix:semicolon
)brace
r_static
r_void
id|__devexit
DECL|function|e1000_proc_list_free
id|e1000_proc_list_free
c_func
(paren
r_struct
id|list_head
op_star
id|proc_list_head
)paren
(brace
r_struct
id|proc_list
op_star
id|elem
suffix:semicolon
r_while
c_loop
(paren
op_logical_neg
id|list_empty
c_func
(paren
id|proc_list_head
)paren
)paren
(brace
id|elem
op_assign
id|list_entry
c_func
(paren
id|proc_list_head-&gt;next
comma
r_struct
id|proc_list
comma
id|list
)paren
suffix:semicolon
id|list_del
c_func
(paren
op_amp
id|elem-&gt;list
)paren
suffix:semicolon
id|kfree
c_func
(paren
id|elem
)paren
suffix:semicolon
)brace
r_return
suffix:semicolon
)brace
multiline_comment|/*&n; * General purpose formating functions&n; */
r_static
r_char
op_star
DECL|function|e1000_proc_str
id|e1000_proc_str
c_func
(paren
r_void
op_star
id|data
comma
r_int
id|len
comma
r_char
op_star
id|buf
)paren
(brace
id|sprintf
c_func
(paren
id|buf
comma
l_string|&quot;%s&quot;
comma
(paren
r_char
op_star
)paren
id|data
)paren
suffix:semicolon
r_return
id|buf
suffix:semicolon
)brace
r_static
r_char
op_star
DECL|function|e1000_proc_hex
id|e1000_proc_hex
c_func
(paren
r_void
op_star
id|data
comma
r_int
id|len
comma
r_char
op_star
id|buf
)paren
(brace
r_switch
c_cond
(paren
id|len
)paren
(brace
r_case
r_sizeof
(paren
r_uint8
)paren
suffix:colon
id|sprintf
c_func
(paren
id|buf
comma
l_string|&quot;0x%02x&quot;
comma
op_star
(paren
r_uint8
op_star
)paren
id|data
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
r_sizeof
(paren
r_uint16
)paren
suffix:colon
id|sprintf
c_func
(paren
id|buf
comma
l_string|&quot;0x%04x&quot;
comma
op_star
(paren
r_uint16
op_star
)paren
id|data
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
r_sizeof
(paren
r_uint32
)paren
suffix:colon
id|sprintf
c_func
(paren
id|buf
comma
l_string|&quot;0x%08x&quot;
comma
op_star
(paren
r_uint32
op_star
)paren
id|data
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
r_sizeof
(paren
r_uint64
)paren
suffix:colon
id|sprintf
c_func
(paren
id|buf
comma
l_string|&quot;0x%08Lx&quot;
comma
(paren
r_int
r_int
r_int
)paren
op_star
(paren
r_uint64
op_star
)paren
id|data
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
r_return
id|buf
suffix:semicolon
)brace
r_static
r_char
op_star
DECL|function|e1000_proc_unsigned
id|e1000_proc_unsigned
c_func
(paren
r_void
op_star
id|data
comma
r_int
id|len
comma
r_char
op_star
id|buf
)paren
(brace
r_switch
c_cond
(paren
id|len
)paren
(brace
r_case
r_sizeof
(paren
r_uint8
)paren
suffix:colon
id|sprintf
c_func
(paren
id|buf
comma
l_string|&quot;%u&quot;
comma
op_star
(paren
r_uint8
op_star
)paren
id|data
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
r_sizeof
(paren
r_uint16
)paren
suffix:colon
id|sprintf
c_func
(paren
id|buf
comma
l_string|&quot;%u&quot;
comma
op_star
(paren
r_uint16
op_star
)paren
id|data
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
r_sizeof
(paren
r_uint32
)paren
suffix:colon
id|sprintf
c_func
(paren
id|buf
comma
l_string|&quot;%u&quot;
comma
op_star
(paren
r_uint32
op_star
)paren
id|data
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
r_sizeof
(paren
r_uint64
)paren
suffix:colon
id|sprintf
c_func
(paren
id|buf
comma
l_string|&quot;%Lu&quot;
comma
(paren
r_int
r_int
r_int
)paren
op_star
(paren
r_uint64
op_star
)paren
id|data
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
r_return
id|buf
suffix:semicolon
)brace
multiline_comment|/*&n; * Specific formating functions&n; */
r_static
r_char
op_star
DECL|function|e1000_proc_part_number
id|e1000_proc_part_number
c_func
(paren
r_void
op_star
id|data
comma
r_int
id|len
comma
r_char
op_star
id|buf
)paren
(brace
id|sprintf
c_func
(paren
id|buf
comma
l_string|&quot;%06x-%03x&quot;
comma
op_star
(paren
r_uint32
op_star
)paren
id|data
op_rshift
l_int|8
comma
op_star
(paren
r_uint32
op_star
)paren
id|data
op_amp
l_int|0x000000FF
)paren
suffix:semicolon
r_return
id|buf
suffix:semicolon
)brace
r_static
r_char
op_star
DECL|function|e1000_proc_slot
id|e1000_proc_slot
c_func
(paren
r_void
op_star
id|data
comma
r_int
id|len
comma
r_char
op_star
id|buf
)paren
(brace
r_struct
id|e1000_adapter
op_star
id|adapter
op_assign
id|data
suffix:semicolon
id|sprintf
c_func
(paren
id|buf
comma
l_string|&quot;%u&quot;
comma
id|PCI_SLOT
c_func
(paren
id|adapter-&gt;pdev-&gt;devfn
)paren
)paren
suffix:semicolon
r_return
id|buf
suffix:semicolon
)brace
r_static
r_char
op_star
DECL|function|e1000_proc_bus_type
id|e1000_proc_bus_type
c_func
(paren
r_void
op_star
id|data
comma
r_int
id|len
comma
r_char
op_star
id|buf
)paren
(brace
id|e1000_bus_type
id|bus_type
op_assign
op_star
(paren
id|e1000_bus_type
op_star
)paren
id|data
suffix:semicolon
id|sprintf
c_func
(paren
id|buf
comma
id|bus_type
op_eq
id|e1000_bus_type_pci
ques
c_cond
l_string|&quot;PCI&quot;
suffix:colon
id|bus_type
op_eq
id|e1000_bus_type_pcix
ques
c_cond
l_string|&quot;PCI-X&quot;
suffix:colon
l_string|&quot;UNKNOWN&quot;
)paren
suffix:semicolon
r_return
id|buf
suffix:semicolon
)brace
r_static
r_char
op_star
DECL|function|e1000_proc_bus_speed
id|e1000_proc_bus_speed
c_func
(paren
r_void
op_star
id|data
comma
r_int
id|len
comma
r_char
op_star
id|buf
)paren
(brace
id|e1000_bus_speed
id|bus_speed
op_assign
op_star
(paren
id|e1000_bus_speed
op_star
)paren
id|data
suffix:semicolon
id|sprintf
c_func
(paren
id|buf
comma
id|bus_speed
op_eq
id|e1000_bus_speed_33
ques
c_cond
l_string|&quot;33MHz&quot;
suffix:colon
id|bus_speed
op_eq
id|e1000_bus_speed_66
ques
c_cond
l_string|&quot;66MHz&quot;
suffix:colon
id|bus_speed
op_eq
id|e1000_bus_speed_100
ques
c_cond
l_string|&quot;100MHz&quot;
suffix:colon
id|bus_speed
op_eq
id|e1000_bus_speed_133
ques
c_cond
l_string|&quot;133MHz&quot;
suffix:colon
l_string|&quot;UNKNOWN&quot;
)paren
suffix:semicolon
r_return
id|buf
suffix:semicolon
)brace
r_static
r_char
op_star
DECL|function|e1000_proc_bus_width
id|e1000_proc_bus_width
c_func
(paren
r_void
op_star
id|data
comma
r_int
id|len
comma
r_char
op_star
id|buf
)paren
(brace
id|e1000_bus_width
id|bus_width
op_assign
op_star
(paren
id|e1000_bus_width
op_star
)paren
id|data
suffix:semicolon
id|sprintf
c_func
(paren
id|buf
comma
id|bus_width
op_eq
id|e1000_bus_width_32
ques
c_cond
l_string|&quot;32-bit&quot;
suffix:colon
id|bus_width
op_eq
id|e1000_bus_width_64
ques
c_cond
l_string|&quot;64-bit&quot;
suffix:colon
l_string|&quot;UNKNOWN&quot;
)paren
suffix:semicolon
r_return
id|buf
suffix:semicolon
)brace
r_static
r_char
op_star
DECL|function|e1000_proc_hwaddr
id|e1000_proc_hwaddr
c_func
(paren
r_void
op_star
id|data
comma
r_int
id|len
comma
r_char
op_star
id|buf
)paren
(brace
r_int
r_char
op_star
id|hwaddr
op_assign
id|data
suffix:semicolon
id|sprintf
c_func
(paren
id|buf
comma
l_string|&quot;%02X:%02X:%02X:%02X:%02X:%02X&quot;
comma
id|hwaddr
(braket
l_int|0
)braket
comma
id|hwaddr
(braket
l_int|1
)braket
comma
id|hwaddr
(braket
l_int|2
)braket
comma
id|hwaddr
(braket
l_int|3
)braket
comma
id|hwaddr
(braket
l_int|4
)braket
comma
id|hwaddr
(braket
l_int|5
)braket
)paren
suffix:semicolon
r_return
id|buf
suffix:semicolon
)brace
r_static
r_char
op_star
DECL|function|e1000_proc_link
id|e1000_proc_link
c_func
(paren
r_void
op_star
id|data
comma
r_int
id|len
comma
r_char
op_star
id|buf
)paren
(brace
r_struct
id|e1000_adapter
op_star
id|adapter
op_assign
id|data
suffix:semicolon
id|sprintf
c_func
(paren
id|buf
comma
id|netif_running
c_func
(paren
id|adapter-&gt;netdev
)paren
ques
c_cond
id|netif_carrier_ok
c_func
(paren
id|adapter-&gt;netdev
)paren
ques
c_cond
l_string|&quot;up&quot;
suffix:colon
l_string|&quot;down&quot;
suffix:colon
l_string|&quot;N/A&quot;
)paren
suffix:semicolon
r_return
id|buf
suffix:semicolon
)brace
r_static
r_char
op_star
DECL|function|e1000_proc_link_speed
id|e1000_proc_link_speed
c_func
(paren
r_void
op_star
id|data
comma
r_int
id|len
comma
r_char
op_star
id|buf
)paren
(brace
r_uint16
id|link_speed
op_assign
op_star
(paren
r_uint16
op_star
)paren
id|data
suffix:semicolon
id|sprintf
c_func
(paren
id|buf
comma
id|link_speed
ques
c_cond
l_string|&quot;%u&quot;
suffix:colon
l_string|&quot;N/A&quot;
comma
id|link_speed
)paren
suffix:semicolon
r_return
id|buf
suffix:semicolon
)brace
r_static
r_char
op_star
DECL|function|e1000_proc_link_duplex
id|e1000_proc_link_duplex
c_func
(paren
r_void
op_star
id|data
comma
r_int
id|len
comma
r_char
op_star
id|buf
)paren
(brace
r_uint16
id|link_duplex
op_assign
op_star
(paren
r_uint16
op_star
)paren
id|data
suffix:semicolon
id|sprintf
c_func
(paren
id|buf
comma
id|link_duplex
op_eq
id|FULL_DUPLEX
ques
c_cond
l_string|&quot;Full&quot;
suffix:colon
id|link_duplex
op_eq
id|HALF_DUPLEX
ques
c_cond
l_string|&quot;Half&quot;
suffix:colon
l_string|&quot;N/A&quot;
)paren
suffix:semicolon
r_return
id|buf
suffix:semicolon
)brace
r_static
r_char
op_star
DECL|function|e1000_proc_state
id|e1000_proc_state
c_func
(paren
r_void
op_star
id|data
comma
r_int
id|len
comma
r_char
op_star
id|buf
)paren
(brace
r_struct
id|e1000_adapter
op_star
id|adapter
op_assign
id|data
suffix:semicolon
id|sprintf
c_func
(paren
id|buf
comma
id|adapter-&gt;netdev-&gt;flags
op_amp
id|IFF_UP
ques
c_cond
l_string|&quot;up&quot;
suffix:colon
l_string|&quot;down&quot;
)paren
suffix:semicolon
r_return
id|buf
suffix:semicolon
)brace
r_static
r_char
op_star
DECL|function|e1000_proc_media_type
id|e1000_proc_media_type
c_func
(paren
r_void
op_star
id|data
comma
r_int
id|len
comma
r_char
op_star
id|buf
)paren
(brace
r_struct
id|e1000_adapter
op_star
id|adapter
op_assign
id|data
suffix:semicolon
id|sprintf
c_func
(paren
id|buf
comma
id|adapter-&gt;hw.media_type
op_eq
id|e1000_media_type_copper
ques
c_cond
l_string|&quot;Copper&quot;
suffix:colon
l_string|&quot;Fiber&quot;
)paren
suffix:semicolon
r_return
id|buf
suffix:semicolon
)brace
r_static
r_char
op_star
DECL|function|e1000_proc_cable_length
id|e1000_proc_cable_length
c_func
(paren
r_void
op_star
id|data
comma
r_int
id|len
comma
r_char
op_star
id|buf
)paren
(brace
r_struct
id|e1000_adapter
op_star
id|adapter
op_assign
id|data
suffix:semicolon
id|e1000_cable_length
id|cable_length
op_assign
id|adapter-&gt;phy_info.cable_length
suffix:semicolon
id|sprintf
c_func
(paren
id|buf
comma
l_string|&quot;%s%s&quot;
comma
id|cable_length
op_eq
id|e1000_cable_length_50
ques
c_cond
l_string|&quot;0-50&quot;
suffix:colon
id|cable_length
op_eq
id|e1000_cable_length_50_80
ques
c_cond
l_string|&quot;50-80&quot;
suffix:colon
id|cable_length
op_eq
id|e1000_cable_length_80_110
ques
c_cond
l_string|&quot;80-110&quot;
suffix:colon
id|cable_length
op_eq
id|e1000_cable_length_110_140
ques
c_cond
l_string|&quot;110-140&quot;
suffix:colon
id|cable_length
op_eq
id|e1000_cable_length_140
ques
c_cond
l_string|&quot;&gt; 140&quot;
suffix:colon
l_string|&quot;Unknown&quot;
comma
id|cable_length
op_ne
id|e1000_cable_length_undefined
ques
c_cond
l_string|&quot; Meters (+/- 20 Meters)&quot;
suffix:colon
l_string|&quot;&quot;
)paren
suffix:semicolon
r_return
id|buf
suffix:semicolon
)brace
r_static
r_char
op_star
DECL|function|e1000_proc_extended
id|e1000_proc_extended
c_func
(paren
r_void
op_star
id|data
comma
r_int
id|len
comma
r_char
op_star
id|buf
)paren
(brace
r_struct
id|e1000_adapter
op_star
id|adapter
op_assign
id|data
suffix:semicolon
id|e1000_10bt_ext_dist_enable
id|dist_enable
op_assign
id|adapter-&gt;phy_info.extended_10bt_distance
suffix:semicolon
id|sprintf
c_func
(paren
id|buf
comma
id|dist_enable
op_eq
id|e1000_10bt_ext_dist_enable_normal
ques
c_cond
l_string|&quot;Disabled&quot;
suffix:colon
id|dist_enable
op_eq
id|e1000_10bt_ext_dist_enable_lower
ques
c_cond
l_string|&quot;Enabled&quot;
suffix:colon
l_string|&quot;Unknown&quot;
)paren
suffix:semicolon
r_return
id|buf
suffix:semicolon
)brace
r_static
r_char
op_star
DECL|function|e1000_proc_cable_polarity
id|e1000_proc_cable_polarity
c_func
(paren
r_void
op_star
id|data
comma
r_int
id|len
comma
r_char
op_star
id|buf
)paren
(brace
r_struct
id|e1000_adapter
op_star
id|adapter
op_assign
id|data
suffix:semicolon
id|e1000_rev_polarity
id|polarity
op_assign
id|adapter-&gt;phy_info.cable_polarity
suffix:semicolon
id|sprintf
c_func
(paren
id|buf
comma
id|polarity
op_eq
id|e1000_rev_polarity_normal
ques
c_cond
l_string|&quot;Normal&quot;
suffix:colon
id|polarity
op_eq
id|e1000_rev_polarity_reversed
ques
c_cond
l_string|&quot;Reversed&quot;
suffix:colon
l_string|&quot;Unknown&quot;
)paren
suffix:semicolon
r_return
id|buf
suffix:semicolon
)brace
r_static
r_char
op_star
DECL|function|e1000_proc_polarity_correction
id|e1000_proc_polarity_correction
c_func
(paren
r_void
op_star
id|data
comma
r_int
id|len
comma
r_char
op_star
id|buf
)paren
(brace
r_struct
id|e1000_adapter
op_star
id|adapter
op_assign
id|data
suffix:semicolon
id|e1000_polarity_reversal
id|correction
op_assign
id|adapter-&gt;phy_info.polarity_correction
suffix:semicolon
id|sprintf
c_func
(paren
id|buf
comma
id|correction
op_eq
id|e1000_polarity_reversal_enabled
ques
c_cond
l_string|&quot;Disabled&quot;
suffix:colon
id|correction
op_eq
id|e1000_polarity_reversal_disabled
ques
c_cond
l_string|&quot;Enabled&quot;
suffix:colon
l_string|&quot;Unknown&quot;
)paren
suffix:semicolon
r_return
id|buf
suffix:semicolon
)brace
r_static
r_char
op_star
DECL|function|e1000_proc_mdi_x_enabled
id|e1000_proc_mdi_x_enabled
c_func
(paren
r_void
op_star
id|data
comma
r_int
id|len
comma
r_char
op_star
id|buf
)paren
(brace
r_struct
id|e1000_adapter
op_star
id|adapter
op_assign
id|data
suffix:semicolon
id|e1000_auto_x_mode
id|mdix_mode
op_assign
id|adapter-&gt;phy_info.mdix_mode
suffix:semicolon
id|sprintf
c_func
(paren
id|buf
comma
id|mdix_mode
op_eq
id|e1000_auto_x_mode_manual_mdi
ques
c_cond
l_string|&quot;MDI&quot;
suffix:colon
id|mdix_mode
op_eq
id|e1000_auto_x_mode_manual_mdix
ques
c_cond
l_string|&quot;MDI-X&quot;
suffix:colon
l_string|&quot;Unknown&quot;
)paren
suffix:semicolon
r_return
id|buf
suffix:semicolon
)brace
r_static
r_char
op_star
DECL|function|e1000_proc_rx_status
id|e1000_proc_rx_status
c_func
(paren
r_void
op_star
id|data
comma
r_int
id|len
comma
r_char
op_star
id|buf
)paren
(brace
id|e1000_1000t_rx_status
id|rx_status
op_assign
op_star
(paren
id|e1000_1000t_rx_status
op_star
)paren
id|data
suffix:semicolon
id|sprintf
c_func
(paren
id|buf
comma
id|rx_status
op_eq
id|e1000_1000t_rx_status_not_ok
ques
c_cond
l_string|&quot;NOT_OK&quot;
suffix:colon
id|rx_status
op_eq
id|e1000_1000t_rx_status_ok
ques
c_cond
l_string|&quot;OK&quot;
suffix:colon
l_string|&quot;Unknown&quot;
)paren
suffix:semicolon
r_return
id|buf
suffix:semicolon
)brace
multiline_comment|/*&n; * e1000_proc_list_setup - build link list of proc praramters&n; * @adapter: board private structure&n; *&n; * Order matters - ethx.info entries are ordered in the order links &n; * are added to list.&n; */
DECL|macro|LIST_ADD_F
mdefine_line|#define LIST_ADD_F(T,D,F) &bslash;&n;&t;e1000_proc_list_add(proc_list_head, (T), (D), sizeof(*(D)), (F))
DECL|macro|LIST_ADD_BLANK
mdefine_line|#define LIST_ADD_BLANK() LIST_ADD_F(&quot;&quot;, NULL, NULL)
DECL|macro|LIST_ADD_S
mdefine_line|#define LIST_ADD_S(T,D) LIST_ADD_F((T), (D), e1000_proc_str)
DECL|macro|LIST_ADD_H
mdefine_line|#define LIST_ADD_H(T,D) LIST_ADD_F((T), (D), e1000_proc_hex)
DECL|macro|LIST_ADD_U
mdefine_line|#define LIST_ADD_U(T,D) LIST_ADD_F((T), (D), e1000_proc_unsigned)
r_static
r_void
id|__devinit
DECL|function|e1000_proc_list_setup
id|e1000_proc_list_setup
c_func
(paren
r_struct
id|e1000_adapter
op_star
id|adapter
)paren
(brace
r_struct
id|e1000_hw
op_star
id|hw
op_assign
op_amp
id|adapter-&gt;hw
suffix:semicolon
r_struct
id|list_head
op_star
id|proc_list_head
op_assign
op_amp
id|adapter-&gt;proc_list_head
suffix:semicolon
id|INIT_LIST_HEAD
c_func
(paren
id|proc_list_head
)paren
suffix:semicolon
id|LIST_ADD_S
c_func
(paren
l_string|&quot;Description&quot;
comma
id|adapter-&gt;id_string
)paren
suffix:semicolon
id|LIST_ADD_F
c_func
(paren
l_string|&quot;Part_Number&quot;
comma
op_amp
id|adapter-&gt;part_num
comma
id|e1000_proc_part_number
)paren
suffix:semicolon
id|LIST_ADD_S
c_func
(paren
l_string|&quot;Driver_Name&quot;
comma
id|e1000_driver_name
)paren
suffix:semicolon
id|LIST_ADD_S
c_func
(paren
l_string|&quot;Driver_Version&quot;
comma
id|e1000_driver_version
)paren
suffix:semicolon
id|LIST_ADD_H
c_func
(paren
l_string|&quot;PCI_Vendor&quot;
comma
op_amp
id|hw-&gt;vendor_id
)paren
suffix:semicolon
id|LIST_ADD_H
c_func
(paren
l_string|&quot;PCI_Device_ID&quot;
comma
op_amp
id|hw-&gt;device_id
)paren
suffix:semicolon
id|LIST_ADD_H
c_func
(paren
l_string|&quot;PCI_Subsystem_Vendor&quot;
comma
op_amp
id|hw-&gt;subsystem_vendor_id
)paren
suffix:semicolon
id|LIST_ADD_H
c_func
(paren
l_string|&quot;PCI_Subsystem_ID&quot;
comma
op_amp
id|hw-&gt;subsystem_id
)paren
suffix:semicolon
id|LIST_ADD_H
c_func
(paren
l_string|&quot;PCI_Revision_ID&quot;
comma
op_amp
id|hw-&gt;revision_id
)paren
suffix:semicolon
id|LIST_ADD_U
c_func
(paren
l_string|&quot;PCI_Bus&quot;
comma
op_amp
id|adapter-&gt;pdev-&gt;bus-&gt;number
)paren
suffix:semicolon
id|LIST_ADD_F
c_func
(paren
l_string|&quot;PCI_Slot&quot;
comma
id|adapter
comma
id|e1000_proc_slot
)paren
suffix:semicolon
r_if
c_cond
(paren
id|adapter-&gt;hw.mac_type
op_ge
id|e1000_82543
)paren
(brace
id|LIST_ADD_F
c_func
(paren
l_string|&quot;PCI_Bus_Type&quot;
comma
op_amp
id|hw-&gt;bus_type
comma
id|e1000_proc_bus_type
)paren
suffix:semicolon
id|LIST_ADD_F
c_func
(paren
l_string|&quot;PCI_Bus_Speed&quot;
comma
op_amp
id|hw-&gt;bus_speed
comma
id|e1000_proc_bus_speed
)paren
suffix:semicolon
id|LIST_ADD_F
c_func
(paren
l_string|&quot;PCI_Bus_Width&quot;
comma
op_amp
id|hw-&gt;bus_width
comma
id|e1000_proc_bus_width
)paren
suffix:semicolon
)brace
id|LIST_ADD_U
c_func
(paren
l_string|&quot;IRQ&quot;
comma
op_amp
id|adapter-&gt;pdev-&gt;irq
)paren
suffix:semicolon
id|LIST_ADD_S
c_func
(paren
l_string|&quot;System_Device_Name&quot;
comma
id|adapter-&gt;netdev-&gt;name
)paren
suffix:semicolon
id|LIST_ADD_F
c_func
(paren
l_string|&quot;Current_HWaddr&quot;
comma
id|adapter-&gt;netdev-&gt;dev_addr
comma
id|e1000_proc_hwaddr
)paren
suffix:semicolon
id|LIST_ADD_F
c_func
(paren
l_string|&quot;Permanent_HWaddr&quot;
comma
id|adapter-&gt;hw.perm_mac_addr
comma
id|e1000_proc_hwaddr
)paren
suffix:semicolon
id|LIST_ADD_BLANK
c_func
(paren
)paren
suffix:semicolon
id|LIST_ADD_F
c_func
(paren
l_string|&quot;Link&quot;
comma
id|adapter
comma
id|e1000_proc_link
)paren
suffix:semicolon
id|LIST_ADD_F
c_func
(paren
l_string|&quot;Speed&quot;
comma
op_amp
id|adapter-&gt;link_speed
comma
id|e1000_proc_link_speed
)paren
suffix:semicolon
id|LIST_ADD_F
c_func
(paren
l_string|&quot;Duplex&quot;
comma
op_amp
id|adapter-&gt;link_duplex
comma
id|e1000_proc_link_duplex
)paren
suffix:semicolon
id|LIST_ADD_F
c_func
(paren
l_string|&quot;State&quot;
comma
id|adapter
comma
id|e1000_proc_state
)paren
suffix:semicolon
id|LIST_ADD_BLANK
c_func
(paren
)paren
suffix:semicolon
multiline_comment|/* Standard net device stats */
id|LIST_ADD_U
c_func
(paren
l_string|&quot;Rx_Packets&quot;
comma
op_amp
id|adapter-&gt;net_stats.rx_packets
)paren
suffix:semicolon
id|LIST_ADD_U
c_func
(paren
l_string|&quot;Tx_Packets&quot;
comma
op_amp
id|adapter-&gt;net_stats.tx_packets
)paren
suffix:semicolon
id|LIST_ADD_U
c_func
(paren
l_string|&quot;Rx_Bytes&quot;
comma
op_amp
id|adapter-&gt;net_stats.rx_bytes
)paren
suffix:semicolon
id|LIST_ADD_U
c_func
(paren
l_string|&quot;Tx_Bytes&quot;
comma
op_amp
id|adapter-&gt;net_stats.tx_bytes
)paren
suffix:semicolon
id|LIST_ADD_U
c_func
(paren
l_string|&quot;Rx_Errors&quot;
comma
op_amp
id|adapter-&gt;net_stats.rx_errors
)paren
suffix:semicolon
id|LIST_ADD_U
c_func
(paren
l_string|&quot;Tx_Errors&quot;
comma
op_amp
id|adapter-&gt;net_stats.tx_errors
)paren
suffix:semicolon
id|LIST_ADD_U
c_func
(paren
l_string|&quot;Rx_Dropped&quot;
comma
op_amp
id|adapter-&gt;net_stats.rx_dropped
)paren
suffix:semicolon
id|LIST_ADD_U
c_func
(paren
l_string|&quot;Tx_Dropped&quot;
comma
op_amp
id|adapter-&gt;net_stats.tx_dropped
)paren
suffix:semicolon
id|LIST_ADD_U
c_func
(paren
l_string|&quot;Multicast&quot;
comma
op_amp
id|adapter-&gt;net_stats.multicast
)paren
suffix:semicolon
id|LIST_ADD_U
c_func
(paren
l_string|&quot;Collisions&quot;
comma
op_amp
id|adapter-&gt;net_stats.collisions
)paren
suffix:semicolon
id|LIST_ADD_U
c_func
(paren
l_string|&quot;Rx_Length_Errors&quot;
comma
op_amp
id|adapter-&gt;net_stats.rx_length_errors
)paren
suffix:semicolon
id|LIST_ADD_U
c_func
(paren
l_string|&quot;Rx_Over_Errors&quot;
comma
op_amp
id|adapter-&gt;net_stats.rx_over_errors
)paren
suffix:semicolon
id|LIST_ADD_U
c_func
(paren
l_string|&quot;Rx_CRC_Errors&quot;
comma
op_amp
id|adapter-&gt;net_stats.rx_crc_errors
)paren
suffix:semicolon
id|LIST_ADD_U
c_func
(paren
l_string|&quot;Rx_Frame_Errors&quot;
comma
op_amp
id|adapter-&gt;net_stats.rx_frame_errors
)paren
suffix:semicolon
id|LIST_ADD_U
c_func
(paren
l_string|&quot;Rx_FIFO_Errors&quot;
comma
op_amp
id|adapter-&gt;net_stats.rx_fifo_errors
)paren
suffix:semicolon
id|LIST_ADD_U
c_func
(paren
l_string|&quot;Rx_Missed_Errors&quot;
comma
op_amp
id|adapter-&gt;net_stats.rx_missed_errors
)paren
suffix:semicolon
id|LIST_ADD_U
c_func
(paren
l_string|&quot;Tx_Aborted_Errors&quot;
comma
op_amp
id|adapter-&gt;net_stats.tx_aborted_errors
)paren
suffix:semicolon
id|LIST_ADD_U
c_func
(paren
l_string|&quot;Tx_Carrier_Errors&quot;
comma
op_amp
id|adapter-&gt;net_stats.tx_carrier_errors
)paren
suffix:semicolon
id|LIST_ADD_U
c_func
(paren
l_string|&quot;Tx_FIFO_Errors&quot;
comma
op_amp
id|adapter-&gt;net_stats.tx_fifo_errors
)paren
suffix:semicolon
id|LIST_ADD_U
c_func
(paren
l_string|&quot;Tx_Heartbeat_Errors&quot;
comma
op_amp
id|adapter-&gt;net_stats.tx_heartbeat_errors
)paren
suffix:semicolon
id|LIST_ADD_U
c_func
(paren
l_string|&quot;Tx_Window_Errors&quot;
comma
op_amp
id|adapter-&gt;net_stats.tx_window_errors
)paren
suffix:semicolon
multiline_comment|/* 8254x-specific stats */
id|LIST_ADD_U
c_func
(paren
l_string|&quot;Tx_Abort_Late_Coll&quot;
comma
op_amp
id|adapter-&gt;stats.latecol
)paren
suffix:semicolon
id|LIST_ADD_U
c_func
(paren
l_string|&quot;Tx_Deferred_Ok&quot;
comma
op_amp
id|adapter-&gt;stats.dc
)paren
suffix:semicolon
id|LIST_ADD_U
c_func
(paren
l_string|&quot;Tx_Single_Coll_Ok&quot;
comma
op_amp
id|adapter-&gt;stats.scc
)paren
suffix:semicolon
id|LIST_ADD_U
c_func
(paren
l_string|&quot;Tx_Multi_Coll_Ok&quot;
comma
op_amp
id|adapter-&gt;stats.mcc
)paren
suffix:semicolon
id|LIST_ADD_U
c_func
(paren
l_string|&quot;Rx_Long_Length_Errors&quot;
comma
op_amp
id|adapter-&gt;stats.roc
)paren
suffix:semicolon
id|LIST_ADD_U
c_func
(paren
l_string|&quot;Rx_Short_Length_Errors&quot;
comma
op_amp
id|adapter-&gt;stats.ruc
)paren
suffix:semicolon
multiline_comment|/* The 82542 does not have an alignment error count register */
r_if
c_cond
(paren
id|adapter-&gt;hw.mac_type
op_ge
id|e1000_82543
)paren
(brace
id|LIST_ADD_U
c_func
(paren
l_string|&quot;Rx_Align_Errors&quot;
comma
op_amp
id|adapter-&gt;stats.algnerrc
)paren
suffix:semicolon
)brace
id|LIST_ADD_U
c_func
(paren
l_string|&quot;Rx_Flow_Control_XON&quot;
comma
op_amp
id|adapter-&gt;stats.xonrxc
)paren
suffix:semicolon
id|LIST_ADD_U
c_func
(paren
l_string|&quot;Rx_Flow_Control_XOFF&quot;
comma
op_amp
id|adapter-&gt;stats.xoffrxc
)paren
suffix:semicolon
id|LIST_ADD_U
c_func
(paren
l_string|&quot;Tx_Flow_Control_XON&quot;
comma
op_amp
id|adapter-&gt;stats.xontxc
)paren
suffix:semicolon
id|LIST_ADD_U
c_func
(paren
l_string|&quot;Tx_Flow_Control_XOFF&quot;
comma
op_amp
id|adapter-&gt;stats.xofftxc
)paren
suffix:semicolon
id|LIST_ADD_U
c_func
(paren
l_string|&quot;Rx_CSum_Offload_Good&quot;
comma
op_amp
id|adapter-&gt;hw_csum_good
)paren
suffix:semicolon
id|LIST_ADD_U
c_func
(paren
l_string|&quot;Rx_CSum_Offload_Errors&quot;
comma
op_amp
id|adapter-&gt;hw_csum_err
)paren
suffix:semicolon
id|LIST_ADD_BLANK
c_func
(paren
)paren
suffix:semicolon
multiline_comment|/* Cable diags */
id|LIST_ADD_F
c_func
(paren
l_string|&quot;PHY_Media_Type&quot;
comma
id|adapter
comma
id|e1000_proc_media_type
)paren
suffix:semicolon
r_if
c_cond
(paren
id|adapter-&gt;hw.media_type
op_eq
id|e1000_media_type_copper
)paren
(brace
id|LIST_ADD_F
c_func
(paren
l_string|&quot;PHY_Cable_Length&quot;
comma
id|adapter
comma
id|e1000_proc_cable_length
)paren
suffix:semicolon
id|LIST_ADD_F
c_func
(paren
l_string|&quot;PHY_Extended_10Base_T_Distance&quot;
comma
id|adapter
comma
id|e1000_proc_extended
)paren
suffix:semicolon
id|LIST_ADD_F
c_func
(paren
l_string|&quot;PHY_Cable_Polarity&quot;
comma
id|adapter
comma
id|e1000_proc_cable_polarity
)paren
suffix:semicolon
id|LIST_ADD_F
c_func
(paren
l_string|&quot;PHY_Disable_Polarity_Correction&quot;
comma
id|adapter
comma
id|e1000_proc_polarity_correction
)paren
suffix:semicolon
id|LIST_ADD_U
c_func
(paren
l_string|&quot;PHY_Idle_Errors&quot;
comma
op_amp
id|adapter-&gt;phy_stats.idle_errors
)paren
suffix:semicolon
id|LIST_ADD_U
c_func
(paren
l_string|&quot;PHY_Receive_Errors&quot;
comma
op_amp
id|adapter-&gt;phy_stats.receive_errors
)paren
suffix:semicolon
id|LIST_ADD_F
c_func
(paren
l_string|&quot;PHY_MDI_X_Enabled&quot;
comma
id|adapter
comma
id|e1000_proc_mdi_x_enabled
)paren
suffix:semicolon
id|LIST_ADD_F
c_func
(paren
l_string|&quot;PHY_Local_Receiver_Status&quot;
comma
op_amp
id|adapter-&gt;phy_info.local_rx
comma
id|e1000_proc_rx_status
)paren
suffix:semicolon
id|LIST_ADD_F
c_func
(paren
l_string|&quot;PHY_Remote_Receiver_Status&quot;
comma
op_amp
id|adapter-&gt;phy_info.remote_rx
comma
id|e1000_proc_rx_status
)paren
suffix:semicolon
)brace
r_return
suffix:semicolon
)brace
multiline_comment|/*&n; * e1000_proc_dev_setup - create proc fs nodes and link list&n; * @adapter: board private structure&n; */
r_void
id|__devinit
DECL|function|e1000_proc_dev_setup
id|e1000_proc_dev_setup
c_func
(paren
r_struct
id|e1000_adapter
op_star
id|adapter
)paren
(brace
id|e1000_proc_list_setup
c_func
(paren
id|adapter
)paren
suffix:semicolon
id|e1000_proc_dirs_create
c_func
(paren
id|adapter-&gt;netdev-&gt;name
comma
op_amp
id|adapter-&gt;proc_list_head
)paren
suffix:semicolon
r_return
suffix:semicolon
)brace
multiline_comment|/*&n; * e1000_proc_dev_free - free proc fs nodes and link list&n; * @adapter: board private structure&n; */
r_void
id|__devexit
DECL|function|e1000_proc_dev_free
id|e1000_proc_dev_free
c_func
(paren
r_struct
id|e1000_adapter
op_star
id|adapter
)paren
(brace
id|e1000_proc_dirs_free
c_func
(paren
id|adapter-&gt;netdev-&gt;name
comma
op_amp
id|adapter-&gt;proc_list_head
)paren
suffix:semicolon
id|e1000_proc_list_free
c_func
(paren
op_amp
id|adapter-&gt;proc_list_head
)paren
suffix:semicolon
r_return
suffix:semicolon
)brace
macro_line|#else /* CONFIG_PROC_FS */
DECL|function|e1000_proc_dev_setup
r_void
id|__devinit
id|e1000_proc_dev_setup
c_func
(paren
r_struct
id|e1000_adapter
op_star
id|adapter
)paren
(brace
)brace
DECL|function|e1000_proc_dev_free
r_void
id|__devexit
id|e1000_proc_dev_free
c_func
(paren
r_struct
id|e1000_adapter
op_star
id|adapter
)paren
(brace
)brace
macro_line|#endif /* CONFIG_PROC_FS */
eof
