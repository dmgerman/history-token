multiline_comment|/*******************************************************************************&n;&n;  &n;  Copyright(c) 1999 - 2004 Intel Corporation. All rights reserved.&n;  &n;  This program is free software; you can redistribute it and/or modify it &n;  under the terms of the GNU General Public License as published by the Free &n;  Software Foundation; either version 2 of the License, or (at your option) &n;  any later version.&n;  &n;  This program is distributed in the hope that it will be useful, but WITHOUT &n;  ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or &n;  FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for &n;  more details.&n;  &n;  You should have received a copy of the GNU General Public License along with&n;  this program; if not, write to the Free Software Foundation, Inc., 59 &n;  Temple Place - Suite 330, Boston, MA  02111-1307, USA.&n;  &n;  The full GNU General Public License is included in this distribution in the&n;  file called LICENSE.&n;  &n;  Contact Information:&n;  Linux NICS &lt;linux.nics@intel.com&gt;&n;  Intel Corporation, 5200 N.E. Elam Young Parkway, Hillsboro, OR 97124-6497&n;&n;*******************************************************************************/
multiline_comment|/* ethtool support for ixgb */
macro_line|#include &quot;ixgb.h&quot;
macro_line|#include &lt;asm/uaccess.h&gt;
r_extern
r_char
id|ixgb_driver_name
(braket
)braket
suffix:semicolon
r_extern
r_char
id|ixgb_driver_version
(braket
)braket
suffix:semicolon
r_extern
r_int
id|ixgb_up
c_func
(paren
r_struct
id|ixgb_adapter
op_star
id|adapter
)paren
suffix:semicolon
r_extern
r_void
id|ixgb_down
c_func
(paren
r_struct
id|ixgb_adapter
op_star
id|adapter
comma
id|boolean_t
id|kill_watchdog
)paren
suffix:semicolon
r_extern
r_void
id|ixgb_reset
c_func
(paren
r_struct
id|ixgb_adapter
op_star
id|adapter
)paren
suffix:semicolon
r_extern
r_int
id|ixgb_setup_rx_resources
c_func
(paren
r_struct
id|ixgb_adapter
op_star
id|adapter
)paren
suffix:semicolon
r_extern
r_int
id|ixgb_setup_tx_resources
c_func
(paren
r_struct
id|ixgb_adapter
op_star
id|adapter
)paren
suffix:semicolon
r_extern
r_void
id|ixgb_free_rx_resources
c_func
(paren
r_struct
id|ixgb_adapter
op_star
id|adapter
)paren
suffix:semicolon
r_extern
r_void
id|ixgb_free_tx_resources
c_func
(paren
r_struct
id|ixgb_adapter
op_star
id|adapter
)paren
suffix:semicolon
r_extern
r_void
id|ixgb_update_stats
c_func
(paren
r_struct
id|ixgb_adapter
op_star
id|adapter
)paren
suffix:semicolon
DECL|struct|ixgb_stats
r_struct
id|ixgb_stats
(brace
DECL|member|stat_string
r_char
id|stat_string
(braket
id|ETH_GSTRING_LEN
)braket
suffix:semicolon
DECL|member|sizeof_stat
r_int
id|sizeof_stat
suffix:semicolon
DECL|member|stat_offset
r_int
id|stat_offset
suffix:semicolon
)brace
suffix:semicolon
DECL|macro|IXGB_STAT
mdefine_line|#define IXGB_STAT(m) sizeof(((struct ixgb_adapter *)0)-&gt;m), &bslash;&n;&t;&t;      offsetof(struct ixgb_adapter, m)
DECL|variable|ixgb_gstrings_stats
r_static
r_struct
id|ixgb_stats
id|ixgb_gstrings_stats
(braket
)braket
op_assign
(brace
(brace
l_string|&quot;rx_packets&quot;
comma
id|IXGB_STAT
c_func
(paren
id|net_stats.rx_packets
)paren
)brace
comma
(brace
l_string|&quot;tx_packets&quot;
comma
id|IXGB_STAT
c_func
(paren
id|net_stats.tx_packets
)paren
)brace
comma
(brace
l_string|&quot;rx_bytes&quot;
comma
id|IXGB_STAT
c_func
(paren
id|net_stats.rx_bytes
)paren
)brace
comma
(brace
l_string|&quot;tx_bytes&quot;
comma
id|IXGB_STAT
c_func
(paren
id|net_stats.tx_bytes
)paren
)brace
comma
(brace
l_string|&quot;rx_errors&quot;
comma
id|IXGB_STAT
c_func
(paren
id|net_stats.rx_errors
)paren
)brace
comma
(brace
l_string|&quot;tx_errors&quot;
comma
id|IXGB_STAT
c_func
(paren
id|net_stats.tx_errors
)paren
)brace
comma
(brace
l_string|&quot;rx_dropped&quot;
comma
id|IXGB_STAT
c_func
(paren
id|net_stats.rx_dropped
)paren
)brace
comma
(brace
l_string|&quot;tx_dropped&quot;
comma
id|IXGB_STAT
c_func
(paren
id|net_stats.tx_dropped
)paren
)brace
comma
(brace
l_string|&quot;multicast&quot;
comma
id|IXGB_STAT
c_func
(paren
id|net_stats.multicast
)paren
)brace
comma
(brace
l_string|&quot;collisions&quot;
comma
id|IXGB_STAT
c_func
(paren
id|net_stats.collisions
)paren
)brace
comma
multiline_comment|/*&t;{ &quot;rx_length_errors&quot;, IXGB_STAT(net_stats.rx_length_errors) },&t;*/
(brace
l_string|&quot;rx_over_errors&quot;
comma
id|IXGB_STAT
c_func
(paren
id|net_stats.rx_over_errors
)paren
)brace
comma
(brace
l_string|&quot;rx_crc_errors&quot;
comma
id|IXGB_STAT
c_func
(paren
id|net_stats.rx_crc_errors
)paren
)brace
comma
(brace
l_string|&quot;rx_frame_errors&quot;
comma
id|IXGB_STAT
c_func
(paren
id|net_stats.rx_frame_errors
)paren
)brace
comma
(brace
l_string|&quot;rx_fifo_errors&quot;
comma
id|IXGB_STAT
c_func
(paren
id|net_stats.rx_fifo_errors
)paren
)brace
comma
(brace
l_string|&quot;rx_missed_errors&quot;
comma
id|IXGB_STAT
c_func
(paren
id|net_stats.rx_missed_errors
)paren
)brace
comma
(brace
l_string|&quot;tx_aborted_errors&quot;
comma
id|IXGB_STAT
c_func
(paren
id|net_stats.tx_aborted_errors
)paren
)brace
comma
(brace
l_string|&quot;tx_carrier_errors&quot;
comma
id|IXGB_STAT
c_func
(paren
id|net_stats.tx_carrier_errors
)paren
)brace
comma
(brace
l_string|&quot;tx_fifo_errors&quot;
comma
id|IXGB_STAT
c_func
(paren
id|net_stats.tx_fifo_errors
)paren
)brace
comma
(brace
l_string|&quot;tx_heartbeat_errors&quot;
comma
id|IXGB_STAT
c_func
(paren
id|net_stats.tx_heartbeat_errors
)paren
)brace
comma
(brace
l_string|&quot;tx_window_errors&quot;
comma
id|IXGB_STAT
c_func
(paren
id|net_stats.tx_window_errors
)paren
)brace
comma
(brace
l_string|&quot;tx_deferred_ok&quot;
comma
id|IXGB_STAT
c_func
(paren
id|stats.dc
)paren
)brace
comma
(brace
l_string|&quot;rx_long_length_errors&quot;
comma
id|IXGB_STAT
c_func
(paren
id|stats.roc
)paren
)brace
comma
(brace
l_string|&quot;rx_short_length_errors&quot;
comma
id|IXGB_STAT
c_func
(paren
id|stats.ruc
)paren
)brace
comma
macro_line|#ifdef NETIF_F_TSO
(brace
l_string|&quot;tx_tcp_seg_good&quot;
comma
id|IXGB_STAT
c_func
(paren
id|stats.tsctc
)paren
)brace
comma
(brace
l_string|&quot;tx_tcp_seg_failed&quot;
comma
id|IXGB_STAT
c_func
(paren
id|stats.tsctfc
)paren
)brace
comma
macro_line|#endif
(brace
l_string|&quot;rx_flow_control_xon&quot;
comma
id|IXGB_STAT
c_func
(paren
id|stats.xonrxc
)paren
)brace
comma
(brace
l_string|&quot;rx_flow_control_xoff&quot;
comma
id|IXGB_STAT
c_func
(paren
id|stats.xoffrxc
)paren
)brace
comma
(brace
l_string|&quot;tx_flow_control_xon&quot;
comma
id|IXGB_STAT
c_func
(paren
id|stats.xontxc
)paren
)brace
comma
(brace
l_string|&quot;tx_flow_control_xoff&quot;
comma
id|IXGB_STAT
c_func
(paren
id|stats.xofftxc
)paren
)brace
comma
(brace
l_string|&quot;rx_csum_offload_good&quot;
comma
id|IXGB_STAT
c_func
(paren
id|hw_csum_rx_good
)paren
)brace
comma
(brace
l_string|&quot;rx_csum_offload_errors&quot;
comma
id|IXGB_STAT
c_func
(paren
id|hw_csum_rx_error
)paren
)brace
comma
(brace
l_string|&quot;tx_csum_offload_good&quot;
comma
id|IXGB_STAT
c_func
(paren
id|hw_csum_tx_good
)paren
)brace
comma
(brace
l_string|&quot;tx_csum_offload_errors&quot;
comma
id|IXGB_STAT
c_func
(paren
id|hw_csum_tx_error
)paren
)brace
)brace
suffix:semicolon
DECL|macro|IXGB_STATS_LEN
mdefine_line|#define IXGB_STATS_LEN&t;&bslash;&n;&t;sizeof(ixgb_gstrings_stats) / sizeof(struct ixgb_stats)
r_static
r_int
DECL|function|ixgb_get_settings
id|ixgb_get_settings
c_func
(paren
r_struct
id|net_device
op_star
id|netdev
comma
r_struct
id|ethtool_cmd
op_star
id|ecmd
)paren
(brace
r_struct
id|ixgb_adapter
op_star
id|adapter
op_assign
id|netdev-&gt;priv
suffix:semicolon
id|ecmd-&gt;supported
op_assign
(paren
id|SUPPORTED_10000baseT_Full
op_or
id|SUPPORTED_FIBRE
)paren
suffix:semicolon
id|ecmd-&gt;advertising
op_assign
(paren
id|SUPPORTED_10000baseT_Full
op_or
id|SUPPORTED_FIBRE
)paren
suffix:semicolon
id|ecmd-&gt;port
op_assign
id|PORT_FIBRE
suffix:semicolon
id|ecmd-&gt;transceiver
op_assign
id|XCVR_EXTERNAL
suffix:semicolon
r_if
c_cond
(paren
id|netif_carrier_ok
c_func
(paren
id|adapter-&gt;netdev
)paren
)paren
(brace
id|ecmd-&gt;speed
op_assign
id|SPEED_10000
suffix:semicolon
id|ecmd-&gt;duplex
op_assign
id|DUPLEX_FULL
suffix:semicolon
)brace
r_else
(brace
id|ecmd-&gt;speed
op_assign
op_minus
l_int|1
suffix:semicolon
id|ecmd-&gt;duplex
op_assign
op_minus
l_int|1
suffix:semicolon
)brace
id|ecmd-&gt;autoneg
op_assign
id|AUTONEG_DISABLE
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
r_static
r_int
DECL|function|ixgb_set_settings
id|ixgb_set_settings
c_func
(paren
r_struct
id|net_device
op_star
id|netdev
comma
r_struct
id|ethtool_cmd
op_star
id|ecmd
)paren
(brace
r_struct
id|ixgb_adapter
op_star
id|adapter
op_assign
id|netdev-&gt;priv
suffix:semicolon
r_if
c_cond
(paren
id|ecmd-&gt;autoneg
op_eq
id|AUTONEG_ENABLE
op_logical_or
id|ecmd-&gt;speed
op_plus
id|ecmd-&gt;duplex
op_ne
id|SPEED_10000
op_plus
id|DUPLEX_FULL
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
r_if
c_cond
(paren
id|netif_running
c_func
(paren
id|adapter-&gt;netdev
)paren
)paren
(brace
id|ixgb_down
c_func
(paren
id|adapter
comma
id|TRUE
)paren
suffix:semicolon
id|ixgb_reset
c_func
(paren
id|adapter
)paren
suffix:semicolon
id|ixgb_up
c_func
(paren
id|adapter
)paren
suffix:semicolon
)brace
r_else
id|ixgb_reset
c_func
(paren
id|adapter
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
r_static
r_void
DECL|function|ixgb_get_pauseparam
id|ixgb_get_pauseparam
c_func
(paren
r_struct
id|net_device
op_star
id|netdev
comma
r_struct
id|ethtool_pauseparam
op_star
id|pause
)paren
(brace
r_struct
id|ixgb_adapter
op_star
id|adapter
op_assign
id|netdev-&gt;priv
suffix:semicolon
r_struct
id|ixgb_hw
op_star
id|hw
op_assign
op_amp
id|adapter-&gt;hw
suffix:semicolon
id|pause-&gt;autoneg
op_assign
id|AUTONEG_DISABLE
suffix:semicolon
r_if
c_cond
(paren
id|hw-&gt;fc.type
op_eq
id|ixgb_fc_rx_pause
)paren
(brace
id|pause-&gt;rx_pause
op_assign
l_int|1
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|hw-&gt;fc.type
op_eq
id|ixgb_fc_tx_pause
)paren
(brace
id|pause-&gt;tx_pause
op_assign
l_int|1
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|hw-&gt;fc.type
op_eq
id|ixgb_fc_full
)paren
(brace
id|pause-&gt;rx_pause
op_assign
l_int|1
suffix:semicolon
id|pause-&gt;tx_pause
op_assign
l_int|1
suffix:semicolon
)brace
)brace
r_static
r_int
DECL|function|ixgb_set_pauseparam
id|ixgb_set_pauseparam
c_func
(paren
r_struct
id|net_device
op_star
id|netdev
comma
r_struct
id|ethtool_pauseparam
op_star
id|pause
)paren
(brace
r_struct
id|ixgb_adapter
op_star
id|adapter
op_assign
id|netdev-&gt;priv
suffix:semicolon
r_struct
id|ixgb_hw
op_star
id|hw
op_assign
op_amp
id|adapter-&gt;hw
suffix:semicolon
r_if
c_cond
(paren
id|pause-&gt;autoneg
op_eq
id|AUTONEG_ENABLE
)paren
(brace
r_return
op_minus
id|EINVAL
suffix:semicolon
)brace
r_if
c_cond
(paren
id|pause-&gt;rx_pause
op_logical_and
id|pause-&gt;tx_pause
)paren
(brace
id|hw-&gt;fc.type
op_assign
id|ixgb_fc_full
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|pause-&gt;rx_pause
op_logical_and
op_logical_neg
id|pause-&gt;tx_pause
)paren
(brace
id|hw-&gt;fc.type
op_assign
id|ixgb_fc_rx_pause
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
op_logical_neg
id|pause-&gt;rx_pause
op_logical_and
id|pause-&gt;tx_pause
)paren
(brace
id|hw-&gt;fc.type
op_assign
id|ixgb_fc_tx_pause
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
op_logical_neg
id|pause-&gt;rx_pause
op_logical_and
op_logical_neg
id|pause-&gt;tx_pause
)paren
(brace
id|hw-&gt;fc.type
op_assign
id|ixgb_fc_none
suffix:semicolon
)brace
r_if
c_cond
(paren
id|netif_running
c_func
(paren
id|adapter-&gt;netdev
)paren
)paren
(brace
id|ixgb_down
c_func
(paren
id|adapter
comma
id|TRUE
)paren
suffix:semicolon
id|ixgb_up
c_func
(paren
id|adapter
)paren
suffix:semicolon
)brace
r_else
id|ixgb_reset
c_func
(paren
id|adapter
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
r_static
r_uint32
DECL|function|ixgb_get_rx_csum
id|ixgb_get_rx_csum
c_func
(paren
r_struct
id|net_device
op_star
id|netdev
)paren
(brace
r_struct
id|ixgb_adapter
op_star
id|adapter
op_assign
id|netdev-&gt;priv
suffix:semicolon
r_return
id|adapter-&gt;rx_csum
suffix:semicolon
)brace
r_static
r_int
DECL|function|ixgb_set_rx_csum
id|ixgb_set_rx_csum
c_func
(paren
r_struct
id|net_device
op_star
id|netdev
comma
r_uint32
id|data
)paren
(brace
r_struct
id|ixgb_adapter
op_star
id|adapter
op_assign
id|netdev-&gt;priv
suffix:semicolon
id|adapter-&gt;rx_csum
op_assign
id|data
suffix:semicolon
r_if
c_cond
(paren
id|netif_running
c_func
(paren
id|netdev
)paren
)paren
(brace
id|ixgb_down
c_func
(paren
id|adapter
comma
id|TRUE
)paren
suffix:semicolon
id|ixgb_up
c_func
(paren
id|adapter
)paren
suffix:semicolon
)brace
r_else
id|ixgb_reset
c_func
(paren
id|adapter
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
r_static
r_uint32
DECL|function|ixgb_get_tx_csum
id|ixgb_get_tx_csum
c_func
(paren
r_struct
id|net_device
op_star
id|netdev
)paren
(brace
r_return
(paren
id|netdev-&gt;features
op_amp
id|NETIF_F_HW_CSUM
)paren
op_ne
l_int|0
suffix:semicolon
)brace
r_static
r_int
DECL|function|ixgb_set_tx_csum
id|ixgb_set_tx_csum
c_func
(paren
r_struct
id|net_device
op_star
id|netdev
comma
r_uint32
id|data
)paren
(brace
r_if
c_cond
(paren
id|data
)paren
id|netdev-&gt;features
op_or_assign
id|NETIF_F_HW_CSUM
suffix:semicolon
r_else
id|netdev-&gt;features
op_and_assign
op_complement
id|NETIF_F_HW_CSUM
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
macro_line|#ifdef NETIF_F_TSO
r_static
r_int
DECL|function|ixgb_set_tso
id|ixgb_set_tso
c_func
(paren
r_struct
id|net_device
op_star
id|netdev
comma
r_uint32
id|data
)paren
(brace
r_if
c_cond
(paren
id|data
)paren
(brace
id|netdev-&gt;features
op_or_assign
id|NETIF_F_TSO
suffix:semicolon
)brace
r_else
id|netdev-&gt;features
op_and_assign
op_complement
id|NETIF_F_TSO
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
macro_line|#endif /* NETIF_F_TSO */
DECL|macro|IXGB_GET_STAT
mdefine_line|#define IXGB_GET_STAT(_A_, _R_) _A_-&gt;stats._R_
r_static
r_int
DECL|function|ixgb_get_regs_len
id|ixgb_get_regs_len
c_func
(paren
r_struct
id|net_device
op_star
id|netdev
)paren
(brace
DECL|macro|IXGB_REG_DUMP_LEN
mdefine_line|#define IXGB_REG_DUMP_LEN  136*sizeof(uint32_t)
r_return
id|IXGB_REG_DUMP_LEN
suffix:semicolon
)brace
r_static
r_void
DECL|function|ixgb_get_regs
id|ixgb_get_regs
c_func
(paren
r_struct
id|net_device
op_star
id|netdev
comma
r_struct
id|ethtool_regs
op_star
id|regs
comma
r_void
op_star
id|p
)paren
(brace
r_struct
id|ixgb_adapter
op_star
id|adapter
op_assign
id|netdev-&gt;priv
suffix:semicolon
r_struct
id|ixgb_hw
op_star
id|hw
op_assign
op_amp
id|adapter-&gt;hw
suffix:semicolon
r_uint32
op_star
id|reg
op_assign
id|p
suffix:semicolon
r_uint32
op_star
id|reg_start
op_assign
id|reg
suffix:semicolon
r_uint8
id|i
suffix:semicolon
id|regs-&gt;version
op_assign
(paren
id|adapter-&gt;hw.device_id
op_lshift
l_int|16
)paren
op_or
id|adapter-&gt;hw.subsystem_id
suffix:semicolon
multiline_comment|/* General Registers */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|CTRL0
)paren
suffix:semicolon
multiline_comment|/*   0 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|CTRL1
)paren
suffix:semicolon
multiline_comment|/*   1 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|STATUS
)paren
suffix:semicolon
multiline_comment|/*   2 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|EECD
)paren
suffix:semicolon
multiline_comment|/*   3 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|MFS
)paren
suffix:semicolon
multiline_comment|/*   4 */
multiline_comment|/* Interrupt */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|ICR
)paren
suffix:semicolon
multiline_comment|/*   5 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|ICS
)paren
suffix:semicolon
multiline_comment|/*   6 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|IMS
)paren
suffix:semicolon
multiline_comment|/*   7 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|IMC
)paren
suffix:semicolon
multiline_comment|/*   8 */
multiline_comment|/* Receive */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|RCTL
)paren
suffix:semicolon
multiline_comment|/*   9 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|FCRTL
)paren
suffix:semicolon
multiline_comment|/*  10 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|FCRTH
)paren
suffix:semicolon
multiline_comment|/*  11 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|RDBAL
)paren
suffix:semicolon
multiline_comment|/*  12 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|RDBAH
)paren
suffix:semicolon
multiline_comment|/*  13 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|RDLEN
)paren
suffix:semicolon
multiline_comment|/*  14 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|RDH
)paren
suffix:semicolon
multiline_comment|/*  15 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|RDT
)paren
suffix:semicolon
multiline_comment|/*  16 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|RDTR
)paren
suffix:semicolon
multiline_comment|/*  17 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|RXDCTL
)paren
suffix:semicolon
multiline_comment|/*  18 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|RAIDC
)paren
suffix:semicolon
multiline_comment|/*  19 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|RXCSUM
)paren
suffix:semicolon
multiline_comment|/*  20 */
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|IXGB_RAR_ENTRIES
suffix:semicolon
id|i
op_increment
)paren
(brace
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG_ARRAY
c_func
(paren
id|hw
comma
id|RAL
comma
(paren
id|i
op_lshift
l_int|1
)paren
)paren
suffix:semicolon
multiline_comment|/*21,...,51 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG_ARRAY
c_func
(paren
id|hw
comma
id|RAH
comma
(paren
id|i
op_lshift
l_int|1
)paren
)paren
suffix:semicolon
multiline_comment|/*22,...,52 */
)brace
multiline_comment|/* Transmit */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|TCTL
)paren
suffix:semicolon
multiline_comment|/*  53 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|TDBAL
)paren
suffix:semicolon
multiline_comment|/*  54 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|TDBAH
)paren
suffix:semicolon
multiline_comment|/*  55 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|TDLEN
)paren
suffix:semicolon
multiline_comment|/*  56 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|TDH
)paren
suffix:semicolon
multiline_comment|/*  57 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|TDT
)paren
suffix:semicolon
multiline_comment|/*  58 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|TIDV
)paren
suffix:semicolon
multiline_comment|/*  59 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|TXDCTL
)paren
suffix:semicolon
multiline_comment|/*  60 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|TSPMT
)paren
suffix:semicolon
multiline_comment|/*  61 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|PAP
)paren
suffix:semicolon
multiline_comment|/*  62 */
multiline_comment|/* Physical */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|PCSC1
)paren
suffix:semicolon
multiline_comment|/*  63 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|PCSC2
)paren
suffix:semicolon
multiline_comment|/*  64 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|PCSS1
)paren
suffix:semicolon
multiline_comment|/*  65 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|PCSS2
)paren
suffix:semicolon
multiline_comment|/*  66 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|XPCSS
)paren
suffix:semicolon
multiline_comment|/*  67 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|UCCR
)paren
suffix:semicolon
multiline_comment|/*  68 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|XPCSTC
)paren
suffix:semicolon
multiline_comment|/*  69 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|MACA
)paren
suffix:semicolon
multiline_comment|/*  70 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|APAE
)paren
suffix:semicolon
multiline_comment|/*  71 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|ARD
)paren
suffix:semicolon
multiline_comment|/*  72 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|AIS
)paren
suffix:semicolon
multiline_comment|/*  73 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|MSCA
)paren
suffix:semicolon
multiline_comment|/*  74 */
op_star
id|reg
op_increment
op_assign
id|IXGB_READ_REG
c_func
(paren
id|hw
comma
id|MSRWD
)paren
suffix:semicolon
multiline_comment|/*  75 */
multiline_comment|/* Statistics */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|tprl
)paren
suffix:semicolon
multiline_comment|/*  76 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|tprh
)paren
suffix:semicolon
multiline_comment|/*  77 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|gprcl
)paren
suffix:semicolon
multiline_comment|/*  78 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|gprch
)paren
suffix:semicolon
multiline_comment|/*  79 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|bprcl
)paren
suffix:semicolon
multiline_comment|/*  80 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|bprch
)paren
suffix:semicolon
multiline_comment|/*  81 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|mprcl
)paren
suffix:semicolon
multiline_comment|/*  82 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|mprch
)paren
suffix:semicolon
multiline_comment|/*  83 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|uprcl
)paren
suffix:semicolon
multiline_comment|/*  84 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|uprch
)paren
suffix:semicolon
multiline_comment|/*  85 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|vprcl
)paren
suffix:semicolon
multiline_comment|/*  86 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|vprch
)paren
suffix:semicolon
multiline_comment|/*  87 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|jprcl
)paren
suffix:semicolon
multiline_comment|/*  88 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|jprch
)paren
suffix:semicolon
multiline_comment|/*  89 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|gorcl
)paren
suffix:semicolon
multiline_comment|/*  90 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|gorch
)paren
suffix:semicolon
multiline_comment|/*  91 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|torl
)paren
suffix:semicolon
multiline_comment|/*  92 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|torh
)paren
suffix:semicolon
multiline_comment|/*  93 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|rnbc
)paren
suffix:semicolon
multiline_comment|/*  94 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|ruc
)paren
suffix:semicolon
multiline_comment|/*  95 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|roc
)paren
suffix:semicolon
multiline_comment|/*  96 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|rlec
)paren
suffix:semicolon
multiline_comment|/*  97 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|crcerrs
)paren
suffix:semicolon
multiline_comment|/*  98 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|icbc
)paren
suffix:semicolon
multiline_comment|/*  99 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|ecbc
)paren
suffix:semicolon
multiline_comment|/* 100 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|mpc
)paren
suffix:semicolon
multiline_comment|/* 101 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|tptl
)paren
suffix:semicolon
multiline_comment|/* 102 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|tpth
)paren
suffix:semicolon
multiline_comment|/* 103 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|gptcl
)paren
suffix:semicolon
multiline_comment|/* 104 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|gptch
)paren
suffix:semicolon
multiline_comment|/* 105 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|bptcl
)paren
suffix:semicolon
multiline_comment|/* 106 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|bptch
)paren
suffix:semicolon
multiline_comment|/* 107 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|mptcl
)paren
suffix:semicolon
multiline_comment|/* 108 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|mptch
)paren
suffix:semicolon
multiline_comment|/* 109 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|uptcl
)paren
suffix:semicolon
multiline_comment|/* 110 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|uptch
)paren
suffix:semicolon
multiline_comment|/* 111 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|vptcl
)paren
suffix:semicolon
multiline_comment|/* 112 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|vptch
)paren
suffix:semicolon
multiline_comment|/* 113 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|jptcl
)paren
suffix:semicolon
multiline_comment|/* 114 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|jptch
)paren
suffix:semicolon
multiline_comment|/* 115 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|gotcl
)paren
suffix:semicolon
multiline_comment|/* 116 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|gotch
)paren
suffix:semicolon
multiline_comment|/* 117 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|totl
)paren
suffix:semicolon
multiline_comment|/* 118 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|toth
)paren
suffix:semicolon
multiline_comment|/* 119 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|dc
)paren
suffix:semicolon
multiline_comment|/* 120 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|plt64c
)paren
suffix:semicolon
multiline_comment|/* 121 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|tsctc
)paren
suffix:semicolon
multiline_comment|/* 122 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|tsctfc
)paren
suffix:semicolon
multiline_comment|/* 123 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|ibic
)paren
suffix:semicolon
multiline_comment|/* 124 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|rfc
)paren
suffix:semicolon
multiline_comment|/* 125 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|lfc
)paren
suffix:semicolon
multiline_comment|/* 126 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|pfrc
)paren
suffix:semicolon
multiline_comment|/* 127 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|pftc
)paren
suffix:semicolon
multiline_comment|/* 128 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|mcfrc
)paren
suffix:semicolon
multiline_comment|/* 129 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|mcftc
)paren
suffix:semicolon
multiline_comment|/* 130 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|xonrxc
)paren
suffix:semicolon
multiline_comment|/* 131 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|xontxc
)paren
suffix:semicolon
multiline_comment|/* 132 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|xoffrxc
)paren
suffix:semicolon
multiline_comment|/* 133 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|xofftxc
)paren
suffix:semicolon
multiline_comment|/* 134 */
op_star
id|reg
op_increment
op_assign
id|IXGB_GET_STAT
c_func
(paren
id|adapter
comma
id|rjc
)paren
suffix:semicolon
multiline_comment|/* 135 */
id|regs-&gt;len
op_assign
(paren
id|reg
op_minus
id|reg_start
)paren
op_star
r_sizeof
(paren
r_uint32
)paren
suffix:semicolon
)brace
r_static
r_int
DECL|function|ixgb_get_eeprom_len
id|ixgb_get_eeprom_len
c_func
(paren
r_struct
id|net_device
op_star
id|netdev
)paren
(brace
multiline_comment|/* return size in bytes */
r_return
(paren
id|IXGB_EEPROM_SIZE
op_lshift
l_int|1
)paren
suffix:semicolon
)brace
r_static
r_int
DECL|function|ixgb_get_eeprom
id|ixgb_get_eeprom
c_func
(paren
r_struct
id|net_device
op_star
id|netdev
comma
r_struct
id|ethtool_eeprom
op_star
id|eeprom
comma
r_uint8
op_star
id|bytes
)paren
(brace
r_struct
id|ixgb_adapter
op_star
id|adapter
op_assign
id|netdev-&gt;priv
suffix:semicolon
r_struct
id|ixgb_hw
op_star
id|hw
op_assign
op_amp
id|adapter-&gt;hw
suffix:semicolon
r_uint16
op_star
id|eeprom_buff
suffix:semicolon
r_int
id|i
comma
id|max_len
comma
id|first_word
comma
id|last_word
suffix:semicolon
r_int
id|ret_val
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|eeprom-&gt;len
op_eq
l_int|0
)paren
(brace
id|ret_val
op_assign
op_minus
id|EINVAL
suffix:semicolon
r_goto
id|geeprom_error
suffix:semicolon
)brace
id|eeprom-&gt;magic
op_assign
id|hw-&gt;vendor_id
op_or
(paren
id|hw-&gt;device_id
op_lshift
l_int|16
)paren
suffix:semicolon
id|max_len
op_assign
id|ixgb_get_eeprom_len
c_func
(paren
id|netdev
)paren
suffix:semicolon
r_if
c_cond
(paren
id|eeprom-&gt;offset
OG
id|eeprom-&gt;offset
op_plus
id|eeprom-&gt;len
)paren
(brace
id|ret_val
op_assign
op_minus
id|EINVAL
suffix:semicolon
r_goto
id|geeprom_error
suffix:semicolon
)brace
r_if
c_cond
(paren
(paren
id|eeprom-&gt;offset
op_plus
id|eeprom-&gt;len
)paren
OG
id|max_len
)paren
(brace
id|eeprom-&gt;len
op_assign
(paren
id|max_len
op_minus
id|eeprom-&gt;offset
)paren
suffix:semicolon
)brace
id|first_word
op_assign
id|eeprom-&gt;offset
op_rshift
l_int|1
suffix:semicolon
id|last_word
op_assign
(paren
id|eeprom-&gt;offset
op_plus
id|eeprom-&gt;len
op_minus
l_int|1
)paren
op_rshift
l_int|1
suffix:semicolon
id|eeprom_buff
op_assign
id|kmalloc
c_func
(paren
r_sizeof
(paren
r_uint16
)paren
op_star
(paren
id|last_word
op_minus
id|first_word
op_plus
l_int|1
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|eeprom_buff
)paren
(brace
r_return
op_minus
id|ENOMEM
suffix:semicolon
)brace
multiline_comment|/* note the eeprom was good because the driver loaded */
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
op_le
(paren
id|last_word
op_minus
id|first_word
)paren
suffix:semicolon
id|i
op_increment
)paren
(brace
id|eeprom_buff
(braket
id|i
)braket
op_assign
id|ixgb_get_eeprom_word
c_func
(paren
id|hw
comma
(paren
id|first_word
op_plus
id|i
)paren
)paren
suffix:semicolon
)brace
id|memcpy
c_func
(paren
id|bytes
comma
(paren
r_uint8
op_star
)paren
id|eeprom_buff
op_plus
(paren
id|eeprom-&gt;offset
op_amp
l_int|1
)paren
comma
id|eeprom-&gt;len
)paren
suffix:semicolon
id|kfree
c_func
(paren
id|eeprom_buff
)paren
suffix:semicolon
id|geeprom_error
suffix:colon
r_return
id|ret_val
suffix:semicolon
)brace
r_static
r_int
DECL|function|ixgb_set_eeprom
id|ixgb_set_eeprom
c_func
(paren
r_struct
id|net_device
op_star
id|netdev
comma
r_struct
id|ethtool_eeprom
op_star
id|eeprom
comma
r_uint8
op_star
id|bytes
)paren
(brace
r_struct
id|ixgb_adapter
op_star
id|adapter
op_assign
id|netdev-&gt;priv
suffix:semicolon
r_struct
id|ixgb_hw
op_star
id|hw
op_assign
op_amp
id|adapter-&gt;hw
suffix:semicolon
r_uint16
op_star
id|eeprom_buff
suffix:semicolon
r_void
op_star
id|ptr
suffix:semicolon
r_int
id|max_len
comma
id|first_word
comma
id|last_word
suffix:semicolon
r_uint16
id|i
suffix:semicolon
r_if
c_cond
(paren
id|eeprom-&gt;len
op_eq
l_int|0
)paren
(brace
r_return
op_minus
id|EINVAL
suffix:semicolon
)brace
r_if
c_cond
(paren
id|eeprom-&gt;magic
op_ne
(paren
id|hw-&gt;vendor_id
op_or
(paren
id|hw-&gt;device_id
op_lshift
l_int|16
)paren
)paren
)paren
(brace
r_return
op_minus
id|EFAULT
suffix:semicolon
)brace
id|max_len
op_assign
id|ixgb_get_eeprom_len
c_func
(paren
id|netdev
)paren
suffix:semicolon
r_if
c_cond
(paren
id|eeprom-&gt;offset
OG
id|eeprom-&gt;offset
op_plus
id|eeprom-&gt;len
)paren
(brace
r_return
op_minus
id|EINVAL
suffix:semicolon
)brace
r_if
c_cond
(paren
(paren
id|eeprom-&gt;offset
op_plus
id|eeprom-&gt;len
)paren
OG
id|max_len
)paren
(brace
id|eeprom-&gt;len
op_assign
(paren
id|max_len
op_minus
id|eeprom-&gt;offset
)paren
suffix:semicolon
)brace
id|first_word
op_assign
id|eeprom-&gt;offset
op_rshift
l_int|1
suffix:semicolon
id|last_word
op_assign
(paren
id|eeprom-&gt;offset
op_plus
id|eeprom-&gt;len
op_minus
l_int|1
)paren
op_rshift
l_int|1
suffix:semicolon
id|eeprom_buff
op_assign
id|kmalloc
c_func
(paren
id|max_len
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|eeprom_buff
)paren
(brace
r_return
op_minus
id|ENOMEM
suffix:semicolon
)brace
id|ptr
op_assign
(paren
r_void
op_star
)paren
id|eeprom_buff
suffix:semicolon
r_if
c_cond
(paren
id|eeprom-&gt;offset
op_amp
l_int|1
)paren
(brace
multiline_comment|/* need read/modify/write of first changed EEPROM word */
multiline_comment|/* only the second byte of the word is being modified */
id|eeprom_buff
(braket
l_int|0
)braket
op_assign
id|ixgb_read_eeprom
c_func
(paren
id|hw
comma
id|first_word
)paren
suffix:semicolon
id|ptr
op_increment
suffix:semicolon
)brace
r_if
c_cond
(paren
(paren
id|eeprom-&gt;offset
op_plus
id|eeprom-&gt;len
)paren
op_amp
l_int|1
)paren
(brace
multiline_comment|/* need read/modify/write of last changed EEPROM word */
multiline_comment|/* only the first byte of the word is being modified */
id|eeprom_buff
(braket
id|last_word
op_minus
id|first_word
)braket
op_assign
id|ixgb_read_eeprom
c_func
(paren
id|hw
comma
id|last_word
)paren
suffix:semicolon
)brace
id|memcpy
c_func
(paren
id|ptr
comma
id|bytes
comma
id|eeprom-&gt;len
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
op_le
(paren
id|last_word
op_minus
id|first_word
)paren
suffix:semicolon
id|i
op_increment
)paren
(brace
id|ixgb_write_eeprom
c_func
(paren
id|hw
comma
id|first_word
op_plus
id|i
comma
id|eeprom_buff
(braket
id|i
)braket
)paren
suffix:semicolon
)brace
multiline_comment|/* Update the checksum over the first part of the EEPROM if needed */
r_if
c_cond
(paren
id|first_word
op_le
id|EEPROM_CHECKSUM_REG
)paren
id|ixgb_update_eeprom_checksum
c_func
(paren
id|hw
)paren
suffix:semicolon
id|kfree
c_func
(paren
id|eeprom_buff
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
r_static
r_void
DECL|function|ixgb_get_drvinfo
id|ixgb_get_drvinfo
c_func
(paren
r_struct
id|net_device
op_star
id|netdev
comma
r_struct
id|ethtool_drvinfo
op_star
id|drvinfo
)paren
(brace
r_struct
id|ixgb_adapter
op_star
id|adapter
op_assign
id|netdev-&gt;priv
suffix:semicolon
id|strncpy
c_func
(paren
id|drvinfo-&gt;driver
comma
id|ixgb_driver_name
comma
l_int|32
)paren
suffix:semicolon
id|strncpy
c_func
(paren
id|drvinfo-&gt;version
comma
id|ixgb_driver_version
comma
l_int|32
)paren
suffix:semicolon
id|strncpy
c_func
(paren
id|drvinfo-&gt;fw_version
comma
l_string|&quot;N/A&quot;
comma
l_int|32
)paren
suffix:semicolon
id|strncpy
c_func
(paren
id|drvinfo-&gt;bus_info
comma
id|pci_name
c_func
(paren
id|adapter-&gt;pdev
)paren
comma
l_int|32
)paren
suffix:semicolon
id|drvinfo-&gt;n_stats
op_assign
id|IXGB_STATS_LEN
suffix:semicolon
id|drvinfo-&gt;regdump_len
op_assign
id|ixgb_get_regs_len
c_func
(paren
id|netdev
)paren
suffix:semicolon
id|drvinfo-&gt;eedump_len
op_assign
id|ixgb_get_eeprom_len
c_func
(paren
id|netdev
)paren
suffix:semicolon
)brace
r_static
r_void
DECL|function|ixgb_get_ringparam
id|ixgb_get_ringparam
c_func
(paren
r_struct
id|net_device
op_star
id|netdev
comma
r_struct
id|ethtool_ringparam
op_star
id|ring
)paren
(brace
r_struct
id|ixgb_adapter
op_star
id|adapter
op_assign
id|netdev-&gt;priv
suffix:semicolon
r_struct
id|ixgb_desc_ring
op_star
id|txdr
op_assign
op_amp
id|adapter-&gt;tx_ring
suffix:semicolon
r_struct
id|ixgb_desc_ring
op_star
id|rxdr
op_assign
op_amp
id|adapter-&gt;rx_ring
suffix:semicolon
id|ring-&gt;rx_max_pending
op_assign
id|MAX_RXD
suffix:semicolon
id|ring-&gt;tx_max_pending
op_assign
id|MAX_TXD
suffix:semicolon
id|ring-&gt;rx_mini_max_pending
op_assign
l_int|0
suffix:semicolon
id|ring-&gt;rx_jumbo_max_pending
op_assign
l_int|0
suffix:semicolon
id|ring-&gt;rx_pending
op_assign
id|rxdr-&gt;count
suffix:semicolon
id|ring-&gt;tx_pending
op_assign
id|txdr-&gt;count
suffix:semicolon
id|ring-&gt;rx_mini_pending
op_assign
l_int|0
suffix:semicolon
id|ring-&gt;rx_jumbo_pending
op_assign
l_int|0
suffix:semicolon
)brace
r_static
r_int
DECL|function|ixgb_set_ringparam
id|ixgb_set_ringparam
c_func
(paren
r_struct
id|net_device
op_star
id|netdev
comma
r_struct
id|ethtool_ringparam
op_star
id|ring
)paren
(brace
r_struct
id|ixgb_adapter
op_star
id|adapter
op_assign
id|netdev-&gt;priv
suffix:semicolon
r_struct
id|ixgb_desc_ring
op_star
id|txdr
op_assign
op_amp
id|adapter-&gt;tx_ring
suffix:semicolon
r_struct
id|ixgb_desc_ring
op_star
id|rxdr
op_assign
op_amp
id|adapter-&gt;rx_ring
suffix:semicolon
r_struct
id|ixgb_desc_ring
id|tx_old
comma
id|tx_new
comma
id|rx_old
comma
id|rx_new
suffix:semicolon
r_int
id|err
suffix:semicolon
id|tx_old
op_assign
id|adapter-&gt;tx_ring
suffix:semicolon
id|rx_old
op_assign
id|adapter-&gt;rx_ring
suffix:semicolon
r_if
c_cond
(paren
(paren
id|ring-&gt;rx_mini_pending
)paren
op_logical_or
(paren
id|ring-&gt;rx_jumbo_pending
)paren
)paren
(brace
r_return
op_minus
id|EINVAL
suffix:semicolon
)brace
r_if
c_cond
(paren
id|netif_running
c_func
(paren
id|adapter-&gt;netdev
)paren
)paren
(brace
id|ixgb_down
c_func
(paren
id|adapter
comma
id|TRUE
)paren
suffix:semicolon
)brace
id|rxdr-&gt;count
op_assign
id|max
c_func
(paren
id|ring-&gt;rx_pending
comma
(paren
r_uint32
)paren
id|MIN_RXD
)paren
suffix:semicolon
id|rxdr-&gt;count
op_assign
id|min
c_func
(paren
id|rxdr-&gt;count
comma
(paren
r_uint32
)paren
id|MAX_RXD
)paren
suffix:semicolon
id|IXGB_ROUNDUP
c_func
(paren
id|rxdr-&gt;count
comma
id|IXGB_REQ_RX_DESCRIPTOR_MULTIPLE
)paren
suffix:semicolon
id|txdr-&gt;count
op_assign
id|max
c_func
(paren
id|ring-&gt;tx_pending
comma
(paren
r_uint32
)paren
id|MIN_TXD
)paren
suffix:semicolon
id|txdr-&gt;count
op_assign
id|min
c_func
(paren
id|txdr-&gt;count
comma
(paren
r_uint32
)paren
id|MAX_TXD
)paren
suffix:semicolon
id|IXGB_ROUNDUP
c_func
(paren
id|txdr-&gt;count
comma
id|IXGB_REQ_TX_DESCRIPTOR_MULTIPLE
)paren
suffix:semicolon
r_if
c_cond
(paren
id|netif_running
c_func
(paren
id|adapter-&gt;netdev
)paren
)paren
(brace
multiline_comment|/* Try to get new resources before deleting old */
r_if
c_cond
(paren
(paren
id|err
op_assign
id|ixgb_setup_rx_resources
c_func
(paren
id|adapter
)paren
)paren
)paren
(brace
r_goto
id|err_setup_rx
suffix:semicolon
)brace
r_if
c_cond
(paren
(paren
id|err
op_assign
id|ixgb_setup_tx_resources
c_func
(paren
id|adapter
)paren
)paren
)paren
(brace
r_goto
id|err_setup_tx
suffix:semicolon
)brace
multiline_comment|/* save the new, restore the old in order to free it,&n;&t;&t; * then restore the new back again */
id|rx_new
op_assign
id|adapter-&gt;rx_ring
suffix:semicolon
id|tx_new
op_assign
id|adapter-&gt;tx_ring
suffix:semicolon
id|adapter-&gt;rx_ring
op_assign
id|rx_old
suffix:semicolon
id|adapter-&gt;tx_ring
op_assign
id|tx_old
suffix:semicolon
id|ixgb_free_rx_resources
c_func
(paren
id|adapter
)paren
suffix:semicolon
id|ixgb_free_tx_resources
c_func
(paren
id|adapter
)paren
suffix:semicolon
id|adapter-&gt;rx_ring
op_assign
id|rx_new
suffix:semicolon
id|adapter-&gt;tx_ring
op_assign
id|tx_new
suffix:semicolon
r_if
c_cond
(paren
(paren
id|err
op_assign
id|ixgb_up
c_func
(paren
id|adapter
)paren
)paren
)paren
(brace
r_return
id|err
suffix:semicolon
)brace
)brace
r_return
l_int|0
suffix:semicolon
id|err_setup_tx
suffix:colon
id|ixgb_free_rx_resources
c_func
(paren
id|adapter
)paren
suffix:semicolon
id|err_setup_rx
suffix:colon
id|adapter-&gt;rx_ring
op_assign
id|rx_old
suffix:semicolon
id|adapter-&gt;tx_ring
op_assign
id|tx_old
suffix:semicolon
id|ixgb_up
c_func
(paren
id|adapter
)paren
suffix:semicolon
r_return
id|err
suffix:semicolon
)brace
multiline_comment|/* toggle LED 4 times per second = 2 &quot;blinks&quot; per second */
DECL|macro|IXGB_ID_INTERVAL
mdefine_line|#define IXGB_ID_INTERVAL&t;(HZ/4)
multiline_comment|/* bit defines for adapter-&gt;led_status */
DECL|macro|IXGB_LED_ON
mdefine_line|#define IXGB_LED_ON&t;&t;0
DECL|function|ixgb_led_blink_callback
r_static
r_void
id|ixgb_led_blink_callback
c_func
(paren
r_int
r_int
id|data
)paren
(brace
r_struct
id|ixgb_adapter
op_star
id|adapter
op_assign
(paren
r_struct
id|ixgb_adapter
op_star
)paren
id|data
suffix:semicolon
r_if
c_cond
(paren
id|test_and_change_bit
c_func
(paren
id|IXGB_LED_ON
comma
op_amp
id|adapter-&gt;led_status
)paren
)paren
id|ixgb_led_off
c_func
(paren
op_amp
id|adapter-&gt;hw
)paren
suffix:semicolon
r_else
id|ixgb_led_on
c_func
(paren
op_amp
id|adapter-&gt;hw
)paren
suffix:semicolon
id|mod_timer
c_func
(paren
op_amp
id|adapter-&gt;blink_timer
comma
id|jiffies
op_plus
id|IXGB_ID_INTERVAL
)paren
suffix:semicolon
)brace
r_static
r_int
DECL|function|ixgb_phys_id
id|ixgb_phys_id
c_func
(paren
r_struct
id|net_device
op_star
id|netdev
comma
r_uint32
id|data
)paren
(brace
r_struct
id|ixgb_adapter
op_star
id|adapter
op_assign
id|netdev-&gt;priv
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|data
op_logical_or
id|data
OG
(paren
r_uint32
)paren
(paren
id|MAX_SCHEDULE_TIMEOUT
op_div
id|HZ
)paren
)paren
(brace
id|data
op_assign
(paren
r_uint32
)paren
(paren
id|MAX_SCHEDULE_TIMEOUT
op_div
id|HZ
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|adapter-&gt;blink_timer.function
)paren
(brace
id|init_timer
c_func
(paren
op_amp
id|adapter-&gt;blink_timer
)paren
suffix:semicolon
id|adapter-&gt;blink_timer.function
op_assign
id|ixgb_led_blink_callback
suffix:semicolon
id|adapter-&gt;blink_timer.data
op_assign
(paren
r_int
r_int
)paren
id|adapter
suffix:semicolon
)brace
id|mod_timer
c_func
(paren
op_amp
id|adapter-&gt;blink_timer
comma
id|jiffies
)paren
suffix:semicolon
id|set_current_state
c_func
(paren
id|TASK_INTERRUPTIBLE
)paren
suffix:semicolon
r_if
c_cond
(paren
id|data
)paren
(brace
id|schedule_timeout
c_func
(paren
id|data
op_star
id|HZ
)paren
suffix:semicolon
)brace
r_else
id|schedule_timeout
c_func
(paren
id|MAX_SCHEDULE_TIMEOUT
)paren
suffix:semicolon
id|del_timer_sync
c_func
(paren
op_amp
id|adapter-&gt;blink_timer
)paren
suffix:semicolon
id|ixgb_led_off
c_func
(paren
op_amp
id|adapter-&gt;hw
)paren
suffix:semicolon
id|clear_bit
c_func
(paren
id|IXGB_LED_ON
comma
op_amp
id|adapter-&gt;led_status
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
r_static
r_int
DECL|function|ixgb_get_stats_count
id|ixgb_get_stats_count
c_func
(paren
r_struct
id|net_device
op_star
id|netdev
)paren
(brace
r_return
id|IXGB_STATS_LEN
suffix:semicolon
)brace
r_static
r_void
DECL|function|ixgb_get_ethtool_stats
id|ixgb_get_ethtool_stats
c_func
(paren
r_struct
id|net_device
op_star
id|netdev
comma
r_struct
id|ethtool_stats
op_star
id|stats
comma
r_uint64
op_star
id|data
)paren
(brace
r_struct
id|ixgb_adapter
op_star
id|adapter
op_assign
id|netdev-&gt;priv
suffix:semicolon
r_int
id|i
suffix:semicolon
id|ixgb_update_stats
c_func
(paren
id|adapter
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|IXGB_STATS_LEN
suffix:semicolon
id|i
op_increment
)paren
(brace
r_char
op_star
id|p
op_assign
(paren
r_char
op_star
)paren
id|adapter
op_plus
id|ixgb_gstrings_stats
(braket
id|i
)braket
dot
id|stat_offset
suffix:semicolon
id|data
(braket
id|i
)braket
op_assign
(paren
id|ixgb_gstrings_stats
(braket
id|i
)braket
dot
id|sizeof_stat
op_eq
r_sizeof
(paren
r_uint64
)paren
)paren
ques
c_cond
op_star
(paren
r_uint64
op_star
)paren
id|p
suffix:colon
op_star
(paren
r_uint32
op_star
)paren
id|p
suffix:semicolon
)brace
)brace
r_static
r_void
DECL|function|ixgb_get_strings
id|ixgb_get_strings
c_func
(paren
r_struct
id|net_device
op_star
id|netdev
comma
r_uint32
id|stringset
comma
r_uint8
op_star
id|data
)paren
(brace
r_int
id|i
suffix:semicolon
r_switch
c_cond
(paren
id|stringset
)paren
(brace
r_case
id|ETH_SS_STATS
suffix:colon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|IXGB_STATS_LEN
suffix:semicolon
id|i
op_increment
)paren
(brace
id|memcpy
c_func
(paren
id|data
op_plus
id|i
op_star
id|ETH_GSTRING_LEN
comma
id|ixgb_gstrings_stats
(braket
id|i
)braket
dot
id|stat_string
comma
id|ETH_GSTRING_LEN
)paren
suffix:semicolon
)brace
r_break
suffix:semicolon
)brace
)brace
DECL|variable|ixgb_ethtool_ops
r_struct
id|ethtool_ops
id|ixgb_ethtool_ops
op_assign
(brace
dot
id|get_settings
op_assign
id|ixgb_get_settings
comma
dot
id|set_settings
op_assign
id|ixgb_set_settings
comma
dot
id|get_drvinfo
op_assign
id|ixgb_get_drvinfo
comma
dot
id|get_regs_len
op_assign
id|ixgb_get_regs_len
comma
dot
id|get_regs
op_assign
id|ixgb_get_regs
comma
dot
id|get_link
op_assign
id|ethtool_op_get_link
comma
dot
id|get_eeprom_len
op_assign
id|ixgb_get_eeprom_len
comma
dot
id|get_eeprom
op_assign
id|ixgb_get_eeprom
comma
dot
id|set_eeprom
op_assign
id|ixgb_set_eeprom
comma
dot
id|get_ringparam
op_assign
id|ixgb_get_ringparam
comma
dot
id|set_ringparam
op_assign
id|ixgb_set_ringparam
comma
dot
id|get_pauseparam
op_assign
id|ixgb_get_pauseparam
comma
dot
id|set_pauseparam
op_assign
id|ixgb_set_pauseparam
comma
dot
id|get_rx_csum
op_assign
id|ixgb_get_rx_csum
comma
dot
id|set_rx_csum
op_assign
id|ixgb_set_rx_csum
comma
dot
id|get_tx_csum
op_assign
id|ixgb_get_tx_csum
comma
dot
id|set_tx_csum
op_assign
id|ixgb_set_tx_csum
comma
dot
id|get_sg
op_assign
id|ethtool_op_get_sg
comma
dot
id|set_sg
op_assign
id|ethtool_op_set_sg
comma
macro_line|#ifdef NETIF_F_TSO
dot
id|get_tso
op_assign
id|ethtool_op_get_tso
comma
dot
id|set_tso
op_assign
id|ixgb_set_tso
comma
macro_line|#endif
dot
id|get_strings
op_assign
id|ixgb_get_strings
comma
dot
id|phys_id
op_assign
id|ixgb_phys_id
comma
dot
id|get_stats_count
op_assign
id|ixgb_get_stats_count
comma
dot
id|get_ethtool_stats
op_assign
id|ixgb_get_ethtool_stats
comma
)brace
suffix:semicolon
DECL|function|set_ethtool_ops
r_void
id|set_ethtool_ops
c_func
(paren
r_struct
id|net_device
op_star
id|netdev
)paren
(brace
id|SET_ETHTOOL_OPS
c_func
(paren
id|netdev
comma
op_amp
id|ixgb_ethtool_ops
)paren
suffix:semicolon
)brace
eof
