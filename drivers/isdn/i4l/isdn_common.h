multiline_comment|/* Linux ISDN subsystem, common used functions and debugging-switches&n; *&n; * Copyright 1994-1999  by Fritz Elfert (fritz@isdn4linux.de)&n; * Copyright 1995,96    by Thinking Objects Software GmbH Wuerzburg&n; * Copyright 1995,96    by Michael Hipp (Michael.Hipp@student.uni-tuebingen.de)&n; *&n; * This software may be used and distributed according to the terms&n; * of the GNU General Public License, incorporated herein by reference.&n; *&n; */
macro_line|#include &lt;linux/isdn.h&gt;
macro_line|#include &quot;isdn_v110.h&quot;
DECL|macro|ISDN_DEBUG_MODEM_OPEN
macro_line|#undef  ISDN_DEBUG_MODEM_OPEN
DECL|macro|ISDN_DEBUG_MODEM_IOCTL
macro_line|#undef  ISDN_DEBUG_MODEM_IOCTL
DECL|macro|ISDN_DEBUG_MODEM_WAITSENT
macro_line|#undef  ISDN_DEBUG_MODEM_WAITSENT
DECL|macro|ISDN_DEBUG_MODEM_HUP
macro_line|#undef  ISDN_DEBUG_MODEM_HUP
DECL|macro|ISDN_DEBUG_MODEM_ICALL
macro_line|#undef  ISDN_DEBUG_MODEM_ICALL
DECL|macro|ISDN_DEBUG_MODEM_DUMP
macro_line|#undef  ISDN_DEBUG_MODEM_DUMP
DECL|macro|ISDN_DEBUG_MODEM_VOICE
macro_line|#undef  ISDN_DEBUG_MODEM_VOICE
DECL|macro|ISDN_DEBUG_AT
macro_line|#undef  ISDN_DEBUG_AT
DECL|macro|ISDN_DEBUG_NET_DUMP
macro_line|#undef  ISDN_DEBUG_NET_DUMP
DECL|macro|ISDN_DEBUG_NET_DIAL
mdefine_line|#define  ISDN_DEBUG_NET_DIAL
DECL|macro|ISDN_DEBUG_NET_ICALL
mdefine_line|#define  ISDN_DEBUG_NET_ICALL
DECL|macro|ISDN_DEBUG_STATCALLB
mdefine_line|#define  ISDN_DEBUG_STATCALLB
DECL|macro|ISDN_DEBUG_COMMAND
mdefine_line|#define  ISDN_DEBUG_COMMAND
macro_line|#ifdef ISDN_DEBUG_NET_DIAL
DECL|macro|dbg_net_dial
mdefine_line|#define dbg_net_dial(arg...) printk(KERN_DEBUG arg)
macro_line|#else
DECL|macro|dbg_net_dial
mdefine_line|#define dbg_net_dial(arg...) do {} while (0)
macro_line|#endif
macro_line|#ifdef ISDN_DEBUG_NET_ICALL
DECL|macro|dbg_net_icall
mdefine_line|#define dbg_net_icall(arg...) printk(KERN_DEBUG arg)
macro_line|#else
DECL|macro|dbg_net_icall
mdefine_line|#define dbg_net_icall(arg...) do {} while (0)
macro_line|#endif
macro_line|#ifdef ISDN_DEBUG_STATCALLB
DECL|macro|dbg_statcallb
mdefine_line|#define dbg_statcallb(arg...) printk(KERN_DEBUG arg)
macro_line|#else
DECL|macro|dbg_statcallb
mdefine_line|#define dbg_statcallb(arg...) do {} while (0)
macro_line|#endif
DECL|macro|isdn_BUG
mdefine_line|#define isdn_BUG() &bslash;&n;do { printk(KERN_WARNING &quot;ISDN BUG at %s:%d&bslash;n&quot;, __FILE__, __LINE__); &bslash;&n;} while(0)
DECL|macro|HERE
mdefine_line|#define HERE printk(&quot;%s:%d (%s)&bslash;n&quot;, __FILE__, __LINE__, __FUNCTION__)
r_extern
r_struct
id|list_head
id|isdn_net_devs
suffix:semicolon
multiline_comment|/* Prototypes */
r_extern
r_void
id|isdn_MOD_INC_USE_COUNT
c_func
(paren
r_void
)paren
suffix:semicolon
r_extern
r_void
id|isdn_MOD_DEC_USE_COUNT
c_func
(paren
r_void
)paren
suffix:semicolon
r_extern
r_void
id|isdn_lock_drivers
c_func
(paren
r_void
)paren
suffix:semicolon
r_extern
r_void
id|isdn_unlock_drivers
c_func
(paren
r_void
)paren
suffix:semicolon
r_extern
r_void
id|isdn_free_channel
c_func
(paren
r_int
id|di
comma
r_int
id|ch
comma
r_int
id|usage
)paren
suffix:semicolon
r_extern
r_void
id|isdn_info_update
c_func
(paren
r_void
)paren
suffix:semicolon
r_extern
r_char
op_star
id|isdn_map_eaz2msn
c_func
(paren
r_char
op_star
id|msn
comma
r_int
id|di
)paren
suffix:semicolon
r_extern
r_int
id|isdn_getnum
c_func
(paren
r_char
op_star
op_star
)paren
suffix:semicolon
r_extern
r_int
id|isdn_msncmp
c_func
(paren
r_const
r_char
op_star
comma
r_const
r_char
op_star
)paren
suffix:semicolon
macro_line|#if defined(ISDN_DEBUG_NET_DUMP) || defined(ISDN_DEBUG_MODEM_DUMP)
r_extern
r_void
id|isdn_dumppkt
c_func
(paren
r_char
op_star
comma
id|u_char
op_star
comma
r_int
comma
r_int
)paren
suffix:semicolon
macro_line|#else
DECL|function|isdn_dumppkt
r_static
r_inline
r_void
id|isdn_dumppkt
c_func
(paren
r_char
op_star
id|s
comma
id|u_char
op_star
id|d
comma
r_int
id|l
comma
r_int
id|m
)paren
(brace
)brace
macro_line|#endif
DECL|struct|isdn_slot
r_struct
id|isdn_slot
(brace
DECL|member|di
r_int
id|di
suffix:semicolon
multiline_comment|/* driver index               */
DECL|member|drv
r_struct
id|isdn_driver
op_star
id|drv
suffix:semicolon
multiline_comment|/* driver                     */
DECL|member|ch
r_int
id|ch
suffix:semicolon
multiline_comment|/* channel index (per driver) */
DECL|member|usage
r_int
id|usage
suffix:semicolon
multiline_comment|/* how is it used             */
DECL|member|num
r_char
id|num
(braket
id|ISDN_MSNLEN
)braket
suffix:semicolon
multiline_comment|/* the current phone number   */
DECL|member|ibytes
r_int
r_int
id|ibytes
suffix:semicolon
multiline_comment|/* Statistics incoming bytes  */
DECL|member|obytes
r_int
r_int
id|obytes
suffix:semicolon
multiline_comment|/* Statistics outgoing bytes  */
DECL|member|iv110
r_struct
id|isdn_v110
id|iv110
suffix:semicolon
multiline_comment|/* For V.110                  */
DECL|member|m_idx
r_int
id|m_idx
suffix:semicolon
multiline_comment|/* Index for mdm....          */
DECL|member|priv
r_void
op_star
id|priv
suffix:semicolon
multiline_comment|/* pointer to isdn_net_dev    */
DECL|member|event_cb
r_int
(paren
op_star
id|event_cb
)paren
(paren
r_struct
id|isdn_slot
op_star
comma
r_int
id|pr
comma
r_void
op_star
id|arg
)paren
suffix:semicolon
DECL|member|fi
r_struct
id|fsm_inst
id|fi
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|dial_info
r_struct
id|dial_info
(brace
DECL|member|l2_proto
r_int
id|l2_proto
suffix:semicolon
DECL|member|l3_proto
r_int
id|l3_proto
suffix:semicolon
DECL|member|fax
r_struct
id|T30_s
op_star
id|fax
suffix:semicolon
DECL|member|si1
r_int
r_char
id|si1
suffix:semicolon
DECL|member|si2
r_int
r_char
id|si2
suffix:semicolon
DECL|member|msn
r_int
r_char
op_star
id|msn
suffix:semicolon
DECL|member|phone
r_int
r_char
op_star
id|phone
suffix:semicolon
)brace
suffix:semicolon
r_struct
id|isdn_slot
op_star
id|isdn_get_free_slot
c_func
(paren
r_int
comma
r_int
comma
r_int
comma
r_int
comma
r_int
comma
r_char
op_star
)paren
suffix:semicolon
r_void
id|isdn_slot_free
c_func
(paren
r_struct
id|isdn_slot
op_star
)paren
suffix:semicolon
r_int
id|isdn_slot_command
c_func
(paren
r_struct
id|isdn_slot
op_star
comma
r_int
id|cmd
comma
id|isdn_ctrl
op_star
)paren
suffix:semicolon
r_int
id|isdn_slot_dial
c_func
(paren
r_struct
id|isdn_slot
op_star
comma
r_struct
id|dial_info
op_star
id|dial
)paren
suffix:semicolon
r_char
op_star
id|isdn_slot_map_eaz2msn
c_func
(paren
r_struct
id|isdn_slot
op_star
comma
r_char
op_star
id|msn
)paren
suffix:semicolon
r_int
id|isdn_slot_write
c_func
(paren
r_struct
id|isdn_slot
op_star
comma
r_struct
id|sk_buff
op_star
)paren
suffix:semicolon
r_int
id|isdn_slot_hdrlen
c_func
(paren
r_struct
id|isdn_slot
op_star
)paren
suffix:semicolon
r_int
id|isdn_slot_maxbufsize
c_func
(paren
r_struct
id|isdn_slot
op_star
)paren
suffix:semicolon
r_char
op_star
id|isdn_slot_num
c_func
(paren
r_struct
id|isdn_slot
op_star
)paren
suffix:semicolon
r_void
id|isdn_slot_set_m_idx
c_func
(paren
r_struct
id|isdn_slot
op_star
comma
r_int
id|midx
)paren
suffix:semicolon
r_int
id|isdn_hard_header_len
c_func
(paren
r_void
)paren
suffix:semicolon
r_int
id|isdn_slot_m_idx
c_func
(paren
r_int
id|sl
)paren
suffix:semicolon
r_int
id|isdn_slot_usage
c_func
(paren
r_int
id|sl
)paren
suffix:semicolon
r_int
id|isdn_drv_lookup
c_func
(paren
r_char
op_star
id|drvid
)paren
suffix:semicolon
r_char
op_star
id|isdn_drv_drvid
c_func
(paren
r_int
id|di
)paren
suffix:semicolon
r_enum
(brace
DECL|enumerator|ST_SLOT_NULL
id|ST_SLOT_NULL
comma
DECL|enumerator|ST_SLOT_BOUND
id|ST_SLOT_BOUND
comma
DECL|enumerator|ST_SLOT_IN
id|ST_SLOT_IN
comma
DECL|enumerator|ST_SLOT_WAIT_DCONN
id|ST_SLOT_WAIT_DCONN
comma
DECL|enumerator|ST_SLOT_DCONN
id|ST_SLOT_DCONN
comma
DECL|enumerator|ST_SLOT_WAIT_BCONN
id|ST_SLOT_WAIT_BCONN
comma
DECL|enumerator|ST_SLOT_ACTIVE
id|ST_SLOT_ACTIVE
comma
DECL|enumerator|ST_SLOT_WAIT_BHUP
id|ST_SLOT_WAIT_BHUP
comma
DECL|enumerator|ST_SLOT_WAIT_DHUP
id|ST_SLOT_WAIT_DHUP
comma
)brace
suffix:semicolon
r_enum
(brace
DECL|enumerator|EV_DRV_REGISTER
id|EV_DRV_REGISTER
comma
DECL|enumerator|EV_STAT_RUN
id|EV_STAT_RUN
comma
DECL|enumerator|EV_STAT_STOP
id|EV_STAT_STOP
comma
DECL|enumerator|EV_STAT_UNLOAD
id|EV_STAT_UNLOAD
comma
DECL|enumerator|EV_STAT_STAVAIL
id|EV_STAT_STAVAIL
comma
DECL|enumerator|EV_STAT_ADDCH
id|EV_STAT_ADDCH
comma
DECL|enumerator|EV_STAT_ICALL
id|EV_STAT_ICALL
comma
DECL|enumerator|EV_STAT_DCONN
id|EV_STAT_DCONN
comma
DECL|enumerator|EV_STAT_BCONN
id|EV_STAT_BCONN
comma
DECL|enumerator|EV_STAT_BHUP
id|EV_STAT_BHUP
comma
DECL|enumerator|EV_STAT_DHUP
id|EV_STAT_DHUP
comma
DECL|enumerator|EV_STAT_BSENT
id|EV_STAT_BSENT
comma
DECL|enumerator|EV_STAT_CINF
id|EV_STAT_CINF
comma
DECL|enumerator|EV_STAT_CAUSE
id|EV_STAT_CAUSE
comma
DECL|enumerator|EV_STAT_DISPLAY
id|EV_STAT_DISPLAY
comma
DECL|enumerator|EV_STAT_FAXIND
id|EV_STAT_FAXIND
comma
DECL|enumerator|EV_STAT_AUDIO
id|EV_STAT_AUDIO
comma
DECL|enumerator|EV_CMD_CLREAZ
id|EV_CMD_CLREAZ
comma
DECL|enumerator|EV_CMD_SETEAZ
id|EV_CMD_SETEAZ
comma
DECL|enumerator|EV_CMD_SETL2
id|EV_CMD_SETL2
comma
DECL|enumerator|EV_CMD_SETL3
id|EV_CMD_SETL3
comma
DECL|enumerator|EV_CMD_DIAL
id|EV_CMD_DIAL
comma
DECL|enumerator|EV_CMD_ACCEPTD
id|EV_CMD_ACCEPTD
comma
DECL|enumerator|EV_CMD_ACCEPTB
id|EV_CMD_ACCEPTB
comma
DECL|enumerator|EV_CMD_HANGUP
id|EV_CMD_HANGUP
comma
DECL|enumerator|EV_DATA_REQ
id|EV_DATA_REQ
comma
DECL|enumerator|EV_DATA_IND
id|EV_DATA_IND
comma
DECL|enumerator|EV_SLOT_BIND
id|EV_SLOT_BIND
comma
DECL|enumerator|EV_SLOT_UNBIND
id|EV_SLOT_UNBIND
comma
)brace
suffix:semicolon
eof
