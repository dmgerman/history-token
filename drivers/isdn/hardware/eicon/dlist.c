multiline_comment|/* $Id: dlist.c,v 1.6 2003/08/25 16:03:35 schindler Exp $ */
macro_line|#include &quot;platform.h&quot;
macro_line|#include &quot;dlist.h&quot;
multiline_comment|/*&n;**  Initialize linked list&n;*/
DECL|function|diva_q_init
r_static
r_void
id|diva_q_init
c_func
(paren
id|diva_entity_queue_t
op_star
id|q
)paren
(brace
id|memset
c_func
(paren
id|q
comma
l_int|0x00
comma
r_sizeof
(paren
op_star
id|q
)paren
)paren
suffix:semicolon
)brace
multiline_comment|/*&n;**  Remove element from linked list&n;*/
DECL|function|diva_q_remove
r_static
r_void
id|diva_q_remove
c_func
(paren
id|diva_entity_queue_t
op_star
id|q
comma
id|diva_entity_link_t
op_star
id|what
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
id|what-&gt;prev
)paren
(brace
r_if
c_cond
(paren
(paren
id|q-&gt;head
op_assign
id|what-&gt;next
)paren
)paren
(brace
id|q-&gt;head-&gt;prev
op_assign
l_int|0
suffix:semicolon
)brace
r_else
(brace
id|q-&gt;tail
op_assign
l_int|0
suffix:semicolon
)brace
)brace
r_else
r_if
c_cond
(paren
op_logical_neg
id|what-&gt;next
)paren
(brace
id|q-&gt;tail
op_assign
id|what-&gt;prev
suffix:semicolon
id|q-&gt;tail-&gt;next
op_assign
l_int|0
suffix:semicolon
)brace
r_else
(brace
id|what-&gt;prev-&gt;next
op_assign
id|what-&gt;next
suffix:semicolon
id|what-&gt;next-&gt;prev
op_assign
id|what-&gt;prev
suffix:semicolon
)brace
id|what-&gt;prev
op_assign
id|what-&gt;next
op_assign
l_int|0
suffix:semicolon
)brace
multiline_comment|/*&n;**  Add element to the tail of linked list&n;*/
DECL|function|diva_q_add_tail
r_static
r_void
id|diva_q_add_tail
c_func
(paren
id|diva_entity_queue_t
op_star
id|q
comma
id|diva_entity_link_t
op_star
id|what
)paren
(brace
id|what-&gt;next
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|q-&gt;head
)paren
(brace
id|what-&gt;prev
op_assign
l_int|0
suffix:semicolon
id|q-&gt;head
op_assign
id|q-&gt;tail
op_assign
id|what
suffix:semicolon
)brace
r_else
(brace
id|what-&gt;prev
op_assign
id|q-&gt;tail
suffix:semicolon
id|q-&gt;tail-&gt;next
op_assign
id|what
suffix:semicolon
id|q-&gt;tail
op_assign
id|what
suffix:semicolon
)brace
)brace
DECL|function|diva_q_find
r_static
id|diva_entity_link_t
op_star
id|diva_q_find
c_func
(paren
r_const
id|diva_entity_queue_t
op_star
id|q
comma
r_const
r_void
op_star
id|what
comma
id|diva_q_cmp_fn_t
id|cmp_fn
)paren
(brace
id|diva_entity_link_t
op_star
id|diva_current
op_assign
id|q-&gt;head
suffix:semicolon
r_while
c_loop
(paren
id|diva_current
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
(paren
op_star
id|cmp_fn
)paren
(paren
id|what
comma
id|diva_current
)paren
)paren
(brace
r_break
suffix:semicolon
)brace
id|diva_current
op_assign
id|diva_current-&gt;next
suffix:semicolon
)brace
r_return
(paren
id|diva_current
)paren
suffix:semicolon
)brace
DECL|function|diva_q_get_head
r_static
id|diva_entity_link_t
op_star
id|diva_q_get_head
c_func
(paren
id|diva_entity_queue_t
op_star
id|q
)paren
(brace
r_return
(paren
id|q-&gt;head
)paren
suffix:semicolon
)brace
DECL|function|diva_q_get_next
r_static
id|diva_entity_link_t
op_star
id|diva_q_get_next
c_func
(paren
id|diva_entity_link_t
op_star
id|what
)paren
(brace
r_return
(paren
(paren
id|what
)paren
ques
c_cond
id|what-&gt;next
suffix:colon
l_int|0
)paren
suffix:semicolon
)brace
eof
