multiline_comment|/*&n; *&n;  Copyright (c) Eicon Networks, 2000.&n; *&n;  This source file is supplied for the use with&n;  Eicon Networks range of DIVA Server Adapters.&n; *&n;  Eicon File Revision :    1.9&n; *&n;  This program is free software; you can redistribute it and/or modify&n;  it under the terms of the GNU General Public License as published by&n;  the Free Software Foundation; either version 2, or (at your option)&n;  any later version.&n; *&n;  This program is distributed in the hope that it will be useful,&n;  but WITHOUT ANY WARRANTY OF ANY KIND WHATSOEVER INCLUDING ANY&n;  implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.&n;  See the GNU General Public License for more details.&n; *&n;  You should have received a copy of the GNU General Public License&n;  along with this program; if not, write to the Free Software&n;  Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.&n; *&n; */
macro_line|#include &quot;platform.h&quot;
macro_line|#include &quot;kst_ifc.h&quot;
macro_line|#include &quot;di_defs.h&quot;
macro_line|#include &quot;maintidi.h&quot;
macro_line|#include &quot;pc.h&quot;
macro_line|#include &quot;man_defs.h&quot;
r_extern
r_void
id|diva_mnt_internal_dprintf
(paren
id|dword
id|drv_id
comma
id|dword
id|type
comma
r_char
op_star
id|p
comma
dot
dot
dot
)paren
suffix:semicolon
DECL|macro|MODEM_PARSE_ENTRIES
mdefine_line|#define MODEM_PARSE_ENTRIES  16 /* amount of variables of interest */
DECL|macro|FAX_PARSE_ENTRIES
mdefine_line|#define FAX_PARSE_ENTRIES    12 /* amount of variables of interest */
DECL|macro|LINE_PARSE_ENTRIES
mdefine_line|#define LINE_PARSE_ENTRIES   15 /* amount of variables of interest */
DECL|macro|STAT_PARSE_ENTRIES
mdefine_line|#define STAT_PARSE_ENTRIES   70 /* amount of variables of interest */
multiline_comment|/*&n;&t;LOCAL FUNCTIONS&n;&t;*/
r_static
r_int
id|DivaSTraceLibraryStart
(paren
r_void
op_star
id|hLib
)paren
suffix:semicolon
r_static
r_int
id|DivaSTraceLibraryStop
(paren
r_void
op_star
id|hLib
)paren
suffix:semicolon
r_static
r_int
id|SuperTraceLibraryFinit
(paren
r_void
op_star
id|hLib
)paren
suffix:semicolon
r_static
r_void
op_star
id|SuperTraceGetHandle
(paren
r_void
op_star
id|hLib
)paren
suffix:semicolon
r_static
r_int
id|SuperTraceMessageInput
(paren
r_void
op_star
id|hLib
)paren
suffix:semicolon
r_static
r_int
id|SuperTraceSetAudioTap
(paren
r_void
op_star
id|hLib
comma
r_int
id|Channel
comma
r_int
id|on
)paren
suffix:semicolon
r_static
r_int
id|SuperTraceSetBChannel
(paren
r_void
op_star
id|hLib
comma
r_int
id|Channel
comma
r_int
id|on
)paren
suffix:semicolon
r_static
r_int
id|SuperTraceSetDChannel
(paren
r_void
op_star
id|hLib
comma
r_int
id|on
)paren
suffix:semicolon
r_static
r_int
id|SuperTraceSetInfo
(paren
r_void
op_star
id|hLib
comma
r_int
id|on
)paren
suffix:semicolon
r_static
r_int
id|SuperTraceClearCall
(paren
r_void
op_star
id|hLib
comma
r_int
id|Channel
)paren
suffix:semicolon
r_static
r_int
id|SuperTraceGetOutgoingCallStatistics
(paren
r_void
op_star
id|hLib
)paren
suffix:semicolon
r_static
r_int
id|SuperTraceGetIncomingCallStatistics
(paren
r_void
op_star
id|hLib
)paren
suffix:semicolon
r_static
r_int
id|SuperTraceGetModemStatistics
(paren
r_void
op_star
id|hLib
)paren
suffix:semicolon
r_static
r_int
id|SuperTraceGetFaxStatistics
(paren
r_void
op_star
id|hLib
)paren
suffix:semicolon
r_static
r_int
id|SuperTraceGetBLayer1Statistics
(paren
r_void
op_star
id|hLib
)paren
suffix:semicolon
r_static
r_int
id|SuperTraceGetBLayer2Statistics
(paren
r_void
op_star
id|hLib
)paren
suffix:semicolon
r_static
r_int
id|SuperTraceGetDLayer1Statistics
(paren
r_void
op_star
id|hLib
)paren
suffix:semicolon
r_static
r_int
id|SuperTraceGetDLayer2Statistics
(paren
r_void
op_star
id|hLib
)paren
suffix:semicolon
multiline_comment|/*&n;&t;LOCAL FUNCTIONS&n;&t;*/
r_static
r_int
id|ScheduleNextTraceRequest
(paren
id|diva_strace_context_t
op_star
id|pLib
)paren
suffix:semicolon
r_static
r_int
id|process_idi_event
(paren
id|diva_strace_context_t
op_star
id|pLib
comma
id|diva_man_var_header_t
op_star
id|pVar
)paren
suffix:semicolon
r_static
r_int
id|process_idi_info
(paren
id|diva_strace_context_t
op_star
id|pLib
comma
id|diva_man_var_header_t
op_star
id|pVar
)paren
suffix:semicolon
r_static
r_int
id|diva_modem_event
(paren
id|diva_strace_context_t
op_star
id|pLib
comma
r_int
id|Channel
)paren
suffix:semicolon
r_static
r_int
id|diva_fax_event
(paren
id|diva_strace_context_t
op_star
id|pLib
comma
r_int
id|Channel
)paren
suffix:semicolon
r_static
r_int
id|diva_line_event
(paren
id|diva_strace_context_t
op_star
id|pLib
comma
r_int
id|Channel
)paren
suffix:semicolon
r_static
r_int
id|diva_modem_info
(paren
id|diva_strace_context_t
op_star
id|pLib
comma
r_int
id|Channel
comma
id|diva_man_var_header_t
op_star
id|pVar
)paren
suffix:semicolon
r_static
r_int
id|diva_fax_info
(paren
id|diva_strace_context_t
op_star
id|pLib
comma
r_int
id|Channel
comma
id|diva_man_var_header_t
op_star
id|pVar
)paren
suffix:semicolon
r_static
r_int
id|diva_line_info
(paren
id|diva_strace_context_t
op_star
id|pLib
comma
r_int
id|Channel
comma
id|diva_man_var_header_t
op_star
id|pVar
)paren
suffix:semicolon
r_static
r_int
id|diva_ifc_statistics
(paren
id|diva_strace_context_t
op_star
id|pLib
comma
id|diva_man_var_header_t
op_star
id|pVar
)paren
suffix:semicolon
r_static
id|diva_man_var_header_t
op_star
id|get_next_var
(paren
id|diva_man_var_header_t
op_star
id|pVar
)paren
suffix:semicolon
r_static
id|diva_man_var_header_t
op_star
id|find_var
(paren
id|diva_man_var_header_t
op_star
id|pVar
comma
r_const
r_char
op_star
id|name
)paren
suffix:semicolon
r_static
r_int
id|diva_strace_read_int
(paren
id|diva_man_var_header_t
op_star
id|pVar
comma
r_int
op_star
id|var
)paren
suffix:semicolon
r_static
r_int
id|diva_strace_read_uint
(paren
id|diva_man_var_header_t
op_star
id|pVar
comma
id|dword
op_star
id|var
)paren
suffix:semicolon
r_static
r_int
id|diva_strace_read_asz
(paren
id|diva_man_var_header_t
op_star
id|pVar
comma
r_char
op_star
id|var
)paren
suffix:semicolon
r_static
r_int
id|diva_strace_read_asc
(paren
id|diva_man_var_header_t
op_star
id|pVar
comma
r_char
op_star
id|var
)paren
suffix:semicolon
r_static
r_int
id|diva_strace_read_ie
(paren
id|diva_man_var_header_t
op_star
id|pVar
comma
id|diva_trace_ie_t
op_star
id|var
)paren
suffix:semicolon
r_static
r_void
id|diva_create_parse_table
(paren
id|diva_strace_context_t
op_star
id|pLib
)paren
suffix:semicolon
r_static
r_void
id|diva_trace_error
(paren
id|diva_strace_context_t
op_star
id|pLib
comma
r_int
id|error
comma
r_const
r_char
op_star
id|file
comma
r_int
id|line
)paren
suffix:semicolon
r_static
r_void
id|diva_trace_notify_user
(paren
id|diva_strace_context_t
op_star
id|pLib
comma
r_int
id|Channel
comma
r_int
id|notify_subject
)paren
suffix:semicolon
r_static
r_int
id|diva_trace_read_variable
(paren
id|diva_man_var_header_t
op_star
id|pVar
comma
r_void
op_star
id|variable
)paren
suffix:semicolon
multiline_comment|/*&n;&t;Initialize the library and return context&n;&t;of the created trace object that will represent&n;&t;the IDI adapter.&n;&t;Return 0 on error.&n;&t;*/
DECL|function|DivaSTraceLibraryCreateInstance
id|diva_strace_library_interface_t
op_star
id|DivaSTraceLibraryCreateInstance
(paren
r_int
id|Adapter
comma
r_const
id|diva_trace_library_user_interface_t
op_star
id|user_proc
comma
id|byte
op_star
id|pmem
)paren
(brace
id|diva_strace_context_t
op_star
id|pLib
op_assign
(paren
id|diva_strace_context_t
op_star
)paren
id|pmem
suffix:semicolon
r_int
id|i
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|pLib
)paren
(brace
r_return
l_int|NULL
suffix:semicolon
)brace
id|pmem
op_add_assign
r_sizeof
(paren
op_star
id|pLib
)paren
suffix:semicolon
id|memset
c_func
(paren
id|pLib
comma
l_int|0x00
comma
r_sizeof
(paren
op_star
id|pLib
)paren
)paren
suffix:semicolon
id|pLib-&gt;Adapter
op_assign
id|Adapter
suffix:semicolon
multiline_comment|/*&n;&t;&t;Set up Library Interface&n;&t;&t;*/
id|pLib-&gt;instance.hLib
op_assign
id|pLib
suffix:semicolon
id|pLib-&gt;instance.DivaSTraceLibraryStart
op_assign
id|DivaSTraceLibraryStart
suffix:semicolon
id|pLib-&gt;instance.DivaSTraceLibraryStop
op_assign
id|DivaSTraceLibraryStop
suffix:semicolon
id|pLib-&gt;instance.DivaSTraceLibraryFinit
op_assign
id|SuperTraceLibraryFinit
suffix:semicolon
id|pLib-&gt;instance.DivaSTraceMessageInput
op_assign
id|SuperTraceMessageInput
suffix:semicolon
id|pLib-&gt;instance.DivaSTraceGetHandle
op_assign
id|SuperTraceGetHandle
suffix:semicolon
id|pLib-&gt;instance.DivaSTraceSetAudioTap
op_assign
id|SuperTraceSetAudioTap
suffix:semicolon
id|pLib-&gt;instance.DivaSTraceSetBChannel
op_assign
id|SuperTraceSetBChannel
suffix:semicolon
id|pLib-&gt;instance.DivaSTraceSetDChannel
op_assign
id|SuperTraceSetDChannel
suffix:semicolon
id|pLib-&gt;instance.DivaSTraceSetInfo
op_assign
id|SuperTraceSetInfo
suffix:semicolon
id|pLib-&gt;instance.DivaSTraceGetOutgoingCallStatistics
op_assign
"&bslash;"
id|SuperTraceGetOutgoingCallStatistics
suffix:semicolon
id|pLib-&gt;instance.DivaSTraceGetIncomingCallStatistics
op_assign
"&bslash;"
id|SuperTraceGetIncomingCallStatistics
suffix:semicolon
id|pLib-&gt;instance.DivaSTraceGetModemStatistics
op_assign
"&bslash;"
id|SuperTraceGetModemStatistics
suffix:semicolon
id|pLib-&gt;instance.DivaSTraceGetFaxStatistics
op_assign
"&bslash;"
id|SuperTraceGetFaxStatistics
suffix:semicolon
id|pLib-&gt;instance.DivaSTraceGetBLayer1Statistics
op_assign
"&bslash;"
id|SuperTraceGetBLayer1Statistics
suffix:semicolon
id|pLib-&gt;instance.DivaSTraceGetBLayer2Statistics
op_assign
"&bslash;"
id|SuperTraceGetBLayer2Statistics
suffix:semicolon
id|pLib-&gt;instance.DivaSTraceGetDLayer1Statistics
op_assign
"&bslash;"
id|SuperTraceGetDLayer1Statistics
suffix:semicolon
id|pLib-&gt;instance.DivaSTraceGetDLayer2Statistics
op_assign
"&bslash;"
id|SuperTraceGetDLayer2Statistics
suffix:semicolon
id|pLib-&gt;instance.DivaSTraceClearCall
op_assign
id|SuperTraceClearCall
suffix:semicolon
r_if
c_cond
(paren
id|user_proc
)paren
(brace
id|pLib-&gt;user_proc_table.user_context
op_assign
id|user_proc-&gt;user_context
suffix:semicolon
id|pLib-&gt;user_proc_table.notify_proc
op_assign
id|user_proc-&gt;notify_proc
suffix:semicolon
id|pLib-&gt;user_proc_table.trace_proc
op_assign
id|user_proc-&gt;trace_proc
suffix:semicolon
id|pLib-&gt;user_proc_table.error_notify_proc
op_assign
id|user_proc-&gt;error_notify_proc
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
(paren
id|pLib-&gt;hAdapter
op_assign
id|SuperTraceOpenAdapter
(paren
id|Adapter
)paren
)paren
)paren
(brace
id|diva_mnt_internal_dprintf
(paren
l_int|0
comma
id|DLI_ERR
comma
l_string|&quot;Can not open XDI adapter&quot;
)paren
suffix:semicolon
r_return
l_int|NULL
suffix:semicolon
)brace
id|pLib-&gt;Channels
op_assign
id|SuperTraceGetNumberOfChannels
(paren
id|pLib-&gt;hAdapter
)paren
suffix:semicolon
multiline_comment|/*&n;&t;&t;Calculate amount of parte table entites necessary to translate&n;&t;&t;information from all events of onterest&n;&t;&t;*/
id|pLib-&gt;parse_entries
op_assign
(paren
id|MODEM_PARSE_ENTRIES
op_plus
id|FAX_PARSE_ENTRIES
op_plus
"&bslash;"
id|STAT_PARSE_ENTRIES
op_plus
"&bslash;"
id|LINE_PARSE_ENTRIES
op_plus
l_int|1
)paren
op_star
id|pLib-&gt;Channels
suffix:semicolon
id|pLib-&gt;parse_table
op_assign
(paren
id|diva_strace_path2action_t
op_star
)paren
id|pmem
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|30
suffix:semicolon
id|i
op_increment
)paren
(brace
id|pLib-&gt;lines
(braket
id|i
)braket
dot
id|pInterface
op_assign
op_amp
id|pLib-&gt;Interface
suffix:semicolon
id|pLib-&gt;lines
(braket
id|i
)braket
dot
id|pInterfaceStat
op_assign
op_amp
id|pLib-&gt;InterfaceStat
suffix:semicolon
)brace
id|pLib-&gt;e.R
op_assign
op_amp
id|pLib-&gt;RData
suffix:semicolon
id|pLib-&gt;req_busy
op_assign
l_int|1
suffix:semicolon
id|pLib-&gt;rc_ok
op_assign
id|ASSIGN_OK
suffix:semicolon
id|diva_create_parse_table
(paren
id|pLib
)paren
suffix:semicolon
r_return
(paren
(paren
id|diva_strace_library_interface_t
op_star
)paren
id|pLib
)paren
suffix:semicolon
)brace
DECL|function|DivaSTraceLibraryStart
r_static
r_int
id|DivaSTraceLibraryStart
(paren
r_void
op_star
id|hLib
)paren
(brace
id|diva_strace_context_t
op_star
id|pLib
op_assign
(paren
id|diva_strace_context_t
op_star
)paren
id|hLib
suffix:semicolon
r_return
(paren
id|SuperTraceASSIGN
(paren
id|pLib-&gt;hAdapter
comma
id|pLib-&gt;buffer
)paren
)paren
suffix:semicolon
)brace
multiline_comment|/*&n;  Return (-1) on error&n;  Return (0) if was initiated or pending&n;  Return (1) if removal is complete&n;  */
DECL|function|DivaSTraceLibraryStop
r_static
r_int
id|DivaSTraceLibraryStop
(paren
r_void
op_star
id|hLib
)paren
(brace
id|diva_strace_context_t
op_star
id|pLib
op_assign
(paren
id|diva_strace_context_t
op_star
)paren
id|hLib
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|pLib-&gt;e.Id
)paren
(brace
multiline_comment|/* Was never started/assigned */
r_return
(paren
l_int|1
)paren
suffix:semicolon
)brace
r_switch
c_cond
(paren
id|pLib-&gt;removal_state
)paren
(brace
r_case
l_int|0
suffix:colon
id|pLib-&gt;removal_state
op_assign
l_int|1
suffix:semicolon
id|ScheduleNextTraceRequest
c_func
(paren
id|pLib
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|3
suffix:colon
r_return
(paren
l_int|1
)paren
suffix:semicolon
)brace
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
DECL|function|SuperTraceLibraryFinit
r_static
r_int
id|SuperTraceLibraryFinit
(paren
r_void
op_star
id|hLib
)paren
(brace
id|diva_strace_context_t
op_star
id|pLib
op_assign
(paren
id|diva_strace_context_t
op_star
)paren
id|hLib
suffix:semicolon
r_if
c_cond
(paren
id|pLib
)paren
(brace
r_if
c_cond
(paren
id|pLib-&gt;hAdapter
)paren
(brace
id|SuperTraceCloseAdapter
(paren
id|pLib-&gt;hAdapter
)paren
suffix:semicolon
)brace
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
DECL|function|SuperTraceGetHandle
r_static
r_void
op_star
id|SuperTraceGetHandle
(paren
r_void
op_star
id|hLib
)paren
(brace
id|diva_strace_context_t
op_star
id|pLib
op_assign
(paren
id|diva_strace_context_t
op_star
)paren
id|hLib
suffix:semicolon
r_return
(paren
op_amp
id|pLib-&gt;e
)paren
suffix:semicolon
)brace
multiline_comment|/*&n;&t;After library handle object is gone in signaled state&n;&t;this function should be called and will pick up incoming&n;&t;IDI messages (return codes and indications).&n;&t;*/
DECL|function|SuperTraceMessageInput
r_static
r_int
id|SuperTraceMessageInput
(paren
r_void
op_star
id|hLib
)paren
(brace
id|diva_strace_context_t
op_star
id|pLib
op_assign
(paren
id|diva_strace_context_t
op_star
)paren
id|hLib
suffix:semicolon
r_int
id|ret
op_assign
l_int|0
suffix:semicolon
id|byte
id|Rc
comma
id|Ind
suffix:semicolon
r_if
c_cond
(paren
id|pLib-&gt;e.complete
op_eq
l_int|255
)paren
(brace
multiline_comment|/*&n;      Process return code&n;      */
id|pLib-&gt;req_busy
op_assign
l_int|0
suffix:semicolon
id|Rc
op_assign
id|pLib-&gt;e.Rc
suffix:semicolon
id|pLib-&gt;e.Rc
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|pLib-&gt;removal_state
op_eq
l_int|2
)paren
(brace
id|pLib-&gt;removal_state
op_assign
l_int|3
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|Rc
op_ne
id|pLib-&gt;rc_ok
)paren
(brace
r_int
id|ignore
op_assign
l_int|0
suffix:semicolon
multiline_comment|/*&n;        Auto-detect amount of events/channels and features&n;        */
r_if
c_cond
(paren
id|pLib-&gt;general_b_ch_event
op_eq
l_int|1
)paren
(brace
id|pLib-&gt;general_b_ch_event
op_assign
l_int|2
suffix:semicolon
id|ignore
op_assign
l_int|1
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|pLib-&gt;general_fax_event
op_eq
l_int|1
)paren
(brace
id|pLib-&gt;general_fax_event
op_assign
l_int|2
suffix:semicolon
id|ignore
op_assign
l_int|1
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|pLib-&gt;general_mdm_event
op_eq
l_int|1
)paren
(brace
id|pLib-&gt;general_mdm_event
op_assign
l_int|2
suffix:semicolon
id|ignore
op_assign
l_int|1
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
(paren
id|pLib-&gt;ChannelsTraceActive
OL
id|pLib-&gt;Channels
)paren
op_logical_and
id|pLib-&gt;ChannelsTraceActive
)paren
(brace
id|pLib-&gt;ChannelsTraceActive
op_assign
id|pLib-&gt;Channels
suffix:semicolon
id|ignore
op_assign
l_int|1
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|pLib-&gt;ModemTraceActive
OL
id|pLib-&gt;Channels
)paren
(brace
id|pLib-&gt;ModemTraceActive
op_assign
id|pLib-&gt;Channels
suffix:semicolon
id|ignore
op_assign
l_int|1
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|pLib-&gt;FaxTraceActive
OL
id|pLib-&gt;Channels
)paren
(brace
id|pLib-&gt;FaxTraceActive
op_assign
id|pLib-&gt;Channels
suffix:semicolon
id|ignore
op_assign
l_int|1
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|pLib-&gt;audio_trace_init
op_eq
l_int|2
)paren
(brace
id|ignore
op_assign
l_int|1
suffix:semicolon
id|pLib-&gt;audio_trace_init
op_assign
l_int|1
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|pLib-&gt;eye_pattern_pending
)paren
(brace
id|pLib-&gt;eye_pattern_pending
op_assign
l_int|0
suffix:semicolon
id|ignore
op_assign
l_int|1
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|pLib-&gt;audio_tap_pending
)paren
(brace
id|pLib-&gt;audio_tap_pending
op_assign
l_int|0
suffix:semicolon
id|ignore
op_assign
l_int|1
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|ignore
)paren
(brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
multiline_comment|/* request failed */
)brace
)brace
r_else
(brace
r_if
c_cond
(paren
id|pLib-&gt;general_b_ch_event
op_eq
l_int|1
)paren
(brace
id|pLib-&gt;ChannelsTraceActive
op_assign
id|pLib-&gt;Channels
suffix:semicolon
id|pLib-&gt;general_b_ch_event
op_assign
l_int|2
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|pLib-&gt;general_fax_event
op_eq
l_int|1
)paren
(brace
id|pLib-&gt;general_fax_event
op_assign
l_int|2
suffix:semicolon
id|pLib-&gt;FaxTraceActive
op_assign
id|pLib-&gt;Channels
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|pLib-&gt;general_mdm_event
op_eq
l_int|1
)paren
(brace
id|pLib-&gt;general_mdm_event
op_assign
l_int|2
suffix:semicolon
id|pLib-&gt;ModemTraceActive
op_assign
id|pLib-&gt;Channels
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
id|pLib-&gt;audio_trace_init
op_eq
l_int|2
)paren
(brace
id|pLib-&gt;audio_trace_init
op_assign
l_int|1
suffix:semicolon
)brace
id|pLib-&gt;rc_ok
op_assign
l_int|0xff
suffix:semicolon
multiline_comment|/* default OK after assign was done */
r_if
c_cond
(paren
(paren
id|ret
op_assign
id|ScheduleNextTraceRequest
c_func
(paren
id|pLib
)paren
)paren
)paren
(brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
)brace
r_else
(brace
multiline_comment|/*&n;      Process indication&n;      Always &squot;RNR&squot; indication if return code is pending&n;      */
id|Ind
op_assign
id|pLib-&gt;e.Ind
suffix:semicolon
id|pLib-&gt;e.Ind
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|pLib-&gt;removal_state
)paren
(brace
id|pLib-&gt;e.RNum
op_assign
l_int|0
suffix:semicolon
id|pLib-&gt;e.RNR
op_assign
l_int|2
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|pLib-&gt;req_busy
)paren
(brace
id|pLib-&gt;e.RNum
op_assign
l_int|0
suffix:semicolon
id|pLib-&gt;e.RNR
op_assign
l_int|1
suffix:semicolon
)brace
r_else
(brace
r_if
c_cond
(paren
id|pLib-&gt;e.complete
op_ne
l_int|0x02
)paren
(brace
multiline_comment|/*&n;          Look-ahead call, set up buffers&n;          */
id|pLib-&gt;e.RNum
op_assign
l_int|1
suffix:semicolon
id|pLib-&gt;e.R-&gt;P
op_assign
(paren
id|byte
op_star
)paren
op_amp
id|pLib-&gt;buffer
(braket
l_int|0
)braket
suffix:semicolon
id|pLib-&gt;e.R-&gt;PLength
op_assign
(paren
id|word
)paren
(paren
r_sizeof
(paren
id|pLib-&gt;buffer
)paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
r_else
(brace
multiline_comment|/*&n;          Indication reception complete, process it now&n;          */
id|byte
op_star
id|p
op_assign
(paren
id|byte
op_star
)paren
op_amp
id|pLib-&gt;buffer
(braket
l_int|0
)braket
suffix:semicolon
id|pLib-&gt;buffer
(braket
id|pLib-&gt;e.R-&gt;PLength
)braket
op_assign
l_int|0
suffix:semicolon
multiline_comment|/* terminate I.E. with zero */
r_switch
c_cond
(paren
id|Ind
)paren
(brace
r_case
id|MAN_COMBI_IND
suffix:colon
(brace
r_int
id|total_length
op_assign
id|pLib-&gt;e.R-&gt;PLength
suffix:semicolon
id|word
id|this_ind_length
suffix:semicolon
r_while
c_loop
(paren
id|total_length
OG
l_int|3
op_logical_and
op_star
id|p
)paren
(brace
id|Ind
op_assign
op_star
id|p
op_increment
suffix:semicolon
id|this_ind_length
op_assign
(paren
id|word
)paren
id|p
(braket
l_int|0
)braket
op_or
(paren
(paren
id|word
)paren
id|p
(braket
l_int|1
)braket
op_lshift
l_int|8
)paren
suffix:semicolon
id|p
op_add_assign
l_int|2
suffix:semicolon
r_switch
c_cond
(paren
id|Ind
)paren
(brace
r_case
id|MAN_INFO_IND
suffix:colon
r_if
c_cond
(paren
id|process_idi_info
(paren
id|pLib
comma
(paren
id|diva_man_var_header_t
op_star
)paren
id|p
)paren
)paren
(brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
r_break
suffix:semicolon
r_case
id|MAN_EVENT_IND
suffix:colon
r_if
c_cond
(paren
id|process_idi_event
(paren
id|pLib
comma
(paren
id|diva_man_var_header_t
op_star
)paren
id|p
)paren
)paren
(brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
r_break
suffix:semicolon
r_case
id|MAN_TRACE_IND
suffix:colon
r_if
c_cond
(paren
id|pLib-&gt;trace_on
op_eq
l_int|1
)paren
(brace
multiline_comment|/*&n;                      Ignore first trace event that is result of&n;                      EVENT_ON operation&n;                    */
id|pLib-&gt;trace_on
op_increment
suffix:semicolon
)brace
r_else
(brace
multiline_comment|/*&n;                      Delivery XLOG buffer to application&n;                      */
r_if
c_cond
(paren
id|pLib-&gt;user_proc_table.trace_proc
)paren
(brace
(paren
op_star
(paren
id|pLib-&gt;user_proc_table.trace_proc
)paren
)paren
(paren
id|pLib-&gt;user_proc_table.user_context
comma
op_amp
id|pLib-&gt;instance
comma
id|pLib-&gt;Adapter
comma
id|p
comma
id|this_ind_length
)paren
suffix:semicolon
)brace
)brace
r_break
suffix:semicolon
r_default
suffix:colon
id|diva_mnt_internal_dprintf
(paren
l_int|0
comma
id|DLI_ERR
comma
l_string|&quot;Unknon IDI Ind (DMA mode): %02x&quot;
comma
id|Ind
)paren
suffix:semicolon
)brace
id|p
op_add_assign
(paren
id|this_ind_length
op_plus
l_int|1
)paren
suffix:semicolon
id|total_length
op_sub_assign
(paren
l_int|4
op_plus
id|this_ind_length
)paren
suffix:semicolon
)brace
)brace
r_break
suffix:semicolon
r_case
id|MAN_INFO_IND
suffix:colon
r_if
c_cond
(paren
id|process_idi_info
(paren
id|pLib
comma
(paren
id|diva_man_var_header_t
op_star
)paren
id|p
)paren
)paren
(brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
r_break
suffix:semicolon
r_case
id|MAN_EVENT_IND
suffix:colon
r_if
c_cond
(paren
id|process_idi_event
(paren
id|pLib
comma
(paren
id|diva_man_var_header_t
op_star
)paren
id|p
)paren
)paren
(brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
r_break
suffix:semicolon
r_case
id|MAN_TRACE_IND
suffix:colon
r_if
c_cond
(paren
id|pLib-&gt;trace_on
op_eq
l_int|1
)paren
(brace
multiline_comment|/*&n;                Ignore first trace event that is result of&n;                EVENT_ON operation&n;              */
id|pLib-&gt;trace_on
op_increment
suffix:semicolon
)brace
r_else
(brace
multiline_comment|/*&n;                Delivery XLOG buffer to application&n;                */
r_if
c_cond
(paren
id|pLib-&gt;user_proc_table.trace_proc
)paren
(brace
(paren
op_star
(paren
id|pLib-&gt;user_proc_table.trace_proc
)paren
)paren
(paren
id|pLib-&gt;user_proc_table.user_context
comma
op_amp
id|pLib-&gt;instance
comma
id|pLib-&gt;Adapter
comma
id|p
comma
id|pLib-&gt;e.R-&gt;PLength
)paren
suffix:semicolon
)brace
)brace
r_break
suffix:semicolon
r_default
suffix:colon
id|diva_mnt_internal_dprintf
(paren
l_int|0
comma
id|DLI_ERR
comma
l_string|&quot;Unknon IDI Ind: %02x&quot;
comma
id|Ind
)paren
suffix:semicolon
)brace
)brace
)brace
)brace
r_if
c_cond
(paren
(paren
id|ret
op_assign
id|ScheduleNextTraceRequest
c_func
(paren
id|pLib
)paren
)paren
)paren
(brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
r_return
(paren
id|ret
)paren
suffix:semicolon
)brace
multiline_comment|/*&n;&t;Internal state machine responsible for scheduling of requests&n;&t;*/
DECL|function|ScheduleNextTraceRequest
r_static
r_int
id|ScheduleNextTraceRequest
(paren
id|diva_strace_context_t
op_star
id|pLib
)paren
(brace
r_char
id|name
(braket
l_int|64
)braket
suffix:semicolon
r_int
id|ret
op_assign
l_int|0
suffix:semicolon
r_int
id|i
suffix:semicolon
r_if
c_cond
(paren
id|pLib-&gt;req_busy
)paren
(brace
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|pLib-&gt;removal_state
op_eq
l_int|1
)paren
(brace
r_if
c_cond
(paren
id|SuperTraceREMOVE
(paren
id|pLib-&gt;hAdapter
)paren
)paren
(brace
id|pLib-&gt;removal_state
op_assign
l_int|3
suffix:semicolon
)brace
r_else
(brace
id|pLib-&gt;req_busy
op_assign
l_int|1
suffix:semicolon
id|pLib-&gt;removal_state
op_assign
l_int|2
suffix:semicolon
)brace
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|pLib-&gt;removal_state
)paren
(brace
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|pLib-&gt;general_b_ch_event
)paren
(brace
r_if
c_cond
(paren
(paren
id|ret
op_assign
id|SuperTraceTraceOnRequest
c_func
(paren
id|pLib-&gt;hAdapter
comma
l_string|&quot;State&bslash;&bslash;B Event&quot;
comma
id|pLib-&gt;buffer
)paren
)paren
)paren
(brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|pLib-&gt;general_b_ch_event
op_assign
l_int|1
suffix:semicolon
id|pLib-&gt;req_busy
op_assign
l_int|1
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|pLib-&gt;general_fax_event
)paren
(brace
r_if
c_cond
(paren
(paren
id|ret
op_assign
id|SuperTraceTraceOnRequest
c_func
(paren
id|pLib-&gt;hAdapter
comma
l_string|&quot;State&bslash;&bslash;FAX Event&quot;
comma
id|pLib-&gt;buffer
)paren
)paren
)paren
(brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|pLib-&gt;general_fax_event
op_assign
l_int|1
suffix:semicolon
id|pLib-&gt;req_busy
op_assign
l_int|1
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|pLib-&gt;general_mdm_event
)paren
(brace
r_if
c_cond
(paren
(paren
id|ret
op_assign
id|SuperTraceTraceOnRequest
c_func
(paren
id|pLib-&gt;hAdapter
comma
l_string|&quot;State&bslash;&bslash;Modem Event&quot;
comma
id|pLib-&gt;buffer
)paren
)paren
)paren
(brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|pLib-&gt;general_mdm_event
op_assign
l_int|1
suffix:semicolon
id|pLib-&gt;req_busy
op_assign
l_int|1
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|pLib-&gt;ChannelsTraceActive
OL
id|pLib-&gt;Channels
)paren
(brace
id|pLib-&gt;ChannelsTraceActive
op_increment
suffix:semicolon
id|sprintf
(paren
id|name
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;Line&quot;
comma
id|pLib-&gt;ChannelsTraceActive
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|ret
op_assign
id|SuperTraceTraceOnRequest
c_func
(paren
id|pLib-&gt;hAdapter
comma
id|name
comma
id|pLib-&gt;buffer
)paren
)paren
)paren
(brace
id|pLib-&gt;ChannelsTraceActive
op_decrement
suffix:semicolon
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|pLib-&gt;req_busy
op_assign
l_int|1
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|pLib-&gt;ModemTraceActive
OL
id|pLib-&gt;Channels
)paren
(brace
id|pLib-&gt;ModemTraceActive
op_increment
suffix:semicolon
id|sprintf
(paren
id|name
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;Modem&bslash;&bslash;Event&quot;
comma
id|pLib-&gt;ModemTraceActive
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|ret
op_assign
id|SuperTraceTraceOnRequest
c_func
(paren
id|pLib-&gt;hAdapter
comma
id|name
comma
id|pLib-&gt;buffer
)paren
)paren
)paren
(brace
id|pLib-&gt;ModemTraceActive
op_decrement
suffix:semicolon
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|pLib-&gt;req_busy
op_assign
l_int|1
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|pLib-&gt;FaxTraceActive
OL
id|pLib-&gt;Channels
)paren
(brace
id|pLib-&gt;FaxTraceActive
op_increment
suffix:semicolon
id|sprintf
(paren
id|name
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;FAX&bslash;&bslash;Event&quot;
comma
id|pLib-&gt;FaxTraceActive
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|ret
op_assign
id|SuperTraceTraceOnRequest
c_func
(paren
id|pLib-&gt;hAdapter
comma
id|name
comma
id|pLib-&gt;buffer
)paren
)paren
)paren
(brace
id|pLib-&gt;FaxTraceActive
op_decrement
suffix:semicolon
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|pLib-&gt;req_busy
op_assign
l_int|1
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|pLib-&gt;trace_mask_init
)paren
(brace
id|word
id|tmp
op_assign
l_int|0x0000
suffix:semicolon
r_if
c_cond
(paren
id|SuperTraceWriteVar
(paren
id|pLib-&gt;hAdapter
comma
id|pLib-&gt;buffer
comma
l_string|&quot;Trace&bslash;&bslash;Event Enable&quot;
comma
op_amp
id|tmp
comma
l_int|0x87
comma
multiline_comment|/* MI_BITFLD */
r_sizeof
(paren
id|tmp
)paren
)paren
)paren
(brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|pLib-&gt;trace_mask_init
op_assign
l_int|1
suffix:semicolon
id|pLib-&gt;req_busy
op_assign
l_int|1
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|pLib-&gt;audio_trace_init
)paren
(brace
id|dword
id|tmp
op_assign
l_int|0x00000000
suffix:semicolon
r_if
c_cond
(paren
id|SuperTraceWriteVar
(paren
id|pLib-&gt;hAdapter
comma
id|pLib-&gt;buffer
comma
l_string|&quot;Trace&bslash;&bslash;AudioCh# Enable&quot;
comma
op_amp
id|tmp
comma
l_int|0x87
comma
multiline_comment|/* MI_BITFLD */
r_sizeof
(paren
id|tmp
)paren
)paren
)paren
(brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|pLib-&gt;audio_trace_init
op_assign
l_int|2
suffix:semicolon
id|pLib-&gt;req_busy
op_assign
l_int|1
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|pLib-&gt;bchannel_init
)paren
(brace
id|dword
id|tmp
op_assign
l_int|0x00000000
suffix:semicolon
r_if
c_cond
(paren
id|SuperTraceWriteVar
(paren
id|pLib-&gt;hAdapter
comma
id|pLib-&gt;buffer
comma
l_string|&quot;Trace&bslash;&bslash;B-Ch# Enable&quot;
comma
op_amp
id|tmp
comma
l_int|0x87
comma
multiline_comment|/* MI_BITFLD */
r_sizeof
(paren
id|tmp
)paren
)paren
)paren
(brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|pLib-&gt;bchannel_init
op_assign
l_int|1
suffix:semicolon
id|pLib-&gt;req_busy
op_assign
l_int|1
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|pLib-&gt;trace_length_init
)paren
(brace
id|word
id|tmp
op_assign
l_int|30
suffix:semicolon
r_if
c_cond
(paren
id|SuperTraceWriteVar
(paren
id|pLib-&gt;hAdapter
comma
id|pLib-&gt;buffer
comma
l_string|&quot;Trace&bslash;&bslash;Max Log Length&quot;
comma
op_amp
id|tmp
comma
l_int|0x82
comma
multiline_comment|/* MI_UINT */
r_sizeof
(paren
id|tmp
)paren
)paren
)paren
(brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|pLib-&gt;trace_length_init
op_assign
l_int|1
suffix:semicolon
id|pLib-&gt;req_busy
op_assign
l_int|1
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|pLib-&gt;trace_on
)paren
(brace
r_if
c_cond
(paren
id|SuperTraceTraceOnRequest
(paren
id|pLib-&gt;hAdapter
comma
l_string|&quot;Trace&bslash;&bslash;Log Buffer&quot;
comma
id|pLib-&gt;buffer
)paren
)paren
(brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|pLib-&gt;trace_on
op_assign
l_int|1
suffix:semicolon
id|pLib-&gt;req_busy
op_assign
l_int|1
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|pLib-&gt;trace_event_mask
op_ne
id|pLib-&gt;current_trace_event_mask
)paren
(brace
r_if
c_cond
(paren
id|SuperTraceWriteVar
(paren
id|pLib-&gt;hAdapter
comma
id|pLib-&gt;buffer
comma
l_string|&quot;Trace&bslash;&bslash;Event Enable&quot;
comma
op_amp
id|pLib-&gt;trace_event_mask
comma
l_int|0x87
comma
multiline_comment|/* MI_BITFLD */
r_sizeof
(paren
id|pLib-&gt;trace_event_mask
)paren
)paren
)paren
(brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|pLib-&gt;current_trace_event_mask
op_assign
id|pLib-&gt;trace_event_mask
suffix:semicolon
id|pLib-&gt;req_busy
op_assign
l_int|1
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
(paren
id|pLib-&gt;audio_tap_pending
op_ge
l_int|0
)paren
op_logical_and
(paren
id|pLib-&gt;audio_tap_mask
op_ne
id|pLib-&gt;current_audio_tap_mask
)paren
)paren
(brace
r_if
c_cond
(paren
id|SuperTraceWriteVar
(paren
id|pLib-&gt;hAdapter
comma
id|pLib-&gt;buffer
comma
l_string|&quot;Trace&bslash;&bslash;AudioCh# Enable&quot;
comma
op_amp
id|pLib-&gt;audio_tap_mask
comma
l_int|0x87
comma
multiline_comment|/* MI_BITFLD */
r_sizeof
(paren
id|pLib-&gt;audio_tap_mask
)paren
)paren
)paren
(brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|pLib-&gt;current_audio_tap_mask
op_assign
id|pLib-&gt;audio_tap_mask
suffix:semicolon
id|pLib-&gt;audio_tap_pending
op_assign
l_int|1
suffix:semicolon
id|pLib-&gt;req_busy
op_assign
l_int|1
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
(paren
id|pLib-&gt;eye_pattern_pending
op_ge
l_int|0
)paren
op_logical_and
(paren
id|pLib-&gt;audio_tap_mask
op_ne
id|pLib-&gt;current_eye_pattern_mask
)paren
)paren
(brace
r_if
c_cond
(paren
id|SuperTraceWriteVar
(paren
id|pLib-&gt;hAdapter
comma
id|pLib-&gt;buffer
comma
l_string|&quot;Trace&bslash;&bslash;EyeCh# Enable&quot;
comma
op_amp
id|pLib-&gt;audio_tap_mask
comma
l_int|0x87
comma
multiline_comment|/* MI_BITFLD */
r_sizeof
(paren
id|pLib-&gt;audio_tap_mask
)paren
)paren
)paren
(brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|pLib-&gt;current_eye_pattern_mask
op_assign
id|pLib-&gt;audio_tap_mask
suffix:semicolon
id|pLib-&gt;eye_pattern_pending
op_assign
l_int|1
suffix:semicolon
id|pLib-&gt;req_busy
op_assign
l_int|1
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|pLib-&gt;bchannel_trace_mask
op_ne
id|pLib-&gt;current_bchannel_trace_mask
)paren
(brace
r_if
c_cond
(paren
id|SuperTraceWriteVar
(paren
id|pLib-&gt;hAdapter
comma
id|pLib-&gt;buffer
comma
l_string|&quot;Trace&bslash;&bslash;B-Ch# Enable&quot;
comma
op_amp
id|pLib-&gt;bchannel_trace_mask
comma
l_int|0x87
comma
multiline_comment|/* MI_BITFLD */
r_sizeof
(paren
id|pLib-&gt;bchannel_trace_mask
)paren
)paren
)paren
(brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|pLib-&gt;current_bchannel_trace_mask
op_assign
id|pLib-&gt;bchannel_trace_mask
suffix:semicolon
id|pLib-&gt;req_busy
op_assign
l_int|1
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|pLib-&gt;trace_events_down
)paren
(brace
r_if
c_cond
(paren
id|SuperTraceTraceOnRequest
(paren
id|pLib-&gt;hAdapter
comma
l_string|&quot;Events Down&quot;
comma
id|pLib-&gt;buffer
)paren
)paren
(brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|pLib-&gt;trace_events_down
op_assign
l_int|1
suffix:semicolon
id|pLib-&gt;req_busy
op_assign
l_int|1
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|pLib-&gt;l1_trace
)paren
(brace
r_if
c_cond
(paren
id|SuperTraceTraceOnRequest
(paren
id|pLib-&gt;hAdapter
comma
l_string|&quot;State&bslash;&bslash;Layer1&quot;
comma
id|pLib-&gt;buffer
)paren
)paren
(brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|pLib-&gt;l1_trace
op_assign
l_int|1
suffix:semicolon
id|pLib-&gt;req_busy
op_assign
l_int|1
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|pLib-&gt;l2_trace
)paren
(brace
r_if
c_cond
(paren
id|SuperTraceTraceOnRequest
(paren
id|pLib-&gt;hAdapter
comma
l_string|&quot;State&bslash;&bslash;Layer2 No1&quot;
comma
id|pLib-&gt;buffer
)paren
)paren
(brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|pLib-&gt;l2_trace
op_assign
l_int|1
suffix:semicolon
id|pLib-&gt;req_busy
op_assign
l_int|1
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|30
suffix:semicolon
id|i
op_increment
)paren
(brace
r_if
c_cond
(paren
id|pLib-&gt;pending_line_status
op_amp
(paren
l_int|1L
op_lshift
id|i
)paren
)paren
(brace
id|sprintf
(paren
id|name
comma
l_string|&quot;State&bslash;&bslash;B%d&quot;
comma
id|i
op_plus
l_int|1
)paren
suffix:semicolon
r_if
c_cond
(paren
id|SuperTraceReadRequest
(paren
id|pLib-&gt;hAdapter
comma
id|name
comma
id|pLib-&gt;buffer
)paren
)paren
(brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|pLib-&gt;pending_line_status
op_and_assign
op_complement
(paren
l_int|1L
op_lshift
id|i
)paren
suffix:semicolon
id|pLib-&gt;req_busy
op_assign
l_int|1
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|pLib-&gt;pending_modem_status
op_amp
(paren
l_int|1L
op_lshift
id|i
)paren
)paren
(brace
id|sprintf
(paren
id|name
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;Modem&quot;
comma
id|i
op_plus
l_int|1
)paren
suffix:semicolon
r_if
c_cond
(paren
id|SuperTraceReadRequest
(paren
id|pLib-&gt;hAdapter
comma
id|name
comma
id|pLib-&gt;buffer
)paren
)paren
(brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|pLib-&gt;pending_modem_status
op_and_assign
op_complement
(paren
l_int|1L
op_lshift
id|i
)paren
suffix:semicolon
id|pLib-&gt;req_busy
op_assign
l_int|1
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|pLib-&gt;pending_fax_status
op_amp
(paren
l_int|1L
op_lshift
id|i
)paren
)paren
(brace
id|sprintf
(paren
id|name
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;FAX&quot;
comma
id|i
op_plus
l_int|1
)paren
suffix:semicolon
r_if
c_cond
(paren
id|SuperTraceReadRequest
(paren
id|pLib-&gt;hAdapter
comma
id|name
comma
id|pLib-&gt;buffer
)paren
)paren
(brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|pLib-&gt;pending_fax_status
op_and_assign
op_complement
(paren
l_int|1L
op_lshift
id|i
)paren
suffix:semicolon
id|pLib-&gt;req_busy
op_assign
l_int|1
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|pLib-&gt;clear_call_command
op_amp
(paren
l_int|1L
op_lshift
id|i
)paren
)paren
(brace
id|sprintf
(paren
id|name
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;Clear Call&quot;
comma
id|i
op_plus
l_int|1
)paren
suffix:semicolon
r_if
c_cond
(paren
id|SuperTraceExecuteRequest
(paren
id|pLib-&gt;hAdapter
comma
id|name
comma
id|pLib-&gt;buffer
)paren
)paren
(brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|pLib-&gt;clear_call_command
op_and_assign
op_complement
(paren
l_int|1L
op_lshift
id|i
)paren
suffix:semicolon
id|pLib-&gt;req_busy
op_assign
l_int|1
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
id|pLib-&gt;outgoing_ifc_stats
)paren
(brace
r_if
c_cond
(paren
id|SuperTraceReadRequest
(paren
id|pLib-&gt;hAdapter
comma
l_string|&quot;Statistics&bslash;&bslash;Outgoing Calls&quot;
comma
id|pLib-&gt;buffer
)paren
)paren
(brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|pLib-&gt;outgoing_ifc_stats
op_assign
l_int|0
suffix:semicolon
id|pLib-&gt;req_busy
op_assign
l_int|1
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|pLib-&gt;incoming_ifc_stats
)paren
(brace
r_if
c_cond
(paren
id|SuperTraceReadRequest
(paren
id|pLib-&gt;hAdapter
comma
l_string|&quot;Statistics&bslash;&bslash;Incoming Calls&quot;
comma
id|pLib-&gt;buffer
)paren
)paren
(brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|pLib-&gt;incoming_ifc_stats
op_assign
l_int|0
suffix:semicolon
id|pLib-&gt;req_busy
op_assign
l_int|1
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|pLib-&gt;modem_ifc_stats
)paren
(brace
r_if
c_cond
(paren
id|SuperTraceReadRequest
(paren
id|pLib-&gt;hAdapter
comma
l_string|&quot;Statistics&bslash;&bslash;Modem&quot;
comma
id|pLib-&gt;buffer
)paren
)paren
(brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|pLib-&gt;modem_ifc_stats
op_assign
l_int|0
suffix:semicolon
id|pLib-&gt;req_busy
op_assign
l_int|1
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|pLib-&gt;fax_ifc_stats
)paren
(brace
r_if
c_cond
(paren
id|SuperTraceReadRequest
(paren
id|pLib-&gt;hAdapter
comma
l_string|&quot;Statistics&bslash;&bslash;FAX&quot;
comma
id|pLib-&gt;buffer
)paren
)paren
(brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|pLib-&gt;fax_ifc_stats
op_assign
l_int|0
suffix:semicolon
id|pLib-&gt;req_busy
op_assign
l_int|1
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|pLib-&gt;b1_ifc_stats
)paren
(brace
r_if
c_cond
(paren
id|SuperTraceReadRequest
(paren
id|pLib-&gt;hAdapter
comma
l_string|&quot;Statistics&bslash;&bslash;B-Layer1&quot;
comma
id|pLib-&gt;buffer
)paren
)paren
(brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|pLib-&gt;b1_ifc_stats
op_assign
l_int|0
suffix:semicolon
id|pLib-&gt;req_busy
op_assign
l_int|1
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|pLib-&gt;b2_ifc_stats
)paren
(brace
r_if
c_cond
(paren
id|SuperTraceReadRequest
(paren
id|pLib-&gt;hAdapter
comma
l_string|&quot;Statistics&bslash;&bslash;B-Layer2&quot;
comma
id|pLib-&gt;buffer
)paren
)paren
(brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|pLib-&gt;b2_ifc_stats
op_assign
l_int|0
suffix:semicolon
id|pLib-&gt;req_busy
op_assign
l_int|1
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|pLib-&gt;d1_ifc_stats
)paren
(brace
r_if
c_cond
(paren
id|SuperTraceReadRequest
(paren
id|pLib-&gt;hAdapter
comma
l_string|&quot;Statistics&bslash;&bslash;D-Layer1&quot;
comma
id|pLib-&gt;buffer
)paren
)paren
(brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|pLib-&gt;d1_ifc_stats
op_assign
l_int|0
suffix:semicolon
id|pLib-&gt;req_busy
op_assign
l_int|1
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|pLib-&gt;d2_ifc_stats
)paren
(brace
r_if
c_cond
(paren
id|SuperTraceReadRequest
(paren
id|pLib-&gt;hAdapter
comma
l_string|&quot;Statistics&bslash;&bslash;D-Layer2&quot;
comma
id|pLib-&gt;buffer
)paren
)paren
(brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|pLib-&gt;d2_ifc_stats
op_assign
l_int|0
suffix:semicolon
id|pLib-&gt;req_busy
op_assign
l_int|1
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|pLib-&gt;IncomingCallsCallsActive
)paren
(brace
id|pLib-&gt;IncomingCallsCallsActive
op_assign
l_int|1
suffix:semicolon
id|sprintf
(paren
id|name
comma
l_string|&quot;%s&quot;
comma
l_string|&quot;Statistics&bslash;&bslash;Incoming Calls&bslash;&bslash;Calls&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|ret
op_assign
id|SuperTraceTraceOnRequest
c_func
(paren
id|pLib-&gt;hAdapter
comma
id|name
comma
id|pLib-&gt;buffer
)paren
)paren
)paren
(brace
id|pLib-&gt;IncomingCallsCallsActive
op_assign
l_int|0
suffix:semicolon
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|pLib-&gt;req_busy
op_assign
l_int|1
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|pLib-&gt;IncomingCallsConnectedActive
)paren
(brace
id|pLib-&gt;IncomingCallsConnectedActive
op_assign
l_int|1
suffix:semicolon
id|sprintf
(paren
id|name
comma
l_string|&quot;%s&quot;
comma
l_string|&quot;Statistics&bslash;&bslash;Incoming Calls&bslash;&bslash;Connected&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|ret
op_assign
id|SuperTraceTraceOnRequest
c_func
(paren
id|pLib-&gt;hAdapter
comma
id|name
comma
id|pLib-&gt;buffer
)paren
)paren
)paren
(brace
id|pLib-&gt;IncomingCallsConnectedActive
op_assign
l_int|0
suffix:semicolon
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|pLib-&gt;req_busy
op_assign
l_int|1
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|pLib-&gt;OutgoingCallsCallsActive
)paren
(brace
id|pLib-&gt;OutgoingCallsCallsActive
op_assign
l_int|1
suffix:semicolon
id|sprintf
(paren
id|name
comma
l_string|&quot;%s&quot;
comma
l_string|&quot;Statistics&bslash;&bslash;Outgoing Calls&bslash;&bslash;Calls&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|ret
op_assign
id|SuperTraceTraceOnRequest
c_func
(paren
id|pLib-&gt;hAdapter
comma
id|name
comma
id|pLib-&gt;buffer
)paren
)paren
)paren
(brace
id|pLib-&gt;OutgoingCallsCallsActive
op_assign
l_int|0
suffix:semicolon
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|pLib-&gt;req_busy
op_assign
l_int|1
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|pLib-&gt;OutgoingCallsConnectedActive
)paren
(brace
id|pLib-&gt;OutgoingCallsConnectedActive
op_assign
l_int|1
suffix:semicolon
id|sprintf
(paren
id|name
comma
l_string|&quot;%s&quot;
comma
l_string|&quot;Statistics&bslash;&bslash;Outgoing Calls&bslash;&bslash;Connected&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|ret
op_assign
id|SuperTraceTraceOnRequest
c_func
(paren
id|pLib-&gt;hAdapter
comma
id|name
comma
id|pLib-&gt;buffer
)paren
)paren
)paren
(brace
id|pLib-&gt;OutgoingCallsConnectedActive
op_assign
l_int|0
suffix:semicolon
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|pLib-&gt;req_busy
op_assign
l_int|1
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
DECL|function|process_idi_event
r_static
r_int
id|process_idi_event
(paren
id|diva_strace_context_t
op_star
id|pLib
comma
id|diva_man_var_header_t
op_star
id|pVar
)paren
(brace
r_const
r_char
op_star
id|path
op_assign
(paren
r_char
op_star
)paren
op_amp
id|pVar-&gt;path_length
op_plus
l_int|1
suffix:semicolon
r_char
id|name
(braket
l_int|64
)braket
suffix:semicolon
r_int
id|i
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|strncmp
c_func
(paren
l_string|&quot;State&bslash;&bslash;B Event&quot;
comma
id|path
comma
id|pVar-&gt;path_length
)paren
)paren
(brace
id|dword
id|ch_id
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|diva_trace_read_variable
(paren
id|pVar
comma
op_amp
id|ch_id
)paren
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
id|pLib-&gt;line_init_event
op_logical_and
op_logical_neg
id|pLib-&gt;pending_line_status
)paren
(brace
r_for
c_loop
(paren
id|i
op_assign
l_int|1
suffix:semicolon
id|i
op_le
id|pLib-&gt;Channels
suffix:semicolon
id|i
op_increment
)paren
(brace
id|diva_line_event
c_func
(paren
id|pLib
comma
id|i
)paren
suffix:semicolon
)brace
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|ch_id
op_logical_and
id|ch_id
op_le
id|pLib-&gt;Channels
)paren
(brace
r_return
(paren
id|diva_line_event
c_func
(paren
id|pLib
comma
(paren
r_int
)paren
id|ch_id
)paren
)paren
suffix:semicolon
)brace
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|strncmp
c_func
(paren
l_string|&quot;State&bslash;&bslash;FAX Event&quot;
comma
id|path
comma
id|pVar-&gt;path_length
)paren
)paren
(brace
id|dword
id|ch_id
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|diva_trace_read_variable
(paren
id|pVar
comma
op_amp
id|ch_id
)paren
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
id|pLib-&gt;pending_fax_status
op_logical_and
op_logical_neg
id|pLib-&gt;fax_init_event
)paren
(brace
r_for
c_loop
(paren
id|i
op_assign
l_int|1
suffix:semicolon
id|i
op_le
id|pLib-&gt;Channels
suffix:semicolon
id|i
op_increment
)paren
(brace
id|diva_fax_event
c_func
(paren
id|pLib
comma
id|i
)paren
suffix:semicolon
)brace
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|ch_id
op_logical_and
id|ch_id
op_le
id|pLib-&gt;Channels
)paren
(brace
r_return
(paren
id|diva_fax_event
c_func
(paren
id|pLib
comma
(paren
r_int
)paren
id|ch_id
)paren
)paren
suffix:semicolon
)brace
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|strncmp
c_func
(paren
l_string|&quot;State&bslash;&bslash;Modem Event&quot;
comma
id|path
comma
id|pVar-&gt;path_length
)paren
)paren
(brace
id|dword
id|ch_id
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|diva_trace_read_variable
(paren
id|pVar
comma
op_amp
id|ch_id
)paren
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
id|pLib-&gt;pending_modem_status
op_logical_and
op_logical_neg
id|pLib-&gt;modem_init_event
)paren
(brace
r_for
c_loop
(paren
id|i
op_assign
l_int|1
suffix:semicolon
id|i
op_le
id|pLib-&gt;Channels
suffix:semicolon
id|i
op_increment
)paren
(brace
id|diva_modem_event
c_func
(paren
id|pLib
comma
id|i
)paren
suffix:semicolon
)brace
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|ch_id
op_logical_and
id|ch_id
op_le
id|pLib-&gt;Channels
)paren
(brace
r_return
(paren
id|diva_modem_event
c_func
(paren
id|pLib
comma
(paren
r_int
)paren
id|ch_id
)paren
)paren
suffix:semicolon
)brace
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
multiline_comment|/*&n;&t;&t;First look for Line Event&n;&t;&t;*/
r_for
c_loop
(paren
id|i
op_assign
l_int|1
suffix:semicolon
id|i
op_le
id|pLib-&gt;Channels
suffix:semicolon
id|i
op_increment
)paren
(brace
id|sprintf
(paren
id|name
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;Line&quot;
comma
id|i
)paren
suffix:semicolon
r_if
c_cond
(paren
id|find_var
(paren
id|pVar
comma
id|name
)paren
)paren
(brace
r_return
(paren
id|diva_line_event
c_func
(paren
id|pLib
comma
id|i
)paren
)paren
suffix:semicolon
)brace
)brace
multiline_comment|/*&n;&t;&t;Look for Moden Progress Event&n;&t;&t;*/
r_for
c_loop
(paren
id|i
op_assign
l_int|1
suffix:semicolon
id|i
op_le
id|pLib-&gt;Channels
suffix:semicolon
id|i
op_increment
)paren
(brace
id|sprintf
(paren
id|name
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;Modem&bslash;&bslash;Event&quot;
comma
id|i
)paren
suffix:semicolon
r_if
c_cond
(paren
id|find_var
(paren
id|pVar
comma
id|name
)paren
)paren
(brace
r_return
(paren
id|diva_modem_event
(paren
id|pLib
comma
id|i
)paren
)paren
suffix:semicolon
)brace
)brace
multiline_comment|/*&n;&t;&t;Look for Fax Event&n;&t;&t;*/
r_for
c_loop
(paren
id|i
op_assign
l_int|1
suffix:semicolon
id|i
op_le
id|pLib-&gt;Channels
suffix:semicolon
id|i
op_increment
)paren
(brace
id|sprintf
(paren
id|name
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;FAX&bslash;&bslash;Event&quot;
comma
id|i
)paren
suffix:semicolon
r_if
c_cond
(paren
id|find_var
(paren
id|pVar
comma
id|name
)paren
)paren
(brace
r_return
(paren
id|diva_fax_event
(paren
id|pLib
comma
id|i
)paren
)paren
suffix:semicolon
)brace
)brace
multiline_comment|/*&n;&t;&t;Notification about loss of events&n;&t;&t;*/
r_if
c_cond
(paren
op_logical_neg
id|strncmp
c_func
(paren
l_string|&quot;Events Down&quot;
comma
id|path
comma
id|pVar-&gt;path_length
)paren
)paren
(brace
r_if
c_cond
(paren
id|pLib-&gt;trace_events_down
op_eq
l_int|1
)paren
(brace
id|pLib-&gt;trace_events_down
op_assign
l_int|2
suffix:semicolon
)brace
r_else
(brace
id|diva_trace_error
(paren
id|pLib
comma
l_int|1
comma
l_string|&quot;Events Down&quot;
comma
l_int|0
)paren
suffix:semicolon
)brace
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|strncmp
c_func
(paren
l_string|&quot;State&bslash;&bslash;Layer1&quot;
comma
id|path
comma
id|pVar-&gt;path_length
)paren
)paren
(brace
id|diva_strace_read_asz
(paren
id|pVar
comma
op_amp
id|pLib-&gt;lines
(braket
l_int|0
)braket
dot
id|pInterface-&gt;Layer1
(braket
l_int|0
)braket
)paren
suffix:semicolon
r_if
c_cond
(paren
id|pLib-&gt;l1_trace
op_eq
l_int|1
)paren
(brace
id|pLib-&gt;l1_trace
op_assign
l_int|2
suffix:semicolon
)brace
r_else
(brace
id|diva_trace_notify_user
(paren
id|pLib
comma
l_int|0
comma
id|DIVA_SUPER_TRACE_INTERFACE_CHANGE
)paren
suffix:semicolon
)brace
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|strncmp
c_func
(paren
l_string|&quot;State&bslash;&bslash;Layer2 No1&quot;
comma
id|path
comma
id|pVar-&gt;path_length
)paren
)paren
(brace
r_char
op_star
id|tmp
op_assign
op_amp
id|pLib-&gt;lines
(braket
l_int|0
)braket
dot
id|pInterface-&gt;Layer2
(braket
l_int|0
)braket
suffix:semicolon
id|dword
id|l2_state
suffix:semicolon
id|diva_strace_read_uint
(paren
id|pVar
comma
op_amp
id|l2_state
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|l2_state
)paren
(brace
r_case
l_int|0
suffix:colon
id|strcpy
(paren
id|tmp
comma
l_string|&quot;Idle&quot;
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|1
suffix:colon
id|strcpy
(paren
id|tmp
comma
l_string|&quot;Layer2 UP&quot;
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|2
suffix:colon
id|strcpy
(paren
id|tmp
comma
l_string|&quot;Layer2 Disconnecting&quot;
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|3
suffix:colon
id|strcpy
(paren
id|tmp
comma
l_string|&quot;Layer2 Connecting&quot;
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|4
suffix:colon
id|strcpy
(paren
id|tmp
comma
l_string|&quot;SPID Initializing&quot;
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|5
suffix:colon
id|strcpy
(paren
id|tmp
comma
l_string|&quot;SPID Initialised&quot;
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|6
suffix:colon
id|strcpy
(paren
id|tmp
comma
l_string|&quot;Layer2 Connecting&quot;
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|7
suffix:colon
id|strcpy
(paren
id|tmp
comma
l_string|&quot;Auto SPID Stopped&quot;
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|8
suffix:colon
id|strcpy
(paren
id|tmp
comma
l_string|&quot;Auto SPID Idle&quot;
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|9
suffix:colon
id|strcpy
(paren
id|tmp
comma
l_string|&quot;Auto SPID Requested&quot;
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|10
suffix:colon
id|strcpy
(paren
id|tmp
comma
l_string|&quot;Auto SPID Delivery&quot;
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|11
suffix:colon
id|strcpy
(paren
id|tmp
comma
l_string|&quot;Auto SPID Complete&quot;
)paren
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
id|sprintf
(paren
id|tmp
comma
l_string|&quot;U:%d&quot;
comma
(paren
r_int
)paren
id|l2_state
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|pLib-&gt;l2_trace
op_eq
l_int|1
)paren
(brace
id|pLib-&gt;l2_trace
op_assign
l_int|2
suffix:semicolon
)brace
r_else
(brace
id|diva_trace_notify_user
(paren
id|pLib
comma
l_int|0
comma
id|DIVA_SUPER_TRACE_INTERFACE_CHANGE
)paren
suffix:semicolon
)brace
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|strncmp
c_func
(paren
l_string|&quot;Statistics&bslash;&bslash;Incoming Calls&bslash;&bslash;Calls&quot;
comma
id|path
comma
id|pVar-&gt;path_length
)paren
op_logical_or
op_logical_neg
id|strncmp
c_func
(paren
l_string|&quot;Statistics&bslash;&bslash;Incoming Calls&bslash;&bslash;Connected&quot;
comma
id|path
comma
id|pVar-&gt;path_length
)paren
)paren
(brace
r_return
(paren
id|SuperTraceGetIncomingCallStatistics
(paren
id|pLib
)paren
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|strncmp
c_func
(paren
l_string|&quot;Statistics&bslash;&bslash;Outgoing Calls&bslash;&bslash;Calls&quot;
comma
id|path
comma
id|pVar-&gt;path_length
)paren
op_logical_or
op_logical_neg
id|strncmp
c_func
(paren
l_string|&quot;Statistics&bslash;&bslash;Outgoing Calls&bslash;&bslash;Connected&quot;
comma
id|path
comma
id|pVar-&gt;path_length
)paren
)paren
(brace
r_return
(paren
id|SuperTraceGetOutgoingCallStatistics
(paren
id|pLib
)paren
)paren
suffix:semicolon
)brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
DECL|function|diva_line_event
r_static
r_int
id|diva_line_event
(paren
id|diva_strace_context_t
op_star
id|pLib
comma
r_int
id|Channel
)paren
(brace
id|pLib-&gt;pending_line_status
op_or_assign
(paren
l_int|1L
op_lshift
(paren
id|Channel
op_minus
l_int|1
)paren
)paren
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
DECL|function|diva_modem_event
r_static
r_int
id|diva_modem_event
(paren
id|diva_strace_context_t
op_star
id|pLib
comma
r_int
id|Channel
)paren
(brace
id|pLib-&gt;pending_modem_status
op_or_assign
(paren
l_int|1L
op_lshift
(paren
id|Channel
op_minus
l_int|1
)paren
)paren
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
DECL|function|diva_fax_event
r_static
r_int
id|diva_fax_event
(paren
id|diva_strace_context_t
op_star
id|pLib
comma
r_int
id|Channel
)paren
(brace
id|pLib-&gt;pending_fax_status
op_or_assign
(paren
l_int|1L
op_lshift
(paren
id|Channel
op_minus
l_int|1
)paren
)paren
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
multiline_comment|/*&n;&t;Process INFO indications that arrive from the card&n;&t;Uses path of first I.E. to detect the source of the&n;&t;infication&n;&t;*/
DECL|function|process_idi_info
r_static
r_int
id|process_idi_info
(paren
id|diva_strace_context_t
op_star
id|pLib
comma
id|diva_man_var_header_t
op_star
id|pVar
)paren
(brace
r_const
r_char
op_star
id|path
op_assign
(paren
r_char
op_star
)paren
op_amp
id|pVar-&gt;path_length
op_plus
l_int|1
suffix:semicolon
r_char
id|name
(braket
l_int|64
)braket
suffix:semicolon
r_int
id|i
comma
id|len
suffix:semicolon
multiline_comment|/*&n;&t;&t;First look for Modem Status Info&n;&t;&t;*/
r_for
c_loop
(paren
id|i
op_assign
id|pLib-&gt;Channels
suffix:semicolon
id|i
OG
l_int|0
suffix:semicolon
id|i
op_decrement
)paren
(brace
id|len
op_assign
id|sprintf
(paren
id|name
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;Modem&quot;
comma
id|i
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|strncmp
c_func
(paren
id|name
comma
id|path
comma
id|len
)paren
)paren
(brace
r_return
(paren
id|diva_modem_info
(paren
id|pLib
comma
id|i
comma
id|pVar
)paren
)paren
suffix:semicolon
)brace
)brace
multiline_comment|/*&n;&t;&t;Look for Fax Status Info&n;&t;&t;*/
r_for
c_loop
(paren
id|i
op_assign
id|pLib-&gt;Channels
suffix:semicolon
id|i
OG
l_int|0
suffix:semicolon
id|i
op_decrement
)paren
(brace
id|len
op_assign
id|sprintf
(paren
id|name
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;FAX&quot;
comma
id|i
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|strncmp
c_func
(paren
id|name
comma
id|path
comma
id|len
)paren
)paren
(brace
r_return
(paren
id|diva_fax_info
(paren
id|pLib
comma
id|i
comma
id|pVar
)paren
)paren
suffix:semicolon
)brace
)brace
multiline_comment|/*&n;&t;&t;Look for Line Status Info&n;&t;&t;*/
r_for
c_loop
(paren
id|i
op_assign
id|pLib-&gt;Channels
suffix:semicolon
id|i
OG
l_int|0
suffix:semicolon
id|i
op_decrement
)paren
(brace
id|len
op_assign
id|sprintf
(paren
id|name
comma
l_string|&quot;State&bslash;&bslash;B%d&quot;
comma
id|i
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|strncmp
c_func
(paren
id|name
comma
id|path
comma
id|len
)paren
)paren
(brace
r_return
(paren
id|diva_line_info
(paren
id|pLib
comma
id|i
comma
id|pVar
)paren
)paren
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
op_logical_neg
id|diva_ifc_statistics
(paren
id|pLib
comma
id|pVar
)paren
)paren
(brace
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
multiline_comment|/*&n;&t;MODEM INSTANCE STATE UPDATE&n;&n;&t;Update Modem Status Information and issue notification to user,&n;&t;that will inform about change in the state of modem instance, that is&n;&t;associuated with this channel&n;&t;*/
DECL|function|diva_modem_info
r_static
r_int
id|diva_modem_info
(paren
id|diva_strace_context_t
op_star
id|pLib
comma
r_int
id|Channel
comma
id|diva_man_var_header_t
op_star
id|pVar
)paren
(brace
id|diva_man_var_header_t
op_star
id|cur
suffix:semicolon
r_int
id|i
comma
id|nr
op_assign
id|Channel
op_minus
l_int|1
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
id|pLib-&gt;modem_parse_entry_first
(braket
id|nr
)braket
suffix:semicolon
id|i
op_le
id|pLib-&gt;modem_parse_entry_last
(braket
id|nr
)braket
suffix:semicolon
id|i
op_increment
)paren
(brace
r_if
c_cond
(paren
(paren
id|cur
op_assign
id|find_var
(paren
id|pVar
comma
id|pLib-&gt;parse_table
(braket
id|i
)braket
dot
id|path
)paren
)paren
)paren
(brace
r_if
c_cond
(paren
id|diva_trace_read_variable
(paren
id|cur
comma
id|pLib-&gt;parse_table
(braket
id|i
)braket
dot
id|variable
)paren
)paren
(brace
id|diva_trace_error
(paren
id|pLib
comma
op_minus
l_int|3
comma
id|__FILE__
comma
id|__LINE__
)paren
suffix:semicolon
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
)brace
r_else
(brace
id|diva_trace_error
(paren
id|pLib
comma
op_minus
l_int|2
comma
id|__FILE__
comma
id|__LINE__
)paren
suffix:semicolon
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
)brace
multiline_comment|/*&n;&t;&t;We do not use first event to notify user - this is the event that is&n;&t;&t;generated as result of EVENT ON operation and is used only to initialize&n;&t;&t;internal variables of application&n;&t;&t;*/
r_if
c_cond
(paren
id|pLib-&gt;modem_init_event
op_amp
(paren
l_int|1L
op_lshift
id|nr
)paren
)paren
(brace
id|diva_trace_notify_user
(paren
id|pLib
comma
id|nr
comma
id|DIVA_SUPER_TRACE_NOTIFY_MODEM_CHANGE
)paren
suffix:semicolon
)brace
r_else
(brace
id|pLib-&gt;modem_init_event
op_or_assign
(paren
l_int|1L
op_lshift
id|nr
)paren
suffix:semicolon
)brace
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
DECL|function|diva_fax_info
r_static
r_int
id|diva_fax_info
(paren
id|diva_strace_context_t
op_star
id|pLib
comma
r_int
id|Channel
comma
id|diva_man_var_header_t
op_star
id|pVar
)paren
(brace
id|diva_man_var_header_t
op_star
id|cur
suffix:semicolon
r_int
id|i
comma
id|nr
op_assign
id|Channel
op_minus
l_int|1
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
id|pLib-&gt;fax_parse_entry_first
(braket
id|nr
)braket
suffix:semicolon
id|i
op_le
id|pLib-&gt;fax_parse_entry_last
(braket
id|nr
)braket
suffix:semicolon
id|i
op_increment
)paren
(brace
r_if
c_cond
(paren
(paren
id|cur
op_assign
id|find_var
(paren
id|pVar
comma
id|pLib-&gt;parse_table
(braket
id|i
)braket
dot
id|path
)paren
)paren
)paren
(brace
r_if
c_cond
(paren
id|diva_trace_read_variable
(paren
id|cur
comma
id|pLib-&gt;parse_table
(braket
id|i
)braket
dot
id|variable
)paren
)paren
(brace
id|diva_trace_error
(paren
id|pLib
comma
op_minus
l_int|3
comma
id|__FILE__
comma
id|__LINE__
)paren
suffix:semicolon
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
)brace
r_else
(brace
id|diva_trace_error
(paren
id|pLib
comma
op_minus
l_int|2
comma
id|__FILE__
comma
id|__LINE__
)paren
suffix:semicolon
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
)brace
multiline_comment|/*&n;&t;&t;We do not use first event to notify user - this is the event that is&n;&t;&t;generated as result of EVENT ON operation and is used only to initialize&n;&t;&t;internal variables of application&n;&t;&t;*/
r_if
c_cond
(paren
id|pLib-&gt;fax_init_event
op_amp
(paren
l_int|1L
op_lshift
id|nr
)paren
)paren
(brace
id|diva_trace_notify_user
(paren
id|pLib
comma
id|nr
comma
id|DIVA_SUPER_TRACE_NOTIFY_FAX_CHANGE
)paren
suffix:semicolon
)brace
r_else
(brace
id|pLib-&gt;fax_init_event
op_or_assign
(paren
l_int|1L
op_lshift
id|nr
)paren
suffix:semicolon
)brace
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
multiline_comment|/*&n;&t;LINE STATE UPDATE&n;&t;Update Line Status Information and issue notification to user,&n;&t;that will inform about change in the line state.&n;&t;*/
DECL|function|diva_line_info
r_static
r_int
id|diva_line_info
(paren
id|diva_strace_context_t
op_star
id|pLib
comma
r_int
id|Channel
comma
id|diva_man_var_header_t
op_star
id|pVar
)paren
(brace
id|diva_man_var_header_t
op_star
id|cur
suffix:semicolon
r_int
id|i
comma
id|nr
op_assign
id|Channel
op_minus
l_int|1
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
id|pLib-&gt;line_parse_entry_first
(braket
id|nr
)braket
suffix:semicolon
id|i
op_le
id|pLib-&gt;line_parse_entry_last
(braket
id|nr
)braket
suffix:semicolon
id|i
op_increment
)paren
(brace
r_if
c_cond
(paren
(paren
id|cur
op_assign
id|find_var
(paren
id|pVar
comma
id|pLib-&gt;parse_table
(braket
id|i
)braket
dot
id|path
)paren
)paren
)paren
(brace
r_if
c_cond
(paren
id|diva_trace_read_variable
(paren
id|cur
comma
id|pLib-&gt;parse_table
(braket
id|i
)braket
dot
id|variable
)paren
)paren
(brace
id|diva_trace_error
(paren
id|pLib
comma
op_minus
l_int|3
comma
id|__FILE__
comma
id|__LINE__
)paren
suffix:semicolon
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
)brace
r_else
(brace
id|diva_trace_error
(paren
id|pLib
comma
op_minus
l_int|2
comma
id|__FILE__
comma
id|__LINE__
)paren
suffix:semicolon
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
)brace
multiline_comment|/*&n;&t;&t;We do not use first event to notify user - this is the event that is&n;&t;&t;generated as result of EVENT ON operation and is used only to initialize&n;&t;&t;internal variables of application&n;&n;&t;&t;Exception is is if the line is &quot;online&quot;. In this case we have to notify&n;&t;&t;user about this confition.&n;&t;&t;*/
r_if
c_cond
(paren
id|pLib-&gt;line_init_event
op_amp
(paren
l_int|1L
op_lshift
id|nr
)paren
)paren
(brace
id|diva_trace_notify_user
(paren
id|pLib
comma
id|nr
comma
id|DIVA_SUPER_TRACE_NOTIFY_LINE_CHANGE
)paren
suffix:semicolon
)brace
r_else
(brace
id|pLib-&gt;line_init_event
op_or_assign
(paren
l_int|1L
op_lshift
id|nr
)paren
suffix:semicolon
r_if
c_cond
(paren
id|strcmp
(paren
op_amp
id|pLib-&gt;lines
(braket
id|nr
)braket
dot
id|Line
(braket
l_int|0
)braket
comma
l_string|&quot;Idle&quot;
)paren
)paren
(brace
id|diva_trace_notify_user
(paren
id|pLib
comma
id|nr
comma
id|DIVA_SUPER_TRACE_NOTIFY_LINE_CHANGE
)paren
suffix:semicolon
)brace
)brace
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
multiline_comment|/*&n;&t;Move position to next vatianle in the chain&n;&t;*/
DECL|function|get_next_var
r_static
id|diva_man_var_header_t
op_star
id|get_next_var
(paren
id|diva_man_var_header_t
op_star
id|pVar
)paren
(brace
id|byte
op_star
id|msg
op_assign
(paren
id|byte
op_star
)paren
id|pVar
suffix:semicolon
id|byte
op_star
id|start
suffix:semicolon
r_int
id|msg_length
suffix:semicolon
r_if
c_cond
(paren
op_star
id|msg
op_ne
id|ESC
)paren
r_return
l_int|NULL
suffix:semicolon
id|start
op_assign
id|msg
op_plus
l_int|2
suffix:semicolon
id|msg_length
op_assign
op_star
(paren
id|msg
op_plus
l_int|1
)paren
suffix:semicolon
id|msg
op_assign
(paren
id|start
op_plus
id|msg_length
)paren
suffix:semicolon
r_if
c_cond
(paren
op_star
id|msg
op_ne
id|ESC
)paren
r_return
l_int|NULL
suffix:semicolon
r_return
(paren
(paren
id|diva_man_var_header_t
op_star
)paren
id|msg
)paren
suffix:semicolon
)brace
multiline_comment|/*&n;&t;Move position to variable with given name&n;&t;*/
DECL|function|find_var
r_static
id|diva_man_var_header_t
op_star
id|find_var
(paren
id|diva_man_var_header_t
op_star
id|pVar
comma
r_const
r_char
op_star
id|name
)paren
(brace
r_const
r_char
op_star
id|path
suffix:semicolon
r_do
(brace
id|path
op_assign
(paren
r_char
op_star
)paren
op_amp
id|pVar-&gt;path_length
op_plus
l_int|1
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|strncmp
(paren
id|name
comma
id|path
comma
id|pVar-&gt;path_length
)paren
)paren
(brace
r_break
suffix:semicolon
)brace
)brace
r_while
c_loop
(paren
(paren
id|pVar
op_assign
id|get_next_var
(paren
id|pVar
)paren
)paren
)paren
suffix:semicolon
r_return
(paren
id|pVar
)paren
suffix:semicolon
)brace
DECL|function|diva_create_line_parse_table
r_static
r_void
id|diva_create_line_parse_table
(paren
id|diva_strace_context_t
op_star
id|pLib
comma
r_int
id|Channel
)paren
(brace
id|diva_trace_line_state_t
op_star
id|pLine
op_assign
op_amp
id|pLib-&gt;lines
(braket
id|Channel
)braket
suffix:semicolon
r_int
id|nr
op_assign
id|Channel
op_plus
l_int|1
suffix:semicolon
r_if
c_cond
(paren
(paren
id|pLib-&gt;cur_parse_entry
op_plus
id|LINE_PARSE_ENTRIES
)paren
op_ge
id|pLib-&gt;parse_entries
)paren
(brace
id|diva_trace_error
(paren
id|pLib
comma
op_minus
l_int|1
comma
id|__FILE__
comma
id|__LINE__
)paren
suffix:semicolon
r_return
suffix:semicolon
)brace
id|pLine-&gt;ChannelNumber
op_assign
id|nr
suffix:semicolon
id|pLib-&gt;line_parse_entry_first
(braket
id|Channel
)braket
op_assign
id|pLib-&gt;cur_parse_entry
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;Framing&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
op_amp
id|pLine-&gt;Framing
(braket
l_int|0
)braket
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;Line&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
op_amp
id|pLine-&gt;Line
(braket
l_int|0
)braket
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;Layer2&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
op_amp
id|pLine-&gt;Layer2
(braket
l_int|0
)braket
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;Layer3&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
op_amp
id|pLine-&gt;Layer3
(braket
l_int|0
)braket
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;Remote Address&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLine-&gt;RemoteAddress
(braket
l_int|0
)braket
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;Remote SubAddr&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLine-&gt;RemoteSubAddress
(braket
l_int|0
)braket
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;Local Address&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLine-&gt;LocalAddress
(braket
l_int|0
)braket
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;Local SubAddr&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLine-&gt;LocalSubAddress
(braket
l_int|0
)braket
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;BC&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
op_amp
id|pLine-&gt;call_BC
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;HLC&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
op_amp
id|pLine-&gt;call_HLC
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;LLC&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
op_amp
id|pLine-&gt;call_LLC
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;Charges&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
op_amp
id|pLine-&gt;Charges
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;Call Reference&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
op_amp
id|pLine-&gt;CallReference
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;Last Disc Cause&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLine-&gt;LastDisconnecCause
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;User ID&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
op_amp
id|pLine-&gt;UserID
(braket
l_int|0
)braket
suffix:semicolon
id|pLib-&gt;line_parse_entry_last
(braket
id|Channel
)braket
op_assign
id|pLib-&gt;cur_parse_entry
op_minus
l_int|1
suffix:semicolon
)brace
DECL|function|diva_create_fax_parse_table
r_static
r_void
id|diva_create_fax_parse_table
(paren
id|diva_strace_context_t
op_star
id|pLib
comma
r_int
id|Channel
)paren
(brace
id|diva_trace_fax_state_t
op_star
id|pFax
op_assign
op_amp
id|pLib-&gt;lines
(braket
id|Channel
)braket
dot
id|fax
suffix:semicolon
r_int
id|nr
op_assign
id|Channel
op_plus
l_int|1
suffix:semicolon
r_if
c_cond
(paren
(paren
id|pLib-&gt;cur_parse_entry
op_plus
id|FAX_PARSE_ENTRIES
)paren
op_ge
id|pLib-&gt;parse_entries
)paren
(brace
id|diva_trace_error
(paren
id|pLib
comma
op_minus
l_int|1
comma
id|__FILE__
comma
id|__LINE__
)paren
suffix:semicolon
r_return
suffix:semicolon
)brace
id|pFax-&gt;ChannelNumber
op_assign
id|nr
suffix:semicolon
id|pLib-&gt;fax_parse_entry_first
(braket
id|Channel
)braket
op_assign
id|pLib-&gt;cur_parse_entry
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;FAX&bslash;&bslash;Event&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
op_amp
id|pFax-&gt;Event
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;FAX&bslash;&bslash;Page Counter&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
op_amp
id|pFax-&gt;Page_Counter
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;FAX&bslash;&bslash;Features&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
op_amp
id|pFax-&gt;Features
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;FAX&bslash;&bslash;Station ID&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
op_amp
id|pFax-&gt;Station_ID
(braket
l_int|0
)braket
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;FAX&bslash;&bslash;Subaddress&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
op_amp
id|pFax-&gt;Subaddress
(braket
l_int|0
)braket
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;FAX&bslash;&bslash;Password&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
op_amp
id|pFax-&gt;Password
(braket
l_int|0
)braket
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;FAX&bslash;&bslash;Speed&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
op_amp
id|pFax-&gt;Speed
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;FAX&bslash;&bslash;Resolution&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
op_amp
id|pFax-&gt;Resolution
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;FAX&bslash;&bslash;Paper Width&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
op_amp
id|pFax-&gt;Paper_Width
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;FAX&bslash;&bslash;Paper Length&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
op_amp
id|pFax-&gt;Paper_Length
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;FAX&bslash;&bslash;Scanline Time&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
op_amp
id|pFax-&gt;Scanline_Time
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;FAX&bslash;&bslash;Disc Reason&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
op_amp
id|pFax-&gt;Disc_Reason
suffix:semicolon
id|pLib-&gt;fax_parse_entry_last
(braket
id|Channel
)braket
op_assign
id|pLib-&gt;cur_parse_entry
op_minus
l_int|1
suffix:semicolon
)brace
DECL|function|diva_create_modem_parse_table
r_static
r_void
id|diva_create_modem_parse_table
(paren
id|diva_strace_context_t
op_star
id|pLib
comma
r_int
id|Channel
)paren
(brace
id|diva_trace_modem_state_t
op_star
id|pModem
op_assign
op_amp
id|pLib-&gt;lines
(braket
id|Channel
)braket
dot
id|modem
suffix:semicolon
r_int
id|nr
op_assign
id|Channel
op_plus
l_int|1
suffix:semicolon
r_if
c_cond
(paren
(paren
id|pLib-&gt;cur_parse_entry
op_plus
id|MODEM_PARSE_ENTRIES
)paren
op_ge
id|pLib-&gt;parse_entries
)paren
(brace
id|diva_trace_error
(paren
id|pLib
comma
op_minus
l_int|1
comma
id|__FILE__
comma
id|__LINE__
)paren
suffix:semicolon
r_return
suffix:semicolon
)brace
id|pModem-&gt;ChannelNumber
op_assign
id|nr
suffix:semicolon
id|pLib-&gt;modem_parse_entry_first
(braket
id|Channel
)braket
op_assign
id|pLib-&gt;cur_parse_entry
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;Modem&bslash;&bslash;Event&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
op_amp
id|pModem-&gt;Event
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;Modem&bslash;&bslash;Norm&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
op_amp
id|pModem-&gt;Norm
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;Modem&bslash;&bslash;Options&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
op_amp
id|pModem-&gt;Options
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;Modem&bslash;&bslash;TX Speed&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
op_amp
id|pModem-&gt;TxSpeed
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;Modem&bslash;&bslash;RX Speed&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
op_amp
id|pModem-&gt;RxSpeed
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;Modem&bslash;&bslash;Roundtrip ms&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
op_amp
id|pModem-&gt;RoundtripMsec
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;Modem&bslash;&bslash;Symbol Rate&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
op_amp
id|pModem-&gt;SymbolRate
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;Modem&bslash;&bslash;RX Level dBm&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
op_amp
id|pModem-&gt;RxLeveldBm
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;Modem&bslash;&bslash;Echo Level dBm&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
op_amp
id|pModem-&gt;EchoLeveldBm
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;Modem&bslash;&bslash;SNR dB&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
op_amp
id|pModem-&gt;SNRdb
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;Modem&bslash;&bslash;MAE&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
op_amp
id|pModem-&gt;MAE
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;Modem&bslash;&bslash;Local Retrains&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
op_amp
id|pModem-&gt;LocalRetrains
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;Modem&bslash;&bslash;Remote Retrains&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
op_amp
id|pModem-&gt;RemoteRetrains
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;Modem&bslash;&bslash;Local Resyncs&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
op_amp
id|pModem-&gt;LocalResyncs
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;Modem&bslash;&bslash;Remote Resyncs&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
op_amp
id|pModem-&gt;RemoteResyncs
suffix:semicolon
id|sprintf
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;State&bslash;&bslash;B%d&bslash;&bslash;Modem&bslash;&bslash;Disc Reason&quot;
comma
id|nr
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
op_amp
id|pModem-&gt;DiscReason
suffix:semicolon
id|pLib-&gt;modem_parse_entry_last
(braket
id|Channel
)braket
op_assign
id|pLib-&gt;cur_parse_entry
op_minus
l_int|1
suffix:semicolon
)brace
DECL|function|diva_create_parse_table
r_static
r_void
id|diva_create_parse_table
(paren
id|diva_strace_context_t
op_star
id|pLib
)paren
(brace
r_int
id|i
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|pLib-&gt;Channels
suffix:semicolon
id|i
op_increment
)paren
(brace
id|diva_create_line_parse_table
(paren
id|pLib
comma
id|i
)paren
suffix:semicolon
id|diva_create_modem_parse_table
(paren
id|pLib
comma
id|i
)paren
suffix:semicolon
id|diva_create_fax_parse_table
(paren
id|pLib
comma
id|i
)paren
suffix:semicolon
)brace
id|pLib-&gt;statistic_parse_first
op_assign
id|pLib-&gt;cur_parse_entry
suffix:semicolon
multiline_comment|/*&n;&t;&t;Outgoing Calls&n;&t;&t;*/
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;Outgoing Calls&bslash;&bslash;Calls&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.outg.Calls
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;Outgoing Calls&bslash;&bslash;Connected&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.outg.Connected
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;Outgoing Calls&bslash;&bslash;User Busy&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.outg.User_Busy
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;Outgoing Calls&bslash;&bslash;No Answer&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.outg.No_Answer
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;Outgoing Calls&bslash;&bslash;Wrong Number&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.outg.Wrong_Number
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;Outgoing Calls&bslash;&bslash;Call Rejected&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.outg.Call_Rejected
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;Outgoing Calls&bslash;&bslash;Other Failures&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.outg.Other_Failures
suffix:semicolon
multiline_comment|/*&n;&t;&t;Incoming Calls&n;&t;&t;*/
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;Incoming Calls&bslash;&bslash;Calls&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.inc.Calls
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;Incoming Calls&bslash;&bslash;Connected&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.inc.Connected
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;Incoming Calls&bslash;&bslash;User Busy&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.inc.User_Busy
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;Incoming Calls&bslash;&bslash;Call Rejected&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.inc.Call_Rejected
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;Incoming Calls&bslash;&bslash;Wrong Number&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.inc.Wrong_Number
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;Incoming Calls&bslash;&bslash;Incompatible Dst&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.inc.Incompatible_Dst
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;Incoming Calls&bslash;&bslash;Out of Order&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.inc.Out_of_Order
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;Incoming Calls&bslash;&bslash;Ignored&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.inc.Ignored
suffix:semicolon
multiline_comment|/*&n;&t;&t;Modem Statistics&n;&t;&t;*/
id|pLib-&gt;mdm_statistic_parse_first
op_assign
id|pLib-&gt;cur_parse_entry
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;Modem&bslash;&bslash;Disc Normal&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.mdm.Disc_Normal
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;Modem&bslash;&bslash;Disc Unspecified&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.mdm.Disc_Unspecified
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;Modem&bslash;&bslash;Disc Busy Tone&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.mdm.Disc_Busy_Tone
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;Modem&bslash;&bslash;Disc Congestion&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.mdm.Disc_Congestion
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;Modem&bslash;&bslash;Disc Carr. Wait&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.mdm.Disc_Carr_Wait
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;Modem&bslash;&bslash;Disc Trn Timeout&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.mdm.Disc_Trn_Timeout
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;Modem&bslash;&bslash;Disc Incompat.&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.mdm.Disc_Incompat
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;Modem&bslash;&bslash;Disc Frame Rej.&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.mdm.Disc_Frame_Rej
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;Modem&bslash;&bslash;Disc V42bis&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.mdm.Disc_V42bis
suffix:semicolon
id|pLib-&gt;mdm_statistic_parse_last
op_assign
id|pLib-&gt;cur_parse_entry
op_minus
l_int|1
suffix:semicolon
multiline_comment|/*&n;&t;&t;Fax Statistics&n;&t;&t;*/
id|pLib-&gt;fax_statistic_parse_first
op_assign
id|pLib-&gt;cur_parse_entry
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;FAX&bslash;&bslash;Disc Normal&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.fax.Disc_Normal
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;FAX&bslash;&bslash;Disc Not Ident.&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.fax.Disc_Not_Ident
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;FAX&bslash;&bslash;Disc No Response&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.fax.Disc_No_Response
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;FAX&bslash;&bslash;Disc Retries&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.fax.Disc_Retries
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;FAX&bslash;&bslash;Disc Unexp. Msg.&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.fax.Disc_Unexp_Msg
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;FAX&bslash;&bslash;Disc No Polling.&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.fax.Disc_No_Polling
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;FAX&bslash;&bslash;Disc Training&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.fax.Disc_Training
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;FAX&bslash;&bslash;Disc Unexpected&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.fax.Disc_Unexpected
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;FAX&bslash;&bslash;Disc Application&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.fax.Disc_Application
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;FAX&bslash;&bslash;Disc Incompat.&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.fax.Disc_Incompat
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;FAX&bslash;&bslash;Disc No Command&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.fax.Disc_No_Command
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;FAX&bslash;&bslash;Disc Long Msg&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.fax.Disc_Long_Msg
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;FAX&bslash;&bslash;Disc Supervisor&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.fax.Disc_Supervisor
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;FAX&bslash;&bslash;Disc SUB SEP PWD&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.fax.Disc_SUB_SEP_PWD
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;FAX&bslash;&bslash;Disc Invalid Msg&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.fax.Disc_Invalid_Msg
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;FAX&bslash;&bslash;Disc Page Coding&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.fax.Disc_Page_Coding
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;FAX&bslash;&bslash;Disc App Timeout&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.fax.Disc_App_Timeout
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;FAX&bslash;&bslash;Disc Unspecified&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.fax.Disc_Unspecified
suffix:semicolon
id|pLib-&gt;fax_statistic_parse_last
op_assign
id|pLib-&gt;cur_parse_entry
op_minus
l_int|1
suffix:semicolon
multiline_comment|/*&n;&t;&t;B-Layer1&quot;&n;&t;&t;*/
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;B-Layer1&bslash;&bslash;X-Frames&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.b1.X_Frames
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;B-Layer1&bslash;&bslash;X-Bytes&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.b1.X_Bytes
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;B-Layer1&bslash;&bslash;X-Errors&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.b1.X_Errors
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;B-Layer1&bslash;&bslash;R-Frames&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.b1.R_Frames
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;B-Layer1&bslash;&bslash;R-Bytes&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.b1.R_Bytes
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;B-Layer1&bslash;&bslash;R-Errors&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.b1.R_Errors
suffix:semicolon
multiline_comment|/*&n;&t;&t;B-Layer2&n;&t;&t;*/
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;B-Layer2&bslash;&bslash;X-Frames&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.b2.X_Frames
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;B-Layer2&bslash;&bslash;X-Bytes&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.b2.X_Bytes
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;B-Layer2&bslash;&bslash;X-Errors&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.b2.X_Errors
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;B-Layer2&bslash;&bslash;R-Frames&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.b2.R_Frames
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;B-Layer2&bslash;&bslash;R-Bytes&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.b2.R_Bytes
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;B-Layer2&bslash;&bslash;R-Errors&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.b2.R_Errors
suffix:semicolon
multiline_comment|/*&n;&t;&t;D-Layer1&n;&t;&t;*/
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;D-Layer1&bslash;&bslash;X-Frames&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.d1.X_Frames
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;D-Layer1&bslash;&bslash;X-Bytes&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.d1.X_Bytes
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;D-Layer1&bslash;&bslash;X-Errors&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.d1.X_Errors
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;D-Layer1&bslash;&bslash;R-Frames&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.d1.R_Frames
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;D-Layer1&bslash;&bslash;R-Bytes&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.d1.R_Bytes
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;D-Layer1&bslash;&bslash;R-Errors&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.d1.R_Errors
suffix:semicolon
multiline_comment|/*&n;&t;&t;D-Layer2&n;&t;&t;*/
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;D-Layer2&bslash;&bslash;X-Frames&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.d2.X_Frames
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;D-Layer2&bslash;&bslash;X-Bytes&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.d2.X_Bytes
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;D-Layer2&bslash;&bslash;X-Errors&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.d2.X_Errors
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;D-Layer2&bslash;&bslash;R-Frames&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.d2.R_Frames
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;D-Layer2&bslash;&bslash;R-Bytes&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.d2.R_Bytes
suffix:semicolon
id|strcpy
(paren
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
)braket
dot
id|path
comma
l_string|&quot;Statistics&bslash;&bslash;D-Layer2&bslash;&bslash;R-Errors&quot;
)paren
suffix:semicolon
id|pLib-&gt;parse_table
(braket
id|pLib-&gt;cur_parse_entry
op_increment
)braket
dot
id|variable
op_assign
"&bslash;"
op_amp
id|pLib-&gt;InterfaceStat.d2.R_Errors
suffix:semicolon
id|pLib-&gt;statistic_parse_last
op_assign
id|pLib-&gt;cur_parse_entry
op_minus
l_int|1
suffix:semicolon
)brace
DECL|function|diva_trace_error
r_static
r_void
id|diva_trace_error
(paren
id|diva_strace_context_t
op_star
id|pLib
comma
r_int
id|error
comma
r_const
r_char
op_star
id|file
comma
r_int
id|line
)paren
(brace
r_if
c_cond
(paren
id|pLib-&gt;user_proc_table.error_notify_proc
)paren
(brace
(paren
op_star
(paren
id|pLib-&gt;user_proc_table.error_notify_proc
)paren
)paren
(paren
"&bslash;"
id|pLib-&gt;user_proc_table.user_context
comma
op_amp
id|pLib-&gt;instance
comma
id|pLib-&gt;Adapter
comma
id|error
comma
id|file
comma
id|line
)paren
suffix:semicolon
)brace
)brace
multiline_comment|/*&n;&t;Delivery notification to user&n;&t;*/
DECL|function|diva_trace_notify_user
r_static
r_void
id|diva_trace_notify_user
(paren
id|diva_strace_context_t
op_star
id|pLib
comma
r_int
id|Channel
comma
r_int
id|notify_subject
)paren
(brace
r_if
c_cond
(paren
id|pLib-&gt;user_proc_table.notify_proc
)paren
(brace
(paren
op_star
(paren
id|pLib-&gt;user_proc_table.notify_proc
)paren
)paren
(paren
id|pLib-&gt;user_proc_table.user_context
comma
op_amp
id|pLib-&gt;instance
comma
id|pLib-&gt;Adapter
comma
op_amp
id|pLib-&gt;lines
(braket
id|Channel
)braket
comma
id|notify_subject
)paren
suffix:semicolon
)brace
)brace
multiline_comment|/*&n;&t;Read variable value to they destination based on the variable type&n;&t;*/
DECL|function|diva_trace_read_variable
r_static
r_int
id|diva_trace_read_variable
(paren
id|diva_man_var_header_t
op_star
id|pVar
comma
r_void
op_star
id|variable
)paren
(brace
r_switch
c_cond
(paren
id|pVar-&gt;type
)paren
(brace
r_case
l_int|0x03
suffix:colon
multiline_comment|/* MI_ASCIIZ - syting                               */
r_return
(paren
id|diva_strace_read_asz
(paren
id|pVar
comma
(paren
r_char
op_star
)paren
id|variable
)paren
)paren
suffix:semicolon
r_case
l_int|0x04
suffix:colon
multiline_comment|/* MI_ASCII  - string                               */
r_return
(paren
id|diva_strace_read_asc
(paren
id|pVar
comma
(paren
r_char
op_star
)paren
id|variable
)paren
)paren
suffix:semicolon
r_case
l_int|0x05
suffix:colon
multiline_comment|/* MI_NUMBER - counted sequence of bytes            */
r_return
(paren
id|diva_strace_read_ie
(paren
id|pVar
comma
(paren
id|diva_trace_ie_t
op_star
)paren
id|variable
)paren
)paren
suffix:semicolon
r_case
l_int|0x81
suffix:colon
multiline_comment|/* MI_INT    - signed integer                       */
r_return
(paren
id|diva_strace_read_int
(paren
id|pVar
comma
(paren
r_int
op_star
)paren
id|variable
)paren
)paren
suffix:semicolon
r_case
l_int|0x82
suffix:colon
multiline_comment|/* MI_UINT   - unsigned integer                     */
r_return
(paren
id|diva_strace_read_uint
(paren
id|pVar
comma
(paren
id|dword
op_star
)paren
id|variable
)paren
)paren
suffix:semicolon
r_case
l_int|0x83
suffix:colon
multiline_comment|/* MI_HINT   - unsigned integer, hex representetion */
r_return
(paren
id|diva_strace_read_uint
(paren
id|pVar
comma
(paren
id|dword
op_star
)paren
id|variable
)paren
)paren
suffix:semicolon
r_case
l_int|0x87
suffix:colon
multiline_comment|/* MI_BITFLD - unsigned integer, bit representation */
r_return
(paren
id|diva_strace_read_uint
(paren
id|pVar
comma
(paren
id|dword
op_star
)paren
id|variable
)paren
)paren
suffix:semicolon
)brace
multiline_comment|/*&n;&t;&t;This type of variable is not handled, indicate error&n;&t;&t;Or one problem in management interface, or in application recodeing&n;&t;&t;table, or this application should handle it.&n;&t;&t;*/
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
multiline_comment|/*&n;&t;Read signed integer to destination&n;&t;*/
DECL|function|diva_strace_read_int
r_static
r_int
id|diva_strace_read_int
(paren
id|diva_man_var_header_t
op_star
id|pVar
comma
r_int
op_star
id|var
)paren
(brace
id|byte
op_star
id|ptr
op_assign
(paren
r_char
op_star
)paren
op_amp
id|pVar-&gt;path_length
suffix:semicolon
r_int
id|value
suffix:semicolon
id|ptr
op_add_assign
(paren
id|pVar-&gt;path_length
op_plus
l_int|1
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|pVar-&gt;value_length
)paren
(brace
r_case
l_int|1
suffix:colon
id|value
op_assign
op_star
(paren
r_char
op_star
)paren
id|ptr
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|2
suffix:colon
id|value
op_assign
(paren
r_int
)paren
id|GET_WORD
c_func
(paren
id|ptr
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|4
suffix:colon
id|value
op_assign
(paren
r_int
)paren
id|GET_DWORD
c_func
(paren
id|ptr
)paren
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
op_star
id|var
op_assign
id|value
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
DECL|function|diva_strace_read_uint
r_static
r_int
id|diva_strace_read_uint
(paren
id|diva_man_var_header_t
op_star
id|pVar
comma
id|dword
op_star
id|var
)paren
(brace
id|byte
op_star
id|ptr
op_assign
(paren
r_char
op_star
)paren
op_amp
id|pVar-&gt;path_length
suffix:semicolon
id|dword
id|value
suffix:semicolon
id|ptr
op_add_assign
(paren
id|pVar-&gt;path_length
op_plus
l_int|1
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|pVar-&gt;value_length
)paren
(brace
r_case
l_int|1
suffix:colon
id|value
op_assign
(paren
id|byte
)paren
(paren
op_star
id|ptr
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|2
suffix:colon
id|value
op_assign
(paren
id|word
)paren
id|GET_WORD
c_func
(paren
id|ptr
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|3
suffix:colon
id|value
op_assign
(paren
id|dword
)paren
id|GET_DWORD
c_func
(paren
id|ptr
)paren
suffix:semicolon
id|value
op_and_assign
l_int|0x00ffffff
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|4
suffix:colon
id|value
op_assign
(paren
id|dword
)paren
id|GET_DWORD
c_func
(paren
id|ptr
)paren
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
op_star
id|var
op_assign
id|value
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
multiline_comment|/*&n;&t;Read zero terminated ASCII string&n;&t;*/
DECL|function|diva_strace_read_asz
r_static
r_int
id|diva_strace_read_asz
(paren
id|diva_man_var_header_t
op_star
id|pVar
comma
r_char
op_star
id|var
)paren
(brace
r_char
op_star
id|ptr
op_assign
(paren
r_char
op_star
)paren
op_amp
id|pVar-&gt;path_length
suffix:semicolon
r_int
id|length
suffix:semicolon
id|ptr
op_add_assign
(paren
id|pVar-&gt;path_length
op_plus
l_int|1
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
(paren
id|length
op_assign
id|pVar-&gt;value_length
)paren
)paren
(brace
id|length
op_assign
id|strlen
(paren
id|ptr
)paren
suffix:semicolon
)brace
id|memcpy
(paren
id|var
comma
id|ptr
comma
id|length
)paren
suffix:semicolon
id|var
(braket
id|length
)braket
op_assign
l_int|0
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
multiline_comment|/*&n;&t;Read counted (with leading length byte) ASCII string&n;&t;*/
DECL|function|diva_strace_read_asc
r_static
r_int
id|diva_strace_read_asc
(paren
id|diva_man_var_header_t
op_star
id|pVar
comma
r_char
op_star
id|var
)paren
(brace
r_char
op_star
id|ptr
op_assign
(paren
r_char
op_star
)paren
op_amp
id|pVar-&gt;path_length
suffix:semicolon
id|ptr
op_add_assign
(paren
id|pVar-&gt;path_length
op_plus
l_int|1
)paren
suffix:semicolon
id|memcpy
(paren
id|var
comma
id|ptr
op_plus
l_int|1
comma
op_star
id|ptr
)paren
suffix:semicolon
id|var
(braket
(paren
r_int
)paren
op_star
id|ptr
)braket
op_assign
l_int|0
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
multiline_comment|/*&n;&t;&t;Read one information element - i.e. one string of byte values with&n;&t;&t;one length byte in front&n;&t;*/
DECL|function|diva_strace_read_ie
r_static
r_int
id|diva_strace_read_ie
(paren
id|diva_man_var_header_t
op_star
id|pVar
comma
id|diva_trace_ie_t
op_star
id|var
)paren
(brace
r_char
op_star
id|ptr
op_assign
(paren
r_char
op_star
)paren
op_amp
id|pVar-&gt;path_length
suffix:semicolon
id|ptr
op_add_assign
(paren
id|pVar-&gt;path_length
op_plus
l_int|1
)paren
suffix:semicolon
id|var-&gt;length
op_assign
op_star
id|ptr
suffix:semicolon
id|memcpy
(paren
op_amp
id|var-&gt;data
(braket
l_int|0
)braket
comma
id|ptr
op_plus
l_int|1
comma
op_star
id|ptr
)paren
suffix:semicolon
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
DECL|function|SuperTraceSetAudioTap
r_static
r_int
id|SuperTraceSetAudioTap
(paren
r_void
op_star
id|hLib
comma
r_int
id|Channel
comma
r_int
id|on
)paren
(brace
id|diva_strace_context_t
op_star
id|pLib
op_assign
(paren
id|diva_strace_context_t
op_star
)paren
id|hLib
suffix:semicolon
r_if
c_cond
(paren
(paren
id|Channel
OL
l_int|1
)paren
op_logical_or
(paren
id|Channel
OG
id|pLib-&gt;Channels
)paren
)paren
(brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|Channel
op_decrement
suffix:semicolon
r_if
c_cond
(paren
id|on
)paren
(brace
id|pLib-&gt;audio_tap_mask
op_or_assign
(paren
l_int|1L
op_lshift
id|Channel
)paren
suffix:semicolon
)brace
r_else
(brace
id|pLib-&gt;audio_tap_mask
op_and_assign
op_complement
(paren
l_int|1L
op_lshift
id|Channel
)paren
suffix:semicolon
)brace
multiline_comment|/*&n;    EYE patterns have TM_M_DATA set as additional&n;    condition&n;    */
r_if
c_cond
(paren
id|pLib-&gt;audio_tap_mask
)paren
(brace
id|pLib-&gt;trace_event_mask
op_or_assign
id|TM_M_DATA
suffix:semicolon
)brace
r_else
(brace
id|pLib-&gt;trace_event_mask
op_and_assign
op_complement
id|TM_M_DATA
suffix:semicolon
)brace
r_return
(paren
id|ScheduleNextTraceRequest
(paren
id|pLib
)paren
)paren
suffix:semicolon
)brace
DECL|function|SuperTraceSetBChannel
r_static
r_int
id|SuperTraceSetBChannel
(paren
r_void
op_star
id|hLib
comma
r_int
id|Channel
comma
r_int
id|on
)paren
(brace
id|diva_strace_context_t
op_star
id|pLib
op_assign
(paren
id|diva_strace_context_t
op_star
)paren
id|hLib
suffix:semicolon
r_if
c_cond
(paren
(paren
id|Channel
OL
l_int|1
)paren
op_logical_or
(paren
id|Channel
OG
id|pLib-&gt;Channels
)paren
)paren
(brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|Channel
op_decrement
suffix:semicolon
r_if
c_cond
(paren
id|on
)paren
(brace
id|pLib-&gt;bchannel_trace_mask
op_or_assign
(paren
l_int|1L
op_lshift
id|Channel
)paren
suffix:semicolon
)brace
r_else
(brace
id|pLib-&gt;bchannel_trace_mask
op_and_assign
op_complement
(paren
l_int|1L
op_lshift
id|Channel
)paren
suffix:semicolon
)brace
r_return
(paren
id|ScheduleNextTraceRequest
(paren
id|pLib
)paren
)paren
suffix:semicolon
)brace
DECL|function|SuperTraceSetDChannel
r_static
r_int
id|SuperTraceSetDChannel
(paren
r_void
op_star
id|hLib
comma
r_int
id|on
)paren
(brace
id|diva_strace_context_t
op_star
id|pLib
op_assign
(paren
id|diva_strace_context_t
op_star
)paren
id|hLib
suffix:semicolon
r_if
c_cond
(paren
id|on
)paren
(brace
id|pLib-&gt;trace_event_mask
op_or_assign
(paren
id|TM_D_CHAN
op_or
id|TM_C_COMM
op_or
id|TM_DL_ERR
op_or
id|TM_LAYER1
)paren
suffix:semicolon
)brace
r_else
(brace
id|pLib-&gt;trace_event_mask
op_and_assign
op_complement
(paren
id|TM_D_CHAN
op_or
id|TM_C_COMM
op_or
id|TM_DL_ERR
op_or
id|TM_LAYER1
)paren
suffix:semicolon
)brace
r_return
(paren
id|ScheduleNextTraceRequest
(paren
id|pLib
)paren
)paren
suffix:semicolon
)brace
DECL|function|SuperTraceSetInfo
r_static
r_int
id|SuperTraceSetInfo
(paren
r_void
op_star
id|hLib
comma
r_int
id|on
)paren
(brace
id|diva_strace_context_t
op_star
id|pLib
op_assign
(paren
id|diva_strace_context_t
op_star
)paren
id|hLib
suffix:semicolon
r_if
c_cond
(paren
id|on
)paren
(brace
id|pLib-&gt;trace_event_mask
op_or_assign
id|TM_STRING
suffix:semicolon
)brace
r_else
(brace
id|pLib-&gt;trace_event_mask
op_and_assign
op_complement
id|TM_STRING
suffix:semicolon
)brace
r_return
(paren
id|ScheduleNextTraceRequest
(paren
id|pLib
)paren
)paren
suffix:semicolon
)brace
DECL|function|SuperTraceClearCall
r_static
r_int
id|SuperTraceClearCall
(paren
r_void
op_star
id|hLib
comma
r_int
id|Channel
)paren
(brace
id|diva_strace_context_t
op_star
id|pLib
op_assign
(paren
id|diva_strace_context_t
op_star
)paren
id|hLib
suffix:semicolon
r_if
c_cond
(paren
(paren
id|Channel
OL
l_int|1
)paren
op_logical_or
(paren
id|Channel
OG
id|pLib-&gt;Channels
)paren
)paren
(brace
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|Channel
op_decrement
suffix:semicolon
id|pLib-&gt;clear_call_command
op_or_assign
(paren
l_int|1L
op_lshift
id|Channel
)paren
suffix:semicolon
r_return
(paren
id|ScheduleNextTraceRequest
(paren
id|pLib
)paren
)paren
suffix:semicolon
)brace
multiline_comment|/*&n;&t;Parse and update cumulative statistice&n;&t;*/
DECL|function|diva_ifc_statistics
r_static
r_int
id|diva_ifc_statistics
(paren
id|diva_strace_context_t
op_star
id|pLib
comma
id|diva_man_var_header_t
op_star
id|pVar
)paren
(brace
id|diva_man_var_header_t
op_star
id|cur
suffix:semicolon
r_int
id|i
comma
id|one_updated
op_assign
l_int|0
comma
id|mdm_updated
op_assign
l_int|0
comma
id|fax_updated
op_assign
l_int|0
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
id|pLib-&gt;statistic_parse_first
suffix:semicolon
id|i
op_le
id|pLib-&gt;statistic_parse_last
suffix:semicolon
id|i
op_increment
)paren
(brace
r_if
c_cond
(paren
(paren
id|cur
op_assign
id|find_var
(paren
id|pVar
comma
id|pLib-&gt;parse_table
(braket
id|i
)braket
dot
id|path
)paren
)paren
)paren
(brace
r_if
c_cond
(paren
id|diva_trace_read_variable
(paren
id|cur
comma
id|pLib-&gt;parse_table
(braket
id|i
)braket
dot
id|variable
)paren
)paren
(brace
id|diva_trace_error
(paren
id|pLib
comma
op_minus
l_int|3
comma
id|__FILE__
comma
id|__LINE__
)paren
suffix:semicolon
r_return
(paren
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|one_updated
op_assign
l_int|1
suffix:semicolon
r_if
c_cond
(paren
(paren
id|i
op_ge
id|pLib-&gt;mdm_statistic_parse_first
)paren
op_logical_and
(paren
id|i
op_le
id|pLib-&gt;mdm_statistic_parse_last
)paren
)paren
(brace
id|mdm_updated
op_assign
l_int|1
suffix:semicolon
)brace
r_if
c_cond
(paren
(paren
id|i
op_ge
id|pLib-&gt;fax_statistic_parse_first
)paren
op_logical_and
(paren
id|i
op_le
id|pLib-&gt;fax_statistic_parse_last
)paren
)paren
(brace
id|fax_updated
op_assign
l_int|1
suffix:semicolon
)brace
)brace
)brace
multiline_comment|/*&n;&t;&t;We do not use first event to notify user - this is the event that is&n;&t;&t;generated as result of EVENT ON operation and is used only to initialize&n;&t;&t;internal variables of application&n;&t;&t;*/
r_if
c_cond
(paren
id|mdm_updated
)paren
(brace
id|diva_trace_notify_user
(paren
id|pLib
comma
l_int|0
comma
id|DIVA_SUPER_TRACE_NOTIFY_MDM_STAT_CHANGE
)paren
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|fax_updated
)paren
(brace
id|diva_trace_notify_user
(paren
id|pLib
comma
l_int|0
comma
id|DIVA_SUPER_TRACE_NOTIFY_FAX_STAT_CHANGE
)paren
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|one_updated
)paren
(brace
id|diva_trace_notify_user
(paren
id|pLib
comma
l_int|0
comma
id|DIVA_SUPER_TRACE_NOTIFY_STAT_CHANGE
)paren
suffix:semicolon
)brace
r_return
(paren
id|one_updated
ques
c_cond
l_int|0
suffix:colon
op_minus
l_int|1
)paren
suffix:semicolon
)brace
DECL|function|SuperTraceGetOutgoingCallStatistics
r_static
r_int
id|SuperTraceGetOutgoingCallStatistics
(paren
r_void
op_star
id|hLib
)paren
(brace
id|diva_strace_context_t
op_star
id|pLib
op_assign
(paren
id|diva_strace_context_t
op_star
)paren
id|hLib
suffix:semicolon
id|pLib-&gt;outgoing_ifc_stats
op_assign
l_int|1
suffix:semicolon
r_return
(paren
id|ScheduleNextTraceRequest
(paren
id|pLib
)paren
)paren
suffix:semicolon
)brace
DECL|function|SuperTraceGetIncomingCallStatistics
r_static
r_int
id|SuperTraceGetIncomingCallStatistics
(paren
r_void
op_star
id|hLib
)paren
(brace
id|diva_strace_context_t
op_star
id|pLib
op_assign
(paren
id|diva_strace_context_t
op_star
)paren
id|hLib
suffix:semicolon
id|pLib-&gt;incoming_ifc_stats
op_assign
l_int|1
suffix:semicolon
r_return
(paren
id|ScheduleNextTraceRequest
(paren
id|pLib
)paren
)paren
suffix:semicolon
)brace
DECL|function|SuperTraceGetModemStatistics
r_static
r_int
id|SuperTraceGetModemStatistics
(paren
r_void
op_star
id|hLib
)paren
(brace
id|diva_strace_context_t
op_star
id|pLib
op_assign
(paren
id|diva_strace_context_t
op_star
)paren
id|hLib
suffix:semicolon
id|pLib-&gt;modem_ifc_stats
op_assign
l_int|1
suffix:semicolon
r_return
(paren
id|ScheduleNextTraceRequest
(paren
id|pLib
)paren
)paren
suffix:semicolon
)brace
DECL|function|SuperTraceGetFaxStatistics
r_static
r_int
id|SuperTraceGetFaxStatistics
(paren
r_void
op_star
id|hLib
)paren
(brace
id|diva_strace_context_t
op_star
id|pLib
op_assign
(paren
id|diva_strace_context_t
op_star
)paren
id|hLib
suffix:semicolon
id|pLib-&gt;fax_ifc_stats
op_assign
l_int|1
suffix:semicolon
r_return
(paren
id|ScheduleNextTraceRequest
(paren
id|pLib
)paren
)paren
suffix:semicolon
)brace
DECL|function|SuperTraceGetBLayer1Statistics
r_static
r_int
id|SuperTraceGetBLayer1Statistics
(paren
r_void
op_star
id|hLib
)paren
(brace
id|diva_strace_context_t
op_star
id|pLib
op_assign
(paren
id|diva_strace_context_t
op_star
)paren
id|hLib
suffix:semicolon
id|pLib-&gt;b1_ifc_stats
op_assign
l_int|1
suffix:semicolon
r_return
(paren
id|ScheduleNextTraceRequest
(paren
id|pLib
)paren
)paren
suffix:semicolon
)brace
DECL|function|SuperTraceGetBLayer2Statistics
r_static
r_int
id|SuperTraceGetBLayer2Statistics
(paren
r_void
op_star
id|hLib
)paren
(brace
id|diva_strace_context_t
op_star
id|pLib
op_assign
(paren
id|diva_strace_context_t
op_star
)paren
id|hLib
suffix:semicolon
id|pLib-&gt;b2_ifc_stats
op_assign
l_int|1
suffix:semicolon
r_return
(paren
id|ScheduleNextTraceRequest
(paren
id|pLib
)paren
)paren
suffix:semicolon
)brace
DECL|function|SuperTraceGetDLayer1Statistics
r_static
r_int
id|SuperTraceGetDLayer1Statistics
(paren
r_void
op_star
id|hLib
)paren
(brace
id|diva_strace_context_t
op_star
id|pLib
op_assign
(paren
id|diva_strace_context_t
op_star
)paren
id|hLib
suffix:semicolon
id|pLib-&gt;d1_ifc_stats
op_assign
l_int|1
suffix:semicolon
r_return
(paren
id|ScheduleNextTraceRequest
(paren
id|pLib
)paren
)paren
suffix:semicolon
)brace
DECL|function|SuperTraceGetDLayer2Statistics
r_static
r_int
id|SuperTraceGetDLayer2Statistics
(paren
r_void
op_star
id|hLib
)paren
(brace
id|diva_strace_context_t
op_star
id|pLib
op_assign
(paren
id|diva_strace_context_t
op_star
)paren
id|hLib
suffix:semicolon
id|pLib-&gt;d2_ifc_stats
op_assign
l_int|1
suffix:semicolon
r_return
(paren
id|ScheduleNextTraceRequest
(paren
id|pLib
)paren
)paren
suffix:semicolon
)brace
DECL|function|DivaSTraceGetMemotyRequirement
id|dword
id|DivaSTraceGetMemotyRequirement
(paren
r_int
id|channels
)paren
(brace
id|dword
id|parse_entries
op_assign
(paren
id|MODEM_PARSE_ENTRIES
op_plus
id|FAX_PARSE_ENTRIES
op_plus
"&bslash;"
id|STAT_PARSE_ENTRIES
op_plus
"&bslash;"
id|LINE_PARSE_ENTRIES
op_plus
l_int|1
)paren
op_star
id|channels
suffix:semicolon
r_return
(paren
r_sizeof
(paren
id|diva_strace_context_t
)paren
op_plus
"&bslash;"
(paren
id|parse_entries
op_star
r_sizeof
(paren
id|diva_strace_path2action_t
)paren
)paren
)paren
suffix:semicolon
)brace
eof
