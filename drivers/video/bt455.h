multiline_comment|/*&n; *&t;linux/drivers/video/bt455.h&n; *&n; *&t;Copyright 2003  Thiemo Seufer &lt;seufer@csv.ica.uni-stuttgart.de&gt;&n; *&n; *&t;This file is subject to the terms and conditions of the GNU General&n; *&t;Public License. See the file COPYING in the main directory of this&n; *&t;archive for more details.&n; */
macro_line|#include &lt;linux/types.h&gt;
macro_line|#include &lt;asm/system.h&gt;
multiline_comment|/*&n; * Bt455 byte-wide registers, 32-bit aligned.&n; */
DECL|struct|bt455_regs
r_struct
id|bt455_regs
(brace
DECL|member|addr_cmap
r_volatile
id|u8
id|addr_cmap
suffix:semicolon
DECL|member|pad0
id|u8
id|pad0
(braket
l_int|3
)braket
suffix:semicolon
DECL|member|addr_cmap_data
r_volatile
id|u8
id|addr_cmap_data
suffix:semicolon
DECL|member|pad1
id|u8
id|pad1
(braket
l_int|3
)braket
suffix:semicolon
DECL|member|addr_clr
r_volatile
id|u8
id|addr_clr
suffix:semicolon
DECL|member|pad2
id|u8
id|pad2
(braket
l_int|3
)braket
suffix:semicolon
DECL|member|addr_ovly
r_volatile
id|u8
id|addr_ovly
suffix:semicolon
DECL|member|pad3
id|u8
id|pad3
(braket
l_int|3
)braket
suffix:semicolon
)brace
suffix:semicolon
DECL|function|bt455_select_reg
r_static
r_inline
r_void
id|bt455_select_reg
c_func
(paren
r_struct
id|bt455_regs
op_star
id|regs
comma
r_int
id|ir
)paren
(brace
id|mb
c_func
(paren
)paren
suffix:semicolon
id|regs-&gt;addr_cmap
op_assign
id|ir
op_amp
l_int|0x0f
suffix:semicolon
)brace
multiline_comment|/*&n; * Read/write to a Bt455 color map register.&n; */
DECL|function|bt455_read_cmap_entry
r_static
r_inline
r_void
id|bt455_read_cmap_entry
c_func
(paren
r_struct
id|bt455_regs
op_star
id|regs
comma
r_int
id|cr
comma
id|u8
op_star
id|red
comma
id|u8
op_star
id|green
comma
id|u8
op_star
id|blue
)paren
(brace
id|bt455_select_reg
c_func
(paren
id|regs
comma
id|cr
)paren
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
op_star
id|red
op_assign
id|regs-&gt;addr_cmap_data
op_amp
l_int|0x0f
suffix:semicolon
id|rmb
c_func
(paren
)paren
suffix:semicolon
op_star
id|green
op_assign
id|regs-&gt;addr_cmap_data
op_amp
l_int|0x0f
suffix:semicolon
id|rmb
c_func
(paren
)paren
suffix:semicolon
op_star
id|blue
op_assign
id|regs-&gt;addr_cmap_data
op_amp
l_int|0x0f
suffix:semicolon
)brace
DECL|function|bt455_write_cmap_entry
r_static
r_inline
r_void
id|bt455_write_cmap_entry
c_func
(paren
r_struct
id|bt455_regs
op_star
id|regs
comma
r_int
id|cr
comma
id|u8
id|red
comma
id|u8
id|green
comma
id|u8
id|blue
)paren
(brace
id|bt455_select_reg
c_func
(paren
id|regs
comma
id|cr
)paren
suffix:semicolon
id|wmb
c_func
(paren
)paren
suffix:semicolon
id|regs-&gt;addr_cmap_data
op_assign
id|red
op_amp
l_int|0x0f
suffix:semicolon
id|wmb
c_func
(paren
)paren
suffix:semicolon
id|regs-&gt;addr_cmap_data
op_assign
id|green
op_amp
l_int|0x0f
suffix:semicolon
id|wmb
c_func
(paren
)paren
suffix:semicolon
id|regs-&gt;addr_cmap_data
op_assign
id|blue
op_amp
l_int|0x0f
suffix:semicolon
)brace
DECL|function|bt455_write_ovly_entry
r_static
r_inline
r_void
id|bt455_write_ovly_entry
c_func
(paren
r_struct
id|bt455_regs
op_star
id|regs
comma
r_int
id|cr
comma
id|u8
id|red
comma
id|u8
id|green
comma
id|u8
id|blue
)paren
(brace
id|bt455_select_reg
c_func
(paren
id|regs
comma
id|cr
)paren
suffix:semicolon
id|wmb
c_func
(paren
)paren
suffix:semicolon
id|regs-&gt;addr_ovly
op_assign
id|red
op_amp
l_int|0x0f
suffix:semicolon
id|wmb
c_func
(paren
)paren
suffix:semicolon
id|regs-&gt;addr_ovly
op_assign
id|green
op_amp
l_int|0x0f
suffix:semicolon
id|wmb
c_func
(paren
)paren
suffix:semicolon
id|regs-&gt;addr_ovly
op_assign
id|blue
op_amp
l_int|0x0f
suffix:semicolon
)brace
DECL|function|bt455_set_cursor
r_static
r_inline
r_void
id|bt455_set_cursor
c_func
(paren
r_struct
id|bt455_regs
op_star
id|regs
)paren
(brace
id|mb
c_func
(paren
)paren
suffix:semicolon
id|regs-&gt;addr_ovly
op_assign
l_int|0x0f
suffix:semicolon
id|wmb
c_func
(paren
)paren
suffix:semicolon
id|regs-&gt;addr_ovly
op_assign
l_int|0x0f
suffix:semicolon
id|wmb
c_func
(paren
)paren
suffix:semicolon
id|regs-&gt;addr_ovly
op_assign
l_int|0x0f
suffix:semicolon
)brace
DECL|function|bt455_erase_cursor
r_static
r_inline
r_void
id|bt455_erase_cursor
c_func
(paren
r_struct
id|bt455_regs
op_star
id|regs
)paren
(brace
multiline_comment|/* bt455_write_cmap_entry(regs, 8, 0x00, 0x00, 0x00); */
multiline_comment|/* bt455_write_cmap_entry(regs, 9, 0x00, 0x00, 0x00); */
id|bt455_write_ovly_entry
c_func
(paren
id|regs
comma
l_int|8
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x03
)paren
suffix:semicolon
id|bt455_write_ovly_entry
c_func
(paren
id|regs
comma
l_int|9
comma
l_int|0x07
comma
l_int|0x07
comma
l_int|0x07
)paren
suffix:semicolon
id|wmb
c_func
(paren
)paren
suffix:semicolon
id|regs-&gt;addr_ovly
op_assign
l_int|0x09
suffix:semicolon
id|wmb
c_func
(paren
)paren
suffix:semicolon
id|regs-&gt;addr_ovly
op_assign
l_int|0x09
suffix:semicolon
id|wmb
c_func
(paren
)paren
suffix:semicolon
id|regs-&gt;addr_ovly
op_assign
l_int|0x09
suffix:semicolon
)brace
eof
