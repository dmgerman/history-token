multiline_comment|/***************************************************************************&bslash;&n;|*                                                                           *|&n;|*       Copyright 1993-2003 NVIDIA, Corporation.  All rights reserved.      *|&n;|*                                                                           *|&n;|*     NOTICE TO USER:   The source code  is copyrighted under  U.S. and     *|&n;|*     international laws.  Users and possessors of this source code are     *|&n;|*     hereby granted a nonexclusive,  royalty-free copyright license to     *|&n;|*     use this code in individual and commercial software.                  *|&n;|*                                                                           *|&n;|*     Any use of this source code must include,  in the user documenta-     *|&n;|*     tion and  internal comments to the code,  notices to the end user     *|&n;|*     as follows:                                                           *|&n;|*                                                                           *|&n;|*       Copyright 1993-2003 NVIDIA, Corporation.  All rights reserved.      *|&n;|*                                                                           *|&n;|*     NVIDIA, CORPORATION MAKES NO REPRESENTATION ABOUT THE SUITABILITY     *|&n;|*     OF  THIS SOURCE  CODE  FOR ANY PURPOSE.  IT IS  PROVIDED  &quot;AS IS&quot;     *|&n;|*     WITHOUT EXPRESS OR IMPLIED WARRANTY OF ANY KIND.  NVIDIA, CORPOR-     *|&n;|*     ATION DISCLAIMS ALL WARRANTIES  WITH REGARD  TO THIS SOURCE CODE,     *|&n;|*     INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY, NONINFRINGE-     *|&n;|*     MENT,  AND FITNESS  FOR A PARTICULAR PURPOSE.   IN NO EVENT SHALL     *|&n;|*     NVIDIA, CORPORATION  BE LIABLE FOR ANY SPECIAL,  INDIRECT,  INCI-     *|&n;|*     DENTAL, OR CONSEQUENTIAL DAMAGES,  OR ANY DAMAGES  WHATSOEVER RE-     *|&n;|*     SULTING FROM LOSS OF USE,  DATA OR PROFITS,  WHETHER IN AN ACTION     *|&n;|*     OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION,  ARISING OUT OF     *|&n;|*     OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOURCE CODE.     *|&n;|*                                                                           *|&n;|*     U.S. Government  End  Users.   This source code  is a &quot;commercial     *|&n;|*     item,&quot;  as that  term is  defined at  48 C.F.R. 2.101 (OCT 1995),     *|&n;|*     consisting  of &quot;commercial  computer  software&quot;  and  &quot;commercial     *|&n;|*     computer  software  documentation,&quot;  as such  terms  are  used in     *|&n;|*     48 C.F.R. 12.212 (SEPT 1995)  and is provided to the U.S. Govern-     *|&n;|*     ment only as  a commercial end item.   Consistent with  48 C.F.R.     *|&n;|*     12.212 and  48 C.F.R. 227.7202-1 through  227.7202-4 (JUNE 1995),     *|&n;|*     all U.S. Government End Users  acquire the source code  with only     *|&n;|*     those rights set forth herein.                                        *|&n;|*                                                                           *|&n; &bslash;***************************************************************************/
multiline_comment|/* $XFree86: xc/programs/Xserver/hw/xfree86/drivers/nv/nv_hw.c,v 1.4 2003/11/03 05:11:25 tsi Exp $ */
macro_line|#include &lt;linux/pci.h&gt;
macro_line|#include &quot;nv_type.h&quot;
macro_line|#include &quot;nv_local.h&quot;
DECL|function|NVLockUnlock
r_void
id|NVLockUnlock
c_func
(paren
r_struct
id|nvidia_par
op_star
id|par
comma
r_int
id|Lock
)paren
(brace
id|u8
id|cr11
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x3D4
comma
l_int|0x1F
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x3D5
comma
id|Lock
ques
c_cond
l_int|0x99
suffix:colon
l_int|0x57
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x3D4
comma
l_int|0x11
)paren
suffix:semicolon
id|cr11
op_assign
id|VGA_RD08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x3D5
)paren
suffix:semicolon
r_if
c_cond
(paren
id|Lock
)paren
id|cr11
op_or_assign
l_int|0x80
suffix:semicolon
r_else
id|cr11
op_and_assign
op_complement
l_int|0x80
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x3D5
comma
id|cr11
)paren
suffix:semicolon
)brace
DECL|function|NVShowHideCursor
r_int
id|NVShowHideCursor
c_func
(paren
r_struct
id|nvidia_par
op_star
id|par
comma
r_int
id|ShowHide
)paren
(brace
r_int
id|cur
op_assign
id|par-&gt;CurrentState-&gt;cursor1
suffix:semicolon
id|par-&gt;CurrentState-&gt;cursor1
op_assign
(paren
id|par-&gt;CurrentState-&gt;cursor1
op_amp
l_int|0xFE
)paren
op_or
(paren
id|ShowHide
op_amp
l_int|0x01
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x3D4
comma
l_int|0x31
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x3D5
comma
id|par-&gt;CurrentState-&gt;cursor1
)paren
suffix:semicolon
r_if
c_cond
(paren
id|par-&gt;Architecture
op_eq
id|NV_ARCH_40
)paren
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMDAC
comma
l_int|0x0300
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMDAC
comma
l_int|0x0300
)paren
)paren
suffix:semicolon
r_return
(paren
id|cur
op_amp
l_int|0x01
)paren
suffix:semicolon
)brace
multiline_comment|/****************************************************************************&bslash;&n;*                                                                            *&n;* The video arbitration routines calculate some &quot;magic&quot; numbers.  Fixes      *&n;* the snow seen when accessing the framebuffer without it.                   *&n;* It just works (I hope).                                                    *&n;*                                                                            *&n;&bslash;****************************************************************************/
r_typedef
r_struct
(brace
DECL|member|graphics_lwm
r_int
id|graphics_lwm
suffix:semicolon
DECL|member|video_lwm
r_int
id|video_lwm
suffix:semicolon
DECL|member|graphics_burst_size
r_int
id|graphics_burst_size
suffix:semicolon
DECL|member|video_burst_size
r_int
id|video_burst_size
suffix:semicolon
DECL|member|valid
r_int
id|valid
suffix:semicolon
DECL|typedef|nv4_fifo_info
)brace
id|nv4_fifo_info
suffix:semicolon
r_typedef
r_struct
(brace
DECL|member|pclk_khz
r_int
id|pclk_khz
suffix:semicolon
DECL|member|mclk_khz
r_int
id|mclk_khz
suffix:semicolon
DECL|member|nvclk_khz
r_int
id|nvclk_khz
suffix:semicolon
DECL|member|mem_page_miss
r_char
id|mem_page_miss
suffix:semicolon
DECL|member|mem_latency
r_char
id|mem_latency
suffix:semicolon
DECL|member|memory_width
r_int
id|memory_width
suffix:semicolon
DECL|member|enable_video
r_char
id|enable_video
suffix:semicolon
DECL|member|gr_during_vid
r_char
id|gr_during_vid
suffix:semicolon
DECL|member|pix_bpp
r_char
id|pix_bpp
suffix:semicolon
DECL|member|mem_aligned
r_char
id|mem_aligned
suffix:semicolon
DECL|member|enable_mp
r_char
id|enable_mp
suffix:semicolon
DECL|typedef|nv4_sim_state
)brace
id|nv4_sim_state
suffix:semicolon
r_typedef
r_struct
(brace
DECL|member|graphics_lwm
r_int
id|graphics_lwm
suffix:semicolon
DECL|member|video_lwm
r_int
id|video_lwm
suffix:semicolon
DECL|member|graphics_burst_size
r_int
id|graphics_burst_size
suffix:semicolon
DECL|member|video_burst_size
r_int
id|video_burst_size
suffix:semicolon
DECL|member|valid
r_int
id|valid
suffix:semicolon
DECL|typedef|nv10_fifo_info
)brace
id|nv10_fifo_info
suffix:semicolon
r_typedef
r_struct
(brace
DECL|member|pclk_khz
r_int
id|pclk_khz
suffix:semicolon
DECL|member|mclk_khz
r_int
id|mclk_khz
suffix:semicolon
DECL|member|nvclk_khz
r_int
id|nvclk_khz
suffix:semicolon
DECL|member|mem_page_miss
r_char
id|mem_page_miss
suffix:semicolon
DECL|member|mem_latency
r_char
id|mem_latency
suffix:semicolon
DECL|member|memory_type
r_int
id|memory_type
suffix:semicolon
DECL|member|memory_width
r_int
id|memory_width
suffix:semicolon
DECL|member|enable_video
r_char
id|enable_video
suffix:semicolon
DECL|member|gr_during_vid
r_char
id|gr_during_vid
suffix:semicolon
DECL|member|pix_bpp
r_char
id|pix_bpp
suffix:semicolon
DECL|member|mem_aligned
r_char
id|mem_aligned
suffix:semicolon
DECL|member|enable_mp
r_char
id|enable_mp
suffix:semicolon
DECL|typedef|nv10_sim_state
)brace
id|nv10_sim_state
suffix:semicolon
DECL|function|nvGetClocks
r_static
r_void
id|nvGetClocks
c_func
(paren
r_struct
id|nvidia_par
op_star
id|par
comma
r_int
r_int
op_star
id|MClk
comma
r_int
r_int
op_star
id|NVClk
)paren
(brace
r_int
r_int
id|pll
comma
id|N
comma
id|M
comma
id|MB
comma
id|NB
comma
id|P
suffix:semicolon
r_if
c_cond
(paren
id|par-&gt;Architecture
op_ge
id|NV_ARCH_40
)paren
(brace
id|pll
op_assign
id|NV_RD32
c_func
(paren
id|par-&gt;PMC
comma
l_int|0x4020
)paren
suffix:semicolon
id|P
op_assign
(paren
id|pll
op_rshift
l_int|16
)paren
op_amp
l_int|0x03
suffix:semicolon
id|pll
op_assign
id|NV_RD32
c_func
(paren
id|par-&gt;PMC
comma
l_int|0x4024
)paren
suffix:semicolon
id|M
op_assign
id|pll
op_amp
l_int|0xFF
suffix:semicolon
id|N
op_assign
(paren
id|pll
op_rshift
l_int|8
)paren
op_amp
l_int|0xFF
suffix:semicolon
id|MB
op_assign
(paren
id|pll
op_rshift
l_int|16
)paren
op_amp
l_int|0xFF
suffix:semicolon
id|NB
op_assign
(paren
id|pll
op_rshift
l_int|24
)paren
op_amp
l_int|0xFF
suffix:semicolon
op_star
id|MClk
op_assign
(paren
(paren
id|N
op_star
id|NB
op_star
id|par-&gt;CrystalFreqKHz
)paren
op_div
(paren
id|M
op_star
id|MB
)paren
)paren
op_rshift
id|P
suffix:semicolon
id|pll
op_assign
id|NV_RD32
c_func
(paren
id|par-&gt;PMC
comma
l_int|0x4000
)paren
suffix:semicolon
id|P
op_assign
(paren
id|pll
op_rshift
l_int|16
)paren
op_amp
l_int|0x03
suffix:semicolon
id|pll
op_assign
id|NV_RD32
c_func
(paren
id|par-&gt;PMC
comma
l_int|0x4004
)paren
suffix:semicolon
id|M
op_assign
id|pll
op_amp
l_int|0xFF
suffix:semicolon
id|N
op_assign
(paren
id|pll
op_rshift
l_int|8
)paren
op_amp
l_int|0xFF
suffix:semicolon
id|MB
op_assign
(paren
id|pll
op_rshift
l_int|16
)paren
op_amp
l_int|0xFF
suffix:semicolon
id|NB
op_assign
(paren
id|pll
op_rshift
l_int|24
)paren
op_amp
l_int|0xFF
suffix:semicolon
op_star
id|NVClk
op_assign
(paren
(paren
id|N
op_star
id|NB
op_star
id|par-&gt;CrystalFreqKHz
)paren
op_div
(paren
id|M
op_star
id|MB
)paren
)paren
op_rshift
id|P
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|par-&gt;twoStagePLL
)paren
(brace
id|pll
op_assign
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMDAC0
comma
l_int|0x0504
)paren
suffix:semicolon
id|M
op_assign
id|pll
op_amp
l_int|0xFF
suffix:semicolon
id|N
op_assign
(paren
id|pll
op_rshift
l_int|8
)paren
op_amp
l_int|0xFF
suffix:semicolon
id|P
op_assign
(paren
id|pll
op_rshift
l_int|16
)paren
op_amp
l_int|0x0F
suffix:semicolon
id|pll
op_assign
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMDAC0
comma
l_int|0x0574
)paren
suffix:semicolon
r_if
c_cond
(paren
id|pll
op_amp
l_int|0x80000000
)paren
(brace
id|MB
op_assign
id|pll
op_amp
l_int|0xFF
suffix:semicolon
id|NB
op_assign
(paren
id|pll
op_rshift
l_int|8
)paren
op_amp
l_int|0xFF
suffix:semicolon
)brace
r_else
(brace
id|MB
op_assign
l_int|1
suffix:semicolon
id|NB
op_assign
l_int|1
suffix:semicolon
)brace
op_star
id|MClk
op_assign
(paren
(paren
id|N
op_star
id|NB
op_star
id|par-&gt;CrystalFreqKHz
)paren
op_div
(paren
id|M
op_star
id|MB
)paren
)paren
op_rshift
id|P
suffix:semicolon
id|pll
op_assign
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMDAC0
comma
l_int|0x0500
)paren
suffix:semicolon
id|M
op_assign
id|pll
op_amp
l_int|0xFF
suffix:semicolon
id|N
op_assign
(paren
id|pll
op_rshift
l_int|8
)paren
op_amp
l_int|0xFF
suffix:semicolon
id|P
op_assign
(paren
id|pll
op_rshift
l_int|16
)paren
op_amp
l_int|0x0F
suffix:semicolon
id|pll
op_assign
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMDAC0
comma
l_int|0x0570
)paren
suffix:semicolon
r_if
c_cond
(paren
id|pll
op_amp
l_int|0x80000000
)paren
(brace
id|MB
op_assign
id|pll
op_amp
l_int|0xFF
suffix:semicolon
id|NB
op_assign
(paren
id|pll
op_rshift
l_int|8
)paren
op_amp
l_int|0xFF
suffix:semicolon
)brace
r_else
(brace
id|MB
op_assign
l_int|1
suffix:semicolon
id|NB
op_assign
l_int|1
suffix:semicolon
)brace
op_star
id|NVClk
op_assign
(paren
(paren
id|N
op_star
id|NB
op_star
id|par-&gt;CrystalFreqKHz
)paren
op_div
(paren
id|M
op_star
id|MB
)paren
)paren
op_rshift
id|P
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
(paren
(paren
id|par-&gt;Chipset
op_amp
l_int|0x0ff0
)paren
op_eq
l_int|0x0300
)paren
op_logical_or
(paren
(paren
id|par-&gt;Chipset
op_amp
l_int|0x0ff0
)paren
op_eq
l_int|0x0330
)paren
)paren
(brace
id|pll
op_assign
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMDAC0
comma
l_int|0x0504
)paren
suffix:semicolon
id|M
op_assign
id|pll
op_amp
l_int|0x0F
suffix:semicolon
id|N
op_assign
(paren
id|pll
op_rshift
l_int|8
)paren
op_amp
l_int|0xFF
suffix:semicolon
id|P
op_assign
(paren
id|pll
op_rshift
l_int|16
)paren
op_amp
l_int|0x07
suffix:semicolon
r_if
c_cond
(paren
id|pll
op_amp
l_int|0x00000080
)paren
(brace
id|MB
op_assign
(paren
id|pll
op_rshift
l_int|4
)paren
op_amp
l_int|0x07
suffix:semicolon
id|NB
op_assign
(paren
id|pll
op_rshift
l_int|19
)paren
op_amp
l_int|0x1f
suffix:semicolon
)brace
r_else
(brace
id|MB
op_assign
l_int|1
suffix:semicolon
id|NB
op_assign
l_int|1
suffix:semicolon
)brace
op_star
id|MClk
op_assign
(paren
(paren
id|N
op_star
id|NB
op_star
id|par-&gt;CrystalFreqKHz
)paren
op_div
(paren
id|M
op_star
id|MB
)paren
)paren
op_rshift
id|P
suffix:semicolon
id|pll
op_assign
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMDAC0
comma
l_int|0x0500
)paren
suffix:semicolon
id|M
op_assign
id|pll
op_amp
l_int|0x0F
suffix:semicolon
id|N
op_assign
(paren
id|pll
op_rshift
l_int|8
)paren
op_amp
l_int|0xFF
suffix:semicolon
id|P
op_assign
(paren
id|pll
op_rshift
l_int|16
)paren
op_amp
l_int|0x07
suffix:semicolon
r_if
c_cond
(paren
id|pll
op_amp
l_int|0x00000080
)paren
(brace
id|MB
op_assign
(paren
id|pll
op_rshift
l_int|4
)paren
op_amp
l_int|0x07
suffix:semicolon
id|NB
op_assign
(paren
id|pll
op_rshift
l_int|19
)paren
op_amp
l_int|0x1f
suffix:semicolon
)brace
r_else
(brace
id|MB
op_assign
l_int|1
suffix:semicolon
id|NB
op_assign
l_int|1
suffix:semicolon
)brace
op_star
id|NVClk
op_assign
(paren
(paren
id|N
op_star
id|NB
op_star
id|par-&gt;CrystalFreqKHz
)paren
op_div
(paren
id|M
op_star
id|MB
)paren
)paren
op_rshift
id|P
suffix:semicolon
)brace
r_else
(brace
id|pll
op_assign
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMDAC0
comma
l_int|0x0504
)paren
suffix:semicolon
id|M
op_assign
id|pll
op_amp
l_int|0xFF
suffix:semicolon
id|N
op_assign
(paren
id|pll
op_rshift
l_int|8
)paren
op_amp
l_int|0xFF
suffix:semicolon
id|P
op_assign
(paren
id|pll
op_rshift
l_int|16
)paren
op_amp
l_int|0x0F
suffix:semicolon
op_star
id|MClk
op_assign
(paren
id|N
op_star
id|par-&gt;CrystalFreqKHz
op_div
id|M
)paren
op_rshift
id|P
suffix:semicolon
id|pll
op_assign
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMDAC0
comma
l_int|0x0500
)paren
suffix:semicolon
id|M
op_assign
id|pll
op_amp
l_int|0xFF
suffix:semicolon
id|N
op_assign
(paren
id|pll
op_rshift
l_int|8
)paren
op_amp
l_int|0xFF
suffix:semicolon
id|P
op_assign
(paren
id|pll
op_rshift
l_int|16
)paren
op_amp
l_int|0x0F
suffix:semicolon
op_star
id|NVClk
op_assign
(paren
id|N
op_star
id|par-&gt;CrystalFreqKHz
op_div
id|M
)paren
op_rshift
id|P
suffix:semicolon
)brace
)brace
DECL|function|nv4CalcArbitration
r_static
r_void
id|nv4CalcArbitration
c_func
(paren
id|nv4_fifo_info
op_star
id|fifo
comma
id|nv4_sim_state
op_star
id|arb
)paren
(brace
r_int
id|data
comma
id|pagemiss
comma
id|cas
comma
id|width
comma
id|video_enable
comma
id|bpp
suffix:semicolon
r_int
id|nvclks
comma
id|mclks
comma
id|pclks
comma
id|vpagemiss
comma
id|crtpagemiss
comma
id|vbs
suffix:semicolon
r_int
id|found
comma
id|mclk_extra
comma
id|mclk_loop
comma
id|cbs
comma
id|m1
comma
id|p1
suffix:semicolon
r_int
id|mclk_freq
comma
id|pclk_freq
comma
id|nvclk_freq
comma
id|mp_enable
suffix:semicolon
r_int
id|us_m
comma
id|us_n
comma
id|us_p
comma
id|video_drain_rate
comma
id|crtc_drain_rate
suffix:semicolon
r_int
id|vpm_us
comma
id|us_video
comma
id|vlwm
comma
id|video_fill_us
comma
id|cpm_us
comma
id|us_crt
comma
id|clwm
suffix:semicolon
id|fifo-&gt;valid
op_assign
l_int|1
suffix:semicolon
id|pclk_freq
op_assign
id|arb-&gt;pclk_khz
suffix:semicolon
id|mclk_freq
op_assign
id|arb-&gt;mclk_khz
suffix:semicolon
id|nvclk_freq
op_assign
id|arb-&gt;nvclk_khz
suffix:semicolon
id|pagemiss
op_assign
id|arb-&gt;mem_page_miss
suffix:semicolon
id|cas
op_assign
id|arb-&gt;mem_latency
suffix:semicolon
id|width
op_assign
id|arb-&gt;memory_width
op_rshift
l_int|6
suffix:semicolon
id|video_enable
op_assign
id|arb-&gt;enable_video
suffix:semicolon
id|bpp
op_assign
id|arb-&gt;pix_bpp
suffix:semicolon
id|mp_enable
op_assign
id|arb-&gt;enable_mp
suffix:semicolon
id|clwm
op_assign
l_int|0
suffix:semicolon
id|vlwm
op_assign
l_int|0
suffix:semicolon
id|cbs
op_assign
l_int|128
suffix:semicolon
id|pclks
op_assign
l_int|2
suffix:semicolon
id|nvclks
op_assign
l_int|2
suffix:semicolon
id|nvclks
op_add_assign
l_int|2
suffix:semicolon
id|nvclks
op_add_assign
l_int|1
suffix:semicolon
id|mclks
op_assign
l_int|5
suffix:semicolon
id|mclks
op_add_assign
l_int|3
suffix:semicolon
id|mclks
op_add_assign
l_int|1
suffix:semicolon
id|mclks
op_add_assign
id|cas
suffix:semicolon
id|mclks
op_add_assign
l_int|1
suffix:semicolon
id|mclks
op_add_assign
l_int|1
suffix:semicolon
id|mclks
op_add_assign
l_int|1
suffix:semicolon
id|mclks
op_add_assign
l_int|1
suffix:semicolon
id|mclk_extra
op_assign
l_int|3
suffix:semicolon
id|nvclks
op_add_assign
l_int|2
suffix:semicolon
id|nvclks
op_add_assign
l_int|1
suffix:semicolon
id|nvclks
op_add_assign
l_int|1
suffix:semicolon
id|nvclks
op_add_assign
l_int|1
suffix:semicolon
r_if
c_cond
(paren
id|mp_enable
)paren
id|mclks
op_add_assign
l_int|4
suffix:semicolon
id|nvclks
op_add_assign
l_int|0
suffix:semicolon
id|pclks
op_add_assign
l_int|0
suffix:semicolon
id|found
op_assign
l_int|0
suffix:semicolon
id|vbs
op_assign
l_int|0
suffix:semicolon
r_while
c_loop
(paren
id|found
op_ne
l_int|1
)paren
(brace
id|fifo-&gt;valid
op_assign
l_int|1
suffix:semicolon
id|found
op_assign
l_int|1
suffix:semicolon
id|mclk_loop
op_assign
id|mclks
op_plus
id|mclk_extra
suffix:semicolon
id|us_m
op_assign
id|mclk_loop
op_star
l_int|1000
op_star
l_int|1000
op_div
id|mclk_freq
suffix:semicolon
id|us_n
op_assign
id|nvclks
op_star
l_int|1000
op_star
l_int|1000
op_div
id|nvclk_freq
suffix:semicolon
id|us_p
op_assign
id|nvclks
op_star
l_int|1000
op_star
l_int|1000
op_div
id|pclk_freq
suffix:semicolon
r_if
c_cond
(paren
id|video_enable
)paren
(brace
id|video_drain_rate
op_assign
id|pclk_freq
op_star
l_int|2
suffix:semicolon
id|crtc_drain_rate
op_assign
id|pclk_freq
op_star
id|bpp
op_div
l_int|8
suffix:semicolon
id|vpagemiss
op_assign
l_int|2
suffix:semicolon
id|vpagemiss
op_add_assign
l_int|1
suffix:semicolon
id|crtpagemiss
op_assign
l_int|2
suffix:semicolon
id|vpm_us
op_assign
(paren
id|vpagemiss
op_star
id|pagemiss
)paren
op_star
l_int|1000
op_star
l_int|1000
op_div
id|mclk_freq
suffix:semicolon
r_if
c_cond
(paren
id|nvclk_freq
op_star
l_int|2
OG
id|mclk_freq
op_star
id|width
)paren
id|video_fill_us
op_assign
id|cbs
op_star
l_int|1000
op_star
l_int|1000
op_div
l_int|16
op_div
id|nvclk_freq
suffix:semicolon
r_else
id|video_fill_us
op_assign
id|cbs
op_star
l_int|1000
op_star
l_int|1000
op_div
(paren
l_int|8
op_star
id|width
)paren
op_div
id|mclk_freq
suffix:semicolon
id|us_video
op_assign
id|vpm_us
op_plus
id|us_m
op_plus
id|us_n
op_plus
id|us_p
op_plus
id|video_fill_us
suffix:semicolon
id|vlwm
op_assign
id|us_video
op_star
id|video_drain_rate
op_div
(paren
l_int|1000
op_star
l_int|1000
)paren
suffix:semicolon
id|vlwm
op_increment
suffix:semicolon
id|vbs
op_assign
l_int|128
suffix:semicolon
r_if
c_cond
(paren
id|vlwm
OG
l_int|128
)paren
id|vbs
op_assign
l_int|64
suffix:semicolon
r_if
c_cond
(paren
id|vlwm
OG
(paren
l_int|256
op_minus
l_int|64
)paren
)paren
id|vbs
op_assign
l_int|32
suffix:semicolon
r_if
c_cond
(paren
id|nvclk_freq
op_star
l_int|2
OG
id|mclk_freq
op_star
id|width
)paren
id|video_fill_us
op_assign
id|vbs
op_star
l_int|1000
op_star
l_int|1000
op_div
l_int|16
op_div
id|nvclk_freq
suffix:semicolon
r_else
id|video_fill_us
op_assign
id|vbs
op_star
l_int|1000
op_star
l_int|1000
op_div
(paren
l_int|8
op_star
id|width
)paren
op_div
id|mclk_freq
suffix:semicolon
id|cpm_us
op_assign
id|crtpagemiss
op_star
id|pagemiss
op_star
l_int|1000
op_star
l_int|1000
op_div
id|mclk_freq
suffix:semicolon
id|us_crt
op_assign
id|us_video
op_plus
id|video_fill_us
op_plus
id|cpm_us
op_plus
id|us_m
op_plus
id|us_n
op_plus
id|us_p
suffix:semicolon
id|clwm
op_assign
id|us_crt
op_star
id|crtc_drain_rate
op_div
(paren
l_int|1000
op_star
l_int|1000
)paren
suffix:semicolon
id|clwm
op_increment
suffix:semicolon
)brace
r_else
(brace
id|crtc_drain_rate
op_assign
id|pclk_freq
op_star
id|bpp
op_div
l_int|8
suffix:semicolon
id|crtpagemiss
op_assign
l_int|2
suffix:semicolon
id|crtpagemiss
op_add_assign
l_int|1
suffix:semicolon
id|cpm_us
op_assign
id|crtpagemiss
op_star
id|pagemiss
op_star
l_int|1000
op_star
l_int|1000
op_div
id|mclk_freq
suffix:semicolon
id|us_crt
op_assign
id|cpm_us
op_plus
id|us_m
op_plus
id|us_n
op_plus
id|us_p
suffix:semicolon
id|clwm
op_assign
id|us_crt
op_star
id|crtc_drain_rate
op_div
(paren
l_int|1000
op_star
l_int|1000
)paren
suffix:semicolon
id|clwm
op_increment
suffix:semicolon
)brace
id|m1
op_assign
id|clwm
op_plus
id|cbs
op_minus
l_int|512
suffix:semicolon
id|p1
op_assign
id|m1
op_star
id|pclk_freq
op_div
id|mclk_freq
suffix:semicolon
id|p1
op_assign
id|p1
op_star
id|bpp
op_div
l_int|8
suffix:semicolon
r_if
c_cond
(paren
(paren
id|p1
OL
id|m1
)paren
op_logical_and
(paren
id|m1
OG
l_int|0
)paren
)paren
(brace
id|fifo-&gt;valid
op_assign
l_int|0
suffix:semicolon
id|found
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|mclk_extra
op_eq
l_int|0
)paren
id|found
op_assign
l_int|1
suffix:semicolon
id|mclk_extra
op_decrement
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|video_enable
)paren
(brace
r_if
c_cond
(paren
(paren
id|clwm
OG
l_int|511
)paren
op_logical_or
(paren
id|vlwm
OG
l_int|255
)paren
)paren
(brace
id|fifo-&gt;valid
op_assign
l_int|0
suffix:semicolon
id|found
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|mclk_extra
op_eq
l_int|0
)paren
id|found
op_assign
l_int|1
suffix:semicolon
id|mclk_extra
op_decrement
suffix:semicolon
)brace
)brace
r_else
(brace
r_if
c_cond
(paren
id|clwm
OG
l_int|519
)paren
(brace
id|fifo-&gt;valid
op_assign
l_int|0
suffix:semicolon
id|found
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|mclk_extra
op_eq
l_int|0
)paren
id|found
op_assign
l_int|1
suffix:semicolon
id|mclk_extra
op_decrement
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
id|clwm
OL
l_int|384
)paren
id|clwm
op_assign
l_int|384
suffix:semicolon
r_if
c_cond
(paren
id|vlwm
OL
l_int|128
)paren
id|vlwm
op_assign
l_int|128
suffix:semicolon
id|data
op_assign
(paren
r_int
)paren
(paren
id|clwm
)paren
suffix:semicolon
id|fifo-&gt;graphics_lwm
op_assign
id|data
suffix:semicolon
id|fifo-&gt;graphics_burst_size
op_assign
l_int|128
suffix:semicolon
id|data
op_assign
(paren
r_int
)paren
(paren
(paren
id|vlwm
op_plus
l_int|15
)paren
)paren
suffix:semicolon
id|fifo-&gt;video_lwm
op_assign
id|data
suffix:semicolon
id|fifo-&gt;video_burst_size
op_assign
id|vbs
suffix:semicolon
)brace
)brace
DECL|function|nv4UpdateArbitrationSettings
r_static
r_void
id|nv4UpdateArbitrationSettings
c_func
(paren
r_int
id|VClk
comma
r_int
id|pixelDepth
comma
r_int
op_star
id|burst
comma
r_int
op_star
id|lwm
comma
r_struct
id|nvidia_par
op_star
id|par
)paren
(brace
id|nv4_fifo_info
id|fifo_data
suffix:semicolon
id|nv4_sim_state
id|sim_data
suffix:semicolon
r_int
r_int
id|MClk
comma
id|NVClk
comma
id|cfg1
suffix:semicolon
id|nvGetClocks
c_func
(paren
id|par
comma
op_amp
id|MClk
comma
op_amp
id|NVClk
)paren
suffix:semicolon
id|cfg1
op_assign
id|NV_RD32
c_func
(paren
id|par-&gt;PFB
comma
l_int|0x00000204
)paren
suffix:semicolon
id|sim_data.pix_bpp
op_assign
(paren
r_char
)paren
id|pixelDepth
suffix:semicolon
id|sim_data.enable_video
op_assign
l_int|0
suffix:semicolon
id|sim_data.enable_mp
op_assign
l_int|0
suffix:semicolon
id|sim_data.memory_width
op_assign
(paren
id|NV_RD32
c_func
(paren
id|par-&gt;PEXTDEV
comma
l_int|0x0000
)paren
op_amp
l_int|0x10
)paren
ques
c_cond
l_int|128
suffix:colon
l_int|64
suffix:semicolon
id|sim_data.mem_latency
op_assign
(paren
r_char
)paren
id|cfg1
op_amp
l_int|0x0F
suffix:semicolon
id|sim_data.mem_aligned
op_assign
l_int|1
suffix:semicolon
id|sim_data.mem_page_miss
op_assign
(paren
r_char
)paren
(paren
(paren
(paren
id|cfg1
op_rshift
l_int|4
)paren
op_amp
l_int|0x0F
)paren
op_plus
(paren
(paren
id|cfg1
op_rshift
l_int|31
)paren
op_amp
l_int|0x01
)paren
)paren
suffix:semicolon
id|sim_data.gr_during_vid
op_assign
l_int|0
suffix:semicolon
id|sim_data.pclk_khz
op_assign
id|VClk
suffix:semicolon
id|sim_data.mclk_khz
op_assign
id|MClk
suffix:semicolon
id|sim_data.nvclk_khz
op_assign
id|NVClk
suffix:semicolon
id|nv4CalcArbitration
c_func
(paren
op_amp
id|fifo_data
comma
op_amp
id|sim_data
)paren
suffix:semicolon
r_if
c_cond
(paren
id|fifo_data.valid
)paren
(brace
r_int
id|b
op_assign
id|fifo_data.graphics_burst_size
op_rshift
l_int|4
suffix:semicolon
op_star
id|burst
op_assign
l_int|0
suffix:semicolon
r_while
c_loop
(paren
id|b
op_rshift_assign
l_int|1
)paren
(paren
op_star
id|burst
)paren
op_increment
suffix:semicolon
op_star
id|lwm
op_assign
id|fifo_data.graphics_lwm
op_rshift
l_int|3
suffix:semicolon
)brace
)brace
DECL|function|nv10CalcArbitration
r_static
r_void
id|nv10CalcArbitration
c_func
(paren
id|nv10_fifo_info
op_star
id|fifo
comma
id|nv10_sim_state
op_star
id|arb
)paren
(brace
r_int
id|data
comma
id|pagemiss
comma
id|width
comma
id|video_enable
comma
id|bpp
suffix:semicolon
r_int
id|nvclks
comma
id|mclks
comma
id|pclks
comma
id|vpagemiss
comma
id|crtpagemiss
suffix:semicolon
r_int
id|nvclk_fill
suffix:semicolon
r_int
id|found
comma
id|mclk_extra
comma
id|mclk_loop
comma
id|cbs
comma
id|m1
suffix:semicolon
r_int
id|mclk_freq
comma
id|pclk_freq
comma
id|nvclk_freq
comma
id|mp_enable
suffix:semicolon
r_int
id|us_m
comma
id|us_m_min
comma
id|us_n
comma
id|us_p
comma
id|crtc_drain_rate
suffix:semicolon
r_int
id|vus_m
suffix:semicolon
r_int
id|vpm_us
comma
id|us_video
comma
id|cpm_us
comma
id|us_crt
comma
id|clwm
suffix:semicolon
r_int
id|clwm_rnd_down
suffix:semicolon
r_int
id|m2us
comma
id|us_pipe_min
comma
id|p1clk
comma
id|p2
suffix:semicolon
r_int
id|min_mclk_extra
suffix:semicolon
r_int
id|us_min_mclk_extra
suffix:semicolon
id|fifo-&gt;valid
op_assign
l_int|1
suffix:semicolon
id|pclk_freq
op_assign
id|arb-&gt;pclk_khz
suffix:semicolon
multiline_comment|/* freq in KHz */
id|mclk_freq
op_assign
id|arb-&gt;mclk_khz
suffix:semicolon
id|nvclk_freq
op_assign
id|arb-&gt;nvclk_khz
suffix:semicolon
id|pagemiss
op_assign
id|arb-&gt;mem_page_miss
suffix:semicolon
id|width
op_assign
id|arb-&gt;memory_width
op_div
l_int|64
suffix:semicolon
id|video_enable
op_assign
id|arb-&gt;enable_video
suffix:semicolon
id|bpp
op_assign
id|arb-&gt;pix_bpp
suffix:semicolon
id|mp_enable
op_assign
id|arb-&gt;enable_mp
suffix:semicolon
id|clwm
op_assign
l_int|0
suffix:semicolon
id|cbs
op_assign
l_int|512
suffix:semicolon
id|pclks
op_assign
l_int|4
suffix:semicolon
multiline_comment|/* lwm detect. */
id|nvclks
op_assign
l_int|3
suffix:semicolon
multiline_comment|/* lwm -&gt; sync. */
id|nvclks
op_add_assign
l_int|2
suffix:semicolon
multiline_comment|/* fbi bus cycles (1 req + 1 busy) */
multiline_comment|/* 2 edge sync.  may be very close to edge so just put one. */
id|mclks
op_assign
l_int|1
suffix:semicolon
id|mclks
op_add_assign
l_int|1
suffix:semicolon
multiline_comment|/* arb_hp_req */
id|mclks
op_add_assign
l_int|5
suffix:semicolon
multiline_comment|/* ap_hp_req   tiling pipeline */
id|mclks
op_add_assign
l_int|2
suffix:semicolon
multiline_comment|/* tc_req     latency fifo */
id|mclks
op_add_assign
l_int|2
suffix:semicolon
multiline_comment|/* fb_cas_n_  memory request to fbio block */
id|mclks
op_add_assign
l_int|7
suffix:semicolon
multiline_comment|/* sm_d_rdv   data returned from fbio block */
multiline_comment|/* fb.rd.d.Put_gc   need to accumulate 256 bits for read */
r_if
c_cond
(paren
id|arb-&gt;memory_type
op_eq
l_int|0
)paren
r_if
c_cond
(paren
id|arb-&gt;memory_width
op_eq
l_int|64
)paren
multiline_comment|/* 64 bit bus */
id|mclks
op_add_assign
l_int|4
suffix:semicolon
r_else
id|mclks
op_add_assign
l_int|2
suffix:semicolon
r_else
r_if
c_cond
(paren
id|arb-&gt;memory_width
op_eq
l_int|64
)paren
multiline_comment|/* 64 bit bus */
id|mclks
op_add_assign
l_int|2
suffix:semicolon
r_else
id|mclks
op_add_assign
l_int|1
suffix:semicolon
r_if
c_cond
(paren
(paren
op_logical_neg
id|video_enable
)paren
op_logical_and
(paren
id|arb-&gt;memory_width
op_eq
l_int|128
)paren
)paren
(brace
id|mclk_extra
op_assign
(paren
id|bpp
op_eq
l_int|32
)paren
ques
c_cond
l_int|31
suffix:colon
l_int|42
suffix:semicolon
multiline_comment|/* Margin of error */
id|min_mclk_extra
op_assign
l_int|17
suffix:semicolon
)brace
r_else
(brace
id|mclk_extra
op_assign
(paren
id|bpp
op_eq
l_int|32
)paren
ques
c_cond
l_int|8
suffix:colon
l_int|4
suffix:semicolon
multiline_comment|/* Margin of error */
multiline_comment|/* mclk_extra = 4; */
multiline_comment|/* Margin of error */
id|min_mclk_extra
op_assign
l_int|18
suffix:semicolon
)brace
multiline_comment|/* 2 edge sync.  may be very close to edge so just put one. */
id|nvclks
op_add_assign
l_int|1
suffix:semicolon
id|nvclks
op_add_assign
l_int|1
suffix:semicolon
multiline_comment|/* fbi_d_rdv_n */
id|nvclks
op_add_assign
l_int|1
suffix:semicolon
multiline_comment|/* Fbi_d_rdata */
id|nvclks
op_add_assign
l_int|1
suffix:semicolon
multiline_comment|/* crtfifo load */
r_if
c_cond
(paren
id|mp_enable
)paren
id|mclks
op_add_assign
l_int|4
suffix:semicolon
multiline_comment|/* Mp can get in with a burst of 8. */
multiline_comment|/* Extra clocks determined by heuristics */
id|nvclks
op_add_assign
l_int|0
suffix:semicolon
id|pclks
op_add_assign
l_int|0
suffix:semicolon
id|found
op_assign
l_int|0
suffix:semicolon
r_while
c_loop
(paren
id|found
op_ne
l_int|1
)paren
(brace
id|fifo-&gt;valid
op_assign
l_int|1
suffix:semicolon
id|found
op_assign
l_int|1
suffix:semicolon
id|mclk_loop
op_assign
id|mclks
op_plus
id|mclk_extra
suffix:semicolon
multiline_comment|/* Mclk latency in us */
id|us_m
op_assign
id|mclk_loop
op_star
l_int|1000
op_star
l_int|1000
op_div
id|mclk_freq
suffix:semicolon
multiline_comment|/* Minimum Mclk latency in us */
id|us_m_min
op_assign
id|mclks
op_star
l_int|1000
op_star
l_int|1000
op_div
id|mclk_freq
suffix:semicolon
id|us_min_mclk_extra
op_assign
id|min_mclk_extra
op_star
l_int|1000
op_star
l_int|1000
op_div
id|mclk_freq
suffix:semicolon
multiline_comment|/* nvclk latency in us */
id|us_n
op_assign
id|nvclks
op_star
l_int|1000
op_star
l_int|1000
op_div
id|nvclk_freq
suffix:semicolon
multiline_comment|/* nvclk latency in us */
id|us_p
op_assign
id|pclks
op_star
l_int|1000
op_star
l_int|1000
op_div
id|pclk_freq
suffix:semicolon
id|us_pipe_min
op_assign
id|us_m_min
op_plus
id|us_n
op_plus
id|us_p
suffix:semicolon
multiline_comment|/* Mclk latency in us */
id|vus_m
op_assign
id|mclk_loop
op_star
l_int|1000
op_star
l_int|1000
op_div
id|mclk_freq
suffix:semicolon
r_if
c_cond
(paren
id|video_enable
)paren
(brace
id|crtc_drain_rate
op_assign
id|pclk_freq
op_star
id|bpp
op_div
l_int|8
suffix:semicolon
multiline_comment|/* MB/s */
id|vpagemiss
op_assign
l_int|1
suffix:semicolon
multiline_comment|/* self generating page miss */
id|vpagemiss
op_add_assign
l_int|1
suffix:semicolon
multiline_comment|/* One higher priority before */
id|crtpagemiss
op_assign
l_int|2
suffix:semicolon
multiline_comment|/* self generating page miss */
r_if
c_cond
(paren
id|mp_enable
)paren
id|crtpagemiss
op_add_assign
l_int|1
suffix:semicolon
multiline_comment|/* if MA0 conflict */
id|vpm_us
op_assign
(paren
id|vpagemiss
op_star
id|pagemiss
)paren
op_star
l_int|1000
op_star
l_int|1000
op_div
id|mclk_freq
suffix:semicolon
multiline_comment|/* Video has separate read return path */
id|us_video
op_assign
id|vpm_us
op_plus
id|vus_m
suffix:semicolon
id|cpm_us
op_assign
id|crtpagemiss
op_star
id|pagemiss
op_star
l_int|1000
op_star
l_int|1000
op_div
id|mclk_freq
suffix:semicolon
multiline_comment|/* Wait for video */
id|us_crt
op_assign
id|us_video
op_plus
id|cpm_us
multiline_comment|/* CRT Page miss */
op_plus
id|us_m
op_plus
id|us_n
op_plus
id|us_p
multiline_comment|/* other latency */
suffix:semicolon
id|clwm
op_assign
id|us_crt
op_star
id|crtc_drain_rate
op_div
(paren
l_int|1000
op_star
l_int|1000
)paren
suffix:semicolon
multiline_comment|/* fixed point &lt;= float_point - 1.  Fixes that */
id|clwm
op_increment
suffix:semicolon
)brace
r_else
(brace
multiline_comment|/* bpp * pclk/8 */
id|crtc_drain_rate
op_assign
id|pclk_freq
op_star
id|bpp
op_div
l_int|8
suffix:semicolon
id|crtpagemiss
op_assign
l_int|1
suffix:semicolon
multiline_comment|/* self generating page miss */
id|crtpagemiss
op_add_assign
l_int|1
suffix:semicolon
multiline_comment|/* MA0 page miss */
r_if
c_cond
(paren
id|mp_enable
)paren
id|crtpagemiss
op_add_assign
l_int|1
suffix:semicolon
multiline_comment|/* if MA0 conflict */
id|cpm_us
op_assign
id|crtpagemiss
op_star
id|pagemiss
op_star
l_int|1000
op_star
l_int|1000
op_div
id|mclk_freq
suffix:semicolon
id|us_crt
op_assign
id|cpm_us
op_plus
id|us_m
op_plus
id|us_n
op_plus
id|us_p
suffix:semicolon
id|clwm
op_assign
id|us_crt
op_star
id|crtc_drain_rate
op_div
(paren
l_int|1000
op_star
l_int|1000
)paren
suffix:semicolon
multiline_comment|/* fixed point &lt;= float_point - 1.  Fixes that */
id|clwm
op_increment
suffix:semicolon
multiline_comment|/* Finally, a heuristic check when width == 64 bits */
r_if
c_cond
(paren
id|width
op_eq
l_int|1
)paren
(brace
id|nvclk_fill
op_assign
id|nvclk_freq
op_star
l_int|8
suffix:semicolon
r_if
c_cond
(paren
id|crtc_drain_rate
op_star
l_int|100
op_ge
id|nvclk_fill
op_star
l_int|102
)paren
multiline_comment|/*Large number to fail */
id|clwm
op_assign
l_int|0xfff
suffix:semicolon
r_else
r_if
c_cond
(paren
id|crtc_drain_rate
op_star
l_int|100
op_ge
id|nvclk_fill
op_star
l_int|98
)paren
(brace
id|clwm
op_assign
l_int|1024
suffix:semicolon
id|cbs
op_assign
l_int|512
suffix:semicolon
)brace
)brace
)brace
multiline_comment|/*&n;&t;&t;   Overfill check:&n;&t;&t; */
id|clwm_rnd_down
op_assign
(paren
(paren
r_int
)paren
id|clwm
op_div
l_int|8
)paren
op_star
l_int|8
suffix:semicolon
r_if
c_cond
(paren
id|clwm_rnd_down
OL
id|clwm
)paren
id|clwm
op_add_assign
l_int|8
suffix:semicolon
id|m1
op_assign
id|clwm
op_plus
id|cbs
op_minus
l_int|1024
suffix:semicolon
multiline_comment|/* Amount of overfill */
id|m2us
op_assign
id|us_pipe_min
op_plus
id|us_min_mclk_extra
suffix:semicolon
multiline_comment|/* pclk cycles to drain */
id|p1clk
op_assign
id|m2us
op_star
id|pclk_freq
op_div
(paren
l_int|1000
op_star
l_int|1000
)paren
suffix:semicolon
id|p2
op_assign
id|p1clk
op_star
id|bpp
op_div
l_int|8
suffix:semicolon
multiline_comment|/* bytes drained. */
r_if
c_cond
(paren
(paren
id|p2
OL
id|m1
)paren
op_logical_and
(paren
id|m1
OG
l_int|0
)paren
)paren
(brace
id|fifo-&gt;valid
op_assign
l_int|0
suffix:semicolon
id|found
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|min_mclk_extra
op_eq
l_int|0
)paren
(brace
r_if
c_cond
(paren
id|cbs
op_le
l_int|32
)paren
(brace
multiline_comment|/* Can&squot;t adjust anymore! */
id|found
op_assign
l_int|1
suffix:semicolon
)brace
r_else
(brace
multiline_comment|/* reduce the burst size */
id|cbs
op_assign
id|cbs
op_div
l_int|2
suffix:semicolon
)brace
)brace
r_else
(brace
id|min_mclk_extra
op_decrement
suffix:semicolon
)brace
)brace
r_else
(brace
r_if
c_cond
(paren
id|clwm
OG
l_int|1023
)paren
(brace
multiline_comment|/* Have some margin */
id|fifo-&gt;valid
op_assign
l_int|0
suffix:semicolon
id|found
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|min_mclk_extra
op_eq
l_int|0
)paren
multiline_comment|/* Can&squot;t adjust anymore! */
id|found
op_assign
l_int|1
suffix:semicolon
r_else
id|min_mclk_extra
op_decrement
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
id|clwm
OL
(paren
l_int|1024
op_minus
id|cbs
op_plus
l_int|8
)paren
)paren
id|clwm
op_assign
l_int|1024
op_minus
id|cbs
op_plus
l_int|8
suffix:semicolon
id|data
op_assign
(paren
r_int
)paren
(paren
id|clwm
)paren
suffix:semicolon
multiline_comment|/*  printf(&quot;CRT LWM: %f bytes, prog: 0x%x, bs: 256&bslash;n&quot;,&n;&t;&t;    clwm, data ); */
id|fifo-&gt;graphics_lwm
op_assign
id|data
suffix:semicolon
id|fifo-&gt;graphics_burst_size
op_assign
id|cbs
suffix:semicolon
id|fifo-&gt;video_lwm
op_assign
l_int|1024
suffix:semicolon
id|fifo-&gt;video_burst_size
op_assign
l_int|512
suffix:semicolon
)brace
)brace
DECL|function|nv10UpdateArbitrationSettings
r_static
r_void
id|nv10UpdateArbitrationSettings
c_func
(paren
r_int
id|VClk
comma
r_int
id|pixelDepth
comma
r_int
op_star
id|burst
comma
r_int
op_star
id|lwm
comma
r_struct
id|nvidia_par
op_star
id|par
)paren
(brace
id|nv10_fifo_info
id|fifo_data
suffix:semicolon
id|nv10_sim_state
id|sim_data
suffix:semicolon
r_int
r_int
id|MClk
comma
id|NVClk
comma
id|cfg1
suffix:semicolon
id|nvGetClocks
c_func
(paren
id|par
comma
op_amp
id|MClk
comma
op_amp
id|NVClk
)paren
suffix:semicolon
id|cfg1
op_assign
id|NV_RD32
c_func
(paren
id|par-&gt;PFB
comma
l_int|0x0204
)paren
suffix:semicolon
id|sim_data.pix_bpp
op_assign
(paren
r_char
)paren
id|pixelDepth
suffix:semicolon
id|sim_data.enable_video
op_assign
l_int|1
suffix:semicolon
id|sim_data.enable_mp
op_assign
l_int|0
suffix:semicolon
id|sim_data.memory_type
op_assign
(paren
id|NV_RD32
c_func
(paren
id|par-&gt;PFB
comma
l_int|0x0200
)paren
op_amp
l_int|0x01
)paren
ques
c_cond
l_int|1
suffix:colon
l_int|0
suffix:semicolon
id|sim_data.memory_width
op_assign
(paren
id|NV_RD32
c_func
(paren
id|par-&gt;PEXTDEV
comma
l_int|0x0000
)paren
op_amp
l_int|0x10
)paren
ques
c_cond
l_int|128
suffix:colon
l_int|64
suffix:semicolon
id|sim_data.mem_latency
op_assign
(paren
r_char
)paren
id|cfg1
op_amp
l_int|0x0F
suffix:semicolon
id|sim_data.mem_aligned
op_assign
l_int|1
suffix:semicolon
id|sim_data.mem_page_miss
op_assign
(paren
r_char
)paren
(paren
(paren
(paren
id|cfg1
op_rshift
l_int|4
)paren
op_amp
l_int|0x0F
)paren
op_plus
(paren
(paren
id|cfg1
op_rshift
l_int|31
)paren
op_amp
l_int|0x01
)paren
)paren
suffix:semicolon
id|sim_data.gr_during_vid
op_assign
l_int|0
suffix:semicolon
id|sim_data.pclk_khz
op_assign
id|VClk
suffix:semicolon
id|sim_data.mclk_khz
op_assign
id|MClk
suffix:semicolon
id|sim_data.nvclk_khz
op_assign
id|NVClk
suffix:semicolon
id|nv10CalcArbitration
c_func
(paren
op_amp
id|fifo_data
comma
op_amp
id|sim_data
)paren
suffix:semicolon
r_if
c_cond
(paren
id|fifo_data.valid
)paren
(brace
r_int
id|b
op_assign
id|fifo_data.graphics_burst_size
op_rshift
l_int|4
suffix:semicolon
op_star
id|burst
op_assign
l_int|0
suffix:semicolon
r_while
c_loop
(paren
id|b
op_rshift_assign
l_int|1
)paren
(paren
op_star
id|burst
)paren
op_increment
suffix:semicolon
op_star
id|lwm
op_assign
id|fifo_data.graphics_lwm
op_rshift
l_int|3
suffix:semicolon
)brace
)brace
DECL|function|nv30UpdateArbitrationSettings
r_static
r_void
id|nv30UpdateArbitrationSettings
(paren
r_struct
id|nvidia_par
op_star
id|par
comma
r_int
r_int
op_star
id|burst
comma
r_int
r_int
op_star
id|lwm
)paren
(brace
r_int
r_int
id|MClk
comma
id|NVClk
suffix:semicolon
r_int
r_int
id|fifo_size
comma
id|burst_size
comma
id|graphics_lwm
suffix:semicolon
id|fifo_size
op_assign
l_int|2048
suffix:semicolon
id|burst_size
op_assign
l_int|512
suffix:semicolon
id|graphics_lwm
op_assign
id|fifo_size
op_minus
id|burst_size
suffix:semicolon
id|nvGetClocks
c_func
(paren
id|par
comma
op_amp
id|MClk
comma
op_amp
id|NVClk
)paren
suffix:semicolon
op_star
id|burst
op_assign
l_int|0
suffix:semicolon
id|burst_size
op_rshift_assign
l_int|5
suffix:semicolon
r_while
c_loop
(paren
id|burst_size
op_rshift_assign
l_int|1
)paren
(brace
(paren
op_star
id|burst
)paren
op_increment
suffix:semicolon
)brace
op_star
id|lwm
op_assign
id|graphics_lwm
op_rshift
l_int|3
suffix:semicolon
)brace
DECL|function|nForceUpdateArbitrationSettings
r_static
r_void
id|nForceUpdateArbitrationSettings
c_func
(paren
r_int
id|VClk
comma
r_int
id|pixelDepth
comma
r_int
op_star
id|burst
comma
r_int
op_star
id|lwm
comma
r_struct
id|nvidia_par
op_star
id|par
)paren
(brace
id|nv10_fifo_info
id|fifo_data
suffix:semicolon
id|nv10_sim_state
id|sim_data
suffix:semicolon
r_int
r_int
id|M
comma
id|N
comma
id|P
comma
id|pll
comma
id|MClk
comma
id|NVClk
comma
id|memctrl
suffix:semicolon
r_struct
id|pci_dev
op_star
id|dev
suffix:semicolon
r_if
c_cond
(paren
(paren
id|par-&gt;Chipset
op_amp
l_int|0x0FF0
)paren
op_eq
l_int|0x01A0
)paren
(brace
r_int
r_int
id|uMClkPostDiv
suffix:semicolon
id|dev
op_assign
id|pci_find_slot
c_func
(paren
l_int|0
comma
l_int|3
)paren
suffix:semicolon
id|pci_read_config_dword
c_func
(paren
id|dev
comma
l_int|0x6C
comma
op_amp
id|uMClkPostDiv
)paren
suffix:semicolon
id|uMClkPostDiv
op_assign
(paren
id|uMClkPostDiv
op_rshift
l_int|8
)paren
op_amp
l_int|0xf
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|uMClkPostDiv
)paren
id|uMClkPostDiv
op_assign
l_int|4
suffix:semicolon
id|MClk
op_assign
l_int|400000
op_div
id|uMClkPostDiv
suffix:semicolon
)brace
r_else
(brace
id|dev
op_assign
id|pci_find_slot
c_func
(paren
l_int|0
comma
l_int|5
)paren
suffix:semicolon
id|pci_read_config_dword
c_func
(paren
id|dev
comma
l_int|0x4c
comma
op_amp
id|MClk
)paren
suffix:semicolon
id|MClk
op_div_assign
l_int|1000
suffix:semicolon
)brace
id|pll
op_assign
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMDAC0
comma
l_int|0x0500
)paren
suffix:semicolon
id|M
op_assign
(paren
id|pll
op_rshift
l_int|0
)paren
op_amp
l_int|0xFF
suffix:semicolon
id|N
op_assign
(paren
id|pll
op_rshift
l_int|8
)paren
op_amp
l_int|0xFF
suffix:semicolon
id|P
op_assign
(paren
id|pll
op_rshift
l_int|16
)paren
op_amp
l_int|0x0F
suffix:semicolon
id|NVClk
op_assign
(paren
id|N
op_star
id|par-&gt;CrystalFreqKHz
op_div
id|M
)paren
op_rshift
id|P
suffix:semicolon
id|sim_data.pix_bpp
op_assign
(paren
r_char
)paren
id|pixelDepth
suffix:semicolon
id|sim_data.enable_video
op_assign
l_int|0
suffix:semicolon
id|sim_data.enable_mp
op_assign
l_int|0
suffix:semicolon
id|pci_find_slot
c_func
(paren
l_int|0
comma
l_int|1
)paren
suffix:semicolon
id|pci_read_config_dword
c_func
(paren
id|dev
comma
l_int|0x7C
comma
op_amp
id|sim_data.memory_type
)paren
suffix:semicolon
id|sim_data.memory_type
op_assign
(paren
id|sim_data.memory_type
op_rshift
l_int|12
)paren
op_amp
l_int|1
suffix:semicolon
id|sim_data.memory_width
op_assign
l_int|64
suffix:semicolon
id|dev
op_assign
id|pci_find_slot
c_func
(paren
l_int|0
comma
l_int|3
)paren
suffix:semicolon
id|pci_read_config_dword
c_func
(paren
id|dev
comma
l_int|0
comma
op_amp
id|memctrl
)paren
suffix:semicolon
id|memctrl
op_rshift_assign
l_int|16
suffix:semicolon
r_if
c_cond
(paren
(paren
id|memctrl
op_eq
l_int|0x1A9
)paren
op_logical_or
(paren
id|memctrl
op_eq
l_int|0x1AB
)paren
op_logical_or
(paren
id|memctrl
op_eq
l_int|0x1ED
)paren
)paren
(brace
r_int
id|dimm
(braket
l_int|3
)braket
suffix:semicolon
id|pci_find_slot
c_func
(paren
l_int|0
comma
l_int|2
)paren
suffix:semicolon
id|pci_read_config_dword
c_func
(paren
id|dev
comma
l_int|0x40
comma
op_amp
id|dimm
(braket
l_int|0
)braket
)paren
suffix:semicolon
id|dimm
(braket
l_int|0
)braket
op_assign
(paren
id|dimm
(braket
l_int|0
)braket
op_rshift
l_int|8
)paren
op_amp
l_int|0x4f
suffix:semicolon
id|pci_read_config_dword
c_func
(paren
id|dev
comma
l_int|0x44
comma
op_amp
id|dimm
(braket
l_int|1
)braket
)paren
suffix:semicolon
id|dimm
(braket
l_int|1
)braket
op_assign
(paren
id|dimm
(braket
l_int|1
)braket
op_rshift
l_int|8
)paren
op_amp
l_int|0x4f
suffix:semicolon
id|pci_read_config_dword
c_func
(paren
id|dev
comma
l_int|0x48
comma
op_amp
id|dimm
(braket
l_int|2
)braket
)paren
suffix:semicolon
id|dimm
(braket
l_int|2
)braket
op_assign
(paren
id|dimm
(braket
l_int|2
)braket
op_rshift
l_int|8
)paren
op_amp
l_int|0x4f
suffix:semicolon
r_if
c_cond
(paren
(paren
id|dimm
(braket
l_int|0
)braket
op_plus
id|dimm
(braket
l_int|1
)braket
)paren
op_ne
id|dimm
(braket
l_int|2
)braket
)paren
(brace
id|printk
c_func
(paren
l_string|&quot;nvidiafb: your nForce DIMMs are not arranged &quot;
l_string|&quot;in optimal banks!&bslash;n&quot;
)paren
suffix:semicolon
)brace
)brace
id|sim_data.mem_latency
op_assign
l_int|3
suffix:semicolon
id|sim_data.mem_aligned
op_assign
l_int|1
suffix:semicolon
id|sim_data.mem_page_miss
op_assign
l_int|10
suffix:semicolon
id|sim_data.gr_during_vid
op_assign
l_int|0
suffix:semicolon
id|sim_data.pclk_khz
op_assign
id|VClk
suffix:semicolon
id|sim_data.mclk_khz
op_assign
id|MClk
suffix:semicolon
id|sim_data.nvclk_khz
op_assign
id|NVClk
suffix:semicolon
id|nv10CalcArbitration
c_func
(paren
op_amp
id|fifo_data
comma
op_amp
id|sim_data
)paren
suffix:semicolon
r_if
c_cond
(paren
id|fifo_data.valid
)paren
(brace
r_int
id|b
op_assign
id|fifo_data.graphics_burst_size
op_rshift
l_int|4
suffix:semicolon
op_star
id|burst
op_assign
l_int|0
suffix:semicolon
r_while
c_loop
(paren
id|b
op_rshift_assign
l_int|1
)paren
(paren
op_star
id|burst
)paren
op_increment
suffix:semicolon
op_star
id|lwm
op_assign
id|fifo_data.graphics_lwm
op_rshift
l_int|3
suffix:semicolon
)brace
)brace
multiline_comment|/****************************************************************************&bslash;&n;*                                                                            *&n;*                          RIVA Mode State Routines                          *&n;*                                                                            *&n;&bslash;****************************************************************************/
multiline_comment|/*&n; * Calculate the Video Clock parameters for the PLL.&n; */
DECL|function|CalcVClock
r_static
r_void
id|CalcVClock
c_func
(paren
r_int
id|clockIn
comma
r_int
op_star
id|clockOut
comma
id|u32
op_star
id|pllOut
comma
r_struct
id|nvidia_par
op_star
id|par
)paren
(brace
r_int
id|lowM
comma
id|highM
suffix:semicolon
r_int
id|DeltaNew
comma
id|DeltaOld
suffix:semicolon
r_int
id|VClk
comma
id|Freq
suffix:semicolon
r_int
id|M
comma
id|N
comma
id|P
suffix:semicolon
id|DeltaOld
op_assign
l_int|0xFFFFFFFF
suffix:semicolon
id|VClk
op_assign
(paren
r_int
)paren
id|clockIn
suffix:semicolon
r_if
c_cond
(paren
id|par-&gt;CrystalFreqKHz
op_eq
l_int|13500
)paren
(brace
id|lowM
op_assign
l_int|7
suffix:semicolon
id|highM
op_assign
l_int|13
suffix:semicolon
)brace
r_else
(brace
id|lowM
op_assign
l_int|8
suffix:semicolon
id|highM
op_assign
l_int|14
suffix:semicolon
)brace
r_for
c_loop
(paren
id|P
op_assign
l_int|0
suffix:semicolon
id|P
op_le
l_int|4
suffix:semicolon
id|P
op_increment
)paren
(brace
id|Freq
op_assign
id|VClk
op_lshift
id|P
suffix:semicolon
r_if
c_cond
(paren
(paren
id|Freq
op_ge
l_int|128000
)paren
op_logical_and
(paren
id|Freq
op_le
l_int|350000
)paren
)paren
(brace
r_for
c_loop
(paren
id|M
op_assign
id|lowM
suffix:semicolon
id|M
op_le
id|highM
suffix:semicolon
id|M
op_increment
)paren
(brace
id|N
op_assign
(paren
(paren
id|VClk
op_lshift
id|P
)paren
op_star
id|M
)paren
op_div
id|par-&gt;CrystalFreqKHz
suffix:semicolon
r_if
c_cond
(paren
id|N
op_le
l_int|255
)paren
(brace
id|Freq
op_assign
(paren
(paren
id|par-&gt;CrystalFreqKHz
op_star
id|N
)paren
op_div
id|M
)paren
op_rshift
id|P
suffix:semicolon
r_if
c_cond
(paren
id|Freq
OG
id|VClk
)paren
id|DeltaNew
op_assign
id|Freq
op_minus
id|VClk
suffix:semicolon
r_else
id|DeltaNew
op_assign
id|VClk
op_minus
id|Freq
suffix:semicolon
r_if
c_cond
(paren
id|DeltaNew
OL
id|DeltaOld
)paren
(brace
op_star
id|pllOut
op_assign
(paren
id|P
op_lshift
l_int|16
)paren
op_or
(paren
id|N
op_lshift
l_int|8
)paren
op_or
id|M
suffix:semicolon
op_star
id|clockOut
op_assign
id|Freq
suffix:semicolon
id|DeltaOld
op_assign
id|DeltaNew
suffix:semicolon
)brace
)brace
)brace
)brace
)brace
)brace
DECL|function|CalcVClock2Stage
r_static
r_void
id|CalcVClock2Stage
c_func
(paren
r_int
id|clockIn
comma
r_int
op_star
id|clockOut
comma
id|u32
op_star
id|pllOut
comma
id|u32
op_star
id|pllBOut
comma
r_struct
id|nvidia_par
op_star
id|par
)paren
(brace
r_int
id|DeltaNew
comma
id|DeltaOld
suffix:semicolon
r_int
id|VClk
comma
id|Freq
suffix:semicolon
r_int
id|M
comma
id|N
comma
id|P
suffix:semicolon
id|DeltaOld
op_assign
l_int|0xFFFFFFFF
suffix:semicolon
op_star
id|pllBOut
op_assign
l_int|0x80000401
suffix:semicolon
multiline_comment|/* fixed at x4 for now */
id|VClk
op_assign
(paren
r_int
)paren
id|clockIn
suffix:semicolon
r_for
c_loop
(paren
id|P
op_assign
l_int|0
suffix:semicolon
id|P
op_le
l_int|6
suffix:semicolon
id|P
op_increment
)paren
(brace
id|Freq
op_assign
id|VClk
op_lshift
id|P
suffix:semicolon
r_if
c_cond
(paren
(paren
id|Freq
op_ge
l_int|400000
)paren
op_logical_and
(paren
id|Freq
op_le
l_int|1000000
)paren
)paren
(brace
r_for
c_loop
(paren
id|M
op_assign
l_int|1
suffix:semicolon
id|M
op_le
l_int|13
suffix:semicolon
id|M
op_increment
)paren
(brace
id|N
op_assign
(paren
(paren
id|VClk
op_lshift
id|P
)paren
op_star
id|M
)paren
op_div
(paren
id|par-&gt;CrystalFreqKHz
op_lshift
l_int|2
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|N
op_ge
l_int|5
)paren
op_logical_and
(paren
id|N
op_le
l_int|255
)paren
)paren
(brace
id|Freq
op_assign
(paren
(paren
(paren
id|par-&gt;CrystalFreqKHz
op_lshift
l_int|2
)paren
op_star
id|N
)paren
op_div
id|M
)paren
op_rshift
id|P
suffix:semicolon
r_if
c_cond
(paren
id|Freq
OG
id|VClk
)paren
id|DeltaNew
op_assign
id|Freq
op_minus
id|VClk
suffix:semicolon
r_else
id|DeltaNew
op_assign
id|VClk
op_minus
id|Freq
suffix:semicolon
r_if
c_cond
(paren
id|DeltaNew
OL
id|DeltaOld
)paren
(brace
op_star
id|pllOut
op_assign
(paren
id|P
op_lshift
l_int|16
)paren
op_or
(paren
id|N
op_lshift
l_int|8
)paren
op_or
id|M
suffix:semicolon
op_star
id|clockOut
op_assign
id|Freq
suffix:semicolon
id|DeltaOld
op_assign
id|DeltaNew
suffix:semicolon
)brace
)brace
)brace
)brace
)brace
)brace
multiline_comment|/*&n; * Calculate extended mode parameters (SVGA) and save in a&n; * mode state structure.&n; */
DECL|function|NVCalcStateExt
r_void
id|NVCalcStateExt
c_func
(paren
r_struct
id|nvidia_par
op_star
id|par
comma
id|RIVA_HW_STATE
op_star
id|state
comma
r_int
id|bpp
comma
r_int
id|width
comma
r_int
id|hDisplaySize
comma
r_int
id|height
comma
r_int
id|dotClock
comma
r_int
id|flags
)paren
(brace
r_int
id|pixelDepth
comma
id|VClk
suffix:semicolon
multiline_comment|/*&n;&t; * Save mode parameters.&n;&t; */
id|state-&gt;bpp
op_assign
id|bpp
suffix:semicolon
multiline_comment|/* this is not bitsPerPixel, it&squot;s 8,15,16,32 */
id|state-&gt;width
op_assign
id|width
suffix:semicolon
id|state-&gt;height
op_assign
id|height
suffix:semicolon
multiline_comment|/*&n;&t; * Extended RIVA registers.&n;&t; */
id|pixelDepth
op_assign
(paren
id|bpp
op_plus
l_int|1
)paren
op_div
l_int|8
suffix:semicolon
r_if
c_cond
(paren
id|par-&gt;twoStagePLL
)paren
id|CalcVClock2Stage
c_func
(paren
id|dotClock
comma
op_amp
id|VClk
comma
op_amp
id|state-&gt;pll
comma
op_amp
id|state-&gt;pllB
comma
id|par
)paren
suffix:semicolon
r_else
id|CalcVClock
c_func
(paren
id|dotClock
comma
op_amp
id|VClk
comma
op_amp
id|state-&gt;pll
comma
id|par
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|par-&gt;Architecture
)paren
(brace
r_case
id|NV_ARCH_04
suffix:colon
id|nv4UpdateArbitrationSettings
c_func
(paren
id|VClk
comma
id|pixelDepth
op_star
l_int|8
comma
op_amp
(paren
id|state-&gt;arbitration0
)paren
comma
op_amp
(paren
id|state-&gt;arbitration1
)paren
comma
id|par
)paren
suffix:semicolon
id|state-&gt;cursor0
op_assign
l_int|0x00
suffix:semicolon
id|state-&gt;cursor1
op_assign
l_int|0xbC
suffix:semicolon
r_if
c_cond
(paren
id|flags
op_amp
id|FB_VMODE_DOUBLE
)paren
id|state-&gt;cursor1
op_or_assign
l_int|2
suffix:semicolon
id|state-&gt;cursor2
op_assign
l_int|0x00000000
suffix:semicolon
id|state-&gt;pllsel
op_assign
l_int|0x10000700
suffix:semicolon
id|state-&gt;config
op_assign
l_int|0x00001114
suffix:semicolon
id|state-&gt;general
op_assign
id|bpp
op_eq
l_int|16
ques
c_cond
l_int|0x00101100
suffix:colon
l_int|0x00100100
suffix:semicolon
id|state-&gt;repaint1
op_assign
id|hDisplaySize
OL
l_int|1280
ques
c_cond
l_int|0x04
suffix:colon
l_int|0x00
suffix:semicolon
r_break
suffix:semicolon
r_case
id|NV_ARCH_10
suffix:colon
r_case
id|NV_ARCH_20
suffix:colon
r_case
id|NV_ARCH_30
suffix:colon
r_default
suffix:colon
(brace
)brace
r_if
c_cond
(paren
(paren
(paren
id|par-&gt;Chipset
op_amp
l_int|0xffff
)paren
op_eq
l_int|0x01A0
)paren
op_logical_or
(paren
(paren
id|par-&gt;Chipset
op_amp
l_int|0xffff
)paren
op_eq
l_int|0x01f0
)paren
)paren
(brace
id|nForceUpdateArbitrationSettings
c_func
(paren
id|VClk
comma
id|pixelDepth
op_star
l_int|8
comma
op_amp
(paren
id|state-&gt;arbitration0
)paren
comma
op_amp
(paren
id|state-&gt;arbitration1
)paren
comma
id|par
)paren
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|par-&gt;Architecture
OL
id|NV_ARCH_30
)paren
(brace
id|nv10UpdateArbitrationSettings
c_func
(paren
id|VClk
comma
id|pixelDepth
op_star
l_int|8
comma
op_amp
(paren
id|state-&gt;arbitration0
)paren
comma
op_amp
(paren
id|state-&gt;arbitration1
)paren
comma
id|par
)paren
suffix:semicolon
)brace
r_else
(brace
id|nv30UpdateArbitrationSettings
c_func
(paren
id|par
comma
op_amp
(paren
id|state-&gt;arbitration0
)paren
comma
op_amp
(paren
id|state-&gt;arbitration1
)paren
)paren
suffix:semicolon
)brace
id|state-&gt;cursor0
op_assign
l_int|0x80
op_or
(paren
id|par-&gt;CursorStart
op_rshift
l_int|17
)paren
suffix:semicolon
id|state-&gt;cursor1
op_assign
(paren
id|par-&gt;CursorStart
op_rshift
l_int|11
)paren
op_lshift
l_int|2
suffix:semicolon
id|state-&gt;cursor2
op_assign
id|par-&gt;CursorStart
op_rshift
l_int|24
suffix:semicolon
r_if
c_cond
(paren
id|flags
op_amp
id|FB_VMODE_DOUBLE
)paren
id|state-&gt;cursor1
op_or_assign
l_int|2
suffix:semicolon
id|state-&gt;pllsel
op_assign
l_int|0x10000700
suffix:semicolon
id|state-&gt;config
op_assign
id|NV_RD32
c_func
(paren
id|par-&gt;PFB
comma
l_int|0x00000200
)paren
suffix:semicolon
id|state-&gt;general
op_assign
id|bpp
op_eq
l_int|16
ques
c_cond
l_int|0x00101100
suffix:colon
l_int|0x00100100
suffix:semicolon
id|state-&gt;repaint1
op_assign
id|hDisplaySize
OL
l_int|1280
ques
c_cond
l_int|0x04
suffix:colon
l_int|0x00
suffix:semicolon
r_break
suffix:semicolon
)brace
r_if
c_cond
(paren
id|bpp
op_ne
l_int|8
)paren
multiline_comment|/* DirectColor */
id|state-&gt;general
op_or_assign
l_int|0x00000030
suffix:semicolon
id|state-&gt;repaint0
op_assign
(paren
(paren
(paren
id|width
op_div
l_int|8
)paren
op_star
id|pixelDepth
)paren
op_amp
l_int|0x700
)paren
op_rshift
l_int|3
suffix:semicolon
id|state-&gt;pixel
op_assign
(paren
id|pixelDepth
OG
l_int|2
)paren
ques
c_cond
l_int|3
suffix:colon
id|pixelDepth
suffix:semicolon
)brace
DECL|function|NVLoadStateExt
r_void
id|NVLoadStateExt
c_func
(paren
r_struct
id|nvidia_par
op_star
id|par
comma
id|RIVA_HW_STATE
op_star
id|state
)paren
(brace
r_int
id|i
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PMC
comma
l_int|0x0140
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PMC
comma
l_int|0x0200
comma
l_int|0xFFFF00FF
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PMC
comma
l_int|0x0200
comma
l_int|0xFFFFFFFF
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PTIMER
comma
l_int|0x0200
op_star
l_int|4
comma
l_int|0x00000008
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PTIMER
comma
l_int|0x0210
op_star
l_int|4
comma
l_int|0x00000003
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PTIMER
comma
l_int|0x0140
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PTIMER
comma
l_int|0x0100
op_star
l_int|4
comma
l_int|0xFFFFFFFF
)paren
suffix:semicolon
r_if
c_cond
(paren
id|par-&gt;Architecture
op_eq
id|NV_ARCH_04
)paren
(brace
id|NV_WR32
c_func
(paren
id|par-&gt;PFB
comma
l_int|0x0200
comma
id|state-&gt;config
)paren
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
(paren
id|par-&gt;Chipset
op_amp
l_int|0xfff0
)paren
op_eq
l_int|0x0090
)paren
(brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|15
suffix:semicolon
id|i
op_increment
)paren
(brace
id|NV_WR32
c_func
(paren
id|par-&gt;PFB
comma
l_int|0x0600
op_plus
(paren
id|i
op_star
l_int|0x10
)paren
comma
l_int|0
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PFB
comma
l_int|0x0604
op_plus
(paren
id|i
op_star
l_int|0x10
)paren
comma
id|par-&gt;FbMapSize
op_minus
l_int|1
)paren
suffix:semicolon
)brace
)brace
r_else
(brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|8
suffix:semicolon
id|i
op_increment
)paren
(brace
id|NV_WR32
c_func
(paren
id|par-&gt;PFB
comma
l_int|0x0240
op_plus
(paren
id|i
op_star
l_int|0x10
)paren
comma
l_int|0
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PFB
comma
l_int|0x0244
op_plus
(paren
id|i
op_star
l_int|0x10
)paren
comma
id|par-&gt;FbMapSize
op_minus
l_int|1
)paren
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
id|par-&gt;Architecture
op_ge
id|NV_ARCH_40
)paren
(brace
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0000
op_star
l_int|4
comma
l_int|0x80000010
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0001
op_star
l_int|4
comma
l_int|0x00101202
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0002
op_star
l_int|4
comma
l_int|0x80000011
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0003
op_star
l_int|4
comma
l_int|0x00101204
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0004
op_star
l_int|4
comma
l_int|0x80000012
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0005
op_star
l_int|4
comma
l_int|0x00101206
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0006
op_star
l_int|4
comma
l_int|0x80000013
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0007
op_star
l_int|4
comma
l_int|0x00101208
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0008
op_star
l_int|4
comma
l_int|0x80000014
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0009
op_star
l_int|4
comma
l_int|0x0010120A
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x000A
op_star
l_int|4
comma
l_int|0x80000015
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x000B
op_star
l_int|4
comma
l_int|0x0010120C
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x000C
op_star
l_int|4
comma
l_int|0x80000016
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x000D
op_star
l_int|4
comma
l_int|0x0010120E
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x000E
op_star
l_int|4
comma
l_int|0x80000017
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x000F
op_star
l_int|4
comma
l_int|0x00101210
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0800
op_star
l_int|4
comma
l_int|0x00003000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0801
op_star
l_int|4
comma
id|par-&gt;FbMapSize
op_minus
l_int|1
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0802
op_star
l_int|4
comma
l_int|0x00000002
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0808
op_star
l_int|4
comma
l_int|0x02080062
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0809
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x080A
op_star
l_int|4
comma
l_int|0x00001200
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x080B
op_star
l_int|4
comma
l_int|0x00001200
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x080C
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x080D
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0810
op_star
l_int|4
comma
l_int|0x02080043
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0811
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0812
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0813
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0814
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0815
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0818
op_star
l_int|4
comma
l_int|0x02080044
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0819
op_star
l_int|4
comma
l_int|0x02000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x081A
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x081B
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x081C
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x081D
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0820
op_star
l_int|4
comma
l_int|0x02080019
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0821
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0822
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0823
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0824
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0825
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0828
op_star
l_int|4
comma
l_int|0x020A005C
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0829
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x082A
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x082B
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x082C
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x082D
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0830
op_star
l_int|4
comma
l_int|0x0208009F
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0831
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0832
op_star
l_int|4
comma
l_int|0x00001200
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0833
op_star
l_int|4
comma
l_int|0x00001200
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0834
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0835
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0838
op_star
l_int|4
comma
l_int|0x0208004A
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0839
op_star
l_int|4
comma
l_int|0x02000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x083A
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x083B
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x083C
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x083D
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0840
op_star
l_int|4
comma
l_int|0x02080077
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0841
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0842
op_star
l_int|4
comma
l_int|0x00001200
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0843
op_star
l_int|4
comma
l_int|0x00001200
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0844
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0845
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x084C
op_star
l_int|4
comma
l_int|0x00003002
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x084D
op_star
l_int|4
comma
l_int|0x00007FFF
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x084E
op_star
l_int|4
comma
id|par-&gt;FbUsableSize
op_or
l_int|0x00000002
)paren
suffix:semicolon
macro_line|#ifdef __BIG_ENDIAN
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x080A
op_star
l_int|4
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x080A
op_star
l_int|4
)paren
op_or
l_int|0x01000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0812
op_star
l_int|4
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0812
op_star
l_int|4
)paren
op_or
l_int|0x01000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x081A
op_star
l_int|4
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x081A
op_star
l_int|4
)paren
op_or
l_int|0x01000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0822
op_star
l_int|4
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0822
op_star
l_int|4
)paren
op_or
l_int|0x01000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x082A
op_star
l_int|4
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x082A
op_star
l_int|4
)paren
op_or
l_int|0x01000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0832
op_star
l_int|4
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0832
op_star
l_int|4
)paren
op_or
l_int|0x01000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x083A
op_star
l_int|4
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x083A
op_star
l_int|4
)paren
op_or
l_int|0x01000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0842
op_star
l_int|4
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0842
op_star
l_int|4
)paren
op_or
l_int|0x01000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0819
op_star
l_int|4
comma
l_int|0x01000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0839
op_star
l_int|4
comma
l_int|0x01000000
)paren
suffix:semicolon
macro_line|#endif
)brace
r_else
(brace
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0000
op_star
l_int|4
comma
l_int|0x80000010
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0001
op_star
l_int|4
comma
l_int|0x80011201
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0002
op_star
l_int|4
comma
l_int|0x80000011
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0003
op_star
l_int|4
comma
l_int|0x80011202
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0004
op_star
l_int|4
comma
l_int|0x80000012
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0005
op_star
l_int|4
comma
l_int|0x80011203
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0006
op_star
l_int|4
comma
l_int|0x80000013
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0007
op_star
l_int|4
comma
l_int|0x80011204
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0008
op_star
l_int|4
comma
l_int|0x80000014
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0009
op_star
l_int|4
comma
l_int|0x80011205
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x000A
op_star
l_int|4
comma
l_int|0x80000015
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x000B
op_star
l_int|4
comma
l_int|0x80011206
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x000C
op_star
l_int|4
comma
l_int|0x80000016
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x000D
op_star
l_int|4
comma
l_int|0x80011207
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x000E
op_star
l_int|4
comma
l_int|0x80000017
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x000F
op_star
l_int|4
comma
l_int|0x80011208
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0800
op_star
l_int|4
comma
l_int|0x00003000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0801
op_star
l_int|4
comma
id|par-&gt;FbMapSize
op_minus
l_int|1
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0802
op_star
l_int|4
comma
l_int|0x00000002
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0803
op_star
l_int|4
comma
l_int|0x00000002
)paren
suffix:semicolon
r_if
c_cond
(paren
id|par-&gt;Architecture
op_ge
id|NV_ARCH_10
)paren
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0804
op_star
l_int|4
comma
l_int|0x01008062
)paren
suffix:semicolon
r_else
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0804
op_star
l_int|4
comma
l_int|0x01008042
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0805
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0806
op_star
l_int|4
comma
l_int|0x12001200
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0807
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0808
op_star
l_int|4
comma
l_int|0x01008043
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0809
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x080A
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x080B
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x080C
op_star
l_int|4
comma
l_int|0x01008044
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x080D
op_star
l_int|4
comma
l_int|0x00000002
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x080E
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x080F
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0810
op_star
l_int|4
comma
l_int|0x01008019
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0811
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0812
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0813
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0814
op_star
l_int|4
comma
l_int|0x0100A05C
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0815
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0816
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0817
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
r_if
c_cond
(paren
id|par-&gt;WaitVSyncPossible
)paren
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0818
op_star
l_int|4
comma
l_int|0x0100809F
)paren
suffix:semicolon
r_else
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0818
op_star
l_int|4
comma
l_int|0x0100805F
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0819
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x081A
op_star
l_int|4
comma
l_int|0x12001200
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x081B
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x081C
op_star
l_int|4
comma
l_int|0x0100804A
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x081D
op_star
l_int|4
comma
l_int|0x00000002
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x081E
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x081F
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0820
op_star
l_int|4
comma
l_int|0x01018077
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0821
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0822
op_star
l_int|4
comma
l_int|0x12001200
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0823
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0824
op_star
l_int|4
comma
l_int|0x00003002
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0825
op_star
l_int|4
comma
l_int|0x00007FFF
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0826
op_star
l_int|4
comma
id|par-&gt;FbUsableSize
op_or
l_int|0x00000002
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0827
op_star
l_int|4
comma
l_int|0x00000002
)paren
suffix:semicolon
macro_line|#ifdef __BIG_ENDIAN
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0804
op_star
l_int|4
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0804
op_star
l_int|4
)paren
op_or
l_int|0x00080000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0808
op_star
l_int|4
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0808
op_star
l_int|4
)paren
op_or
l_int|0x00080000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x080C
op_star
l_int|4
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x080C
op_star
l_int|4
)paren
op_or
l_int|0x00080000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0810
op_star
l_int|4
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0810
op_star
l_int|4
)paren
op_or
l_int|0x00080000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0814
op_star
l_int|4
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0814
op_star
l_int|4
)paren
op_or
l_int|0x00080000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0818
op_star
l_int|4
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0818
op_star
l_int|4
)paren
op_or
l_int|0x00080000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x081C
op_star
l_int|4
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x081C
op_star
l_int|4
)paren
op_or
l_int|0x00080000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0820
op_star
l_int|4
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0820
op_star
l_int|4
)paren
op_or
l_int|0x00080000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x080D
op_star
l_int|4
comma
l_int|0x00000001
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x081D
op_star
l_int|4
comma
l_int|0x00000001
)paren
suffix:semicolon
macro_line|#endif
)brace
r_if
c_cond
(paren
id|par-&gt;Architecture
OL
id|NV_ARCH_10
)paren
(brace
r_if
c_cond
(paren
(paren
id|par-&gt;Chipset
op_amp
l_int|0x0fff
)paren
op_eq
l_int|0x0020
)paren
(brace
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0824
op_star
l_int|4
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0824
op_star
l_int|4
)paren
op_or
l_int|0x00020000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0826
op_star
l_int|4
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMIN
comma
l_int|0x0826
op_star
l_int|4
)paren
op_plus
id|par-&gt;FbAddress
)paren
suffix:semicolon
)brace
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0080
comma
l_int|0x000001FF
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0080
comma
l_int|0x1230C000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0084
comma
l_int|0x72111101
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0088
comma
l_int|0x11D5F071
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x008C
comma
l_int|0x0004FF31
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x008C
comma
l_int|0x4004FF31
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0140
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0100
comma
l_int|0xFFFFFFFF
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0170
comma
l_int|0x10010100
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0710
comma
l_int|0xFFFFFFFF
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0720
comma
l_int|0x00000001
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0810
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0608
comma
l_int|0xFFFFFFFF
)paren
suffix:semicolon
)brace
r_else
(brace
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0080
comma
l_int|0xFFFFFFFF
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0080
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0140
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0100
comma
l_int|0xFFFFFFFF
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0144
comma
l_int|0x10010100
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0714
comma
l_int|0xFFFFFFFF
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0720
comma
l_int|0x00000001
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0710
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0710
)paren
op_amp
l_int|0x0007ff00
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0710
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0710
)paren
op_or
l_int|0x00020100
)paren
suffix:semicolon
r_if
c_cond
(paren
id|par-&gt;Architecture
op_eq
id|NV_ARCH_10
)paren
(brace
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0084
comma
l_int|0x00118700
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0088
comma
l_int|0x24E00810
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x008C
comma
l_int|0x55DE0030
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|32
suffix:semicolon
id|i
op_increment
)paren
id|NV_WR32
c_func
(paren
op_amp
id|par-&gt;PGRAPH
(braket
(paren
l_int|0x0B00
op_div
l_int|4
)paren
op_plus
id|i
)braket
comma
l_int|0
comma
id|NV_RD32
c_func
(paren
op_amp
id|par-&gt;PFB
(braket
(paren
l_int|0x0240
op_div
l_int|4
)paren
op_plus
id|i
)braket
comma
l_int|0
)paren
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x640
comma
l_int|0
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x644
comma
l_int|0
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x684
comma
id|par-&gt;FbMapSize
op_minus
l_int|1
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x688
comma
id|par-&gt;FbMapSize
op_minus
l_int|1
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0810
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0608
comma
l_int|0xFFFFFFFF
)paren
suffix:semicolon
)brace
r_else
(brace
r_if
c_cond
(paren
id|par-&gt;Architecture
op_ge
id|NV_ARCH_40
)paren
(brace
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0084
comma
l_int|0x401287c0
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x008C
comma
l_int|0x60de8051
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0090
comma
l_int|0x00008000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0610
comma
l_int|0x00be3c5f
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|par-&gt;Chipset
op_amp
l_int|0xfff0
)paren
op_eq
l_int|0x0040
)paren
(brace
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x09b0
comma
l_int|0x83280fff
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x09b4
comma
l_int|0x000000a0
)paren
suffix:semicolon
)brace
r_else
(brace
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0820
comma
l_int|0x83280eff
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0824
comma
l_int|0x000000a0
)paren
suffix:semicolon
)brace
r_switch
c_cond
(paren
id|par-&gt;Chipset
op_amp
l_int|0xfff0
)paren
(brace
r_case
l_int|0x0040
suffix:colon
r_case
l_int|0x0210
suffix:colon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x09b8
comma
l_int|0x0078e366
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x09bc
comma
l_int|0x0000014c
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PFB
comma
l_int|0x033C
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PFB
comma
l_int|0x33C
)paren
op_amp
l_int|0xffff7fff
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x00C0
suffix:colon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0828
comma
l_int|0x007596ff
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x082C
comma
l_int|0x00000108
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x0160
suffix:colon
r_case
l_int|0x01D0
suffix:colon
id|NV_WR32
c_func
(paren
id|par-&gt;PMC
comma
l_int|0x1700
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PFB
comma
l_int|0x020C
)paren
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PMC
comma
l_int|0x1704
comma
l_int|0
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PMC
comma
l_int|0x1708
comma
l_int|0
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PMC
comma
l_int|0x170C
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PFB
comma
l_int|0x020C
)paren
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0860
comma
l_int|0
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0864
comma
l_int|0
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMDAC
comma
l_int|0x0608
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMDAC
comma
l_int|0x0608
)paren
op_or
l_int|0x00100000
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x0140
suffix:colon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0828
comma
l_int|0x0072cb77
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x082C
comma
l_int|0x00000108
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x0220
suffix:colon
r_case
l_int|0x0230
suffix:colon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0860
comma
l_int|0
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0864
comma
l_int|0
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMDAC
comma
l_int|0x0608
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMDAC
comma
l_int|0x0608
)paren
op_or
l_int|0x00100000
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x0090
suffix:colon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMDAC
comma
l_int|0x0608
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMDAC
comma
l_int|0x0608
)paren
op_or
l_int|0x00100000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0828
comma
l_int|0x07830610
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x082C
comma
l_int|0x0000016A
)paren
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
r_break
suffix:semicolon
)brace
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0b38
comma
l_int|0x2ffff800
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0b3c
comma
l_int|0x00006000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x032C
comma
l_int|0x01000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0220
comma
l_int|0x00001200
)paren
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|par-&gt;Architecture
op_eq
id|NV_ARCH_30
)paren
(brace
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0084
comma
l_int|0x40108700
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0890
comma
l_int|0x00140000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x008C
comma
l_int|0xf00e0431
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0090
comma
l_int|0x00008000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0610
comma
l_int|0xf04b1f36
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0B80
comma
l_int|0x1002d888
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0B88
comma
l_int|0x62ff007f
)paren
suffix:semicolon
)brace
r_else
(brace
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0084
comma
l_int|0x00118700
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x008C
comma
l_int|0xF20E0431
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0090
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x009C
comma
l_int|0x00000040
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|par-&gt;Chipset
op_amp
l_int|0x0ff0
)paren
op_ge
l_int|0x0250
)paren
(brace
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0890
comma
l_int|0x00080000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0610
comma
l_int|0x304B1FB6
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0B80
comma
l_int|0x18B82880
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0B84
comma
l_int|0x44000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0098
comma
l_int|0x40000080
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0B88
comma
l_int|0x000000ff
)paren
suffix:semicolon
)brace
r_else
(brace
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0880
comma
l_int|0x00080000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0094
comma
l_int|0x00000005
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0B80
comma
l_int|0x45CAA208
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0B84
comma
l_int|0x24000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0098
comma
l_int|0x00000040
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0750
comma
l_int|0x00E00038
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0754
comma
l_int|0x00000030
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0750
comma
l_int|0x00E10038
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0754
comma
l_int|0x00000030
)paren
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
(paren
id|par-&gt;Chipset
op_amp
l_int|0xfff0
)paren
op_eq
l_int|0x0090
)paren
(brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|60
suffix:semicolon
id|i
op_increment
)paren
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0D00
op_plus
id|i
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PFB
comma
l_int|0x0600
op_plus
id|i
)paren
)paren
suffix:semicolon
)brace
r_else
(brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|32
suffix:semicolon
id|i
op_increment
)paren
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0900
op_plus
id|i
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PFB
comma
l_int|0x0240
op_plus
id|i
)paren
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|par-&gt;Architecture
op_ge
id|NV_ARCH_40
)paren
(brace
r_if
c_cond
(paren
(paren
id|par-&gt;Chipset
op_amp
l_int|0xfff0
)paren
op_eq
l_int|0x0040
)paren
(brace
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x09A4
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PFB
comma
l_int|0x0200
)paren
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x09A8
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PFB
comma
l_int|0x0204
)paren
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x69A4
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PFB
comma
l_int|0x0200
)paren
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x69A8
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PFB
comma
l_int|0x0204
)paren
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0820
comma
l_int|0
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0824
comma
l_int|0
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0864
comma
id|par-&gt;FbMapSize
op_minus
l_int|1
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0868
comma
id|par-&gt;FbMapSize
op_minus
l_int|1
)paren
suffix:semicolon
)brace
r_else
(brace
r_if
c_cond
(paren
(paren
id|par-&gt;Chipset
op_amp
l_int|0xfff0
)paren
op_eq
l_int|0x0090
)paren
(brace
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0DF0
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PFB
comma
l_int|0x0200
)paren
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0DF4
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PFB
comma
l_int|0x0204
)paren
)paren
suffix:semicolon
)brace
r_else
(brace
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x09F0
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PFB
comma
l_int|0x0200
)paren
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x09F4
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PFB
comma
l_int|0x0204
)paren
)paren
suffix:semicolon
)brace
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x69F0
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PFB
comma
l_int|0x0200
)paren
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x69F4
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PFB
comma
l_int|0x0204
)paren
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0840
comma
l_int|0
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0844
comma
l_int|0
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x08a0
comma
id|par-&gt;FbMapSize
op_minus
l_int|1
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x08a4
comma
id|par-&gt;FbMapSize
op_minus
l_int|1
)paren
suffix:semicolon
)brace
)brace
r_else
(brace
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x09A4
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PFB
comma
l_int|0x0200
)paren
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x09A8
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PFB
comma
l_int|0x0204
)paren
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0750
comma
l_int|0x00EA0000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0754
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PFB
comma
l_int|0x0200
)paren
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0750
comma
l_int|0x00EA0004
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0754
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PFB
comma
l_int|0x0204
)paren
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0820
comma
l_int|0
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0824
comma
l_int|0
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0864
comma
id|par-&gt;FbMapSize
op_minus
l_int|1
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0868
comma
id|par-&gt;FbMapSize
op_minus
l_int|1
)paren
suffix:semicolon
)brace
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0B20
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0B04
comma
l_int|0xFFFFFFFF
)paren
suffix:semicolon
)brace
)brace
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x053C
comma
l_int|0
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0540
comma
l_int|0
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0544
comma
l_int|0x00007FFF
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PGRAPH
comma
l_int|0x0548
comma
l_int|0x00007FFF
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PFIFO
comma
l_int|0x0140
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PFIFO
comma
l_int|0x0141
op_star
l_int|4
comma
l_int|0x00000001
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PFIFO
comma
l_int|0x0480
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PFIFO
comma
l_int|0x0494
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
r_if
c_cond
(paren
id|par-&gt;Architecture
op_ge
id|NV_ARCH_40
)paren
id|NV_WR32
c_func
(paren
id|par-&gt;PFIFO
comma
l_int|0x0481
op_star
l_int|4
comma
l_int|0x00010000
)paren
suffix:semicolon
r_else
id|NV_WR32
c_func
(paren
id|par-&gt;PFIFO
comma
l_int|0x0481
op_star
l_int|4
comma
l_int|0x00000100
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PFIFO
comma
l_int|0x0490
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PFIFO
comma
l_int|0x0491
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
r_if
c_cond
(paren
id|par-&gt;Architecture
op_ge
id|NV_ARCH_40
)paren
id|NV_WR32
c_func
(paren
id|par-&gt;PFIFO
comma
l_int|0x048B
op_star
l_int|4
comma
l_int|0x00001213
)paren
suffix:semicolon
r_else
id|NV_WR32
c_func
(paren
id|par-&gt;PFIFO
comma
l_int|0x048B
op_star
l_int|4
comma
l_int|0x00001209
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PFIFO
comma
l_int|0x0400
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PFIFO
comma
l_int|0x0414
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PFIFO
comma
l_int|0x0084
op_star
l_int|4
comma
l_int|0x03000100
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PFIFO
comma
l_int|0x0085
op_star
l_int|4
comma
l_int|0x00000110
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PFIFO
comma
l_int|0x0086
op_star
l_int|4
comma
l_int|0x00000112
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PFIFO
comma
l_int|0x0143
op_star
l_int|4
comma
l_int|0x0000FFFF
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PFIFO
comma
l_int|0x0496
op_star
l_int|4
comma
l_int|0x0000FFFF
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PFIFO
comma
l_int|0x0050
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PFIFO
comma
l_int|0x0040
op_star
l_int|4
comma
l_int|0xFFFFFFFF
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PFIFO
comma
l_int|0x0415
op_star
l_int|4
comma
l_int|0x00000001
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PFIFO
comma
l_int|0x048C
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PFIFO
comma
l_int|0x04A0
op_star
l_int|4
comma
l_int|0x00000000
)paren
suffix:semicolon
macro_line|#ifdef __BIG_ENDIAN
id|NV_WR32
c_func
(paren
id|par-&gt;PFIFO
comma
l_int|0x0489
op_star
l_int|4
comma
l_int|0x800F0078
)paren
suffix:semicolon
macro_line|#else
id|NV_WR32
c_func
(paren
id|par-&gt;PFIFO
comma
l_int|0x0489
op_star
l_int|4
comma
l_int|0x000F0078
)paren
suffix:semicolon
macro_line|#endif
id|NV_WR32
c_func
(paren
id|par-&gt;PFIFO
comma
l_int|0x0488
op_star
l_int|4
comma
l_int|0x00000001
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PFIFO
comma
l_int|0x0480
op_star
l_int|4
comma
l_int|0x00000001
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PFIFO
comma
l_int|0x0494
op_star
l_int|4
comma
l_int|0x00000001
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PFIFO
comma
l_int|0x0495
op_star
l_int|4
comma
l_int|0x00000001
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PFIFO
comma
l_int|0x0140
op_star
l_int|4
comma
l_int|0x00000001
)paren
suffix:semicolon
r_if
c_cond
(paren
id|par-&gt;Architecture
op_ge
id|NV_ARCH_10
)paren
(brace
r_if
c_cond
(paren
id|par-&gt;twoHeads
)paren
(brace
id|NV_WR32
c_func
(paren
id|par-&gt;PCRTC0
comma
l_int|0x0860
comma
id|state-&gt;head
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PCRTC0
comma
l_int|0x2860
comma
id|state-&gt;head2
)paren
suffix:semicolon
)brace
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMDAC
comma
l_int|0x0404
comma
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMDAC
comma
l_int|0x0404
)paren
op_or
(paren
l_int|1
op_lshift
l_int|25
)paren
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PMC
comma
l_int|0x8704
comma
l_int|1
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PMC
comma
l_int|0x8140
comma
l_int|0
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PMC
comma
l_int|0x8920
comma
l_int|0
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PMC
comma
l_int|0x8924
comma
l_int|0
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PMC
comma
l_int|0x8908
comma
id|par-&gt;FbMapSize
op_minus
l_int|1
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PMC
comma
l_int|0x890C
comma
id|par-&gt;FbMapSize
op_minus
l_int|1
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PMC
comma
l_int|0x1588
comma
l_int|0
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PCRTC
comma
l_int|0x0810
comma
id|state-&gt;cursorConfig
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PCRTC
comma
l_int|0x0830
comma
id|state-&gt;displayV
op_minus
l_int|3
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PCRTC
comma
l_int|0x0834
comma
id|state-&gt;displayV
op_minus
l_int|1
)paren
suffix:semicolon
r_if
c_cond
(paren
id|par-&gt;FlatPanel
)paren
(brace
r_if
c_cond
(paren
(paren
id|par-&gt;Chipset
op_amp
l_int|0x0ff0
)paren
op_eq
l_int|0x0110
)paren
(brace
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMDAC
comma
l_int|0x0528
comma
id|state-&gt;dither
)paren
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|par-&gt;twoHeads
)paren
(brace
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMDAC
comma
l_int|0x083C
comma
id|state-&gt;dither
)paren
suffix:semicolon
)brace
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D4
comma
l_int|0x53
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D5
comma
id|state-&gt;timingH
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D4
comma
l_int|0x54
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D5
comma
id|state-&gt;timingV
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D4
comma
l_int|0x21
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D5
comma
l_int|0xfa
)paren
suffix:semicolon
)brace
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D4
comma
l_int|0x41
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D5
comma
id|state-&gt;extra
)paren
suffix:semicolon
)brace
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D4
comma
l_int|0x19
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D5
comma
id|state-&gt;repaint0
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D4
comma
l_int|0x1A
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D5
comma
id|state-&gt;repaint1
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D4
comma
l_int|0x25
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D5
comma
id|state-&gt;screen
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D4
comma
l_int|0x28
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D5
comma
id|state-&gt;pixel
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D4
comma
l_int|0x2D
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D5
comma
id|state-&gt;horiz
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D4
comma
l_int|0x1C
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D5
comma
id|state-&gt;fifo
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D4
comma
l_int|0x1B
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D5
comma
id|state-&gt;arbitration0
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D4
comma
l_int|0x20
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D5
comma
id|state-&gt;arbitration1
)paren
suffix:semicolon
r_if
c_cond
(paren
id|par-&gt;Architecture
op_ge
id|NV_ARCH_30
)paren
(brace
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D4
comma
l_int|0x47
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D5
comma
id|state-&gt;arbitration1
op_rshift
l_int|8
)paren
suffix:semicolon
)brace
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D4
comma
l_int|0x30
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D5
comma
id|state-&gt;cursor0
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D4
comma
l_int|0x31
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D5
comma
id|state-&gt;cursor1
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D4
comma
l_int|0x2F
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D5
comma
id|state-&gt;cursor2
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D4
comma
l_int|0x39
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D5
comma
id|state-&gt;interlace
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|par-&gt;FlatPanel
)paren
(brace
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMDAC0
comma
l_int|0x050C
comma
id|state-&gt;pllsel
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMDAC0
comma
l_int|0x0508
comma
id|state-&gt;vpll
)paren
suffix:semicolon
r_if
c_cond
(paren
id|par-&gt;twoHeads
)paren
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMDAC0
comma
l_int|0x0520
comma
id|state-&gt;vpll2
)paren
suffix:semicolon
r_if
c_cond
(paren
id|par-&gt;twoStagePLL
)paren
(brace
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMDAC0
comma
l_int|0x0578
comma
id|state-&gt;vpllB
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMDAC0
comma
l_int|0x057C
comma
id|state-&gt;vpll2B
)paren
suffix:semicolon
)brace
)brace
r_else
(brace
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMDAC
comma
l_int|0x0848
comma
id|state-&gt;scale
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMDAC
comma
l_int|0x0828
comma
id|state-&gt;crtcSync
op_plus
id|par-&gt;PanelTweak
)paren
suffix:semicolon
)brace
id|NV_WR32
c_func
(paren
id|par-&gt;PRAMDAC
comma
l_int|0x0600
comma
id|state-&gt;general
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PCRTC
comma
l_int|0x0140
comma
l_int|0
)paren
suffix:semicolon
id|NV_WR32
c_func
(paren
id|par-&gt;PCRTC
comma
l_int|0x0100
comma
l_int|1
)paren
suffix:semicolon
id|par-&gt;CurrentState
op_assign
id|state
suffix:semicolon
)brace
DECL|function|NVUnloadStateExt
r_void
id|NVUnloadStateExt
c_func
(paren
r_struct
id|nvidia_par
op_star
id|par
comma
id|RIVA_HW_STATE
op_star
id|state
)paren
(brace
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D4
comma
l_int|0x19
)paren
suffix:semicolon
id|state-&gt;repaint0
op_assign
id|VGA_RD08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D5
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D4
comma
l_int|0x1A
)paren
suffix:semicolon
id|state-&gt;repaint1
op_assign
id|VGA_RD08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D5
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D4
comma
l_int|0x25
)paren
suffix:semicolon
id|state-&gt;screen
op_assign
id|VGA_RD08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D5
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D4
comma
l_int|0x28
)paren
suffix:semicolon
id|state-&gt;pixel
op_assign
id|VGA_RD08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D5
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D4
comma
l_int|0x2D
)paren
suffix:semicolon
id|state-&gt;horiz
op_assign
id|VGA_RD08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D5
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D4
comma
l_int|0x1C
)paren
suffix:semicolon
id|state-&gt;fifo
op_assign
id|VGA_RD08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D5
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D4
comma
l_int|0x1B
)paren
suffix:semicolon
id|state-&gt;arbitration0
op_assign
id|VGA_RD08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D5
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D4
comma
l_int|0x20
)paren
suffix:semicolon
id|state-&gt;arbitration1
op_assign
id|VGA_RD08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D5
)paren
suffix:semicolon
r_if
c_cond
(paren
id|par-&gt;Architecture
op_ge
id|NV_ARCH_30
)paren
(brace
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D4
comma
l_int|0x47
)paren
suffix:semicolon
id|state-&gt;arbitration1
op_or_assign
(paren
id|VGA_RD08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D5
)paren
op_amp
l_int|1
)paren
op_lshift
l_int|8
suffix:semicolon
)brace
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D4
comma
l_int|0x30
)paren
suffix:semicolon
id|state-&gt;cursor0
op_assign
id|VGA_RD08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D5
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D4
comma
l_int|0x31
)paren
suffix:semicolon
id|state-&gt;cursor1
op_assign
id|VGA_RD08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D5
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D4
comma
l_int|0x2F
)paren
suffix:semicolon
id|state-&gt;cursor2
op_assign
id|VGA_RD08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D5
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D4
comma
l_int|0x39
)paren
suffix:semicolon
id|state-&gt;interlace
op_assign
id|VGA_RD08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D5
)paren
suffix:semicolon
id|state-&gt;vpll
op_assign
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMDAC0
comma
l_int|0x0508
)paren
suffix:semicolon
r_if
c_cond
(paren
id|par-&gt;twoHeads
)paren
id|state-&gt;vpll2
op_assign
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMDAC0
comma
l_int|0x0520
)paren
suffix:semicolon
r_if
c_cond
(paren
id|par-&gt;twoStagePLL
)paren
(brace
id|state-&gt;vpllB
op_assign
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMDAC0
comma
l_int|0x0578
)paren
suffix:semicolon
id|state-&gt;vpll2B
op_assign
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMDAC0
comma
l_int|0x057C
)paren
suffix:semicolon
)brace
id|state-&gt;pllsel
op_assign
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMDAC0
comma
l_int|0x050C
)paren
suffix:semicolon
id|state-&gt;general
op_assign
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMDAC
comma
l_int|0x0600
)paren
suffix:semicolon
id|state-&gt;scale
op_assign
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMDAC
comma
l_int|0x0848
)paren
suffix:semicolon
id|state-&gt;config
op_assign
id|NV_RD32
c_func
(paren
id|par-&gt;PFB
comma
l_int|0x0200
)paren
suffix:semicolon
r_if
c_cond
(paren
id|par-&gt;Architecture
op_ge
id|NV_ARCH_10
)paren
(brace
r_if
c_cond
(paren
id|par-&gt;twoHeads
)paren
(brace
id|state-&gt;head
op_assign
id|NV_RD32
c_func
(paren
id|par-&gt;PCRTC0
comma
l_int|0x0860
)paren
suffix:semicolon
id|state-&gt;head2
op_assign
id|NV_RD32
c_func
(paren
id|par-&gt;PCRTC0
comma
l_int|0x2860
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D4
comma
l_int|0x44
)paren
suffix:semicolon
id|state-&gt;crtcOwner
op_assign
id|VGA_RD08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D5
)paren
suffix:semicolon
)brace
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D4
comma
l_int|0x41
)paren
suffix:semicolon
id|state-&gt;extra
op_assign
id|VGA_RD08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D5
)paren
suffix:semicolon
id|state-&gt;cursorConfig
op_assign
id|NV_RD32
c_func
(paren
id|par-&gt;PCRTC
comma
l_int|0x0810
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|par-&gt;Chipset
op_amp
l_int|0x0ff0
)paren
op_eq
l_int|0x0110
)paren
(brace
id|state-&gt;dither
op_assign
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMDAC
comma
l_int|0x0528
)paren
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|par-&gt;twoHeads
)paren
(brace
id|state-&gt;dither
op_assign
id|NV_RD32
c_func
(paren
id|par-&gt;PRAMDAC
comma
l_int|0x083C
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|par-&gt;FlatPanel
)paren
(brace
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D4
comma
l_int|0x53
)paren
suffix:semicolon
id|state-&gt;timingH
op_assign
id|VGA_RD08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D5
)paren
suffix:semicolon
id|VGA_WR08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D4
comma
l_int|0x54
)paren
suffix:semicolon
id|state-&gt;timingV
op_assign
id|VGA_RD08
c_func
(paren
id|par-&gt;PCIO
comma
l_int|0x03D5
)paren
suffix:semicolon
)brace
)brace
)brace
DECL|function|NVSetStartAddress
r_void
id|NVSetStartAddress
c_func
(paren
r_struct
id|nvidia_par
op_star
id|par
comma
id|u32
id|start
)paren
(brace
id|NV_WR32
c_func
(paren
id|par-&gt;PCRTC
comma
l_int|0x800
comma
id|start
)paren
suffix:semicolon
)brace
eof
