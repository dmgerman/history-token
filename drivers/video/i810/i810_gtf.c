multiline_comment|/*-*- linux-c -*-&n; *  linux/drivers/video/i810_main.h -- Intel 810 Nondiscrete Video Timings &n; *                                     (VESA GTF)&n; *&n; *      Copyright (C) 2001 Antonino Daplas&lt;adaplas@pol.net&gt;&n; *      All Rights Reserved      &n; *&n; *&n; *  This file is subject to the terms and conditions of the GNU General Public&n; *  License. See the file COPYING in the main directory of this archive for&n; *  more details.&n; */
macro_line|#include &lt;linux/kernel.h&gt;
macro_line|#include &quot;i810_regs.h&quot;
macro_line|#include &quot;i810.h&quot;
multiline_comment|/*&n; * FIFO and Watermark tables - based almost wholly on i810_wmark.c in &n; * XFree86 v4.03 by Precision Insight.  Slightly modified for integer &n; * operation, instead of float&n; */
DECL|struct|wm_info
r_struct
id|wm_info
(brace
DECL|member|freq
id|u32
id|freq
suffix:semicolon
DECL|member|wm
id|u32
id|wm
suffix:semicolon
)brace
suffix:semicolon
DECL|variable|i810_wm_8_100
r_struct
id|wm_info
id|i810_wm_8_100
(braket
)braket
op_assign
(brace
(brace
l_int|15
comma
l_int|0x0070c000
)brace
comma
(brace
l_int|19
comma
l_int|0x0070c000
)brace
comma
(brace
l_int|25
comma
l_int|0x22003000
)brace
comma
(brace
l_int|28
comma
l_int|0x22003000
)brace
comma
(brace
l_int|31
comma
l_int|0x22003000
)brace
comma
(brace
l_int|36
comma
l_int|0x22007000
)brace
comma
(brace
l_int|40
comma
l_int|0x22007000
)brace
comma
(brace
l_int|45
comma
l_int|0x22007000
)brace
comma
(brace
l_int|49
comma
l_int|0x22008000
)brace
comma
(brace
l_int|50
comma
l_int|0x22008000
)brace
comma
(brace
l_int|56
comma
l_int|0x22008000
)brace
comma
(brace
l_int|65
comma
l_int|0x22008000
)brace
comma
(brace
l_int|75
comma
l_int|0x22008000
)brace
comma
(brace
l_int|78
comma
l_int|0x22008000
)brace
comma
(brace
l_int|80
comma
l_int|0x22008000
)brace
comma
(brace
l_int|94
comma
l_int|0x22008000
)brace
comma
(brace
l_int|96
comma
l_int|0x22107000
)brace
comma
(brace
l_int|99
comma
l_int|0x22107000
)brace
comma
(brace
l_int|108
comma
l_int|0x22107000
)brace
comma
(brace
l_int|121
comma
l_int|0x22107000
)brace
comma
(brace
l_int|128
comma
l_int|0x22107000
)brace
comma
(brace
l_int|132
comma
l_int|0x22109000
)brace
comma
(brace
l_int|135
comma
l_int|0x22109000
)brace
comma
(brace
l_int|157
comma
l_int|0x2210b000
)brace
comma
(brace
l_int|162
comma
l_int|0x2210b000
)brace
comma
(brace
l_int|175
comma
l_int|0x2210b000
)brace
comma
(brace
l_int|189
comma
l_int|0x2220e000
)brace
comma
(brace
l_int|195
comma
l_int|0x2220e000
)brace
comma
(brace
l_int|202
comma
l_int|0x2220e000
)brace
comma
(brace
l_int|204
comma
l_int|0x2220e000
)brace
comma
(brace
l_int|218
comma
l_int|0x2220f000
)brace
comma
(brace
l_int|229
comma
l_int|0x22210000
)brace
comma
(brace
l_int|234
comma
l_int|0x22210000
)brace
comma
)brace
suffix:semicolon
DECL|variable|i810_wm_16_100
r_struct
id|wm_info
id|i810_wm_16_100
(braket
)braket
op_assign
(brace
(brace
l_int|15
comma
l_int|0x0070c000
)brace
comma
(brace
l_int|19
comma
l_int|0x0020c000
)brace
comma
(brace
l_int|25
comma
l_int|0x22006000
)brace
comma
(brace
l_int|28
comma
l_int|0x22006000
)brace
comma
(brace
l_int|31
comma
l_int|0x22007000
)brace
comma
(brace
l_int|36
comma
l_int|0x22007000
)brace
comma
(brace
l_int|40
comma
l_int|0x22007000
)brace
comma
(brace
l_int|45
comma
l_int|0x22007000
)brace
comma
(brace
l_int|49
comma
l_int|0x22009000
)brace
comma
(brace
l_int|50
comma
l_int|0x22009000
)brace
comma
(brace
l_int|56
comma
l_int|0x22108000
)brace
comma
(brace
l_int|65
comma
l_int|0x2210e000
)brace
comma
(brace
l_int|75
comma
l_int|0x2210e000
)brace
comma
(brace
l_int|78
comma
l_int|0x2210e000
)brace
comma
(brace
l_int|80
comma
l_int|0x22210000
)brace
comma
(brace
l_int|94
comma
l_int|0x22210000
)brace
comma
(brace
l_int|96
comma
l_int|0x22210000
)brace
comma
(brace
l_int|99
comma
l_int|0x22210000
)brace
comma
(brace
l_int|108
comma
l_int|0x22210000
)brace
comma
(brace
l_int|121
comma
l_int|0x22210000
)brace
comma
(brace
l_int|128
comma
l_int|0x22210000
)brace
comma
(brace
l_int|132
comma
l_int|0x22314000
)brace
comma
(brace
l_int|135
comma
l_int|0x22314000
)brace
comma
(brace
l_int|157
comma
l_int|0x22415000
)brace
comma
(brace
l_int|162
comma
l_int|0x22416000
)brace
comma
(brace
l_int|175
comma
l_int|0x22416000
)brace
comma
(brace
l_int|189
comma
l_int|0x22416000
)brace
comma
(brace
l_int|195
comma
l_int|0x22416000
)brace
comma
(brace
l_int|202
comma
l_int|0x22416000
)brace
comma
(brace
l_int|204
comma
l_int|0x22416000
)brace
comma
(brace
l_int|218
comma
l_int|0x22416000
)brace
comma
(brace
l_int|229
comma
l_int|0x22416000
)brace
comma
)brace
suffix:semicolon
DECL|variable|i810_wm_24_100
r_struct
id|wm_info
id|i810_wm_24_100
(braket
)braket
op_assign
(brace
(brace
l_int|15
comma
l_int|0x0020c000
)brace
comma
(brace
l_int|19
comma
l_int|0x0040c000
)brace
comma
(brace
l_int|25
comma
l_int|0x22009000
)brace
comma
(brace
l_int|28
comma
l_int|0x22009000
)brace
comma
(brace
l_int|31
comma
l_int|0x2200a000
)brace
comma
(brace
l_int|36
comma
l_int|0x2210c000
)brace
comma
(brace
l_int|40
comma
l_int|0x2210c000
)brace
comma
(brace
l_int|45
comma
l_int|0x2210c000
)brace
comma
(brace
l_int|49
comma
l_int|0x22111000
)brace
comma
(brace
l_int|50
comma
l_int|0x22111000
)brace
comma
(brace
l_int|56
comma
l_int|0x22111000
)brace
comma
(brace
l_int|65
comma
l_int|0x22214000
)brace
comma
(brace
l_int|75
comma
l_int|0x22214000
)brace
comma
(brace
l_int|78
comma
l_int|0x22215000
)brace
comma
(brace
l_int|80
comma
l_int|0x22216000
)brace
comma
(brace
l_int|94
comma
l_int|0x22218000
)brace
comma
(brace
l_int|96
comma
l_int|0x22418000
)brace
comma
(brace
l_int|99
comma
l_int|0x22418000
)brace
comma
(brace
l_int|108
comma
l_int|0x22418000
)brace
comma
(brace
l_int|121
comma
l_int|0x22418000
)brace
comma
(brace
l_int|128
comma
l_int|0x22419000
)brace
comma
(brace
l_int|132
comma
l_int|0x22519000
)brace
comma
(brace
l_int|135
comma
l_int|0x4441d000
)brace
comma
(brace
l_int|157
comma
l_int|0x44419000
)brace
comma
(brace
l_int|162
comma
l_int|0x44419000
)brace
comma
(brace
l_int|175
comma
l_int|0x44419000
)brace
comma
(brace
l_int|189
comma
l_int|0x44419000
)brace
comma
(brace
l_int|195
comma
l_int|0x44419000
)brace
comma
(brace
l_int|202
comma
l_int|0x44419000
)brace
comma
(brace
l_int|204
comma
l_int|0x44419000
)brace
comma
)brace
suffix:semicolon
DECL|variable|i810_wm_8_133
r_struct
id|wm_info
id|i810_wm_8_133
(braket
)braket
op_assign
(brace
(brace
l_int|15
comma
l_int|0x0070c000
)brace
comma
(brace
l_int|19
comma
l_int|0x0070c000
)brace
comma
(brace
l_int|25
comma
l_int|0x22003000
)brace
comma
(brace
l_int|28
comma
l_int|0x22003000
)brace
comma
(brace
l_int|31
comma
l_int|0x22003000
)brace
comma
(brace
l_int|36
comma
l_int|0x22007000
)brace
comma
(brace
l_int|40
comma
l_int|0x22007000
)brace
comma
(brace
l_int|45
comma
l_int|0x22007000
)brace
comma
(brace
l_int|49
comma
l_int|0x22008000
)brace
comma
(brace
l_int|50
comma
l_int|0x22008000
)brace
comma
(brace
l_int|56
comma
l_int|0x22008000
)brace
comma
(brace
l_int|65
comma
l_int|0x22008000
)brace
comma
(brace
l_int|75
comma
l_int|0x22008000
)brace
comma
(brace
l_int|78
comma
l_int|0x22008000
)brace
comma
(brace
l_int|80
comma
l_int|0x22008000
)brace
comma
(brace
l_int|94
comma
l_int|0x22008000
)brace
comma
(brace
l_int|96
comma
l_int|0x22107000
)brace
comma
(brace
l_int|99
comma
l_int|0x22107000
)brace
comma
(brace
l_int|108
comma
l_int|0x22107000
)brace
comma
(brace
l_int|121
comma
l_int|0x22107000
)brace
comma
(brace
l_int|128
comma
l_int|0x22107000
)brace
comma
(brace
l_int|132
comma
l_int|0x22109000
)brace
comma
(brace
l_int|135
comma
l_int|0x22109000
)brace
comma
(brace
l_int|157
comma
l_int|0x2210b000
)brace
comma
(brace
l_int|162
comma
l_int|0x2210b000
)brace
comma
(brace
l_int|175
comma
l_int|0x2210b000
)brace
comma
(brace
l_int|189
comma
l_int|0x2220e000
)brace
comma
(brace
l_int|195
comma
l_int|0x2220e000
)brace
comma
(brace
l_int|202
comma
l_int|0x2220e000
)brace
comma
(brace
l_int|204
comma
l_int|0x2220e000
)brace
comma
(brace
l_int|218
comma
l_int|0x2220f000
)brace
comma
(brace
l_int|229
comma
l_int|0x22210000
)brace
comma
(brace
l_int|234
comma
l_int|0x22210000
)brace
comma
)brace
suffix:semicolon
DECL|variable|i810_wm_16_133
r_struct
id|wm_info
id|i810_wm_16_133
(braket
)braket
op_assign
(brace
(brace
l_int|15
comma
l_int|0x0020c000
)brace
comma
(brace
l_int|19
comma
l_int|0x0020c000
)brace
comma
(brace
l_int|25
comma
l_int|0x22006000
)brace
comma
(brace
l_int|28
comma
l_int|0x22006000
)brace
comma
(brace
l_int|31
comma
l_int|0x22007000
)brace
comma
(brace
l_int|36
comma
l_int|0x22007000
)brace
comma
(brace
l_int|40
comma
l_int|0x22007000
)brace
comma
(brace
l_int|45
comma
l_int|0x22007000
)brace
comma
(brace
l_int|49
comma
l_int|0x22009000
)brace
comma
(brace
l_int|50
comma
l_int|0x22009000
)brace
comma
(brace
l_int|56
comma
l_int|0x22108000
)brace
comma
(brace
l_int|65
comma
l_int|0x2210e000
)brace
comma
(brace
l_int|75
comma
l_int|0x2210e000
)brace
comma
(brace
l_int|78
comma
l_int|0x2210e000
)brace
comma
(brace
l_int|80
comma
l_int|0x22210000
)brace
comma
(brace
l_int|94
comma
l_int|0x22210000
)brace
comma
(brace
l_int|96
comma
l_int|0x22210000
)brace
comma
(brace
l_int|99
comma
l_int|0x22210000
)brace
comma
(brace
l_int|108
comma
l_int|0x22210000
)brace
comma
(brace
l_int|121
comma
l_int|0x22210000
)brace
comma
(brace
l_int|128
comma
l_int|0x22210000
)brace
comma
(brace
l_int|132
comma
l_int|0x22314000
)brace
comma
(brace
l_int|135
comma
l_int|0x22314000
)brace
comma
(brace
l_int|157
comma
l_int|0x22415000
)brace
comma
(brace
l_int|162
comma
l_int|0x22416000
)brace
comma
(brace
l_int|175
comma
l_int|0x22416000
)brace
comma
(brace
l_int|189
comma
l_int|0x22416000
)brace
comma
(brace
l_int|195
comma
l_int|0x22416000
)brace
comma
(brace
l_int|202
comma
l_int|0x22416000
)brace
comma
(brace
l_int|204
comma
l_int|0x22416000
)brace
comma
(brace
l_int|218
comma
l_int|0x22416000
)brace
comma
(brace
l_int|229
comma
l_int|0x22416000
)brace
comma
)brace
suffix:semicolon
DECL|variable|i810_wm_24_133
r_struct
id|wm_info
id|i810_wm_24_133
(braket
)braket
op_assign
(brace
(brace
l_int|15
comma
l_int|0x0020c000
)brace
comma
(brace
l_int|19
comma
l_int|0x00408000
)brace
comma
(brace
l_int|25
comma
l_int|0x22009000
)brace
comma
(brace
l_int|28
comma
l_int|0x22009000
)brace
comma
(brace
l_int|31
comma
l_int|0x2200a000
)brace
comma
(brace
l_int|36
comma
l_int|0x2210c000
)brace
comma
(brace
l_int|40
comma
l_int|0x2210c000
)brace
comma
(brace
l_int|45
comma
l_int|0x2210c000
)brace
comma
(brace
l_int|49
comma
l_int|0x22111000
)brace
comma
(brace
l_int|50
comma
l_int|0x22111000
)brace
comma
(brace
l_int|56
comma
l_int|0x22111000
)brace
comma
(brace
l_int|65
comma
l_int|0x22214000
)brace
comma
(brace
l_int|75
comma
l_int|0x22214000
)brace
comma
(brace
l_int|78
comma
l_int|0x22215000
)brace
comma
(brace
l_int|80
comma
l_int|0x22216000
)brace
comma
(brace
l_int|94
comma
l_int|0x22218000
)brace
comma
(brace
l_int|96
comma
l_int|0x22418000
)brace
comma
(brace
l_int|99
comma
l_int|0x22418000
)brace
comma
(brace
l_int|108
comma
l_int|0x22418000
)brace
comma
(brace
l_int|121
comma
l_int|0x22418000
)brace
comma
(brace
l_int|128
comma
l_int|0x22419000
)brace
comma
(brace
l_int|132
comma
l_int|0x22519000
)brace
comma
(brace
l_int|135
comma
l_int|0x4441d000
)brace
comma
(brace
l_int|157
comma
l_int|0x44419000
)brace
comma
(brace
l_int|162
comma
l_int|0x44419000
)brace
comma
(brace
l_int|175
comma
l_int|0x44419000
)brace
comma
(brace
l_int|189
comma
l_int|0x44419000
)brace
comma
(brace
l_int|195
comma
l_int|0x44419000
)brace
comma
(brace
l_int|202
comma
l_int|0x44419000
)brace
comma
(brace
l_int|204
comma
l_int|0x44419000
)brace
comma
)brace
suffix:semicolon
DECL|function|round_off_xres
r_void
id|round_off_xres
c_func
(paren
id|u32
op_star
id|xres
)paren
(brace
)brace
DECL|function|round_off_yres
r_void
id|round_off_yres
c_func
(paren
id|u32
op_star
id|xres
comma
id|u32
op_star
id|yres
)paren
(brace
)brace
multiline_comment|/**&n; * i810fb_encode_registers - encode @var to hardware register values&n; * @var: pointer to var structure&n; * @par: pointer to hardware par structure&n; * &n; * DESCRIPTION: &n; * Timing values in @var will be converted to appropriate&n; * register values of @par.  &n; */
DECL|function|i810fb_encode_registers
r_void
id|i810fb_encode_registers
c_func
(paren
r_const
r_struct
id|fb_var_screeninfo
op_star
id|var
comma
r_struct
id|i810fb_par
op_star
id|par
comma
id|u32
id|xres
comma
id|u32
id|yres
)paren
(brace
r_int
id|n
comma
id|blank_s
comma
id|blank_e
suffix:semicolon
id|u8
op_star
id|mmio
op_assign
id|par-&gt;mmio_start_virtual
comma
id|msr
op_assign
l_int|0
suffix:semicolon
multiline_comment|/* Horizontal */
multiline_comment|/* htotal */
id|n
op_assign
(paren
(paren
id|xres
op_plus
id|var-&gt;right_margin
op_plus
id|var-&gt;hsync_len
op_plus
id|var-&gt;left_margin
)paren
op_rshift
l_int|3
)paren
op_minus
l_int|5
suffix:semicolon
id|par-&gt;regs.cr00
op_assign
(paren
id|u8
)paren
id|n
suffix:semicolon
id|par-&gt;regs.cr35
op_assign
(paren
id|u8
)paren
(paren
(paren
id|n
op_rshift
l_int|8
)paren
op_amp
l_int|1
)paren
suffix:semicolon
multiline_comment|/* xres */
id|par-&gt;regs.cr01
op_assign
(paren
id|u8
)paren
(paren
(paren
id|xres
op_rshift
l_int|3
)paren
op_minus
l_int|1
)paren
suffix:semicolon
multiline_comment|/* hblank */
id|blank_e
op_assign
(paren
id|xres
op_plus
id|var-&gt;right_margin
op_plus
id|var-&gt;hsync_len
op_plus
id|var-&gt;left_margin
)paren
op_rshift
l_int|3
suffix:semicolon
id|blank_e
op_decrement
suffix:semicolon
id|blank_s
op_assign
id|blank_e
op_minus
l_int|127
suffix:semicolon
r_if
c_cond
(paren
id|blank_s
OL
(paren
id|xres
op_rshift
l_int|3
)paren
)paren
id|blank_s
op_assign
id|xres
op_rshift
l_int|3
suffix:semicolon
id|par-&gt;regs.cr02
op_assign
(paren
id|u8
)paren
id|blank_s
suffix:semicolon
id|par-&gt;regs.cr03
op_assign
(paren
id|u8
)paren
(paren
id|blank_e
op_amp
l_int|0x1F
)paren
suffix:semicolon
id|par-&gt;regs.cr05
op_assign
(paren
id|u8
)paren
(paren
(paren
id|blank_e
op_amp
(paren
l_int|1
op_lshift
l_int|5
)paren
)paren
op_lshift
l_int|2
)paren
suffix:semicolon
id|par-&gt;regs.cr39
op_assign
(paren
id|u8
)paren
(paren
(paren
id|blank_e
op_rshift
l_int|6
)paren
op_amp
l_int|1
)paren
suffix:semicolon
multiline_comment|/* hsync */
id|par-&gt;regs.cr04
op_assign
(paren
id|u8
)paren
(paren
(paren
id|xres
op_plus
id|var-&gt;right_margin
)paren
op_rshift
l_int|3
)paren
suffix:semicolon
id|par-&gt;regs.cr05
op_or_assign
(paren
id|u8
)paren
(paren
(paren
(paren
id|xres
op_plus
id|var-&gt;right_margin
op_plus
id|var-&gt;hsync_len
)paren
op_rshift
l_int|3
)paren
op_amp
l_int|0x1F
)paren
suffix:semicolon
multiline_comment|/* Vertical */
multiline_comment|/* vtotal */
id|n
op_assign
id|yres
op_plus
id|var-&gt;lower_margin
op_plus
id|var-&gt;vsync_len
op_plus
id|var-&gt;upper_margin
op_minus
l_int|2
suffix:semicolon
id|par-&gt;regs.cr06
op_assign
(paren
id|u8
)paren
(paren
id|n
op_amp
l_int|0xFF
)paren
suffix:semicolon
id|par-&gt;regs.cr30
op_assign
(paren
id|u8
)paren
(paren
(paren
id|n
op_rshift
l_int|8
)paren
op_amp
l_int|0x0F
)paren
suffix:semicolon
multiline_comment|/* vsync */
id|n
op_assign
id|yres
op_plus
id|var-&gt;lower_margin
suffix:semicolon
id|par-&gt;regs.cr10
op_assign
(paren
id|u8
)paren
(paren
id|n
op_amp
l_int|0xFF
)paren
suffix:semicolon
id|par-&gt;regs.cr32
op_assign
(paren
id|u8
)paren
(paren
(paren
id|n
op_rshift
l_int|8
)paren
op_amp
l_int|0x0F
)paren
suffix:semicolon
id|par-&gt;regs.cr11
op_assign
id|i810_readb
c_func
(paren
id|CR11
comma
id|mmio
)paren
op_amp
op_complement
l_int|0x0F
suffix:semicolon
id|par-&gt;regs.cr11
op_or_assign
(paren
id|u8
)paren
(paren
(paren
id|yres
op_plus
id|var-&gt;lower_margin
op_plus
id|var-&gt;vsync_len
)paren
op_amp
l_int|0x0F
)paren
suffix:semicolon
multiline_comment|/* yres */
id|n
op_assign
id|yres
op_minus
l_int|1
suffix:semicolon
id|par-&gt;regs.cr12
op_assign
(paren
id|u8
)paren
(paren
id|n
op_amp
l_int|0xFF
)paren
suffix:semicolon
id|par-&gt;regs.cr31
op_assign
(paren
id|u8
)paren
(paren
(paren
id|n
op_rshift
l_int|8
)paren
op_amp
l_int|0x0F
)paren
suffix:semicolon
multiline_comment|/* vblank */
id|blank_e
op_assign
id|yres
op_plus
id|var-&gt;lower_margin
op_plus
id|var-&gt;vsync_len
op_plus
id|var-&gt;upper_margin
suffix:semicolon
id|blank_e
op_decrement
suffix:semicolon
id|blank_s
op_assign
id|blank_e
op_minus
l_int|127
suffix:semicolon
r_if
c_cond
(paren
id|blank_s
OL
id|yres
)paren
id|blank_s
op_assign
id|yres
suffix:semicolon
id|par-&gt;regs.cr15
op_assign
(paren
id|u8
)paren
(paren
id|blank_s
op_amp
l_int|0xFF
)paren
suffix:semicolon
id|par-&gt;regs.cr33
op_assign
(paren
id|u8
)paren
(paren
(paren
id|blank_s
op_rshift
l_int|8
)paren
op_amp
l_int|0x0F
)paren
suffix:semicolon
id|par-&gt;regs.cr16
op_assign
(paren
id|u8
)paren
(paren
id|blank_e
op_amp
l_int|0xFF
)paren
suffix:semicolon
id|par-&gt;regs.cr09
op_assign
l_int|0
suffix:semicolon
multiline_comment|/* sync polarity */
r_if
c_cond
(paren
op_logical_neg
(paren
id|var-&gt;sync
op_amp
id|FB_SYNC_HOR_HIGH_ACT
)paren
)paren
id|msr
op_or_assign
l_int|1
op_lshift
l_int|6
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
(paren
id|var-&gt;sync
op_amp
id|FB_SYNC_VERT_HIGH_ACT
)paren
)paren
id|msr
op_or_assign
l_int|1
op_lshift
l_int|7
suffix:semicolon
id|par-&gt;regs.msr
op_assign
id|msr
suffix:semicolon
multiline_comment|/* interlace */
r_if
c_cond
(paren
id|var-&gt;vmode
op_amp
id|FB_VMODE_INTERLACED
)paren
id|par-&gt;interlace
op_assign
(paren
l_int|1
op_lshift
l_int|7
)paren
op_or
(paren
(paren
id|u8
)paren
(paren
id|var-&gt;yres
op_rshift
l_int|4
)paren
)paren
suffix:semicolon
r_else
id|par-&gt;interlace
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|var-&gt;vmode
op_amp
id|FB_VMODE_DOUBLE
)paren
id|par-&gt;regs.cr09
op_or_assign
l_int|1
op_lshift
l_int|7
suffix:semicolon
multiline_comment|/* overlay */
id|par-&gt;ovract
op_assign
(paren
(paren
id|var-&gt;xres
op_plus
id|var-&gt;right_margin
op_plus
id|var-&gt;hsync_len
op_plus
id|var-&gt;left_margin
op_minus
l_int|32
)paren
op_or
(paren
(paren
id|var-&gt;xres
op_minus
l_int|32
)paren
op_lshift
l_int|16
)paren
)paren
suffix:semicolon
)brace
DECL|function|i810fb_fill_var_timings
r_void
id|i810fb_fill_var_timings
c_func
(paren
r_struct
id|fb_var_screeninfo
op_star
id|var
)paren
(brace
)brace
multiline_comment|/**&n; * i810_get_watermark - gets watermark&n; * @var: pointer to fb_var_screeninfo&n; * @par: pointer to i810fb_par structure&n; *&n; * DESCRIPTION:&n; * Get&squot;s the required watermark based on &n; * pixelclock and RAMBUS frequency.&n; * &n; * RETURNS:&n; * watermark&n; */
DECL|function|i810_get_watermark
id|u32
id|i810_get_watermark
c_func
(paren
r_const
r_struct
id|fb_var_screeninfo
op_star
id|var
comma
r_struct
id|i810fb_par
op_star
id|par
)paren
(brace
r_struct
id|wm_info
op_star
id|wmark
op_assign
l_int|0
suffix:semicolon
id|u32
id|i
comma
id|size
op_assign
l_int|0
comma
id|pixclock
comma
id|wm_best
op_assign
l_int|0
comma
id|min
comma
id|diff
suffix:semicolon
r_if
c_cond
(paren
id|par-&gt;mem_freq
op_eq
l_int|100
)paren
(brace
r_switch
c_cond
(paren
id|var-&gt;bits_per_pixel
)paren
(brace
r_case
l_int|8
suffix:colon
id|wmark
op_assign
id|i810_wm_8_100
suffix:semicolon
id|size
op_assign
id|ARRAY_SIZE
c_func
(paren
id|i810_wm_8_100
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|16
suffix:colon
id|wmark
op_assign
id|i810_wm_16_100
suffix:semicolon
id|size
op_assign
id|ARRAY_SIZE
c_func
(paren
id|i810_wm_16_100
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|24
suffix:colon
r_case
l_int|32
suffix:colon
id|wmark
op_assign
id|i810_wm_24_100
suffix:semicolon
id|size
op_assign
id|ARRAY_SIZE
c_func
(paren
id|i810_wm_24_100
)paren
suffix:semicolon
)brace
)brace
r_else
(brace
r_switch
c_cond
(paren
id|var-&gt;bits_per_pixel
)paren
(brace
r_case
l_int|8
suffix:colon
id|wmark
op_assign
id|i810_wm_8_133
suffix:semicolon
id|size
op_assign
id|ARRAY_SIZE
c_func
(paren
id|i810_wm_8_133
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|16
suffix:colon
id|wmark
op_assign
id|i810_wm_16_133
suffix:semicolon
id|size
op_assign
id|ARRAY_SIZE
c_func
(paren
id|i810_wm_16_133
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|24
suffix:colon
r_case
l_int|32
suffix:colon
id|wmark
op_assign
id|i810_wm_24_133
suffix:semicolon
id|size
op_assign
id|ARRAY_SIZE
c_func
(paren
id|i810_wm_24_133
)paren
suffix:semicolon
)brace
)brace
id|pixclock
op_assign
l_int|1000000
op_div
id|var-&gt;pixclock
suffix:semicolon
id|min
op_assign
op_complement
l_int|0
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|size
suffix:semicolon
id|i
op_increment
)paren
(brace
r_if
c_cond
(paren
id|pixclock
op_le
id|wmark
(braket
id|i
)braket
dot
id|freq
)paren
id|diff
op_assign
id|wmark
(braket
id|i
)braket
dot
id|freq
op_minus
id|pixclock
suffix:semicolon
r_else
id|diff
op_assign
id|pixclock
op_minus
id|wmark
(braket
id|i
)braket
dot
id|freq
suffix:semicolon
r_if
c_cond
(paren
id|diff
OL
id|min
)paren
(brace
id|wm_best
op_assign
id|wmark
(braket
id|i
)braket
dot
id|wm
suffix:semicolon
id|min
op_assign
id|diff
suffix:semicolon
)brace
)brace
r_return
id|wm_best
suffix:semicolon
)brace
eof
