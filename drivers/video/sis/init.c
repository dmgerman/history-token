multiline_comment|/* $XFree86: xc/programs/Xserver/hw/xfree86/drivers/sis/init.c,v 1.3 2002/24/04 01:16:16 dawes Exp $ */
multiline_comment|/*&n; * Mode switching code (CRT1 section) for SiS 300/540/630/730/315/550/650/740/330&n; * (Universal module for Linux kernel framebuffer and XFree86 4.x)&n; *&n; * Assembler-To-C translation&n; * Copyright 2002 by Thomas Winischhofer &lt;thomas@winischhofer.net&gt;&n; * Minor parts Copyright SiS, Inc.&n; *&n; * Based on BIOS&n; *     1.10.07, 1.10a for 650/CH7019&n; *     1.11.21a for 740/CH7019&n; *     1.11.05 for 650/LVDS (w/o Chrontel)&n; *     1.07.1b, 1.11.6s, 1.11.6w, 1.11.7w, 1.11.8r for 650/301(B/LV)&n; *     2.04.50 (I) and 2.04.5c (II) for 630/301(B)&n; *     2.06.50 for 630/301B (dual VGA)&n; *     2.02.3b, 2.03.02, 2.04.5c, 2.07a and 2.08.b3 for 630/LVDS/LVDS+CH7005&n; *     2.04.5c, 2.04.6c for 730+LVDS+CH7005&n; *     1.09b for 315/301(B)&n; *     1.16.51 for 300+301LV (ECS A907)&n; *     1.01.03 for 330 (Xabre 400)&n; *&n; * Permission to use, copy, modify, distribute, and sell this software and its&n; * documentation for any purpose is hereby granted without fee, provided that&n; * the above copyright notice appear in all copies and that both that&n; * copyright notice and this permission notice appear in supporting&n; * documentation, and that the name of the copyright holder not be used in&n; * advertising or publicity pertaining to distribution of the software without&n; * specific, written prior permission.  The copyright holder makes no representations&n; * about the suitability of this software for any purpose.  It is provided&n; * &quot;as is&quot; without express or implied warranty.&n; *&n; * THE COPYRIGHT HOLDER DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE,&n; * INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO&n; * EVENT SHALL THE COPYRIGHT HOLDER BE LIABLE FOR ANY SPECIAL, INDIRECT OR&n; * CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE,&n; * DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER&n; * TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR&n; * PERFORMANCE OF THIS SOFTWARE.&n; *&n; * TW says: This code looks awful, I know. But please don&squot;t do anything about&n; * this otherwise debugging will be hell.&n; * The code is extremely fragile as regards the different chipsets, different&n; * video bridges and combinations thereof. If anything is changed, extreme&n; * care has to be taken that that change doesn&squot;t break it for other chipsets,&n; * bridges or combinations thereof.&n; * All comments in this file are by me, regardless if they are marked TW or not.&n; *&n; */
macro_line|#include &quot;init.h&quot;
macro_line|#ifdef SIS300
macro_line|#include &quot;300vtbl.h&quot;
macro_line|#endif
macro_line|#ifdef SIS315H
macro_line|#include &quot;310vtbl.h&quot;
macro_line|#endif
macro_line|#ifdef LINUX_XF86
id|BOOLEAN
id|SiSBIOSSetMode
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
comma
id|ScrnInfoPtr
id|pScrn
comma
id|DisplayModePtr
id|mode
comma
id|BOOLEAN
id|IsCustom
)paren
suffix:semicolon
id|DisplayModePtr
id|SiSBuildBuiltInModeList
c_func
(paren
id|ScrnInfoPtr
id|pScrn
)paren
suffix:semicolon
macro_line|#ifdef SISDUALHEAD /* TW: For dual head */
id|BOOLEAN
id|SiSBIOSSetModeCRT1
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
comma
id|ScrnInfoPtr
id|pScrn
comma
id|DisplayModePtr
id|mode
comma
id|BOOLEAN
id|IsCustom
)paren
suffix:semicolon
id|BOOLEAN
id|SiSBIOSSetModeCRT2
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
comma
id|ScrnInfoPtr
id|pScrn
comma
id|DisplayModePtr
id|mode
)paren
suffix:semicolon
macro_line|#endif /* dual head */
macro_line|#endif /* linux_xf86 */
macro_line|#ifdef LINUXBIOS
id|BOOLEAN
id|SiSInit
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
)paren
suffix:semicolon
macro_line|#endif
macro_line|#ifdef LINUX_XF86
id|BOOLEAN
id|SiSSetMode
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
comma
id|ScrnInfoPtr
id|pScrn
comma
id|USHORT
id|ModeNo
comma
id|BOOLEAN
id|dosetpitch
)paren
suffix:semicolon
macro_line|#else
id|BOOLEAN
id|SiSSetMode
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
comma
id|USHORT
id|ModeNo
)paren
suffix:semicolon
macro_line|#endif
macro_line|#if defined(ALLOC_PRAGMA)
macro_line|#pragma alloc_text(PAGE,SiSSetMode)
macro_line|#pragma alloc_text(PAGE,SiSInit)
macro_line|#endif
r_static
id|ULONG
id|GetDRAMSize
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
)paren
suffix:semicolon
r_static
r_void
id|DelaySeconds
c_func
(paren
r_int
id|seconds
)paren
suffix:semicolon
r_void
id|SiS_DebugCode
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|UCHAR
id|code
)paren
suffix:semicolon
r_static
r_void
DECL|function|DelaySeconds
id|DelaySeconds
c_func
(paren
r_int
id|seconds
)paren
(brace
r_int
id|i
suffix:semicolon
macro_line|#ifdef WIN2000
r_int
id|j
suffix:semicolon
macro_line|#endif
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|seconds
suffix:semicolon
id|i
op_increment
)paren
(brace
macro_line|#ifdef TC
id|delay
c_func
(paren
l_int|1000
)paren
suffix:semicolon
macro_line|#endif
macro_line|#ifdef WIN2000
r_for
c_loop
(paren
id|j
op_assign
l_int|0
suffix:semicolon
id|j
OL
l_int|20000
suffix:semicolon
id|j
op_increment
)paren
id|VideoPortStallExecution
c_func
(paren
l_int|50
)paren
suffix:semicolon
macro_line|#endif
macro_line|#ifdef WINCE_HEADER
macro_line|#endif
macro_line|#ifdef LINUX_KERNEL
macro_line|#endif
)brace
)brace
r_void
DECL|function|SiS_DebugCode
id|SiS_DebugCode
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|UCHAR
id|code
)paren
(brace
id|OutPortByte
c_func
(paren
l_int|0x80
comma
id|code
)paren
suffix:semicolon
id|DelaySeconds
c_func
(paren
l_int|0x3
)paren
suffix:semicolon
)brace
macro_line|#ifdef SIS300
r_static
r_void
DECL|function|InitTo300Pointer
id|InitTo300Pointer
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
)paren
(brace
id|SiS_Pr-&gt;SiS_SModeIDTable
op_assign
(paren
id|SiS_StStruct
op_star
)paren
id|SiS300_SModeIDTable
suffix:semicolon
id|SiS_Pr-&gt;SiS_VBModeIDTable
op_assign
(paren
id|SiS_VBModeStruct
op_star
)paren
id|SiS300_VBModeIDTable
suffix:semicolon
id|SiS_Pr-&gt;SiS_StandTable
op_assign
(paren
id|SiS_StandTableStruct
op_star
)paren
id|SiS300_StandTable
suffix:semicolon
id|SiS_Pr-&gt;SiS_EModeIDTable
op_assign
(paren
id|SiS_ExtStruct
op_star
)paren
id|SiS300_EModeIDTable
suffix:semicolon
id|SiS_Pr-&gt;SiS_RefIndex
op_assign
(paren
id|SiS_Ext2Struct
op_star
)paren
id|SiS300_RefIndex
suffix:semicolon
id|SiS_Pr-&gt;SiS_CRT1Table
op_assign
(paren
id|SiS_CRT1TableStruct
op_star
)paren
id|SiS300_CRT1Table
suffix:semicolon
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_300
)paren
(brace
id|SiS_Pr-&gt;SiS_MCLKData_0
op_assign
(paren
id|SiS_MCLKDataStruct
op_star
)paren
id|SiS300_MCLKData_300
suffix:semicolon
multiline_comment|/* 300 */
)brace
r_else
(brace
id|SiS_Pr-&gt;SiS_MCLKData_0
op_assign
(paren
id|SiS_MCLKDataStruct
op_star
)paren
id|SiS300_MCLKData_630
suffix:semicolon
multiline_comment|/* 630, 730 */
)brace
id|SiS_Pr-&gt;SiS_ECLKData
op_assign
(paren
id|SiS_ECLKDataStruct
op_star
)paren
id|SiS300_ECLKData
suffix:semicolon
id|SiS_Pr-&gt;SiS_VCLKData
op_assign
(paren
id|SiS_VCLKDataStruct
op_star
)paren
id|SiS300_VCLKData
suffix:semicolon
id|SiS_Pr-&gt;SiS_VBVCLKData
op_assign
(paren
id|SiS_VBVCLKDataStruct
op_star
)paren
id|SiS300_VCLKData
suffix:semicolon
id|SiS_Pr-&gt;SiS_ScreenOffset
op_assign
id|SiS300_ScreenOffset
suffix:semicolon
id|SiS_Pr-&gt;SiS_StResInfo
op_assign
(paren
id|SiS_StResInfoStruct
op_star
)paren
id|SiS300_StResInfo
suffix:semicolon
id|SiS_Pr-&gt;SiS_ModeResInfo
op_assign
(paren
id|SiS_ModeResInfoStruct
op_star
)paren
id|SiS300_ModeResInfo
suffix:semicolon
id|SiS_Pr-&gt;pSiS_OutputSelect
op_assign
op_amp
id|SiS300_OutputSelect
suffix:semicolon
id|SiS_Pr-&gt;pSiS_SoftSetting
op_assign
op_amp
id|SiS300_SoftSetting
suffix:semicolon
id|SiS_Pr-&gt;SiS_SR15
op_assign
id|SiS300_SR15
suffix:semicolon
macro_line|#ifndef LINUX_XF86
id|SiS_Pr-&gt;pSiS_SR07
op_assign
op_amp
id|SiS300_SR07
suffix:semicolon
id|SiS_Pr-&gt;SiS_CR40
op_assign
id|SiS300_CR40
suffix:semicolon
id|SiS_Pr-&gt;SiS_CR49
op_assign
id|SiS300_CR49
suffix:semicolon
id|SiS_Pr-&gt;pSiS_SR1F
op_assign
op_amp
id|SiS300_SR1F
suffix:semicolon
id|SiS_Pr-&gt;pSiS_SR21
op_assign
op_amp
id|SiS300_SR21
suffix:semicolon
id|SiS_Pr-&gt;pSiS_SR22
op_assign
op_amp
id|SiS300_SR22
suffix:semicolon
id|SiS_Pr-&gt;pSiS_SR23
op_assign
op_amp
id|SiS300_SR23
suffix:semicolon
id|SiS_Pr-&gt;pSiS_SR24
op_assign
op_amp
id|SiS300_SR24
suffix:semicolon
id|SiS_Pr-&gt;SiS_SR25
op_assign
id|SiS300_SR25
suffix:semicolon
id|SiS_Pr-&gt;pSiS_SR31
op_assign
op_amp
id|SiS300_SR31
suffix:semicolon
id|SiS_Pr-&gt;pSiS_SR32
op_assign
op_amp
id|SiS300_SR32
suffix:semicolon
id|SiS_Pr-&gt;pSiS_SR33
op_assign
op_amp
id|SiS300_SR33
suffix:semicolon
id|SiS_Pr-&gt;pSiS_CRT2Data_1_2
op_assign
op_amp
id|SiS300_CRT2Data_1_2
suffix:semicolon
id|SiS_Pr-&gt;pSiS_CRT2Data_4_D
op_assign
op_amp
id|SiS300_CRT2Data_4_D
suffix:semicolon
id|SiS_Pr-&gt;pSiS_CRT2Data_4_E
op_assign
op_amp
id|SiS300_CRT2Data_4_E
suffix:semicolon
id|SiS_Pr-&gt;pSiS_CRT2Data_4_10
op_assign
op_amp
id|SiS300_CRT2Data_4_10
suffix:semicolon
id|SiS_Pr-&gt;pSiS_RGBSenseData
op_assign
op_amp
id|SiS300_RGBSenseData
suffix:semicolon
id|SiS_Pr-&gt;pSiS_VideoSenseData
op_assign
op_amp
id|SiS300_VideoSenseData
suffix:semicolon
id|SiS_Pr-&gt;pSiS_YCSenseData
op_assign
op_amp
id|SiS300_YCSenseData
suffix:semicolon
id|SiS_Pr-&gt;pSiS_RGBSenseData2
op_assign
op_amp
id|SiS300_RGBSenseData2
suffix:semicolon
id|SiS_Pr-&gt;pSiS_VideoSenseData2
op_assign
op_amp
id|SiS300_VideoSenseData2
suffix:semicolon
id|SiS_Pr-&gt;pSiS_YCSenseData2
op_assign
op_amp
id|SiS300_YCSenseData2
suffix:semicolon
macro_line|#endif
id|SiS_Pr-&gt;SiS_NTSCPhase
op_assign
id|SiS300_NTSCPhase
suffix:semicolon
id|SiS_Pr-&gt;SiS_PALPhase
op_assign
id|SiS300_PALPhase
suffix:semicolon
id|SiS_Pr-&gt;SiS_NTSCPhase2
op_assign
id|SiS300_NTSCPhase2
suffix:semicolon
id|SiS_Pr-&gt;SiS_PALPhase2
op_assign
id|SiS300_PALPhase2
suffix:semicolon
id|SiS_Pr-&gt;SiS_PALMPhase
op_assign
id|SiS300_PALMPhase
suffix:semicolon
id|SiS_Pr-&gt;SiS_PALNPhase
op_assign
id|SiS300_PALNPhase
suffix:semicolon
id|SiS_Pr-&gt;SiS_PALMPhase2
op_assign
id|SiS300_PALMPhase2
suffix:semicolon
id|SiS_Pr-&gt;SiS_PALNPhase2
op_assign
id|SiS300_PALNPhase2
suffix:semicolon
id|SiS_Pr-&gt;SiS_StLCD1024x768Data
op_assign
(paren
id|SiS_LCDDataStruct
op_star
)paren
id|SiS300_StLCD1024x768Data
suffix:semicolon
id|SiS_Pr-&gt;SiS_ExtLCD1024x768Data
op_assign
(paren
id|SiS_LCDDataStruct
op_star
)paren
id|SiS300_ExtLCD1024x768Data
suffix:semicolon
id|SiS_Pr-&gt;SiS_St2LCD1024x768Data
op_assign
(paren
id|SiS_LCDDataStruct
op_star
)paren
id|SiS300_St2LCD1024x768Data
suffix:semicolon
id|SiS_Pr-&gt;SiS_StLCD1280x1024Data
op_assign
(paren
id|SiS_LCDDataStruct
op_star
)paren
id|SiS300_StLCD1280x1024Data
suffix:semicolon
id|SiS_Pr-&gt;SiS_ExtLCD1280x1024Data
op_assign
(paren
id|SiS_LCDDataStruct
op_star
)paren
id|SiS300_ExtLCD1280x1024Data
suffix:semicolon
id|SiS_Pr-&gt;SiS_St2LCD1280x1024Data
op_assign
(paren
id|SiS_LCDDataStruct
op_star
)paren
id|SiS300_St2LCD1280x1024Data
suffix:semicolon
id|SiS_Pr-&gt;SiS_NoScaleData1024x768
op_assign
(paren
id|SiS_LCDDataStruct
op_star
)paren
id|SiS300_NoScaleData1024x768
suffix:semicolon
id|SiS_Pr-&gt;SiS_NoScaleData1280x1024
op_assign
(paren
id|SiS_LCDDataStruct
op_star
)paren
id|SiS300_NoScaleData1280x1024
suffix:semicolon
id|SiS_Pr-&gt;SiS_LCD1280x960Data
op_assign
(paren
id|SiS_LCDDataStruct
op_star
)paren
id|SiS300_LCD1280x960Data
suffix:semicolon
id|SiS_Pr-&gt;SiS_ExtLCD1400x1050Data
op_assign
(paren
id|SiS_LCDDataStruct
op_star
)paren
id|SiS300_ExtLCD1400x1050Data
suffix:semicolon
id|SiS_Pr-&gt;SiS_ExtLCD1600x1200Data
op_assign
(paren
id|SiS_LCDDataStruct
op_star
)paren
id|SiS300_ExtLCD1600x1200Data
suffix:semicolon
id|SiS_Pr-&gt;SiS_StLCD1400x1050Data
op_assign
(paren
id|SiS_LCDDataStruct
op_star
)paren
id|SiS300_StLCD1400x1050Data
suffix:semicolon
id|SiS_Pr-&gt;SiS_StLCD1600x1200Data
op_assign
(paren
id|SiS_LCDDataStruct
op_star
)paren
id|SiS300_StLCD1600x1200Data
suffix:semicolon
id|SiS_Pr-&gt;SiS_NoScaleData1400x1050
op_assign
(paren
id|SiS_LCDDataStruct
op_star
)paren
id|SiS300_NoScaleData1400x1050
suffix:semicolon
id|SiS_Pr-&gt;SiS_NoScaleData1600x1200
op_assign
(paren
id|SiS_LCDDataStruct
op_star
)paren
id|SiS300_NoScaleData1600x1200
suffix:semicolon
id|SiS_Pr-&gt;SiS_StPALData
op_assign
(paren
id|SiS_TVDataStruct
op_star
)paren
id|SiS300_StPALData
suffix:semicolon
id|SiS_Pr-&gt;SiS_ExtPALData
op_assign
(paren
id|SiS_TVDataStruct
op_star
)paren
id|SiS300_ExtPALData
suffix:semicolon
id|SiS_Pr-&gt;SiS_StNTSCData
op_assign
(paren
id|SiS_TVDataStruct
op_star
)paren
id|SiS300_StNTSCData
suffix:semicolon
id|SiS_Pr-&gt;SiS_ExtNTSCData
op_assign
(paren
id|SiS_TVDataStruct
op_star
)paren
id|SiS300_ExtNTSCData
suffix:semicolon
multiline_comment|/* SiS_Pr-&gt;SiS_St1HiTVData = (SiS_TVDataStruct *)SiS300_St1HiTVData;  */
id|SiS_Pr-&gt;SiS_St2HiTVData
op_assign
(paren
id|SiS_TVDataStruct
op_star
)paren
id|SiS300_St2HiTVData
suffix:semicolon
id|SiS_Pr-&gt;SiS_ExtHiTVData
op_assign
(paren
id|SiS_TVDataStruct
op_star
)paren
id|SiS300_ExtHiTVData
suffix:semicolon
id|SiS_Pr-&gt;SiS_NTSCTiming
op_assign
id|SiS300_NTSCTiming
suffix:semicolon
id|SiS_Pr-&gt;SiS_PALTiming
op_assign
id|SiS300_PALTiming
suffix:semicolon
id|SiS_Pr-&gt;SiS_HiTVSt1Timing
op_assign
id|SiS300_HiTVSt1Timing
suffix:semicolon
id|SiS_Pr-&gt;SiS_HiTVSt2Timing
op_assign
id|SiS300_HiTVSt2Timing
suffix:semicolon
id|SiS_Pr-&gt;SiS_HiTVTextTiming
op_assign
id|SiS300_HiTVTextTiming
suffix:semicolon
id|SiS_Pr-&gt;SiS_HiTVGroup3Data
op_assign
id|SiS300_HiTVGroup3Data
suffix:semicolon
id|SiS_Pr-&gt;SiS_HiTVGroup3Simu
op_assign
id|SiS300_HiTVGroup3Simu
suffix:semicolon
id|SiS_Pr-&gt;SiS_HiTVGroup3Text
op_assign
id|SiS300_HiTVGroup3Text
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelDelayTbl
op_assign
(paren
id|SiS_PanelDelayTblStruct
op_star
)paren
id|SiS300_PanelDelayTbl
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelDelayTblLVDS
op_assign
(paren
id|SiS_PanelDelayTblStruct
op_star
)paren
id|SiS300_PanelDelayTblLVDS
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS800x600Data_1
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS300_LVDS800x600Data_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS800x600Data_2
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS300_LVDS800x600Data_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS1024x768Data_1
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS300_LVDS1024x768Data_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS1024x768Data_2
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS300_LVDS1024x768Data_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS1280x1024Data_1
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS300_LVDS1280x1024Data_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS1280x1024Data_2
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS300_LVDS1280x1024Data_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS1280x960Data_1
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS300_LVDS1280x1024Data_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS1280x960Data_2
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS300_LVDS1280x1024Data_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS1400x1050Data_1
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS300_LVDS1400x1050Data_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS1400x1050Data_2
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS300_LVDS1400x1050Data_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS1600x1200Data_1
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS300_LVDS1600x1200Data_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS1600x1200Data_2
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS300_LVDS1600x1200Data_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS1280x768Data_1
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS300_LVDS1280x768Data_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS1280x768Data_2
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS300_LVDS1280x768Data_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS1024x600Data_1
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS300_LVDS1024x600Data_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS1024x600Data_2
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS300_LVDS1024x600Data_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS1152x768Data_1
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS300_LVDS1152x768Data_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS1152x768Data_2
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS300_LVDS1152x768Data_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSXXXxXXXData_1
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS300_LVDSXXXxXXXData_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS320x480Data_1
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS300_LVDS320x480Data_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS640x480Data_1
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS300_LVDS640x480Data_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LCDA1400x1050Data_1
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS300_LCDA1400x1050Data_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LCDA1400x1050Data_2
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS300_LCDA1400x1050Data_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_LCDA1600x1200Data_1
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS300_LCDA1600x1200Data_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LCDA1600x1200Data_2
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS300_LCDA1600x1200Data_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVUNTSCData
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS300_CHTVUNTSCData
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVONTSCData
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS300_CHTVONTSCData
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVUPALData
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS300_CHTVUPALData
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVOPALData
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS300_CHTVOPALData
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVUPALMData
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS300_CHTVUNTSCData
suffix:semicolon
multiline_comment|/* not supported on 300 series */
id|SiS_Pr-&gt;SiS_CHTVOPALMData
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS300_CHTVONTSCData
suffix:semicolon
multiline_comment|/* not supported on 300 series */
id|SiS_Pr-&gt;SiS_CHTVUPALNData
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS300_CHTVUPALData
suffix:semicolon
multiline_comment|/* not supported on 300 series */
id|SiS_Pr-&gt;SiS_CHTVOPALNData
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS300_CHTVOPALData
suffix:semicolon
multiline_comment|/* not supported on 300 series */
id|SiS_Pr-&gt;SiS_CHTVSOPALData
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS300_CHTVSOPALData
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType00_1
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS300_PanelType00_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType01_1
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS300_PanelType01_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType02_1
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS300_PanelType02_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType03_1
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS300_PanelType03_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType04_1
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS300_PanelType04_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType05_1
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS300_PanelType05_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType06_1
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS300_PanelType06_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType07_1
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS300_PanelType07_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType08_1
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS300_PanelType08_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType09_1
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS300_PanelType09_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType0a_1
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS300_PanelType0a_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType0b_1
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS300_PanelType0b_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType0c_1
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS300_PanelType0c_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType0d_1
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS300_PanelType0d_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType0e_1
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS300_PanelType0e_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType0f_1
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS300_PanelType0f_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType00_2
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS300_PanelType00_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType01_2
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS300_PanelType01_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType02_2
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS300_PanelType02_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType03_2
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS300_PanelType03_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType04_2
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS300_PanelType04_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType05_2
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS300_PanelType05_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType06_2
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS300_PanelType06_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType07_2
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS300_PanelType07_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType08_2
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS300_PanelType08_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType09_2
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS300_PanelType09_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType0a_2
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS300_PanelType0a_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType0b_2
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS300_PanelType0b_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType0c_2
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS300_PanelType0c_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType0d_2
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS300_PanelType0d_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType0e_2
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS300_PanelType0e_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType0f_2
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS300_PanelType0f_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelTypeNS_1
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS300_PanelTypeNS_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelTypeNS_2
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS300_PanelTypeNS_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVUNTSCDesData
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS300_CHTVUNTSCDesData
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVONTSCDesData
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS300_CHTVONTSCDesData
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVUPALDesData
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS300_CHTVUPALDesData
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVOPALDesData
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS300_CHTVOPALDesData
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT1800x600_1
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS300_LVDSCRT1800x600_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11024x768_1
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS300_LVDSCRT11024x768_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11280x1024_1
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS300_LVDSCRT11280x1024_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11024x600_1
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS300_LVDSCRT11024x600_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11152x768_1
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS300_LVDSCRT11152x768_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT1800x600_1_H
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS300_LVDSCRT1800x600_1_H
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11024x768_1_H
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS300_LVDSCRT11024x768_1_H
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11280x1024_1_H
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS300_LVDSCRT11280x1024_1_H
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11024x600_1_H
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS300_LVDSCRT11024x600_1_H
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11152x768_1_H
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS300_LVDSCRT11152x768_1_H
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT1800x600_2
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS300_LVDSCRT1800x600_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11024x768_2
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS300_LVDSCRT11024x768_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11280x1024_2
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS300_LVDSCRT11280x1024_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11024x600_2
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS300_LVDSCRT11024x600_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11152x768_2
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS300_LVDSCRT11152x768_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT1800x600_2_H
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS300_LVDSCRT1800x600_2_H
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11024x768_2_H
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS300_LVDSCRT11024x768_2_H
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11280x1024_2_H
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS300_LVDSCRT11280x1024_2_H
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11024x600_2_H
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS300_LVDSCRT11024x600_2_H
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11152x768_2_H
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS300_LVDSCRT11152x768_2_H
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVCRT1UNTSC
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS300_CHTVCRT1UNTSC
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVCRT1ONTSC
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS300_CHTVCRT1ONTSC
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVCRT1UPAL
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS300_CHTVCRT1UPAL
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVCRT1OPAL
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS300_CHTVCRT1OPAL
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVCRT1SOPAL
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS300_CHTVCRT1SOPAL
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVReg_UNTSC
op_assign
(paren
id|SiS_CHTVRegDataStruct
op_star
)paren
id|SiS300_CHTVReg_UNTSC
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVReg_ONTSC
op_assign
(paren
id|SiS_CHTVRegDataStruct
op_star
)paren
id|SiS300_CHTVReg_ONTSC
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVReg_UPAL
op_assign
(paren
id|SiS_CHTVRegDataStruct
op_star
)paren
id|SiS300_CHTVReg_UPAL
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVReg_OPAL
op_assign
(paren
id|SiS_CHTVRegDataStruct
op_star
)paren
id|SiS300_CHTVReg_OPAL
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVReg_UPALM
op_assign
(paren
id|SiS_CHTVRegDataStruct
op_star
)paren
id|SiS300_CHTVReg_UNTSC
suffix:semicolon
multiline_comment|/* not supported on 300 series */
id|SiS_Pr-&gt;SiS_CHTVReg_OPALM
op_assign
(paren
id|SiS_CHTVRegDataStruct
op_star
)paren
id|SiS300_CHTVReg_ONTSC
suffix:semicolon
multiline_comment|/* not supported on 300 series */
id|SiS_Pr-&gt;SiS_CHTVReg_UPALN
op_assign
(paren
id|SiS_CHTVRegDataStruct
op_star
)paren
id|SiS300_CHTVReg_UPAL
suffix:semicolon
multiline_comment|/* not supported on 300 series */
id|SiS_Pr-&gt;SiS_CHTVReg_OPALN
op_assign
(paren
id|SiS_CHTVRegDataStruct
op_star
)paren
id|SiS300_CHTVReg_OPAL
suffix:semicolon
multiline_comment|/* not supported on 300 series */
id|SiS_Pr-&gt;SiS_CHTVReg_SOPAL
op_assign
(paren
id|SiS_CHTVRegDataStruct
op_star
)paren
id|SiS300_CHTVReg_SOPAL
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVVCLKUNTSC
op_assign
id|SiS300_CHTVVCLKUNTSC
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVVCLKONTSC
op_assign
id|SiS300_CHTVVCLKONTSC
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVVCLKUPAL
op_assign
id|SiS300_CHTVVCLKUPAL
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVVCLKOPAL
op_assign
id|SiS300_CHTVVCLKOPAL
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVVCLKUPALM
op_assign
id|SiS300_CHTVVCLKUNTSC
suffix:semicolon
multiline_comment|/* not supported on 300 series */
id|SiS_Pr-&gt;SiS_CHTVVCLKOPALM
op_assign
id|SiS300_CHTVVCLKONTSC
suffix:semicolon
multiline_comment|/* not supported on 300 series */
id|SiS_Pr-&gt;SiS_CHTVVCLKUPALN
op_assign
id|SiS300_CHTVVCLKUPAL
suffix:semicolon
multiline_comment|/* not supported on 300 series */
id|SiS_Pr-&gt;SiS_CHTVVCLKOPALN
op_assign
id|SiS300_CHTVVCLKOPAL
suffix:semicolon
multiline_comment|/* not supported on 300 series */
id|SiS_Pr-&gt;SiS_CHTVVCLKSOPAL
op_assign
id|SiS300_CHTVVCLKSOPAL
suffix:semicolon
multiline_comment|/* TW: New from 300/301LV BIOS */
id|SiS_Pr-&gt;SiS_CRT2Part2_1024x768_1
op_assign
(paren
id|SiS_Part2PortTblStruct
op_star
)paren
id|SiS300_CRT2Part2_1024x768_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_CRT2Part2_1280x1024_1
op_assign
(paren
id|SiS_Part2PortTblStruct
op_star
)paren
id|SiS300_CRT2Part2_1280x1024_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_CRT2Part2_1400x1050_1
op_assign
(paren
id|SiS_Part2PortTblStruct
op_star
)paren
id|SiS300_CRT2Part2_1400x1050_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_CRT2Part2_1600x1200_1
op_assign
(paren
id|SiS_Part2PortTblStruct
op_star
)paren
id|SiS300_CRT2Part2_1600x1200_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_CRT2Part2_1024x768_2
op_assign
(paren
id|SiS_Part2PortTblStruct
op_star
)paren
id|SiS300_CRT2Part2_1024x768_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_CRT2Part2_1280x1024_2
op_assign
(paren
id|SiS_Part2PortTblStruct
op_star
)paren
id|SiS300_CRT2Part2_1280x1024_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_CRT2Part2_1400x1050_2
op_assign
(paren
id|SiS_Part2PortTblStruct
op_star
)paren
id|SiS300_CRT2Part2_1400x1050_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_CRT2Part2_1600x1200_2
op_assign
(paren
id|SiS_Part2PortTblStruct
op_star
)paren
id|SiS300_CRT2Part2_1600x1200_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_CRT2Part2_1024x768_3
op_assign
(paren
id|SiS_Part2PortTblStruct
op_star
)paren
id|SiS300_CRT2Part2_1024x768_3
suffix:semicolon
id|SiS_Pr-&gt;SiS_CRT2Part2_1280x1024_3
op_assign
(paren
id|SiS_Part2PortTblStruct
op_star
)paren
id|SiS300_CRT2Part2_1280x1024_3
suffix:semicolon
id|SiS_Pr-&gt;SiS_CRT2Part2_1400x1050_3
op_assign
(paren
id|SiS_Part2PortTblStruct
op_star
)paren
id|SiS300_CRT2Part2_1400x1050_3
suffix:semicolon
id|SiS_Pr-&gt;SiS_CRT2Part2_1600x1200_3
op_assign
(paren
id|SiS_Part2PortTblStruct
op_star
)paren
id|SiS300_CRT2Part2_1600x1200_3
suffix:semicolon
multiline_comment|/* TW: LCDResInfo will on 300 series be translated to 310/325 series definitions */
id|SiS_Pr-&gt;SiS_Panel320x480
op_assign
id|Panel_320x480
suffix:semicolon
id|SiS_Pr-&gt;SiS_Panel640x480
op_assign
id|Panel_640x480
suffix:semicolon
id|SiS_Pr-&gt;SiS_Panel800x600
op_assign
id|Panel_800x600
suffix:semicolon
id|SiS_Pr-&gt;SiS_Panel1024x768
op_assign
id|Panel_1024x768
suffix:semicolon
id|SiS_Pr-&gt;SiS_Panel1280x1024
op_assign
id|Panel_1280x1024
suffix:semicolon
id|SiS_Pr-&gt;SiS_Panel1280x960
op_assign
id|Panel_1280x960
suffix:semicolon
id|SiS_Pr-&gt;SiS_Panel1024x600
op_assign
id|Panel_1024x600
suffix:semicolon
id|SiS_Pr-&gt;SiS_Panel1152x768
op_assign
id|Panel_1152x768
suffix:semicolon
id|SiS_Pr-&gt;SiS_Panel1600x1200
op_assign
l_int|16
suffix:semicolon
multiline_comment|/* TW: Something illegal */
id|SiS_Pr-&gt;SiS_Panel1400x1050
op_assign
l_int|16
suffix:semicolon
multiline_comment|/* TW: Something illegal */
id|SiS_Pr-&gt;SiS_Panel1152x864
op_assign
l_int|16
suffix:semicolon
multiline_comment|/* TW: Something illegal */
id|SiS_Pr-&gt;SiS_Panel1280x768
op_assign
l_int|16
suffix:semicolon
multiline_comment|/* TW: Something illegal */
id|SiS_Pr-&gt;SiS_PanelMax
op_assign
id|Panel_320x480
suffix:semicolon
multiline_comment|/* TW: highest value */
id|SiS_Pr-&gt;SiS_PanelMinLVDS
op_assign
id|Panel_800x600
suffix:semicolon
multiline_comment|/* TW: Lowest value LVDS */
id|SiS_Pr-&gt;SiS_PanelMin301
op_assign
id|Panel_1024x768
suffix:semicolon
multiline_comment|/* TW: lowest value 301 */
)brace
macro_line|#endif
macro_line|#ifdef SIS315H
r_static
r_void
DECL|function|InitTo310Pointer
id|InitTo310Pointer
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
)paren
(brace
id|SiS_Pr-&gt;SiS_SModeIDTable
op_assign
(paren
id|SiS_StStruct
op_star
)paren
id|SiS310_SModeIDTable
suffix:semicolon
id|SiS_Pr-&gt;SiS_StandTable
op_assign
(paren
id|SiS_StandTableStruct
op_star
)paren
id|SiS310_StandTable
suffix:semicolon
id|SiS_Pr-&gt;SiS_EModeIDTable
op_assign
(paren
id|SiS_ExtStruct
op_star
)paren
id|SiS310_EModeIDTable
suffix:semicolon
id|SiS_Pr-&gt;SiS_RefIndex
op_assign
(paren
id|SiS_Ext2Struct
op_star
)paren
id|SiS310_RefIndex
suffix:semicolon
id|SiS_Pr-&gt;SiS_CRT1Table
op_assign
(paren
id|SiS_CRT1TableStruct
op_star
)paren
id|SiS310_CRT1Table
suffix:semicolon
multiline_comment|/* TW: MCLK is different */
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_330
)paren
(brace
id|SiS_Pr-&gt;SiS_MCLKData_0
op_assign
(paren
id|SiS_MCLKDataStruct
op_star
)paren
id|SiS310_MCLKData_0_330
suffix:semicolon
multiline_comment|/* 330 */
)brace
r_else
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
OG
id|SIS_315PRO
)paren
(brace
id|SiS_Pr-&gt;SiS_MCLKData_0
op_assign
(paren
id|SiS_MCLKDataStruct
op_star
)paren
id|SiS310_MCLKData_0_650
suffix:semicolon
multiline_comment|/* 550, 650, 740 */
)brace
r_else
(brace
id|SiS_Pr-&gt;SiS_MCLKData_0
op_assign
(paren
id|SiS_MCLKDataStruct
op_star
)paren
id|SiS310_MCLKData_0_315
suffix:semicolon
multiline_comment|/* 315 */
)brace
id|SiS_Pr-&gt;SiS_MCLKData_1
op_assign
(paren
id|SiS_MCLKDataStruct
op_star
)paren
id|SiS310_MCLKData_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_ECLKData
op_assign
(paren
id|SiS_ECLKDataStruct
op_star
)paren
id|SiS310_ECLKData
suffix:semicolon
id|SiS_Pr-&gt;SiS_VCLKData
op_assign
(paren
id|SiS_VCLKDataStruct
op_star
)paren
id|SiS310_VCLKData
suffix:semicolon
id|SiS_Pr-&gt;SiS_VBVCLKData
op_assign
(paren
id|SiS_VBVCLKDataStruct
op_star
)paren
id|SiS310_VBVCLKData
suffix:semicolon
id|SiS_Pr-&gt;SiS_ScreenOffset
op_assign
id|SiS310_ScreenOffset
suffix:semicolon
id|SiS_Pr-&gt;SiS_StResInfo
op_assign
(paren
id|SiS_StResInfoStruct
op_star
)paren
id|SiS310_StResInfo
suffix:semicolon
id|SiS_Pr-&gt;SiS_ModeResInfo
op_assign
(paren
id|SiS_ModeResInfoStruct
op_star
)paren
id|SiS310_ModeResInfo
suffix:semicolon
id|SiS_Pr-&gt;pSiS_OutputSelect
op_assign
op_amp
id|SiS310_OutputSelect
suffix:semicolon
id|SiS_Pr-&gt;pSiS_SoftSetting
op_assign
op_amp
id|SiS310_SoftSetting
suffix:semicolon
id|SiS_Pr-&gt;SiS_SR15
op_assign
id|SiS310_SR15
suffix:semicolon
macro_line|#ifndef LINUX_XF86
id|SiS_Pr-&gt;pSiS_SR07
op_assign
op_amp
id|SiS310_SR07
suffix:semicolon
id|SiS_Pr-&gt;SiS_CR40
op_assign
id|SiS310_CR40
suffix:semicolon
id|SiS_Pr-&gt;SiS_CR49
op_assign
id|SiS310_CR49
suffix:semicolon
id|SiS_Pr-&gt;pSiS_SR1F
op_assign
op_amp
id|SiS310_SR1F
suffix:semicolon
id|SiS_Pr-&gt;pSiS_SR21
op_assign
op_amp
id|SiS310_SR21
suffix:semicolon
id|SiS_Pr-&gt;pSiS_SR22
op_assign
op_amp
id|SiS310_SR22
suffix:semicolon
id|SiS_Pr-&gt;pSiS_SR23
op_assign
op_amp
id|SiS310_SR23
suffix:semicolon
id|SiS_Pr-&gt;pSiS_SR24
op_assign
op_amp
id|SiS310_SR24
suffix:semicolon
id|SiS_Pr-&gt;SiS_SR25
op_assign
id|SiS310_SR25
suffix:semicolon
id|SiS_Pr-&gt;pSiS_SR31
op_assign
op_amp
id|SiS310_SR31
suffix:semicolon
id|SiS_Pr-&gt;pSiS_SR32
op_assign
op_amp
id|SiS310_SR32
suffix:semicolon
id|SiS_Pr-&gt;pSiS_SR33
op_assign
op_amp
id|SiS310_SR33
suffix:semicolon
id|SiS_Pr-&gt;pSiS_CRT2Data_1_2
op_assign
op_amp
id|SiS310_CRT2Data_1_2
suffix:semicolon
id|SiS_Pr-&gt;pSiS_CRT2Data_4_D
op_assign
op_amp
id|SiS310_CRT2Data_4_D
suffix:semicolon
id|SiS_Pr-&gt;pSiS_CRT2Data_4_E
op_assign
op_amp
id|SiS310_CRT2Data_4_E
suffix:semicolon
id|SiS_Pr-&gt;pSiS_CRT2Data_4_10
op_assign
op_amp
id|SiS310_CRT2Data_4_10
suffix:semicolon
id|SiS_Pr-&gt;pSiS_RGBSenseData
op_assign
op_amp
id|SiS310_RGBSenseData
suffix:semicolon
id|SiS_Pr-&gt;pSiS_VideoSenseData
op_assign
op_amp
id|SiS310_VideoSenseData
suffix:semicolon
id|SiS_Pr-&gt;pSiS_YCSenseData
op_assign
op_amp
id|SiS310_YCSenseData
suffix:semicolon
id|SiS_Pr-&gt;pSiS_RGBSenseData2
op_assign
op_amp
id|SiS310_RGBSenseData2
suffix:semicolon
id|SiS_Pr-&gt;pSiS_VideoSenseData2
op_assign
op_amp
id|SiS310_VideoSenseData2
suffix:semicolon
id|SiS_Pr-&gt;pSiS_YCSenseData2
op_assign
op_amp
id|SiS310_YCSenseData2
suffix:semicolon
macro_line|#endif
id|SiS_Pr-&gt;SiS_NTSCPhase
op_assign
id|SiS310_NTSCPhase
suffix:semicolon
id|SiS_Pr-&gt;SiS_PALPhase
op_assign
id|SiS310_PALPhase
suffix:semicolon
id|SiS_Pr-&gt;SiS_NTSCPhase2
op_assign
id|SiS310_NTSCPhase2
suffix:semicolon
id|SiS_Pr-&gt;SiS_PALPhase2
op_assign
id|SiS310_PALPhase2
suffix:semicolon
id|SiS_Pr-&gt;SiS_PALMPhase
op_assign
id|SiS310_PALMPhase
suffix:semicolon
id|SiS_Pr-&gt;SiS_PALNPhase
op_assign
id|SiS310_PALNPhase
suffix:semicolon
id|SiS_Pr-&gt;SiS_PALMPhase2
op_assign
id|SiS310_PALMPhase2
suffix:semicolon
id|SiS_Pr-&gt;SiS_PALNPhase2
op_assign
id|SiS310_PALNPhase2
suffix:semicolon
id|SiS_Pr-&gt;SiS_SpecialPhase
op_assign
id|SiS310_SpecialPhase
suffix:semicolon
id|SiS_Pr-&gt;SiS_StLCD1024x768Data
op_assign
(paren
id|SiS_LCDDataStruct
op_star
)paren
id|SiS310_StLCD1024x768Data
suffix:semicolon
id|SiS_Pr-&gt;SiS_ExtLCD1024x768Data
op_assign
(paren
id|SiS_LCDDataStruct
op_star
)paren
id|SiS310_ExtLCD1024x768Data
suffix:semicolon
id|SiS_Pr-&gt;SiS_St2LCD1024x768Data
op_assign
(paren
id|SiS_LCDDataStruct
op_star
)paren
id|SiS310_St2LCD1024x768Data
suffix:semicolon
id|SiS_Pr-&gt;SiS_StLCD1280x1024Data
op_assign
(paren
id|SiS_LCDDataStruct
op_star
)paren
id|SiS310_StLCD1280x1024Data
suffix:semicolon
id|SiS_Pr-&gt;SiS_ExtLCD1280x1024Data
op_assign
(paren
id|SiS_LCDDataStruct
op_star
)paren
id|SiS310_ExtLCD1280x1024Data
suffix:semicolon
id|SiS_Pr-&gt;SiS_St2LCD1280x1024Data
op_assign
(paren
id|SiS_LCDDataStruct
op_star
)paren
id|SiS310_St2LCD1280x1024Data
suffix:semicolon
id|SiS_Pr-&gt;SiS_NoScaleData1024x768
op_assign
(paren
id|SiS_LCDDataStruct
op_star
)paren
id|SiS310_NoScaleData1024x768
suffix:semicolon
id|SiS_Pr-&gt;SiS_NoScaleData1280x1024
op_assign
(paren
id|SiS_LCDDataStruct
op_star
)paren
id|SiS310_NoScaleData1280x1024
suffix:semicolon
id|SiS_Pr-&gt;SiS_LCD1280x960Data
op_assign
(paren
id|SiS_LCDDataStruct
op_star
)paren
id|SiS310_LCD1280x960Data
suffix:semicolon
id|SiS_Pr-&gt;SiS_ExtLCD1400x1050Data
op_assign
(paren
id|SiS_LCDDataStruct
op_star
)paren
id|SiS310_ExtLCD1400x1050Data
suffix:semicolon
id|SiS_Pr-&gt;SiS_ExtLCD1600x1200Data
op_assign
(paren
id|SiS_LCDDataStruct
op_star
)paren
id|SiS310_ExtLCD1600x1200Data
suffix:semicolon
id|SiS_Pr-&gt;SiS_StLCD1400x1050Data
op_assign
(paren
id|SiS_LCDDataStruct
op_star
)paren
id|SiS310_StLCD1400x1050Data
suffix:semicolon
id|SiS_Pr-&gt;SiS_StLCD1600x1200Data
op_assign
(paren
id|SiS_LCDDataStruct
op_star
)paren
id|SiS310_StLCD1600x1200Data
suffix:semicolon
id|SiS_Pr-&gt;SiS_NoScaleData1400x1050
op_assign
(paren
id|SiS_LCDDataStruct
op_star
)paren
id|SiS310_NoScaleData1400x1050
suffix:semicolon
id|SiS_Pr-&gt;SiS_NoScaleData1600x1200
op_assign
(paren
id|SiS_LCDDataStruct
op_star
)paren
id|SiS310_NoScaleData1600x1200
suffix:semicolon
id|SiS_Pr-&gt;SiS_StPALData
op_assign
(paren
id|SiS_TVDataStruct
op_star
)paren
id|SiS310_StPALData
suffix:semicolon
id|SiS_Pr-&gt;SiS_ExtPALData
op_assign
(paren
id|SiS_TVDataStruct
op_star
)paren
id|SiS310_ExtPALData
suffix:semicolon
id|SiS_Pr-&gt;SiS_StNTSCData
op_assign
(paren
id|SiS_TVDataStruct
op_star
)paren
id|SiS310_StNTSCData
suffix:semicolon
id|SiS_Pr-&gt;SiS_ExtNTSCData
op_assign
(paren
id|SiS_TVDataStruct
op_star
)paren
id|SiS310_ExtNTSCData
suffix:semicolon
multiline_comment|/* SiS_Pr-&gt;SiS_St1HiTVData = (SiS_TVDataStruct *)SiS310_St1HiTVData;  */
id|SiS_Pr-&gt;SiS_St2HiTVData
op_assign
(paren
id|SiS_TVDataStruct
op_star
)paren
id|SiS310_St2HiTVData
suffix:semicolon
id|SiS_Pr-&gt;SiS_ExtHiTVData
op_assign
(paren
id|SiS_TVDataStruct
op_star
)paren
id|SiS310_ExtHiTVData
suffix:semicolon
id|SiS_Pr-&gt;SiS_NTSCTiming
op_assign
id|SiS310_NTSCTiming
suffix:semicolon
id|SiS_Pr-&gt;SiS_PALTiming
op_assign
id|SiS310_PALTiming
suffix:semicolon
id|SiS_Pr-&gt;SiS_HiTVSt1Timing
op_assign
id|SiS310_HiTVSt1Timing
suffix:semicolon
id|SiS_Pr-&gt;SiS_HiTVSt2Timing
op_assign
id|SiS310_HiTVSt2Timing
suffix:semicolon
id|SiS_Pr-&gt;SiS_HiTVTextTiming
op_assign
id|SiS310_HiTVTextTiming
suffix:semicolon
id|SiS_Pr-&gt;SiS_HiTVExtTiming
op_assign
id|SiS310_HiTVExtTiming
suffix:semicolon
id|SiS_Pr-&gt;SiS_HiTVGroup3Data
op_assign
id|SiS310_HiTVGroup3Data
suffix:semicolon
id|SiS_Pr-&gt;SiS_HiTVGroup3Simu
op_assign
id|SiS310_HiTVGroup3Simu
suffix:semicolon
id|SiS_Pr-&gt;SiS_HiTVGroup3Text
op_assign
id|SiS310_HiTVGroup3Text
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelDelayTbl
op_assign
(paren
id|SiS_PanelDelayTblStruct
op_star
)paren
id|SiS310_PanelDelayTbl
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelDelayTblLVDS
op_assign
(paren
id|SiS_PanelDelayTblStruct
op_star
)paren
id|SiS310_PanelDelayTblLVDS
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS800x600Data_1
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS310_LVDS800x600Data_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS800x600Data_2
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS310_LVDS800x600Data_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS1024x768Data_1
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS310_LVDS1024x768Data_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS1024x768Data_2
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS310_LVDS1024x768Data_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS1280x1024Data_1
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS310_LVDS1280x1024Data_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS1280x1024Data_2
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS310_LVDS1280x1024Data_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS1280x960Data_1
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS310_LVDS1280x960Data_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS1280x960Data_2
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS310_LVDS1280x960Data_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS1400x1050Data_1
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS310_LVDS1400x1050Data_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS1400x1050Data_2
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS310_LVDS1400x1050Data_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS1600x1200Data_1
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS310_LVDS1600x1200Data_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS1600x1200Data_2
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS310_LVDS1600x1200Data_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS1280x768Data_1
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS310_LVDS1280x768Data_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS1280x768Data_2
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS310_LVDS1280x768Data_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS1024x600Data_1
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS310_LVDS1024x600Data_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS1024x600Data_2
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS310_LVDS1024x600Data_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS1152x768Data_1
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS310_LVDS1152x768Data_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS1152x768Data_2
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS310_LVDS1152x768Data_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSXXXxXXXData_1
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS310_LVDSXXXxXXXData_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS320x480Data_1
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS310_LVDS320x480Data_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDS640x480Data_1
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS310_LVDS640x480Data_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LCDA1400x1050Data_1
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS310_LCDA1400x1050Data_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LCDA1400x1050Data_2
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS310_LCDA1400x1050Data_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_LCDA1600x1200Data_1
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS310_LCDA1600x1200Data_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LCDA1600x1200Data_2
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS310_LCDA1600x1200Data_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVUNTSCData
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS310_CHTVUNTSCData
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVONTSCData
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS310_CHTVONTSCData
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVUPALData
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS310_CHTVUPALData
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVOPALData
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS310_CHTVOPALData
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVUPALMData
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS310_CHTVUPALMData
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVOPALMData
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS310_CHTVOPALMData
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVUPALNData
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS310_CHTVUPALNData
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVOPALNData
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS310_CHTVOPALNData
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVSOPALData
op_assign
(paren
id|SiS_LVDSDataStruct
op_star
)paren
id|SiS310_CHTVSOPALData
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType00_1
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType00_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType01_1
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType01_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType02_1
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType02_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType03_1
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType03_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType04_1
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType04_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType05_1
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType05_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType06_1
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType06_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType07_1
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType07_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType08_1
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType08_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType09_1
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType09_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType0a_1
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType0a_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType0b_1
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType0b_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType0c_1
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType0c_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType0d_1
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType0d_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType0e_1
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType0e_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType0f_1
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType0f_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType00_2
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType00_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType01_2
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType01_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType02_2
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType02_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType03_2
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType03_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType04_2
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType04_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType05_2
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType05_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType06_2
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType06_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType07_2
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType07_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType08_2
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType08_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType09_2
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType09_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType0a_2
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType0a_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType0b_2
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType0b_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType0c_2
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType0c_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType0d_2
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType0d_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType0e_2
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType0e_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelType0f_2
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType0f_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelTypeNS_1
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelTypeNS_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelTypeNS_2
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelTypeNS_2
suffix:semicolon
id|SiS_Pr-&gt;LVDS1024x768Des_1
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType1076_1
suffix:semicolon
id|SiS_Pr-&gt;LVDS1280x1024Des_1
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType1210_1
suffix:semicolon
id|SiS_Pr-&gt;LVDS1400x1050Des_1
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType1296_1
suffix:semicolon
id|SiS_Pr-&gt;LVDS1600x1200Des_1
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType1600_1
suffix:semicolon
id|SiS_Pr-&gt;LVDS1024x768Des_2
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType1076_2
suffix:semicolon
id|SiS_Pr-&gt;LVDS1280x1024Des_2
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType1210_2
suffix:semicolon
id|SiS_Pr-&gt;LVDS1400x1050Des_2
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType1296_2
suffix:semicolon
id|SiS_Pr-&gt;LVDS1600x1200Des_2
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_PanelType1600_2
suffix:semicolon
multiline_comment|/* TW: New from 650/301LV BIOS */
id|SiS_Pr-&gt;SiS_CRT2Part2_1024x768_1
op_assign
(paren
id|SiS_Part2PortTblStruct
op_star
)paren
id|SiS310_CRT2Part2_1024x768_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_CRT2Part2_1280x1024_1
op_assign
(paren
id|SiS_Part2PortTblStruct
op_star
)paren
id|SiS310_CRT2Part2_1280x1024_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_CRT2Part2_1400x1050_1
op_assign
(paren
id|SiS_Part2PortTblStruct
op_star
)paren
id|SiS310_CRT2Part2_1400x1050_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_CRT2Part2_1600x1200_1
op_assign
(paren
id|SiS_Part2PortTblStruct
op_star
)paren
id|SiS310_CRT2Part2_1600x1200_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_CRT2Part2_1024x768_2
op_assign
(paren
id|SiS_Part2PortTblStruct
op_star
)paren
id|SiS310_CRT2Part2_1024x768_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_CRT2Part2_1280x1024_2
op_assign
(paren
id|SiS_Part2PortTblStruct
op_star
)paren
id|SiS310_CRT2Part2_1280x1024_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_CRT2Part2_1400x1050_2
op_assign
(paren
id|SiS_Part2PortTblStruct
op_star
)paren
id|SiS310_CRT2Part2_1400x1050_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_CRT2Part2_1600x1200_2
op_assign
(paren
id|SiS_Part2PortTblStruct
op_star
)paren
id|SiS310_CRT2Part2_1600x1200_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_CRT2Part2_1024x768_3
op_assign
(paren
id|SiS_Part2PortTblStruct
op_star
)paren
id|SiS310_CRT2Part2_1024x768_3
suffix:semicolon
id|SiS_Pr-&gt;SiS_CRT2Part2_1280x1024_3
op_assign
(paren
id|SiS_Part2PortTblStruct
op_star
)paren
id|SiS310_CRT2Part2_1280x1024_3
suffix:semicolon
id|SiS_Pr-&gt;SiS_CRT2Part2_1400x1050_3
op_assign
(paren
id|SiS_Part2PortTblStruct
op_star
)paren
id|SiS310_CRT2Part2_1400x1050_3
suffix:semicolon
id|SiS_Pr-&gt;SiS_CRT2Part2_1600x1200_3
op_assign
(paren
id|SiS_Part2PortTblStruct
op_star
)paren
id|SiS310_CRT2Part2_1600x1200_3
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVUNTSCDesData
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_CHTVUNTSCDesData
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVONTSCDesData
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_CHTVONTSCDesData
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVUPALDesData
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_CHTVUPALDesData
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVOPALDesData
op_assign
(paren
id|SiS_LVDSDesStruct
op_star
)paren
id|SiS310_CHTVOPALDesData
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT1800x600_1
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_LVDSCRT1800x600_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11024x768_1
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_LVDSCRT11024x768_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11280x1024_1
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_LVDSCRT11280x1024_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11400x1050_1
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_LVDSCRT11400x1050_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11280x768_1
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_LVDSCRT11280x768_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11024x600_1
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_LVDSCRT11024x600_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11152x768_1
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_LVDSCRT11152x768_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11600x1200_1
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_LVDSCRT11600x1200_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT1800x600_1_H
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_LVDSCRT1800x600_1_H
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11024x768_1_H
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_LVDSCRT11024x768_1_H
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11280x1024_1_H
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_LVDSCRT11280x1024_1_H
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11400x1050_1_H
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_LVDSCRT11400x1050_1_H
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11280x768_1_H
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_LVDSCRT11280x768_1_H
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11024x600_1_H
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_LVDSCRT11024x600_1_H
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11152x768_1_H
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_LVDSCRT11152x768_1_H
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11600x1200_1_H
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_LVDSCRT11600x1200_1_H
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT1800x600_2
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_LVDSCRT1800x600_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11024x768_2
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_LVDSCRT11024x768_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11280x1024_2
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_LVDSCRT11280x1024_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11400x1050_2
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_LVDSCRT11400x1050_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11280x768_2
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_LVDSCRT11280x768_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11024x600_2
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_LVDSCRT11024x600_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11152x768_2
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_LVDSCRT11152x768_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11600x1200_2
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_LVDSCRT11600x1200_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT1800x600_2_H
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_LVDSCRT1800x600_2_H
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11024x768_2_H
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_LVDSCRT11024x768_2_H
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11280x1024_2_H
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_LVDSCRT11280x1024_2_H
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11400x1050_2_H
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_LVDSCRT11400x1050_2_H
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11280x768_2_H
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_LVDSCRT11280x768_2_H
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11024x600_2_H
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_LVDSCRT11024x600_2_H
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11152x768_2_H
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_LVDSCRT11152x768_2_H
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT11600x1200_2_H
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_LVDSCRT11600x1200_2_H
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT1XXXxXXX_1
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_LVDSCRT1XXXxXXX_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT1XXXxXXX_1_H
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_LVDSCRT1XXXxXXX_1_H
suffix:semicolon
id|SiS_Pr-&gt;SiS_LVDSCRT1320x480_1
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_LVDSCRT1320x480_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVCRT1UNTSC
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_CHTVCRT1UNTSC
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVCRT1ONTSC
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_CHTVCRT1ONTSC
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVCRT1UPAL
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_CHTVCRT1UPAL
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVCRT1OPAL
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_CHTVCRT1OPAL
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVCRT1SOPAL
op_assign
(paren
id|SiS_LVDSCRT1DataStruct
op_star
)paren
id|SiS310_CHTVCRT1SOPAL
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVReg_UNTSC
op_assign
(paren
id|SiS_CHTVRegDataStruct
op_star
)paren
id|SiS310_CHTVReg_UNTSC
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVReg_ONTSC
op_assign
(paren
id|SiS_CHTVRegDataStruct
op_star
)paren
id|SiS310_CHTVReg_ONTSC
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVReg_UPAL
op_assign
(paren
id|SiS_CHTVRegDataStruct
op_star
)paren
id|SiS310_CHTVReg_UPAL
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVReg_OPAL
op_assign
(paren
id|SiS_CHTVRegDataStruct
op_star
)paren
id|SiS310_CHTVReg_OPAL
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVReg_UPALM
op_assign
(paren
id|SiS_CHTVRegDataStruct
op_star
)paren
id|SiS310_CHTVReg_UPALM
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVReg_OPALM
op_assign
(paren
id|SiS_CHTVRegDataStruct
op_star
)paren
id|SiS310_CHTVReg_OPALM
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVReg_UPALN
op_assign
(paren
id|SiS_CHTVRegDataStruct
op_star
)paren
id|SiS310_CHTVReg_UPALN
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVReg_OPALN
op_assign
(paren
id|SiS_CHTVRegDataStruct
op_star
)paren
id|SiS310_CHTVReg_OPALN
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVReg_SOPAL
op_assign
(paren
id|SiS_CHTVRegDataStruct
op_star
)paren
id|SiS310_CHTVReg_SOPAL
suffix:semicolon
id|SiS_Pr-&gt;SiS_LCDACRT1800x600_1
op_assign
(paren
id|SiS_LCDACRT1DataStruct
op_star
)paren
id|SiS310_LCDACRT1800x600_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LCDACRT11024x768_1
op_assign
(paren
id|SiS_LCDACRT1DataStruct
op_star
)paren
id|SiS310_LCDACRT11024x768_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LCDACRT11280x1024_1
op_assign
(paren
id|SiS_LCDACRT1DataStruct
op_star
)paren
id|SiS310_LCDACRT11280x1024_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LCDACRT11400x1050_1
op_assign
(paren
id|SiS_LCDACRT1DataStruct
op_star
)paren
id|SiS310_LCDACRT11400x1050_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LCDACRT11600x1200_1
op_assign
(paren
id|SiS_LCDACRT1DataStruct
op_star
)paren
id|SiS310_LCDACRT11600x1200_1
suffix:semicolon
id|SiS_Pr-&gt;SiS_LCDACRT1800x600_1_H
op_assign
(paren
id|SiS_LCDACRT1DataStruct
op_star
)paren
id|SiS310_LCDACRT1800x600_1_H
suffix:semicolon
id|SiS_Pr-&gt;SiS_LCDACRT11024x768_1_H
op_assign
(paren
id|SiS_LCDACRT1DataStruct
op_star
)paren
id|SiS310_LCDACRT11024x768_1_H
suffix:semicolon
id|SiS_Pr-&gt;SiS_LCDACRT11280x1024_1_H
op_assign
(paren
id|SiS_LCDACRT1DataStruct
op_star
)paren
id|SiS310_LCDACRT11280x1024_1_H
suffix:semicolon
id|SiS_Pr-&gt;SiS_LCDACRT11400x1050_1_H
op_assign
(paren
id|SiS_LCDACRT1DataStruct
op_star
)paren
id|SiS310_LCDACRT11400x1050_1_H
suffix:semicolon
id|SiS_Pr-&gt;SiS_LCDACRT11600x1200_1_H
op_assign
(paren
id|SiS_LCDACRT1DataStruct
op_star
)paren
id|SiS310_LCDACRT11600x1200_1_H
suffix:semicolon
id|SiS_Pr-&gt;SiS_LCDACRT1800x600_2
op_assign
(paren
id|SiS_LCDACRT1DataStruct
op_star
)paren
id|SiS310_LCDACRT1800x600_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_LCDACRT11024x768_2
op_assign
(paren
id|SiS_LCDACRT1DataStruct
op_star
)paren
id|SiS310_LCDACRT11024x768_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_LCDACRT11280x1024_2
op_assign
(paren
id|SiS_LCDACRT1DataStruct
op_star
)paren
id|SiS310_LCDACRT11280x1024_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_LCDACRT11400x1050_2
op_assign
(paren
id|SiS_LCDACRT1DataStruct
op_star
)paren
id|SiS310_LCDACRT11400x1050_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_LCDACRT11600x1200_2
op_assign
(paren
id|SiS_LCDACRT1DataStruct
op_star
)paren
id|SiS310_LCDACRT11600x1200_2
suffix:semicolon
id|SiS_Pr-&gt;SiS_LCDACRT1800x600_2_H
op_assign
(paren
id|SiS_LCDACRT1DataStruct
op_star
)paren
id|SiS310_LCDACRT1800x600_2_H
suffix:semicolon
id|SiS_Pr-&gt;SiS_LCDACRT11024x768_2_H
op_assign
(paren
id|SiS_LCDACRT1DataStruct
op_star
)paren
id|SiS310_LCDACRT11024x768_2_H
suffix:semicolon
id|SiS_Pr-&gt;SiS_LCDACRT11280x1024_2_H
op_assign
(paren
id|SiS_LCDACRT1DataStruct
op_star
)paren
id|SiS310_LCDACRT11280x1024_2_H
suffix:semicolon
id|SiS_Pr-&gt;SiS_LCDACRT11400x1050_2_H
op_assign
(paren
id|SiS_LCDACRT1DataStruct
op_star
)paren
id|SiS310_LCDACRT11400x1050_2_H
suffix:semicolon
id|SiS_Pr-&gt;SiS_LCDACRT11600x1200_2_H
op_assign
(paren
id|SiS_LCDACRT1DataStruct
op_star
)paren
id|SiS310_LCDACRT11600x1200_2_H
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVVCLKUNTSC
op_assign
id|SiS310_CHTVVCLKUNTSC
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVVCLKONTSC
op_assign
id|SiS310_CHTVVCLKONTSC
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVVCLKUPAL
op_assign
id|SiS310_CHTVVCLKUPAL
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVVCLKOPAL
op_assign
id|SiS310_CHTVVCLKOPAL
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVVCLKUPALM
op_assign
id|SiS310_CHTVVCLKUPALM
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVVCLKOPALM
op_assign
id|SiS310_CHTVVCLKOPALM
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVVCLKUPALN
op_assign
id|SiS310_CHTVVCLKUPALN
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVVCLKOPALN
op_assign
id|SiS310_CHTVVCLKOPALN
suffix:semicolon
id|SiS_Pr-&gt;SiS_CHTVVCLKSOPAL
op_assign
id|SiS310_CHTVVCLKSOPAL
suffix:semicolon
id|SiS_Pr-&gt;SiS_Panel320x480
op_assign
id|Panel_320x480
suffix:semicolon
id|SiS_Pr-&gt;SiS_Panel640x480
op_assign
id|Panel_640x480
suffix:semicolon
id|SiS_Pr-&gt;SiS_Panel800x600
op_assign
id|Panel_800x600
suffix:semicolon
id|SiS_Pr-&gt;SiS_Panel1024x768
op_assign
id|Panel_1024x768
suffix:semicolon
id|SiS_Pr-&gt;SiS_Panel1280x1024
op_assign
id|Panel_1280x1024
suffix:semicolon
id|SiS_Pr-&gt;SiS_Panel1280x960
op_assign
id|Panel_1280x960
suffix:semicolon
id|SiS_Pr-&gt;SiS_Panel1600x1200
op_assign
id|Panel_1600x1200
suffix:semicolon
id|SiS_Pr-&gt;SiS_Panel1400x1050
op_assign
id|Panel_1400x1050
suffix:semicolon
id|SiS_Pr-&gt;SiS_Panel1152x768
op_assign
id|Panel_1152x768
suffix:semicolon
id|SiS_Pr-&gt;SiS_Panel1152x864
op_assign
id|Panel_1152x864
suffix:semicolon
id|SiS_Pr-&gt;SiS_Panel1280x768
op_assign
id|Panel_1280x768
suffix:semicolon
id|SiS_Pr-&gt;SiS_Panel1024x600
op_assign
id|Panel_1024x600
suffix:semicolon
id|SiS_Pr-&gt;SiS_PanelMax
op_assign
id|Panel_320x480
suffix:semicolon
multiline_comment|/* TW: highest value */
id|SiS_Pr-&gt;SiS_PanelMinLVDS
op_assign
id|Panel_800x600
suffix:semicolon
multiline_comment|/* TW: lowest value LVDS/LCDA */
id|SiS_Pr-&gt;SiS_PanelMin301
op_assign
id|Panel_1024x768
suffix:semicolon
multiline_comment|/* TW: lowest value 301 */
)brace
macro_line|#endif
macro_line|#ifdef LINUXBIOS
multiline_comment|/* -------------- SiSInit -----------------*/
multiline_comment|/* TW: I degraded this for LINUXBIOS only, because we&n; *     don&squot;t need this otherwise. Under normal&n; *     circumstances, the video BIOS has initialized&n; *     the adapter for us. BTW, this code is incomplete&n; *     and very possibly not working on newer chipsets.&n; */
id|BOOLEAN
DECL|function|SiSInit
id|SiSInit
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
)paren
(brace
id|UCHAR
op_star
id|ROMAddr
op_assign
id|HwDeviceExtension-&gt;pjVirtualRomBase
suffix:semicolon
id|ULONG
id|FBAddr
op_assign
(paren
id|ULONG
)paren
id|HwDeviceExtension-&gt;pjVideoMemoryAddress
suffix:semicolon
id|USHORT
id|BaseAddr
op_assign
(paren
id|USHORT
)paren
id|HwDeviceExtension-&gt;ulIOAddress
suffix:semicolon
id|UCHAR
id|i
comma
id|temp
op_assign
l_int|0
suffix:semicolon
id|UCHAR
id|SR11
suffix:semicolon
macro_line|#ifdef LINUX_KERNEL
id|UCHAR
id|temp1
suffix:semicolon
id|ULONG
id|base
suffix:semicolon
macro_line|#endif
id|UCHAR
id|SR13
op_assign
l_int|0
comma
id|SR14
op_assign
l_int|0
comma
id|SR16
op_assign
l_int|0
id|UCHAR
id|SR17
op_assign
l_int|0
comma
id|SR19
op_assign
l_int|0
comma
id|SR1A
op_assign
l_int|0
suffix:semicolon
macro_line|#ifdef SIS300
id|UCHAR
id|SR18
op_assign
l_int|0
comma
id|SR12
op_assign
l_int|0
suffix:semicolon
macro_line|#endif
macro_line|#ifdef SIS315H
id|UCHAR
id|CR37
op_assign
l_int|0
comma
id|CR38
op_assign
l_int|0
comma
id|CR79
op_assign
l_int|0
comma
id|UCHAR
id|CR7A
op_assign
l_int|0
comma
id|CR7B
op_assign
l_int|0
comma
id|CR7C
op_assign
l_int|0
suffix:semicolon
id|UCHAR
id|SR1B
op_assign
l_int|0
comma
id|SR15
op_assign
l_int|0
suffix:semicolon
id|PSIS_DSReg
id|pSR
suffix:semicolon
id|ULONG
id|Temp
suffix:semicolon
macro_line|#endif
id|UCHAR
id|VBIOSVersion
(braket
l_int|5
)braket
suffix:semicolon
r_if
c_cond
(paren
id|FBAddr
op_eq
l_int|0
)paren
(brace
r_return
(paren
id|FALSE
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|BaseAddr
op_eq
l_int|0
)paren
(brace
r_return
(paren
id|FALSE
)paren
suffix:semicolon
)brace
id|SiS_SetReg3
c_func
(paren
(paren
id|USHORT
)paren
(paren
id|BaseAddr
op_plus
l_int|0x12
)paren
comma
l_int|0x67
)paren
suffix:semicolon
multiline_comment|/* Misc */
macro_line|#ifdef SIS315H
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
OG
id|SIS_315PRO
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
id|HwDeviceExtension-&gt;bIntegratedMMEnabled
)paren
(brace
r_return
(paren
id|FALSE
)paren
suffix:semicolon
)brace
)brace
macro_line|#endif
id|SiS_MemoryCopy
c_func
(paren
id|VBIOSVersion
comma
id|HwDeviceExtension-&gt;szVBIOSVer
comma
l_int|4
)paren
suffix:semicolon
id|VBIOSVersion
(braket
l_int|4
)braket
op_assign
l_int|0x00
suffix:semicolon
id|SiSDetermineROMUsage
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
comma
id|ROMAddr
)paren
suffix:semicolon
multiline_comment|/* TW: Init pointers */
macro_line|#ifdef SIS315H
r_if
c_cond
(paren
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_315H
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_315
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_315PRO
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_550
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_650
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_740
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_330
)paren
)paren
(brace
id|InitTo310Pointer
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
)paren
suffix:semicolon
)brace
macro_line|#endif
macro_line|#ifdef SIS300
r_if
c_cond
(paren
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_540
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_630
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_730
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_300
)paren
)paren
(brace
id|InitTo300Pointer
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
)paren
suffix:semicolon
)brace
macro_line|#endif
multiline_comment|/* TW: Set SiS Register definitions */
id|SiSRegInit
c_func
(paren
id|SiS_Pr
comma
id|BaseAddr
)paren
suffix:semicolon
multiline_comment|/* TW: Determine LVDS/CH70xx/TRUMPION */
id|SiS_Set_LVDS_TRUMPION
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
)paren
suffix:semicolon
multiline_comment|/* TW: Unlock registers */
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x05
comma
l_int|0x86
)paren
suffix:semicolon
macro_line|#ifdef LINUX_KERNEL
macro_line|#ifdef SIS300                                         &t;/* Set SR14 */
r_if
c_cond
(paren
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_540
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_630
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_730
)paren
)paren
(brace
id|base
op_assign
l_int|0x80000060
suffix:semicolon
id|OutPortLong
c_func
(paren
id|base
comma
l_int|0xcf8
)paren
suffix:semicolon
id|temp1
op_assign
id|InPortLong
c_func
(paren
l_int|0xcfc
)paren
suffix:semicolon
id|temp1
op_rshift_assign
(paren
l_int|16
op_plus
l_int|8
op_plus
l_int|4
)paren
suffix:semicolon
id|temp1
op_and_assign
l_int|0x07
suffix:semicolon
id|temp1
op_increment
suffix:semicolon
id|temp1
op_assign
l_int|1
op_lshift
id|temp1
suffix:semicolon
id|SR14
op_assign
id|temp1
op_minus
l_int|1
suffix:semicolon
id|base
op_assign
l_int|0x80000064
suffix:semicolon
id|OutPortLong
c_func
(paren
id|base
comma
l_int|0xcf8
)paren
suffix:semicolon
id|temp1
op_assign
id|InPortLong
c_func
(paren
l_int|0xcfc
)paren
suffix:semicolon
id|temp1
op_and_assign
l_int|0x00000020
suffix:semicolon
r_if
c_cond
(paren
id|temp1
)paren
(brace
id|SR14
op_or_assign
l_int|0x80
suffix:semicolon
)brace
r_else
id|SR14
op_or_assign
l_int|0x40
suffix:semicolon
)brace
macro_line|#endif
macro_line|#ifdef SIS315H                                          /* Set SR14 */
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_550
)paren
(brace
id|base
op_assign
l_int|0x80000060
suffix:semicolon
id|OutPortLong
c_func
(paren
id|base
comma
l_int|0xcf8
)paren
suffix:semicolon
id|temp1
op_assign
id|InPortLong
c_func
(paren
l_int|0xcfc
)paren
suffix:semicolon
id|temp1
op_rshift_assign
(paren
l_int|16
op_plus
l_int|8
op_plus
l_int|4
)paren
suffix:semicolon
id|temp1
op_and_assign
l_int|0x07
suffix:semicolon
id|temp1
op_increment
suffix:semicolon
id|temp1
op_assign
l_int|1
op_lshift
id|temp1
suffix:semicolon
id|SR14
op_assign
id|temp1
op_minus
l_int|1
suffix:semicolon
id|base
op_assign
l_int|0x80000064
suffix:semicolon
id|OutPortLong
c_func
(paren
id|base
comma
l_int|0xcf8
)paren
suffix:semicolon
id|temp1
op_assign
id|InPortLong
c_func
(paren
l_int|0xcfc
)paren
suffix:semicolon
id|temp1
op_and_assign
l_int|0x00000020
suffix:semicolon
r_if
c_cond
(paren
id|temp1
)paren
(brace
id|SR14
op_or_assign
l_int|0x80
suffix:semicolon
)brace
r_else
id|SR14
op_or_assign
l_int|0x40
suffix:semicolon
)brace
r_if
c_cond
(paren
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_740
)paren
op_logical_or
multiline_comment|/* Set SR14 */
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_650
)paren
)paren
(brace
id|base
op_assign
l_int|0x80000064
suffix:semicolon
id|OutPortLong
c_func
(paren
id|base
comma
l_int|0xcf8
)paren
suffix:semicolon
id|temp1
op_assign
id|InPortLong
c_func
(paren
l_int|0xcfc
)paren
suffix:semicolon
id|temp1
op_rshift_assign
l_int|4
suffix:semicolon
id|temp1
op_and_assign
l_int|0x07
suffix:semicolon
r_if
c_cond
(paren
id|temp1
OG
l_int|2
)paren
(brace
id|temp
op_assign
id|temp1
suffix:semicolon
r_switch
c_cond
(paren
id|temp
)paren
(brace
r_case
l_int|3
suffix:colon
id|temp1
op_assign
l_int|0x07
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|4
suffix:colon
id|temp1
op_assign
l_int|0x0F
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|5
suffix:colon
id|temp1
op_assign
l_int|0x1F
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|6
suffix:colon
id|temp1
op_assign
l_int|0x05
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|7
suffix:colon
id|temp1
op_assign
l_int|0x17
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|8
suffix:colon
r_break
suffix:semicolon
r_case
l_int|9
suffix:colon
r_break
suffix:semicolon
)brace
)brace
id|SR14
op_assign
id|temp1
suffix:semicolon
id|base
op_assign
l_int|0x8000007C
suffix:semicolon
id|OutPortLong
c_func
(paren
id|base
comma
l_int|0xcf8
)paren
suffix:semicolon
id|temp1
op_assign
id|InPortLong
c_func
(paren
l_int|0xcfc
)paren
suffix:semicolon
id|temp1
op_and_assign
l_int|0x00000020
suffix:semicolon
r_if
c_cond
(paren
id|temp1
)paren
(brace
id|SR14
op_or_assign
l_int|0x80
suffix:semicolon
)brace
)brace
macro_line|#endif
macro_line|#endif  /* Linux kernel */
macro_line|#ifdef SIS300
r_if
c_cond
(paren
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_540
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_630
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_730
)paren
)paren
(brace
id|SR12
op_assign
(paren
id|UCHAR
)paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x12
)paren
suffix:semicolon
id|SR13
op_assign
(paren
id|UCHAR
)paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x13
)paren
suffix:semicolon
id|SR14
op_assign
(paren
id|UCHAR
)paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x14
)paren
suffix:semicolon
id|SR16
op_assign
(paren
id|UCHAR
)paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x16
)paren
suffix:semicolon
id|SR17
op_assign
(paren
id|UCHAR
)paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x17
)paren
suffix:semicolon
id|SR18
op_assign
(paren
id|UCHAR
)paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x18
)paren
suffix:semicolon
id|SR19
op_assign
(paren
id|UCHAR
)paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x19
)paren
suffix:semicolon
id|SR1A
op_assign
(paren
id|UCHAR
)paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x1A
)paren
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_300
)paren
(brace
id|SR13
op_assign
(paren
id|UCHAR
)paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x13
)paren
suffix:semicolon
id|SR14
op_assign
(paren
id|UCHAR
)paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x14
)paren
suffix:semicolon
)brace
macro_line|#endif
macro_line|#ifdef SIS315H
r_if
c_cond
(paren
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_550
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_740
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_650
)paren
)paren
(brace
id|SR19
op_assign
(paren
id|UCHAR
)paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x19
)paren
suffix:semicolon
id|SR19
op_assign
(paren
id|SR19
)paren
op_logical_or
l_int|0x01
suffix:semicolon
multiline_comment|/* TW: ??? || ??? */
r_if
c_cond
(paren
id|SR19
op_eq
l_int|0x00
)paren
(brace
id|SR13
op_assign
l_int|0x22
suffix:semicolon
id|SR14
op_assign
l_int|0x00
suffix:semicolon
id|SR15
op_assign
l_int|0x01
suffix:semicolon
id|SR16
op_assign
l_int|0x00
suffix:semicolon
id|SR17
op_assign
l_int|0x00
suffix:semicolon
id|SR1A
op_assign
l_int|0x00
suffix:semicolon
id|SR1B
op_assign
l_int|0x00
suffix:semicolon
id|CR37
op_assign
l_int|0x00
suffix:semicolon
id|CR38
op_assign
l_int|0x00
suffix:semicolon
id|CR79
op_assign
l_int|0x00
suffix:semicolon
id|CR7A
op_assign
l_int|0x00
suffix:semicolon
id|CR7B
op_assign
l_int|0x00
suffix:semicolon
id|CR7C
op_assign
l_int|0x00
suffix:semicolon
)brace
r_else
(brace
id|SR13
op_assign
(paren
id|UCHAR
)paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x13
)paren
suffix:semicolon
id|SR14
op_assign
(paren
id|UCHAR
)paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x14
)paren
suffix:semicolon
id|SR15
op_assign
(paren
id|UCHAR
)paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x15
)paren
suffix:semicolon
id|SR16
op_assign
(paren
id|UCHAR
)paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x16
)paren
suffix:semicolon
id|SR17
op_assign
(paren
id|UCHAR
)paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x17
)paren
suffix:semicolon
id|SR1A
op_assign
(paren
id|UCHAR
)paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x1A
)paren
suffix:semicolon
id|SR1B
op_assign
(paren
id|UCHAR
)paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x1B
)paren
suffix:semicolon
id|CR37
op_assign
(paren
id|UCHAR
)paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x37
)paren
suffix:semicolon
multiline_comment|/* TW: Was 0x02 - why? */
id|CR38
op_assign
(paren
id|UCHAR
)paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x38
)paren
suffix:semicolon
id|CR79
op_assign
(paren
id|UCHAR
)paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x79
)paren
suffix:semicolon
id|CR7A
op_assign
(paren
id|UCHAR
)paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x7A
)paren
suffix:semicolon
id|CR7B
op_assign
(paren
id|UCHAR
)paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x7B
)paren
suffix:semicolon
id|CR7C
op_assign
(paren
id|UCHAR
)paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x7C
)paren
suffix:semicolon
)brace
)brace
macro_line|#endif
multiline_comment|/* Reset extended registers */
r_for
c_loop
(paren
id|i
op_assign
l_int|0x06
suffix:semicolon
id|i
OL
l_int|0x20
suffix:semicolon
id|i
op_increment
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
id|i
comma
l_int|0
)paren
suffix:semicolon
)brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0x21
suffix:semicolon
id|i
op_le
l_int|0x27
suffix:semicolon
id|i
op_increment
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
id|i
comma
l_int|0
)paren
suffix:semicolon
)brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0x31
suffix:semicolon
id|i
op_le
l_int|0x3D
suffix:semicolon
id|i
op_increment
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
id|i
comma
l_int|0
)paren
suffix:semicolon
)brace
macro_line|#ifdef SIS300
r_if
c_cond
(paren
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_540
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_630
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_730
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_300
)paren
)paren
(brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0x38
suffix:semicolon
id|i
op_le
l_int|0x3F
suffix:semicolon
id|i
op_increment
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
id|i
comma
l_int|0
)paren
suffix:semicolon
)brace
)brace
macro_line|#endif
macro_line|#ifdef SIS315H
r_if
c_cond
(paren
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_315H
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_315
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_315PRO
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_550
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_650
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_740
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_330
)paren
)paren
(brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0x12
suffix:semicolon
id|i
op_le
l_int|0x1B
suffix:semicolon
id|i
op_increment
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
id|i
comma
l_int|0
)paren
suffix:semicolon
)brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0x79
suffix:semicolon
id|i
op_le
l_int|0x7C
suffix:semicolon
id|i
op_increment
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
id|i
comma
l_int|0
)paren
suffix:semicolon
)brace
)brace
macro_line|#endif
multiline_comment|/* Restore Extended Registers */
macro_line|#ifdef SIS300
r_if
c_cond
(paren
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_540
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_630
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_730
)paren
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x12
comma
id|SR12
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x13
comma
id|SR13
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x14
comma
id|SR14
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x16
comma
id|SR16
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x17
comma
id|SR17
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x18
comma
id|SR18
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x19
comma
id|SR19
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x1A
comma
id|SR1A
)paren
suffix:semicolon
)brace
macro_line|#endif
macro_line|#ifdef SIS315H
r_if
c_cond
(paren
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_550
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_740
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_650
)paren
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x13
comma
id|SR13
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x14
comma
id|SR14
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x15
comma
id|SR15
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x16
comma
id|SR16
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x17
comma
id|SR17
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x19
comma
id|SR19
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x1A
comma
id|SR1A
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x1B
comma
id|SR1B
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x37
comma
id|CR37
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x38
comma
id|CR38
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x79
comma
id|CR79
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x7A
comma
id|CR7A
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x7B
comma
id|CR7B
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x7C
comma
id|CR7C
)paren
suffix:semicolon
)brace
macro_line|#endif
macro_line|#ifdef SIS300
r_if
c_cond
(paren
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_540
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_630
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_730
)paren
)paren
(brace
id|temp
op_assign
(paren
id|UCHAR
)paren
id|SR1A
op_amp
l_int|0x03
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_300
)paren
(brace
multiline_comment|/* TW: Nothing */
)brace
macro_line|#endif
macro_line|#ifdef SIS315H
r_if
c_cond
(paren
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_315H
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_315
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_315PRO
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_330
)paren
)paren
(brace
r_if
c_cond
(paren
(paren
op_star
id|SiS_Pr-&gt;pSiS_SoftSetting
op_amp
id|SoftDRAMType
)paren
op_eq
l_int|0
)paren
(brace
id|temp
op_assign
(paren
id|UCHAR
)paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x3A
)paren
op_amp
l_int|0x03
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_550
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_740
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_650
)paren
)paren
(brace
r_if
c_cond
(paren
(paren
op_star
id|SiS_Pr-&gt;pSiS_SoftSetting
op_amp
id|SoftDRAMType
)paren
op_eq
l_int|0
)paren
(brace
id|temp
op_assign
(paren
id|UCHAR
)paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x13
)paren
op_amp
l_int|0x07
suffix:semicolon
)brace
)brace
macro_line|#endif
id|SiS_Pr-&gt;SiS_RAMType
op_assign
id|temp
suffix:semicolon
id|SiS_SetMemoryClock
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|HwDeviceExtension
)paren
suffix:semicolon
multiline_comment|/* Set default register contents */
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x07
comma
op_star
id|SiS_Pr-&gt;pSiS_SR07
)paren
suffix:semicolon
multiline_comment|/* DAC speed */
r_if
c_cond
(paren
(paren
id|HwDeviceExtension-&gt;jChipType
op_ne
id|SIS_540
)paren
op_logical_and
(paren
id|HwDeviceExtension-&gt;jChipType
op_ne
id|SIS_630
)paren
op_logical_and
(paren
id|HwDeviceExtension-&gt;jChipType
op_ne
id|SIS_730
)paren
)paren
(brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0x15
suffix:semicolon
id|i
OL
l_int|0x1C
suffix:semicolon
id|i
op_increment
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
id|i
comma
id|SiS_Pr-&gt;SiS_SR15
(braket
id|i
op_minus
l_int|0x15
)braket
(braket
id|SiS_Pr-&gt;SiS_RAMType
)braket
)paren
suffix:semicolon
)brace
)brace
macro_line|#ifdef SIS315H
r_if
c_cond
(paren
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_315H
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_315
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_315PRO
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_330
)paren
)paren
(brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0x40
suffix:semicolon
id|i
op_le
l_int|0x44
suffix:semicolon
id|i
op_increment
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
id|i
comma
id|SiS_Pr-&gt;SiS_CR40
(braket
id|i
op_minus
l_int|0x40
)braket
(braket
id|SiS_Pr-&gt;SiS_RAMType
)braket
)paren
suffix:semicolon
)brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x48
comma
l_int|0x23
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x49
comma
id|SiS_Pr-&gt;SiS_CR49
(braket
l_int|0
)braket
)paren
suffix:semicolon
multiline_comment|/*  SiS_SetReg1(SiS_Pr-&gt;SiS_P3c4,0x25,SiS_Pr-&gt;SiS_SR25[0]);  */
)brace
macro_line|#endif
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x1F
comma
op_star
id|SiS_Pr-&gt;pSiS_SR1F
)paren
suffix:semicolon
multiline_comment|/* DAC pedestal */
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x20
comma
l_int|0xA0
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x23
comma
op_star
id|SiS_Pr-&gt;pSiS_SR23
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x24
comma
op_star
id|SiS_Pr-&gt;pSiS_SR24
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x25
comma
id|SiS_Pr-&gt;SiS_SR25
(braket
l_int|0
)braket
)paren
suffix:semicolon
macro_line|#ifdef SIS300
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_300
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x21
comma
l_int|0x84
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x22
comma
l_int|0x00
)paren
suffix:semicolon
)brace
macro_line|#endif
id|SR11
op_assign
l_int|0x0F
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x11
comma
id|SR11
)paren
suffix:semicolon
multiline_comment|/* Power Management &amp; DDC port */
id|SiS_UnLockCRT2
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
comma
id|BaseAddr
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_Part1Port
comma
l_int|0x00
comma
l_int|0x00
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_Part1Port
comma
l_int|0x02
comma
op_star
id|SiS_Pr-&gt;pSiS_CRT2Data_1_2
)paren
suffix:semicolon
macro_line|#ifdef SIS315H
r_if
c_cond
(paren
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_315H
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_315
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_315PRO
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_550
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_650
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_740
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_330
)paren
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_Part1Port
comma
l_int|0x2E
comma
l_int|0x08
)paren
suffix:semicolon
)brace
multiline_comment|/* use VB */
macro_line|#endif
id|temp
op_assign
op_star
id|SiS_Pr-&gt;pSiS_SR32
suffix:semicolon
r_if
c_cond
(paren
id|SiS_BridgeIsOn
c_func
(paren
id|SiS_Pr
comma
id|BaseAddr
)paren
)paren
(brace
id|temp
op_and_assign
l_int|0xEF
suffix:semicolon
)brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x32
comma
id|temp
)paren
suffix:semicolon
macro_line|#ifdef SIS315H
r_if
c_cond
(paren
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_315H
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_315
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_315PRO
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_330
)paren
)paren
(brace
id|HwDeviceExtension
op_member_access_from_pointer
id|pQueryVGAConfigSpace
c_func
(paren
id|HwDeviceExtension
comma
l_int|0x50
comma
l_int|0
comma
op_amp
id|Temp
)paren
suffix:semicolon
id|Temp
op_rshift_assign
l_int|20
suffix:semicolon
id|Temp
op_and_assign
l_int|0xF
suffix:semicolon
r_if
c_cond
(paren
id|Temp
op_ne
l_int|1
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x25
comma
id|SiS_Pr-&gt;SiS_SR25
(braket
l_int|1
)braket
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x49
comma
id|SiS_Pr-&gt;SiS_CR49
(braket
l_int|1
)braket
)paren
suffix:semicolon
)brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x27
comma
l_int|0x1F
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x31
comma
op_star
id|SiS_Pr-&gt;pSiS_SR31
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x32
comma
op_star
id|SiS_Pr-&gt;pSiS_SR32
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x33
comma
op_star
id|SiS_Pr-&gt;pSiS_SR33
)paren
suffix:semicolon
)brace
macro_line|#endif
r_if
c_cond
(paren
id|SiS_BridgeIsOn
c_func
(paren
id|SiS_Pr
comma
id|BaseAddr
)paren
op_eq
l_int|0
)paren
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_IF_DEF_LVDS
op_eq
l_int|0
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_Part2Port
comma
l_int|0x00
comma
l_int|0x1C
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_Part4Port
comma
l_int|0x0D
comma
op_star
id|SiS_Pr-&gt;pSiS_CRT2Data_4_D
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_Part4Port
comma
l_int|0x0E
comma
op_star
id|SiS_Pr-&gt;pSiS_CRT2Data_4_E
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_Part4Port
comma
l_int|0x10
comma
op_star
id|SiS_Pr-&gt;pSiS_CRT2Data_4_10
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_Part4Port
comma
l_int|0x0F
comma
l_int|0x3F
)paren
suffix:semicolon
)brace
id|SiS_LockCRT2
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
comma
id|BaseAddr
)paren
suffix:semicolon
)brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x83
comma
l_int|0x00
)paren
suffix:semicolon
macro_line|#ifdef SIS315H
r_if
c_cond
(paren
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_315H
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_315
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_315PRO
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_330
)paren
)paren
(brace
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;bSkipDramSizing
op_eq
id|TRUE
)paren
(brace
id|SiS_SetDRAMModeRegister
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|HwDeviceExtension
)paren
suffix:semicolon
id|pSR
op_assign
id|HwDeviceExtension-&gt;pSR
suffix:semicolon
r_if
c_cond
(paren
id|pSR
op_ne
l_int|NULL
)paren
(brace
r_while
c_loop
(paren
id|pSR-&gt;jIdx
op_ne
l_int|0xFF
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
id|pSR-&gt;jIdx
comma
id|pSR-&gt;jVal
)paren
suffix:semicolon
id|pSR
op_increment
suffix:semicolon
)brace
)brace
)brace
r_else
id|SiS_SetDRAMSize_310
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
)paren
suffix:semicolon
)brace
macro_line|#endif
macro_line|#ifdef SIS315H
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_550
)paren
(brace
multiline_comment|/* SetDRAMConfig begin */
multiline_comment|/*     SiS_SetReg1(SiS_Pr-&gt;SiS_P3c4,0x12,SR12);&n;       SiS_SetReg1(SiS_Pr-&gt;SiS_P3c4,0x13,SR13);&n;       SiS_SetReg1(SiS_Pr-&gt;SiS_P3c4,0x14,SR14);&n;       SiS_SetReg1(SiS_Pr-&gt;SiS_P3c4,0x16,SR16);&n;       SiS_SetReg1(SiS_Pr-&gt;SiS_P3c4,0x17,SR17);&n;       SiS_SetReg1(SiS_Pr-&gt;SiS_P3c4,0x18,SR18);&n;       SiS_SetReg1(SiS_Pr-&gt;SiS_P3c4,0x19,SR19);&n;       SiS_SetReg1(SiS_Pr-&gt;SiS_P3c4,0x1A,SR1A);   */
multiline_comment|/* SetDRAMConfig end */
)brace
macro_line|#endif
macro_line|#ifdef SIS300
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_300
)paren
(brace
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;bSkipDramSizing
op_eq
id|TRUE
)paren
(brace
multiline_comment|/*       &t;SiS_SetDRAMModeRegister(ROMAddr,HwDeviceExtension);&n;         &t;temp = (HwDeviceExtension-&gt;pSR)-&gt;jVal;&n;         &t;SiS_SetReg1(SiS_Pr-&gt;SiS_P3c4,0x13,temp);&n;         &t;temp = (HwDeviceExtension-&gt;pSR)-&gt;jVal;&n;         &t;SiS_SetReg1(SiS_Pr-&gt;SiS_P3c4,0x14,temp);   */
)brace
r_else
(brace
macro_line|#ifdef TC
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x13
comma
id|SR13
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x14
comma
id|SR14
)paren
suffix:semicolon
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x15
comma
l_int|0xFF
comma
l_int|0x04
)paren
suffix:semicolon
macro_line|#else
id|SiS_SetDRAMSize_300
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
)paren
suffix:semicolon
id|SiS_SetDRAMSize_300
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
)paren
suffix:semicolon
macro_line|#endif
)brace
)brace
r_if
c_cond
(paren
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_540
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_630
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_730
)paren
)paren
(brace
macro_line|#if 0
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x12
comma
id|SR12
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x13
comma
id|SR13
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x14
comma
id|SR14
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x16
comma
id|SR16
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x17
comma
id|SR17
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x18
comma
id|SR18
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x19
comma
id|SR19
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x1A
comma
id|SR1A
)paren
suffix:semicolon
macro_line|#endif
)brace
multiline_comment|/* SetDRAMSize end */
macro_line|#endif /* SIS300 */
multiline_comment|/* Set default Ext2Regs */
macro_line|#if 0
id|AGP
op_assign
l_int|1
suffix:semicolon
id|temp
op_assign
(paren
id|UCHAR
)paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x3A
)paren
suffix:semicolon
id|temp
op_and_assign
l_int|0x30
suffix:semicolon
r_if
c_cond
(paren
id|temp
op_eq
l_int|0x30
)paren
(brace
id|AGP
op_assign
l_int|0
suffix:semicolon
)brace
r_if
c_cond
(paren
id|AGP
op_eq
l_int|0
)paren
(brace
op_star
id|SiS_Pr-&gt;pSiS_SR21
op_and_assign
l_int|0xEF
suffix:semicolon
)brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x21
comma
op_star
id|SiS_Pr-&gt;pSiS_SR21
)paren
suffix:semicolon
r_if
c_cond
(paren
id|AGP
op_eq
l_int|1
)paren
(brace
op_star
id|SiS_Pr-&gt;pSiS_SR22
op_and_assign
l_int|0x20
suffix:semicolon
)brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x22
comma
op_star
id|SiS_Pr-&gt;pSiS_SR22
)paren
suffix:semicolon
macro_line|#endif
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x21
comma
op_star
id|SiS_Pr-&gt;pSiS_SR21
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x22
comma
op_star
id|SiS_Pr-&gt;pSiS_SR22
)paren
suffix:semicolon
macro_line|#if 0
id|SiS_SetReg3
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c6
comma
l_int|0xff
)paren
suffix:semicolon
id|SiS_ClearDAC
c_func
(paren
id|SiS_Pr
comma
id|SiS_Pr-&gt;SiS_P3c8
)paren
suffix:semicolon
macro_line|#endif
macro_line|#ifdef LINUXBIOS   /* TW: This is not needed for our purposes */
id|SiS_DetectMonitor
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
comma
id|BaseAddr
)paren
suffix:semicolon
multiline_comment|/* Sense CRT1 */
id|SiS_GetSenseStatus
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
comma
id|ROMAddr
)paren
suffix:semicolon
multiline_comment|/* Sense CRT2 */
macro_line|#endif
r_return
id|TRUE
suffix:semicolon
)brace
r_void
DECL|function|SiS_Set_LVDS_TRUMPION
id|SiS_Set_LVDS_TRUMPION
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
)paren
(brace
id|USHORT
id|temp
op_assign
l_int|0
suffix:semicolon
macro_line|#ifdef SiS300
r_if
c_cond
(paren
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_540
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_630
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_730
)paren
)paren
(brace
multiline_comment|/* TW: Read POWER_ON_TRAP and copy to CR37 */
id|temp
op_assign
(paren
id|UCHAR
)paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x1A
)paren
suffix:semicolon
id|temp
op_assign
(paren
id|temp
op_amp
l_int|0xE0
)paren
op_rshift
l_int|4
suffix:semicolon
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x37
comma
l_int|0xF1
comma
id|temp
)paren
suffix:semicolon
)brace
macro_line|#endif
macro_line|#ifdef SIS315H
r_if
c_cond
(paren
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_650
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_740
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_330
)paren
)paren
(brace
macro_line|#if 0 /* TW: This is not required */
multiline_comment|/* TW: Read POWER_ON_TRAP and copy to CR37 */
id|temp
op_assign
(paren
id|UCHAR
)paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x1A
)paren
suffix:semicolon
id|temp
op_assign
(paren
id|temp
op_amp
l_int|0xE0
)paren
op_rshift
l_int|4
suffix:semicolon
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x37
comma
l_int|0xF1
comma
id|temp
)paren
suffix:semicolon
macro_line|#endif
)brace
macro_line|#endif
id|SiSSetLVDSetc
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
comma
l_int|0
)paren
suffix:semicolon
)brace
multiline_comment|/* ===============  SiS 300 dram sizing begin  =============== */
macro_line|#ifdef SIS300
r_void
DECL|function|SiS_SetDRAMSize_300
id|SiS_SetDRAMSize_300
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
)paren
(brace
id|ULONG
id|FBAddr
op_assign
(paren
id|ULONG
)paren
id|HwDeviceExtension-&gt;pjVideoMemoryAddress
suffix:semicolon
id|USHORT
id|SR13
comma
id|SR14
op_assign
l_int|0
comma
id|buswidth
comma
id|Done
suffix:semicolon
id|SHORT
id|i
comma
id|j
comma
id|k
suffix:semicolon
id|USHORT
id|data
comma
id|TotalCapacity
comma
id|PhysicalAdrOtherPage
op_assign
l_int|0
suffix:semicolon
id|ULONG
id|Addr
suffix:semicolon
id|UCHAR
id|temp
suffix:semicolon
r_int
id|PseudoRankCapacity
comma
id|PseudoTotalCapacity
comma
id|PseudoAdrPinCount
suffix:semicolon
r_int
id|RankCapacity
comma
id|AdrPinCount
comma
id|BankNumHigh
comma
id|BankNumMid
comma
id|MB2Bank
suffix:semicolon
r_int
id|PageCapacity
comma
id|PhysicalAdrHigh
comma
id|PhysicalAdrHalfPage
suffix:semicolon
id|SiSSetMode
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
comma
l_int|0x2e
)paren
suffix:semicolon
id|SiS_SetRegOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x01
comma
l_int|0x20
)paren
suffix:semicolon
multiline_comment|/* Turn OFF Display  */
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x13
comma
l_int|0x00
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x14
comma
l_int|0xBF
)paren
suffix:semicolon
id|buswidth
op_assign
id|SiS_ChkBUSWidth_300
c_func
(paren
id|SiS_Pr
comma
id|FBAddr
)paren
suffix:semicolon
id|MB2Bank
op_assign
l_int|16
suffix:semicolon
id|Done
op_assign
l_int|0
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|6
suffix:semicolon
id|i
op_ge
l_int|0
suffix:semicolon
id|i
op_decrement
)paren
(brace
r_if
c_cond
(paren
id|Done
op_eq
l_int|1
)paren
(brace
r_break
suffix:semicolon
)brace
id|PseudoRankCapacity
op_assign
l_int|1
op_lshift
id|i
suffix:semicolon
r_for
c_loop
(paren
id|j
op_assign
l_int|4
suffix:semicolon
id|j
op_ge
l_int|1
suffix:semicolon
id|j
op_decrement
)paren
(brace
r_if
c_cond
(paren
id|Done
op_eq
l_int|1
)paren
(brace
r_break
suffix:semicolon
)brace
id|PseudoTotalCapacity
op_assign
id|PseudoRankCapacity
op_star
id|j
suffix:semicolon
id|PseudoAdrPinCount
op_assign
l_int|15
op_minus
id|j
suffix:semicolon
r_if
c_cond
(paren
id|PseudoTotalCapacity
op_le
l_int|64
)paren
(brace
r_for
c_loop
(paren
id|k
op_assign
l_int|0
suffix:semicolon
id|k
op_le
l_int|16
suffix:semicolon
id|k
op_increment
)paren
(brace
r_if
c_cond
(paren
id|Done
op_eq
l_int|1
)paren
(brace
r_break
suffix:semicolon
)brace
id|RankCapacity
op_assign
id|buswidth
op_star
id|SiS_DRAMType
(braket
id|k
)braket
(braket
l_int|3
)braket
suffix:semicolon
id|AdrPinCount
op_assign
id|SiS_DRAMType
(braket
id|k
)braket
(braket
l_int|2
)braket
op_plus
id|SiS_DRAMType
(braket
id|k
)braket
(braket
l_int|0
)braket
suffix:semicolon
r_if
c_cond
(paren
id|RankCapacity
op_eq
id|PseudoRankCapacity
)paren
r_if
c_cond
(paren
id|AdrPinCount
op_le
id|PseudoAdrPinCount
)paren
(brace
r_if
c_cond
(paren
id|j
op_eq
l_int|3
)paren
(brace
multiline_comment|/* Rank No */
id|BankNumHigh
op_assign
id|RankCapacity
op_star
id|MB2Bank
op_star
l_int|3
op_minus
l_int|1
suffix:semicolon
id|BankNumMid
op_assign
id|RankCapacity
op_star
id|MB2Bank
op_star
l_int|1
op_minus
l_int|1
suffix:semicolon
)brace
r_else
(brace
id|BankNumHigh
op_assign
id|RankCapacity
op_star
id|MB2Bank
op_star
id|j
op_minus
l_int|1
suffix:semicolon
id|BankNumMid
op_assign
id|RankCapacity
op_star
id|MB2Bank
op_star
id|j
op_div
l_int|2
op_minus
l_int|1
suffix:semicolon
)brace
id|PageCapacity
op_assign
(paren
l_int|1
op_lshift
id|SiS_DRAMType
(braket
id|k
)braket
(braket
l_int|1
)braket
)paren
op_star
id|buswidth
op_star
l_int|4
suffix:semicolon
id|PhysicalAdrHigh
op_assign
id|BankNumHigh
suffix:semicolon
id|PhysicalAdrHalfPage
op_assign
(paren
id|PageCapacity
op_div
l_int|2
op_plus
id|PhysicalAdrHigh
)paren
op_mod
id|PageCapacity
suffix:semicolon
id|PhysicalAdrOtherPage
op_assign
id|PageCapacity
op_star
id|SiS_DRAMType
(braket
id|k
)braket
(braket
l_int|2
)braket
op_plus
id|PhysicalAdrHigh
suffix:semicolon
multiline_comment|/* Write data */
multiline_comment|/*Test*/
id|SiS_SetRegAND
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x15
comma
l_int|0xFB
)paren
suffix:semicolon
id|SiS_SetRegOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x15
comma
l_int|0x04
)paren
suffix:semicolon
multiline_comment|/*/Test*/
id|TotalCapacity
op_assign
id|SiS_DRAMType
(braket
id|k
)braket
(braket
l_int|3
)braket
op_star
id|buswidth
suffix:semicolon
id|SR13
op_assign
id|SiS_DRAMType
(braket
id|k
)braket
(braket
l_int|4
)braket
suffix:semicolon
r_if
c_cond
(paren
id|buswidth
op_eq
l_int|4
)paren
(brace
id|SR14
op_assign
(paren
id|TotalCapacity
op_minus
l_int|1
)paren
op_or
l_int|0x80
suffix:semicolon
)brace
r_if
c_cond
(paren
id|buswidth
op_eq
l_int|2
)paren
(brace
id|SR14
op_assign
(paren
id|TotalCapacity
op_minus
l_int|1
)paren
op_or
l_int|0x40
suffix:semicolon
)brace
r_if
c_cond
(paren
id|buswidth
op_eq
l_int|1
)paren
(brace
id|SR14
op_assign
(paren
id|TotalCapacity
op_minus
l_int|1
)paren
op_or
l_int|0x00
suffix:semicolon
)brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x13
comma
id|SR13
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x14
comma
id|SR14
)paren
suffix:semicolon
id|Addr
op_assign
id|FBAddr
op_plus
(paren
id|BankNumHigh
)paren
op_star
l_int|64
op_star
l_int|1024
op_plus
id|PhysicalAdrHigh
suffix:semicolon
op_star
(paren
(paren
id|USHORT
op_star
)paren
(paren
id|Addr
)paren
)paren
op_assign
(paren
id|USHORT
)paren
id|PhysicalAdrHigh
suffix:semicolon
id|Addr
op_assign
id|FBAddr
op_plus
(paren
id|BankNumMid
)paren
op_star
l_int|64
op_star
l_int|1024
op_plus
id|PhysicalAdrHigh
suffix:semicolon
op_star
(paren
(paren
id|USHORT
op_star
)paren
(paren
id|Addr
)paren
)paren
op_assign
(paren
id|USHORT
)paren
id|BankNumMid
suffix:semicolon
id|Addr
op_assign
id|FBAddr
op_plus
(paren
id|BankNumHigh
)paren
op_star
l_int|64
op_star
l_int|1024
op_plus
id|PhysicalAdrHalfPage
suffix:semicolon
op_star
(paren
(paren
id|USHORT
op_star
)paren
(paren
id|Addr
)paren
)paren
op_assign
(paren
id|USHORT
)paren
id|PhysicalAdrHalfPage
suffix:semicolon
id|Addr
op_assign
id|FBAddr
op_plus
(paren
id|BankNumHigh
)paren
op_star
l_int|64
op_star
l_int|1024
op_plus
id|PhysicalAdrOtherPage
suffix:semicolon
op_star
(paren
(paren
id|USHORT
op_star
)paren
(paren
id|Addr
)paren
)paren
op_assign
id|PhysicalAdrOtherPage
suffix:semicolon
multiline_comment|/* Read data */
id|Addr
op_assign
id|FBAddr
op_plus
(paren
id|BankNumHigh
)paren
op_star
l_int|64
op_star
l_int|1024
op_plus
id|PhysicalAdrHigh
suffix:semicolon
id|data
op_assign
op_star
(paren
(paren
id|USHORT
op_star
)paren
(paren
id|Addr
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|data
op_eq
id|PhysicalAdrHigh
)paren
(brace
id|Done
op_assign
l_int|1
suffix:semicolon
)brace
)brace
multiline_comment|/* if struct */
)brace
multiline_comment|/* for loop (k) */
)brace
multiline_comment|/* if struct */
)brace
multiline_comment|/* for loop (j) */
)brace
multiline_comment|/* for loop (i) */
)brace
id|USHORT
DECL|function|SiS_ChkBUSWidth_300
id|SiS_ChkBUSWidth_300
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|ULONG
id|FBAddress
)paren
(brace
id|PULONG
id|pVideoMemory
suffix:semicolon
id|pVideoMemory
op_assign
(paren
id|PULONG
)paren
id|FBAddress
suffix:semicolon
id|pVideoMemory
(braket
l_int|0
)braket
op_assign
l_int|0x01234567L
suffix:semicolon
id|pVideoMemory
(braket
l_int|1
)braket
op_assign
l_int|0x456789ABL
suffix:semicolon
id|pVideoMemory
(braket
l_int|2
)braket
op_assign
l_int|0x89ABCDEFL
suffix:semicolon
id|pVideoMemory
(braket
l_int|3
)braket
op_assign
l_int|0xCDEF0123L
suffix:semicolon
r_if
c_cond
(paren
id|pVideoMemory
(braket
l_int|3
)braket
op_eq
l_int|0xCDEF0123L
)paren
(brace
multiline_comment|/* Channel A 128bit */
r_return
l_int|4
suffix:semicolon
)brace
r_if
c_cond
(paren
id|pVideoMemory
(braket
l_int|1
)braket
op_eq
l_int|0x456789ABL
)paren
(brace
multiline_comment|/* Channel B 64bit */
r_return
l_int|2
suffix:semicolon
)brace
r_return
l_int|1
suffix:semicolon
)brace
macro_line|#endif
multiline_comment|/* ===============  SiS 300 dram sizing end    =============== */
multiline_comment|/* ============  SiS 310/325 dram sizing begin  ============== */
macro_line|#ifdef SIS315H
multiline_comment|/* TW: Moved Get310DRAMType further down */
r_void
DECL|function|SiS_Delay15us
id|SiS_Delay15us
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|ULONG
id|ulMicrsoSec
)paren
(brace
)brace
r_void
DECL|function|SiS_SDR_MRS
id|SiS_SDR_MRS
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
)paren
(brace
id|USHORT
id|data
suffix:semicolon
id|data
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x16
)paren
suffix:semicolon
id|data
op_and_assign
l_int|0x3F
suffix:semicolon
multiline_comment|/* SR16 D7=0, D6=0 */
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x16
comma
id|data
)paren
suffix:semicolon
multiline_comment|/* enable mode register set(MRS) low */
id|SiS_Delay15us
c_func
(paren
id|SiS_Pr
comma
l_int|0x100
)paren
suffix:semicolon
id|data
op_or_assign
l_int|0x80
suffix:semicolon
multiline_comment|/* SR16 D7=1, D6=0 */
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x16
comma
id|data
)paren
suffix:semicolon
multiline_comment|/* enable mode register set(MRS) high */
id|SiS_Delay15us
c_func
(paren
id|SiS_Pr
comma
l_int|0x100
)paren
suffix:semicolon
)brace
r_void
DECL|function|SiS_DDR_MRS
id|SiS_DDR_MRS
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
)paren
(brace
id|USHORT
id|data
suffix:semicolon
multiline_comment|/* SR16 &lt;- 1F,DF,2F,AF */
multiline_comment|/* enable DLL of DDR SD/SGRAM , SR16 D4=1 */
id|data
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x16
)paren
suffix:semicolon
id|data
op_and_assign
l_int|0x0F
suffix:semicolon
id|data
op_or_assign
l_int|0x10
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x16
comma
id|data
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
(paren
id|SiS_Pr-&gt;SiS_SR15
(braket
l_int|1
)braket
(braket
id|SiS_Pr-&gt;SiS_RAMType
)braket
op_amp
l_int|0x10
)paren
)paren
id|data
op_and_assign
l_int|0x0F
suffix:semicolon
multiline_comment|/* SR16 D7=1,D6=1 */
id|data
op_or_assign
l_int|0xC0
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x16
comma
id|data
)paren
suffix:semicolon
multiline_comment|/* SR16 D7=1,D6=0,D5=1,D4=0 */
id|data
op_and_assign
l_int|0x0F
suffix:semicolon
id|data
op_or_assign
l_int|0x20
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x16
comma
id|data
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
(paren
id|SiS_Pr-&gt;SiS_SR15
(braket
l_int|1
)braket
(braket
id|SiS_Pr-&gt;SiS_RAMType
)braket
op_amp
l_int|0x10
)paren
)paren
id|data
op_and_assign
l_int|0x0F
suffix:semicolon
multiline_comment|/* SR16 D7=1 */
id|data
op_or_assign
l_int|0x80
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x16
comma
id|data
)paren
suffix:semicolon
)brace
r_void
DECL|function|SiS_SetDRAMModeRegister
id|SiS_SetDRAMModeRegister
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|UCHAR
op_star
id|ROMAddr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
)paren
(brace
r_if
c_cond
(paren
id|SiS_Get310DRAMType
c_func
(paren
id|ROMAddr
comma
id|HwDeviceExtension
)paren
OL
l_int|2
)paren
id|SiS_SDR_MRS
c_func
(paren
id|SiS_Pr
)paren
suffix:semicolon
r_else
multiline_comment|/* SR16 &lt;- 0F,CF,0F,8F */
id|SiS_DDR_MRS
c_func
(paren
id|SiS_Pr
)paren
suffix:semicolon
)brace
r_void
DECL|function|SiS_DisableRefresh
id|SiS_DisableRefresh
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
)paren
(brace
id|SiS_SetRegAND
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x17
comma
l_int|0xF8
)paren
suffix:semicolon
id|SiS_SetRegOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x19
comma
l_int|0x03
)paren
suffix:semicolon
)brace
r_void
DECL|function|SiS_EnableRefresh
id|SiS_EnableRefresh
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|UCHAR
op_star
id|ROMAddr
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x17
comma
id|SiS_Pr-&gt;SiS_SR15
(braket
l_int|2
)braket
(braket
id|SiS_Pr-&gt;SiS_RAMType
)braket
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x19
comma
id|SiS_Pr-&gt;SiS_SR15
(braket
l_int|4
)braket
(braket
id|SiS_Pr-&gt;SiS_RAMType
)braket
)paren
suffix:semicolon
)brace
r_void
DECL|function|SiS_DisableChannelInterleaving
id|SiS_DisableChannelInterleaving
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
r_int
id|index
comma
id|USHORT
id|SiS_DDRDRAM_TYPE
(braket
)braket
(braket
l_int|5
)braket
)paren
(brace
id|USHORT
id|data
suffix:semicolon
id|data
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x15
)paren
suffix:semicolon
id|data
op_and_assign
l_int|0x1F
suffix:semicolon
r_switch
c_cond
(paren
id|SiS_DDRDRAM_TYPE
(braket
id|index
)braket
(braket
l_int|3
)braket
)paren
(brace
r_case
l_int|64
suffix:colon
id|data
op_or_assign
l_int|0
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|32
suffix:colon
id|data
op_or_assign
l_int|0x20
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|16
suffix:colon
id|data
op_or_assign
l_int|0x40
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|4
suffix:colon
id|data
op_or_assign
l_int|0x60
suffix:semicolon
r_break
suffix:semicolon
)brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x15
comma
id|data
)paren
suffix:semicolon
)brace
r_void
DECL|function|SiS_SetDRAMSizingType
id|SiS_SetDRAMSizingType
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
r_int
id|index
comma
id|USHORT
id|DRAMTYPE_TABLE
(braket
)braket
(braket
l_int|5
)braket
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x13
comma
id|DRAMTYPE_TABLE
(braket
id|index
)braket
(braket
l_int|4
)braket
)paren
suffix:semicolon
multiline_comment|/* should delay 50 ns */
)brace
r_void
DECL|function|SiS_CheckBusWidth_310
id|SiS_CheckBusWidth_310
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|UCHAR
op_star
id|ROMAddress
comma
id|ULONG
id|FBAddress
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
)paren
(brace
id|USHORT
id|data
comma
id|temp
suffix:semicolon
id|PULONG
r_volatile
id|pVideoMemory
suffix:semicolon
id|pVideoMemory
op_assign
(paren
id|PULONG
)paren
id|FBAddress
suffix:semicolon
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_330
)paren
(brace
id|temp
op_assign
l_int|1
suffix:semicolon
)brace
r_else
id|temp
op_assign
l_int|2
suffix:semicolon
r_if
c_cond
(paren
id|SiS_Get310DRAMType
c_func
(paren
id|ROMAddress
comma
id|HwDeviceExtension
)paren
OL
id|temp
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x13
comma
l_int|0x00
)paren
suffix:semicolon
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_ne
id|SIS_330
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x14
comma
l_int|0x12
)paren
suffix:semicolon
)brace
r_else
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x14
comma
l_int|0x02
)paren
suffix:semicolon
)brace
multiline_comment|/* should delay */
id|SiS_SDR_MRS
c_func
(paren
id|SiS_Pr
)paren
suffix:semicolon
id|SiS_Pr-&gt;SiS_ChannelAB
op_assign
l_int|0
suffix:semicolon
id|SiS_Pr-&gt;SiS_DataBusWidth
op_assign
l_int|128
suffix:semicolon
id|pVideoMemory
(braket
l_int|0
)braket
op_assign
l_int|0x01234567L
suffix:semicolon
id|pVideoMemory
(braket
l_int|1
)braket
op_assign
l_int|0x456789ABL
suffix:semicolon
id|pVideoMemory
(braket
l_int|2
)braket
op_assign
l_int|0x89ABCDEFL
suffix:semicolon
id|pVideoMemory
(braket
l_int|3
)braket
op_assign
l_int|0xCDEF0123L
suffix:semicolon
id|pVideoMemory
(braket
l_int|4
)braket
op_assign
l_int|0x55555555L
suffix:semicolon
id|pVideoMemory
(braket
l_int|5
)braket
op_assign
l_int|0x55555555L
suffix:semicolon
id|pVideoMemory
(braket
l_int|6
)braket
op_assign
l_int|0xFFFFFFFFL
suffix:semicolon
id|pVideoMemory
(braket
l_int|7
)braket
op_assign
l_int|0xFFFFFFFFL
suffix:semicolon
r_if
c_cond
(paren
(paren
id|pVideoMemory
(braket
l_int|3
)braket
op_ne
l_int|0xCDEF0123L
)paren
op_logical_or
(paren
id|pVideoMemory
(braket
l_int|2
)braket
op_ne
l_int|0x89ABCDEFL
)paren
)paren
(brace
multiline_comment|/* Channel A 64Bit */
id|SiS_Pr-&gt;SiS_DataBusWidth
op_assign
l_int|64
suffix:semicolon
id|SiS_Pr-&gt;SiS_ChannelAB
op_assign
l_int|0
suffix:semicolon
id|SiS_SetRegAND
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x14
comma
l_int|0xFD
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
(paren
id|pVideoMemory
(braket
l_int|1
)braket
op_ne
l_int|0x456789ABL
)paren
op_logical_or
(paren
id|pVideoMemory
(braket
l_int|0
)braket
op_ne
l_int|0x01234567L
)paren
)paren
(brace
multiline_comment|/* Channel B 64Bit */
id|SiS_Pr-&gt;SiS_DataBusWidth
op_assign
l_int|64
suffix:semicolon
id|SiS_Pr-&gt;SiS_ChannelAB
op_assign
l_int|1
suffix:semicolon
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x14
comma
l_int|0xfd
comma
l_int|0x01
)paren
suffix:semicolon
)brace
r_return
suffix:semicolon
)brace
r_else
(brace
multiline_comment|/* DDR Dual channel */
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x13
comma
l_int|0x00
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x14
comma
l_int|0x02
)paren
suffix:semicolon
multiline_comment|/* Channel A, 64bit */
multiline_comment|/* should delay */
id|SiS_DDR_MRS
c_func
(paren
id|SiS_Pr
)paren
suffix:semicolon
id|SiS_Pr-&gt;SiS_ChannelAB
op_assign
l_int|0
suffix:semicolon
id|SiS_Pr-&gt;SiS_DataBusWidth
op_assign
l_int|64
suffix:semicolon
id|pVideoMemory
(braket
l_int|0
)braket
op_assign
l_int|0x01234567L
suffix:semicolon
id|pVideoMemory
(braket
l_int|1
)braket
op_assign
l_int|0x456789ABL
suffix:semicolon
id|pVideoMemory
(braket
l_int|2
)braket
op_assign
l_int|0x89ABCDEFL
suffix:semicolon
id|pVideoMemory
(braket
l_int|3
)braket
op_assign
l_int|0xCDEF0123L
suffix:semicolon
id|pVideoMemory
(braket
l_int|4
)braket
op_assign
l_int|0x55555555L
suffix:semicolon
id|pVideoMemory
(braket
l_int|5
)braket
op_assign
l_int|0x55555555L
suffix:semicolon
id|pVideoMemory
(braket
l_int|6
)braket
op_assign
l_int|0xAAAAAAAAL
suffix:semicolon
id|pVideoMemory
(braket
l_int|7
)braket
op_assign
l_int|0xAAAAAAAAL
suffix:semicolon
r_if
c_cond
(paren
id|pVideoMemory
(braket
l_int|1
)braket
op_eq
l_int|0x456789ABL
)paren
(brace
r_if
c_cond
(paren
id|pVideoMemory
(braket
l_int|0
)braket
op_eq
l_int|0x01234567L
)paren
(brace
multiline_comment|/* Channel A 64bit */
r_return
suffix:semicolon
)brace
)brace
r_else
(brace
r_if
c_cond
(paren
id|pVideoMemory
(braket
l_int|0
)braket
op_eq
l_int|0x01234567L
)paren
(brace
multiline_comment|/* Channel A 32bit */
id|SiS_Pr-&gt;SiS_DataBusWidth
op_assign
l_int|32
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x14
comma
l_int|0x00
)paren
suffix:semicolon
r_return
suffix:semicolon
)brace
)brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x14
comma
l_int|0x03
)paren
suffix:semicolon
multiline_comment|/* Channel B, 64bit */
id|SiS_DDR_MRS
c_func
(paren
id|SiS_Pr
)paren
suffix:semicolon
id|SiS_Pr-&gt;SiS_ChannelAB
op_assign
l_int|1
suffix:semicolon
id|SiS_Pr-&gt;SiS_DataBusWidth
op_assign
l_int|64
suffix:semicolon
id|pVideoMemory
(braket
l_int|0
)braket
op_assign
l_int|0x01234567L
suffix:semicolon
id|pVideoMemory
(braket
l_int|1
)braket
op_assign
l_int|0x456789ABL
suffix:semicolon
id|pVideoMemory
(braket
l_int|2
)braket
op_assign
l_int|0x89ABCDEFL
suffix:semicolon
id|pVideoMemory
(braket
l_int|3
)braket
op_assign
l_int|0xCDEF0123L
suffix:semicolon
id|pVideoMemory
(braket
l_int|4
)braket
op_assign
l_int|0x55555555L
suffix:semicolon
id|pVideoMemory
(braket
l_int|5
)braket
op_assign
l_int|0x55555555L
suffix:semicolon
id|pVideoMemory
(braket
l_int|6
)braket
op_assign
l_int|0xAAAAAAAAL
suffix:semicolon
id|pVideoMemory
(braket
l_int|7
)braket
op_assign
l_int|0xAAAAAAAAL
suffix:semicolon
r_if
c_cond
(paren
id|pVideoMemory
(braket
l_int|1
)braket
op_eq
l_int|0x456789ABL
)paren
(brace
multiline_comment|/* Channel B 64 */
r_if
c_cond
(paren
id|pVideoMemory
(braket
l_int|0
)braket
op_eq
l_int|0x01234567L
)paren
(brace
multiline_comment|/* Channel B 64bit */
r_return
suffix:semicolon
)brace
r_else
(brace
multiline_comment|/* error */
)brace
)brace
r_else
(brace
r_if
c_cond
(paren
id|pVideoMemory
(braket
l_int|0
)braket
op_eq
l_int|0x01234567L
)paren
(brace
multiline_comment|/* Channel B 32 */
id|SiS_Pr-&gt;SiS_DataBusWidth
op_assign
l_int|32
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x14
comma
l_int|0x01
)paren
suffix:semicolon
)brace
r_else
(brace
multiline_comment|/* error */
)brace
)brace
)brace
)brace
r_int
DECL|function|SiS_SetRank
id|SiS_SetRank
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
r_int
id|index
comma
id|UCHAR
id|RankNo
comma
id|USHORT
id|DRAMTYPE_TABLE
(braket
)braket
(braket
l_int|5
)braket
)paren
(brace
id|USHORT
id|data
suffix:semicolon
r_int
id|RankSize
suffix:semicolon
r_if
c_cond
(paren
(paren
id|RankNo
op_eq
l_int|2
)paren
op_logical_and
(paren
id|DRAMTYPE_TABLE
(braket
id|index
)braket
(braket
l_int|0
)braket
op_eq
l_int|2
)paren
)paren
r_return
l_int|0
suffix:semicolon
id|RankSize
op_assign
id|DRAMTYPE_TABLE
(braket
id|index
)braket
(braket
l_int|3
)braket
op_div
l_int|2
op_star
id|SiS_Pr-&gt;SiS_DataBusWidth
op_div
l_int|32
suffix:semicolon
r_if
c_cond
(paren
id|RankNo
op_star
id|RankSize
op_le
l_int|128
)paren
(brace
id|data
op_assign
l_int|0
suffix:semicolon
r_while
c_loop
(paren
(paren
id|RankSize
op_rshift_assign
l_int|1
)paren
OG
l_int|0
)paren
(brace
id|data
op_add_assign
l_int|0x10
suffix:semicolon
)brace
id|data
op_or_assign
(paren
id|RankNo
op_minus
l_int|1
)paren
op_lshift
l_int|2
suffix:semicolon
id|data
op_or_assign
(paren
id|SiS_Pr-&gt;SiS_DataBusWidth
op_div
l_int|64
)paren
op_amp
l_int|2
suffix:semicolon
id|data
op_or_assign
id|SiS_Pr-&gt;SiS_ChannelAB
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x14
comma
id|data
)paren
suffix:semicolon
multiline_comment|/* should delay */
id|SiS_SDR_MRS
c_func
(paren
id|SiS_Pr
)paren
suffix:semicolon
r_return
l_int|1
suffix:semicolon
)brace
r_else
r_return
l_int|0
suffix:semicolon
)brace
r_int
DECL|function|SiS_SetDDRChannel
id|SiS_SetDDRChannel
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
r_int
id|index
comma
id|UCHAR
id|ChannelNo
comma
id|USHORT
id|DRAMTYPE_TABLE
(braket
)braket
(braket
l_int|5
)braket
)paren
(brace
id|USHORT
id|data
suffix:semicolon
r_int
id|RankSize
suffix:semicolon
id|RankSize
op_assign
id|DRAMTYPE_TABLE
(braket
id|index
)braket
(braket
l_int|3
)braket
op_div
l_int|2
op_star
id|SiS_Pr-&gt;SiS_DataBusWidth
op_div
l_int|32
suffix:semicolon
multiline_comment|/* RankSize = DRAMTYPE_TABLE[index][3]; */
r_if
c_cond
(paren
id|ChannelNo
op_star
id|RankSize
op_le
l_int|128
)paren
(brace
id|data
op_assign
l_int|0
suffix:semicolon
r_while
c_loop
(paren
(paren
id|RankSize
op_rshift_assign
l_int|1
)paren
OG
l_int|0
)paren
(brace
id|data
op_add_assign
l_int|0x10
suffix:semicolon
)brace
r_if
c_cond
(paren
id|ChannelNo
op_eq
l_int|2
)paren
(brace
id|data
op_or_assign
l_int|0x0C
suffix:semicolon
)brace
id|data
op_or_assign
(paren
id|SiS_Pr-&gt;SiS_DataBusWidth
op_div
l_int|32
)paren
op_amp
l_int|2
suffix:semicolon
id|data
op_or_assign
id|SiS_Pr-&gt;SiS_ChannelAB
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x14
comma
id|data
)paren
suffix:semicolon
multiline_comment|/* should delay */
id|SiS_DDR_MRS
c_func
(paren
id|SiS_Pr
)paren
suffix:semicolon
r_return
l_int|1
suffix:semicolon
)brace
r_else
r_return
l_int|0
suffix:semicolon
)brace
r_int
DECL|function|SiS_CheckColumn
id|SiS_CheckColumn
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
r_int
id|index
comma
id|USHORT
id|DRAMTYPE_TABLE
(braket
)braket
(braket
l_int|5
)braket
comma
id|ULONG
id|FBAddress
)paren
(brace
r_int
id|i
suffix:semicolon
id|ULONG
id|Increment
comma
id|Position
suffix:semicolon
multiline_comment|/*Increment = 1&lt;&lt;(DRAMTYPE_TABLE[index][2] + SiS_Pr-&gt;SiS_DataBusWidth / 64 + 1); */
id|Increment
op_assign
l_int|1
op_lshift
(paren
l_int|10
op_plus
id|SiS_Pr-&gt;SiS_DataBusWidth
op_div
l_int|64
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
comma
id|Position
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|2
suffix:semicolon
id|i
op_increment
)paren
(brace
op_star
(paren
(paren
id|PULONG
)paren
(paren
id|FBAddress
op_plus
id|Position
)paren
)paren
op_assign
id|Position
suffix:semicolon
id|Position
op_add_assign
id|Increment
suffix:semicolon
)brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0
comma
id|Position
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|2
suffix:semicolon
id|i
op_increment
)paren
(brace
multiline_comment|/*    if (FBAddress[Position]!=Position) */
r_if
c_cond
(paren
(paren
op_star
(paren
id|PULONG
)paren
(paren
id|FBAddress
op_plus
id|Position
)paren
)paren
op_ne
id|Position
)paren
(brace
r_return
l_int|0
suffix:semicolon
)brace
id|Position
op_add_assign
id|Increment
suffix:semicolon
)brace
r_return
l_int|1
suffix:semicolon
)brace
r_int
DECL|function|SiS_CheckBanks
id|SiS_CheckBanks
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
r_int
id|index
comma
id|USHORT
id|DRAMTYPE_TABLE
(braket
)braket
(braket
l_int|5
)braket
comma
id|ULONG
id|FBAddress
)paren
(brace
r_int
id|i
suffix:semicolon
id|ULONG
id|Increment
comma
id|Position
suffix:semicolon
id|Increment
op_assign
l_int|1
op_lshift
(paren
id|DRAMTYPE_TABLE
(braket
id|index
)braket
(braket
l_int|2
)braket
op_plus
id|SiS_Pr-&gt;SiS_DataBusWidth
op_div
l_int|64
op_plus
l_int|2
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
comma
id|Position
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|4
suffix:semicolon
id|i
op_increment
)paren
(brace
multiline_comment|/*    FBAddress[Position]=Position; */
op_star
(paren
(paren
id|PULONG
)paren
(paren
id|FBAddress
op_plus
id|Position
)paren
)paren
op_assign
id|Position
suffix:semicolon
id|Position
op_add_assign
id|Increment
suffix:semicolon
)brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0
comma
id|Position
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|4
suffix:semicolon
id|i
op_increment
)paren
(brace
multiline_comment|/*    if (FBAddress[Position]!=Position) */
r_if
c_cond
(paren
(paren
op_star
(paren
id|PULONG
)paren
(paren
id|FBAddress
op_plus
id|Position
)paren
)paren
op_ne
id|Position
)paren
(brace
r_return
l_int|0
suffix:semicolon
)brace
id|Position
op_add_assign
id|Increment
suffix:semicolon
)brace
r_return
l_int|1
suffix:semicolon
)brace
r_int
DECL|function|SiS_CheckRank
id|SiS_CheckRank
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
r_int
id|RankNo
comma
r_int
id|index
comma
id|USHORT
id|DRAMTYPE_TABLE
(braket
)braket
(braket
l_int|5
)braket
comma
id|ULONG
id|FBAddress
)paren
(brace
r_int
id|i
suffix:semicolon
id|ULONG
id|Increment
comma
id|Position
suffix:semicolon
id|Increment
op_assign
l_int|1
op_lshift
(paren
id|DRAMTYPE_TABLE
(braket
id|index
)braket
(braket
l_int|2
)braket
op_plus
id|DRAMTYPE_TABLE
(braket
id|index
)braket
(braket
l_int|1
)braket
op_plus
id|DRAMTYPE_TABLE
(braket
id|index
)braket
(braket
l_int|0
)braket
op_plus
id|SiS_Pr-&gt;SiS_DataBusWidth
op_div
l_int|64
op_plus
id|RankNo
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
comma
id|Position
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|2
suffix:semicolon
id|i
op_increment
)paren
(brace
multiline_comment|/*    FBAddress[Position]=Position; */
op_star
(paren
(paren
id|PULONG
)paren
(paren
id|FBAddress
op_plus
id|Position
)paren
)paren
op_assign
id|Position
suffix:semicolon
multiline_comment|/* *((PULONG)(FBAddress))=Position; */
id|Position
op_add_assign
id|Increment
suffix:semicolon
)brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0
comma
id|Position
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|2
suffix:semicolon
id|i
op_increment
)paren
(brace
multiline_comment|/*    if (FBAddress[Position]!=Position) */
r_if
c_cond
(paren
(paren
op_star
(paren
id|PULONG
)paren
(paren
id|FBAddress
op_plus
id|Position
)paren
)paren
op_ne
id|Position
)paren
multiline_comment|/*if ( (*(PULONG) (FBAddress )) !=Position) */
r_return
l_int|0
suffix:semicolon
id|Position
op_add_assign
id|Increment
suffix:semicolon
)brace
r_return
l_int|1
suffix:semicolon
)brace
r_int
DECL|function|SiS_CheckDDRRank
id|SiS_CheckDDRRank
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
r_int
id|RankNo
comma
r_int
id|index
comma
id|USHORT
id|DRAMTYPE_TABLE
(braket
)braket
(braket
l_int|5
)braket
comma
id|ULONG
id|FBAddress
)paren
(brace
id|ULONG
id|Increment
comma
id|Position
suffix:semicolon
id|USHORT
id|data
suffix:semicolon
id|Increment
op_assign
l_int|1
op_lshift
(paren
id|DRAMTYPE_TABLE
(braket
id|index
)braket
(braket
l_int|2
)braket
op_plus
id|DRAMTYPE_TABLE
(braket
id|index
)braket
(braket
l_int|1
)braket
op_plus
id|DRAMTYPE_TABLE
(braket
id|index
)braket
(braket
l_int|0
)braket
op_plus
id|SiS_Pr-&gt;SiS_DataBusWidth
op_div
l_int|64
op_plus
id|RankNo
)paren
suffix:semicolon
id|Increment
op_add_assign
id|Increment
op_div
l_int|2
suffix:semicolon
id|Position
op_assign
l_int|0
suffix:semicolon
op_star
(paren
(paren
id|PULONG
)paren
(paren
id|FBAddress
op_plus
id|Position
op_plus
l_int|0
)paren
)paren
op_assign
l_int|0x01234567
suffix:semicolon
op_star
(paren
(paren
id|PULONG
)paren
(paren
id|FBAddress
op_plus
id|Position
op_plus
l_int|1
)paren
)paren
op_assign
l_int|0x456789AB
suffix:semicolon
op_star
(paren
(paren
id|PULONG
)paren
(paren
id|FBAddress
op_plus
id|Position
op_plus
l_int|2
)paren
)paren
op_assign
l_int|0x55555555
suffix:semicolon
op_star
(paren
(paren
id|PULONG
)paren
(paren
id|FBAddress
op_plus
id|Position
op_plus
l_int|3
)paren
)paren
op_assign
l_int|0x55555555
suffix:semicolon
op_star
(paren
(paren
id|PULONG
)paren
(paren
id|FBAddress
op_plus
id|Position
op_plus
l_int|4
)paren
)paren
op_assign
l_int|0xAAAAAAAA
suffix:semicolon
op_star
(paren
(paren
id|PULONG
)paren
(paren
id|FBAddress
op_plus
id|Position
op_plus
l_int|5
)paren
)paren
op_assign
l_int|0xAAAAAAAA
suffix:semicolon
r_if
c_cond
(paren
(paren
op_star
(paren
id|PULONG
)paren
(paren
id|FBAddress
op_plus
l_int|1
)paren
)paren
op_eq
l_int|0x456789AB
)paren
r_return
l_int|1
suffix:semicolon
r_if
c_cond
(paren
(paren
op_star
(paren
id|PULONG
)paren
(paren
id|FBAddress
op_plus
l_int|0
)paren
)paren
op_eq
l_int|0x01234567
)paren
r_return
l_int|0
suffix:semicolon
id|data
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x14
)paren
suffix:semicolon
id|data
op_and_assign
l_int|0xF3
suffix:semicolon
id|data
op_or_assign
l_int|0x08
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x14
comma
id|data
)paren
suffix:semicolon
id|data
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x15
)paren
suffix:semicolon
id|data
op_add_assign
l_int|0x20
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x15
comma
id|data
)paren
suffix:semicolon
r_return
l_int|1
suffix:semicolon
)brace
r_int
DECL|function|SiS_CheckRanks
id|SiS_CheckRanks
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
r_int
id|RankNo
comma
r_int
id|index
comma
id|USHORT
id|DRAMTYPE_TABLE
(braket
)braket
(braket
l_int|5
)braket
comma
id|ULONG
id|FBAddress
)paren
(brace
r_int
id|r
suffix:semicolon
r_for
c_loop
(paren
id|r
op_assign
id|RankNo
suffix:semicolon
id|r
op_ge
l_int|1
suffix:semicolon
id|r
op_decrement
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
id|SiS_CheckRank
c_func
(paren
id|SiS_Pr
comma
id|r
comma
id|index
comma
id|DRAMTYPE_TABLE
comma
id|FBAddress
)paren
)paren
r_return
l_int|0
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|SiS_CheckBanks
c_func
(paren
id|SiS_Pr
comma
id|index
comma
id|DRAMTYPE_TABLE
comma
id|FBAddress
)paren
)paren
r_return
l_int|0
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|SiS_CheckColumn
c_func
(paren
id|SiS_Pr
comma
id|index
comma
id|DRAMTYPE_TABLE
comma
id|FBAddress
)paren
)paren
r_return
l_int|0
suffix:semicolon
r_return
l_int|1
suffix:semicolon
)brace
r_int
DECL|function|SiS_CheckDDRRanks
id|SiS_CheckDDRRanks
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
r_int
id|RankNo
comma
r_int
id|index
comma
id|USHORT
id|DRAMTYPE_TABLE
(braket
)braket
(braket
l_int|5
)braket
comma
id|ULONG
id|FBAddress
)paren
(brace
r_int
id|r
suffix:semicolon
r_for
c_loop
(paren
id|r
op_assign
id|RankNo
suffix:semicolon
id|r
op_ge
l_int|1
suffix:semicolon
id|r
op_decrement
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
id|SiS_CheckDDRRank
c_func
(paren
id|SiS_Pr
comma
id|r
comma
id|index
comma
id|DRAMTYPE_TABLE
comma
id|FBAddress
)paren
)paren
r_return
l_int|0
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|SiS_CheckBanks
c_func
(paren
id|SiS_Pr
comma
id|index
comma
id|DRAMTYPE_TABLE
comma
id|FBAddress
)paren
)paren
r_return
l_int|0
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|SiS_CheckColumn
c_func
(paren
id|SiS_Pr
comma
id|index
comma
id|DRAMTYPE_TABLE
comma
id|FBAddress
)paren
)paren
r_return
l_int|0
suffix:semicolon
r_return
l_int|1
suffix:semicolon
)brace
r_int
DECL|function|SiS_SDRSizing
id|SiS_SDRSizing
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|ULONG
id|FBAddress
)paren
(brace
r_int
id|i
suffix:semicolon
id|UCHAR
id|j
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|13
suffix:semicolon
id|i
op_increment
)paren
(brace
id|SiS_SetDRAMSizingType
c_func
(paren
id|SiS_Pr
comma
id|i
comma
id|SiS_SDRDRAM_TYPE
)paren
suffix:semicolon
r_for
c_loop
(paren
id|j
op_assign
l_int|2
suffix:semicolon
id|j
OG
l_int|0
suffix:semicolon
id|j
op_decrement
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
id|SiS_SetRank
c_func
(paren
id|SiS_Pr
comma
id|i
comma
(paren
id|UCHAR
)paren
id|j
comma
id|SiS_SDRDRAM_TYPE
)paren
)paren
r_continue
suffix:semicolon
r_else
(brace
r_if
c_cond
(paren
id|SiS_CheckRanks
c_func
(paren
id|SiS_Pr
comma
id|j
comma
id|i
comma
id|SiS_SDRDRAM_TYPE
comma
id|FBAddress
)paren
)paren
r_return
l_int|1
suffix:semicolon
)brace
)brace
)brace
r_return
l_int|0
suffix:semicolon
)brace
r_int
DECL|function|SiS_DDRSizing
id|SiS_DDRSizing
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|ULONG
id|FBAddress
)paren
(brace
r_int
id|i
suffix:semicolon
id|UCHAR
id|j
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|4
suffix:semicolon
id|i
op_increment
)paren
(brace
id|SiS_SetDRAMSizingType
c_func
(paren
id|SiS_Pr
comma
id|i
comma
id|SiS_DDRDRAM_TYPE
)paren
suffix:semicolon
id|SiS_DisableChannelInterleaving
c_func
(paren
id|SiS_Pr
comma
id|i
comma
id|SiS_DDRDRAM_TYPE
)paren
suffix:semicolon
r_for
c_loop
(paren
id|j
op_assign
l_int|2
suffix:semicolon
id|j
OG
l_int|0
suffix:semicolon
id|j
op_decrement
)paren
(brace
id|SiS_SetDDRChannel
c_func
(paren
id|SiS_Pr
comma
id|i
comma
id|j
comma
id|SiS_DDRDRAM_TYPE
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|SiS_SetRank
c_func
(paren
id|SiS_Pr
comma
id|i
comma
(paren
id|UCHAR
)paren
id|j
comma
id|SiS_DDRDRAM_TYPE
)paren
)paren
r_continue
suffix:semicolon
r_else
(brace
r_if
c_cond
(paren
id|SiS_CheckDDRRanks
c_func
(paren
id|SiS_Pr
comma
id|j
comma
id|i
comma
id|SiS_DDRDRAM_TYPE
comma
id|FBAddress
)paren
)paren
r_return
l_int|1
suffix:semicolon
)brace
)brace
)brace
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/*&n; check if read cache pointer is correct&n;*/
r_void
DECL|function|SiS_VerifyMclk
id|SiS_VerifyMclk
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|ULONG
id|FBAddr
)paren
(brace
id|PUCHAR
id|pVideoMemory
op_assign
(paren
id|PUCHAR
)paren
id|FBAddr
suffix:semicolon
id|UCHAR
id|i
comma
id|j
suffix:semicolon
id|USHORT
id|Temp
comma
id|SR21
suffix:semicolon
id|pVideoMemory
(braket
l_int|0
)braket
op_assign
l_int|0xaa
suffix:semicolon
multiline_comment|/* alan */
id|pVideoMemory
(braket
l_int|16
)braket
op_assign
l_int|0x55
suffix:semicolon
multiline_comment|/* note: PCI read cache is off */
r_if
c_cond
(paren
(paren
id|pVideoMemory
(braket
l_int|0
)braket
op_ne
l_int|0xaa
)paren
op_logical_or
(paren
id|pVideoMemory
(braket
l_int|16
)braket
op_ne
l_int|0x55
)paren
)paren
(brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0
comma
id|j
op_assign
l_int|16
suffix:semicolon
id|i
OL
l_int|2
suffix:semicolon
id|i
op_increment
comma
id|j
op_add_assign
l_int|16
)paren
(brace
id|SR21
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x21
)paren
suffix:semicolon
id|Temp
op_assign
id|SR21
op_amp
l_int|0xFB
suffix:semicolon
multiline_comment|/* disable PCI post write buffer empty gating */
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x21
comma
id|Temp
)paren
suffix:semicolon
id|Temp
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x3C
)paren
suffix:semicolon
id|Temp
op_or_assign
l_int|0x01
suffix:semicolon
multiline_comment|/* MCLK reset */
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x3C
comma
id|Temp
)paren
suffix:semicolon
id|Temp
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x3C
)paren
suffix:semicolon
id|Temp
op_and_assign
l_int|0xFE
suffix:semicolon
multiline_comment|/* MCLK normal operation */
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x3C
comma
id|Temp
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x21
comma
id|SR21
)paren
suffix:semicolon
id|pVideoMemory
(braket
l_int|16
op_plus
id|j
)braket
op_assign
id|j
suffix:semicolon
r_if
c_cond
(paren
id|pVideoMemory
(braket
l_int|16
op_plus
id|j
)braket
op_eq
id|j
)paren
(brace
id|pVideoMemory
(braket
id|j
)braket
op_assign
id|j
suffix:semicolon
r_break
suffix:semicolon
)brace
)brace
)brace
)brace
multiline_comment|/* TW: Is this a 315E? */
r_int
DECL|function|Is315E
id|Is315E
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
)paren
(brace
id|USHORT
id|data
suffix:semicolon
id|data
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x5F
)paren
suffix:semicolon
r_if
c_cond
(paren
id|data
op_amp
l_int|0x10
)paren
(brace
r_return
l_int|1
suffix:semicolon
)brace
r_else
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/* TW: For 315 only */
r_void
DECL|function|SiS_SetDRAMSize_310
id|SiS_SetDRAMSize_310
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
)paren
(brace
id|UCHAR
op_star
id|ROMAddr
op_assign
id|HwDeviceExtension-&gt;pjVirtualRomBase
suffix:semicolon
id|ULONG
id|FBAddr
op_assign
(paren
id|ULONG
)paren
id|HwDeviceExtension-&gt;pjVideoMemoryAddress
suffix:semicolon
id|USHORT
id|data
suffix:semicolon
macro_line|#ifdef SIS301&t;/* TW: SIS301 ??? */
multiline_comment|/*SiS_SetReg1(SiS_Pr-&gt;SiS_P3d4,0x30,0x40);   */
macro_line|#endif
macro_line|#ifdef SIS302   /* TW: SIS302 ??? */
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x30
comma
l_int|0x4D
)paren
suffix:semicolon
multiline_comment|/* alan,should change value */
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x31
comma
l_int|0xc0
)paren
suffix:semicolon
multiline_comment|/* alan,should change value */
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x34
comma
l_int|0x3F
)paren
suffix:semicolon
multiline_comment|/* alan,should change value */
macro_line|#endif
id|SiSSetMode
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
comma
l_int|0x2e
)paren
suffix:semicolon
id|data
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x21
)paren
suffix:semicolon
id|SiS_SetRegAND
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x21
comma
l_int|0xDF
)paren
suffix:semicolon
multiline_comment|/* disable read cache */
id|SiS_SetRegOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x01
comma
l_int|0x20
)paren
suffix:semicolon
multiline_comment|/* Turn OFF Display */
id|SiS_SetRegOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x16
comma
l_int|0x0F
)paren
suffix:semicolon
multiline_comment|/* assume lowest speed DRAM */
id|SiS_SetDRAMModeRegister
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|HwDeviceExtension
)paren
suffix:semicolon
id|SiS_DisableRefresh
c_func
(paren
id|SiS_Pr
)paren
suffix:semicolon
id|SiS_CheckBusWidth_310
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|FBAddr
comma
id|HwDeviceExtension
)paren
suffix:semicolon
id|SiS_VerifyMclk
c_func
(paren
id|SiS_Pr
comma
id|FBAddr
)paren
suffix:semicolon
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_330
)paren
(brace
id|temp
op_assign
l_int|1
suffix:semicolon
)brace
r_else
id|temp
op_assign
l_int|2
suffix:semicolon
r_if
c_cond
(paren
id|SiS_Get310DRAMType
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|HwDeviceExtension
)paren
OL
id|temp
)paren
(brace
id|SiS_SDRSizing
c_func
(paren
id|SiS_Pr
comma
id|FBAddr
)paren
suffix:semicolon
)brace
r_else
id|SiS_DDRSizing
c_func
(paren
id|SiS_Pr
comma
id|FBAddr
)paren
suffix:semicolon
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_ne
id|SIS_330
)paren
(brace
r_if
c_cond
(paren
id|Is315E
c_func
(paren
id|SiS_Pr
)paren
)paren
(brace
id|data
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x14
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|data
op_amp
l_int|0x0C
)paren
op_eq
l_int|0x0C
)paren
(brace
multiline_comment|/* dual channel */
r_if
c_cond
(paren
(paren
id|data
op_amp
l_int|0xF0
)paren
OG
l_int|0x40
)paren
(brace
id|data
op_assign
(paren
id|data
op_amp
l_int|0x0F
)paren
op_or
l_int|0x40
suffix:semicolon
)brace
)brace
r_else
(brace
multiline_comment|/* single channel */
r_if
c_cond
(paren
(paren
id|data
op_amp
l_int|0xF0
)paren
OG
l_int|0x50
)paren
(brace
id|data
op_assign
(paren
id|data
op_amp
l_int|0x0F
)paren
op_or
l_int|0x50
suffix:semicolon
)brace
)brace
)brace
)brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x16
comma
id|SiS_Pr-&gt;SiS_SR15
(braket
l_int|1
)braket
(braket
id|SiS_Pr-&gt;SiS_RAMType
)braket
)paren
suffix:semicolon
multiline_comment|/* restore SR16 */
id|SiS_EnableRefresh
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
)paren
suffix:semicolon
id|SiS_SetRegOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x21
comma
l_int|0x20
)paren
suffix:semicolon
multiline_comment|/* enable read cache */
)brace
macro_line|#endif
r_void
DECL|function|SiS_SetMemoryClock
id|SiS_SetMemoryClock
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|UCHAR
op_star
id|ROMAddr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x28
comma
id|SiS_Pr-&gt;SiS_MCLKData_0
(braket
id|SiS_Pr-&gt;SiS_RAMType
)braket
dot
id|SR28
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x29
comma
id|SiS_Pr-&gt;SiS_MCLKData_0
(braket
id|SiS_Pr-&gt;SiS_RAMType
)braket
dot
id|SR29
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x2A
comma
id|SiS_Pr-&gt;SiS_MCLKData_0
(braket
id|SiS_Pr-&gt;SiS_RAMType
)braket
dot
id|SR2A
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x2E
comma
id|SiS_Pr-&gt;SiS_ECLKData
(braket
id|SiS_Pr-&gt;SiS_RAMType
)braket
dot
id|SR2E
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x2F
comma
id|SiS_Pr-&gt;SiS_ECLKData
(braket
id|SiS_Pr-&gt;SiS_RAMType
)braket
dot
id|SR2F
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x30
comma
id|SiS_Pr-&gt;SiS_ECLKData
(braket
id|SiS_Pr-&gt;SiS_RAMType
)braket
dot
id|SR30
)paren
suffix:semicolon
macro_line|#ifdef SIS315H
r_if
c_cond
(paren
id|Is315E
c_func
(paren
id|SiS_Pr
)paren
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x28
comma
l_int|0x3B
)paren
suffix:semicolon
multiline_comment|/* 143 */
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x29
comma
l_int|0x22
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x2E
comma
l_int|0x3B
)paren
suffix:semicolon
multiline_comment|/* 143 */
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x2F
comma
l_int|0x22
)paren
suffix:semicolon
)brace
macro_line|#endif
)brace
macro_line|#endif /* ifdef LINUXBIOS */
macro_line|#ifdef SIS315H
id|UCHAR
DECL|function|SiS_Get310DRAMType
id|SiS_Get310DRAMType
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|UCHAR
op_star
id|ROMAddr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
)paren
(brace
id|UCHAR
id|data
comma
id|temp
suffix:semicolon
r_if
c_cond
(paren
op_star
id|SiS_Pr-&gt;pSiS_SoftSetting
op_amp
id|SoftDRAMType
)paren
(brace
id|data
op_assign
op_star
id|SiS_Pr-&gt;pSiS_SoftSetting
op_amp
l_int|0x03
suffix:semicolon
)brace
r_else
(brace
r_if
c_cond
(paren
(paren
id|HwDeviceExtension-&gt;jChipType
OG
id|SIS_315PRO
)paren
op_logical_and
(paren
id|HwDeviceExtension-&gt;jChipType
OL
id|SIS_330
)paren
)paren
(brace
id|data
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x13
)paren
op_amp
l_int|0x07
suffix:semicolon
)brace
r_else
(brace
multiline_comment|/* TW: 315, 330 */
id|data
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x3a
)paren
op_amp
l_int|0x03
suffix:semicolon
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_330
)paren
(brace
r_if
c_cond
(paren
id|data
OG
l_int|1
)paren
(brace
id|temp
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x5f
)paren
op_amp
l_int|0x30
suffix:semicolon
r_switch
c_cond
(paren
id|temp
)paren
(brace
r_case
l_int|0x00
suffix:colon
id|data
op_assign
l_int|1
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x10
suffix:colon
id|data
op_assign
l_int|3
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x20
suffix:colon
id|data
op_assign
l_int|3
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x30
suffix:colon
id|data
op_assign
l_int|2
suffix:semicolon
r_break
suffix:semicolon
)brace
)brace
r_else
(brace
id|data
op_assign
l_int|0
suffix:semicolon
)brace
)brace
)brace
)brace
r_return
id|data
suffix:semicolon
)brace
macro_line|#endif
multiline_comment|/* SiSInit END */
multiline_comment|/* ----------------------------------------- */
DECL|function|SiSRegInit
r_void
id|SiSRegInit
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|USHORT
id|BaseAddr
)paren
(brace
id|SiS_Pr-&gt;SiS_P3c4
op_assign
id|BaseAddr
op_plus
l_int|0x14
suffix:semicolon
id|SiS_Pr-&gt;SiS_P3d4
op_assign
id|BaseAddr
op_plus
l_int|0x24
suffix:semicolon
id|SiS_Pr-&gt;SiS_P3c0
op_assign
id|BaseAddr
op_plus
l_int|0x10
suffix:semicolon
id|SiS_Pr-&gt;SiS_P3ce
op_assign
id|BaseAddr
op_plus
l_int|0x1e
suffix:semicolon
id|SiS_Pr-&gt;SiS_P3c2
op_assign
id|BaseAddr
op_plus
l_int|0x12
suffix:semicolon
id|SiS_Pr-&gt;SiS_P3ca
op_assign
id|BaseAddr
op_plus
l_int|0x1a
suffix:semicolon
id|SiS_Pr-&gt;SiS_P3c6
op_assign
id|BaseAddr
op_plus
l_int|0x16
suffix:semicolon
id|SiS_Pr-&gt;SiS_P3c7
op_assign
id|BaseAddr
op_plus
l_int|0x17
suffix:semicolon
id|SiS_Pr-&gt;SiS_P3c8
op_assign
id|BaseAddr
op_plus
l_int|0x18
suffix:semicolon
id|SiS_Pr-&gt;SiS_P3c9
op_assign
id|BaseAddr
op_plus
l_int|0x19
suffix:semicolon
id|SiS_Pr-&gt;SiS_P3da
op_assign
id|BaseAddr
op_plus
l_int|0x2A
suffix:semicolon
id|SiS_Pr-&gt;SiS_Part1Port
op_assign
id|BaseAddr
op_plus
id|SIS_CRT2_PORT_04
suffix:semicolon
multiline_comment|/* Digital video interface registers (LCD) */
id|SiS_Pr-&gt;SiS_Part2Port
op_assign
id|BaseAddr
op_plus
id|SIS_CRT2_PORT_10
suffix:semicolon
multiline_comment|/* 301 TV Encoder registers */
id|SiS_Pr-&gt;SiS_Part3Port
op_assign
id|BaseAddr
op_plus
id|SIS_CRT2_PORT_12
suffix:semicolon
multiline_comment|/* 301 Macrovision registers */
id|SiS_Pr-&gt;SiS_Part4Port
op_assign
id|BaseAddr
op_plus
id|SIS_CRT2_PORT_14
suffix:semicolon
multiline_comment|/* 301 VGA2 (and LCD) registers */
id|SiS_Pr-&gt;SiS_Part5Port
op_assign
id|BaseAddr
op_plus
id|SIS_CRT2_PORT_14
op_plus
l_int|2
suffix:semicolon
multiline_comment|/* 301 palette address port registers */
id|SiS_Pr-&gt;SiS_DDC_Port
op_assign
id|BaseAddr
op_plus
l_int|0x14
suffix:semicolon
multiline_comment|/* DDC Port ( = P3C4, SR11/0A) */
)brace
r_void
DECL|function|SiSInitPCIetc
id|SiSInitPCIetc
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
)paren
(brace
multiline_comment|/* #ifdef LINUX_XF86 */
r_if
c_cond
(paren
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_540
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_630
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_730
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_300
)paren
)paren
(brace
multiline_comment|/* TW: Set - PCI LINEAR ADDRESSING ENABLE (0x80)&n;&t;&t;  - PCI IO ENABLE  (0x20)&n;&t;&t;  - MMIO ENABLE (0x1)&n;  &t;*/
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x20
comma
l_int|0xa1
)paren
suffix:semicolon
multiline_comment|/* TW: Enable 2D (0x42) &amp; 3D accelerator (0x18) */
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x1E
comma
l_int|0xFF
comma
l_int|0x5A
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_315H
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_315
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_315PRO
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_550
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_650
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_740
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_330
)paren
)paren
(brace
multiline_comment|/* TW: This seems to be done the same way on these chipsets */
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x20
comma
l_int|0xa1
)paren
suffix:semicolon
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x1E
comma
l_int|0xFF
comma
l_int|0x5A
)paren
suffix:semicolon
)brace
multiline_comment|/* #endif */
)brace
r_void
DECL|function|SiSSetLVDSetc
id|SiSSetLVDSetc
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
comma
id|USHORT
id|ModeNo
)paren
(brace
id|ULONG
id|temp
suffix:semicolon
id|SiS_Pr-&gt;SiS_IF_DEF_LVDS
op_assign
l_int|0
suffix:semicolon
id|SiS_Pr-&gt;SiS_IF_DEF_TRUMPION
op_assign
l_int|0
suffix:semicolon
id|SiS_Pr-&gt;SiS_IF_DEF_CH70xx
op_assign
l_int|0
suffix:semicolon
id|SiS_Pr-&gt;SiS_IF_DEF_HiVision
op_assign
l_int|0
suffix:semicolon
id|SiS_Pr-&gt;SiS_IF_DEF_DSTN
op_assign
l_int|0
suffix:semicolon
id|SiS_Pr-&gt;SiS_IF_DEF_FSTN
op_assign
l_int|0
suffix:semicolon
id|SiS_Pr-&gt;SiS_ChrontelInit
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
(paren
id|ModeNo
op_eq
l_int|0x5a
)paren
op_logical_or
(paren
id|ModeNo
op_eq
l_int|0x5b
)paren
)paren
(brace
id|SiS_Pr-&gt;SiS_IF_DEF_DSTN
op_assign
l_int|1
suffix:semicolon
multiline_comment|/* for 550 dstn */
id|SiS_Pr-&gt;SiS_IF_DEF_FSTN
op_assign
l_int|1
suffix:semicolon
multiline_comment|/* for fstn */
)brace
macro_line|#ifdef SIS300
r_if
c_cond
(paren
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_540
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_630
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_730
)paren
)paren
(brace
multiline_comment|/* TW: Check for SiS30x first */
id|temp
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_Part4Port
comma
l_int|0x00
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|temp
op_eq
l_int|1
)paren
op_logical_or
(paren
id|temp
op_eq
l_int|2
)paren
)paren
(brace
r_return
suffix:semicolon
)brace
id|temp
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x37
)paren
suffix:semicolon
id|temp
op_assign
(paren
id|temp
op_amp
l_int|0x0E
)paren
op_rshift
l_int|1
suffix:semicolon
r_if
c_cond
(paren
(paren
id|temp
op_ge
l_int|2
)paren
op_logical_and
(paren
id|temp
op_le
l_int|5
)paren
)paren
(brace
id|SiS_Pr-&gt;SiS_IF_DEF_LVDS
op_assign
l_int|1
suffix:semicolon
)brace
r_if
c_cond
(paren
id|temp
op_eq
l_int|3
)paren
(brace
id|SiS_Pr-&gt;SiS_IF_DEF_TRUMPION
op_assign
l_int|1
suffix:semicolon
)brace
r_if
c_cond
(paren
(paren
id|temp
op_eq
l_int|4
)paren
op_logical_or
(paren
id|temp
op_eq
l_int|5
)paren
)paren
(brace
multiline_comment|/* TW: Save power status (and error check) - UNUSED */
id|SiS_Pr-&gt;SiS_Backup70xx
op_assign
id|SiS_GetCH700x
c_func
(paren
id|SiS_Pr
comma
l_int|0x0e
)paren
suffix:semicolon
id|SiS_Pr-&gt;SiS_IF_DEF_CH70xx
op_assign
l_int|1
suffix:semicolon
)brace
)brace
macro_line|#endif
macro_line|#ifdef SIS315H
r_if
c_cond
(paren
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_550
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_650
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_740
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_330
)paren
)paren
(brace
multiline_comment|/* TW: CR37 is different on 310/325 series */
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_IF_DEF_FSTN
)paren
(brace
multiline_comment|/* fstn: set CR37=0x04 */
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x37
comma
l_int|0x04
)paren
suffix:semicolon
)brace
multiline_comment|/* (fake LVDS bridge) */
id|temp
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x37
)paren
suffix:semicolon
id|temp
op_assign
(paren
id|temp
op_amp
l_int|0x0E
)paren
op_rshift
l_int|1
suffix:semicolon
r_if
c_cond
(paren
(paren
id|temp
op_ge
l_int|2
)paren
op_logical_and
(paren
id|temp
op_le
l_int|3
)paren
)paren
(brace
id|SiS_Pr-&gt;SiS_IF_DEF_LVDS
op_assign
l_int|1
suffix:semicolon
)brace
r_if
c_cond
(paren
id|temp
op_eq
l_int|3
)paren
(brace
id|SiS_Pr-&gt;SiS_IF_DEF_CH70xx
op_assign
l_int|2
suffix:semicolon
)brace
multiline_comment|/* HiVision (HDTV) is done differently now. */
multiline_comment|/* SiS_Pr-&gt;SiS_IF_DEF_HiVision = 1; */
)brace
macro_line|#endif
)brace
r_void
DECL|function|SiSInitPtr
id|SiSInitPtr
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
)paren
(brace
macro_line|#ifdef SIS315H
r_if
c_cond
(paren
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_315H
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_315
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_315PRO
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_550
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_650
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_740
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_330
)paren
)paren
(brace
id|InitTo310Pointer
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
)paren
suffix:semicolon
)brace
macro_line|#endif
macro_line|#ifdef SIS300
r_if
c_cond
(paren
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_540
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_630
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_730
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_300
)paren
)paren
id|InitTo300Pointer
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
)paren
suffix:semicolon
macro_line|#endif
)brace
r_void
DECL|function|SiSDetermineROMUsage
id|SiSDetermineROMUsage
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
comma
id|UCHAR
op_star
id|ROMAddr
)paren
(brace
r_if
c_cond
(paren
(paren
id|ROMAddr
)paren
op_logical_and
(paren
id|HwDeviceExtension-&gt;UseROM
)paren
)paren
(brace
r_if
c_cond
(paren
(paren
id|ROMAddr
(braket
l_int|0x00
)braket
op_ne
l_int|0x55
)paren
op_logical_or
(paren
id|ROMAddr
(braket
l_int|0x01
)braket
op_ne
l_int|0xAA
)paren
)paren
(brace
id|SiS_Pr-&gt;SiS_UseROM
op_assign
id|FALSE
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_300
)paren
(brace
multiline_comment|/* TW: 300: We check if the code starts below 0x220 by&n;&t; *     checking the jmp instruction at the beginning&n;&t; *     of the BIOS image.&n;&t; */
r_if
c_cond
(paren
(paren
id|ROMAddr
(braket
l_int|3
)braket
op_eq
l_int|0xe9
)paren
op_logical_and
(paren
(paren
id|ROMAddr
(braket
l_int|5
)braket
op_lshift
l_int|8
)paren
op_or
id|ROMAddr
(braket
l_int|4
)braket
)paren
OG
l_int|0x21a
)paren
(brace
id|SiS_Pr-&gt;SiS_UseROM
op_assign
id|TRUE
suffix:semicolon
)brace
r_else
id|SiS_Pr-&gt;SiS_UseROM
op_assign
id|FALSE
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
OL
id|SIS_315H
)paren
(brace
multiline_comment|/* TW: Rest of 300 series: We don&squot;t use the ROM image if&n;&t; *     the BIOS version &lt; 2.0.0 as such old BIOSes don&squot;t&n;&t; *     have the needed data at the expected locations.&n;&t; */
r_if
c_cond
(paren
id|ROMAddr
(braket
l_int|0x06
)braket
OL
l_char|&squot;2&squot;
)paren
(brace
id|SiS_Pr-&gt;SiS_UseROM
op_assign
id|FALSE
suffix:semicolon
)brace
r_else
id|SiS_Pr-&gt;SiS_UseROM
op_assign
id|TRUE
suffix:semicolon
)brace
r_else
(brace
multiline_comment|/* TW: 310/325/330 series stick to the standard */
id|SiS_Pr-&gt;SiS_UseROM
op_assign
id|TRUE
suffix:semicolon
)brace
)brace
r_else
id|SiS_Pr-&gt;SiS_UseROM
op_assign
id|FALSE
suffix:semicolon
)brace
multiline_comment|/*&n; &t;=========================================&n; &t;======== SiS SetMode Functions ==========&n; &t;=========================================&n;*/
macro_line|#ifdef LINUX_XF86
multiline_comment|/* TW: This is used for non-Dual-Head mode from X */
id|BOOLEAN
DECL|function|SiSBIOSSetMode
id|SiSBIOSSetMode
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
comma
id|ScrnInfoPtr
id|pScrn
comma
id|DisplayModePtr
id|mode
comma
id|BOOLEAN
id|IsCustom
)paren
(brace
id|SISPtr
id|pSiS
op_assign
id|SISPTR
c_func
(paren
id|pScrn
)paren
suffix:semicolon
id|UShort
id|ModeNo
op_assign
l_int|0
suffix:semicolon
id|SiS_Pr-&gt;UseCustomMode
op_assign
id|FALSE
suffix:semicolon
r_if
c_cond
(paren
(paren
id|IsCustom
)paren
op_logical_and
(paren
id|SiS_CheckBuildCustomMode
c_func
(paren
id|pScrn
comma
id|mode
comma
id|pSiS-&gt;VBFlags
)paren
)paren
)paren
(brace
id|xf86DrvMsgVerb
c_func
(paren
id|pScrn-&gt;scrnIndex
comma
id|X_INFO
comma
l_int|3
comma
l_string|&quot;Setting custom mode %dx%d&bslash;n&quot;
comma
id|SiS_Pr-&gt;CHDisplay
comma
id|SiS_Pr-&gt;CVDisplay
)paren
suffix:semicolon
r_return
id|SiSSetMode
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
comma
id|pScrn
comma
id|ModeNo
comma
id|TRUE
)paren
suffix:semicolon
)brace
id|ModeNo
op_assign
id|SiS_CalcModeIndex
c_func
(paren
id|pScrn
comma
id|mode
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|ModeNo
)paren
(brace
r_return
id|FALSE
suffix:semicolon
)brace
id|xf86DrvMsgVerb
c_func
(paren
id|pScrn-&gt;scrnIndex
comma
id|X_INFO
comma
l_int|3
comma
l_string|&quot;Setting mode 0x%x&bslash;n&quot;
comma
id|ModeNo
)paren
suffix:semicolon
r_return
id|SiSSetMode
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
comma
id|pScrn
comma
id|ModeNo
comma
id|TRUE
)paren
suffix:semicolon
)brace
macro_line|#ifdef SISDUALHEAD
multiline_comment|/* TW: Set CRT1 mode (used for dual head) */
id|BOOLEAN
DECL|function|SiSBIOSSetModeCRT1
id|SiSBIOSSetModeCRT1
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
comma
id|ScrnInfoPtr
id|pScrn
comma
id|DisplayModePtr
id|mode
comma
id|BOOLEAN
id|IsCustom
)paren
(brace
id|ULONG
id|temp
suffix:semicolon
id|USHORT
id|ModeIdIndex
suffix:semicolon
id|UCHAR
op_star
id|ROMAddr
op_assign
id|HwDeviceExtension-&gt;pjVirtualRomBase
suffix:semicolon
id|USHORT
id|BaseAddr
op_assign
(paren
id|USHORT
)paren
id|HwDeviceExtension-&gt;ulIOAddress
suffix:semicolon
id|SISPtr
id|pSiS
op_assign
id|SISPTR
c_func
(paren
id|pScrn
)paren
suffix:semicolon
id|SISEntPtr
id|pSiSEnt
op_assign
id|pSiS-&gt;entityPrivate
suffix:semicolon
r_int
r_char
id|backupreg
op_assign
l_int|0
suffix:semicolon
id|BOOLEAN
id|backupcustom
suffix:semicolon
id|UShort
id|ModeNo
op_assign
l_int|0
suffix:semicolon
id|SiS_Pr-&gt;UseCustomMode
op_assign
id|FALSE
suffix:semicolon
r_if
c_cond
(paren
(paren
id|IsCustom
)paren
op_logical_and
(paren
id|SiS_CheckBuildCustomMode
c_func
(paren
id|pScrn
comma
id|mode
comma
id|pSiS-&gt;VBFlags
)paren
)paren
)paren
(brace
id|xf86DrvMsgVerb
c_func
(paren
id|pScrn-&gt;scrnIndex
comma
id|X_INFO
comma
l_int|3
comma
l_string|&quot;Setting custom mode %dx%d in CRT1&bslash;n&quot;
comma
id|SiS_Pr-&gt;CHDisplay
comma
id|SiS_Pr-&gt;CVDisplay
)paren
suffix:semicolon
id|ModeNo
op_assign
l_int|0xfe
suffix:semicolon
)brace
r_else
(brace
id|ModeNo
op_assign
id|SiS_CalcModeIndex
c_func
(paren
id|pScrn
comma
id|mode
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|ModeNo
)paren
(brace
r_return
id|FALSE
suffix:semicolon
)brace
id|xf86DrvMsgVerb
c_func
(paren
id|pScrn-&gt;scrnIndex
comma
id|X_INFO
comma
l_int|3
comma
l_string|&quot;Setting mode 0x%x on CRT1&bslash;n&quot;
comma
id|ModeNo
)paren
suffix:semicolon
)brace
id|SiSInitPtr
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
)paren
suffix:semicolon
id|SiSRegInit
c_func
(paren
id|SiS_Pr
comma
id|BaseAddr
)paren
suffix:semicolon
id|SiS_Pr-&gt;SiS_VGAINFO
op_assign
id|SiS_GetSetBIOSScratch
c_func
(paren
id|pScrn
comma
l_int|0x489
comma
l_int|0xff
)paren
suffix:semicolon
id|SiSInitPCIetc
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
)paren
suffix:semicolon
id|SiSSetLVDSetc
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
comma
id|ModeNo
)paren
suffix:semicolon
id|SiSDetermineROMUsage
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
comma
id|ROMAddr
)paren
suffix:semicolon
multiline_comment|/* TW: We don&squot;t clear the buffer under X */
id|SiS_Pr-&gt;SiS_flag_clearbuffer
op_assign
l_int|0
suffix:semicolon
multiline_comment|/* 1.Openkey */
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x05
comma
l_int|0x86
)paren
suffix:semicolon
id|SiS_UnLockCRT2
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
comma
id|BaseAddr
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|SiS_Pr-&gt;UseCustomMode
)paren
(brace
multiline_comment|/* 2.Get ModeID Table  */
id|temp
op_assign
id|SiS_SearchModeID
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
op_amp
id|ModeNo
comma
op_amp
id|ModeIdIndex
)paren
suffix:semicolon
r_if
c_cond
(paren
id|temp
op_eq
l_int|0
)paren
(brace
r_return
l_int|0
suffix:semicolon
)brace
)brace
r_else
(brace
id|ModeIdIndex
op_assign
l_int|0
suffix:semicolon
)brace
multiline_comment|/* TW: Determine VBType (301,301B,301LV,302B,302LV) */
id|SiS_GetVBType
c_func
(paren
id|SiS_Pr
comma
id|BaseAddr
comma
id|HwDeviceExtension
)paren
suffix:semicolon
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBType
op_amp
id|VB_SIS301BLV302BLV
)paren
(brace
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_ge
id|SIS_315H
)paren
(brace
id|backupreg
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x38
)paren
suffix:semicolon
)brace
r_else
(brace
id|backupreg
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x35
)paren
suffix:semicolon
)brace
)brace
multiline_comment|/* TW: Get VB information (connectors, connected devices) */
multiline_comment|/* (We don&squot;t care if the current mode is a CRT2 mode) */
id|SiS_GetVBInfo
c_func
(paren
id|SiS_Pr
comma
id|BaseAddr
comma
id|ROMAddr
comma
id|ModeNo
comma
id|ModeIdIndex
comma
id|HwDeviceExtension
comma
l_int|0
)paren
suffix:semicolon
id|SiS_SetHiVision
c_func
(paren
id|SiS_Pr
comma
id|BaseAddr
comma
id|HwDeviceExtension
)paren
suffix:semicolon
id|SiS_GetLCDResInfo
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|ModeNo
comma
id|ModeIdIndex
comma
id|HwDeviceExtension
)paren
suffix:semicolon
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_ge
id|SIS_315H
)paren
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_IF_DEF_LVDS
op_eq
l_int|1
)paren
(brace
r_if
c_cond
(paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x17
)paren
op_amp
l_int|0x08
)paren
(brace
r_if
c_cond
(paren
id|ModeNo
op_ne
l_int|0x10
)paren
(brace
id|SiS_Pr-&gt;SiS_SetFlag
op_or_assign
id|SetDOSMode
suffix:semicolon
)brace
)brace
)brace
multiline_comment|/* TW: New from 650/LV 1.10.6x */
r_if
c_cond
(paren
id|IS_SIS650
)paren
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBType
op_amp
id|VB_SIS301BLV302BLV
)paren
(brace
id|SiS_SetRegAND
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x51
comma
l_int|0x1f
)paren
suffix:semicolon
id|SiS_SetRegAND
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x56
comma
l_int|0xe7
)paren
suffix:semicolon
)brace
)brace
)brace
multiline_comment|/* TW: Set mode on CRT1 */
id|SiS_SetCRT1Group
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|HwDeviceExtension
comma
id|ModeNo
comma
id|ModeIdIndex
comma
id|BaseAddr
)paren
suffix:semicolon
id|pSiSEnt-&gt;CRT1ModeNo
op_assign
id|ModeNo
suffix:semicolon
id|pSiSEnt-&gt;CRT1DMode
op_assign
id|mode
suffix:semicolon
multiline_comment|/* TW: SetPitch: Adapt to virtual size &amp; position */
id|SiS_SetPitchCRT1
c_func
(paren
id|SiS_Pr
comma
id|pScrn
comma
id|BaseAddr
)paren
suffix:semicolon
multiline_comment|/* We have to reset CRT2 if changing mode on CRT1 */
r_if
c_cond
(paren
id|pSiSEnt-&gt;CRT2ModeNo
op_ne
op_minus
l_int|1
)paren
(brace
id|xf86DrvMsgVerb
c_func
(paren
id|pScrn-&gt;scrnIndex
comma
id|X_INFO
comma
l_int|3
comma
l_string|&quot;(Re-)Setting mode 0x%x on CRT2&bslash;n&quot;
comma
id|pSiSEnt-&gt;CRT2ModeNo
)paren
suffix:semicolon
id|backupcustom
op_assign
id|SiS_Pr-&gt;UseCustomMode
suffix:semicolon
r_if
c_cond
(paren
id|SiS_Pr-&gt;UseCustomMode
)paren
(brace
id|SiS_Pr-&gt;CRT1UsesCustomMode
op_assign
id|TRUE
suffix:semicolon
)brace
r_else
(brace
id|SiS_Pr-&gt;CRT1UsesCustomMode
op_assign
id|FALSE
suffix:semicolon
)brace
id|SiSBIOSSetModeCRT2
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
comma
id|pSiSEnt-&gt;pScrn_1
comma
id|pSiSEnt-&gt;CRT2DMode
)paren
suffix:semicolon
id|SiS_Pr-&gt;UseCustomMode
op_assign
id|backupcustom
suffix:semicolon
id|SiS_Pr-&gt;CRT1UsesCustomMode
op_assign
id|FALSE
suffix:semicolon
)brace
id|SiS_HandleCRT1
c_func
(paren
id|SiS_Pr
)paren
suffix:semicolon
id|SiS_DisplayOn
c_func
(paren
id|SiS_Pr
)paren
suffix:semicolon
id|SiS_SetReg3
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c6
comma
l_int|0xFF
)paren
suffix:semicolon
multiline_comment|/* TW: New from 650/LV 1.10.6x and 1.10.7w, 630/301B 2.06.50 */
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBType
op_amp
id|VB_SIS301BLV302BLV
)paren
(brace
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_ge
id|SIS_315H
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x38
comma
id|backupreg
)paren
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_630
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_730
)paren
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x35
comma
id|backupreg
)paren
suffix:semicolon
)brace
)brace
multiline_comment|/* Backup/Set ModeNo in BIOS scratch area */
id|SiS_GetSetModeID
c_func
(paren
id|pScrn
comma
id|ModeNo
)paren
suffix:semicolon
r_return
id|TRUE
suffix:semicolon
)brace
multiline_comment|/* TW: Set CRT2 mode (used for dual head) */
id|BOOLEAN
DECL|function|SiSBIOSSetModeCRT2
id|SiSBIOSSetModeCRT2
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
comma
id|ScrnInfoPtr
id|pScrn
comma
id|DisplayModePtr
id|mode
)paren
(brace
id|ULONG
id|temp
suffix:semicolon
id|USHORT
id|ModeIdIndex
suffix:semicolon
id|UCHAR
op_star
id|ROMAddr
op_assign
id|HwDeviceExtension-&gt;pjVirtualRomBase
suffix:semicolon
id|USHORT
id|BaseAddr
op_assign
(paren
id|USHORT
)paren
id|HwDeviceExtension-&gt;ulIOAddress
suffix:semicolon
id|UShort
id|ModeNo
op_assign
l_int|0
suffix:semicolon
id|SISPtr
id|pSiS
op_assign
id|SISPTR
c_func
(paren
id|pScrn
)paren
suffix:semicolon
id|SISEntPtr
id|pSiSEnt
op_assign
id|pSiS-&gt;entityPrivate
suffix:semicolon
r_int
r_char
id|tempr1
comma
id|tempr2
comma
id|backupreg
op_assign
l_int|0
suffix:semicolon
id|SiS_Pr-&gt;UseCustomMode
op_assign
id|FALSE
suffix:semicolon
id|ModeNo
op_assign
id|SiS_CalcModeIndex
c_func
(paren
id|pScrn
comma
id|mode
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|ModeNo
)paren
(brace
r_return
id|FALSE
suffix:semicolon
)brace
id|SiSInitPtr
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
)paren
suffix:semicolon
id|SiSRegInit
c_func
(paren
id|SiS_Pr
comma
id|BaseAddr
)paren
suffix:semicolon
id|SiS_Pr-&gt;SiS_VGAINFO
op_assign
id|SiS_GetSetBIOSScratch
c_func
(paren
id|pScrn
comma
l_int|0x489
comma
l_int|0xff
)paren
suffix:semicolon
id|SiSInitPCIetc
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
)paren
suffix:semicolon
id|SiSSetLVDSetc
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
comma
id|ModeNo
)paren
suffix:semicolon
id|SiSDetermineROMUsage
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
comma
id|ROMAddr
)paren
suffix:semicolon
multiline_comment|/* TW: We don&squot;t clear the buffer under X */
id|SiS_Pr-&gt;SiS_flag_clearbuffer
op_assign
l_int|0
suffix:semicolon
multiline_comment|/* TW: Save ModeNo so we can set it from within SetMode for CRT1 */
id|pSiSEnt-&gt;CRT2ModeNo
op_assign
id|ModeNo
suffix:semicolon
id|pSiSEnt-&gt;CRT2DMode
op_assign
id|mode
suffix:semicolon
multiline_comment|/* TW: We can&squot;t set CRT2 mode before CRT1 mode is set */
r_if
c_cond
(paren
id|pSiSEnt-&gt;CRT1ModeNo
op_eq
op_minus
l_int|1
)paren
(brace
id|xf86DrvMsgVerb
c_func
(paren
id|pScrn-&gt;scrnIndex
comma
id|X_INFO
comma
l_int|3
comma
l_string|&quot;Setting CRT2 mode delayed until after setting CRT1 mode&bslash;n&quot;
)paren
suffix:semicolon
r_return
id|TRUE
suffix:semicolon
)brace
id|xf86DrvMsgVerb
c_func
(paren
id|pScrn-&gt;scrnIndex
comma
id|X_INFO
comma
l_int|3
comma
l_string|&quot;Setting mode 0x%x on CRT2&bslash;n&quot;
comma
id|ModeNo
)paren
suffix:semicolon
multiline_comment|/* 1.Openkey */
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x05
comma
l_int|0x86
)paren
suffix:semicolon
id|SiS_UnLockCRT2
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
comma
id|BaseAddr
)paren
suffix:semicolon
multiline_comment|/* 2.Get ModeID */
id|temp
op_assign
id|SiS_SearchModeID
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
op_amp
id|ModeNo
comma
op_amp
id|ModeIdIndex
)paren
suffix:semicolon
r_if
c_cond
(paren
id|temp
op_eq
l_int|0
)paren
(brace
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/* TW: Determine VBType (301,301B,301LV,302B,302LV) */
id|SiS_GetVBType
c_func
(paren
id|SiS_Pr
comma
id|BaseAddr
comma
id|HwDeviceExtension
)paren
suffix:semicolon
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBType
op_amp
id|VB_SIS301BLV302BLV
)paren
(brace
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_ge
id|SIS_315H
)paren
(brace
id|SiS_UnLockCRT2
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
comma
id|BaseAddr
)paren
suffix:semicolon
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
OL
id|SIS_330
)paren
(brace
r_if
c_cond
(paren
id|ROMAddr
op_logical_and
id|SiS_Pr-&gt;SiS_UseROM
)paren
(brace
id|temp
op_assign
id|ROMAddr
(braket
id|VB310Data_1_2_Offset
)braket
suffix:semicolon
id|temp
op_or_assign
l_int|0x40
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_Part1Port
comma
l_int|0x02
comma
id|temp
)paren
suffix:semicolon
)brace
)brace
id|SiS_SetRegOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x32
comma
l_int|0x10
)paren
suffix:semicolon
id|SiS_SetRegOR
c_func
(paren
id|SiS_Pr-&gt;SiS_Part2Port
comma
l_int|0x02
comma
l_int|0x0c
)paren
suffix:semicolon
id|backupreg
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x38
)paren
suffix:semicolon
)brace
r_else
(brace
id|backupreg
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x35
)paren
suffix:semicolon
)brace
)brace
multiline_comment|/* TW: Get VB information (connectors, connected devices) */
id|SiS_GetVBInfo
c_func
(paren
id|SiS_Pr
comma
id|BaseAddr
comma
id|ROMAddr
comma
id|ModeNo
comma
id|ModeIdIndex
comma
id|HwDeviceExtension
comma
l_int|1
)paren
suffix:semicolon
id|SiS_SetHiVision
c_func
(paren
id|SiS_Pr
comma
id|BaseAddr
comma
id|HwDeviceExtension
)paren
suffix:semicolon
id|SiS_GetLCDResInfo
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|ModeNo
comma
id|ModeIdIndex
comma
id|HwDeviceExtension
)paren
suffix:semicolon
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_ge
id|SIS_315H
)paren
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_IF_DEF_LVDS
op_eq
l_int|1
)paren
(brace
r_if
c_cond
(paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x17
)paren
op_amp
l_int|0x08
)paren
(brace
r_if
c_cond
(paren
id|ModeNo
op_ne
l_int|0x10
)paren
(brace
id|SiS_Pr-&gt;SiS_SetFlag
op_or_assign
id|SetDOSMode
suffix:semicolon
)brace
)brace
)brace
)brace
multiline_comment|/* Set mode on CRT2 */
r_switch
c_cond
(paren
id|HwDeviceExtension-&gt;ujVBChipID
)paren
(brace
r_case
id|VB_CHIP_301
suffix:colon
r_case
id|VB_CHIP_301B
suffix:colon
r_case
id|VB_CHIP_301LV
suffix:colon
r_case
id|VB_CHIP_302
suffix:colon
r_case
id|VB_CHIP_302B
suffix:colon
r_case
id|VB_CHIP_302LV
suffix:colon
id|SiS_SetCRT2Group301
c_func
(paren
id|SiS_Pr
comma
id|BaseAddr
comma
id|ROMAddr
comma
id|ModeNo
comma
id|HwDeviceExtension
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|VB_CHIP_UNKNOWN
suffix:colon
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_IF_DEF_LVDS
op_eq
l_int|1
op_logical_or
id|SiS_Pr-&gt;SiS_IF_DEF_CH70xx
op_ne
l_int|0
op_logical_or
id|SiS_Pr-&gt;SiS_IF_DEF_TRUMPION
op_ne
l_int|0
)paren
(brace
id|SiS_SetCRT2Group301
c_func
(paren
id|SiS_Pr
comma
id|BaseAddr
comma
id|ROMAddr
comma
id|ModeNo
comma
id|HwDeviceExtension
)paren
suffix:semicolon
)brace
r_break
suffix:semicolon
)brace
id|SiS_DisplayOn
c_func
(paren
id|SiS_Pr
)paren
suffix:semicolon
id|SiS_SetReg3
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c6
comma
l_int|0xFF
)paren
suffix:semicolon
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_ge
id|SIS_315H
)paren
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_IF_DEF_LVDS
op_eq
l_int|1
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
(paren
id|SiS_IsDualEdge
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
comma
id|BaseAddr
)paren
)paren
)paren
(brace
id|SiS_SetRegAND
c_func
(paren
id|SiS_Pr-&gt;SiS_Part1Port
comma
l_int|0x13
comma
l_int|0xfb
)paren
suffix:semicolon
)brace
)brace
)brace
multiline_comment|/* TW: New from 650/LV 1.10.6x and 1.10.7w, 630 2.06.50 */
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBType
op_amp
id|VB_SIS301BLV302BLV
)paren
(brace
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_ge
id|SIS_315H
)paren
(brace
r_if
c_cond
(paren
id|SiS_IsVAMode
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
comma
id|BaseAddr
)paren
)paren
(brace
id|SiS_SetRegOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x35
comma
l_int|0x01
)paren
suffix:semicolon
)brace
r_else
(brace
id|SiS_SetRegAND
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x35
comma
l_int|0xFE
)paren
suffix:semicolon
)brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x38
comma
id|backupreg
)paren
suffix:semicolon
id|tempr1
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x30
)paren
suffix:semicolon
id|tempr2
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_Part2Port
comma
l_int|0x00
)paren
suffix:semicolon
r_if
c_cond
(paren
id|tempr1
op_amp
id|SetCRT2ToAVIDEO
)paren
(brace
id|tempr2
op_and_assign
l_int|0xF7
suffix:semicolon
)brace
r_if
c_cond
(paren
id|tempr1
op_amp
id|SetCRT2ToSVIDEO
)paren
(brace
id|tempr2
op_and_assign
l_int|0xFB
suffix:semicolon
)brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_Part2Port
comma
l_int|0x00
comma
id|tempr2
)paren
suffix:semicolon
r_if
c_cond
(paren
id|tempr1
op_amp
id|SetCRT2ToLCD
)paren
(brace
id|SiS_SetRegAND
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x38
comma
l_int|0xfc
)paren
suffix:semicolon
)brace
)brace
r_else
r_if
c_cond
(paren
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_630
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_730
)paren
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x35
comma
id|backupreg
)paren
suffix:semicolon
)brace
)brace
multiline_comment|/* TW: SetPitch: Adapt to virtual size &amp; position */
id|SiS_SetPitchCRT2
c_func
(paren
id|SiS_Pr
comma
id|pScrn
comma
id|BaseAddr
)paren
suffix:semicolon
r_return
id|TRUE
suffix:semicolon
)brace
macro_line|#endif /* Dualhead */
macro_line|#endif /* Linux_XF86 */
macro_line|#ifdef LINUX_XF86
multiline_comment|/* TW: We need pScrn for setting the pitch correctly */
id|BOOLEAN
DECL|function|SiSSetMode
id|SiSSetMode
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
comma
id|ScrnInfoPtr
id|pScrn
comma
id|USHORT
id|ModeNo
comma
id|BOOLEAN
id|dosetpitch
)paren
macro_line|#else
id|BOOLEAN
id|SiSSetMode
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
comma
id|USHORT
id|ModeNo
)paren
macro_line|#endif
(brace
id|ULONG
id|temp
suffix:semicolon
id|USHORT
id|ModeIdIndex
comma
id|KeepLockReg
suffix:semicolon
id|UCHAR
op_star
id|ROMAddr
op_assign
id|HwDeviceExtension-&gt;pjVirtualRomBase
suffix:semicolon
id|USHORT
id|BaseAddr
op_assign
(paren
id|USHORT
)paren
id|HwDeviceExtension-&gt;ulIOAddress
suffix:semicolon
r_int
r_char
id|backupreg
op_assign
l_int|0
comma
id|tempr1
comma
id|tempr2
suffix:semicolon
macro_line|#ifndef LINUX_XF86
id|SiS_Pr-&gt;UseCustomMode
op_assign
id|FALSE
suffix:semicolon
id|SiS_Pr-&gt;CRT1UsesCustomMode
op_assign
id|FALSE
suffix:semicolon
macro_line|#endif
r_if
c_cond
(paren
id|SiS_Pr-&gt;UseCustomMode
)paren
(brace
id|ModeNo
op_assign
l_int|0xfe
suffix:semicolon
)brace
id|SiSInitPtr
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
)paren
suffix:semicolon
id|SiSRegInit
c_func
(paren
id|SiS_Pr
comma
id|BaseAddr
)paren
suffix:semicolon
macro_line|#ifdef LINUX_XF86
r_if
c_cond
(paren
id|pScrn
)paren
(brace
id|SiS_Pr-&gt;SiS_VGAINFO
op_assign
id|SiS_GetSetBIOSScratch
c_func
(paren
id|pScrn
comma
l_int|0x489
comma
l_int|0xff
)paren
suffix:semicolon
)brace
r_else
macro_line|#endif
id|SiS_Pr-&gt;SiS_VGAINFO
op_assign
l_int|0x11
suffix:semicolon
macro_line|#ifdef LINUX_XF86
macro_line|#ifdef TWDEBUG
id|xf86DrvMsg
c_func
(paren
l_int|0
comma
id|X_INFO
comma
l_string|&quot;VGAInfo 0x%02x&bslash;n&quot;
comma
id|SiS_Pr-&gt;SiS_VGAINFO
)paren
suffix:semicolon
macro_line|#endif
macro_line|#endif&t; &t; 
id|SiSInitPCIetc
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
)paren
suffix:semicolon
id|SiSSetLVDSetc
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
comma
id|ModeNo
)paren
suffix:semicolon
id|SiSDetermineROMUsage
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
comma
id|ROMAddr
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|SiS_Pr-&gt;UseCustomMode
)paren
(brace
multiline_comment|/* TW: Shift the clear-buffer-bit away */
id|ModeNo
op_assign
(paren
(paren
id|ModeNo
op_amp
l_int|0x80
)paren
op_lshift
l_int|8
)paren
op_or
(paren
id|ModeNo
op_amp
l_int|0x7f
)paren
suffix:semicolon
)brace
macro_line|#ifdef LINUX_XF86
multiline_comment|/* TW: We never clear the buffer in X */
id|ModeNo
op_or_assign
l_int|0x8000
suffix:semicolon
macro_line|#endif
r_if
c_cond
(paren
id|ModeNo
op_amp
l_int|0x8000
)paren
(brace
id|ModeNo
op_and_assign
l_int|0x7fff
suffix:semicolon
id|SiS_Pr-&gt;SiS_flag_clearbuffer
op_assign
l_int|0
suffix:semicolon
)brace
r_else
(brace
id|SiS_Pr-&gt;SiS_flag_clearbuffer
op_assign
l_int|1
suffix:semicolon
)brace
multiline_comment|/* 1.Openkey */
id|KeepLockReg
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x05
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x05
comma
l_int|0x86
)paren
suffix:semicolon
id|SiS_UnLockCRT2
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
comma
id|BaseAddr
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|SiS_Pr-&gt;UseCustomMode
)paren
(brace
multiline_comment|/* 2.Get ModeID Table  */
id|temp
op_assign
id|SiS_SearchModeID
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
op_amp
id|ModeNo
comma
op_amp
id|ModeIdIndex
)paren
suffix:semicolon
r_if
c_cond
(paren
id|temp
op_eq
l_int|0
)paren
(brace
r_return
l_int|0
suffix:semicolon
)brace
)brace
r_else
(brace
id|ModeIdIndex
op_assign
l_int|0
suffix:semicolon
)brace
multiline_comment|/* TW: Determine VBType (301,301B,301LV,302B,302LV) */
id|SiS_GetVBType
c_func
(paren
id|SiS_Pr
comma
id|BaseAddr
comma
id|HwDeviceExtension
)paren
suffix:semicolon
multiline_comment|/* TW: Init/restore some VB registers */
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBType
op_amp
id|VB_SIS301BLV302BLV
)paren
(brace
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_ge
id|SIS_315H
)paren
(brace
id|SiS_UnLockCRT2
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
comma
id|BaseAddr
)paren
suffix:semicolon
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
OL
id|SIS_330
)paren
(brace
r_if
c_cond
(paren
id|ROMAddr
op_logical_and
id|SiS_Pr-&gt;SiS_UseROM
)paren
(brace
id|temp
op_assign
id|ROMAddr
(braket
id|VB310Data_1_2_Offset
)braket
suffix:semicolon
id|temp
op_or_assign
l_int|0x40
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_Part1Port
comma
l_int|0x02
comma
id|temp
)paren
suffix:semicolon
)brace
)brace
id|SiS_SetRegOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x32
comma
l_int|0x10
)paren
suffix:semicolon
id|SiS_SetRegOR
c_func
(paren
id|SiS_Pr-&gt;SiS_Part2Port
comma
l_int|0x02
comma
l_int|0x0c
)paren
suffix:semicolon
id|backupreg
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x38
)paren
suffix:semicolon
)brace
r_else
(brace
id|backupreg
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x35
)paren
suffix:semicolon
)brace
)brace
multiline_comment|/* TW: Get VB information (connectors, connected devices) */
id|SiS_GetVBInfo
c_func
(paren
id|SiS_Pr
comma
id|BaseAddr
comma
id|ROMAddr
comma
id|ModeNo
comma
id|ModeIdIndex
comma
id|HwDeviceExtension
comma
l_int|1
)paren
suffix:semicolon
id|SiS_SetHiVision
c_func
(paren
id|SiS_Pr
comma
id|BaseAddr
comma
id|HwDeviceExtension
)paren
suffix:semicolon
id|SiS_GetLCDResInfo
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|ModeNo
comma
id|ModeIdIndex
comma
id|HwDeviceExtension
)paren
suffix:semicolon
multiline_comment|/* 3. Check memory size */
id|temp
op_assign
id|SiS_CheckMemorySize
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|HwDeviceExtension
comma
id|ModeNo
comma
id|ModeIdIndex
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|temp
)paren
(brace
r_return
l_int|0
suffix:semicolon
)brace
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_ge
id|SIS_315H
)paren
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_IF_DEF_LVDS
op_eq
l_int|1
)paren
(brace
r_if
c_cond
(paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x17
)paren
op_amp
l_int|0x08
)paren
(brace
r_if
c_cond
(paren
id|ModeNo
op_ne
l_int|0x10
)paren
(brace
id|SiS_Pr-&gt;SiS_SetFlag
op_or_assign
id|SetDOSMode
suffix:semicolon
)brace
)brace
)brace
multiline_comment|/* TW: New from 650/LV 1.10.6x; not in any BIOS for other chipsets */
r_if
c_cond
(paren
id|IS_SIS650
)paren
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBType
op_amp
id|VB_SIS301BLV302BLV
)paren
(brace
id|SiS_SetRegAND
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x51
comma
l_int|0x1f
)paren
suffix:semicolon
id|SiS_SetRegAND
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x56
comma
l_int|0xe7
)paren
suffix:semicolon
)brace
)brace
)brace
multiline_comment|/* TW: Set mode on CRT1 */
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBInfo
op_amp
(paren
id|SetSimuScanMode
op_or
id|SetCRT2ToLCDA
)paren
)paren
(brace
id|SiS_SetCRT1Group
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|HwDeviceExtension
comma
id|ModeNo
comma
id|ModeIdIndex
comma
id|BaseAddr
)paren
suffix:semicolon
)brace
r_else
(brace
r_if
c_cond
(paren
op_logical_neg
(paren
id|SiS_Pr-&gt;SiS_VBInfo
op_amp
id|SwitchToCRT2
)paren
)paren
(brace
id|SiS_SetCRT1Group
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|HwDeviceExtension
comma
id|ModeNo
comma
id|ModeIdIndex
comma
id|BaseAddr
)paren
suffix:semicolon
)brace
)brace
multiline_comment|/* TW: Set mode on CRT2 */
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBInfo
op_amp
(paren
id|SetSimuScanMode
op_or
id|SwitchToCRT2
op_or
id|SetCRT2ToLCDA
)paren
)paren
(brace
r_switch
c_cond
(paren
id|HwDeviceExtension-&gt;ujVBChipID
)paren
(brace
r_case
id|VB_CHIP_301
suffix:colon
r_case
id|VB_CHIP_301B
suffix:colon
r_case
id|VB_CHIP_301LV
suffix:colon
r_case
id|VB_CHIP_302
suffix:colon
r_case
id|VB_CHIP_302B
suffix:colon
r_case
id|VB_CHIP_302LV
suffix:colon
id|SiS_SetCRT2Group301
c_func
(paren
id|SiS_Pr
comma
id|BaseAddr
comma
id|ROMAddr
comma
id|ModeNo
comma
id|HwDeviceExtension
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|VB_CHIP_UNKNOWN
suffix:colon
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_IF_DEF_LVDS
op_eq
l_int|1
op_logical_or
id|SiS_Pr-&gt;SiS_IF_DEF_CH70xx
op_ne
l_int|0
op_logical_or
id|SiS_Pr-&gt;SiS_IF_DEF_TRUMPION
op_ne
l_int|0
)paren
(brace
id|SiS_SetCRT2Group301
c_func
(paren
id|SiS_Pr
comma
id|BaseAddr
comma
id|ROMAddr
comma
id|ModeNo
comma
id|HwDeviceExtension
)paren
suffix:semicolon
)brace
r_break
suffix:semicolon
)brace
)brace
id|SiS_HandleCRT1
c_func
(paren
id|SiS_Pr
)paren
suffix:semicolon
id|SiS_DisplayOn
c_func
(paren
id|SiS_Pr
)paren
suffix:semicolon
id|SiS_SetReg3
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c6
comma
l_int|0xFF
)paren
suffix:semicolon
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_ge
id|SIS_315H
)paren
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_IF_DEF_LVDS
op_eq
l_int|1
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
(paren
id|SiS_IsDualEdge
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
comma
id|BaseAddr
)paren
)paren
)paren
(brace
id|SiS_SetRegAND
c_func
(paren
id|SiS_Pr-&gt;SiS_Part1Port
comma
l_int|0x13
comma
l_int|0xfb
)paren
suffix:semicolon
)brace
)brace
)brace
multiline_comment|/* TW: New from 650/LV 1.10.6x and 1.10.7w */
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBType
op_amp
id|VB_SIS301BLV302BLV
)paren
(brace
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_ge
id|SIS_315H
)paren
(brace
r_if
c_cond
(paren
id|SiS_IsVAMode
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
comma
id|BaseAddr
)paren
)paren
(brace
id|SiS_SetRegOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x35
comma
l_int|0x01
)paren
suffix:semicolon
)brace
r_else
(brace
id|SiS_SetRegAND
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x35
comma
l_int|0xFE
)paren
suffix:semicolon
)brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x38
comma
id|backupreg
)paren
suffix:semicolon
id|tempr1
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x30
)paren
suffix:semicolon
id|tempr2
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_Part2Port
comma
l_int|0x00
)paren
suffix:semicolon
r_if
c_cond
(paren
id|tempr1
op_amp
id|SetCRT2ToAVIDEO
)paren
(brace
id|tempr2
op_and_assign
l_int|0xF7
suffix:semicolon
)brace
r_if
c_cond
(paren
id|tempr1
op_amp
id|SetCRT2ToSVIDEO
)paren
(brace
id|tempr2
op_and_assign
l_int|0xFB
suffix:semicolon
)brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_Part2Port
comma
l_int|0x00
comma
id|tempr2
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|IS_SIS650
)paren
op_logical_and
(paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x30
)paren
op_amp
l_int|0xfc
)paren
)paren
(brace
r_if
c_cond
(paren
(paren
id|ModeNo
op_eq
l_int|0x03
)paren
op_logical_or
(paren
id|ModeNo
op_eq
l_int|0x10
)paren
)paren
(brace
id|SiS_SetRegOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x51
comma
l_int|0x80
)paren
suffix:semicolon
id|SiS_SetRegOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x56
comma
l_int|0x08
)paren
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
id|tempr1
op_amp
id|SetCRT2ToLCD
)paren
(brace
id|SiS_SetRegAND
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x38
comma
l_int|0xfc
)paren
suffix:semicolon
)brace
)brace
r_else
r_if
c_cond
(paren
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_630
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_730
)paren
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x35
comma
id|backupreg
)paren
suffix:semicolon
)brace
)brace
macro_line|#ifdef LINUX_XF86
r_if
c_cond
(paren
id|pScrn
)paren
(brace
multiline_comment|/* TW: SetPitch: Adapt to virtual size &amp; position */
r_if
c_cond
(paren
(paren
id|ModeNo
OG
l_int|0x13
)paren
op_logical_and
(paren
id|dosetpitch
)paren
)paren
(brace
id|SiS_SetPitch
c_func
(paren
id|SiS_Pr
comma
id|pScrn
comma
id|BaseAddr
)paren
suffix:semicolon
)brace
multiline_comment|/* Backup/Set ModeNo in BIOS scratch area */
id|SiS_GetSetModeID
c_func
(paren
id|pScrn
comma
id|ModeNo
)paren
suffix:semicolon
)brace
macro_line|#endif
macro_line|#ifndef LINUX_XF86  /* TW: We never lock registers in XF86 */
r_if
c_cond
(paren
id|KeepLockReg
op_eq
l_int|0xA1
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x05
comma
l_int|0x86
)paren
suffix:semicolon
)brace
r_else
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x05
comma
l_int|0x00
)paren
suffix:semicolon
macro_line|#endif
r_return
id|TRUE
suffix:semicolon
)brace
r_void
DECL|function|SiS_SetEnableDstn
id|SiS_SetEnableDstn
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
)paren
multiline_comment|/* TW: Called from sis_main.c */
(brace
multiline_comment|/* For 550 dstn */
id|SiS_Pr-&gt;SiS_IF_DEF_DSTN
op_assign
l_int|1
suffix:semicolon
)brace
r_void
DECL|function|SiS_HandleCRT1
id|SiS_HandleCRT1
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
)paren
(brace
multiline_comment|/* TW: We don&squot;t do this at all. There is a new&n;   * CRT1-is-connected-at-boot-time logic in the 650 BIOS, which&n;   * confuses our own. So just clear the bit and skip the rest.&n;   */
id|SiS_SetRegAND
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x63
comma
l_int|0xbf
)paren
suffix:semicolon
macro_line|#if 0
r_if
c_cond
(paren
op_logical_neg
(paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x15
)paren
op_amp
l_int|0x01
)paren
)paren
(brace
id|SiS_SetRegOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x63
comma
l_int|0x40
)paren
suffix:semicolon
)brace
)brace
macro_line|#endif
)brace
r_void
DECL|function|SiS_SetCRT1Group
id|SiS_SetCRT1Group
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|UCHAR
op_star
id|ROMAddr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
comma
id|USHORT
id|ModeNo
comma
id|USHORT
id|ModeIdIndex
comma
id|USHORT
id|BaseAddr
)paren
(brace
id|USHORT
id|StandTableIndex
comma
id|RefreshRateTableIndex
suffix:semicolon
id|SiS_Pr-&gt;SiS_CRT1Mode
op_assign
id|ModeNo
suffix:semicolon
id|StandTableIndex
op_assign
id|SiS_GetModePtr
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|ModeNo
comma
id|ModeIdIndex
)paren
suffix:semicolon
r_if
c_cond
(paren
id|SiS_LowModeStuff
c_func
(paren
id|SiS_Pr
comma
id|ModeNo
comma
id|HwDeviceExtension
)paren
)paren
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBInfo
op_amp
(paren
id|SetSimuScanMode
op_or
id|SwitchToCRT2
)paren
)paren
(brace
id|SiS_DisableBridge
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
comma
id|BaseAddr
)paren
suffix:semicolon
)brace
)brace
id|SiS_SetSeqRegs
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|StandTableIndex
)paren
suffix:semicolon
id|SiS_SetMiscRegs
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|StandTableIndex
)paren
suffix:semicolon
id|SiS_SetCRTCRegs
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|HwDeviceExtension
comma
id|StandTableIndex
)paren
suffix:semicolon
id|SiS_SetATTRegs
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|StandTableIndex
comma
id|HwDeviceExtension
)paren
suffix:semicolon
id|SiS_SetGRCRegs
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|StandTableIndex
)paren
suffix:semicolon
id|SiS_ClearExt1Regs
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
)paren
suffix:semicolon
id|SiS_ResetCRT1VCLK
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|HwDeviceExtension
)paren
suffix:semicolon
id|SiS_Pr-&gt;SiS_SelectCRT2Rate
op_assign
l_int|0
suffix:semicolon
id|SiS_Pr-&gt;SiS_SetFlag
op_and_assign
(paren
op_complement
id|ProgrammingCRT2
)paren
suffix:semicolon
macro_line|#ifdef LINUX_XF86
id|xf86DrvMsgVerb
c_func
(paren
l_int|0
comma
id|X_PROBED
comma
l_int|3
comma
l_string|&quot;(init: VBType=0x%04x, VBInfo=0x%04x)&bslash;n&quot;
comma
id|SiS_Pr-&gt;SiS_VBType
comma
id|SiS_Pr-&gt;SiS_VBInfo
)paren
suffix:semicolon
macro_line|#endif
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBInfo
op_amp
id|SetSimuScanMode
)paren
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBInfo
op_amp
id|SetInSlaveMode
)paren
(brace
id|SiS_Pr-&gt;SiS_SetFlag
op_or_assign
id|ProgrammingCRT2
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBInfo
op_amp
id|SetCRT2ToLCDA
)paren
(brace
id|SiS_Pr-&gt;SiS_SetFlag
op_or_assign
id|ProgrammingCRT2
suffix:semicolon
)brace
id|RefreshRateTableIndex
op_assign
id|SiS_GetRatePtrCRT2
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|ModeNo
comma
id|ModeIdIndex
comma
id|HwDeviceExtension
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
(paren
id|SiS_Pr-&gt;SiS_VBInfo
op_amp
id|SetCRT2ToLCDA
)paren
)paren
(brace
id|SiS_Pr-&gt;SiS_SetFlag
op_and_assign
op_complement
id|ProgrammingCRT2
suffix:semicolon
)brace
r_if
c_cond
(paren
id|RefreshRateTableIndex
op_ne
l_int|0xFFFF
)paren
(brace
id|SiS_SetSync
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|RefreshRateTableIndex
)paren
suffix:semicolon
id|SiS_SetCRT1CRTC
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|ModeNo
comma
id|ModeIdIndex
comma
id|RefreshRateTableIndex
comma
id|HwDeviceExtension
)paren
suffix:semicolon
id|SiS_SetCRT1Offset
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|ModeNo
comma
id|ModeIdIndex
comma
id|RefreshRateTableIndex
comma
id|HwDeviceExtension
)paren
suffix:semicolon
id|SiS_SetCRT1VCLK
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|ModeNo
comma
id|ModeIdIndex
comma
id|HwDeviceExtension
comma
id|RefreshRateTableIndex
)paren
suffix:semicolon
)brace
macro_line|#ifdef SIS300
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_300
)paren
(brace
id|SiS_SetCRT1FIFO_300
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|ModeNo
comma
id|HwDeviceExtension
comma
id|RefreshRateTableIndex
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_630
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_730
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_540
)paren
)paren
(brace
id|SiS_SetCRT1FIFO_630
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|ModeNo
comma
id|HwDeviceExtension
comma
id|RefreshRateTableIndex
)paren
suffix:semicolon
)brace
macro_line|#endif
macro_line|#ifdef SIS315H
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_ge
id|SIS_315H
)paren
(brace
id|SiS_SetCRT1FIFO_310
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|ModeNo
comma
id|ModeIdIndex
comma
id|HwDeviceExtension
)paren
suffix:semicolon
)brace
macro_line|#endif
id|SiS_SetCRT1ModeRegs
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|HwDeviceExtension
comma
id|ModeNo
comma
id|ModeIdIndex
comma
id|RefreshRateTableIndex
)paren
suffix:semicolon
id|SiS_LoadDAC
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
comma
id|ROMAddr
comma
id|ModeNo
comma
id|ModeIdIndex
)paren
suffix:semicolon
macro_line|#ifndef LINUX_XF86
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_flag_clearbuffer
)paren
(brace
id|SiS_ClearBuffer
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
comma
id|ModeNo
)paren
suffix:semicolon
)brace
macro_line|#endif
r_if
c_cond
(paren
op_logical_neg
(paren
id|SiS_Pr-&gt;SiS_VBInfo
op_amp
(paren
id|SetSimuScanMode
op_or
id|SwitchToCRT2
op_or
id|SetCRT2ToLCDA
)paren
)paren
)paren
(brace
id|SiS_LongWait
c_func
(paren
id|SiS_Pr
)paren
suffix:semicolon
id|SiS_DisplayOn
c_func
(paren
id|SiS_Pr
)paren
suffix:semicolon
)brace
)brace
macro_line|#ifdef LINUX_XF86
r_void
DECL|function|SiS_SetPitch
id|SiS_SetPitch
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|ScrnInfoPtr
id|pScrn
comma
id|UShort
id|BaseAddr
)paren
(brace
id|SISPtr
id|pSiS
op_assign
id|SISPTR
c_func
(paren
id|pScrn
)paren
suffix:semicolon
multiline_comment|/* TW: We need to set pitch for CRT1 if bridge is in SlaveMode, too */
r_if
c_cond
(paren
(paren
id|pSiS-&gt;VBFlags
op_amp
id|DISPTYPE_DISP1
)paren
op_logical_or
(paren
(paren
id|pSiS-&gt;VBFlags
op_amp
id|VB_VIDEOBRIDGE
)paren
op_logical_and
(paren
(paren
(paren
id|pSiS-&gt;VGAEngine
op_eq
id|SIS_300_VGA
)paren
op_logical_and
(paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_Part1Port
comma
l_int|0x00
)paren
op_amp
l_int|0xa0
)paren
op_eq
l_int|0x20
)paren
op_logical_or
(paren
(paren
id|pSiS-&gt;VGAEngine
op_eq
id|SIS_315_VGA
)paren
op_logical_and
(paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_Part1Port
comma
l_int|0x00
)paren
op_amp
l_int|0x50
)paren
op_eq
l_int|0x10
)paren
)paren
)paren
)paren
(brace
id|SiS_SetPitchCRT1
c_func
(paren
id|SiS_Pr
comma
id|pScrn
comma
id|BaseAddr
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|pSiS-&gt;VBFlags
op_amp
id|DISPTYPE_DISP2
)paren
(brace
id|SiS_SetPitchCRT2
c_func
(paren
id|SiS_Pr
comma
id|pScrn
comma
id|BaseAddr
)paren
suffix:semicolon
)brace
)brace
r_void
DECL|function|SiS_SetPitchCRT1
id|SiS_SetPitchCRT1
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|ScrnInfoPtr
id|pScrn
comma
id|UShort
id|BaseAddr
)paren
(brace
id|SISPtr
id|pSiS
op_assign
id|SISPTR
c_func
(paren
id|pScrn
)paren
suffix:semicolon
id|ULong
id|HDisplay
comma
id|temp
suffix:semicolon
id|HDisplay
op_assign
id|pSiS-&gt;scrnPitch
op_div
l_int|8
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x13
comma
(paren
id|HDisplay
op_amp
l_int|0xFF
)paren
)paren
suffix:semicolon
id|temp
op_assign
(paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x0E
)paren
op_amp
l_int|0xF0
)paren
op_or
(paren
id|HDisplay
op_rshift
l_int|8
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x0E
comma
id|temp
)paren
suffix:semicolon
)brace
r_void
DECL|function|SiS_SetPitchCRT2
id|SiS_SetPitchCRT2
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|ScrnInfoPtr
id|pScrn
comma
id|UShort
id|BaseAddr
)paren
(brace
id|SISPtr
id|pSiS
op_assign
id|SISPTR
c_func
(paren
id|pScrn
)paren
suffix:semicolon
id|ULong
id|HDisplay
comma
id|temp
suffix:semicolon
id|HDisplay
op_assign
id|pSiS-&gt;scrnPitch
op_div
l_int|8
suffix:semicolon
multiline_comment|/* Unlock CRT2 */
r_if
c_cond
(paren
id|pSiS-&gt;VGAEngine
op_eq
id|SIS_315_VGA
)paren
id|SiS_SetRegOR
c_func
(paren
id|SiS_Pr-&gt;SiS_Part1Port
comma
l_int|0x2F
comma
l_int|0x01
)paren
suffix:semicolon
r_else
id|SiS_SetRegOR
c_func
(paren
id|SiS_Pr-&gt;SiS_Part1Port
comma
l_int|0x24
comma
l_int|0x01
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_Part1Port
comma
l_int|0x07
comma
(paren
id|HDisplay
op_amp
l_int|0xFF
)paren
)paren
suffix:semicolon
id|temp
op_assign
(paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_Part1Port
comma
l_int|0x09
)paren
op_amp
l_int|0xF0
)paren
op_or
(paren
(paren
id|HDisplay
op_rshift
l_int|8
)paren
op_amp
l_int|0xFF
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_Part1Port
comma
l_int|0x09
comma
id|temp
)paren
suffix:semicolon
)brace
macro_line|#endif
r_void
DECL|function|SiS_GetVBType
id|SiS_GetVBType
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|USHORT
id|BaseAddr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
)paren
(brace
id|USHORT
id|flag
op_assign
l_int|0
comma
id|rev
op_assign
l_int|0
comma
id|nolcd
op_assign
l_int|0
suffix:semicolon
id|SiS_Pr-&gt;SiS_VBType
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_IF_DEF_LVDS
op_eq
l_int|1
)paren
(brace
r_return
suffix:semicolon
)brace
id|flag
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_Part4Port
comma
l_int|0x00
)paren
suffix:semicolon
multiline_comment|/* TW: Illegal values not welcome... */
r_if
c_cond
(paren
id|flag
OG
l_int|3
)paren
(brace
r_return
suffix:semicolon
)brace
id|rev
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_Part4Port
comma
l_int|0x01
)paren
suffix:semicolon
r_if
c_cond
(paren
id|flag
op_ge
l_int|2
)paren
(brace
id|SiS_Pr-&gt;SiS_VBType
op_assign
id|VB_SIS302B
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|flag
op_eq
l_int|1
)paren
(brace
id|SiS_Pr-&gt;SiS_VBType
op_assign
id|VB_SIS301
suffix:semicolon
r_if
c_cond
(paren
id|rev
op_ge
l_int|0xB0
)paren
(brace
id|SiS_Pr-&gt;SiS_VBType
op_assign
id|VB_SIS301B
suffix:semicolon
multiline_comment|/* Check if 30xB DH version (no LCD support, use Panel Link instead) */
id|nolcd
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_Part4Port
comma
l_int|0x23
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
(paren
id|nolcd
op_amp
l_int|0x02
)paren
)paren
(brace
id|SiS_Pr-&gt;SiS_VBType
op_or_assign
id|VB_NoLCD
suffix:semicolon
)brace
)brace
)brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBType
op_amp
(paren
id|VB_SIS301B
op_or
id|VB_SIS302B
)paren
)paren
(brace
r_if
c_cond
(paren
id|rev
op_ge
l_int|0xD0
)paren
(brace
id|SiS_Pr-&gt;SiS_VBType
op_and_assign
op_complement
(paren
id|VB_SIS301B
op_or
id|VB_SIS302B
)paren
suffix:semicolon
id|SiS_Pr-&gt;SiS_VBType
op_or_assign
id|VB_SIS301LV
suffix:semicolon
id|SiS_Pr-&gt;SiS_VBType
op_and_assign
op_complement
(paren
id|VB_NoLCD
)paren
suffix:semicolon
r_if
c_cond
(paren
id|rev
op_ge
l_int|0xE0
)paren
(brace
id|SiS_Pr-&gt;SiS_VBType
op_and_assign
op_complement
(paren
id|VB_SIS301LV
)paren
suffix:semicolon
id|SiS_Pr-&gt;SiS_VBType
op_or_assign
id|VB_SIS302LV
suffix:semicolon
)brace
)brace
)brace
)brace
id|BOOLEAN
DECL|function|SiS_SearchModeID
id|SiS_SearchModeID
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|UCHAR
op_star
id|ROMAddr
comma
id|USHORT
op_star
id|ModeNo
comma
id|USHORT
op_star
id|ModeIdIndex
)paren
(brace
id|UCHAR
id|VGAINFO
op_assign
id|SiS_Pr-&gt;SiS_VGAINFO
suffix:semicolon
r_if
c_cond
(paren
op_star
id|ModeNo
op_le
l_int|0x13
)paren
(brace
r_if
c_cond
(paren
(paren
op_star
id|ModeNo
)paren
op_le
l_int|0x05
)paren
(brace
(paren
op_star
id|ModeNo
)paren
op_or_assign
l_int|0x01
suffix:semicolon
)brace
r_for
c_loop
(paren
op_star
id|ModeIdIndex
op_assign
l_int|0
suffix:semicolon
suffix:semicolon
(paren
op_star
id|ModeIdIndex
)paren
op_increment
)paren
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_SModeIDTable
(braket
op_star
id|ModeIdIndex
)braket
dot
id|St_ModeID
op_eq
(paren
op_star
id|ModeNo
)paren
)paren
(brace
r_break
suffix:semicolon
)brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_SModeIDTable
(braket
op_star
id|ModeIdIndex
)braket
dot
id|St_ModeID
op_eq
l_int|0xFF
)paren
(brace
r_return
id|FALSE
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
op_star
id|ModeNo
op_eq
l_int|0x07
)paren
(brace
r_if
c_cond
(paren
id|VGAINFO
op_amp
l_int|0x10
)paren
(brace
(paren
op_star
id|ModeIdIndex
)paren
op_increment
suffix:semicolon
)brace
multiline_comment|/* 400 lines */
multiline_comment|/* else 350 lines */
)brace
r_if
c_cond
(paren
op_star
id|ModeNo
op_le
l_int|0x03
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
(paren
id|VGAINFO
op_amp
l_int|0x80
)paren
)paren
(brace
(paren
op_star
id|ModeIdIndex
)paren
op_increment
suffix:semicolon
)brace
r_if
c_cond
(paren
id|VGAINFO
op_amp
l_int|0x10
)paren
(brace
(paren
op_star
id|ModeIdIndex
)paren
op_increment
suffix:semicolon
)brace
multiline_comment|/* 400 lines  */
multiline_comment|/* else 350 lines  */
)brace
multiline_comment|/* else 200 lines  */
)brace
r_else
(brace
r_for
c_loop
(paren
op_star
id|ModeIdIndex
op_assign
l_int|0
suffix:semicolon
suffix:semicolon
(paren
op_star
id|ModeIdIndex
)paren
op_increment
)paren
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_EModeIDTable
(braket
op_star
id|ModeIdIndex
)braket
dot
id|Ext_ModeID
op_eq
(paren
op_star
id|ModeNo
)paren
)paren
(brace
r_break
suffix:semicolon
)brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_EModeIDTable
(braket
op_star
id|ModeIdIndex
)braket
dot
id|Ext_ModeID
op_eq
l_int|0xFF
)paren
(brace
r_return
id|FALSE
suffix:semicolon
)brace
)brace
)brace
r_return
id|TRUE
suffix:semicolon
)brace
multiline_comment|/* For SiS 300 oem util: Search VBModeID */
id|BOOLEAN
DECL|function|SiS_SearchVBModeID
id|SiS_SearchVBModeID
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|UCHAR
op_star
id|ROMAddr
comma
id|USHORT
op_star
id|ModeNo
)paren
(brace
id|USHORT
id|ModeIdIndex
suffix:semicolon
id|UCHAR
id|VGAINFO
op_assign
id|SiS_Pr-&gt;SiS_VGAINFO
suffix:semicolon
r_if
c_cond
(paren
op_star
id|ModeNo
op_le
l_int|5
)paren
(brace
op_star
id|ModeNo
op_or_assign
l_int|1
suffix:semicolon
)brace
r_for
c_loop
(paren
id|ModeIdIndex
op_assign
l_int|0
suffix:semicolon
suffix:semicolon
id|ModeIdIndex
op_increment
)paren
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBModeIDTable
(braket
id|ModeIdIndex
)braket
dot
id|ModeID
op_eq
op_star
id|ModeNo
)paren
(brace
r_break
suffix:semicolon
)brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBModeIDTable
(braket
id|ModeIdIndex
)braket
dot
id|ModeID
op_eq
l_int|0xFF
)paren
(brace
r_return
id|FALSE
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
op_star
id|ModeNo
op_ne
l_int|0x07
)paren
(brace
r_if
c_cond
(paren
op_star
id|ModeNo
OG
l_int|0x03
)paren
(brace
r_return
(paren
(paren
id|BOOLEAN
)paren
id|ModeIdIndex
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|VGAINFO
op_amp
l_int|0x80
)paren
(brace
r_return
(paren
(paren
id|BOOLEAN
)paren
id|ModeIdIndex
)paren
suffix:semicolon
)brace
id|ModeIdIndex
op_increment
suffix:semicolon
)brace
r_if
c_cond
(paren
id|VGAINFO
op_amp
l_int|0x10
)paren
(brace
id|ModeIdIndex
op_increment
suffix:semicolon
)brace
multiline_comment|/* 400 lines */
multiline_comment|/* else 350 lines */
r_return
(paren
(paren
id|BOOLEAN
)paren
id|ModeIdIndex
)paren
suffix:semicolon
)brace
id|BOOLEAN
DECL|function|SiS_CheckMemorySize
id|SiS_CheckMemorySize
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|UCHAR
op_star
id|ROMAddr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
comma
id|USHORT
id|ModeNo
comma
id|USHORT
id|ModeIdIndex
)paren
(brace
id|USHORT
id|memorysize
comma
id|modeflag
suffix:semicolon
id|ULONG
id|temp
suffix:semicolon
r_if
c_cond
(paren
id|SiS_Pr-&gt;UseCustomMode
)paren
(brace
id|modeflag
op_assign
id|SiS_Pr-&gt;CModeFlag
suffix:semicolon
)brace
r_else
(brace
r_if
c_cond
(paren
id|ModeNo
op_le
l_int|0x13
)paren
(brace
id|modeflag
op_assign
id|SiS_Pr-&gt;SiS_SModeIDTable
(braket
id|ModeIdIndex
)braket
dot
id|St_ModeFlag
suffix:semicolon
)brace
r_else
(brace
id|modeflag
op_assign
id|SiS_Pr-&gt;SiS_EModeIDTable
(braket
id|ModeIdIndex
)braket
dot
id|Ext_ModeFlag
suffix:semicolon
)brace
)brace
id|memorysize
op_assign
id|modeflag
op_amp
id|MemoryInfoFlag
suffix:semicolon
id|memorysize
op_rshift_assign
id|MemorySizeShift
suffix:semicolon
multiline_comment|/* Get required memory size */
id|memorysize
op_increment
suffix:semicolon
id|temp
op_assign
id|GetDRAMSize
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
)paren
suffix:semicolon
multiline_comment|/* Get adapter memory size */
id|temp
op_div_assign
(paren
l_int|1024
op_star
l_int|1024
)paren
suffix:semicolon
multiline_comment|/* (in MB) */
r_if
c_cond
(paren
id|temp
OL
id|memorysize
)paren
(brace
r_return
id|FALSE
suffix:semicolon
)brace
r_else
r_return
id|TRUE
suffix:semicolon
)brace
id|UCHAR
DECL|function|SiS_GetModePtr
id|SiS_GetModePtr
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|UCHAR
op_star
id|ROMAddr
comma
id|USHORT
id|ModeNo
comma
id|USHORT
id|ModeIdIndex
)paren
(brace
id|UCHAR
id|index
suffix:semicolon
r_if
c_cond
(paren
id|ModeNo
op_le
l_int|0x13
)paren
(brace
id|index
op_assign
id|SiS_Pr-&gt;SiS_SModeIDTable
(braket
id|ModeIdIndex
)braket
dot
id|St_StTableIndex
suffix:semicolon
)brace
r_else
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_ModeType
op_le
l_int|0x02
)paren
(brace
id|index
op_assign
l_int|0x1B
suffix:semicolon
)brace
multiline_comment|/* 02 -&gt; ModeEGA  */
r_else
id|index
op_assign
l_int|0x0F
suffix:semicolon
)brace
r_return
id|index
suffix:semicolon
)brace
r_void
DECL|function|SiS_SetSeqRegs
id|SiS_SetSeqRegs
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|UCHAR
op_star
id|ROMAddr
comma
id|USHORT
id|StandTableIndex
)paren
(brace
id|UCHAR
id|SRdata
suffix:semicolon
id|USHORT
id|i
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x00
comma
l_int|0x03
)paren
suffix:semicolon
multiline_comment|/* Set SR0  */
id|SRdata
op_assign
id|SiS_Pr-&gt;SiS_StandTable
(braket
id|StandTableIndex
)braket
dot
id|SR
(braket
l_int|0
)braket
suffix:semicolon
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBType
op_amp
id|VB_SIS301BLV302BLV
)paren
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBInfo
op_amp
id|SetCRT2ToLCDA
)paren
(brace
id|SRdata
op_or_assign
l_int|0x01
suffix:semicolon
)brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBInfo
op_amp
id|SetCRT2ToLCD
)paren
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBType
op_amp
id|VB_NoLCD
)paren
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBInfo
op_amp
id|SetInSlaveMode
)paren
(brace
id|SRdata
op_or_assign
l_int|0x01
suffix:semicolon
multiline_comment|/* 8 dot clock  */
)brace
)brace
)brace
)brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_IF_DEF_LVDS
op_eq
l_int|1
)paren
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_IF_DEF_CH70xx
op_ne
l_int|0
)paren
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBInfo
op_amp
id|SetCRT2ToTV
)paren
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBInfo
op_amp
id|SetInSlaveMode
)paren
(brace
id|SRdata
op_or_assign
l_int|0x01
suffix:semicolon
multiline_comment|/* 8 dot clock  */
)brace
)brace
)brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBInfo
op_amp
id|SetCRT2ToLCD
)paren
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBInfo
op_amp
id|SetInSlaveMode
)paren
(brace
id|SRdata
op_or_assign
l_int|0x01
suffix:semicolon
multiline_comment|/* 8 dot clock  */
)brace
)brace
)brace
id|SRdata
op_or_assign
l_int|0x20
suffix:semicolon
multiline_comment|/* screen off  */
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x01
comma
id|SRdata
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|2
suffix:semicolon
id|i
op_le
l_int|4
suffix:semicolon
id|i
op_increment
)paren
(brace
id|SRdata
op_assign
id|SiS_Pr-&gt;SiS_StandTable
(braket
id|StandTableIndex
)braket
dot
id|SR
(braket
id|i
op_minus
l_int|1
)braket
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
id|i
comma
id|SRdata
)paren
suffix:semicolon
)brace
)brace
r_void
DECL|function|SiS_SetMiscRegs
id|SiS_SetMiscRegs
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|UCHAR
op_star
id|ROMAddr
comma
id|USHORT
id|StandTableIndex
)paren
(brace
id|UCHAR
id|Miscdata
suffix:semicolon
id|Miscdata
op_assign
id|SiS_Pr-&gt;SiS_StandTable
(braket
id|StandTableIndex
)braket
dot
id|MISC
suffix:semicolon
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBType
op_amp
id|VB_SIS301BLV302BLV
)paren
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBInfo
op_amp
id|SetCRT2ToLCDA
)paren
(brace
id|Miscdata
op_or_assign
l_int|0x0C
suffix:semicolon
)brace
)brace
id|SiS_SetReg3
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c2
comma
id|Miscdata
)paren
suffix:semicolon
)brace
r_void
DECL|function|SiS_SetCRTCRegs
id|SiS_SetCRTCRegs
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|UCHAR
op_star
id|ROMAddr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
comma
id|USHORT
id|StandTableIndex
)paren
(brace
id|UCHAR
id|CRTCdata
suffix:semicolon
id|USHORT
id|i
suffix:semicolon
id|SiS_SetRegAND
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x11
comma
l_int|0x7f
)paren
suffix:semicolon
multiline_comment|/* Unlock CRTC */
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
op_le
l_int|0x18
suffix:semicolon
id|i
op_increment
)paren
(brace
id|CRTCdata
op_assign
id|SiS_Pr-&gt;SiS_StandTable
(braket
id|StandTableIndex
)braket
dot
id|CRTC
(braket
id|i
)braket
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
id|i
comma
id|CRTCdata
)paren
suffix:semicolon
multiline_comment|/* Set CRTC(3d4) */
)brace
r_if
c_cond
(paren
(paren
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_630
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_730
)paren
)paren
op_logical_and
(paren
id|HwDeviceExtension-&gt;jChipRevision
op_ge
l_int|0x30
)paren
)paren
(brace
multiline_comment|/* for 630S0 */
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBInfo
op_amp
id|SetInSlaveMode
)paren
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBInfo
op_amp
(paren
id|SetCRT2ToLCD
op_or
id|SetCRT2ToTV
)paren
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x18
comma
l_int|0xFE
)paren
suffix:semicolon
)brace
)brace
)brace
)brace
r_void
DECL|function|SiS_SetATTRegs
id|SiS_SetATTRegs
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|UCHAR
op_star
id|ROMAddr
comma
id|USHORT
id|StandTableIndex
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
)paren
(brace
id|UCHAR
id|ARdata
suffix:semicolon
id|USHORT
id|i
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
op_le
l_int|0x13
suffix:semicolon
id|i
op_increment
)paren
(brace
id|ARdata
op_assign
id|SiS_Pr-&gt;SiS_StandTable
(braket
id|StandTableIndex
)braket
dot
id|ATTR
(braket
id|i
)braket
suffix:semicolon
macro_line|#if 0
r_if
c_cond
(paren
(paren
id|i
op_le
l_int|0x0f
)paren
op_logical_or
(paren
id|i
op_eq
l_int|0x11
)paren
)paren
(brace
r_if
c_cond
(paren
id|ds
suffix:colon
l_int|489
op_amp
l_int|0x08
)paren
(brace
r_continue
suffix:semicolon
)brace
)brace
macro_line|#endif
r_if
c_cond
(paren
id|i
op_eq
l_int|0x13
)paren
(brace
multiline_comment|/* Pixel shift. If screen on LCD or TV is shifted left or right, &n;       * this might be the cause. &n;       */
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBType
op_amp
id|VB_SIS301BLV302BLV
)paren
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBInfo
op_amp
id|SetCRT2ToLCDA
)paren
(brace
id|ARdata
op_assign
l_int|0
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_IF_DEF_LVDS
op_eq
l_int|1
)paren
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_IF_DEF_CH70xx
op_ne
l_int|0
)paren
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBInfo
op_amp
id|SetCRT2ToTV
)paren
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBInfo
op_amp
id|SetInSlaveMode
)paren
(brace
id|ARdata
op_assign
l_int|0
suffix:semicolon
)brace
)brace
)brace
)brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBInfo
op_amp
id|SetCRT2ToLCD
)paren
(brace
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_ge
id|SIS_315H
)paren
(brace
r_if
c_cond
(paren
id|IS_SIS650740
op_logical_or
id|IS_SIS550
)paren
(brace
multiline_comment|/* 315, 330 don&squot;t do this */
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBType
op_amp
id|VB_SIS301B302B
)paren
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBInfo
op_amp
id|SetInSlaveMode
)paren
(brace
id|ARdata
op_assign
l_int|0
suffix:semicolon
)brace
)brace
r_else
(brace
id|ARdata
op_assign
l_int|0
suffix:semicolon
)brace
)brace
)brace
r_else
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBInfo
op_amp
id|SetInSlaveMode
)paren
(brace
id|ARdata
op_assign
l_int|0
suffix:semicolon
)brace
)brace
)brace
)brace
id|SiS_GetReg2
c_func
(paren
id|SiS_Pr-&gt;SiS_P3da
)paren
suffix:semicolon
multiline_comment|/* reset 3da  */
id|SiS_SetReg3
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c0
comma
id|i
)paren
suffix:semicolon
multiline_comment|/* set index  */
id|SiS_SetReg3
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c0
comma
id|ARdata
)paren
suffix:semicolon
multiline_comment|/* set data   */
)brace
id|SiS_GetReg2
c_func
(paren
id|SiS_Pr-&gt;SiS_P3da
)paren
suffix:semicolon
multiline_comment|/* reset 3da  */
id|SiS_SetReg3
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c0
comma
l_int|0x14
)paren
suffix:semicolon
multiline_comment|/* set index  */
id|SiS_SetReg3
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c0
comma
l_int|0x00
)paren
suffix:semicolon
multiline_comment|/* set data   */
id|SiS_GetReg2
c_func
(paren
id|SiS_Pr-&gt;SiS_P3da
)paren
suffix:semicolon
id|SiS_SetReg3
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c0
comma
l_int|0x20
)paren
suffix:semicolon
multiline_comment|/* Enable Attribute  */
id|SiS_GetReg2
c_func
(paren
id|SiS_Pr-&gt;SiS_P3da
)paren
suffix:semicolon
)brace
r_void
DECL|function|SiS_SetGRCRegs
id|SiS_SetGRCRegs
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|UCHAR
op_star
id|ROMAddr
comma
id|USHORT
id|StandTableIndex
)paren
(brace
id|UCHAR
id|GRdata
suffix:semicolon
id|USHORT
id|i
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
op_le
l_int|0x08
suffix:semicolon
id|i
op_increment
)paren
(brace
id|GRdata
op_assign
id|SiS_Pr-&gt;SiS_StandTable
(braket
id|StandTableIndex
)braket
dot
id|GRC
(braket
id|i
)braket
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3ce
comma
id|i
comma
id|GRdata
)paren
suffix:semicolon
multiline_comment|/* Set GR(3ce) */
)brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_ModeType
OG
id|ModeVGA
)paren
(brace
id|SiS_SetRegAND
c_func
(paren
id|SiS_Pr-&gt;SiS_P3ce
comma
l_int|0x05
comma
l_int|0xBF
)paren
suffix:semicolon
multiline_comment|/* 256 color disable */
)brace
)brace
r_void
DECL|function|SiS_ClearExt1Regs
id|SiS_ClearExt1Regs
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
)paren
(brace
id|USHORT
id|i
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0x0A
suffix:semicolon
id|i
op_le
l_int|0x0E
suffix:semicolon
id|i
op_increment
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
id|i
comma
l_int|0x00
)paren
suffix:semicolon
multiline_comment|/* Clear SR0A-SR0E */
)brace
multiline_comment|/* TW: 330, 650/LVDS/301LV, 740/LVDS */
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_ge
id|SIS_315H
)paren
(brace
id|SiS_SetRegAND
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x37
comma
l_int|0xFE
)paren
suffix:semicolon
)brace
)brace
r_void
DECL|function|SiS_SetSync
id|SiS_SetSync
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|UCHAR
op_star
id|ROMAddr
comma
id|USHORT
id|RefreshRateTableIndex
)paren
(brace
id|USHORT
id|sync
suffix:semicolon
id|USHORT
id|temp
suffix:semicolon
r_if
c_cond
(paren
id|SiS_Pr-&gt;UseCustomMode
)paren
(brace
id|sync
op_assign
id|SiS_Pr-&gt;CInfoFlag
op_rshift
l_int|8
suffix:semicolon
)brace
r_else
(brace
id|sync
op_assign
id|SiS_Pr-&gt;SiS_RefIndex
(braket
id|RefreshRateTableIndex
)braket
dot
id|Ext_InfoFlag
op_rshift
l_int|8
suffix:semicolon
)brace
id|sync
op_and_assign
l_int|0xC0
suffix:semicolon
id|temp
op_assign
l_int|0x2F
op_or
id|sync
suffix:semicolon
id|SiS_SetReg3
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c2
comma
id|temp
)paren
suffix:semicolon
multiline_comment|/* Set Misc(3c2) */
)brace
r_void
DECL|function|SiS_SetCRT1CRTC
id|SiS_SetCRT1CRTC
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|UCHAR
op_star
id|ROMAddr
comma
id|USHORT
id|ModeNo
comma
id|USHORT
id|ModeIdIndex
comma
id|USHORT
id|RefreshRateTableIndex
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
)paren
(brace
id|UCHAR
id|index
suffix:semicolon
id|USHORT
id|tempah
comma
id|i
comma
id|modeflag
comma
id|j
suffix:semicolon
macro_line|#ifdef SIS315H
id|USHORT
id|temp
suffix:semicolon
id|USHORT
id|ResInfo
comma
id|DisplayType
suffix:semicolon
r_const
id|SiS_LCDACRT1DataStruct
op_star
id|LCDACRT1Ptr
op_assign
l_int|NULL
suffix:semicolon
macro_line|#endif
id|SiS_SetRegAND
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x11
comma
l_int|0x7f
)paren
suffix:semicolon
multiline_comment|/*unlock cr0-7  */
r_if
c_cond
(paren
id|SiS_Pr-&gt;UseCustomMode
)paren
(brace
id|modeflag
op_assign
id|SiS_Pr-&gt;CModeFlag
suffix:semicolon
)brace
r_else
(brace
r_if
c_cond
(paren
id|ModeNo
op_le
l_int|0x13
)paren
(brace
id|modeflag
op_assign
id|SiS_Pr-&gt;SiS_SModeIDTable
(braket
id|ModeIdIndex
)braket
dot
id|St_ModeFlag
suffix:semicolon
)brace
r_else
(brace
id|modeflag
op_assign
id|SiS_Pr-&gt;SiS_EModeIDTable
(braket
id|ModeIdIndex
)braket
dot
id|Ext_ModeFlag
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
(paren
id|SiS_Pr-&gt;SiS_IF_DEF_LVDS
op_eq
l_int|0
)paren
op_logical_and
(paren
id|SiS_Pr-&gt;SiS_VBInfo
op_amp
id|SetCRT2ToLCDA
)paren
)paren
(brace
macro_line|#ifdef SIS315H
multiline_comment|/* LCDA */
id|temp
op_assign
id|SiS_GetLCDACRT1Ptr
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|ModeNo
comma
id|ModeIdIndex
comma
id|RefreshRateTableIndex
comma
op_amp
id|ResInfo
comma
op_amp
id|DisplayType
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|DisplayType
)paren
(brace
r_case
id|Panel_800x600
suffix:colon
id|LCDACRT1Ptr
op_assign
id|SiS_Pr-&gt;SiS_LCDACRT1800x600_1
suffix:semicolon
r_break
suffix:semicolon
r_case
id|Panel_1024x768
suffix:colon
id|LCDACRT1Ptr
op_assign
id|SiS_Pr-&gt;SiS_LCDACRT11024x768_1
suffix:semicolon
r_break
suffix:semicolon
r_case
id|Panel_1280x1024
suffix:colon
id|LCDACRT1Ptr
op_assign
id|SiS_Pr-&gt;SiS_LCDACRT11280x1024_1
suffix:semicolon
r_break
suffix:semicolon
r_case
id|Panel_1400x1050
suffix:colon
id|LCDACRT1Ptr
op_assign
id|SiS_Pr-&gt;SiS_LCDACRT11400x1050_1
suffix:semicolon
r_break
suffix:semicolon
r_case
id|Panel_1600x1200
suffix:colon
id|LCDACRT1Ptr
op_assign
id|SiS_Pr-&gt;SiS_LCDACRT11600x1200_1
suffix:semicolon
r_break
suffix:semicolon
r_case
id|Panel_800x600
op_plus
l_int|16
suffix:colon
id|LCDACRT1Ptr
op_assign
id|SiS_Pr-&gt;SiS_LCDACRT1800x600_1_H
suffix:semicolon
r_break
suffix:semicolon
r_case
id|Panel_1024x768
op_plus
l_int|16
suffix:colon
id|LCDACRT1Ptr
op_assign
id|SiS_Pr-&gt;SiS_LCDACRT11024x768_1_H
suffix:semicolon
r_break
suffix:semicolon
r_case
id|Panel_1280x1024
op_plus
l_int|16
suffix:colon
id|LCDACRT1Ptr
op_assign
id|SiS_Pr-&gt;SiS_LCDACRT11280x1024_1_H
suffix:semicolon
r_break
suffix:semicolon
r_case
id|Panel_1400x1050
op_plus
l_int|16
suffix:colon
id|LCDACRT1Ptr
op_assign
id|SiS_Pr-&gt;SiS_LCDACRT11400x1050_1_H
suffix:semicolon
r_break
suffix:semicolon
r_case
id|Panel_1600x1200
op_plus
l_int|16
suffix:colon
id|LCDACRT1Ptr
op_assign
id|SiS_Pr-&gt;SiS_LCDACRT11600x1200_1_H
suffix:semicolon
r_break
suffix:semicolon
r_case
id|Panel_800x600
op_plus
l_int|32
suffix:colon
id|LCDACRT1Ptr
op_assign
id|SiS_Pr-&gt;SiS_LCDACRT1800x600_2
suffix:semicolon
r_break
suffix:semicolon
r_case
id|Panel_1024x768
op_plus
l_int|32
suffix:colon
id|LCDACRT1Ptr
op_assign
id|SiS_Pr-&gt;SiS_LCDACRT11024x768_2
suffix:semicolon
r_break
suffix:semicolon
r_case
id|Panel_1280x1024
op_plus
l_int|32
suffix:colon
id|LCDACRT1Ptr
op_assign
id|SiS_Pr-&gt;SiS_LCDACRT11280x1024_2
suffix:semicolon
r_break
suffix:semicolon
r_case
id|Panel_1400x1050
op_plus
l_int|32
suffix:colon
id|LCDACRT1Ptr
op_assign
id|SiS_Pr-&gt;SiS_LCDACRT11400x1050_2
suffix:semicolon
r_break
suffix:semicolon
r_case
id|Panel_1600x1200
op_plus
l_int|32
suffix:colon
id|LCDACRT1Ptr
op_assign
id|SiS_Pr-&gt;SiS_LCDACRT11600x1200_2
suffix:semicolon
r_break
suffix:semicolon
r_case
id|Panel_800x600
op_plus
l_int|48
suffix:colon
id|LCDACRT1Ptr
op_assign
id|SiS_Pr-&gt;SiS_LCDACRT1800x600_2_H
suffix:semicolon
r_break
suffix:semicolon
r_case
id|Panel_1024x768
op_plus
l_int|48
suffix:colon
id|LCDACRT1Ptr
op_assign
id|SiS_Pr-&gt;SiS_LCDACRT11024x768_2_H
suffix:semicolon
r_break
suffix:semicolon
r_case
id|Panel_1280x1024
op_plus
l_int|48
suffix:colon
id|LCDACRT1Ptr
op_assign
id|SiS_Pr-&gt;SiS_LCDACRT11280x1024_2_H
suffix:semicolon
r_break
suffix:semicolon
r_case
id|Panel_1400x1050
op_plus
l_int|48
suffix:colon
id|LCDACRT1Ptr
op_assign
id|SiS_Pr-&gt;SiS_LCDACRT11400x1050_2_H
suffix:semicolon
r_break
suffix:semicolon
r_case
id|Panel_1600x1200
op_plus
l_int|48
suffix:colon
id|LCDACRT1Ptr
op_assign
id|SiS_Pr-&gt;SiS_LCDACRT11600x1200_2_H
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
id|LCDACRT1Ptr
op_assign
id|SiS_Pr-&gt;SiS_LCDACRT11024x768_1
suffix:semicolon
r_break
suffix:semicolon
)brace
id|tempah
op_assign
(paren
id|LCDACRT1Ptr
op_plus
id|ResInfo
)paren
op_member_access_from_pointer
id|CR
(braket
l_int|0
)braket
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x00
comma
id|tempah
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0x01
comma
id|j
op_assign
l_int|1
suffix:semicolon
id|i
op_le
l_int|0x07
suffix:semicolon
id|i
op_increment
comma
id|j
op_increment
)paren
(brace
id|tempah
op_assign
(paren
id|LCDACRT1Ptr
op_plus
id|ResInfo
)paren
op_member_access_from_pointer
id|CR
(braket
id|j
)braket
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
id|i
comma
id|tempah
)paren
suffix:semicolon
)brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0x10
comma
id|j
op_assign
l_int|8
suffix:semicolon
id|i
op_le
l_int|0x12
suffix:semicolon
id|i
op_increment
comma
id|j
op_increment
)paren
(brace
id|tempah
op_assign
(paren
id|LCDACRT1Ptr
op_plus
id|ResInfo
)paren
op_member_access_from_pointer
id|CR
(braket
id|j
)braket
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
id|i
comma
id|tempah
)paren
suffix:semicolon
)brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0x15
comma
id|j
op_assign
l_int|11
suffix:semicolon
id|i
op_le
l_int|0x16
suffix:semicolon
id|i
op_increment
comma
id|j
op_increment
)paren
(brace
id|tempah
op_assign
(paren
id|LCDACRT1Ptr
op_plus
id|ResInfo
)paren
op_member_access_from_pointer
id|CR
(braket
id|j
)braket
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
id|i
comma
id|tempah
)paren
suffix:semicolon
)brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0x0A
comma
id|j
op_assign
l_int|13
suffix:semicolon
id|i
op_le
l_int|0x0C
suffix:semicolon
id|i
op_increment
comma
id|j
op_increment
)paren
(brace
id|tempah
op_assign
(paren
id|LCDACRT1Ptr
op_plus
id|ResInfo
)paren
op_member_access_from_pointer
id|CR
(braket
id|j
)braket
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
id|i
comma
id|tempah
)paren
suffix:semicolon
)brace
id|tempah
op_assign
(paren
id|LCDACRT1Ptr
op_plus
id|ResInfo
)paren
op_member_access_from_pointer
id|CR
(braket
l_int|16
)braket
suffix:semicolon
id|tempah
op_and_assign
l_int|0x0E0
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x0E
comma
id|tempah
)paren
suffix:semicolon
id|tempah
op_assign
(paren
id|LCDACRT1Ptr
op_plus
id|ResInfo
)paren
op_member_access_from_pointer
id|CR
(braket
l_int|16
)braket
suffix:semicolon
id|tempah
op_and_assign
l_int|0x01
suffix:semicolon
id|tempah
op_lshift_assign
l_int|5
suffix:semicolon
r_if
c_cond
(paren
id|modeflag
op_amp
id|DoubleScanMode
)paren
(brace
id|tempah
op_or_assign
l_int|0x080
suffix:semicolon
)brace
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x09
comma
op_complement
l_int|0x020
comma
id|tempah
)paren
suffix:semicolon
macro_line|#endif
)brace
r_else
(brace
multiline_comment|/* LVDS, 301, 301B, 301LV, 302LV, ... (non-LCDA) */
r_if
c_cond
(paren
id|SiS_Pr-&gt;UseCustomMode
)paren
(brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0
comma
id|j
op_assign
l_int|0
suffix:semicolon
id|i
op_le
l_int|07
suffix:semicolon
id|i
op_increment
comma
id|j
op_increment
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
id|j
comma
id|SiS_Pr-&gt;CCRT1CRTC
(braket
id|i
)braket
)paren
suffix:semicolon
)brace
r_for
c_loop
(paren
id|j
op_assign
l_int|0x10
suffix:semicolon
id|i
op_le
l_int|10
suffix:semicolon
id|i
op_increment
comma
id|j
op_increment
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
id|j
comma
id|SiS_Pr-&gt;CCRT1CRTC
(braket
id|i
)braket
)paren
suffix:semicolon
)brace
r_for
c_loop
(paren
id|j
op_assign
l_int|0x15
suffix:semicolon
id|i
op_le
l_int|12
suffix:semicolon
id|i
op_increment
comma
id|j
op_increment
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
id|j
comma
id|SiS_Pr-&gt;CCRT1CRTC
(braket
id|i
)braket
)paren
suffix:semicolon
)brace
r_for
c_loop
(paren
id|j
op_assign
l_int|0x0A
suffix:semicolon
id|i
op_le
l_int|15
suffix:semicolon
id|i
op_increment
comma
id|j
op_increment
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
id|j
comma
id|SiS_Pr-&gt;CCRT1CRTC
(braket
id|i
)braket
)paren
suffix:semicolon
)brace
id|tempah
op_assign
id|SiS_Pr-&gt;CCRT1CRTC
(braket
l_int|16
)braket
op_amp
l_int|0xE0
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x0E
comma
id|tempah
)paren
suffix:semicolon
id|tempah
op_assign
id|SiS_Pr-&gt;CCRT1CRTC
(braket
l_int|16
)braket
suffix:semicolon
id|tempah
op_and_assign
l_int|0x01
suffix:semicolon
id|tempah
op_lshift_assign
l_int|5
suffix:semicolon
r_if
c_cond
(paren
id|modeflag
op_amp
id|DoubleScanMode
)paren
(brace
id|tempah
op_or_assign
l_int|0x80
suffix:semicolon
)brace
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x09
comma
l_int|0xDF
comma
id|tempah
)paren
suffix:semicolon
)brace
r_else
(brace
id|index
op_assign
id|SiS_Pr-&gt;SiS_RefIndex
(braket
id|RefreshRateTableIndex
)braket
dot
id|Ext_CRT1CRTC
suffix:semicolon
multiline_comment|/* Get index */
macro_line|#if 0   /* Not any longer... */     
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
OL
id|SIS_315H
)paren
(brace
id|index
op_and_assign
l_int|0x3F
suffix:semicolon
)brace
macro_line|#endif
r_for
c_loop
(paren
id|i
op_assign
l_int|0
comma
id|j
op_assign
l_int|0
suffix:semicolon
id|i
op_le
l_int|07
suffix:semicolon
id|i
op_increment
comma
id|j
op_increment
)paren
(brace
id|tempah
op_assign
id|SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
id|i
)braket
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
id|j
comma
id|tempah
)paren
suffix:semicolon
)brace
r_for
c_loop
(paren
id|j
op_assign
l_int|0x10
suffix:semicolon
id|i
op_le
l_int|10
suffix:semicolon
id|i
op_increment
comma
id|j
op_increment
)paren
(brace
id|tempah
op_assign
id|SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
id|i
)braket
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
id|j
comma
id|tempah
)paren
suffix:semicolon
)brace
r_for
c_loop
(paren
id|j
op_assign
l_int|0x15
suffix:semicolon
id|i
op_le
l_int|12
suffix:semicolon
id|i
op_increment
comma
id|j
op_increment
)paren
(brace
id|tempah
op_assign
id|SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
id|i
)braket
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
id|j
comma
id|tempah
)paren
suffix:semicolon
)brace
r_for
c_loop
(paren
id|j
op_assign
l_int|0x0A
suffix:semicolon
id|i
op_le
l_int|15
suffix:semicolon
id|i
op_increment
comma
id|j
op_increment
)paren
(brace
id|tempah
op_assign
id|SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
id|i
)braket
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
id|j
comma
id|tempah
)paren
suffix:semicolon
)brace
id|tempah
op_assign
id|SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
l_int|16
)braket
suffix:semicolon
id|tempah
op_and_assign
l_int|0xE0
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x0E
comma
id|tempah
)paren
suffix:semicolon
id|tempah
op_assign
id|SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
l_int|16
)braket
suffix:semicolon
id|tempah
op_and_assign
l_int|0x01
suffix:semicolon
id|tempah
op_lshift_assign
l_int|5
suffix:semicolon
r_if
c_cond
(paren
id|modeflag
op_amp
id|DoubleScanMode
)paren
(brace
id|tempah
op_or_assign
l_int|0x80
suffix:semicolon
)brace
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x09
comma
l_int|0xDF
comma
id|tempah
)paren
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_ModeType
OG
id|ModeVGA
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x14
comma
l_int|0x4F
)paren
suffix:semicolon
)brace
)brace
id|BOOLEAN
DECL|function|SiS_GetLCDACRT1Ptr
id|SiS_GetLCDACRT1Ptr
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|UCHAR
op_star
id|ROMAddr
comma
id|USHORT
id|ModeNo
comma
id|USHORT
id|ModeIdIndex
comma
id|USHORT
id|RefreshRateTableIndex
comma
id|USHORT
op_star
id|ResInfo
comma
id|USHORT
op_star
id|DisplayType
)paren
(brace
id|USHORT
id|tempbx
op_assign
l_int|0
comma
id|modeflag
op_assign
l_int|0
suffix:semicolon
id|USHORT
id|CRT2CRTC
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|ModeNo
op_le
l_int|0x13
)paren
(brace
id|modeflag
op_assign
id|SiS_Pr-&gt;SiS_SModeIDTable
(braket
id|ModeIdIndex
)braket
dot
id|St_ModeFlag
suffix:semicolon
id|CRT2CRTC
op_assign
id|SiS_Pr-&gt;SiS_SModeIDTable
(braket
id|ModeIdIndex
)braket
dot
id|St_CRT2CRTC
suffix:semicolon
)brace
r_else
(brace
id|modeflag
op_assign
id|SiS_Pr-&gt;SiS_EModeIDTable
(braket
id|ModeIdIndex
)braket
dot
id|Ext_ModeFlag
suffix:semicolon
id|CRT2CRTC
op_assign
id|SiS_Pr-&gt;SiS_RefIndex
(braket
id|RefreshRateTableIndex
)braket
dot
id|Ext_CRT2CRTC
suffix:semicolon
)brace
id|tempbx
op_assign
id|SiS_Pr-&gt;SiS_LCDResInfo
suffix:semicolon
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_LCDInfo
op_amp
id|DontExpandLCD
)paren
(brace
id|tempbx
op_add_assign
l_int|32
suffix:semicolon
)brace
r_if
c_cond
(paren
id|modeflag
op_amp
id|HalfDCLK
)paren
(brace
id|tempbx
op_add_assign
l_int|16
suffix:semicolon
)brace
op_star
id|ResInfo
op_assign
id|CRT2CRTC
op_amp
l_int|0x3F
suffix:semicolon
op_star
id|DisplayType
op_assign
id|tempbx
suffix:semicolon
r_return
l_int|1
suffix:semicolon
)brace
multiline_comment|/* TW: Set offset and pitch - partly overruled by SetPitch() in XF86 */
r_void
DECL|function|SiS_SetCRT1Offset
id|SiS_SetCRT1Offset
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|UCHAR
op_star
id|ROMAddr
comma
id|USHORT
id|ModeNo
comma
id|USHORT
id|ModeIdIndex
comma
id|USHORT
id|RefreshRateTableIndex
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
)paren
(brace
id|USHORT
id|temp
comma
id|DisplayUnit
comma
id|infoflag
suffix:semicolon
r_if
c_cond
(paren
id|SiS_Pr-&gt;UseCustomMode
)paren
(brace
id|infoflag
op_assign
id|SiS_Pr-&gt;CInfoFlag
suffix:semicolon
)brace
r_else
(brace
id|infoflag
op_assign
id|SiS_Pr-&gt;SiS_RefIndex
(braket
id|RefreshRateTableIndex
)braket
dot
id|Ext_InfoFlag
suffix:semicolon
)brace
id|DisplayUnit
op_assign
id|SiS_GetOffset
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|ModeNo
comma
id|ModeIdIndex
comma
id|RefreshRateTableIndex
comma
id|HwDeviceExtension
)paren
suffix:semicolon
id|temp
op_assign
(paren
id|DisplayUnit
op_rshift
l_int|8
)paren
op_amp
l_int|0x0f
suffix:semicolon
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x0E
comma
l_int|0xF0
comma
id|temp
)paren
suffix:semicolon
id|temp
op_assign
id|DisplayUnit
op_amp
l_int|0xFF
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x13
comma
id|temp
)paren
suffix:semicolon
r_if
c_cond
(paren
id|infoflag
op_amp
id|InterlaceMode
)paren
(brace
id|DisplayUnit
op_rshift_assign
l_int|1
suffix:semicolon
)brace
id|DisplayUnit
op_lshift_assign
l_int|5
suffix:semicolon
id|temp
op_assign
(paren
id|DisplayUnit
op_amp
l_int|0xff00
)paren
op_rshift
l_int|8
suffix:semicolon
r_if
c_cond
(paren
id|DisplayUnit
op_amp
l_int|0xff
)paren
id|temp
op_increment
suffix:semicolon
id|temp
op_increment
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x10
comma
id|temp
)paren
suffix:semicolon
)brace
multiline_comment|/* TW: New from 650/LVDS 1.10.07, 630/301B and 630/LVDS BIOS */
r_void
DECL|function|SiS_ResetCRT1VCLK
id|SiS_ResetCRT1VCLK
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|UCHAR
op_star
id|ROMAddr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
)paren
(brace
id|USHORT
id|index
suffix:semicolon
multiline_comment|/* TW: We only need to do this if Panel Link is to be&n;    *     initialized, thus on 630/LVDS/301BDH, and 650/LVDS&n;    */
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_ge
id|SIS_315H
)paren
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_IF_DEF_LVDS
op_eq
l_int|0
)paren
(brace
r_return
suffix:semicolon
)brace
)brace
r_else
(brace
r_if
c_cond
(paren
(paren
id|SiS_Pr-&gt;SiS_IF_DEF_LVDS
op_eq
l_int|0
)paren
op_logical_and
(paren
op_logical_neg
(paren
id|SiS_Pr-&gt;SiS_VBType
op_amp
id|VB_SIS301BLV302BLV
)paren
)paren
)paren
(brace
r_return
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_ge
id|SIS_315H
)paren
(brace
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x31
comma
l_int|0xCF
comma
l_int|0x20
)paren
suffix:semicolon
)brace
r_else
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x31
comma
l_int|0x20
)paren
suffix:semicolon
)brace
id|index
op_assign
l_int|1
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x2B
comma
id|SiS_Pr-&gt;SiS_VCLKData
(braket
id|index
)braket
dot
id|SR2B
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x2C
comma
id|SiS_Pr-&gt;SiS_VCLKData
(braket
id|index
)braket
dot
id|SR2C
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x2D
comma
l_int|0x80
)paren
suffix:semicolon
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_ge
id|SIS_315H
)paren
(brace
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x31
comma
l_int|0xcf
comma
l_int|0x10
)paren
suffix:semicolon
)brace
r_else
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x31
comma
l_int|0x10
)paren
suffix:semicolon
)brace
id|index
op_assign
l_int|0
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x2B
comma
id|SiS_Pr-&gt;SiS_VCLKData
(braket
id|index
)braket
dot
id|SR2B
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x2C
comma
id|SiS_Pr-&gt;SiS_VCLKData
(braket
id|index
)braket
dot
id|SR2C
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x2D
comma
l_int|0x80
)paren
suffix:semicolon
)brace
r_void
DECL|function|SiS_SetCRT1VCLK
id|SiS_SetCRT1VCLK
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|UCHAR
op_star
id|ROMAddr
comma
id|USHORT
id|ModeNo
comma
id|USHORT
id|ModeIdIndex
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
comma
id|USHORT
id|RefreshRateTableIndex
)paren
(brace
id|USHORT
id|index
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|SiS_Pr-&gt;UseCustomMode
)paren
(brace
id|index
op_assign
id|SiS_GetVCLK2Ptr
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|ModeNo
comma
id|ModeIdIndex
comma
id|RefreshRateTableIndex
comma
id|HwDeviceExtension
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
(paren
id|SiS_Pr-&gt;SiS_VBType
op_amp
id|VB_SIS301BLV302BLV
)paren
op_logical_and
(paren
id|SiS_Pr-&gt;SiS_VBInfo
op_amp
id|SetCRT2ToLCDA
)paren
)paren
(brace
id|SiS_SetRegAND
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x31
comma
l_int|0xCF
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x2B
comma
id|SiS_Pr-&gt;SiS_VBVCLKData
(braket
id|index
)braket
dot
id|Part4_A
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x2C
comma
id|SiS_Pr-&gt;SiS_VBVCLKData
(braket
id|index
)braket
dot
id|Part4_B
)paren
suffix:semicolon
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_ge
id|SIS_315H
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x2D
comma
l_int|0x01
)paren
suffix:semicolon
)brace
r_else
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x2D
comma
l_int|0x80
)paren
suffix:semicolon
)brace
)brace
r_else
(brace
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_ge
id|SIS_315H
)paren
(brace
id|SiS_SetRegAND
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x31
comma
l_int|0xCF
)paren
suffix:semicolon
)brace
r_else
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x31
comma
l_int|0x00
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;UseCustomMode
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x2B
comma
id|SiS_Pr-&gt;CSR2B
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x2C
comma
id|SiS_Pr-&gt;CSR2C
)paren
suffix:semicolon
)brace
r_else
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x2B
comma
id|SiS_Pr-&gt;SiS_VCLKData
(braket
id|index
)braket
dot
id|SR2B
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x2C
comma
id|SiS_Pr-&gt;SiS_VCLKData
(braket
id|index
)braket
dot
id|SR2C
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_ge
id|SIS_315H
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x2D
comma
l_int|0x01
)paren
suffix:semicolon
)brace
r_else
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x2D
comma
l_int|0x80
)paren
suffix:semicolon
)brace
)brace
)brace
macro_line|#if 0  /* TW: Not used */
r_void
id|SiS_IsLowResolution
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|UCHAR
op_star
id|ROMAddr
comma
id|USHORT
id|ModeNo
comma
id|USHORT
id|ModeIdIndex
)paren
(brace
id|USHORT
id|ModeFlag
suffix:semicolon
id|SiS_SetRegAND
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x0F
comma
l_int|0x7F
)paren
suffix:semicolon
r_if
c_cond
(paren
id|ModeNo
OG
l_int|0x13
)paren
(brace
id|ModeFlag
op_assign
id|SiS_Pr-&gt;SiS_EModeIDTable
(braket
id|ModeIdIndex
)braket
dot
id|Ext_ModeFlag
suffix:semicolon
r_if
c_cond
(paren
(paren
id|ModeFlag
op_amp
id|HalfDCLK
)paren
op_logical_and
(paren
id|ModeFlag
op_amp
id|DoubleScanMode
)paren
)paren
(brace
id|SiS_SetRegOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x0F
comma
l_int|0x80
)paren
suffix:semicolon
id|SiS_SetRegAND
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x01
comma
l_int|0xF7
)paren
suffix:semicolon
)brace
)brace
)brace
macro_line|#endif
r_void
DECL|function|SiS_SetCRT1ModeRegs
id|SiS_SetCRT1ModeRegs
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|UCHAR
op_star
id|ROMAddr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
comma
id|USHORT
id|ModeNo
comma
id|USHORT
id|ModeIdIndex
comma
id|USHORT
id|RefreshRateTableIndex
)paren
(brace
id|USHORT
id|data
comma
id|data2
comma
id|data3
suffix:semicolon
id|USHORT
id|infoflag
op_assign
l_int|0
comma
id|modeflag
suffix:semicolon
id|USHORT
id|resindex
comma
id|xres
suffix:semicolon
r_if
c_cond
(paren
id|SiS_Pr-&gt;UseCustomMode
)paren
(brace
id|modeflag
op_assign
id|SiS_Pr-&gt;CModeFlag
suffix:semicolon
id|infoflag
op_assign
id|SiS_Pr-&gt;CInfoFlag
suffix:semicolon
)brace
r_else
(brace
r_if
c_cond
(paren
id|ModeNo
OG
l_int|0x13
)paren
(brace
id|modeflag
op_assign
id|SiS_Pr-&gt;SiS_EModeIDTable
(braket
id|ModeIdIndex
)braket
dot
id|Ext_ModeFlag
suffix:semicolon
id|infoflag
op_assign
id|SiS_Pr-&gt;SiS_RefIndex
(braket
id|RefreshRateTableIndex
)braket
dot
id|Ext_InfoFlag
suffix:semicolon
)brace
r_else
(brace
id|modeflag
op_assign
id|SiS_Pr-&gt;SiS_SModeIDTable
(braket
id|ModeIdIndex
)braket
dot
id|St_ModeFlag
suffix:semicolon
)brace
)brace
id|SiS_SetRegAND
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x1F
comma
l_int|0x3F
)paren
suffix:semicolon
multiline_comment|/* DAC pedestal */
r_if
c_cond
(paren
id|ModeNo
OG
l_int|0x13
)paren
(brace
id|data
op_assign
id|infoflag
suffix:semicolon
)brace
r_else
id|data
op_assign
l_int|0
suffix:semicolon
id|data2
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|ModeNo
OG
l_int|0x13
)paren
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_ModeType
OG
l_int|0x02
)paren
(brace
id|data2
op_or_assign
l_int|0x02
suffix:semicolon
id|data3
op_assign
(paren
id|SiS_Pr-&gt;SiS_ModeType
op_minus
id|ModeVGA
)paren
op_lshift
l_int|2
suffix:semicolon
id|data2
op_or_assign
id|data3
suffix:semicolon
)brace
)brace
macro_line|#ifdef TWDEBUG
id|xf86DrvMsg
c_func
(paren
l_int|0
comma
id|X_INFO
comma
l_string|&quot;Debug: Mode infoflag = %x, Chiptype %d&bslash;n&quot;
comma
id|data
comma
id|HwDeviceExtension-&gt;jChipType
)paren
suffix:semicolon
macro_line|#endif  
r_if
c_cond
(paren
id|data
op_amp
id|InterlaceMode
)paren
(brace
id|data2
op_or_assign
l_int|0x20
suffix:semicolon
)brace
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x06
comma
l_int|0xC0
comma
id|data2
)paren
suffix:semicolon
r_if
c_cond
(paren
id|SiS_Pr-&gt;UseCustomMode
)paren
(brace
id|xres
op_assign
id|SiS_Pr-&gt;CHDisplay
suffix:semicolon
)brace
r_else
(brace
id|resindex
op_assign
id|SiS_GetResInfo
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|ModeNo
comma
id|ModeIdIndex
)paren
suffix:semicolon
r_if
c_cond
(paren
id|ModeNo
op_le
l_int|0x13
)paren
(brace
id|xres
op_assign
id|SiS_Pr-&gt;SiS_StResInfo
(braket
id|resindex
)braket
dot
id|HTotal
suffix:semicolon
)brace
r_else
(brace
id|xres
op_assign
id|SiS_Pr-&gt;SiS_ModeResInfo
(braket
id|resindex
)braket
dot
id|HTotal
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_ne
id|SIS_300
)paren
(brace
id|data
op_assign
l_int|0x0000
suffix:semicolon
r_if
c_cond
(paren
id|infoflag
op_amp
id|InterlaceMode
)paren
(brace
r_if
c_cond
(paren
id|xres
op_eq
l_int|1024
)paren
(brace
id|data
op_assign
l_int|0x0035
suffix:semicolon
)brace
r_else
id|data
op_assign
l_int|0x0048
suffix:semicolon
)brace
id|data2
op_assign
id|data
op_amp
l_int|0x00FF
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x19
comma
id|data2
)paren
suffix:semicolon
id|data2
op_assign
(paren
id|data
op_amp
l_int|0xFF00
)paren
op_rshift
l_int|8
suffix:semicolon
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x1a
comma
l_int|0xFC
comma
id|data2
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|modeflag
op_amp
id|HalfDCLK
)paren
(brace
id|SiS_SetRegOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x01
comma
l_int|0x08
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_300
)paren
(brace
r_if
c_cond
(paren
id|modeflag
op_amp
id|LineCompareOff
)paren
(brace
id|SiS_SetRegOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x0F
comma
l_int|0x08
)paren
suffix:semicolon
)brace
r_else
(brace
id|SiS_SetRegAND
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x0F
comma
l_int|0xF7
)paren
suffix:semicolon
)brace
)brace
r_else
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
OL
id|SIS_315H
)paren
(brace
r_if
c_cond
(paren
id|modeflag
op_amp
id|LineCompareOff
)paren
(brace
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x0F
comma
l_int|0xB7
comma
l_int|0x08
)paren
suffix:semicolon
)brace
r_else
(brace
id|SiS_SetRegAND
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x0F
comma
l_int|0xB7
)paren
suffix:semicolon
)brace
multiline_comment|/* 630 BIOS does something for mode 0x12 here */
)brace
r_else
(brace
r_if
c_cond
(paren
id|modeflag
op_amp
id|LineCompareOff
)paren
(brace
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x0F
comma
l_int|0xB7
comma
l_int|0x08
)paren
suffix:semicolon
)brace
r_else
(brace
id|SiS_SetRegAND
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x0F
comma
l_int|0xB7
)paren
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_ne
id|SIS_300
)paren
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_ModeType
op_eq
id|ModeEGA
)paren
(brace
r_if
c_cond
(paren
id|ModeNo
OG
l_int|0x13
)paren
(brace
id|SiS_SetRegOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x0F
comma
l_int|0x40
)paren
suffix:semicolon
)brace
)brace
)brace
macro_line|#ifdef SIS315H
multiline_comment|/* TW: 315 BIOS sets SR17 at this point */
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_315PRO
)paren
(brace
id|data
op_assign
id|SiS_Get310DRAMType
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|HwDeviceExtension
)paren
suffix:semicolon
id|data
op_assign
id|SiS_Pr-&gt;SiS_SR15
(braket
l_int|2
)braket
(braket
id|data
)braket
suffix:semicolon
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_ModeType
op_eq
id|ModeText
)paren
(brace
id|data
op_and_assign
l_int|0xc7
suffix:semicolon
)brace
r_else
(brace
id|data2
op_assign
id|SiS_GetOffset
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|ModeNo
comma
id|ModeIdIndex
comma
id|RefreshRateTableIndex
comma
id|HwDeviceExtension
)paren
suffix:semicolon
id|data2
op_rshift_assign
l_int|1
suffix:semicolon
r_if
c_cond
(paren
id|infoflag
op_amp
id|InterlaceMode
)paren
(brace
id|data2
op_rshift_assign
l_int|1
suffix:semicolon
)brace
id|data3
op_assign
id|SiS_GetColorDepth
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|ModeNo
comma
id|ModeIdIndex
)paren
suffix:semicolon
id|data3
op_rshift_assign
l_int|1
suffix:semicolon
r_if
c_cond
(paren
id|data3
op_eq
l_int|0
)paren
(brace
id|data3
op_increment
suffix:semicolon
)brace
id|data2
op_div_assign
id|data3
suffix:semicolon
r_if
c_cond
(paren
id|data2
op_ge
l_int|0x50
)paren
(brace
id|data
op_and_assign
l_int|0x0f
suffix:semicolon
id|data
op_or_assign
l_int|0x50
suffix:semicolon
)brace
)brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x17
comma
id|data
)paren
suffix:semicolon
)brace
multiline_comment|/* TW: 330 BIOS sets SR17 at this point */
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_330
)paren
(brace
id|data
op_assign
id|SiS_Get310DRAMType
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|HwDeviceExtension
)paren
suffix:semicolon
id|data
op_assign
id|SiS_Pr-&gt;SiS_SR15
(braket
l_int|2
)braket
(braket
id|data
)braket
suffix:semicolon
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_ModeType
op_le
id|ModeEGA
)paren
(brace
id|data
op_and_assign
l_int|0xc7
suffix:semicolon
)brace
r_else
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;UseCustomMode
)paren
(brace
id|data2
op_assign
id|SiS_Pr-&gt;CSRClock
suffix:semicolon
)brace
r_else
(brace
id|data2
op_assign
id|SiS_GetVCLK2Ptr
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|ModeNo
comma
id|ModeIdIndex
comma
id|RefreshRateTableIndex
comma
id|HwDeviceExtension
)paren
suffix:semicolon
id|data2
op_assign
id|SiS_Pr-&gt;SiS_VCLKData
(braket
id|data2
)braket
dot
id|CLOCK
suffix:semicolon
)brace
id|data3
op_assign
id|SiS_GetColorDepth
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|ModeNo
comma
id|ModeIdIndex
)paren
suffix:semicolon
id|data3
op_rshift_assign
l_int|1
suffix:semicolon
id|data2
op_mul_assign
id|data3
suffix:semicolon
id|data3
op_assign
id|SiS_GetMCLK
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|HwDeviceExtension
)paren
suffix:semicolon
id|data3
op_mul_assign
l_int|1024
suffix:semicolon
id|data2
op_assign
id|data3
op_div
id|data2
suffix:semicolon
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_ModeType
op_ne
id|Mode16Bpp
)paren
(brace
r_if
c_cond
(paren
id|data2
op_ge
l_int|0x19c
)paren
(brace
id|data
op_assign
l_int|0xba
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|data2
op_ge
l_int|0x140
)paren
(brace
id|data
op_assign
l_int|0x7a
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|data2
op_ge
l_int|0x101
)paren
(brace
id|data
op_assign
l_int|0x3a
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|data2
op_ge
l_int|0xf5
)paren
(brace
id|data
op_assign
l_int|0x32
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|data2
op_ge
l_int|0xe2
)paren
(brace
id|data
op_assign
l_int|0x2a
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|data2
op_ge
l_int|0xc4
)paren
(brace
id|data
op_assign
l_int|0x22
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|data2
op_ge
l_int|0xac
)paren
(brace
id|data
op_assign
l_int|0x1a
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|data2
op_ge
l_int|0x9e
)paren
(brace
id|data
op_assign
l_int|0x12
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|data2
op_ge
l_int|0x8e
)paren
(brace
id|data
op_assign
l_int|0x0a
suffix:semicolon
)brace
r_else
id|data
op_assign
l_int|0x02
suffix:semicolon
)brace
r_else
(brace
r_if
c_cond
(paren
id|data2
op_ge
l_int|0x127
)paren
(brace
id|data
op_assign
l_int|0xba
suffix:semicolon
)brace
r_else
id|data
op_assign
l_int|0x7a
suffix:semicolon
)brace
)brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x17
comma
id|data
)paren
suffix:semicolon
)brace
macro_line|#endif
id|data
op_assign
l_int|0x60
suffix:semicolon
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_ModeType
op_ne
id|ModeText
)paren
(brace
id|data
op_xor_assign
l_int|0x60
suffix:semicolon
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_ModeType
op_ne
id|ModeEGA
)paren
(brace
id|data
op_xor_assign
l_int|0xA0
suffix:semicolon
)brace
)brace
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x21
comma
l_int|0x1F
comma
id|data
)paren
suffix:semicolon
id|SiS_SetVCLKState
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|HwDeviceExtension
comma
id|ModeNo
comma
id|RefreshRateTableIndex
comma
id|ModeIdIndex
)paren
suffix:semicolon
macro_line|#ifdef SIS315H
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_ge
id|SIS_315H
)paren
(brace
r_if
c_cond
(paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x31
)paren
op_amp
l_int|0x40
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x52
comma
l_int|0x2c
)paren
suffix:semicolon
)brace
r_else
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x52
comma
l_int|0x6c
)paren
suffix:semicolon
)brace
)brace
macro_line|#endif
)brace
r_void
DECL|function|SiS_SetVCLKState
id|SiS_SetVCLKState
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|UCHAR
op_star
id|ROMAddr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
comma
id|USHORT
id|ModeNo
comma
id|USHORT
id|RefreshRateTableIndex
comma
id|USHORT
id|ModeIdIndex
)paren
(brace
id|USHORT
id|data
comma
id|data2
op_assign
l_int|0
suffix:semicolon
id|USHORT
id|VCLK
comma
id|index
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|ModeNo
op_le
l_int|0x13
)paren
id|VCLK
op_assign
l_int|0
suffix:semicolon
r_else
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;UseCustomMode
)paren
(brace
id|VCLK
op_assign
id|SiS_Pr-&gt;CSRClock
suffix:semicolon
)brace
r_else
(brace
id|index
op_assign
id|SiS_GetVCLK2Ptr
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|ModeNo
comma
id|ModeIdIndex
comma
id|RefreshRateTableIndex
comma
id|HwDeviceExtension
)paren
suffix:semicolon
id|VCLK
op_assign
id|SiS_Pr-&gt;SiS_VCLKData
(braket
id|index
)braket
dot
id|CLOCK
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
OL
id|SIS_315H
)paren
(brace
multiline_comment|/* 300 series */
id|data2
op_assign
l_int|0x00
suffix:semicolon
r_if
c_cond
(paren
id|VCLK
OG
l_int|150
)paren
(brace
id|data2
op_or_assign
l_int|0x80
suffix:semicolon
)brace
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x07
comma
l_int|0x7B
comma
id|data2
)paren
suffix:semicolon
multiline_comment|/* DAC speed */
id|data2
op_assign
l_int|0x00
suffix:semicolon
r_if
c_cond
(paren
id|VCLK
op_ge
l_int|150
)paren
(brace
id|data2
op_or_assign
l_int|0x08
suffix:semicolon
)brace
multiline_comment|/* VCLK &gt; 150 */
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x32
comma
l_int|0xF7
comma
id|data2
)paren
suffix:semicolon
)brace
r_else
(brace
multiline_comment|/* 310/325 series */
id|data
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|VCLK
op_ge
l_int|166
)paren
(brace
id|data
op_or_assign
l_int|0x0c
suffix:semicolon
)brace
multiline_comment|/* TW: Was 200; is 166 in 650, 315 and 330 BIOSes */
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x32
comma
l_int|0xf3
comma
id|data
)paren
suffix:semicolon
r_if
c_cond
(paren
id|VCLK
op_ge
l_int|166
)paren
(brace
multiline_comment|/* TW: Was 200, is 166 in 650, 315 and 330 BIOSes */
id|SiS_SetRegAND
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x1f
comma
l_int|0xe7
)paren
suffix:semicolon
)brace
macro_line|#if 0 /* Not done in 315 and 650/301LV/LVDS BIOSes: */
id|data
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x1F
)paren
suffix:semicolon
multiline_comment|/* DAC pedestal */
id|data
op_and_assign
l_int|0xE7
suffix:semicolon
r_if
c_cond
(paren
id|VCLK
OL
l_int|200
)paren
(brace
id|data
op_or_assign
l_int|0x10
suffix:semicolon
)brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x1F
comma
id|data
)paren
suffix:semicolon
multiline_comment|/* DAC pedestal */
macro_line|#endif
)brace
id|data2
op_assign
l_int|0x03
suffix:semicolon
r_if
c_cond
(paren
(paren
id|VCLK
op_ge
l_int|135
)paren
op_logical_and
(paren
id|VCLK
OL
l_int|160
)paren
)paren
(brace
id|data2
op_assign
l_int|0x02
suffix:semicolon
)brace
r_if
c_cond
(paren
(paren
id|VCLK
op_ge
l_int|160
)paren
op_logical_and
(paren
id|VCLK
OL
l_int|260
)paren
)paren
(brace
id|data2
op_assign
l_int|0x01
suffix:semicolon
)brace
r_if
c_cond
(paren
id|VCLK
op_ge
l_int|260
)paren
(brace
id|data2
op_assign
l_int|0x00
suffix:semicolon
)brace
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_540
)paren
(brace
r_if
c_cond
(paren
(paren
id|VCLK
op_eq
l_int|203
)paren
op_logical_or
(paren
id|VCLK
OL
l_int|234
)paren
)paren
(brace
id|data2
op_assign
l_int|0x02
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
OL
id|SIS_315H
)paren
(brace
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x07
comma
l_int|0xFC
comma
id|data2
)paren
suffix:semicolon
multiline_comment|/* DAC speed */
)brace
r_else
(brace
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
OG
id|SIS_315PRO
)paren
(brace
multiline_comment|/* TW: This &quot;if&quot; is done in 330 and 650/LVDS/301LV BIOSes; Not in 315 BIOS */
r_if
c_cond
(paren
id|ModeNo
OG
l_int|0x13
)paren
(brace
id|data2
op_and_assign
l_int|0xfc
suffix:semicolon
)brace
)brace
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x07
comma
l_int|0xF8
comma
id|data2
)paren
suffix:semicolon
multiline_comment|/* DAC speed */
)brace
)brace
r_void
DECL|function|SiS_LoadDAC
id|SiS_LoadDAC
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
comma
id|UCHAR
op_star
id|ROMAddr
comma
id|USHORT
id|ModeNo
comma
id|USHORT
id|ModeIdIndex
)paren
(brace
id|USHORT
id|data
comma
id|data2
suffix:semicolon
id|USHORT
id|time
comma
id|i
comma
id|j
comma
id|k
suffix:semicolon
id|USHORT
id|m
comma
id|n
comma
id|o
suffix:semicolon
id|USHORT
id|si
comma
id|di
comma
id|bx
comma
id|dl
suffix:semicolon
id|USHORT
id|al
comma
id|ah
comma
id|dh
suffix:semicolon
id|USHORT
id|DACAddr
comma
id|DACData
comma
id|shiftflag
suffix:semicolon
r_const
id|USHORT
op_star
id|table
op_assign
l_int|NULL
suffix:semicolon
macro_line|#if 0
id|USHORT
id|tempah
comma
id|tempch
comma
id|tempcl
comma
id|tempdh
comma
id|tempal
comma
id|tempbx
suffix:semicolon
macro_line|#endif
r_if
c_cond
(paren
id|ModeNo
op_le
l_int|0x13
)paren
(brace
id|data
op_assign
id|SiS_Pr-&gt;SiS_SModeIDTable
(braket
id|ModeIdIndex
)braket
dot
id|St_ModeFlag
suffix:semicolon
)brace
r_else
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;UseCustomMode
)paren
(brace
id|data
op_assign
id|SiS_Pr-&gt;CModeFlag
suffix:semicolon
)brace
r_else
(brace
id|data
op_assign
id|SiS_Pr-&gt;SiS_EModeIDTable
(braket
id|ModeIdIndex
)braket
dot
id|Ext_ModeFlag
suffix:semicolon
)brace
)brace
macro_line|#if 0
r_if
c_cond
(paren
op_logical_neg
(paren
id|ds
suffix:colon
l_int|489
op_amp
l_int|0x08
)paren
)paren
(brace
macro_line|#endif
id|data
op_and_assign
id|DACInfoFlag
suffix:semicolon
id|time
op_assign
l_int|64
suffix:semicolon
r_if
c_cond
(paren
id|data
op_eq
l_int|0x00
)paren
(brace
id|table
op_assign
id|SiS_MDA_DAC
suffix:semicolon
)brace
r_if
c_cond
(paren
id|data
op_eq
l_int|0x08
)paren
(brace
id|table
op_assign
id|SiS_CGA_DAC
suffix:semicolon
)brace
r_if
c_cond
(paren
id|data
op_eq
l_int|0x10
)paren
(brace
id|table
op_assign
id|SiS_EGA_DAC
suffix:semicolon
)brace
r_if
c_cond
(paren
id|data
op_eq
l_int|0x18
)paren
(brace
id|time
op_assign
l_int|256
suffix:semicolon
id|table
op_assign
id|SiS_VGA_DAC
suffix:semicolon
)brace
r_if
c_cond
(paren
id|time
op_eq
l_int|256
)paren
(brace
id|j
op_assign
l_int|16
suffix:semicolon
)brace
r_else
id|j
op_assign
id|time
suffix:semicolon
r_if
c_cond
(paren
(paren
(paren
id|SiS_Pr-&gt;SiS_VBInfo
op_amp
id|SetCRT2ToLCD
)paren
op_logical_and
multiline_comment|/* 301B-DH LCD */
(paren
id|SiS_Pr-&gt;SiS_VBType
op_amp
id|VB_NoLCD
)paren
)paren
op_logical_or
(paren
id|SiS_Pr-&gt;SiS_VBInfo
op_amp
id|SetCRT2ToLCDA
)paren
op_logical_or
multiline_comment|/* LCDA */
(paren
op_logical_neg
(paren
id|SiS_Pr-&gt;SiS_SetFlag
op_amp
id|ProgrammingCRT2
)paren
)paren
)paren
(brace
multiline_comment|/* Programming CRT1 */
id|DACAddr
op_assign
id|SiS_Pr-&gt;SiS_P3c8
suffix:semicolon
id|DACData
op_assign
id|SiS_Pr-&gt;SiS_P3c9
suffix:semicolon
id|shiftflag
op_assign
l_int|0
suffix:semicolon
id|SiS_SetReg3
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c6
comma
l_int|0xFF
)paren
suffix:semicolon
)brace
r_else
(brace
id|shiftflag
op_assign
l_int|1
suffix:semicolon
id|DACAddr
op_assign
id|SiS_Pr-&gt;SiS_Part5Port
suffix:semicolon
id|DACData
op_assign
id|SiS_Pr-&gt;SiS_Part5Port
op_plus
l_int|1
suffix:semicolon
)brace
id|SiS_SetReg3
c_func
(paren
id|DACAddr
comma
l_int|0x00
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|j
suffix:semicolon
id|i
op_increment
)paren
(brace
id|data
op_assign
id|table
(braket
id|i
)braket
suffix:semicolon
r_for
c_loop
(paren
id|k
op_assign
l_int|0
suffix:semicolon
id|k
OL
l_int|3
suffix:semicolon
id|k
op_increment
)paren
(brace
id|data2
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|data
op_amp
l_int|0x01
)paren
(brace
id|data2
op_assign
l_int|0x2A
suffix:semicolon
)brace
r_if
c_cond
(paren
id|data
op_amp
l_int|0x02
)paren
(brace
id|data2
op_add_assign
l_int|0x15
suffix:semicolon
)brace
r_if
c_cond
(paren
id|shiftflag
)paren
(brace
id|data2
op_lshift_assign
l_int|2
suffix:semicolon
)brace
id|SiS_SetReg3
c_func
(paren
id|DACData
comma
id|data2
)paren
suffix:semicolon
id|data
op_rshift_assign
l_int|2
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
id|time
op_eq
l_int|256
)paren
(brace
r_for
c_loop
(paren
id|i
op_assign
l_int|16
suffix:semicolon
id|i
OL
l_int|32
suffix:semicolon
id|i
op_increment
)paren
(brace
id|data
op_assign
id|table
(braket
id|i
)braket
suffix:semicolon
r_if
c_cond
(paren
id|shiftflag
)paren
(brace
id|data
op_lshift_assign
l_int|2
suffix:semicolon
)brace
r_for
c_loop
(paren
id|k
op_assign
l_int|0
suffix:semicolon
id|k
OL
l_int|3
suffix:semicolon
id|k
op_increment
)paren
(brace
id|SiS_SetReg3
c_func
(paren
id|DACData
comma
id|data
)paren
suffix:semicolon
)brace
)brace
id|si
op_assign
l_int|32
suffix:semicolon
r_for
c_loop
(paren
id|m
op_assign
l_int|0
suffix:semicolon
id|m
OL
l_int|9
suffix:semicolon
id|m
op_increment
)paren
(brace
id|di
op_assign
id|si
suffix:semicolon
id|bx
op_assign
id|si
op_plus
l_int|4
suffix:semicolon
id|dl
op_assign
l_int|0
suffix:semicolon
r_for
c_loop
(paren
id|n
op_assign
l_int|0
suffix:semicolon
id|n
OL
l_int|3
suffix:semicolon
id|n
op_increment
)paren
(brace
r_for
c_loop
(paren
id|o
op_assign
l_int|0
suffix:semicolon
id|o
OL
l_int|5
suffix:semicolon
id|o
op_increment
)paren
(brace
id|dh
op_assign
id|table
(braket
id|si
)braket
suffix:semicolon
id|ah
op_assign
id|table
(braket
id|di
)braket
suffix:semicolon
id|al
op_assign
id|table
(braket
id|bx
)braket
suffix:semicolon
id|si
op_increment
suffix:semicolon
id|SiS_WriteDAC
c_func
(paren
id|SiS_Pr
comma
id|DACData
comma
id|shiftflag
comma
id|dl
comma
id|ah
comma
id|al
comma
id|dh
)paren
suffix:semicolon
)brace
id|si
op_sub_assign
l_int|2
suffix:semicolon
r_for
c_loop
(paren
id|o
op_assign
l_int|0
suffix:semicolon
id|o
OL
l_int|3
suffix:semicolon
id|o
op_increment
)paren
(brace
id|dh
op_assign
id|table
(braket
id|bx
)braket
suffix:semicolon
id|ah
op_assign
id|table
(braket
id|di
)braket
suffix:semicolon
id|al
op_assign
id|table
(braket
id|si
)braket
suffix:semicolon
id|si
op_decrement
suffix:semicolon
id|SiS_WriteDAC
c_func
(paren
id|SiS_Pr
comma
id|DACData
comma
id|shiftflag
comma
id|dl
comma
id|ah
comma
id|al
comma
id|dh
)paren
suffix:semicolon
)brace
id|dl
op_increment
suffix:semicolon
)brace
multiline_comment|/* for n &lt; 3 */
id|si
op_add_assign
l_int|5
suffix:semicolon
)brace
multiline_comment|/* for m &lt; 9 */
)brace
macro_line|#if 0
)brace
multiline_comment|/* ds:489 &amp; 0x08 */
macro_line|#endif
macro_line|#if 0
r_if
c_cond
(paren
(paren
op_logical_neg
(paren
id|ds
suffix:colon
l_int|489
op_amp
l_int|0x08
)paren
)paren
op_logical_and
(paren
id|ds
suffix:colon
l_int|489
op_amp
l_int|0x06
)paren
)paren
(brace
id|tempbx
op_assign
l_int|0
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|256
suffix:semicolon
id|i
op_increment
)paren
(brace
id|SiS_SetReg3
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c8
op_minus
l_int|1
comma
id|tempbx
)paren
suffix:semicolon
multiline_comment|/* 7f87 */
id|tempah
op_assign
id|SiS_GetReg3
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c8
op_plus
l_int|1
)paren
suffix:semicolon
multiline_comment|/* 7f83 */
id|tempch
op_assign
id|SiS_GetReg3
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c8
op_plus
l_int|1
)paren
suffix:semicolon
id|tempcl
op_assign
id|SiS_GetReg3
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c8
op_plus
l_int|1
)paren
suffix:semicolon
id|tempdh
op_assign
id|tempah
suffix:semicolon
id|tempal
op_assign
l_int|0x4d
op_star
id|tempdh
suffix:semicolon
multiline_comment|/* 7fb8 */
id|tempbx
op_add_assign
id|tempal
suffix:semicolon
id|tempal
op_assign
l_int|0x97
op_star
id|tempch
suffix:semicolon
id|tempbx
op_add_assign
id|tempal
suffix:semicolon
id|tempal
op_assign
l_int|0x1c
op_star
id|tempcl
suffix:semicolon
id|tempbx
op_add_assign
id|tempal
suffix:semicolon
r_if
c_cond
(paren
(paren
id|tempbx
op_amp
l_int|0x00ff
)paren
OG
l_int|0x80
)paren
(brace
id|tempbx
op_add_assign
l_int|0x100
suffix:semicolon
)brace
id|tempdh
op_assign
(paren
id|tempbx
op_amp
l_int|0x00ff
)paren
op_rshift
l_int|8
suffix:semicolon
id|tempch
op_assign
id|tempdh
suffix:semicolon
id|tempcl
op_assign
id|tempdh
suffix:semicolon
id|SiS_SetReg3
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c8
comma
(paren
id|tempbx
op_amp
l_int|0xff
)paren
)paren
suffix:semicolon
multiline_comment|/* 7f7c */
id|SiS_SetReg3
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c8
op_plus
l_int|1
comma
id|tempdh
)paren
suffix:semicolon
multiline_comment|/* 7f92 */
id|SiS_SetReg3
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c8
op_plus
l_int|1
comma
id|tempch
)paren
suffix:semicolon
id|SiS_SetReg3
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c8
op_plus
l_int|1
comma
id|tempcl
)paren
suffix:semicolon
)brace
)brace
macro_line|#endif
)brace
r_void
DECL|function|SiS_WriteDAC
id|SiS_WriteDAC
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|USHORT
id|DACData
comma
id|USHORT
id|shiftflag
comma
id|USHORT
id|dl
comma
id|USHORT
id|ah
comma
id|USHORT
id|al
comma
id|USHORT
id|dh
)paren
(brace
id|USHORT
id|temp
suffix:semicolon
id|USHORT
id|bh
comma
id|bl
suffix:semicolon
id|bh
op_assign
id|ah
suffix:semicolon
id|bl
op_assign
id|al
suffix:semicolon
r_if
c_cond
(paren
id|dl
op_ne
l_int|0
)paren
(brace
id|temp
op_assign
id|bh
suffix:semicolon
id|bh
op_assign
id|dh
suffix:semicolon
id|dh
op_assign
id|temp
suffix:semicolon
r_if
c_cond
(paren
id|dl
op_eq
l_int|1
)paren
(brace
id|temp
op_assign
id|bl
suffix:semicolon
id|bl
op_assign
id|dh
suffix:semicolon
id|dh
op_assign
id|temp
suffix:semicolon
)brace
r_else
(brace
id|temp
op_assign
id|bl
suffix:semicolon
id|bl
op_assign
id|bh
suffix:semicolon
id|bh
op_assign
id|temp
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
id|shiftflag
)paren
(brace
id|dh
op_lshift_assign
l_int|2
suffix:semicolon
id|bh
op_lshift_assign
l_int|2
suffix:semicolon
id|bl
op_lshift_assign
l_int|2
suffix:semicolon
)brace
id|SiS_SetReg3
c_func
(paren
id|DACData
comma
(paren
id|USHORT
)paren
id|dh
)paren
suffix:semicolon
id|SiS_SetReg3
c_func
(paren
id|DACData
comma
(paren
id|USHORT
)paren
id|bh
)paren
suffix:semicolon
id|SiS_SetReg3
c_func
(paren
id|DACData
comma
(paren
id|USHORT
)paren
id|bl
)paren
suffix:semicolon
)brace
r_static
id|ULONG
DECL|function|GetDRAMSize
id|GetDRAMSize
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
)paren
(brace
id|ULONG
id|AdapterMemorySize
op_assign
l_int|0
suffix:semicolon
macro_line|#ifdef SIS315H
id|USHORT
id|counter
suffix:semicolon
macro_line|#endif
macro_line|#ifdef SIS315H
r_if
c_cond
(paren
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_315H
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_315
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_315PRO
)paren
)paren
(brace
id|counter
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x14
)paren
suffix:semicolon
id|AdapterMemorySize
op_assign
l_int|1
op_lshift
(paren
(paren
id|counter
op_amp
l_int|0xF0
)paren
op_rshift
l_int|4
)paren
suffix:semicolon
id|counter
op_rshift_assign
l_int|2
suffix:semicolon
id|counter
op_and_assign
l_int|0x03
suffix:semicolon
r_if
c_cond
(paren
id|counter
op_eq
l_int|0x02
)paren
(brace
id|AdapterMemorySize
op_add_assign
(paren
id|AdapterMemorySize
op_div
l_int|2
)paren
suffix:semicolon
multiline_comment|/* DDR asymetric */
)brace
r_else
r_if
c_cond
(paren
id|counter
op_ne
l_int|0
)paren
(brace
id|AdapterMemorySize
op_lshift_assign
l_int|1
suffix:semicolon
multiline_comment|/* SINGLE_CHANNEL_2_RANK or DUAL_CHANNEL_1_RANK */
)brace
id|AdapterMemorySize
op_mul_assign
(paren
l_int|1024
op_star
l_int|1024
)paren
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_330
)paren
(brace
id|counter
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x14
)paren
suffix:semicolon
id|AdapterMemorySize
op_assign
l_int|1
op_lshift
(paren
(paren
id|counter
op_amp
l_int|0xF0
)paren
op_rshift
l_int|4
)paren
suffix:semicolon
id|counter
op_and_assign
l_int|0x0c
suffix:semicolon
r_if
c_cond
(paren
id|counter
op_ne
l_int|0
)paren
(brace
id|AdapterMemorySize
op_lshift_assign
l_int|1
suffix:semicolon
)brace
id|AdapterMemorySize
op_mul_assign
(paren
l_int|1024
op_star
l_int|1024
)paren
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_550
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_740
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_650
)paren
)paren
(brace
id|counter
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x14
)paren
op_amp
l_int|0x3F
suffix:semicolon
id|counter
op_increment
suffix:semicolon
id|AdapterMemorySize
op_assign
id|counter
op_star
l_int|4
suffix:semicolon
id|AdapterMemorySize
op_mul_assign
(paren
l_int|1024
op_star
l_int|1024
)paren
suffix:semicolon
)brace
macro_line|#endif
macro_line|#ifdef SIS300
r_if
c_cond
(paren
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_300
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_540
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_630
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_730
)paren
)paren
(brace
id|AdapterMemorySize
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x14
)paren
op_amp
l_int|0x3F
suffix:semicolon
id|AdapterMemorySize
op_increment
suffix:semicolon
id|AdapterMemorySize
op_mul_assign
(paren
l_int|1024
op_star
l_int|1024
)paren
suffix:semicolon
)brace
macro_line|#endif
r_return
id|AdapterMemorySize
suffix:semicolon
)brace
macro_line|#ifndef LINUX_XF86
r_void
DECL|function|SiS_ClearBuffer
id|SiS_ClearBuffer
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
comma
id|USHORT
id|ModeNo
)paren
(brace
id|PVOID
id|VideoMemoryAddress
op_assign
(paren
id|PVOID
)paren
id|HwDeviceExtension-&gt;pjVideoMemoryAddress
suffix:semicolon
id|ULONG
id|AdapterMemorySize
op_assign
(paren
id|ULONG
)paren
id|HwDeviceExtension-&gt;ulVideoMemorySize
suffix:semicolon
id|PUSHORT
id|pBuffer
suffix:semicolon
r_int
id|i
suffix:semicolon
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_ModeType
op_ge
id|ModeEGA
)paren
(brace
r_if
c_cond
(paren
id|ModeNo
OG
l_int|0x13
)paren
(brace
id|AdapterMemorySize
op_assign
id|GetDRAMSize
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
)paren
suffix:semicolon
id|SiS_SetMemory
c_func
(paren
id|VideoMemoryAddress
comma
id|AdapterMemorySize
comma
l_int|0
)paren
suffix:semicolon
)brace
r_else
(brace
id|pBuffer
op_assign
id|VideoMemoryAddress
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|0x4000
suffix:semicolon
id|i
op_increment
)paren
(brace
id|pBuffer
(braket
id|i
)braket
op_assign
l_int|0x0000
suffix:semicolon
)brace
)brace
)brace
r_else
(brace
id|pBuffer
op_assign
id|VideoMemoryAddress
suffix:semicolon
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_ModeType
OL
id|ModeCGA
)paren
(brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|0x4000
suffix:semicolon
id|i
op_increment
)paren
(brace
id|pBuffer
(braket
id|i
)braket
op_assign
l_int|0x0720
suffix:semicolon
)brace
)brace
r_else
(brace
id|SiS_SetMemory
c_func
(paren
id|VideoMemoryAddress
comma
l_int|0x8000
comma
l_int|0
)paren
suffix:semicolon
)brace
)brace
)brace
macro_line|#endif
r_void
DECL|function|SiS_DisplayOn
id|SiS_DisplayOn
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
)paren
(brace
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x01
comma
l_int|0xDF
comma
l_int|0x00
)paren
suffix:semicolon
)brace
r_void
DECL|function|SiS_DisplayOff
id|SiS_DisplayOff
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
)paren
(brace
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x01
comma
l_int|0xDF
comma
l_int|0x20
)paren
suffix:semicolon
)brace
multiline_comment|/* ========================================== */
multiline_comment|/*  SR CRTC GR */
r_void
DECL|function|SiS_SetReg1
id|SiS_SetReg1
c_func
(paren
id|USHORT
id|port
comma
id|USHORT
id|index
comma
id|USHORT
id|data
)paren
(brace
id|OutPortByte
c_func
(paren
id|port
comma
id|index
)paren
suffix:semicolon
id|OutPortByte
c_func
(paren
id|port
op_plus
l_int|1
comma
id|data
)paren
suffix:semicolon
)brace
multiline_comment|/* ========================================== */
multiline_comment|/*  AR(3C0) */
r_void
DECL|function|SiS_SetReg2
id|SiS_SetReg2
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|USHORT
id|port
comma
id|USHORT
id|index
comma
id|USHORT
id|data
)paren
(brace
id|InPortByte
c_func
(paren
id|port
op_plus
l_int|0x3da
op_minus
l_int|0x3c0
)paren
suffix:semicolon
id|OutPortByte
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c0
comma
id|index
)paren
suffix:semicolon
id|OutPortByte
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c0
comma
id|data
)paren
suffix:semicolon
id|OutPortByte
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c0
comma
l_int|0x20
)paren
suffix:semicolon
)brace
r_void
DECL|function|SiS_SetReg3
id|SiS_SetReg3
c_func
(paren
id|USHORT
id|port
comma
id|USHORT
id|data
)paren
(brace
id|OutPortByte
c_func
(paren
id|port
comma
id|data
)paren
suffix:semicolon
)brace
r_void
DECL|function|SiS_SetReg4
id|SiS_SetReg4
c_func
(paren
id|USHORT
id|port
comma
id|ULONG
id|data
)paren
(brace
id|OutPortLong
c_func
(paren
id|port
comma
id|data
)paren
suffix:semicolon
)brace
r_void
DECL|function|SiS_SetReg5
id|SiS_SetReg5
c_func
(paren
id|USHORT
id|port
comma
id|USHORT
id|data
)paren
(brace
id|OutPortWord
c_func
(paren
id|port
comma
id|data
)paren
suffix:semicolon
)brace
DECL|function|SiS_GetReg1
id|UCHAR
id|SiS_GetReg1
c_func
(paren
id|USHORT
id|port
comma
id|USHORT
id|index
)paren
(brace
id|UCHAR
id|data
suffix:semicolon
id|OutPortByte
c_func
(paren
id|port
comma
id|index
)paren
suffix:semicolon
id|data
op_assign
id|InPortByte
c_func
(paren
id|port
op_plus
l_int|1
)paren
suffix:semicolon
r_return
id|data
suffix:semicolon
)brace
id|UCHAR
DECL|function|SiS_GetReg2
id|SiS_GetReg2
c_func
(paren
id|USHORT
id|port
)paren
(brace
id|UCHAR
id|data
suffix:semicolon
id|data
op_assign
id|InPortByte
c_func
(paren
id|port
)paren
suffix:semicolon
r_return
id|data
suffix:semicolon
)brace
id|ULONG
DECL|function|SiS_GetReg3
id|SiS_GetReg3
c_func
(paren
id|USHORT
id|port
)paren
(brace
id|ULONG
id|data
suffix:semicolon
id|data
op_assign
id|InPortLong
c_func
(paren
id|port
)paren
suffix:semicolon
r_return
id|data
suffix:semicolon
)brace
id|USHORT
DECL|function|SiS_GetReg4
id|SiS_GetReg4
c_func
(paren
id|USHORT
id|port
)paren
(brace
id|ULONG
id|data
suffix:semicolon
id|data
op_assign
id|InPortWord
c_func
(paren
id|port
)paren
suffix:semicolon
r_return
id|data
suffix:semicolon
)brace
r_void
DECL|function|SiS_ClearDAC
id|SiS_ClearDAC
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|ULONG
id|port
)paren
(brace
r_int
id|i
suffix:semicolon
id|OutPortByte
c_func
(paren
id|port
comma
l_int|0
)paren
suffix:semicolon
id|port
op_increment
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
(paren
l_int|256
op_star
l_int|3
)paren
suffix:semicolon
id|i
op_increment
)paren
(brace
id|OutPortByte
c_func
(paren
id|port
comma
l_int|0
)paren
suffix:semicolon
)brace
)brace
macro_line|#if 0  /* TW: Unused */
r_void
id|SiS_SetInterlace
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|UCHAR
op_star
id|ROMAddr
comma
id|USHORT
id|ModeNo
comma
id|USHORT
id|RefreshRateTableIndex
)paren
(brace
id|ULONG
id|Temp
suffix:semicolon
id|USHORT
id|data
comma
id|Temp2
suffix:semicolon
r_if
c_cond
(paren
id|ModeNo
op_le
l_int|0x13
)paren
r_return
suffix:semicolon
id|Temp
op_assign
(paren
id|ULONG
)paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x01
)paren
suffix:semicolon
id|Temp
op_increment
suffix:semicolon
id|Temp
op_lshift_assign
l_int|3
suffix:semicolon
r_if
c_cond
(paren
id|Temp
op_eq
l_int|1024
)paren
(brace
id|data
op_assign
l_int|0x0035
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|Temp
op_eq
l_int|1280
)paren
(brace
id|data
op_assign
l_int|0x0048
suffix:semicolon
)brace
r_else
id|data
op_assign
l_int|0x0000
suffix:semicolon
id|Temp2
op_assign
id|SiS_Pr-&gt;SiS_RefIndex
(braket
id|RefreshRateTableIndex
)braket
dot
id|Ext_InfoFlag
suffix:semicolon
id|Temp2
op_and_assign
id|InterlaceMode
suffix:semicolon
r_if
c_cond
(paren
id|Temp2
op_eq
l_int|0
)paren
(brace
id|data
op_assign
l_int|0x0000
suffix:semicolon
)brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x19
comma
id|data
)paren
suffix:semicolon
id|Temp
op_assign
(paren
id|ULONG
)paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x1A
)paren
suffix:semicolon
id|Temp
op_assign
(paren
id|USHORT
)paren
(paren
id|Temp
op_amp
l_int|0xFC
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x1A
comma
(paren
id|USHORT
)paren
id|Temp
)paren
suffix:semicolon
id|Temp
op_assign
(paren
id|ULONG
)paren
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x0f
)paren
suffix:semicolon
id|Temp2
op_assign
(paren
id|USHORT
)paren
id|Temp
op_amp
l_int|0xBF
suffix:semicolon
r_if
c_cond
(paren
id|ModeNo
op_eq
l_int|0x37
)paren
(brace
id|Temp2
op_or_assign
l_int|0x40
suffix:semicolon
)brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x1A
comma
(paren
id|USHORT
)paren
id|Temp2
)paren
suffix:semicolon
)brace
macro_line|#endif
macro_line|#ifdef SIS315H
r_void
DECL|function|SiS_SetCRT1FIFO_310
id|SiS_SetCRT1FIFO_310
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|UCHAR
op_star
id|ROMAddr
comma
id|USHORT
id|ModeNo
comma
id|USHORT
id|ModeIdIndex
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
)paren
(brace
id|USHORT
id|modeflag
suffix:semicolon
id|SiS_SetRegAND
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x3D
comma
l_int|0xFE
)paren
suffix:semicolon
multiline_comment|/* disable auto-threshold */
r_if
c_cond
(paren
id|ModeNo
OG
l_int|0x13
)paren
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;UseCustomMode
)paren
(brace
id|modeflag
op_assign
id|SiS_Pr-&gt;CModeFlag
suffix:semicolon
)brace
r_else
(brace
id|modeflag
op_assign
id|SiS_Pr-&gt;SiS_EModeIDTable
(braket
id|ModeIdIndex
)braket
dot
id|Ext_ModeFlag
suffix:semicolon
)brace
r_if
c_cond
(paren
(paren
op_logical_neg
(paren
id|modeflag
op_amp
id|DoubleScanMode
)paren
)paren
op_logical_or
(paren
op_logical_neg
(paren
id|modeflag
op_amp
id|HalfDCLK
)paren
)paren
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x08
comma
l_int|0x34
)paren
suffix:semicolon
id|SiS_SetRegAND
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x09
comma
l_int|0xF0
)paren
suffix:semicolon
id|SiS_SetRegOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x3D
comma
l_int|0x01
)paren
suffix:semicolon
)brace
r_else
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x08
comma
l_int|0xAE
)paren
suffix:semicolon
id|SiS_SetRegAND
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x09
comma
l_int|0xF0
)paren
suffix:semicolon
)brace
)brace
r_else
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x08
comma
l_int|0xAE
)paren
suffix:semicolon
id|SiS_SetRegAND
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x09
comma
l_int|0xF0
)paren
suffix:semicolon
)brace
)brace
macro_line|#endif
macro_line|#ifdef SIS300
r_void
DECL|function|SiS_SetCRT1FIFO_300
id|SiS_SetCRT1FIFO_300
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|UCHAR
op_star
id|ROMAddr
comma
id|USHORT
id|ModeNo
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
comma
id|USHORT
id|RefreshRateTableIndex
)paren
(brace
id|USHORT
id|ThresholdLow
op_assign
l_int|0
suffix:semicolon
id|USHORT
id|index
comma
id|VCLK
comma
id|MCLK
comma
id|colorth
op_assign
l_int|0
suffix:semicolon
id|USHORT
id|tempah
comma
id|temp
suffix:semicolon
r_if
c_cond
(paren
id|ModeNo
OG
l_int|0x13
)paren
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;UseCustomMode
)paren
(brace
id|VCLK
op_assign
id|SiS_Pr-&gt;CSRClock
suffix:semicolon
)brace
r_else
(brace
id|index
op_assign
id|SiS_Pr-&gt;SiS_RefIndex
(braket
id|RefreshRateTableIndex
)braket
dot
id|Ext_CRTVCLK
suffix:semicolon
id|index
op_and_assign
l_int|0x3F
suffix:semicolon
id|VCLK
op_assign
id|SiS_Pr-&gt;SiS_VCLKData
(braket
id|index
)braket
dot
id|CLOCK
suffix:semicolon
multiline_comment|/* Get VCLK  */
)brace
r_switch
c_cond
(paren
id|SiS_Pr-&gt;SiS_ModeType
op_minus
id|ModeEGA
)paren
(brace
multiline_comment|/* Get half colordepth */
r_case
l_int|0
suffix:colon
id|colorth
op_assign
l_int|1
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|1
suffix:colon
id|colorth
op_assign
l_int|1
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|2
suffix:colon
id|colorth
op_assign
l_int|2
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|3
suffix:colon
id|colorth
op_assign
l_int|2
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|4
suffix:colon
id|colorth
op_assign
l_int|3
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|5
suffix:colon
id|colorth
op_assign
l_int|4
suffix:semicolon
r_break
suffix:semicolon
)brace
id|index
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x3A
)paren
suffix:semicolon
id|index
op_and_assign
l_int|0x07
suffix:semicolon
id|MCLK
op_assign
id|SiS_Pr-&gt;SiS_MCLKData_0
(braket
id|index
)braket
dot
id|CLOCK
suffix:semicolon
multiline_comment|/* Get MCLK  */
id|tempah
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x35
)paren
suffix:semicolon
id|tempah
op_and_assign
l_int|0xc3
suffix:semicolon
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x16
comma
l_int|0x3c
comma
id|tempah
)paren
suffix:semicolon
r_do
(brace
id|ThresholdLow
op_assign
id|SiS_CalcDelay
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|VCLK
comma
id|colorth
comma
id|MCLK
)paren
suffix:semicolon
id|ThresholdLow
op_increment
suffix:semicolon
r_if
c_cond
(paren
id|ThresholdLow
OL
l_int|0x13
)paren
(brace
r_break
suffix:semicolon
)brace
id|SiS_SetRegAND
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x16
comma
l_int|0xfc
)paren
suffix:semicolon
id|ThresholdLow
op_assign
l_int|0x13
suffix:semicolon
id|tempah
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x16
)paren
suffix:semicolon
id|tempah
op_rshift_assign
l_int|6
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
(paren
id|tempah
)paren
)paren
(brace
r_break
suffix:semicolon
)brace
id|tempah
op_decrement
suffix:semicolon
id|tempah
op_lshift_assign
l_int|6
suffix:semicolon
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x16
comma
l_int|0x3f
comma
id|tempah
)paren
suffix:semicolon
)brace
r_while
c_loop
(paren
l_int|0
)paren
(brace
suffix:semicolon
)brace
)brace
r_else
id|ThresholdLow
op_assign
l_int|2
suffix:semicolon
multiline_comment|/* Write CRT/CPU threshold low, CRT/Engine threshold high */
id|temp
op_assign
(paren
id|ThresholdLow
op_lshift
l_int|4
)paren
op_or
l_int|0x0f
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x08
comma
id|temp
)paren
suffix:semicolon
id|temp
op_assign
(paren
id|ThresholdLow
op_amp
l_int|0x10
)paren
op_lshift
l_int|1
suffix:semicolon
r_if
c_cond
(paren
id|ModeNo
OG
l_int|0x13
)paren
(brace
id|temp
op_or_assign
l_int|0x40
suffix:semicolon
)brace
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x0f
comma
l_int|0x9f
comma
id|temp
)paren
suffix:semicolon
multiline_comment|/* What is this? */
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x3B
comma
l_int|0x09
)paren
suffix:semicolon
multiline_comment|/* Write CRT/CPU threshold high */
id|temp
op_assign
id|ThresholdLow
op_plus
l_int|3
suffix:semicolon
r_if
c_cond
(paren
id|temp
OG
l_int|0x0f
)paren
(brace
id|temp
op_assign
l_int|0x0f
suffix:semicolon
)brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x09
comma
id|temp
)paren
suffix:semicolon
)brace
id|USHORT
DECL|function|SiS_CalcDelay
id|SiS_CalcDelay
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|UCHAR
op_star
id|ROMAddr
comma
id|USHORT
id|VCLK
comma
id|USHORT
id|colordepth
comma
id|USHORT
id|MCLK
)paren
(brace
id|USHORT
id|tempax
comma
id|tempbx
suffix:semicolon
id|tempbx
op_assign
id|SiS_DoCalcDelay
c_func
(paren
id|SiS_Pr
comma
id|MCLK
comma
id|VCLK
comma
id|colordepth
comma
l_int|0
)paren
suffix:semicolon
id|tempax
op_assign
id|SiS_DoCalcDelay
c_func
(paren
id|SiS_Pr
comma
id|MCLK
comma
id|VCLK
comma
id|colordepth
comma
l_int|1
)paren
suffix:semicolon
r_if
c_cond
(paren
id|tempax
OL
l_int|4
)paren
(brace
id|tempax
op_assign
l_int|4
suffix:semicolon
)brace
id|tempax
op_sub_assign
l_int|4
suffix:semicolon
r_if
c_cond
(paren
id|tempbx
OL
id|tempax
)paren
(brace
id|tempbx
op_assign
id|tempax
suffix:semicolon
)brace
r_return
id|tempbx
suffix:semicolon
)brace
id|USHORT
DECL|function|SiS_DoCalcDelay
id|SiS_DoCalcDelay
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|USHORT
id|MCLK
comma
id|USHORT
id|VCLK
comma
id|USHORT
id|colordepth
comma
id|USHORT
id|key
)paren
(brace
r_const
id|UCHAR
id|ThLowA
(braket
)braket
op_assign
(brace
l_int|61
comma
l_int|3
comma
l_int|52
comma
l_int|5
comma
l_int|68
comma
l_int|7
comma
l_int|100
comma
l_int|11
comma
l_int|43
comma
l_int|3
comma
l_int|42
comma
l_int|5
comma
l_int|54
comma
l_int|7
comma
l_int|78
comma
l_int|11
comma
l_int|34
comma
l_int|3
comma
l_int|37
comma
l_int|5
comma
l_int|47
comma
l_int|7
comma
l_int|67
comma
l_int|11
)brace
suffix:semicolon
r_const
id|UCHAR
id|ThLowB
(braket
)braket
op_assign
(brace
l_int|81
comma
l_int|4
comma
l_int|72
comma
l_int|6
comma
l_int|88
comma
l_int|8
comma
l_int|120
comma
l_int|12
comma
l_int|55
comma
l_int|4
comma
l_int|54
comma
l_int|6
comma
l_int|66
comma
l_int|8
comma
l_int|90
comma
l_int|12
comma
l_int|42
comma
l_int|4
comma
l_int|45
comma
l_int|6
comma
l_int|55
comma
l_int|8
comma
l_int|75
comma
l_int|12
)brace
suffix:semicolon
r_const
id|UCHAR
id|ThTiming
(braket
)braket
op_assign
(brace
l_int|1
comma
l_int|2
comma
l_int|2
comma
l_int|3
comma
l_int|0
comma
l_int|1
comma
l_int|1
comma
l_int|2
)brace
suffix:semicolon
id|USHORT
id|tempah
comma
id|tempal
comma
id|tempcl
comma
id|tempbx
comma
id|temp
suffix:semicolon
id|ULONG
id|longtemp
suffix:semicolon
id|tempah
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x18
)paren
suffix:semicolon
id|tempah
op_and_assign
l_int|0x62
suffix:semicolon
id|tempah
op_rshift_assign
l_int|1
suffix:semicolon
id|tempal
op_assign
id|tempah
suffix:semicolon
id|tempah
op_rshift_assign
l_int|3
suffix:semicolon
id|tempal
op_or_assign
id|tempah
suffix:semicolon
id|tempal
op_and_assign
l_int|0x07
suffix:semicolon
id|tempcl
op_assign
id|ThTiming
(braket
id|tempal
)braket
suffix:semicolon
id|tempbx
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x16
)paren
suffix:semicolon
id|tempbx
op_rshift_assign
l_int|6
suffix:semicolon
id|tempah
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x14
)paren
suffix:semicolon
id|tempah
op_rshift_assign
l_int|4
suffix:semicolon
id|tempah
op_and_assign
l_int|0x0c
suffix:semicolon
id|tempbx
op_or_assign
id|tempah
suffix:semicolon
id|tempbx
op_lshift_assign
l_int|1
suffix:semicolon
r_if
c_cond
(paren
id|key
op_eq
l_int|0
)paren
(brace
id|tempal
op_assign
id|ThLowA
(braket
id|tempbx
op_plus
l_int|1
)braket
suffix:semicolon
id|tempal
op_mul_assign
id|tempcl
suffix:semicolon
id|tempal
op_add_assign
id|ThLowA
(braket
id|tempbx
)braket
suffix:semicolon
)brace
r_else
(brace
id|tempal
op_assign
id|ThLowB
(braket
id|tempbx
op_plus
l_int|1
)braket
suffix:semicolon
id|tempal
op_mul_assign
id|tempcl
suffix:semicolon
id|tempal
op_add_assign
id|ThLowB
(braket
id|tempbx
)braket
suffix:semicolon
)brace
id|longtemp
op_assign
id|tempal
op_star
id|VCLK
op_star
id|colordepth
suffix:semicolon
id|temp
op_assign
id|longtemp
op_mod
(paren
id|MCLK
op_star
l_int|16
)paren
suffix:semicolon
id|longtemp
op_div_assign
(paren
id|MCLK
op_star
l_int|16
)paren
suffix:semicolon
r_if
c_cond
(paren
id|temp
)paren
(brace
id|longtemp
op_increment
suffix:semicolon
)brace
r_return
(paren
id|USHORT
)paren
id|longtemp
suffix:semicolon
)brace
macro_line|#if 0  /* TW: Old fragment, unused */
id|USHORT
id|SiS_CalcDelay
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|UCHAR
op_star
id|ROMAddr
comma
id|USHORT
id|key
)paren
(brace
id|USHORT
id|data
comma
id|data2
comma
id|temp0
comma
id|temp1
suffix:semicolon
id|UCHAR
id|ThLowA
(braket
)braket
op_assign
(brace
l_int|61
comma
l_int|3
comma
l_int|52
comma
l_int|5
comma
l_int|68
comma
l_int|7
comma
l_int|100
comma
l_int|11
comma
l_int|43
comma
l_int|3
comma
l_int|42
comma
l_int|5
comma
l_int|54
comma
l_int|7
comma
l_int|78
comma
l_int|11
comma
l_int|34
comma
l_int|3
comma
l_int|37
comma
l_int|5
comma
l_int|47
comma
l_int|7
comma
l_int|67
comma
l_int|11
)brace
suffix:semicolon
id|UCHAR
id|ThLowB
(braket
)braket
op_assign
(brace
l_int|81
comma
l_int|4
comma
l_int|72
comma
l_int|6
comma
l_int|88
comma
l_int|8
comma
l_int|120
comma
l_int|12
comma
l_int|55
comma
l_int|4
comma
l_int|54
comma
l_int|6
comma
l_int|66
comma
l_int|8
comma
l_int|90
comma
l_int|12
comma
l_int|42
comma
l_int|4
comma
l_int|45
comma
l_int|6
comma
l_int|55
comma
l_int|8
comma
l_int|75
comma
l_int|12
)brace
suffix:semicolon
id|UCHAR
id|ThTiming
(braket
)braket
op_assign
(brace
l_int|1
comma
l_int|2
comma
l_int|2
comma
l_int|3
comma
l_int|0
comma
l_int|1
comma
l_int|1
comma
l_int|2
)brace
suffix:semicolon
id|data
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x16
)paren
suffix:semicolon
id|data
op_assign
id|data
op_rshift
l_int|6
suffix:semicolon
id|data2
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x14
)paren
suffix:semicolon
id|data2
op_assign
(paren
id|data2
op_rshift
l_int|4
)paren
op_amp
l_int|0x0C
suffix:semicolon
id|data
op_assign
id|data
op_or
id|data2
suffix:semicolon
id|data
op_assign
id|data
OL
l_int|1
suffix:semicolon
r_if
c_cond
(paren
id|key
op_eq
l_int|0
)paren
(brace
id|temp0
op_assign
(paren
id|USHORT
)paren
id|ThLowA
(braket
id|data
)braket
suffix:semicolon
id|temp1
op_assign
(paren
id|USHORT
)paren
id|ThLowA
(braket
id|data
op_plus
l_int|1
)braket
suffix:semicolon
)brace
r_else
(brace
id|temp0
op_assign
(paren
id|USHORT
)paren
id|ThLowB
(braket
id|data
)braket
suffix:semicolon
id|temp1
op_assign
(paren
id|USHORT
)paren
id|ThLowB
(braket
id|data
op_plus
l_int|1
)braket
suffix:semicolon
)brace
id|data2
op_assign
l_int|0
suffix:semicolon
id|data
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x18
)paren
suffix:semicolon
r_if
c_cond
(paren
id|data
op_amp
l_int|0x02
)paren
(brace
id|data2
op_assign
id|data2
op_or
l_int|0x01
suffix:semicolon
)brace
r_if
c_cond
(paren
id|data
op_amp
l_int|0x20
)paren
(brace
id|data2
op_assign
id|data2
op_or
l_int|0x02
suffix:semicolon
)brace
r_if
c_cond
(paren
id|data
op_amp
l_int|0x40
)paren
(brace
id|data2
op_assign
id|data2
op_or
l_int|0x04
suffix:semicolon
)brace
id|data
op_assign
id|temp1
op_star
id|ThTiming
(braket
id|data2
)braket
op_plus
id|temp0
suffix:semicolon
r_return
id|data
suffix:semicolon
)brace
macro_line|#endif
r_void
DECL|function|SiS_SetCRT1FIFO_630
id|SiS_SetCRT1FIFO_630
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|UCHAR
op_star
id|ROMAddr
comma
id|USHORT
id|ModeNo
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
comma
id|USHORT
id|RefreshRateTableIndex
)paren
(brace
id|USHORT
id|i
comma
id|index
comma
id|data
comma
id|VCLK
comma
id|MCLK
comma
id|colorth
op_assign
l_int|0
suffix:semicolon
id|ULONG
id|B
comma
id|eax
comma
id|bl
comma
id|data2
suffix:semicolon
id|USHORT
id|ThresholdLow
op_assign
l_int|0
suffix:semicolon
id|UCHAR
id|FQBQData
(braket
)braket
op_assign
(brace
l_int|0x01
comma
l_int|0x21
comma
l_int|0x41
comma
l_int|0x61
comma
l_int|0x81
comma
l_int|0x31
comma
l_int|0x51
comma
l_int|0x71
comma
l_int|0x91
comma
l_int|0xb1
comma
l_int|0x00
comma
l_int|0x20
comma
l_int|0x40
comma
l_int|0x60
comma
l_int|0x80
comma
l_int|0x30
comma
l_int|0x50
comma
l_int|0x70
comma
l_int|0x90
comma
l_int|0xb0
comma
l_int|0xFF
)brace
suffix:semicolon
id|UCHAR
id|FQBQData730
(braket
)braket
op_assign
(brace
l_int|0x34
comma
l_int|0x74
comma
l_int|0xb4
comma
l_int|0x23
comma
l_int|0x63
comma
l_int|0xa3
comma
l_int|0x12
comma
l_int|0x52
comma
l_int|0x92
comma
l_int|0x01
comma
l_int|0x41
comma
l_int|0x81
comma
l_int|0x00
comma
l_int|0x40
comma
l_int|0x80
comma
l_int|0xff
)brace
suffix:semicolon
id|i
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|ModeNo
OG
l_int|0x13
)paren
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;UseCustomMode
)paren
(brace
id|VCLK
op_assign
id|SiS_Pr-&gt;CSRClock
suffix:semicolon
)brace
r_else
(brace
id|index
op_assign
id|SiS_Pr-&gt;SiS_RefIndex
(braket
id|RefreshRateTableIndex
)braket
dot
id|Ext_CRTVCLK
suffix:semicolon
id|index
op_and_assign
l_int|0x3F
suffix:semicolon
id|VCLK
op_assign
id|SiS_Pr-&gt;SiS_VCLKData
(braket
id|index
)braket
dot
id|CLOCK
suffix:semicolon
multiline_comment|/* Get VCLK  */
)brace
id|index
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x1A
)paren
suffix:semicolon
id|index
op_and_assign
l_int|0x07
suffix:semicolon
id|MCLK
op_assign
id|SiS_Pr-&gt;SiS_MCLKData_0
(braket
id|index
)braket
dot
id|CLOCK
suffix:semicolon
multiline_comment|/* Get MCLK  */
id|data2
op_assign
id|SiS_Pr-&gt;SiS_ModeType
op_minus
id|ModeEGA
suffix:semicolon
multiline_comment|/* Get half colordepth */
r_switch
c_cond
(paren
id|data2
)paren
(brace
r_case
l_int|0
suffix:colon
id|colorth
op_assign
l_int|1
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|1
suffix:colon
id|colorth
op_assign
l_int|1
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|2
suffix:colon
id|colorth
op_assign
l_int|2
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|3
suffix:colon
id|colorth
op_assign
l_int|2
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|4
suffix:colon
id|colorth
op_assign
l_int|3
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|5
suffix:colon
id|colorth
op_assign
l_int|4
suffix:semicolon
r_break
suffix:semicolon
)brace
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_730
)paren
(brace
r_do
(brace
id|B
op_assign
id|SiS_CalcDelay2
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|FQBQData730
(braket
id|i
)braket
comma
id|HwDeviceExtension
)paren
op_star
id|VCLK
op_star
id|colorth
suffix:semicolon
id|bl
op_assign
id|B
op_div
(paren
id|MCLK
op_star
l_int|16
)paren
suffix:semicolon
r_if
c_cond
(paren
id|B
op_eq
id|bl
op_star
l_int|16
op_star
id|MCLK
)paren
(brace
id|bl
op_assign
id|bl
op_plus
l_int|1
suffix:semicolon
)brace
r_else
(brace
id|bl
op_assign
id|bl
op_plus
l_int|2
suffix:semicolon
)brace
r_if
c_cond
(paren
id|bl
OG
l_int|0x13
)paren
(brace
r_if
c_cond
(paren
id|FQBQData730
(braket
id|i
op_plus
l_int|1
)braket
op_eq
l_int|0xFF
)paren
(brace
id|ThresholdLow
op_assign
l_int|0x13
suffix:semicolon
r_break
suffix:semicolon
)brace
id|i
op_increment
suffix:semicolon
)brace
r_else
(brace
id|ThresholdLow
op_assign
id|bl
suffix:semicolon
r_break
suffix:semicolon
)brace
)brace
r_while
c_loop
(paren
id|FQBQData730
(braket
id|i
)braket
op_ne
l_int|0xFF
)paren
(brace
suffix:semicolon
)brace
)brace
r_else
(brace
r_do
(brace
id|B
op_assign
id|SiS_CalcDelay2
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
id|FQBQData
(braket
id|i
)braket
comma
id|HwDeviceExtension
)paren
op_star
id|VCLK
op_star
id|colorth
suffix:semicolon
id|bl
op_assign
id|B
op_div
(paren
id|MCLK
op_star
l_int|16
)paren
suffix:semicolon
r_if
c_cond
(paren
id|B
op_eq
id|bl
op_star
l_int|16
op_star
id|MCLK
)paren
(brace
id|bl
op_assign
id|bl
op_plus
l_int|1
suffix:semicolon
)brace
r_else
(brace
id|bl
op_assign
id|bl
op_plus
l_int|2
suffix:semicolon
)brace
r_if
c_cond
(paren
id|bl
OG
l_int|0x13
)paren
(brace
r_if
c_cond
(paren
id|FQBQData
(braket
id|i
op_plus
l_int|1
)braket
op_eq
l_int|0xFF
)paren
(brace
id|ThresholdLow
op_assign
l_int|0x13
suffix:semicolon
r_break
suffix:semicolon
)brace
id|i
op_increment
suffix:semicolon
)brace
r_else
(brace
id|ThresholdLow
op_assign
id|bl
suffix:semicolon
r_break
suffix:semicolon
)brace
)brace
r_while
c_loop
(paren
id|FQBQData
(braket
id|i
)braket
op_ne
l_int|0xFF
)paren
(brace
suffix:semicolon
)brace
)brace
)brace
r_else
(brace
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_730
)paren
(brace
)brace
r_else
(brace
id|i
op_assign
l_int|9
suffix:semicolon
)brace
id|ThresholdLow
op_assign
l_int|0x02
suffix:semicolon
)brace
multiline_comment|/* Write foreground and background queue */
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_730
)paren
(brace
id|data2
op_assign
id|FQBQData730
(braket
id|i
)braket
suffix:semicolon
id|data2
op_assign
(paren
id|data2
op_amp
l_int|0xC0
)paren
op_rshift
l_int|5
suffix:semicolon
id|data2
op_lshift_assign
l_int|8
suffix:semicolon
macro_line|#ifndef LINUX_XF86
id|SiS_SetReg4
c_func
(paren
l_int|0xcf8
comma
l_int|0x80000050
)paren
suffix:semicolon
id|eax
op_assign
id|SiS_GetReg3
c_func
(paren
l_int|0xcfc
)paren
suffix:semicolon
id|eax
op_and_assign
l_int|0xfffff9ff
suffix:semicolon
id|eax
op_or_assign
id|data2
suffix:semicolon
id|SiS_SetReg4
c_func
(paren
l_int|0xcfc
comma
id|eax
)paren
suffix:semicolon
macro_line|#else
multiline_comment|/* We use pci functions X offers. We use pcitag 0, because&n;      * we want to read/write to the host bridge (which is always&n;      * 00:00.0 on 630, 730 and 540), not the VGA device.&n;      */
id|eax
op_assign
id|pciReadLong
c_func
(paren
l_int|0x00000000
comma
l_int|0x50
)paren
suffix:semicolon
id|eax
op_and_assign
l_int|0xfffff9ff
suffix:semicolon
id|eax
op_or_assign
id|data2
suffix:semicolon
id|pciWriteLong
c_func
(paren
l_int|0x00000000
comma
l_int|0x50
comma
id|eax
)paren
suffix:semicolon
macro_line|#endif
multiline_comment|/* Write GUI grant timer (PCI config 0xA3) */
id|data2
op_assign
id|FQBQData730
(braket
id|i
)braket
op_lshift
l_int|8
suffix:semicolon
id|data2
op_assign
(paren
id|data2
op_amp
l_int|0x0f00
)paren
op_or
(paren
(paren
id|data2
op_amp
l_int|0x3000
)paren
op_rshift
l_int|8
)paren
suffix:semicolon
id|data2
op_lshift_assign
l_int|20
suffix:semicolon
macro_line|#ifndef LINUX_XF86
id|SiS_SetReg4
c_func
(paren
l_int|0xcf8
comma
l_int|0x800000A0
)paren
suffix:semicolon
id|eax
op_assign
id|SiS_GetReg3
c_func
(paren
l_int|0xcfc
)paren
suffix:semicolon
id|eax
op_and_assign
l_int|0x00ffffff
suffix:semicolon
id|eax
op_or_assign
id|data2
suffix:semicolon
id|SiS_SetReg4
c_func
(paren
l_int|0xcfc
comma
id|eax
)paren
suffix:semicolon
macro_line|#else
id|eax
op_assign
id|pciReadLong
c_func
(paren
l_int|0x00000000
comma
l_int|0xA0
)paren
suffix:semicolon
id|eax
op_and_assign
l_int|0x00ffffff
suffix:semicolon
id|eax
op_or_assign
id|data2
suffix:semicolon
id|pciWriteLong
c_func
(paren
l_int|0x00000000
comma
l_int|0xA0
comma
id|eax
)paren
suffix:semicolon
macro_line|#endif          
)brace
r_else
(brace
id|data2
op_assign
id|FQBQData
(braket
id|i
)braket
suffix:semicolon
id|data2
op_assign
(paren
id|data2
op_amp
l_int|0xf0
)paren
op_rshift
l_int|4
suffix:semicolon
id|data2
op_lshift_assign
l_int|24
suffix:semicolon
macro_line|#ifndef LINUX_XF86
id|SiS_SetReg4
c_func
(paren
l_int|0xcf8
comma
l_int|0x80000050
)paren
suffix:semicolon
id|eax
op_assign
id|SiS_GetReg3
c_func
(paren
l_int|0xcfc
)paren
suffix:semicolon
id|eax
op_and_assign
l_int|0xf0ffffff
suffix:semicolon
id|eax
op_or_assign
id|data2
suffix:semicolon
id|SiS_SetReg4
c_func
(paren
l_int|0xcfc
comma
id|eax
)paren
suffix:semicolon
macro_line|#else
id|eax
op_assign
id|pciReadLong
c_func
(paren
l_int|0x00000000
comma
l_int|0x50
)paren
suffix:semicolon
id|eax
op_and_assign
l_int|0xf0ffffff
suffix:semicolon
id|eax
op_or_assign
id|data2
suffix:semicolon
id|pciWriteLong
c_func
(paren
l_int|0x00000000
comma
l_int|0x50
comma
id|eax
)paren
suffix:semicolon
macro_line|#endif
multiline_comment|/* Write GUI grant timer (PCI config 0xA3) */
id|data2
op_assign
id|FQBQData
(braket
id|i
)braket
suffix:semicolon
id|data2
op_and_assign
l_int|0x0f
suffix:semicolon
id|data2
op_lshift_assign
l_int|24
suffix:semicolon
macro_line|#ifndef LINUX_XF86
id|SiS_SetReg4
c_func
(paren
l_int|0xcf8
comma
l_int|0x800000A0
)paren
suffix:semicolon
id|eax
op_assign
id|SiS_GetReg3
c_func
(paren
l_int|0xcfc
)paren
suffix:semicolon
id|eax
op_and_assign
l_int|0xf0ffffff
suffix:semicolon
id|eax
op_or_assign
id|data2
suffix:semicolon
id|SiS_SetReg4
c_func
(paren
l_int|0xcfc
comma
id|eax
)paren
suffix:semicolon
macro_line|#else
id|eax
op_assign
id|pciReadLong
c_func
(paren
l_int|0x00000000
comma
l_int|0xA0
)paren
suffix:semicolon
id|eax
op_and_assign
l_int|0xf0ffffff
suffix:semicolon
id|eax
op_or_assign
id|data2
suffix:semicolon
id|pciWriteLong
c_func
(paren
l_int|0x00000000
comma
l_int|0xA0
comma
id|eax
)paren
suffix:semicolon
macro_line|#endif
)brace
multiline_comment|/* Write CRT/CPU threshold low, CRT/Engine threshold high */
id|data
op_assign
(paren
(paren
id|ThresholdLow
op_amp
l_int|0x0f
)paren
op_lshift
l_int|4
)paren
op_or
l_int|0x0f
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x08
comma
id|data
)paren
suffix:semicolon
id|data
op_assign
(paren
id|ThresholdLow
op_amp
l_int|0x10
)paren
op_lshift
l_int|1
suffix:semicolon
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x0F
comma
l_int|0xDF
comma
id|data
)paren
suffix:semicolon
multiline_comment|/* What is this? */
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x3B
comma
l_int|0x09
)paren
suffix:semicolon
multiline_comment|/* Write CRT/CPU threshold high (gap = 3) */
id|data
op_assign
id|ThresholdLow
op_plus
l_int|3
suffix:semicolon
r_if
c_cond
(paren
id|data
OG
l_int|0x0f
)paren
(brace
id|data
op_assign
l_int|0x0f
suffix:semicolon
)brace
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x09
comma
l_int|0x80
comma
id|data
)paren
suffix:semicolon
)brace
id|USHORT
DECL|function|SiS_CalcDelay2
id|SiS_CalcDelay2
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|UCHAR
op_star
id|ROMAddr
comma
id|UCHAR
id|key
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
)paren
(brace
id|USHORT
id|data
comma
id|index
suffix:semicolon
r_const
id|UCHAR
id|LatencyFactor
(braket
)braket
op_assign
(brace
l_int|97
comma
l_int|88
comma
l_int|86
comma
l_int|79
comma
l_int|77
comma
l_int|00
comma
multiline_comment|/*; 64  bit    BQ=2   */
l_int|00
comma
l_int|87
comma
l_int|85
comma
l_int|78
comma
l_int|76
comma
l_int|54
comma
multiline_comment|/*; 64  bit    BQ=1   */
l_int|97
comma
l_int|88
comma
l_int|86
comma
l_int|79
comma
l_int|77
comma
l_int|00
comma
multiline_comment|/*; 128 bit    BQ=2   */
l_int|00
comma
l_int|79
comma
l_int|77
comma
l_int|70
comma
l_int|68
comma
l_int|48
comma
multiline_comment|/*; 128 bit    BQ=1   */
l_int|80
comma
l_int|72
comma
l_int|69
comma
l_int|63
comma
l_int|61
comma
l_int|00
comma
multiline_comment|/*; 64  bit    BQ=2   */
l_int|00
comma
l_int|70
comma
l_int|68
comma
l_int|61
comma
l_int|59
comma
l_int|37
comma
multiline_comment|/*; 64  bit    BQ=1   */
l_int|86
comma
l_int|77
comma
l_int|75
comma
l_int|68
comma
l_int|66
comma
l_int|00
comma
multiline_comment|/*; 128 bit    BQ=2   */
l_int|00
comma
l_int|68
comma
l_int|66
comma
l_int|59
comma
l_int|57
comma
l_int|37
multiline_comment|/*; 128 bit    BQ=1   */
)brace
suffix:semicolon
r_const
id|UCHAR
id|LatencyFactor730
(braket
)braket
op_assign
(brace
l_int|69
comma
l_int|63
comma
l_int|61
comma
l_int|86
comma
l_int|79
comma
l_int|77
comma
l_int|103
comma
l_int|96
comma
l_int|94
comma
l_int|120
comma
l_int|113
comma
l_int|111
comma
l_int|137
comma
l_int|130
comma
l_int|128
comma
multiline_comment|/* --- Table ends with this entry, data below */
l_int|137
comma
l_int|130
comma
l_int|128
comma
multiline_comment|/* to avoid using illegal values              */
l_int|137
comma
l_int|130
comma
l_int|128
comma
l_int|137
comma
l_int|130
comma
l_int|128
comma
l_int|137
comma
l_int|130
comma
l_int|128
comma
l_int|137
comma
l_int|130
comma
l_int|128
comma
l_int|137
comma
l_int|130
comma
l_int|128
comma
l_int|137
comma
l_int|130
comma
l_int|128
comma
l_int|137
comma
l_int|130
comma
l_int|128
comma
l_int|137
comma
l_int|130
comma
l_int|128
comma
l_int|137
comma
l_int|130
comma
l_int|128
comma
l_int|137
comma
l_int|130
comma
l_int|128
comma
)brace
suffix:semicolon
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_730
)paren
(brace
id|index
op_assign
(paren
(paren
id|key
op_amp
l_int|0x0f
)paren
op_star
l_int|3
)paren
op_plus
(paren
(paren
id|key
op_amp
l_int|0xC0
)paren
op_rshift
l_int|6
)paren
suffix:semicolon
id|data
op_assign
id|LatencyFactor730
(braket
id|index
)braket
suffix:semicolon
)brace
r_else
(brace
id|index
op_assign
(paren
id|key
op_amp
l_int|0xE0
)paren
op_rshift
l_int|5
suffix:semicolon
r_if
c_cond
(paren
id|key
op_amp
l_int|0x10
)paren
(brace
id|index
op_add_assign
l_int|6
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
(paren
id|key
op_amp
l_int|0x01
)paren
)paren
(brace
id|index
op_add_assign
l_int|24
suffix:semicolon
)brace
id|data
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x14
)paren
suffix:semicolon
r_if
c_cond
(paren
id|data
op_amp
l_int|0x0080
)paren
(brace
id|index
op_add_assign
l_int|12
suffix:semicolon
)brace
id|data
op_assign
id|LatencyFactor
(braket
id|index
)braket
suffix:semicolon
)brace
r_return
id|data
suffix:semicolon
)brace
macro_line|#endif
multiline_comment|/* =============== Autodetection ================ */
multiline_comment|/*             I N C O M P L E T E                */
id|BOOLEAN
DECL|function|SiS_GetPanelID
id|SiS_GetPanelID
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
)paren
(brace
r_const
id|USHORT
id|PanelTypeTable300
(braket
l_int|16
)braket
op_assign
(brace
l_int|0xc101
comma
l_int|0xc117
comma
l_int|0x0121
comma
l_int|0xc135
comma
l_int|0xc142
comma
l_int|0xc152
comma
l_int|0xc162
comma
l_int|0xc072
comma
l_int|0xc181
comma
l_int|0xc192
comma
l_int|0xc1a1
comma
l_int|0xc1b6
comma
l_int|0xc1c2
comma
l_int|0xc0d2
comma
l_int|0xc1e2
comma
l_int|0xc1f2
)brace
suffix:semicolon
r_const
id|USHORT
id|PanelTypeTable31030x
(braket
l_int|16
)braket
op_assign
(brace
l_int|0xc102
comma
l_int|0xc112
comma
l_int|0x0122
comma
l_int|0xc132
comma
l_int|0xc142
comma
l_int|0xc152
comma
l_int|0xc169
comma
l_int|0xc179
comma
l_int|0x0189
comma
l_int|0xc192
comma
l_int|0xc1a2
comma
l_int|0x0000
comma
l_int|0x0000
comma
l_int|0x0000
comma
l_int|0x0000
comma
l_int|0x0000
)brace
suffix:semicolon
r_const
id|USHORT
id|PanelTypeTable310LVDS
(braket
l_int|16
)braket
op_assign
(brace
l_int|0xc111
comma
l_int|0xc122
comma
l_int|0xc133
comma
l_int|0xc144
comma
l_int|0xc155
comma
l_int|0xc166
comma
l_int|0xc177
comma
l_int|0xc188
comma
l_int|0xc199
comma
l_int|0xc0aa
comma
l_int|0x0000
comma
l_int|0x0000
comma
l_int|0x0000
comma
l_int|0x0000
comma
l_int|0x0000
comma
l_int|0x0000
)brace
suffix:semicolon
id|USHORT
id|tempax
comma
id|tempbx
comma
id|tempah
comma
id|temp
suffix:semicolon
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
OL
id|SIS_315H
)paren
(brace
id|tempax
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x18
)paren
suffix:semicolon
id|tempbx
op_assign
id|tempax
op_amp
l_int|0x0F
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
(paren
id|tempax
op_amp
l_int|0x10
)paren
)paren
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_IF_DEF_LVDS
op_eq
l_int|1
)paren
(brace
id|tempbx
op_assign
l_int|0
suffix:semicolon
id|temp
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x38
)paren
suffix:semicolon
r_if
c_cond
(paren
id|temp
op_amp
l_int|0x40
)paren
(brace
id|tempbx
op_or_assign
l_int|0x08
suffix:semicolon
)brace
r_if
c_cond
(paren
id|temp
op_amp
l_int|0x20
)paren
(brace
id|tempbx
op_or_assign
l_int|0x02
suffix:semicolon
)brace
r_if
c_cond
(paren
id|temp
op_amp
l_int|0x01
)paren
(brace
id|tempbx
op_or_assign
l_int|0x01
suffix:semicolon
)brace
id|temp
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x39
)paren
suffix:semicolon
r_if
c_cond
(paren
id|temp
op_amp
l_int|0x80
)paren
(brace
id|tempbx
op_or_assign
l_int|0x04
suffix:semicolon
)brace
)brace
r_else
(brace
r_return
l_int|0
suffix:semicolon
)brace
)brace
id|tempbx
op_assign
id|PanelTypeTable300
(braket
id|tempbx
)braket
suffix:semicolon
id|tempbx
op_or_assign
id|LCDSync
suffix:semicolon
id|temp
op_assign
id|tempbx
op_amp
l_int|0x00FF
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x36
comma
id|temp
)paren
suffix:semicolon
id|temp
op_assign
(paren
id|tempbx
op_amp
l_int|0xFF00
)paren
op_rshift
l_int|8
suffix:semicolon
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x37
comma
op_complement
(paren
id|LCDSyncBit
op_or
id|LCDRGB18Bit
)paren
comma
id|temp
)paren
suffix:semicolon
)brace
r_else
(brace
id|tempax
op_assign
id|tempah
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x1a
)paren
suffix:semicolon
id|tempax
op_and_assign
l_int|0x1e
suffix:semicolon
id|tempax
op_rshift_assign
l_int|1
suffix:semicolon
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_IF_DEF_LVDS
op_eq
l_int|1
)paren
(brace
r_if
c_cond
(paren
id|tempax
op_eq
l_int|0
)paren
(brace
multiline_comment|/* TODO: Include HUGE detection routine&n;&t;            (Probably not worth bothering)&n;&t;    */
r_return
l_int|0
suffix:semicolon
)brace
id|temp
op_assign
id|tempax
op_amp
l_int|0xff
suffix:semicolon
id|tempax
op_decrement
suffix:semicolon
id|tempbx
op_assign
id|PanelTypeTable310LVDS
(braket
id|tempax
)braket
suffix:semicolon
)brace
r_else
(brace
id|tempbx
op_assign
id|PanelTypeTable31030x
(braket
id|tempax
)braket
suffix:semicolon
id|temp
op_assign
id|tempbx
op_amp
l_int|0xff
suffix:semicolon
)brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x36
comma
id|temp
)paren
suffix:semicolon
id|tempbx
op_assign
(paren
id|tempbx
op_amp
l_int|0xff00
)paren
op_rshift
l_int|8
suffix:semicolon
id|temp
op_assign
id|tempbx
op_amp
l_int|0xc1
suffix:semicolon
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x37
comma
op_complement
(paren
id|LCDSyncBit
op_or
id|LCDRGB18Bit
)paren
comma
id|temp
)paren
suffix:semicolon
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_IF_DEF_LVDS
op_eq
l_int|0
)paren
(brace
id|temp
op_assign
id|tempbx
op_amp
l_int|0x04
suffix:semicolon
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x39
comma
l_int|0xfb
comma
id|temp
)paren
suffix:semicolon
)brace
)brace
r_return
l_int|1
suffix:semicolon
)brace
macro_line|#ifdef LINUXBIOS
r_void
DECL|function|SiS_DetectMonitor
id|SiS_DetectMonitor
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
comma
id|USHORT
id|BaseAddr
)paren
(brace
id|UCHAR
id|DAC_TEST_PARMS
(braket
)braket
op_assign
(brace
l_int|0x0F
comma
l_int|0x0F
comma
l_int|0x0F
)brace
suffix:semicolon
id|UCHAR
id|DAC_CLR_PARMS
(braket
)braket
op_assign
(brace
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
)brace
suffix:semicolon
id|USHORT
id|SR1F
suffix:semicolon
id|SR1F
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x1F
)paren
suffix:semicolon
multiline_comment|/* backup DAC pedestal */
id|SiS_SetRegOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x1F
comma
l_int|0x04
)paren
suffix:semicolon
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_IF_DEF_LVDS
op_eq
l_int|0
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
(paren
id|SiS_BridgeIsOn
c_func
(paren
id|SiS_Pr
comma
id|BaseAddr
)paren
)paren
)paren
(brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x30
comma
l_int|0x41
)paren
suffix:semicolon
)brace
)brace
id|SiSSetMode
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
comma
l_int|0x2E
)paren
suffix:semicolon
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_ge
id|SIS_650
)paren
(brace
multiline_comment|/* TW: On 650 only - enable CRT1 */
id|SiS_SetRegAND
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x63
comma
l_int|0xbf
)paren
suffix:semicolon
)brace
id|SiS_SetReg3
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c6
comma
l_int|0xff
)paren
suffix:semicolon
id|SiS_ClearDAC
c_func
(paren
id|SiS_Pr
comma
id|SiS_Pr-&gt;SiS_P3c8
)paren
suffix:semicolon
id|SiS_LongWait
c_func
(paren
id|SiS_Pr
)paren
suffix:semicolon
id|SiS_LongWait
c_func
(paren
id|SiS_Pr
)paren
suffix:semicolon
id|SiS_LongWait
c_func
(paren
id|SiS_Pr
)paren
suffix:semicolon
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x32
comma
l_int|0xDF
comma
l_int|0x00
)paren
suffix:semicolon
r_if
c_cond
(paren
id|SiS_TestMonitorType
c_func
(paren
id|SiS_Pr
comma
id|DAC_TEST_PARMS
(braket
l_int|0
)braket
comma
id|DAC_TEST_PARMS
(braket
l_int|1
)braket
comma
id|DAC_TEST_PARMS
(braket
l_int|2
)braket
)paren
)paren
(brace
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x32
comma
l_int|0xDF
comma
l_int|0x20
)paren
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|SiS_TestMonitorType
c_func
(paren
id|SiS_Pr
comma
id|DAC_TEST_PARMS
(braket
l_int|0
)braket
comma
id|DAC_TEST_PARMS
(braket
l_int|1
)braket
comma
id|DAC_TEST_PARMS
(braket
l_int|2
)braket
)paren
)paren
(brace
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x32
comma
l_int|0xDF
comma
l_int|0x20
)paren
suffix:semicolon
)brace
id|SiS_TestMonitorType
c_func
(paren
id|SiS_Pr
comma
id|DAC_CLR_PARMS
(braket
l_int|0
)braket
comma
id|DAC_CLR_PARMS
(braket
l_int|1
)braket
comma
id|DAC_CLR_PARMS
(braket
l_int|2
)braket
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x1F
comma
id|SR1F
)paren
suffix:semicolon
)brace
id|USHORT
DECL|function|SiS_TestMonitorType
id|SiS_TestMonitorType
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|UCHAR
id|R_DAC
comma
id|UCHAR
id|G_DAC
comma
id|UCHAR
id|B_DAC
)paren
(brace
id|USHORT
id|temp
comma
id|tempbx
suffix:semicolon
id|tempbx
op_assign
id|R_DAC
op_star
l_int|0x4d
op_plus
id|G_DAC
op_star
l_int|0x97
op_plus
id|B_DAC
op_star
l_int|0x1c
suffix:semicolon
r_if
c_cond
(paren
(paren
id|tempbx
op_amp
l_int|0x00ff
)paren
OG
l_int|0x80
)paren
(brace
id|tempbx
op_add_assign
l_int|0x100
suffix:semicolon
)brace
id|tempbx
op_assign
(paren
id|tempbx
op_amp
l_int|0xFF00
)paren
op_rshift
l_int|8
suffix:semicolon
id|R_DAC
op_assign
(paren
id|UCHAR
)paren
id|tempbx
suffix:semicolon
id|G_DAC
op_assign
(paren
id|UCHAR
)paren
id|tempbx
suffix:semicolon
id|B_DAC
op_assign
(paren
id|UCHAR
)paren
id|tempbx
suffix:semicolon
id|SiS_SetReg3
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c8
comma
l_int|0x00
)paren
suffix:semicolon
id|SiS_SetReg3
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c9
comma
id|R_DAC
)paren
suffix:semicolon
id|SiS_SetReg3
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c9
comma
id|G_DAC
)paren
suffix:semicolon
id|SiS_SetReg3
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c9
comma
id|B_DAC
)paren
suffix:semicolon
id|SiS_LongWait
c_func
(paren
id|SiS_Pr
)paren
suffix:semicolon
id|temp
op_assign
id|SiS_GetReg2
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c2
)paren
suffix:semicolon
r_if
c_cond
(paren
id|temp
op_amp
l_int|0x10
)paren
(brace
r_return
l_int|1
suffix:semicolon
)brace
r_else
r_return
l_int|0
suffix:semicolon
)brace
r_void
DECL|function|SiS_GetSenseStatus
id|SiS_GetSenseStatus
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
comma
id|UCHAR
op_star
id|ROMAddr
)paren
(brace
id|USHORT
id|tempax
op_assign
l_int|0
comma
id|tempbx
comma
id|tempcx
comma
id|temp
suffix:semicolon
id|USHORT
id|P2reg0
op_assign
l_int|0
comma
id|SenseModeNo
op_assign
l_int|0
comma
id|OutputSelect
op_assign
op_star
id|SiS_Pr-&gt;pSiS_OutputSelect
suffix:semicolon
id|USHORT
id|ModeIdIndex
comma
id|i
suffix:semicolon
id|USHORT
id|BaseAddr
op_assign
(paren
id|USHORT
)paren
id|HwDeviceExtension-&gt;ulIOAddress
suffix:semicolon
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_IF_DEF_LVDS
op_eq
l_int|1
)paren
(brace
id|SiS_GetPanelID
c_func
(paren
id|SiS_Pr
)paren
suffix:semicolon
id|temp
op_assign
id|LCDSense
suffix:semicolon
id|temp
op_assign
id|temp
op_or
id|SiS_SenseCHTV
c_func
(paren
id|SiS_Pr
)paren
suffix:semicolon
id|tempbx
op_assign
op_complement
(paren
id|LCDSense
op_or
id|AVIDEOSense
op_or
id|SVIDEOSense
)paren
suffix:semicolon
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x32
comma
id|tempbx
comma
id|temp
)paren
suffix:semicolon
)brace
r_else
(brace
multiline_comment|/* for 301 */
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_IF_DEF_HiVision
op_eq
l_int|1
)paren
(brace
multiline_comment|/* for HiVision */
id|tempax
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x38
)paren
suffix:semicolon
id|temp
op_assign
id|tempax
op_amp
l_int|0x01
suffix:semicolon
id|tempax
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3c4
comma
l_int|0x3A
)paren
suffix:semicolon
id|temp
op_assign
id|temp
op_or
(paren
id|tempax
op_amp
l_int|0x02
)paren
suffix:semicolon
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x32
comma
l_int|0xA0
comma
id|temp
)paren
suffix:semicolon
)brace
r_else
(brace
r_if
c_cond
(paren
id|SiS_BridgeIsOn
c_func
(paren
id|SiS_Pr
comma
id|BaseAddr
)paren
op_eq
l_int|0
)paren
(brace
multiline_comment|/* TW: Inserted &quot;==0&quot; */
id|P2reg0
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_Part2Port
comma
l_int|0x00
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
(paren
id|SiS_BridgeIsEnable
c_func
(paren
id|SiS_Pr
comma
id|BaseAddr
comma
id|HwDeviceExtension
)paren
)paren
)paren
(brace
id|SenseModeNo
op_assign
l_int|0x2e
suffix:semicolon
id|temp
op_assign
id|SiS_SearchModeID
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
op_amp
id|SenseModeNo
comma
op_amp
id|ModeIdIndex
)paren
suffix:semicolon
id|SiS_Pr-&gt;SiS_SetFlag
op_assign
l_int|0x00
suffix:semicolon
id|SiS_Pr-&gt;SiS_ModeType
op_assign
id|ModeVGA
suffix:semicolon
id|SiS_Pr-&gt;SiS_VBInfo
op_assign
id|SetCRT2ToRAMDAC
op_or
id|LoadDACFlag
op_or
id|SetInSlaveMode
suffix:semicolon
id|SiS_SetCRT2Group301
c_func
(paren
id|SiS_Pr
comma
id|BaseAddr
comma
id|ROMAddr
comma
id|SenseModeNo
comma
id|HwDeviceExtension
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|20
suffix:semicolon
id|i
op_increment
)paren
(brace
id|SiS_LongWait
c_func
(paren
id|SiS_Pr
)paren
suffix:semicolon
)brace
)brace
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_Part2Port
comma
l_int|0x00
comma
l_int|0x1c
)paren
suffix:semicolon
id|tempax
op_assign
l_int|0
suffix:semicolon
id|tempbx
op_assign
op_star
id|SiS_Pr-&gt;pSiS_RGBSenseData
suffix:semicolon
r_if
c_cond
(paren
id|SiS_Is301B
c_func
(paren
id|SiS_Pr
comma
id|BaseAddr
)paren
)paren
(brace
id|tempbx
op_assign
op_star
id|SiS_Pr-&gt;pSiS_RGBSenseData2
suffix:semicolon
)brace
id|tempcx
op_assign
l_int|0x0E08
suffix:semicolon
r_if
c_cond
(paren
id|SiS_Sense
c_func
(paren
id|SiS_Pr
comma
id|tempbx
comma
id|tempcx
)paren
)paren
(brace
r_if
c_cond
(paren
id|SiS_Sense
c_func
(paren
id|SiS_Pr
comma
id|tempbx
comma
id|tempcx
)paren
)paren
(brace
id|tempax
op_assign
id|tempax
op_or
id|Monitor2Sense
suffix:semicolon
)brace
)brace
id|tempbx
op_assign
op_star
id|SiS_Pr-&gt;pSiS_YCSenseData
suffix:semicolon
r_if
c_cond
(paren
id|SiS_Is301B
c_func
(paren
id|SiS_Pr
comma
id|BaseAddr
)paren
)paren
(brace
id|tempbx
op_assign
op_star
id|SiS_Pr-&gt;pSiS_YCSenseData2
suffix:semicolon
)brace
id|tempcx
op_assign
l_int|0x0604
suffix:semicolon
r_if
c_cond
(paren
id|SiS_Sense
c_func
(paren
id|SiS_Pr
comma
id|tempbx
comma
id|tempcx
)paren
)paren
(brace
r_if
c_cond
(paren
id|SiS_Sense
c_func
(paren
id|SiS_Pr
comma
id|tempbx
comma
id|tempcx
)paren
)paren
(brace
id|tempax
op_assign
id|tempax
op_or
id|SVIDEOSense
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
id|ROMAddr
op_logical_and
id|SiS_Pr-&gt;SiS_UseROM
)paren
(brace
macro_line|#ifdef SIS300
r_if
c_cond
(paren
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_630
)paren
op_logical_or
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_730
)paren
)paren
(brace
id|OutputSelect
op_assign
id|ROMAddr
(braket
l_int|0xfe
)braket
suffix:semicolon
)brace
macro_line|#endif
macro_line|#ifdef SIS315H
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_ge
id|SIS_315H
)paren
(brace
id|OutputSelect
op_assign
id|ROMAddr
(braket
l_int|0xf3
)braket
suffix:semicolon
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
op_eq
id|SIS_330
)paren
(brace
id|OutputSelect
op_assign
id|ROMAddr
(braket
l_int|0x11b
)braket
suffix:semicolon
)brace
)brace
macro_line|#endif
)brace
r_if
c_cond
(paren
id|OutputSelect
op_amp
id|BoardTVType
)paren
(brace
id|tempbx
op_assign
op_star
id|SiS_Pr-&gt;pSiS_VideoSenseData
suffix:semicolon
r_if
c_cond
(paren
id|SiS_Is301B
c_func
(paren
id|SiS_Pr
comma
id|BaseAddr
)paren
)paren
(brace
id|tempbx
op_assign
op_star
id|SiS_Pr-&gt;pSiS_VideoSenseData2
suffix:semicolon
)brace
id|tempcx
op_assign
l_int|0x0804
suffix:semicolon
r_if
c_cond
(paren
id|SiS_Sense
c_func
(paren
id|SiS_Pr
comma
id|tempbx
comma
id|tempcx
)paren
)paren
(brace
r_if
c_cond
(paren
id|SiS_Sense
c_func
(paren
id|SiS_Pr
comma
id|tempbx
comma
id|tempcx
)paren
)paren
(brace
id|tempax
op_or_assign
id|AVIDEOSense
suffix:semicolon
)brace
)brace
)brace
r_else
(brace
r_if
c_cond
(paren
op_logical_neg
(paren
id|tempax
op_amp
id|SVIDEOSense
)paren
)paren
(brace
id|tempbx
op_assign
op_star
id|SiS_Pr-&gt;pSiS_VideoSenseData
suffix:semicolon
r_if
c_cond
(paren
id|SiS_Is301B
c_func
(paren
id|SiS_Pr
comma
id|BaseAddr
)paren
)paren
(brace
id|tempbx
op_assign
op_star
id|SiS_Pr-&gt;pSiS_VideoSenseData2
suffix:semicolon
)brace
id|tempcx
op_assign
l_int|0x0804
suffix:semicolon
r_if
c_cond
(paren
id|SiS_Sense
c_func
(paren
id|SiS_Pr
comma
id|tempbx
comma
id|tempcx
)paren
)paren
(brace
r_if
c_cond
(paren
id|SiS_Sense
c_func
(paren
id|SiS_Pr
comma
id|tempbx
comma
id|tempcx
)paren
)paren
(brace
id|tempax
op_or_assign
id|AVIDEOSense
suffix:semicolon
)brace
)brace
)brace
)brace
)brace
r_if
c_cond
(paren
id|SiS_SenseLCD
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
)paren
)paren
(brace
id|tempax
op_or_assign
id|LCDSense
suffix:semicolon
)brace
id|tempbx
op_assign
l_int|0
suffix:semicolon
id|tempcx
op_assign
l_int|0
suffix:semicolon
id|SiS_Sense
c_func
(paren
id|SiS_Pr
comma
id|tempbx
comma
id|tempcx
)paren
suffix:semicolon
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_VBType
op_amp
(paren
id|VB_SIS301LV302LV
)paren
)paren
(brace
id|tempax
op_and_assign
l_int|0x00ef
suffix:semicolon
multiline_comment|/* 30xlv have no VGA2*/
)brace
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x32
comma
op_complement
l_int|0xDF
comma
id|tempax
)paren
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_Part2Port
comma
l_int|0x00
comma
id|P2reg0
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
(paren
id|P2reg0
op_amp
l_int|0x20
)paren
)paren
(brace
id|SiS_Pr-&gt;SiS_VBInfo
op_assign
id|DisableCRT2Display
suffix:semicolon
id|SiS_SetCRT2Group301
c_func
(paren
id|SiS_Pr
comma
id|BaseAddr
comma
id|ROMAddr
comma
id|SenseModeNo
comma
id|HwDeviceExtension
)paren
suffix:semicolon
)brace
)brace
)brace
)brace
id|BOOLEAN
DECL|function|SiS_Sense
id|SiS_Sense
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|USHORT
id|tempbx
comma
id|USHORT
id|tempcx
)paren
(brace
id|USHORT
id|temp
comma
id|i
comma
id|tempch
suffix:semicolon
id|temp
op_assign
id|tempbx
op_amp
l_int|0xFF
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_Part4Port
comma
l_int|0x11
comma
id|temp
)paren
suffix:semicolon
id|temp
op_assign
(paren
id|tempbx
op_amp
l_int|0xFF00
)paren
op_rshift
l_int|8
suffix:semicolon
id|temp
op_or_assign
(paren
id|tempcx
op_amp
l_int|0x00FF
)paren
suffix:semicolon
id|SiS_SetRegANDOR
c_func
(paren
id|SiS_Pr-&gt;SiS_Part4Port
comma
l_int|0x10
comma
op_complement
l_int|0x1F
comma
id|temp
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|10
suffix:semicolon
id|i
op_increment
)paren
(brace
id|SiS_LongWait
c_func
(paren
id|SiS_Pr
)paren
suffix:semicolon
)brace
id|tempch
op_assign
(paren
id|tempcx
op_amp
l_int|0x7F00
)paren
op_rshift
l_int|8
suffix:semicolon
id|temp
op_assign
id|SiS_GetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_Part4Port
comma
l_int|0x03
)paren
suffix:semicolon
id|temp
op_xor_assign
l_int|0x0E
suffix:semicolon
id|temp
op_and_assign
id|tempch
suffix:semicolon
r_if
c_cond
(paren
id|temp
OG
l_int|0
)paren
(brace
r_return
l_int|1
suffix:semicolon
)brace
r_else
r_return
l_int|0
suffix:semicolon
)brace
id|USHORT
DECL|function|SiS_SenseLCD
id|SiS_SenseLCD
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
)paren
(brace
id|USHORT
id|temp
suffix:semicolon
id|temp
op_assign
id|SiS_GetPanelID
c_func
(paren
id|SiS_Pr
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|temp
)paren
(brace
id|temp
op_assign
id|SiS_GetLCDDDCInfo
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
)paren
suffix:semicolon
)brace
r_return
id|temp
suffix:semicolon
)brace
id|BOOLEAN
DECL|function|SiS_GetLCDDDCInfo
id|SiS_GetLCDDDCInfo
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
)paren
(brace
id|USHORT
id|temp
suffix:semicolon
multiline_comment|/*add lcd sense*/
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;ulCRT2LCDType
op_eq
id|LCD_UNKNOWN
)paren
(brace
r_return
l_int|0
suffix:semicolon
)brace
r_else
(brace
id|temp
op_assign
(paren
id|USHORT
)paren
id|HwDeviceExtension-&gt;ulCRT2LCDType
suffix:semicolon
id|SiS_SetReg1
c_func
(paren
id|SiS_Pr-&gt;SiS_P3d4
comma
l_int|0x36
comma
id|temp
)paren
suffix:semicolon
r_return
l_int|1
suffix:semicolon
)brace
)brace
id|USHORT
DECL|function|SiS_SenseCHTV
id|SiS_SenseCHTV
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
)paren
(brace
id|USHORT
id|temp
comma
id|push0e
comma
id|status
suffix:semicolon
id|status
op_assign
l_int|0
suffix:semicolon
id|push0e
op_assign
id|SiS_GetCH700x
c_func
(paren
id|SiS_Pr
comma
l_int|0x0e
)paren
suffix:semicolon
id|push0e
op_assign
(paren
id|push0e
op_lshift
l_int|8
)paren
op_or
l_int|0x0e
suffix:semicolon
id|SiS_SetCH700x
c_func
(paren
id|SiS_Pr
comma
l_int|0x0b0e
)paren
suffix:semicolon
id|SiS_SetCH700x
c_func
(paren
id|SiS_Pr
comma
l_int|0x0110
)paren
suffix:semicolon
id|SiS_SetCH700x
c_func
(paren
id|SiS_Pr
comma
l_int|0x0010
)paren
suffix:semicolon
id|temp
op_assign
id|SiS_GetCH700x
c_func
(paren
id|SiS_Pr
comma
l_int|0x10
)paren
suffix:semicolon
r_if
c_cond
(paren
id|temp
op_amp
l_int|0x08
)paren
(brace
id|status
op_or_assign
id|SVIDEOSense
suffix:semicolon
)brace
r_if
c_cond
(paren
id|temp
op_amp
l_int|0x02
)paren
(brace
id|status
op_or_assign
id|AVIDEOSense
suffix:semicolon
)brace
id|SiS_SetCH700x
c_func
(paren
id|SiS_Pr
comma
id|push0e
)paren
suffix:semicolon
r_return
id|status
suffix:semicolon
)brace
macro_line|#endif /* LINUXBIOS */
multiline_comment|/*  ================ for TC only =================  */
macro_line|#ifdef TC
r_int
DECL|function|INT1AReturnCode
id|INT1AReturnCode
c_func
(paren
r_union
id|REGS
id|regs
)paren
(brace
r_if
c_cond
(paren
id|regs.x.cflag
)paren
(brace
multiline_comment|/*printf(&quot;Error to find pci device!&bslash;n&quot;); */
r_return
l_int|1
suffix:semicolon
)brace
r_switch
c_cond
(paren
id|regs.h.ah
)paren
(brace
r_case
l_int|0
suffix:colon
r_return
l_int|0
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x81
suffix:colon
id|printf
c_func
(paren
l_string|&quot;Function not support&bslash;n&quot;
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x83
suffix:colon
id|printf
c_func
(paren
l_string|&quot;bad vendor id&bslash;n&quot;
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x86
suffix:colon
id|printf
c_func
(paren
l_string|&quot;device not found&bslash;n&quot;
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x87
suffix:colon
id|printf
c_func
(paren
l_string|&quot;bad register number&bslash;n&quot;
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x88
suffix:colon
id|printf
c_func
(paren
l_string|&quot;set failed&bslash;n&quot;
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x89
suffix:colon
id|printf
c_func
(paren
l_string|&quot;buffer too small&quot;
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
r_return
l_int|1
suffix:semicolon
)brace
r_int
DECL|function|FindPCIIOBase
id|FindPCIIOBase
c_func
(paren
r_int
id|index
comma
r_int
id|deviceid
)paren
(brace
r_union
id|REGS
id|regs
suffix:semicolon
id|regs.h.ah
op_assign
l_int|0xb1
suffix:semicolon
multiline_comment|/*PCI_FUNCTION_ID */
id|regs.h.al
op_assign
l_int|0x02
suffix:semicolon
multiline_comment|/*FIND_PCI_DEVICE */
id|regs.x.cx
op_assign
id|deviceid
suffix:semicolon
id|regs.x.dx
op_assign
l_int|0x1039
suffix:semicolon
id|regs.x.si
op_assign
id|index
suffix:semicolon
multiline_comment|/* find n-th device */
id|int86
c_func
(paren
l_int|0x1A
comma
op_amp
id|regs
comma
op_amp
id|regs
)paren
suffix:semicolon
r_if
c_cond
(paren
id|INT1AReturnCode
c_func
(paren
id|regs
)paren
op_ne
l_int|0
)paren
r_return
l_int|0
suffix:semicolon
multiline_comment|/* regs.h.bh */
multiline_comment|/* bus number */
multiline_comment|/* regs.h.bl */
multiline_comment|/* device number */
id|regs.h.ah
op_assign
l_int|0xb1
suffix:semicolon
multiline_comment|/*PCI_FUNCTION_ID */
id|regs.h.al
op_assign
l_int|0x09
suffix:semicolon
multiline_comment|/*READ_CONFIG_WORD */
id|regs.x.cx
op_assign
id|deviceid
suffix:semicolon
id|regs.x.dx
op_assign
l_int|0x1039
suffix:semicolon
id|regs.x.di
op_assign
l_int|0x18
suffix:semicolon
multiline_comment|/* register number */
id|int86
c_func
(paren
l_int|0x1A
comma
op_amp
id|regs
comma
op_amp
id|regs
)paren
suffix:semicolon
r_if
c_cond
(paren
id|INT1AReturnCode
c_func
(paren
id|regs
)paren
op_ne
l_int|0
)paren
r_return
l_int|0
suffix:semicolon
r_return
id|regs.x.cx
suffix:semicolon
)brace
r_void
DECL|function|main
id|main
c_func
(paren
r_int
id|argc
comma
r_char
op_star
id|argv
(braket
)braket
)paren
(brace
id|SIS_HW_DEVICE_INFO
id|HwDeviceExtension
suffix:semicolon
id|USHORT
id|temp
suffix:semicolon
id|USHORT
id|ModeNo
suffix:semicolon
multiline_comment|/*HwDeviceExtension.pjVirtualRomBase =(PUCHAR) MK_FP(0xC000,0); */
multiline_comment|/*HwDeviceExtension.pjVideoMemoryAddress = (PUCHAR)MK_FP(0xA000,0);*/
macro_line|#ifdef SIS300  
id|HwDeviceExtension.ulIOAddress
op_assign
(paren
id|FindPCIIOBase
c_func
(paren
l_int|0
comma
l_int|0x6300
)paren
op_amp
l_int|0xFF80
)paren
op_plus
l_int|0x30
suffix:semicolon
id|HwDeviceExtension.jChipType
op_assign
id|SIS_630
suffix:semicolon
macro_line|#endif
macro_line|#ifdef SIS315H  
singleline_comment|//  HwDeviceExtension.ulIOAddress = (FindPCIIOBase(0,0x5315)&amp;0xFF80) + 0x30;
singleline_comment|//  HwDeviceExtension.jChipType = SIS_550;
id|HwDeviceExtension.ulIOAddress
op_assign
(paren
id|FindPCIIOBase
c_func
(paren
l_int|0
comma
l_int|0x325
)paren
op_amp
l_int|0xFF80
)paren
op_plus
l_int|0x30
suffix:semicolon
id|HwDeviceExtension.jChipType
op_assign
id|SIS_315H
suffix:semicolon
macro_line|#endif
id|HwDeviceExtension.ujVBChipID
op_assign
id|VB_CHIP_301
suffix:semicolon
id|strcpy
c_func
(paren
id|HwDeviceExtension.szVBIOSVer
comma
l_string|&quot;0.84&quot;
)paren
suffix:semicolon
id|HwDeviceExtension.bSkipDramSizing
op_assign
id|FALSE
suffix:semicolon
id|HwDeviceExtension.ulVideoMemorySize
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|argc
op_eq
l_int|2
)paren
(brace
id|ModeNo
op_assign
id|atoi
c_func
(paren
id|argv
(braket
l_int|1
)braket
)paren
suffix:semicolon
)brace
r_else
(brace
id|ModeNo
op_assign
l_int|0x2e
suffix:semicolon
multiline_comment|/*ModeNo=0x37; */
multiline_comment|/* 1024x768x 4bpp */
multiline_comment|/*ModeNo=0x38; */
multiline_comment|/* 1024x768x 8bpp */
multiline_comment|/*ModeNo=0x4A; */
multiline_comment|/* 1024x768x 16bpp */
multiline_comment|/*ModeNo=0x47;*/
multiline_comment|/* 800x600x 16bpp */
)brace
multiline_comment|/* SiSInit(SiS_Pr, &amp;HwDeviceExtension);*/
id|SiSSetMode
c_func
(paren
id|SiS_Pr
comma
op_amp
id|HwDeviceExtension
comma
id|ModeNo
)paren
suffix:semicolon
)brace
macro_line|#endif /* TC END */
multiline_comment|/* ================ XFREE86 ================= */
multiline_comment|/* Helper functions */
macro_line|#ifdef LINUX_XF86
id|USHORT
DECL|function|SiS_CheckBuildCustomMode
id|SiS_CheckBuildCustomMode
c_func
(paren
id|ScrnInfoPtr
id|pScrn
comma
id|DisplayModePtr
id|mode
comma
r_int
id|VBFlags
)paren
(brace
id|SISPtr
id|pSiS
op_assign
id|SISPTR
c_func
(paren
id|pScrn
)paren
suffix:semicolon
r_int
id|out_n
comma
id|out_dn
comma
id|out_div
comma
id|out_sbit
comma
id|out_scale
suffix:semicolon
r_int
id|depth
op_assign
id|pSiS-&gt;CurrentLayout.bitsPerPixel
suffix:semicolon
macro_line|#ifdef SISDUALHEAD
r_if
c_cond
(paren
(paren
(paren
op_logical_neg
id|pSiS-&gt;DualHeadMode
)paren
op_logical_and
(paren
id|VBFlags
op_amp
id|DISPTYPE_DISP2
)paren
)paren
op_logical_or
(paren
(paren
id|pSiS-&gt;DualHeadMode
)paren
op_logical_and
(paren
op_logical_neg
id|pSiS-&gt;SecondHead
)paren
)paren
)paren
(brace
r_return
l_int|0
suffix:semicolon
)brace
macro_line|#else      
r_if
c_cond
(paren
id|VBFlags
op_amp
id|DISPTYPE_DISP2
)paren
(brace
r_return
l_int|0
suffix:semicolon
)brace
macro_line|#endif   
id|pSiS-&gt;SiS_Pr-&gt;CDClock
op_assign
id|mode-&gt;Clock
suffix:semicolon
id|pSiS-&gt;SiS_Pr-&gt;CHDisplay
op_assign
id|mode-&gt;HDisplay
suffix:semicolon
id|pSiS-&gt;SiS_Pr-&gt;CHSyncStart
op_assign
id|mode-&gt;HSyncStart
suffix:semicolon
id|pSiS-&gt;SiS_Pr-&gt;CHSyncEnd
op_assign
id|mode-&gt;HSyncEnd
suffix:semicolon
id|pSiS-&gt;SiS_Pr-&gt;CHTotal
op_assign
id|mode-&gt;HTotal
suffix:semicolon
id|pSiS-&gt;SiS_Pr-&gt;CHBlankStart
op_assign
id|pSiS-&gt;SiS_Pr-&gt;CHDisplay
suffix:semicolon
id|pSiS-&gt;SiS_Pr-&gt;CHBlankEnd
op_assign
id|pSiS-&gt;SiS_Pr-&gt;CHTotal
suffix:semicolon
id|pSiS-&gt;SiS_Pr-&gt;CVDisplay
op_assign
id|mode-&gt;VDisplay
suffix:semicolon
id|pSiS-&gt;SiS_Pr-&gt;CVSyncStart
op_assign
id|mode-&gt;VSyncStart
suffix:semicolon
id|pSiS-&gt;SiS_Pr-&gt;CVSyncEnd
op_assign
id|mode-&gt;VSyncEnd
suffix:semicolon
id|pSiS-&gt;SiS_Pr-&gt;CVTotal
op_assign
id|mode-&gt;VTotal
suffix:semicolon
id|pSiS-&gt;SiS_Pr-&gt;CVBlankStart
op_assign
id|pSiS-&gt;SiS_Pr-&gt;CVSyncStart
op_minus
l_int|1
suffix:semicolon
id|pSiS-&gt;SiS_Pr-&gt;CVBlankEnd
op_assign
id|pSiS-&gt;SiS_Pr-&gt;CVTotal
suffix:semicolon
id|pSiS-&gt;SiS_Pr-&gt;CFlags
op_assign
id|mode-&gt;Flags
suffix:semicolon
id|SiS_compute_vclk
c_func
(paren
id|pSiS-&gt;SiS_Pr-&gt;CDClock
comma
op_amp
id|out_n
comma
op_amp
id|out_dn
comma
op_amp
id|out_div
comma
op_amp
id|out_sbit
comma
op_amp
id|out_scale
)paren
suffix:semicolon
macro_line|#ifdef TWDEBUG
id|xf86DrvMsg
c_func
(paren
id|pScrn-&gt;scrnIndex
comma
id|X_INFO
comma
l_string|&quot;Clock %d: n %d dn %d div %d sb %d sc %d&bslash;n&quot;
comma
id|pSiS-&gt;SiS_Pr-&gt;CDClock
comma
id|out_n
comma
id|out_dn
comma
id|out_div
comma
id|out_sbit
comma
id|out_scale
)paren
suffix:semicolon
macro_line|#endif&t;
id|pSiS-&gt;SiS_Pr-&gt;CSR2B
op_assign
(paren
id|out_div
op_eq
l_int|2
)paren
ques
c_cond
l_int|0x80
suffix:colon
l_int|0x00
suffix:semicolon
id|pSiS-&gt;SiS_Pr-&gt;CSR2B
op_or_assign
(paren
(paren
id|out_n
op_minus
l_int|1
)paren
op_amp
l_int|0x7f
)paren
suffix:semicolon
id|pSiS-&gt;SiS_Pr-&gt;CSR2C
op_assign
(paren
id|out_dn
op_minus
l_int|1
)paren
op_amp
l_int|0x1f
suffix:semicolon
id|pSiS-&gt;SiS_Pr-&gt;CSR2C
op_or_assign
(paren
(paren
(paren
id|out_scale
op_minus
l_int|1
)paren
op_amp
l_int|3
)paren
op_lshift
l_int|5
)paren
suffix:semicolon
id|pSiS-&gt;SiS_Pr-&gt;CSR2C
op_or_assign
(paren
(paren
id|out_sbit
op_amp
l_int|0x01
)paren
op_lshift
l_int|7
)paren
suffix:semicolon
id|pSiS-&gt;SiS_Pr-&gt;CSRClock
op_assign
(paren
id|pSiS-&gt;SiS_Pr-&gt;CDClock
op_div
l_int|1000
)paren
op_plus
l_int|1
suffix:semicolon
id|pSiS-&gt;SiS_Pr-&gt;CCRT1CRTC
(braket
l_int|0
)braket
op_assign
(paren
(paren
id|pSiS-&gt;SiS_Pr-&gt;CHTotal
op_rshift
l_int|3
)paren
op_minus
l_int|5
)paren
op_amp
l_int|0xff
suffix:semicolon
id|pSiS-&gt;SiS_Pr-&gt;CCRT1CRTC
(braket
l_int|1
)braket
op_assign
(paren
id|pSiS-&gt;SiS_Pr-&gt;CHDisplay
op_rshift
l_int|3
)paren
op_minus
l_int|1
suffix:semicolon
id|pSiS-&gt;SiS_Pr-&gt;CCRT1CRTC
(braket
l_int|2
)braket
op_assign
(paren
id|pSiS-&gt;SiS_Pr-&gt;CHBlankStart
op_rshift
l_int|3
)paren
op_minus
l_int|1
suffix:semicolon
id|pSiS-&gt;SiS_Pr-&gt;CCRT1CRTC
(braket
l_int|3
)braket
op_assign
(paren
(paren
(paren
id|pSiS-&gt;SiS_Pr-&gt;CHBlankEnd
op_rshift
l_int|3
)paren
op_minus
l_int|1
)paren
op_amp
l_int|0x1F
)paren
op_or
l_int|0x80
suffix:semicolon
id|pSiS-&gt;SiS_Pr-&gt;CCRT1CRTC
(braket
l_int|4
)braket
op_assign
(paren
id|pSiS-&gt;SiS_Pr-&gt;CHSyncStart
op_rshift
l_int|3
)paren
op_plus
l_int|3
suffix:semicolon
id|pSiS-&gt;SiS_Pr-&gt;CCRT1CRTC
(braket
l_int|5
)braket
op_assign
(paren
(paren
(paren
(paren
id|pSiS-&gt;SiS_Pr-&gt;CHBlankEnd
op_rshift
l_int|3
)paren
op_minus
l_int|1
)paren
op_amp
l_int|0x20
)paren
op_lshift
l_int|2
)paren
op_or
(paren
(paren
(paren
id|pSiS-&gt;SiS_Pr-&gt;CHSyncEnd
op_rshift
l_int|3
)paren
op_plus
l_int|3
)paren
op_amp
l_int|0x1F
)paren
suffix:semicolon
id|pSiS-&gt;SiS_Pr-&gt;CCRT1CRTC
(braket
l_int|6
)braket
op_assign
(paren
id|pSiS-&gt;SiS_Pr-&gt;CVTotal
op_minus
l_int|2
)paren
op_amp
l_int|0xFF
suffix:semicolon
id|pSiS-&gt;SiS_Pr-&gt;CCRT1CRTC
(braket
l_int|7
)braket
op_assign
(paren
(paren
(paren
id|pSiS-&gt;SiS_Pr-&gt;CVTotal
op_minus
l_int|2
)paren
op_amp
l_int|0x100
)paren
op_rshift
l_int|8
)paren
op_or
(paren
(paren
(paren
id|pSiS-&gt;SiS_Pr-&gt;CVDisplay
op_minus
l_int|1
)paren
op_amp
l_int|0x100
)paren
op_rshift
l_int|7
)paren
op_or
(paren
(paren
id|pSiS-&gt;SiS_Pr-&gt;CVSyncStart
op_amp
l_int|0x100
)paren
op_rshift
l_int|6
)paren
op_or
(paren
(paren
(paren
id|pSiS-&gt;SiS_Pr-&gt;CVBlankStart
op_minus
l_int|1
)paren
op_amp
l_int|0x100
)paren
op_rshift
l_int|5
)paren
op_or
l_int|0x10
op_or
(paren
(paren
(paren
id|pSiS-&gt;SiS_Pr-&gt;CVTotal
op_minus
l_int|2
)paren
op_amp
l_int|0x200
)paren
op_rshift
l_int|4
)paren
op_or
(paren
(paren
(paren
id|pSiS-&gt;SiS_Pr-&gt;CVDisplay
op_minus
l_int|1
)paren
op_amp
l_int|0x200
)paren
op_rshift
l_int|3
)paren
op_or
(paren
(paren
id|pSiS-&gt;SiS_Pr-&gt;CVSyncStart
op_amp
l_int|0x200
)paren
op_rshift
l_int|2
)paren
suffix:semicolon
id|pSiS-&gt;SiS_Pr-&gt;CCRT1CRTC
(braket
l_int|16
)braket
op_assign
(paren
(paren
(paren
(paren
id|pSiS-&gt;SiS_Pr-&gt;CVBlankStart
op_minus
l_int|1
)paren
op_amp
l_int|0x200
)paren
op_rshift
l_int|4
)paren
op_rshift
l_int|5
)paren
suffix:semicolon
multiline_comment|/* cr9 */
macro_line|#if 0    
r_if
c_cond
(paren
id|mode-&gt;VScan
op_ge
l_int|32
)paren
id|regp-&gt;CRTC
(braket
l_int|9
)braket
op_or_assign
l_int|0x1F
suffix:semicolon
r_else
r_if
c_cond
(paren
id|mode-&gt;VScan
OG
l_int|1
)paren
id|regp-&gt;CRTC
(braket
l_int|9
)braket
op_or_assign
id|mode-&gt;VScan
op_minus
l_int|1
suffix:semicolon
macro_line|#endif&t;
id|pSiS-&gt;SiS_Pr-&gt;CCRT1CRTC
(braket
l_int|8
)braket
op_assign
(paren
id|pSiS-&gt;SiS_Pr-&gt;CVSyncStart
op_minus
l_int|1
)paren
op_amp
l_int|0xFF
suffix:semicolon
multiline_comment|/* cr10 */
id|pSiS-&gt;SiS_Pr-&gt;CCRT1CRTC
(braket
l_int|9
)braket
op_assign
(paren
(paren
id|pSiS-&gt;SiS_Pr-&gt;CVSyncEnd
op_minus
l_int|1
)paren
op_amp
l_int|0x0F
)paren
op_or
l_int|0x80
suffix:semicolon
multiline_comment|/* cr11 */
id|pSiS-&gt;SiS_Pr-&gt;CCRT1CRTC
(braket
l_int|10
)braket
op_assign
(paren
id|pSiS-&gt;SiS_Pr-&gt;CVDisplay
op_minus
l_int|1
)paren
op_amp
l_int|0xFF
suffix:semicolon
multiline_comment|/* cr12 */
id|pSiS-&gt;SiS_Pr-&gt;CCRT1CRTC
(braket
l_int|11
)braket
op_assign
(paren
id|pSiS-&gt;SiS_Pr-&gt;CVBlankStart
op_minus
l_int|1
)paren
op_amp
l_int|0xFF
suffix:semicolon
multiline_comment|/* cr15 */
id|pSiS-&gt;SiS_Pr-&gt;CCRT1CRTC
(braket
l_int|12
)braket
op_assign
(paren
id|pSiS-&gt;SiS_Pr-&gt;CVBlankEnd
op_minus
l_int|1
)paren
op_amp
l_int|0xFF
suffix:semicolon
multiline_comment|/* cr16 */
id|pSiS-&gt;SiS_Pr-&gt;CCRT1CRTC
(braket
l_int|13
)braket
op_assign
id|GETBITSTR
c_func
(paren
(paren
id|pSiS-&gt;SiS_Pr-&gt;CVTotal
op_minus
l_int|2
)paren
comma
l_int|10
suffix:colon
l_int|10
comma
l_int|0
suffix:colon
l_int|0
)paren
op_or
id|GETBITSTR
c_func
(paren
(paren
id|pSiS-&gt;SiS_Pr-&gt;CVDisplay
op_minus
l_int|1
)paren
comma
l_int|10
suffix:colon
l_int|10
comma
l_int|1
suffix:colon
l_int|1
)paren
op_or
id|GETBITSTR
c_func
(paren
(paren
id|pSiS-&gt;SiS_Pr-&gt;CVBlankStart
op_minus
l_int|1
)paren
comma
l_int|10
suffix:colon
l_int|10
comma
l_int|2
suffix:colon
l_int|2
)paren
op_or
id|GETBITSTR
c_func
(paren
(paren
id|pSiS-&gt;SiS_Pr-&gt;CVSyncStart
)paren
comma
l_int|10
suffix:colon
l_int|10
comma
l_int|3
suffix:colon
l_int|3
)paren
op_or
id|GETBITSTR
c_func
(paren
(paren
id|pSiS-&gt;SiS_Pr-&gt;CVBlankEnd
op_minus
l_int|1
)paren
comma
l_int|8
suffix:colon
l_int|8
comma
l_int|4
suffix:colon
l_int|4
)paren
op_or
id|GETBITSTR
c_func
(paren
(paren
id|pSiS-&gt;SiS_Pr-&gt;CVSyncEnd
op_minus
l_int|1
)paren
comma
l_int|4
suffix:colon
l_int|4
comma
l_int|5
suffix:colon
l_int|5
)paren
suffix:semicolon
id|pSiS-&gt;SiS_Pr-&gt;CCRT1CRTC
(braket
l_int|14
)braket
op_assign
id|GETBITSTR
c_func
(paren
(paren
id|pSiS-&gt;SiS_Pr-&gt;CHTotal
op_rshift
l_int|3
)paren
op_minus
l_int|5
comma
l_int|9
suffix:colon
l_int|8
comma
l_int|1
suffix:colon
l_int|0
)paren
op_or
id|GETBITSTR
c_func
(paren
(paren
id|pSiS-&gt;SiS_Pr-&gt;CHDisplay
op_rshift
l_int|3
)paren
op_minus
l_int|1
comma
l_int|9
suffix:colon
l_int|8
comma
l_int|3
suffix:colon
l_int|2
)paren
op_or
id|GETBITSTR
c_func
(paren
(paren
id|pSiS-&gt;SiS_Pr-&gt;CHBlankStart
op_rshift
l_int|3
)paren
op_minus
l_int|1
comma
l_int|9
suffix:colon
l_int|8
comma
l_int|5
suffix:colon
l_int|4
)paren
op_or
id|GETBITSTR
c_func
(paren
(paren
id|pSiS-&gt;SiS_Pr-&gt;CHSyncStart
op_rshift
l_int|3
)paren
op_plus
l_int|3
comma
l_int|9
suffix:colon
l_int|8
comma
l_int|7
suffix:colon
l_int|6
)paren
suffix:semicolon
id|pSiS-&gt;SiS_Pr-&gt;CCRT1CRTC
(braket
l_int|15
)braket
op_assign
id|GETBITSTR
c_func
(paren
(paren
id|pSiS-&gt;SiS_Pr-&gt;CHBlankEnd
op_rshift
l_int|3
)paren
op_minus
l_int|1
comma
l_int|7
suffix:colon
l_int|6
comma
l_int|1
suffix:colon
l_int|0
)paren
op_or
id|GETBITSTR
c_func
(paren
(paren
id|pSiS-&gt;SiS_Pr-&gt;CHSyncEnd
op_rshift
l_int|3
)paren
op_plus
l_int|3
comma
l_int|5
suffix:colon
l_int|5
comma
l_int|2
suffix:colon
l_int|2
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|depth
)paren
(brace
r_case
l_int|8
suffix:colon
id|pSiS-&gt;SiS_Pr-&gt;CModeFlag
op_assign
l_int|0x223b
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|16
suffix:colon
id|pSiS-&gt;SiS_Pr-&gt;CModeFlag
op_assign
l_int|0x227d
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|32
suffix:colon
id|pSiS-&gt;SiS_Pr-&gt;CModeFlag
op_assign
l_int|0x22ff
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
r_return
l_int|0
suffix:semicolon
)brace
r_if
c_cond
(paren
id|pSiS-&gt;SiS_Pr-&gt;CFlags
op_amp
id|V_DBLSCAN
)paren
(brace
id|pSiS-&gt;SiS_Pr-&gt;CModeFlag
op_or_assign
id|DoubleScanMode
suffix:semicolon
)brace
r_if
c_cond
(paren
(paren
id|pSiS-&gt;SiS_Pr-&gt;CVDisplay
op_ge
l_int|1024
)paren
op_logical_or
(paren
id|pSiS-&gt;SiS_Pr-&gt;CVTotal
op_ge
l_int|1024
)paren
op_logical_or
(paren
id|pSiS-&gt;SiS_Pr-&gt;CHDisplay
op_ge
l_int|1024
)paren
)paren
(brace
id|pSiS-&gt;SiS_Pr-&gt;CModeFlag
op_or_assign
id|LineCompareOff
suffix:semicolon
)brace
r_if
c_cond
(paren
id|pSiS-&gt;SiS_Pr-&gt;CFlags
op_amp
id|V_CLKDIV2
)paren
(brace
id|pSiS-&gt;SiS_Pr-&gt;CModeFlag
op_or_assign
id|HalfDCLK
suffix:semicolon
)brace
id|pSiS-&gt;SiS_Pr-&gt;CInfoFlag
op_assign
l_int|0x0007
suffix:semicolon
r_if
c_cond
(paren
id|pSiS-&gt;SiS_Pr-&gt;CFlags
op_amp
id|V_NHSYNC
)paren
(brace
id|pSiS-&gt;SiS_Pr-&gt;CInfoFlag
op_or_assign
l_int|0x4000
suffix:semicolon
)brace
r_if
c_cond
(paren
id|pSiS-&gt;SiS_Pr-&gt;CFlags
op_amp
id|V_NVSYNC
)paren
(brace
id|pSiS-&gt;SiS_Pr-&gt;CInfoFlag
op_or_assign
l_int|0x8000
suffix:semicolon
)brace
r_if
c_cond
(paren
id|pSiS-&gt;SiS_Pr-&gt;CFlags
op_amp
id|V_INTERLACE
)paren
(brace
id|pSiS-&gt;SiS_Pr-&gt;CInfoFlag
op_or_assign
id|InterlaceMode
suffix:semicolon
)brace
id|pSiS-&gt;SiS_Pr-&gt;UseCustomMode
op_assign
id|TRUE
suffix:semicolon
macro_line|#ifdef TWDEBUG
id|xf86DrvMsg
c_func
(paren
l_int|0
comma
id|X_INFO
comma
l_string|&quot;Custom mode %dx%d:&bslash;n&quot;
comma
id|pSiS-&gt;SiS_Pr-&gt;CHDisplay
comma
id|pSiS-&gt;SiS_Pr-&gt;CVDisplay
)paren
suffix:semicolon
id|xf86DrvMsg
c_func
(paren
l_int|0
comma
id|X_INFO
comma
l_string|&quot;Modeflag %04x, Infoflag %04x&bslash;n&quot;
comma
id|pSiS-&gt;SiS_Pr-&gt;CModeFlag
comma
id|pSiS-&gt;SiS_Pr-&gt;CInfoFlag
)paren
suffix:semicolon
id|xf86DrvMsg
c_func
(paren
l_int|0
comma
id|X_INFO
comma
l_string|&quot; {{0x%02x,0x%02x,0x%02x,0x%02x,0x%02x,0x%02x,0x%02x,0x%02x,&bslash;n&quot;
comma
id|pSiS-&gt;SiS_Pr-&gt;CCRT1CRTC
(braket
l_int|0
)braket
comma
id|pSiS-&gt;SiS_Pr-&gt;CCRT1CRTC
(braket
l_int|1
)braket
comma
id|pSiS-&gt;SiS_Pr-&gt;CCRT1CRTC
(braket
l_int|2
)braket
comma
id|pSiS-&gt;SiS_Pr-&gt;CCRT1CRTC
(braket
l_int|3
)braket
comma
id|pSiS-&gt;SiS_Pr-&gt;CCRT1CRTC
(braket
l_int|4
)braket
comma
id|pSiS-&gt;SiS_Pr-&gt;CCRT1CRTC
(braket
l_int|5
)braket
comma
id|pSiS-&gt;SiS_Pr-&gt;CCRT1CRTC
(braket
l_int|6
)braket
comma
id|pSiS-&gt;SiS_Pr-&gt;CCRT1CRTC
(braket
l_int|7
)braket
)paren
suffix:semicolon
id|xf86DrvMsg
c_func
(paren
l_int|0
comma
id|X_INFO
comma
l_string|&quot;  0x%02x,0x%02x,0x%02x,0x%02x,0x%02x,0x%02x,0x%02x,0x%02x,&bslash;n&quot;
comma
id|pSiS-&gt;SiS_Pr-&gt;CCRT1CRTC
(braket
l_int|8
)braket
comma
id|pSiS-&gt;SiS_Pr-&gt;CCRT1CRTC
(braket
l_int|9
)braket
comma
id|pSiS-&gt;SiS_Pr-&gt;CCRT1CRTC
(braket
l_int|10
)braket
comma
id|pSiS-&gt;SiS_Pr-&gt;CCRT1CRTC
(braket
l_int|11
)braket
comma
id|pSiS-&gt;SiS_Pr-&gt;CCRT1CRTC
(braket
l_int|12
)braket
comma
id|pSiS-&gt;SiS_Pr-&gt;CCRT1CRTC
(braket
l_int|13
)braket
comma
id|pSiS-&gt;SiS_Pr-&gt;CCRT1CRTC
(braket
l_int|14
)braket
comma
id|pSiS-&gt;SiS_Pr-&gt;CCRT1CRTC
(braket
l_int|15
)braket
)paren
suffix:semicolon
id|xf86DrvMsg
c_func
(paren
l_int|0
comma
id|X_INFO
comma
l_string|&quot;  0x%02x}},&bslash;n&quot;
comma
id|pSiS-&gt;SiS_Pr-&gt;CCRT1CRTC
(braket
l_int|16
)braket
)paren
suffix:semicolon
id|xf86DrvMsg
c_func
(paren
l_int|0
comma
id|X_INFO
comma
l_string|&quot;Clock: 0x%02x, 0x%02x, %d&bslash;n&quot;
comma
id|pSiS-&gt;SiS_Pr-&gt;CSR2B
comma
id|pSiS-&gt;SiS_Pr-&gt;CSR2C
comma
id|pSiS-&gt;SiS_Pr-&gt;CSRClock
)paren
suffix:semicolon
macro_line|#endif   &t;
r_return
l_int|1
suffix:semicolon
)brace
multiline_comment|/* TW: Build a list of supported modes */
id|DisplayModePtr
DECL|function|SiSBuildBuiltInModeList
id|SiSBuildBuiltInModeList
c_func
(paren
id|ScrnInfoPtr
id|pScrn
)paren
(brace
id|SISPtr
id|pSiS
op_assign
id|SISPTR
c_func
(paren
id|pScrn
)paren
suffix:semicolon
r_int
r_int
id|VRE
comma
id|VBE
comma
id|VRS
comma
id|VBS
comma
id|VDE
comma
id|VT
suffix:semicolon
r_int
r_int
id|HRE
comma
id|HBE
comma
id|HRS
comma
id|HBS
comma
id|HDE
comma
id|HT
suffix:semicolon
r_int
r_char
id|sr_data
comma
id|cr_data
comma
id|cr_data2
comma
id|cr_data3
suffix:semicolon
r_int
r_char
id|sr2b
comma
id|sr2c
suffix:semicolon
r_float
id|num
comma
id|denum
comma
id|postscalar
comma
id|divider
suffix:semicolon
r_int
id|A
comma
id|B
comma
id|C
comma
id|D
comma
id|E
comma
id|F
comma
id|temp
comma
id|i
comma
id|j
comma
id|index
comma
id|vclkindex
suffix:semicolon
id|DisplayModePtr
r_new
op_assign
l_int|NULL
comma
id|current
op_assign
l_int|NULL
comma
id|first
op_assign
l_int|NULL
comma
id|backup
op_assign
l_int|NULL
suffix:semicolon
id|pSiS-&gt;backupmodelist
op_assign
l_int|NULL
suffix:semicolon
multiline_comment|/* Initialize our pointers */
r_if
c_cond
(paren
id|pSiS-&gt;VGAEngine
op_eq
id|SIS_300_VGA
)paren
(brace
macro_line|#ifdef SIS300
id|InitTo300Pointer
c_func
(paren
id|pSiS-&gt;SiS_Pr
comma
op_amp
id|pSiS-&gt;sishw_ext
)paren
suffix:semicolon
macro_line|#else
r_return
l_int|NULL
suffix:semicolon
macro_line|#endif
)brace
r_else
r_if
c_cond
(paren
id|pSiS-&gt;VGAEngine
op_eq
id|SIS_315_VGA
)paren
(brace
macro_line|#ifdef SIS315H
id|InitTo310Pointer
c_func
(paren
id|pSiS-&gt;SiS_Pr
comma
op_amp
id|pSiS-&gt;sishw_ext
)paren
suffix:semicolon
macro_line|#else
r_return
l_int|NULL
suffix:semicolon
macro_line|#endif
)brace
r_else
r_return
l_int|NULL
suffix:semicolon
id|i
op_assign
l_int|0
suffix:semicolon
r_while
c_loop
(paren
id|pSiS-&gt;SiS_Pr-&gt;SiS_RefIndex
(braket
id|i
)braket
dot
id|Ext_InfoFlag
op_ne
l_int|0xFFFF
)paren
(brace
id|index
op_assign
id|pSiS-&gt;SiS_Pr-&gt;SiS_RefIndex
(braket
id|i
)braket
dot
id|Ext_CRT1CRTC
suffix:semicolon
macro_line|#if 0 /* Not any longer */    
r_if
c_cond
(paren
id|pSiS-&gt;VGAEngine
op_eq
id|SIS_300_VGA
)paren
(brace
id|index
op_and_assign
l_int|0x3F
suffix:semicolon
)brace
macro_line|#endif      
r_if
c_cond
(paren
(paren
(paren
id|pSiS-&gt;SiS_Pr-&gt;SiS_RefIndex
(braket
id|i
)braket
dot
id|XRes
OL
l_int|512
)paren
op_logical_and
(paren
op_logical_neg
id|pSiS-&gt;DSTN
)paren
)paren
op_logical_or
(paren
(paren
id|pSiS-&gt;DSTN
)paren
op_logical_and
(paren
id|pSiS-&gt;SiS_Pr-&gt;SiS_RefIndex
(braket
id|i
)braket
dot
id|XRes
OL
l_int|512
)paren
op_logical_and
(paren
id|pSiS-&gt;SiS_Pr-&gt;SiS_RefIndex
(braket
id|i
)braket
dot
id|XRes
op_ne
l_int|320
)paren
op_logical_and
(paren
id|pSiS-&gt;SiS_Pr-&gt;SiS_RefIndex
(braket
id|i
)braket
dot
id|YRes
op_ne
l_int|480
)paren
)paren
)paren
(brace
id|i
op_increment
suffix:semicolon
r_continue
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
(paren
r_new
op_assign
id|xalloc
c_func
(paren
r_sizeof
(paren
id|DisplayModeRec
)paren
)paren
)paren
)paren
(brace
r_return
id|first
suffix:semicolon
)brace
id|memset
c_func
(paren
r_new
comma
l_int|0
comma
r_sizeof
(paren
id|DisplayModeRec
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
(paren
r_new
op_member_access_from_pointer
id|name
op_assign
id|xalloc
c_func
(paren
l_int|10
)paren
)paren
)paren
(brace
id|xfree
c_func
(paren
r_new
)paren
suffix:semicolon
r_return
id|first
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|first
)paren
(brace
id|first
op_assign
r_new
suffix:semicolon
)brace
r_if
c_cond
(paren
id|current
)paren
(brace
id|current-&gt;next
op_assign
r_new
suffix:semicolon
r_new
op_member_access_from_pointer
id|prev
op_assign
id|current
suffix:semicolon
)brace
id|current
op_assign
r_new
suffix:semicolon
id|sprintf
c_func
(paren
id|current-&gt;name
comma
l_string|&quot;%dx%d&quot;
comma
id|pSiS-&gt;SiS_Pr-&gt;SiS_RefIndex
(braket
id|i
)braket
dot
id|XRes
comma
id|pSiS-&gt;SiS_Pr-&gt;SiS_RefIndex
(braket
id|i
)braket
dot
id|YRes
)paren
suffix:semicolon
id|current-&gt;status
op_assign
id|MODE_OK
suffix:semicolon
id|current-&gt;type
op_assign
id|M_T_DEFAULT
suffix:semicolon
id|vclkindex
op_assign
id|pSiS-&gt;SiS_Pr-&gt;SiS_RefIndex
(braket
id|i
)braket
dot
id|Ext_CRTVCLK
suffix:semicolon
r_if
c_cond
(paren
id|pSiS-&gt;VGAEngine
op_eq
id|SIS_300_VGA
)paren
(brace
id|vclkindex
op_and_assign
l_int|0x3F
suffix:semicolon
)brace
id|sr2b
op_assign
id|pSiS-&gt;SiS_Pr-&gt;SiS_VCLKData
(braket
id|vclkindex
)braket
dot
id|SR2B
suffix:semicolon
id|sr2c
op_assign
id|pSiS-&gt;SiS_Pr-&gt;SiS_VCLKData
(braket
id|vclkindex
)braket
dot
id|SR2C
suffix:semicolon
id|divider
op_assign
(paren
id|sr2b
op_amp
l_int|0x80
)paren
ques
c_cond
l_float|2.0
suffix:colon
l_float|1.0
suffix:semicolon
id|postscalar
op_assign
(paren
id|sr2c
op_amp
l_int|0x80
)paren
ques
c_cond
(paren
(paren
(paren
(paren
id|sr2c
op_rshift
l_int|5
)paren
op_amp
l_int|0x03
)paren
op_eq
l_int|0x02
)paren
ques
c_cond
l_float|6.0
suffix:colon
l_float|8.0
)paren
suffix:colon
(paren
(paren
(paren
id|sr2c
op_rshift
l_int|5
)paren
op_amp
l_int|0x03
)paren
op_plus
l_float|1.0
)paren
suffix:semicolon
id|num
op_assign
(paren
id|sr2b
op_amp
l_int|0x7f
)paren
op_plus
l_float|1.0
suffix:semicolon
id|denum
op_assign
(paren
id|sr2c
op_amp
l_int|0x1f
)paren
op_plus
l_float|1.0
suffix:semicolon
macro_line|#ifdef TWDEBUG
id|xf86DrvMsg
c_func
(paren
l_int|0
comma
id|X_INFO
comma
l_string|&quot;------------&bslash;n&quot;
)paren
suffix:semicolon
id|xf86DrvMsg
c_func
(paren
l_int|0
comma
id|X_INFO
comma
l_string|&quot;sr2b: %x sr2c %x div %f ps %f num %f denum %f&bslash;n&quot;
comma
id|sr2b
comma
id|sr2c
comma
id|divider
comma
id|postscalar
comma
id|num
comma
id|denum
)paren
suffix:semicolon
macro_line|#endif
id|current-&gt;Clock
op_assign
(paren
r_int
)paren
(paren
l_int|14318
op_star
(paren
id|divider
op_div
id|postscalar
)paren
op_star
(paren
id|num
op_div
id|denum
)paren
)paren
suffix:semicolon
id|sr_data
op_assign
id|pSiS-&gt;SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
l_int|14
)braket
suffix:semicolon
multiline_comment|/* inSISIDXREG(SISSR, 0x0b, sr_data); */
id|cr_data
op_assign
id|pSiS-&gt;SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
l_int|0
)braket
suffix:semicolon
multiline_comment|/* inSISIDXREG(SISCR, 0x00, cr_data); */
multiline_comment|/* Horizontal total */
id|HT
op_assign
(paren
id|cr_data
op_amp
l_int|0xff
)paren
op_or
(paren
(paren
r_int
r_int
)paren
(paren
id|sr_data
op_amp
l_int|0x03
)paren
op_lshift
l_int|8
)paren
suffix:semicolon
id|A
op_assign
id|HT
op_plus
l_int|5
suffix:semicolon
id|cr_data
op_assign
id|pSiS-&gt;SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
l_int|1
)braket
suffix:semicolon
multiline_comment|/* inSISIDXREG(SISCR, 0x01, cr_data); */
multiline_comment|/* Horizontal display enable end */
id|HDE
op_assign
(paren
id|cr_data
op_amp
l_int|0xff
)paren
op_or
(paren
(paren
r_int
r_int
)paren
(paren
id|sr_data
op_amp
l_int|0x0C
)paren
op_lshift
l_int|6
)paren
suffix:semicolon
id|E
op_assign
id|HDE
op_plus
l_int|1
suffix:semicolon
id|cr_data
op_assign
id|pSiS-&gt;SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
l_int|4
)braket
suffix:semicolon
multiline_comment|/* inSISIDXREG(SISCR, 0x04, cr_data); */
multiline_comment|/* Horizontal retrace (=sync) start */
id|HRS
op_assign
(paren
id|cr_data
op_amp
l_int|0xff
)paren
op_or
(paren
(paren
r_int
r_int
)paren
(paren
id|sr_data
op_amp
l_int|0xC0
)paren
op_lshift
l_int|2
)paren
suffix:semicolon
id|F
op_assign
id|HRS
op_minus
id|E
op_minus
l_int|3
suffix:semicolon
id|cr_data
op_assign
id|pSiS-&gt;SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
l_int|2
)braket
suffix:semicolon
multiline_comment|/* inSISIDXREG(SISCR, 0x02, cr_data); */
multiline_comment|/* Horizontal blank start */
id|HBS
op_assign
(paren
id|cr_data
op_amp
l_int|0xff
)paren
op_or
(paren
(paren
r_int
r_int
)paren
(paren
id|sr_data
op_amp
l_int|0x30
)paren
op_lshift
l_int|4
)paren
suffix:semicolon
id|sr_data
op_assign
id|pSiS-&gt;SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
l_int|15
)braket
suffix:semicolon
multiline_comment|/* inSISIDXREG(SISSR, 0x0c, sr_data); */
id|cr_data
op_assign
id|pSiS-&gt;SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
l_int|3
)braket
suffix:semicolon
multiline_comment|/* inSISIDXREG(SISCR, 0x03, cr_data);  */
id|cr_data2
op_assign
id|pSiS-&gt;SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
l_int|5
)braket
suffix:semicolon
multiline_comment|/* inSISIDXREG(SISCR, 0x05, cr_data2); */
multiline_comment|/* Horizontal blank end */
id|HBE
op_assign
(paren
id|cr_data
op_amp
l_int|0x1f
)paren
op_or
(paren
(paren
r_int
r_int
)paren
(paren
id|cr_data2
op_amp
l_int|0x80
)paren
op_rshift
l_int|2
)paren
op_or
(paren
(paren
r_int
r_int
)paren
(paren
id|sr_data
op_amp
l_int|0x03
)paren
op_lshift
l_int|6
)paren
suffix:semicolon
multiline_comment|/* Horizontal retrace (=sync) end */
id|HRE
op_assign
(paren
id|cr_data2
op_amp
l_int|0x1f
)paren
op_or
(paren
(paren
id|sr_data
op_amp
l_int|0x04
)paren
op_lshift
l_int|3
)paren
suffix:semicolon
id|temp
op_assign
id|HBE
op_minus
(paren
(paren
id|E
op_minus
l_int|1
)paren
op_amp
l_int|255
)paren
suffix:semicolon
id|B
op_assign
(paren
id|temp
OG
l_int|0
)paren
ques
c_cond
id|temp
suffix:colon
(paren
id|temp
op_plus
l_int|256
)paren
suffix:semicolon
id|temp
op_assign
id|HRE
op_minus
(paren
(paren
id|E
op_plus
id|F
op_plus
l_int|3
)paren
op_amp
l_int|63
)paren
suffix:semicolon
id|C
op_assign
(paren
id|temp
OG
l_int|0
)paren
ques
c_cond
id|temp
suffix:colon
(paren
id|temp
op_plus
l_int|64
)paren
suffix:semicolon
id|D
op_assign
id|B
op_minus
id|F
op_minus
id|C
suffix:semicolon
id|current-&gt;HDisplay
op_assign
(paren
id|E
op_star
l_int|8
)paren
suffix:semicolon
id|current-&gt;HSyncStart
op_assign
(paren
id|E
op_star
l_int|8
)paren
op_plus
(paren
id|F
op_star
l_int|8
)paren
suffix:semicolon
id|current-&gt;HSyncEnd
op_assign
(paren
id|E
op_star
l_int|8
)paren
op_plus
(paren
id|F
op_star
l_int|8
)paren
op_plus
(paren
id|C
op_star
l_int|8
)paren
suffix:semicolon
id|current-&gt;HTotal
op_assign
(paren
id|E
op_star
l_int|8
)paren
op_plus
(paren
id|F
op_star
l_int|8
)paren
op_plus
(paren
id|C
op_star
l_int|8
)paren
op_plus
(paren
id|D
op_star
l_int|8
)paren
suffix:semicolon
macro_line|#ifdef TWDEBUG
id|xf86DrvMsg
c_func
(paren
l_int|0
comma
id|X_INFO
comma
l_string|&quot;H: A %d B %d C %d D %d E %d F %d  HT %d HDE %d HRS %d HBS %d HBE %d HRE %d&bslash;n&quot;
comma
id|A
comma
id|B
comma
id|C
comma
id|D
comma
id|E
comma
id|F
comma
id|HT
comma
id|HDE
comma
id|HRS
comma
id|HBS
comma
id|HBE
comma
id|HRE
)paren
suffix:semicolon
macro_line|#endif
id|sr_data
op_assign
id|pSiS-&gt;SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
l_int|13
)braket
suffix:semicolon
multiline_comment|/* inSISIDXREG(SISSR, 0x0A, sr_data); */
id|cr_data
op_assign
id|pSiS-&gt;SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
l_int|6
)braket
suffix:semicolon
multiline_comment|/* inSISIDXREG(SISCR, 0x06, cr_data); */
id|cr_data2
op_assign
id|pSiS-&gt;SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
l_int|7
)braket
suffix:semicolon
multiline_comment|/* inSISIDXREG(SISCR, 0x07, cr_data2);  */
multiline_comment|/* Vertical total */
id|VT
op_assign
(paren
id|cr_data
op_amp
l_int|0xFF
)paren
op_or
(paren
(paren
r_int
r_int
)paren
(paren
id|cr_data2
op_amp
l_int|0x01
)paren
op_lshift
l_int|8
)paren
op_or
(paren
(paren
r_int
r_int
)paren
(paren
id|cr_data2
op_amp
l_int|0x20
)paren
op_lshift
l_int|4
)paren
op_or
(paren
(paren
r_int
r_int
)paren
(paren
id|sr_data
op_amp
l_int|0x01
)paren
op_lshift
l_int|10
)paren
suffix:semicolon
id|A
op_assign
id|VT
op_plus
l_int|2
suffix:semicolon
id|cr_data
op_assign
id|pSiS-&gt;SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
l_int|10
)braket
suffix:semicolon
multiline_comment|/* inSISIDXREG(SISCR, 0x12, cr_data);  */
multiline_comment|/* Vertical display enable end */
id|VDE
op_assign
(paren
id|cr_data
op_amp
l_int|0xff
)paren
op_or
(paren
(paren
r_int
r_int
)paren
(paren
id|cr_data2
op_amp
l_int|0x02
)paren
op_lshift
l_int|7
)paren
op_or
(paren
(paren
r_int
r_int
)paren
(paren
id|cr_data2
op_amp
l_int|0x40
)paren
op_lshift
l_int|3
)paren
op_or
(paren
(paren
r_int
r_int
)paren
(paren
id|sr_data
op_amp
l_int|0x02
)paren
op_lshift
l_int|9
)paren
suffix:semicolon
id|E
op_assign
id|VDE
op_plus
l_int|1
suffix:semicolon
id|cr_data
op_assign
id|pSiS-&gt;SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
l_int|8
)braket
suffix:semicolon
multiline_comment|/* inSISIDXREG(SISCR, 0x10, cr_data); */
multiline_comment|/* Vertical retrace (=sync) start */
id|VRS
op_assign
(paren
id|cr_data
op_amp
l_int|0xff
)paren
op_or
(paren
(paren
r_int
r_int
)paren
(paren
id|cr_data2
op_amp
l_int|0x04
)paren
op_lshift
l_int|6
)paren
op_or
(paren
(paren
r_int
r_int
)paren
(paren
id|cr_data2
op_amp
l_int|0x80
)paren
op_lshift
l_int|2
)paren
op_or
(paren
(paren
r_int
r_int
)paren
(paren
id|sr_data
op_amp
l_int|0x08
)paren
op_lshift
l_int|7
)paren
suffix:semicolon
id|F
op_assign
id|VRS
op_plus
l_int|1
op_minus
id|E
suffix:semicolon
id|cr_data
op_assign
id|pSiS-&gt;SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
l_int|11
)braket
suffix:semicolon
multiline_comment|/* inSISIDXREG(SISCR, 0x15, cr_data);  */
id|cr_data3
op_assign
(paren
id|pSiS-&gt;SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
l_int|16
)braket
op_amp
l_int|0x01
)paren
op_lshift
l_int|5
suffix:semicolon
multiline_comment|/* inSISIDXREG(SISCR, 0x09, cr_data3);  */
multiline_comment|/* Vertical blank start */
id|VBS
op_assign
(paren
id|cr_data
op_amp
l_int|0xff
)paren
op_or
(paren
(paren
r_int
r_int
)paren
(paren
id|cr_data2
op_amp
l_int|0x08
)paren
op_lshift
l_int|5
)paren
op_or
(paren
(paren
r_int
r_int
)paren
(paren
id|cr_data3
op_amp
l_int|0x20
)paren
op_lshift
l_int|4
)paren
op_or
(paren
(paren
r_int
r_int
)paren
(paren
id|sr_data
op_amp
l_int|0x04
)paren
op_lshift
l_int|8
)paren
suffix:semicolon
id|cr_data
op_assign
id|pSiS-&gt;SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
l_int|12
)braket
suffix:semicolon
multiline_comment|/* inSISIDXREG(SISCR, 0x16, cr_data); */
multiline_comment|/* Vertical blank end */
id|VBE
op_assign
(paren
id|cr_data
op_amp
l_int|0xff
)paren
op_or
(paren
(paren
r_int
r_int
)paren
(paren
id|sr_data
op_amp
l_int|0x10
)paren
op_lshift
l_int|4
)paren
suffix:semicolon
id|temp
op_assign
id|VBE
op_minus
(paren
(paren
id|E
op_minus
l_int|1
)paren
op_amp
l_int|511
)paren
suffix:semicolon
id|B
op_assign
(paren
id|temp
OG
l_int|0
)paren
ques
c_cond
id|temp
suffix:colon
(paren
id|temp
op_plus
l_int|512
)paren
suffix:semicolon
id|cr_data
op_assign
id|pSiS-&gt;SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
l_int|9
)braket
suffix:semicolon
multiline_comment|/* inSISIDXREG(SISCR, 0x11, cr_data); */
multiline_comment|/* Vertical retrace (=sync) end */
id|VRE
op_assign
(paren
id|cr_data
op_amp
l_int|0x0f
)paren
op_or
(paren
(paren
id|sr_data
op_amp
l_int|0x20
)paren
op_rshift
l_int|1
)paren
suffix:semicolon
id|temp
op_assign
id|VRE
op_minus
(paren
(paren
id|E
op_plus
id|F
op_minus
l_int|1
)paren
op_amp
l_int|31
)paren
suffix:semicolon
id|C
op_assign
(paren
id|temp
OG
l_int|0
)paren
ques
c_cond
id|temp
suffix:colon
(paren
id|temp
op_plus
l_int|32
)paren
suffix:semicolon
id|D
op_assign
id|B
op_minus
id|F
op_minus
id|C
suffix:semicolon
id|current-&gt;VDisplay
op_assign
id|VDE
op_plus
l_int|1
suffix:semicolon
id|current-&gt;VSyncStart
op_assign
id|VRS
op_plus
l_int|1
suffix:semicolon
id|current-&gt;VSyncEnd
op_assign
(paren
(paren
id|VRS
op_amp
op_complement
l_int|0x1f
)paren
op_or
id|VRE
)paren
op_plus
l_int|1
suffix:semicolon
r_if
c_cond
(paren
id|VRE
op_le
(paren
id|VRS
op_amp
l_int|0x1f
)paren
)paren
(brace
id|current-&gt;VSyncEnd
op_add_assign
l_int|32
suffix:semicolon
)brace
id|current-&gt;VTotal
op_assign
id|E
op_plus
id|D
op_plus
id|C
op_plus
id|F
suffix:semicolon
macro_line|#if 0
id|current-&gt;VDisplay
op_assign
id|E
suffix:semicolon
id|current-&gt;VSyncStart
op_assign
id|E
op_plus
id|D
suffix:semicolon
id|current-&gt;VSyncEnd
op_assign
id|E
op_plus
id|D
op_plus
id|C
suffix:semicolon
id|current-&gt;VTotal
op_assign
id|E
op_plus
id|D
op_plus
id|C
op_plus
id|F
suffix:semicolon
macro_line|#endif
macro_line|#ifdef TWDEBUG
id|xf86DrvMsg
c_func
(paren
l_int|0
comma
id|X_INFO
comma
l_string|&quot;V: A %d B %d C %d D %d E %d F %d  VT %d VDE %d VRS %d VBS %d VBE %d VRE %d&bslash;n&quot;
comma
id|A
comma
id|B
comma
id|C
comma
id|D
comma
id|E
comma
id|F
comma
id|VT
comma
id|VDE
comma
id|VRS
comma
id|VBS
comma
id|VBE
comma
id|VRE
)paren
suffix:semicolon
macro_line|#endif
r_if
c_cond
(paren
id|pSiS-&gt;SiS_Pr-&gt;SiS_RefIndex
(braket
id|i
)braket
dot
id|Ext_InfoFlag
op_amp
l_int|0x4000
)paren
(brace
id|current-&gt;Flags
op_or_assign
id|V_NHSYNC
suffix:semicolon
)brace
r_else
id|current-&gt;Flags
op_or_assign
id|V_PHSYNC
suffix:semicolon
r_if
c_cond
(paren
id|pSiS-&gt;SiS_Pr-&gt;SiS_RefIndex
(braket
id|i
)braket
dot
id|Ext_InfoFlag
op_amp
l_int|0x8000
)paren
(brace
id|current-&gt;Flags
op_or_assign
id|V_NVSYNC
suffix:semicolon
)brace
r_else
id|current-&gt;Flags
op_or_assign
id|V_PVSYNC
suffix:semicolon
r_if
c_cond
(paren
id|pSiS-&gt;SiS_Pr-&gt;SiS_RefIndex
(braket
id|i
)braket
dot
id|Ext_InfoFlag
op_amp
l_int|0x0080
)paren
(brace
id|current-&gt;Flags
op_or_assign
id|V_INTERLACE
suffix:semicolon
)brace
id|j
op_assign
l_int|0
suffix:semicolon
r_while
c_loop
(paren
id|pSiS-&gt;SiS_Pr-&gt;SiS_EModeIDTable
(braket
id|j
)braket
dot
id|Ext_ModeID
op_ne
l_int|0xff
)paren
(brace
r_if
c_cond
(paren
id|pSiS-&gt;SiS_Pr-&gt;SiS_EModeIDTable
(braket
id|j
)braket
dot
id|Ext_ModeID
op_eq
id|pSiS-&gt;SiS_Pr-&gt;SiS_RefIndex
(braket
id|i
)braket
dot
id|ModeID
)paren
(brace
r_if
c_cond
(paren
id|pSiS-&gt;SiS_Pr-&gt;SiS_EModeIDTable
(braket
id|j
)braket
dot
id|Ext_ModeFlag
op_amp
id|DoubleScanMode
)paren
(brace
id|current-&gt;Flags
op_or_assign
id|V_DBLSCAN
suffix:semicolon
)brace
r_break
suffix:semicolon
)brace
id|j
op_increment
suffix:semicolon
)brace
r_if
c_cond
(paren
id|current-&gt;Flags
op_amp
id|V_INTERLACE
)paren
(brace
id|current-&gt;VDisplay
op_lshift_assign
l_int|1
suffix:semicolon
id|current-&gt;VSyncStart
op_lshift_assign
l_int|1
suffix:semicolon
id|current-&gt;VSyncEnd
op_lshift_assign
l_int|1
suffix:semicolon
id|current-&gt;VTotal
op_lshift_assign
l_int|1
suffix:semicolon
id|current-&gt;VTotal
op_or_assign
l_int|1
suffix:semicolon
)brace
r_if
c_cond
(paren
id|current-&gt;Flags
op_amp
id|V_DBLSCAN
)paren
(brace
id|current-&gt;Clock
op_rshift_assign
l_int|1
suffix:semicolon
id|current-&gt;VDisplay
op_rshift_assign
l_int|1
suffix:semicolon
id|current-&gt;VSyncStart
op_rshift_assign
l_int|1
suffix:semicolon
id|current-&gt;VSyncEnd
op_rshift_assign
l_int|1
suffix:semicolon
id|current-&gt;VTotal
op_rshift_assign
l_int|1
suffix:semicolon
)brace
r_if
c_cond
(paren
(paren
id|backup
op_assign
id|xalloc
c_func
(paren
r_sizeof
(paren
id|DisplayModeRec
)paren
)paren
)paren
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
id|pSiS-&gt;backupmodelist
)paren
(brace
id|pSiS-&gt;backupmodelist
op_assign
id|backup
suffix:semicolon
)brace
r_else
(brace
id|pSiS-&gt;backupmodelist-&gt;next
op_assign
id|backup
suffix:semicolon
id|backup-&gt;prev
op_assign
id|pSiS-&gt;backupmodelist
suffix:semicolon
)brace
id|backup-&gt;next
op_assign
l_int|NULL
suffix:semicolon
id|backup-&gt;HDisplay
op_assign
id|current-&gt;HDisplay
suffix:semicolon
id|backup-&gt;HSyncStart
op_assign
id|current-&gt;HSyncStart
suffix:semicolon
id|backup-&gt;HSyncEnd
op_assign
id|current-&gt;HSyncEnd
suffix:semicolon
id|backup-&gt;HTotal
op_assign
id|current-&gt;HTotal
suffix:semicolon
id|backup-&gt;VDisplay
op_assign
id|current-&gt;VDisplay
suffix:semicolon
id|backup-&gt;VSyncStart
op_assign
id|current-&gt;VSyncStart
suffix:semicolon
id|backup-&gt;VSyncEnd
op_assign
id|current-&gt;VSyncEnd
suffix:semicolon
id|backup-&gt;VTotal
op_assign
id|current-&gt;VTotal
suffix:semicolon
id|backup-&gt;Flags
op_assign
id|current-&gt;Flags
suffix:semicolon
id|backup-&gt;Clock
op_assign
id|current-&gt;Clock
suffix:semicolon
)brace
macro_line|#ifdef TWDEBUG
id|xf86DrvMsg
c_func
(paren
id|pScrn-&gt;scrnIndex
comma
id|X_INFO
comma
l_string|&quot;Built-in: %s %.2f %d %d %d %d %d %d %d %d&bslash;n&quot;
comma
id|current-&gt;name
comma
(paren
r_float
)paren
id|current-&gt;Clock
op_div
l_int|1000
comma
id|current-&gt;HDisplay
comma
id|current-&gt;HSyncStart
comma
id|current-&gt;HSyncEnd
comma
id|current-&gt;HTotal
comma
id|current-&gt;VDisplay
comma
id|current-&gt;VSyncStart
comma
id|current-&gt;VSyncEnd
comma
id|current-&gt;VTotal
)paren
suffix:semicolon
macro_line|#endif
id|i
op_increment
suffix:semicolon
)brace
r_return
id|first
suffix:semicolon
)brace
macro_line|#endif
macro_line|#ifdef LINUX_KERNEL
r_int
DECL|function|sisfb_mode_rate_to_dclock
id|sisfb_mode_rate_to_dclock
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
comma
r_int
r_char
id|modeno
comma
r_int
r_char
id|rateindex
)paren
(brace
id|USHORT
id|ModeNo
op_assign
id|modeno
suffix:semicolon
id|USHORT
id|ModeIdIndex
op_assign
l_int|0
comma
id|ClockIndex
op_assign
l_int|0
suffix:semicolon
id|USHORT
id|RefreshRateTableIndex
op_assign
l_int|0
suffix:semicolon
id|UCHAR
op_star
id|ROMAddr
op_assign
id|HwDeviceExtension-&gt;pjVirtualRomBase
suffix:semicolon
id|ULONG
id|temp
op_assign
l_int|0
suffix:semicolon
r_int
id|Clock
suffix:semicolon
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
OL
id|SIS_315H
)paren
(brace
macro_line|#ifdef SIS300
id|InitTo300Pointer
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
)paren
suffix:semicolon
macro_line|#else
r_return
l_int|65
suffix:semicolon
macro_line|#endif
)brace
r_else
(brace
macro_line|#ifdef SIS315H
id|InitTo310Pointer
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
)paren
suffix:semicolon
macro_line|#else
r_return
l_int|65
suffix:semicolon
macro_line|#endif
)brace
id|temp
op_assign
id|SiS_SearchModeID
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
op_amp
id|ModeNo
comma
op_amp
id|ModeIdIndex
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|temp
)paren
(brace
id|printk
c_func
(paren
id|KERN_ERR
l_string|&quot;Could not find mode %x&bslash;n&quot;
comma
id|ModeNo
)paren
suffix:semicolon
r_return
l_int|65
suffix:semicolon
)brace
id|RefreshRateTableIndex
op_assign
id|SiS_Pr-&gt;SiS_EModeIDTable
(braket
id|ModeIdIndex
)braket
dot
id|REFindex
suffix:semicolon
id|RefreshRateTableIndex
op_add_assign
(paren
id|rateindex
op_minus
l_int|1
)paren
suffix:semicolon
id|ClockIndex
op_assign
id|SiS_Pr-&gt;SiS_RefIndex
(braket
id|RefreshRateTableIndex
)braket
dot
id|Ext_CRTVCLK
suffix:semicolon
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
OL
id|SIS_315H
)paren
(brace
id|ClockIndex
op_and_assign
l_int|0x3F
suffix:semicolon
)brace
id|Clock
op_assign
id|SiS_Pr-&gt;SiS_VCLKData
(braket
id|ClockIndex
)braket
dot
id|CLOCK
op_star
l_int|1000
op_star
l_int|1000
suffix:semicolon
r_return
id|Clock
suffix:semicolon
)brace
r_int
DECL|function|sisfb_mode_rate_to_ddata
id|sisfb_mode_rate_to_ddata
c_func
(paren
id|SiS_Private
op_star
id|SiS_Pr
comma
id|PSIS_HW_DEVICE_INFO
id|HwDeviceExtension
comma
r_int
r_char
id|modeno
comma
r_int
r_char
id|rateindex
comma
id|ULONG
op_star
id|left_margin
comma
id|ULONG
op_star
id|right_margin
comma
id|ULONG
op_star
id|upper_margin
comma
id|ULONG
op_star
id|lower_margin
comma
id|ULONG
op_star
id|hsync_len
comma
id|ULONG
op_star
id|vsync_len
comma
id|ULONG
op_star
id|sync
comma
id|ULONG
op_star
id|vmode
)paren
(brace
id|USHORT
id|ModeNo
op_assign
id|modeno
suffix:semicolon
id|USHORT
id|ModeIdIndex
op_assign
l_int|0
comma
id|index
op_assign
l_int|0
suffix:semicolon
id|USHORT
id|RefreshRateTableIndex
op_assign
l_int|0
suffix:semicolon
id|UCHAR
op_star
id|ROMAddr
op_assign
id|HwDeviceExtension-&gt;pjVirtualRomBase
suffix:semicolon
r_int
r_int
id|VRE
comma
id|VBE
comma
id|VRS
comma
id|VBS
comma
id|VDE
comma
id|VT
suffix:semicolon
r_int
r_int
id|HRE
comma
id|HBE
comma
id|HRS
comma
id|HBS
comma
id|HDE
comma
id|HT
suffix:semicolon
r_int
r_char
id|sr_data
comma
id|cr_data
comma
id|cr_data2
comma
id|cr_data3
suffix:semicolon
r_int
id|A
comma
id|B
comma
id|C
comma
id|D
comma
id|E
comma
id|F
comma
id|temp
comma
id|j
suffix:semicolon
r_if
c_cond
(paren
id|HwDeviceExtension-&gt;jChipType
OL
id|SIS_315H
)paren
(brace
macro_line|#ifdef SIS300
id|InitTo300Pointer
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
)paren
suffix:semicolon
macro_line|#else
r_return
l_int|0
suffix:semicolon
macro_line|#endif
)brace
r_else
(brace
macro_line|#ifdef SIS315H
id|InitTo310Pointer
c_func
(paren
id|SiS_Pr
comma
id|HwDeviceExtension
)paren
suffix:semicolon
macro_line|#else
r_return
l_int|0
suffix:semicolon
macro_line|#endif
)brace
id|temp
op_assign
id|SiS_SearchModeID
c_func
(paren
id|SiS_Pr
comma
id|ROMAddr
comma
op_amp
id|ModeNo
comma
op_amp
id|ModeIdIndex
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|temp
)paren
(brace
r_return
l_int|0
suffix:semicolon
)brace
id|RefreshRateTableIndex
op_assign
id|SiS_Pr-&gt;SiS_EModeIDTable
(braket
id|ModeIdIndex
)braket
dot
id|REFindex
suffix:semicolon
id|RefreshRateTableIndex
op_add_assign
(paren
id|rateindex
op_minus
l_int|1
)paren
suffix:semicolon
id|index
op_assign
id|SiS_Pr-&gt;SiS_RefIndex
(braket
id|RefreshRateTableIndex
)braket
dot
id|Ext_CRT1CRTC
suffix:semicolon
id|sr_data
op_assign
id|SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
l_int|14
)braket
suffix:semicolon
id|cr_data
op_assign
id|SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
l_int|0
)braket
suffix:semicolon
multiline_comment|/* Horizontal total */
id|HT
op_assign
(paren
id|cr_data
op_amp
l_int|0xff
)paren
op_or
(paren
(paren
r_int
r_int
)paren
(paren
id|sr_data
op_amp
l_int|0x03
)paren
op_lshift
l_int|8
)paren
suffix:semicolon
id|A
op_assign
id|HT
op_plus
l_int|5
suffix:semicolon
id|cr_data
op_assign
id|SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
l_int|1
)braket
suffix:semicolon
multiline_comment|/* Horizontal display enable end */
id|HDE
op_assign
(paren
id|cr_data
op_amp
l_int|0xff
)paren
op_or
(paren
(paren
r_int
r_int
)paren
(paren
id|sr_data
op_amp
l_int|0x0C
)paren
op_lshift
l_int|6
)paren
suffix:semicolon
id|E
op_assign
id|HDE
op_plus
l_int|1
suffix:semicolon
id|cr_data
op_assign
id|SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
l_int|4
)braket
suffix:semicolon
multiline_comment|/* Horizontal retrace (=sync) start */
id|HRS
op_assign
(paren
id|cr_data
op_amp
l_int|0xff
)paren
op_or
(paren
(paren
r_int
r_int
)paren
(paren
id|sr_data
op_amp
l_int|0xC0
)paren
op_lshift
l_int|2
)paren
suffix:semicolon
id|F
op_assign
id|HRS
op_minus
id|E
op_minus
l_int|3
suffix:semicolon
id|cr_data
op_assign
id|SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
l_int|2
)braket
suffix:semicolon
multiline_comment|/* Horizontal blank start */
id|HBS
op_assign
(paren
id|cr_data
op_amp
l_int|0xff
)paren
op_or
(paren
(paren
r_int
r_int
)paren
(paren
id|sr_data
op_amp
l_int|0x30
)paren
op_lshift
l_int|4
)paren
suffix:semicolon
id|sr_data
op_assign
id|SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
l_int|15
)braket
suffix:semicolon
id|cr_data
op_assign
id|SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
l_int|3
)braket
suffix:semicolon
id|cr_data2
op_assign
id|SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
l_int|5
)braket
suffix:semicolon
multiline_comment|/* Horizontal blank end */
id|HBE
op_assign
(paren
id|cr_data
op_amp
l_int|0x1f
)paren
op_or
(paren
(paren
r_int
r_int
)paren
(paren
id|cr_data2
op_amp
l_int|0x80
)paren
op_rshift
l_int|2
)paren
op_or
(paren
(paren
r_int
r_int
)paren
(paren
id|sr_data
op_amp
l_int|0x03
)paren
op_lshift
l_int|6
)paren
suffix:semicolon
multiline_comment|/* Horizontal retrace (=sync) end */
id|HRE
op_assign
(paren
id|cr_data2
op_amp
l_int|0x1f
)paren
op_or
(paren
(paren
id|sr_data
op_amp
l_int|0x04
)paren
op_lshift
l_int|3
)paren
suffix:semicolon
id|temp
op_assign
id|HBE
op_minus
(paren
(paren
id|E
op_minus
l_int|1
)paren
op_amp
l_int|255
)paren
suffix:semicolon
id|B
op_assign
(paren
id|temp
OG
l_int|0
)paren
ques
c_cond
id|temp
suffix:colon
(paren
id|temp
op_plus
l_int|256
)paren
suffix:semicolon
id|temp
op_assign
id|HRE
op_minus
(paren
(paren
id|E
op_plus
id|F
op_plus
l_int|3
)paren
op_amp
l_int|63
)paren
suffix:semicolon
id|C
op_assign
(paren
id|temp
OG
l_int|0
)paren
ques
c_cond
id|temp
suffix:colon
(paren
id|temp
op_plus
l_int|64
)paren
suffix:semicolon
id|D
op_assign
id|B
op_minus
id|F
op_minus
id|C
suffix:semicolon
op_star
id|left_margin
op_assign
id|D
op_star
l_int|8
suffix:semicolon
op_star
id|right_margin
op_assign
id|F
op_star
l_int|8
suffix:semicolon
op_star
id|hsync_len
op_assign
id|C
op_star
l_int|8
suffix:semicolon
id|sr_data
op_assign
id|SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
l_int|13
)braket
suffix:semicolon
id|cr_data
op_assign
id|SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
l_int|6
)braket
suffix:semicolon
id|cr_data2
op_assign
id|SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
l_int|7
)braket
suffix:semicolon
multiline_comment|/* Vertical total */
id|VT
op_assign
(paren
id|cr_data
op_amp
l_int|0xFF
)paren
op_or
(paren
(paren
r_int
r_int
)paren
(paren
id|cr_data2
op_amp
l_int|0x01
)paren
op_lshift
l_int|8
)paren
op_or
(paren
(paren
r_int
r_int
)paren
(paren
id|cr_data2
op_amp
l_int|0x20
)paren
op_lshift
l_int|4
)paren
op_or
(paren
(paren
r_int
r_int
)paren
(paren
id|sr_data
op_amp
l_int|0x01
)paren
op_lshift
l_int|10
)paren
suffix:semicolon
id|A
op_assign
id|VT
op_plus
l_int|2
suffix:semicolon
id|cr_data
op_assign
id|SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
l_int|10
)braket
suffix:semicolon
multiline_comment|/* Vertical display enable end */
id|VDE
op_assign
(paren
id|cr_data
op_amp
l_int|0xff
)paren
op_or
(paren
(paren
r_int
r_int
)paren
(paren
id|cr_data2
op_amp
l_int|0x02
)paren
op_lshift
l_int|7
)paren
op_or
(paren
(paren
r_int
r_int
)paren
(paren
id|cr_data2
op_amp
l_int|0x40
)paren
op_lshift
l_int|3
)paren
op_or
(paren
(paren
r_int
r_int
)paren
(paren
id|sr_data
op_amp
l_int|0x02
)paren
op_lshift
l_int|9
)paren
suffix:semicolon
id|E
op_assign
id|VDE
op_plus
l_int|1
suffix:semicolon
id|cr_data
op_assign
id|SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
l_int|8
)braket
suffix:semicolon
multiline_comment|/* Vertical retrace (=sync) start */
id|VRS
op_assign
(paren
id|cr_data
op_amp
l_int|0xff
)paren
op_or
(paren
(paren
r_int
r_int
)paren
(paren
id|cr_data2
op_amp
l_int|0x04
)paren
op_lshift
l_int|6
)paren
op_or
(paren
(paren
r_int
r_int
)paren
(paren
id|cr_data2
op_amp
l_int|0x80
)paren
op_lshift
l_int|2
)paren
op_or
(paren
(paren
r_int
r_int
)paren
(paren
id|sr_data
op_amp
l_int|0x08
)paren
op_lshift
l_int|7
)paren
suffix:semicolon
id|F
op_assign
id|VRS
op_plus
l_int|1
op_minus
id|E
suffix:semicolon
id|cr_data
op_assign
id|SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
l_int|11
)braket
suffix:semicolon
id|cr_data3
op_assign
(paren
id|SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
l_int|16
)braket
op_amp
l_int|0x01
)paren
op_lshift
l_int|5
suffix:semicolon
multiline_comment|/* Vertical blank start */
id|VBS
op_assign
(paren
id|cr_data
op_amp
l_int|0xff
)paren
op_or
(paren
(paren
r_int
r_int
)paren
(paren
id|cr_data2
op_amp
l_int|0x08
)paren
op_lshift
l_int|5
)paren
op_or
(paren
(paren
r_int
r_int
)paren
(paren
id|cr_data3
op_amp
l_int|0x20
)paren
op_lshift
l_int|4
)paren
op_or
(paren
(paren
r_int
r_int
)paren
(paren
id|sr_data
op_amp
l_int|0x04
)paren
op_lshift
l_int|8
)paren
suffix:semicolon
id|cr_data
op_assign
id|SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
l_int|12
)braket
suffix:semicolon
multiline_comment|/* Vertical blank end */
id|VBE
op_assign
(paren
id|cr_data
op_amp
l_int|0xff
)paren
op_or
(paren
(paren
r_int
r_int
)paren
(paren
id|sr_data
op_amp
l_int|0x10
)paren
op_lshift
l_int|4
)paren
suffix:semicolon
id|temp
op_assign
id|VBE
op_minus
(paren
(paren
id|E
op_minus
l_int|1
)paren
op_amp
l_int|511
)paren
suffix:semicolon
id|B
op_assign
(paren
id|temp
OG
l_int|0
)paren
ques
c_cond
id|temp
suffix:colon
(paren
id|temp
op_plus
l_int|512
)paren
suffix:semicolon
id|cr_data
op_assign
id|SiS_Pr-&gt;SiS_CRT1Table
(braket
id|index
)braket
dot
id|CR
(braket
l_int|9
)braket
suffix:semicolon
multiline_comment|/* Vertical retrace (=sync) end */
id|VRE
op_assign
(paren
id|cr_data
op_amp
l_int|0x0f
)paren
op_or
(paren
(paren
id|sr_data
op_amp
l_int|0x20
)paren
op_rshift
l_int|1
)paren
suffix:semicolon
id|temp
op_assign
id|VRE
op_minus
(paren
(paren
id|E
op_plus
id|F
op_minus
l_int|1
)paren
op_amp
l_int|31
)paren
suffix:semicolon
id|C
op_assign
(paren
id|temp
OG
l_int|0
)paren
ques
c_cond
id|temp
suffix:colon
(paren
id|temp
op_plus
l_int|32
)paren
suffix:semicolon
id|D
op_assign
id|B
op_minus
id|F
op_minus
id|C
suffix:semicolon
op_star
id|upper_margin
op_assign
id|D
suffix:semicolon
op_star
id|lower_margin
op_assign
id|F
suffix:semicolon
op_star
id|vsync_len
op_assign
id|C
suffix:semicolon
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_RefIndex
(braket
id|RefreshRateTableIndex
)braket
dot
id|Ext_InfoFlag
op_amp
l_int|0x8000
)paren
(brace
op_star
id|sync
op_and_assign
op_complement
id|FB_SYNC_VERT_HIGH_ACT
suffix:semicolon
)brace
r_else
op_star
id|sync
op_or_assign
id|FB_SYNC_VERT_HIGH_ACT
suffix:semicolon
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_RefIndex
(braket
id|RefreshRateTableIndex
)braket
dot
id|Ext_InfoFlag
op_amp
l_int|0x4000
)paren
(brace
op_star
id|sync
op_and_assign
op_complement
id|FB_SYNC_HOR_HIGH_ACT
suffix:semicolon
)brace
r_else
op_star
id|sync
op_or_assign
id|FB_SYNC_HOR_HIGH_ACT
suffix:semicolon
op_star
id|vmode
op_assign
id|FB_VMODE_NONINTERLACED
suffix:semicolon
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_RefIndex
(braket
id|RefreshRateTableIndex
)braket
dot
id|Ext_InfoFlag
op_amp
l_int|0x0080
)paren
(brace
op_star
id|vmode
op_assign
id|FB_VMODE_INTERLACED
suffix:semicolon
)brace
r_else
(brace
id|j
op_assign
l_int|0
suffix:semicolon
r_while
c_loop
(paren
id|SiS_Pr-&gt;SiS_EModeIDTable
(braket
id|j
)braket
dot
id|Ext_ModeID
op_ne
l_int|0xff
)paren
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_EModeIDTable
(braket
id|j
)braket
dot
id|Ext_ModeID
op_eq
id|SiS_Pr-&gt;SiS_RefIndex
(braket
id|RefreshRateTableIndex
)braket
dot
id|ModeID
)paren
(brace
r_if
c_cond
(paren
id|SiS_Pr-&gt;SiS_EModeIDTable
(braket
id|j
)braket
dot
id|Ext_ModeFlag
op_amp
id|DoubleScanMode
)paren
(brace
op_star
id|vmode
op_assign
id|FB_VMODE_DOUBLE
suffix:semicolon
)brace
r_break
suffix:semicolon
)brace
id|j
op_increment
suffix:semicolon
)brace
)brace
macro_line|#if 0  /* That&squot;s bullshit, only the resolution needs to be shifted */    
r_if
c_cond
(paren
(paren
op_star
id|vmode
op_amp
id|FB_VMODE_MASK
)paren
op_eq
id|FB_VMODE_INTERLACED
)paren
(brace
op_star
id|upper_margin
op_lshift_assign
l_int|1
suffix:semicolon
op_star
id|lower_margin
op_lshift_assign
l_int|1
suffix:semicolon
op_star
id|vsync_len
op_lshift_assign
l_int|1
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
(paren
op_star
id|vmode
op_amp
id|FB_VMODE_MASK
)paren
op_eq
id|FB_VMODE_DOUBLE
)paren
(brace
op_star
id|upper_margin
op_rshift_assign
l_int|1
suffix:semicolon
op_star
id|lower_margin
op_rshift_assign
l_int|1
suffix:semicolon
op_star
id|vsync_len
op_rshift_assign
l_int|1
suffix:semicolon
)brace
macro_line|#endif
r_return
l_int|1
suffix:semicolon
)brace
macro_line|#endif
eof
