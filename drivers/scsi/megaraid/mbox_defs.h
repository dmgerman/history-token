multiline_comment|/*&n; *&n; *&t;&t;&t;Linux MegaRAID Unified device driver&n; *&n; * Copyright (c) 2003-2004  LSI Logic Corporation.&n; *&n; *&t;   This program is free software; you can redistribute it and/or&n; *&t;   modify it under the terms of the GNU General Public License&n; *&t;   as published by the Free Software Foundation; either version&n; *&t;   2 of the License, or (at your option) any later version.&n; *&n; * FILE&t;&t;: mbox_defs.h&n; *&n; */
macro_line|#ifndef _MRAID_MBOX_DEFS_H_
DECL|macro|_MRAID_MBOX_DEFS_H_
mdefine_line|#define _MRAID_MBOX_DEFS_H_
macro_line|#include &lt;linux/types.h&gt;
multiline_comment|/*&n; * Commands and states for mailbox based controllers&n; */
DECL|macro|MBOXCMD_LREAD
mdefine_line|#define MBOXCMD_LREAD&t;&t;0x01
DECL|macro|MBOXCMD_LWRITE
mdefine_line|#define MBOXCMD_LWRITE&t;&t;0x02
DECL|macro|MBOXCMD_PASSTHRU
mdefine_line|#define MBOXCMD_PASSTHRU&t;0x03
DECL|macro|MBOXCMD_ADPEXTINQ
mdefine_line|#define MBOXCMD_ADPEXTINQ&t;0x04
DECL|macro|MBOXCMD_ADAPTERINQ
mdefine_line|#define MBOXCMD_ADAPTERINQ&t;0x05
DECL|macro|MBOXCMD_LREAD64
mdefine_line|#define MBOXCMD_LREAD64&t;&t;0xA7
DECL|macro|MBOXCMD_LWRITE64
mdefine_line|#define MBOXCMD_LWRITE64&t;0xA8
DECL|macro|MBOXCMD_PASSTHRU64
mdefine_line|#define MBOXCMD_PASSTHRU64&t;0xC3
DECL|macro|MBOXCMD_EXTPTHRU
mdefine_line|#define MBOXCMD_EXTPTHRU&t;0xE3
DECL|macro|MAIN_MISC_OPCODE
mdefine_line|#define MAIN_MISC_OPCODE&t;0xA4
DECL|macro|GET_MAX_SG_SUPPORT
mdefine_line|#define GET_MAX_SG_SUPPORT&t;0x01
DECL|macro|SUPPORT_EXT_CDB
mdefine_line|#define SUPPORT_EXT_CDB&t;&t;0x16
DECL|macro|FC_NEW_CONFIG
mdefine_line|#define FC_NEW_CONFIG&t;&t;0xA1
DECL|macro|NC_SUBOP_PRODUCT_INFO
mdefine_line|#define NC_SUBOP_PRODUCT_INFO&t;0x0E
DECL|macro|NC_SUBOP_ENQUIRY3
mdefine_line|#define NC_SUBOP_ENQUIRY3&t;0x0F
DECL|macro|ENQ3_GET_SOLICITED_FULL
mdefine_line|#define ENQ3_GET_SOLICITED_FULL&t;0x02
DECL|macro|OP_DCMD_READ_CONFIG
mdefine_line|#define OP_DCMD_READ_CONFIG&t;0x04
DECL|macro|NEW_READ_CONFIG_8LD
mdefine_line|#define NEW_READ_CONFIG_8LD&t;0x67
DECL|macro|READ_CONFIG_8LD
mdefine_line|#define READ_CONFIG_8LD&t;&t;0x07
DECL|macro|FLUSH_ADAPTER
mdefine_line|#define FLUSH_ADAPTER&t;&t;0x0A
DECL|macro|FLUSH_SYSTEM
mdefine_line|#define FLUSH_SYSTEM&t;&t;0xFE
multiline_comment|/*&n; * Command for random deletion of logical drives&n; */
DECL|macro|FC_DEL_LOGDRV
mdefine_line|#define&t;FC_DEL_LOGDRV&t;&t;0xA4
DECL|macro|OP_SUP_DEL_LOGDRV
mdefine_line|#define&t;OP_SUP_DEL_LOGDRV&t;0x2A
DECL|macro|OP_GET_LDID_MAP
mdefine_line|#define OP_GET_LDID_MAP&t;&t;0x18
DECL|macro|OP_DEL_LOGDRV
mdefine_line|#define OP_DEL_LOGDRV&t;&t;0x1C
multiline_comment|/*&n; * BIOS commands&n; */
DECL|macro|IS_BIOS_ENABLED
mdefine_line|#define IS_BIOS_ENABLED&t;&t;0x62
DECL|macro|GET_BIOS
mdefine_line|#define GET_BIOS&t;&t;0x01
DECL|macro|CHNL_CLASS
mdefine_line|#define CHNL_CLASS&t;&t;0xA9
DECL|macro|GET_CHNL_CLASS
mdefine_line|#define GET_CHNL_CLASS&t;&t;0x00
DECL|macro|SET_CHNL_CLASS
mdefine_line|#define SET_CHNL_CLASS&t;&t;0x01
DECL|macro|CH_RAID
mdefine_line|#define CH_RAID&t;&t;&t;0x01
DECL|macro|CH_SCSI
mdefine_line|#define CH_SCSI&t;&t;&t;0x00
DECL|macro|BIOS_PVT_DATA
mdefine_line|#define BIOS_PVT_DATA&t;&t;0x40
DECL|macro|GET_BIOS_PVT_DATA
mdefine_line|#define GET_BIOS_PVT_DATA&t;0x00
multiline_comment|/*&n; * Commands to support clustering&n; */
DECL|macro|GET_TARGET_ID
mdefine_line|#define GET_TARGET_ID&t;&t;0x7D
DECL|macro|CLUSTER_OP
mdefine_line|#define CLUSTER_OP&t;&t;0x70
DECL|macro|GET_CLUSTER_MODE
mdefine_line|#define GET_CLUSTER_MODE&t;0x02
DECL|macro|CLUSTER_CMD
mdefine_line|#define CLUSTER_CMD&t;&t;0x6E
DECL|macro|RESERVE_LD
mdefine_line|#define RESERVE_LD&t;&t;0x01
DECL|macro|RELEASE_LD
mdefine_line|#define RELEASE_LD&t;&t;0x02
DECL|macro|RESET_RESERVATIONS
mdefine_line|#define RESET_RESERVATIONS&t;0x03
DECL|macro|RESERVATION_STATUS
mdefine_line|#define RESERVATION_STATUS&t;0x04
DECL|macro|RESERVE_PD
mdefine_line|#define RESERVE_PD&t;&t;0x05
DECL|macro|RELEASE_PD
mdefine_line|#define RELEASE_PD&t;&t;0x06
multiline_comment|/*&n; * Module battery status&n; */
DECL|macro|BATTERY_MODULE_MISSING
mdefine_line|#define BATTERY_MODULE_MISSING&t;&t;0x01
DECL|macro|BATTERY_LOW_VOLTAGE
mdefine_line|#define BATTERY_LOW_VOLTAGE&t;&t;0x02
DECL|macro|BATTERY_TEMP_HIGH
mdefine_line|#define BATTERY_TEMP_HIGH&t;&t;0x04
DECL|macro|BATTERY_PACK_MISSING
mdefine_line|#define BATTERY_PACK_MISSING&t;&t;0x08
DECL|macro|BATTERY_CHARGE_MASK
mdefine_line|#define BATTERY_CHARGE_MASK&t;&t;0x30
DECL|macro|BATTERY_CHARGE_DONE
mdefine_line|#define BATTERY_CHARGE_DONE&t;&t;0x00
DECL|macro|BATTERY_CHARGE_INPROG
mdefine_line|#define BATTERY_CHARGE_INPROG&t;&t;0x10
DECL|macro|BATTERY_CHARGE_FAIL
mdefine_line|#define BATTERY_CHARGE_FAIL&t;&t;0x20
DECL|macro|BATTERY_CYCLES_EXCEEDED
mdefine_line|#define BATTERY_CYCLES_EXCEEDED&t;&t;0x40
multiline_comment|/*&n; * Physical drive states.&n; */
DECL|macro|PDRV_UNCNF
mdefine_line|#define PDRV_UNCNF&t;0
DECL|macro|PDRV_ONLINE
mdefine_line|#define PDRV_ONLINE&t;3
DECL|macro|PDRV_FAILED
mdefine_line|#define PDRV_FAILED&t;4
DECL|macro|PDRV_RBLD
mdefine_line|#define PDRV_RBLD&t;5
DECL|macro|PDRV_HOTSPARE
mdefine_line|#define PDRV_HOTSPARE&t;6
multiline_comment|/*&n; * Raid logical drive states.&n; */
DECL|macro|RDRV_OFFLINE
mdefine_line|#define RDRV_OFFLINE&t;0
DECL|macro|RDRV_DEGRADED
mdefine_line|#define RDRV_DEGRADED&t;1
DECL|macro|RDRV_OPTIMAL
mdefine_line|#define RDRV_OPTIMAL&t;2
DECL|macro|RDRV_DELETED
mdefine_line|#define RDRV_DELETED&t;3
multiline_comment|/*&n; * Read, write and cache policies&n; */
DECL|macro|NO_READ_AHEAD
mdefine_line|#define NO_READ_AHEAD&t;&t;0
DECL|macro|READ_AHEAD
mdefine_line|#define READ_AHEAD&t;&t;1
DECL|macro|ADAP_READ_AHEAD
mdefine_line|#define ADAP_READ_AHEAD&t;&t;2
DECL|macro|WRMODE_WRITE_THRU
mdefine_line|#define WRMODE_WRITE_THRU&t;0
DECL|macro|WRMODE_WRITE_BACK
mdefine_line|#define WRMODE_WRITE_BACK&t;1
DECL|macro|CACHED_IO
mdefine_line|#define CACHED_IO&t;&t;0
DECL|macro|DIRECT_IO
mdefine_line|#define DIRECT_IO&t;&t;1
DECL|macro|MAX_LOGICAL_DRIVES_8LD
mdefine_line|#define MAX_LOGICAL_DRIVES_8LD&t;&t;8
DECL|macro|MAX_LOGICAL_DRIVES_40LD
mdefine_line|#define MAX_LOGICAL_DRIVES_40LD&t;&t;40
DECL|macro|FC_MAX_PHYSICAL_DEVICES
mdefine_line|#define FC_MAX_PHYSICAL_DEVICES&t;&t;256
DECL|macro|MAX_MBOX_CHANNELS
mdefine_line|#define MAX_MBOX_CHANNELS&t;&t;5
DECL|macro|MAX_MBOX_TARGET
mdefine_line|#define MAX_MBOX_TARGET&t;&t;&t;15
DECL|macro|MBOX_MAX_PHYSICAL_DRIVES
mdefine_line|#define MBOX_MAX_PHYSICAL_DRIVES&t;MAX_MBOX_CHANNELS*MAX_MBOX_TARGET
DECL|macro|MAX_ROW_SIZE_40LD
mdefine_line|#define MAX_ROW_SIZE_40LD&t;&t;32
DECL|macro|MAX_ROW_SIZE_8LD
mdefine_line|#define MAX_ROW_SIZE_8LD&t;&t;8
DECL|macro|SPAN_DEPTH_8_SPANS
mdefine_line|#define SPAN_DEPTH_8_SPANS&t;&t;8
DECL|macro|SPAN_DEPTH_4_SPANS
mdefine_line|#define SPAN_DEPTH_4_SPANS&t;&t;4
DECL|macro|MAX_REQ_SENSE_LEN
mdefine_line|#define MAX_REQ_SENSE_LEN&t;&t;0x20
multiline_comment|/**&n; * struct mbox_t - Driver and f/w handshake structure.&n; * @cmd&t;&t;: firmware command&n; * @cmdid&t;: command id&n; * @numsectors&t;: number of sectors to be transferred&n; * @lba&t;&t;: Logical Block Address on LD&n; * @xferaddr&t;: DMA address for data transfer&n; * @logdrv&t;: logical drive number&n; * @numsge&t;: number of scatter gather elements in sg list&n; * @resvd&t;: reserved&n; * @busy&t;: f/w busy, must wait to issue more commands.&n; * @numstatus&t;: number of commands completed.&n; * @status&t;: status of the commands completed&n; * @completed&t;: array of completed command ids.&n; * @poll&t;: poll and ack sequence&n; * @ack&t;&t;: poll and ack sequence&n; *&n; * The central handshake structure between the driver and the firmware. This&n; * structure must be allocated by the driver and aligned at 8-byte boundary.&n; */
DECL|macro|MBOX_MAX_FIRMWARE_STATUS
mdefine_line|#define MBOX_MAX_FIRMWARE_STATUS&t;46
r_typedef
r_struct
(brace
DECL|member|cmd
r_uint8
id|cmd
suffix:semicolon
DECL|member|cmdid
r_uint8
id|cmdid
suffix:semicolon
DECL|member|numsectors
r_uint16
id|numsectors
suffix:semicolon
DECL|member|lba
r_uint32
id|lba
suffix:semicolon
DECL|member|xferaddr
r_uint32
id|xferaddr
suffix:semicolon
DECL|member|logdrv
r_uint8
id|logdrv
suffix:semicolon
DECL|member|numsge
r_uint8
id|numsge
suffix:semicolon
DECL|member|resvd
r_uint8
id|resvd
suffix:semicolon
DECL|member|busy
r_uint8
id|busy
suffix:semicolon
DECL|member|numstatus
r_uint8
id|numstatus
suffix:semicolon
DECL|member|status
r_uint8
id|status
suffix:semicolon
DECL|member|completed
r_uint8
id|completed
(braket
id|MBOX_MAX_FIRMWARE_STATUS
)braket
suffix:semicolon
DECL|member|poll
r_uint8
id|poll
suffix:semicolon
DECL|member|ack
r_uint8
id|ack
suffix:semicolon
DECL|typedef|mbox_t
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
id|mbox_t
suffix:semicolon
multiline_comment|/**&n; * mbox64_t - 64-bit extension for the mailbox&n; * @segment_lo&t;: the low 32-bits of the address of the scatter-gather list&n; * @segment_hi&t;: the upper 32-bits of the address of the scatter-gather list&n; * @mbox&t;: 32-bit mailbox, whose xferadder field must be set to&n; *&t;&t;0xFFFFFFFF&n; *&n; * This is the extension of the 32-bit mailbox to be able to perform DMA&n; * beyond 4GB address range.&n; */
r_typedef
r_struct
(brace
DECL|member|xferaddr_lo
r_uint32
id|xferaddr_lo
suffix:semicolon
DECL|member|xferaddr_hi
r_uint32
id|xferaddr_hi
suffix:semicolon
DECL|member|mbox32
id|mbox_t
id|mbox32
suffix:semicolon
DECL|typedef|mbox64_t
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
id|mbox64_t
suffix:semicolon
multiline_comment|/*&n; * mailbox structure used for internal commands&n; */
r_typedef
r_struct
(brace
DECL|member|cmd
id|u8
id|cmd
suffix:semicolon
DECL|member|cmdid
id|u8
id|cmdid
suffix:semicolon
DECL|member|opcode
id|u8
id|opcode
suffix:semicolon
DECL|member|subopcode
id|u8
id|subopcode
suffix:semicolon
DECL|member|lba
id|u32
id|lba
suffix:semicolon
DECL|member|xferaddr
id|u32
id|xferaddr
suffix:semicolon
DECL|member|logdrv
id|u8
id|logdrv
suffix:semicolon
DECL|member|rsvd
id|u8
id|rsvd
(braket
l_int|3
)braket
suffix:semicolon
DECL|member|numstatus
id|u8
id|numstatus
suffix:semicolon
DECL|member|status
id|u8
id|status
suffix:semicolon
DECL|typedef|int_mbox_t
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
id|int_mbox_t
suffix:semicolon
multiline_comment|/**&n; * mraid_passthru_t - passthru structure to issue commands to physical devices&n; * @timeout&t;&t;: command timeout, 0=6sec, 1=60sec, 2=10min, 3=3hr&n; * @ars&t;&t;&t;: set if ARS required after check condition&n; * @islogical&t;&t;: set if command meant for logical devices&n; * @logdrv&t;&t;: logical drive number if command for LD&n; * @channel&t;&t;: Channel on which physical device is located&n; * @target&t;&t;: SCSI target of the device&n; * @queuetag&t;&t;: unused&n; * @queueaction&t;&t;: unused&n; * @cdb&t;&t;&t;: SCSI CDB&n; * @cdblen&t;&t;: length of the CDB&n; * @reqsenselen&t;&t;: amount of request sense data to be returned&n; * @reqsensearea&t;: Sense information buffer&n; * @numsge&t;&t;: number of scatter-gather elements in the sg list&n; * @scsistatus&t;&t;: SCSI status of the command completed.&n; * @dataxferaddr&t;: DMA data transfer address&n; * @dataxferlen&t;&t;: amount of the data to be transferred.&n; */
r_typedef
r_struct
(brace
DECL|member|timeout
r_uint8
id|timeout
suffix:colon
l_int|3
suffix:semicolon
DECL|member|ars
r_uint8
id|ars
suffix:colon
l_int|1
suffix:semicolon
DECL|member|reserved
r_uint8
id|reserved
suffix:colon
l_int|3
suffix:semicolon
DECL|member|islogical
r_uint8
id|islogical
suffix:colon
l_int|1
suffix:semicolon
DECL|member|logdrv
r_uint8
id|logdrv
suffix:semicolon
DECL|member|channel
r_uint8
id|channel
suffix:semicolon
DECL|member|target
r_uint8
id|target
suffix:semicolon
DECL|member|queuetag
r_uint8
id|queuetag
suffix:semicolon
DECL|member|queueaction
r_uint8
id|queueaction
suffix:semicolon
DECL|member|cdb
r_uint8
id|cdb
(braket
l_int|10
)braket
suffix:semicolon
DECL|member|cdblen
r_uint8
id|cdblen
suffix:semicolon
DECL|member|reqsenselen
r_uint8
id|reqsenselen
suffix:semicolon
DECL|member|reqsensearea
r_uint8
id|reqsensearea
(braket
id|MAX_REQ_SENSE_LEN
)braket
suffix:semicolon
DECL|member|numsge
r_uint8
id|numsge
suffix:semicolon
DECL|member|scsistatus
r_uint8
id|scsistatus
suffix:semicolon
DECL|member|dataxferaddr
r_uint32
id|dataxferaddr
suffix:semicolon
DECL|member|dataxferlen
r_uint32
id|dataxferlen
suffix:semicolon
DECL|typedef|mraid_passthru_t
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
id|mraid_passthru_t
suffix:semicolon
r_typedef
r_struct
(brace
DECL|member|dataxferaddr_lo
r_uint32
id|dataxferaddr_lo
suffix:semicolon
DECL|member|dataxferaddr_hi
r_uint32
id|dataxferaddr_hi
suffix:semicolon
DECL|member|pthru32
id|mraid_passthru_t
id|pthru32
suffix:semicolon
DECL|typedef|mega_passthru64_t
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
id|mega_passthru64_t
suffix:semicolon
multiline_comment|/**&n; * mraid_epassthru_t - passthru structure to issue commands to physical devices&n; * @timeout&t;&t;: command timeout, 0=6sec, 1=60sec, 2=10min, 3=3hr&n; * @ars&t;&t;&t;: set if ARS required after check condition&n; * @rsvd1&t;&t;: reserved field&n; * @cd_rom&t;&t;: (?)&n; * @rsvd2&t;&t;: reserved field&n; * @islogical&t;&t;: set if command meant for logical devices&n; * @logdrv&t;&t;: logical drive number if command for LD&n; * @channel&t;&t;: Channel on which physical device is located&n; * @target&t;&t;: SCSI target of the device&n; * @queuetag&t;&t;: unused&n; * @queueaction&t;&t;: unused&n; * @cdblen&t;&t;: length of the CDB&n; * @rsvd3&t;&t;: reserved field&n; * @cdb&t;&t;&t;: SCSI CDB&n; * @numsge&t;&t;: number of scatter-gather elements in the sg list&n; * @status&t;&t;: SCSI status of the command completed.&n; * @reqsenselen&t;&t;: amount of request sense data to be returned&n; * @reqsensearea&t;: Sense information buffer&n; * @rsvd4&t;&t;: reserved field&n; * @dataxferaddr&t;: DMA data transfer address&n; * @dataxferlen&t;&t;: amount of the data to be transferred.&n; */
r_typedef
r_struct
(brace
DECL|member|timeout
r_uint8
id|timeout
suffix:colon
l_int|3
suffix:semicolon
DECL|member|ars
r_uint8
id|ars
suffix:colon
l_int|1
suffix:semicolon
DECL|member|rsvd1
r_uint8
id|rsvd1
suffix:colon
l_int|1
suffix:semicolon
DECL|member|cd_rom
r_uint8
id|cd_rom
suffix:colon
l_int|1
suffix:semicolon
DECL|member|rsvd2
r_uint8
id|rsvd2
suffix:colon
l_int|1
suffix:semicolon
DECL|member|islogical
r_uint8
id|islogical
suffix:colon
l_int|1
suffix:semicolon
DECL|member|logdrv
r_uint8
id|logdrv
suffix:semicolon
DECL|member|channel
r_uint8
id|channel
suffix:semicolon
DECL|member|target
r_uint8
id|target
suffix:semicolon
DECL|member|queuetag
r_uint8
id|queuetag
suffix:semicolon
DECL|member|queueaction
r_uint8
id|queueaction
suffix:semicolon
DECL|member|cdblen
r_uint8
id|cdblen
suffix:semicolon
DECL|member|rsvd3
r_uint8
id|rsvd3
suffix:semicolon
DECL|member|cdb
r_uint8
id|cdb
(braket
l_int|16
)braket
suffix:semicolon
DECL|member|numsge
r_uint8
id|numsge
suffix:semicolon
DECL|member|status
r_uint8
id|status
suffix:semicolon
DECL|member|reqsenselen
r_uint8
id|reqsenselen
suffix:semicolon
DECL|member|reqsensearea
r_uint8
id|reqsensearea
(braket
id|MAX_REQ_SENSE_LEN
)braket
suffix:semicolon
DECL|member|rsvd4
r_uint8
id|rsvd4
suffix:semicolon
DECL|member|dataxferaddr
r_uint32
id|dataxferaddr
suffix:semicolon
DECL|member|dataxferlen
r_uint32
id|dataxferlen
suffix:semicolon
DECL|typedef|mraid_epassthru_t
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
id|mraid_epassthru_t
suffix:semicolon
multiline_comment|/**&n; * mraid_pinfo_t - product info, static information about the controller&n; * @data_size&t;&t;: current size in bytes (not including resvd)&n; * @config_signature&t;: Current value is 0x00282008&n; * @fw_version&t;&t;: Firmware version&n; * @bios_version&t;: version of the BIOS&n; * @product_name&t;: Name given to the controller&n; * @max_commands&t;: Maximum concurrent commands supported&n; * @nchannels&t;&t;: Number of SCSI Channels detected&n; * @fc_loop_present&t;: Number of Fibre Loops detected&n; * @mem_type&t;&t;: EDO, FPM, SDRAM etc&n; * @signature&t;&t;:&n; * @dram_size&t;&t;: In terms of MB&n; * @subsysid&t;&t;: device PCI subsystem ID&n; * @subsysvid&t;&t;: device PCI subsystem vendor ID&n; * @notify_counters&t;:&n; * @pad1k&t;&t;: 135 + 889 resvd = 1024 total size&n; *&n; * This structures holds the information about the controller which is not&n; * expected to change dynamically.&n; *&n; * The current value of config signature is 0x00282008:&n; * 0x28 = MAX_LOGICAL_DRIVES,&n; * 0x20 = Number of stripes and&n; * 0x08 = Number of spans&n; */
r_typedef
r_struct
(brace
DECL|member|data_size
r_uint32
id|data_size
suffix:semicolon
DECL|member|config_signature
r_uint32
id|config_signature
suffix:semicolon
DECL|member|fw_version
r_uint8
id|fw_version
(braket
l_int|16
)braket
suffix:semicolon
DECL|member|bios_version
r_uint8
id|bios_version
(braket
l_int|16
)braket
suffix:semicolon
DECL|member|product_name
r_uint8
id|product_name
(braket
l_int|80
)braket
suffix:semicolon
DECL|member|max_commands
r_uint8
id|max_commands
suffix:semicolon
DECL|member|nchannels
r_uint8
id|nchannels
suffix:semicolon
DECL|member|fc_loop_present
r_uint8
id|fc_loop_present
suffix:semicolon
DECL|member|mem_type
r_uint8
id|mem_type
suffix:semicolon
DECL|member|signature
r_uint32
id|signature
suffix:semicolon
DECL|member|dram_size
r_uint16
id|dram_size
suffix:semicolon
DECL|member|subsysid
r_uint16
id|subsysid
suffix:semicolon
DECL|member|subsysvid
r_uint16
id|subsysvid
suffix:semicolon
DECL|member|notify_counters
r_uint8
id|notify_counters
suffix:semicolon
DECL|member|pad1k
r_uint8
id|pad1k
(braket
l_int|889
)braket
suffix:semicolon
DECL|typedef|mraid_pinfo_t
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
id|mraid_pinfo_t
suffix:semicolon
multiline_comment|/**&n; * mraid_notify_t - the notification structure&n; * @global_counter&t;&t;: Any change increments this counter&n; * @param_counter&t;&t;: Indicates any params changed&n; * @param_id&t;&t;&t;: Param modified - defined below&n; * @param_val&t;&t;&t;: New val of last param modified&n; * @write_config_counter&t;: write config occurred&n; * @write_config_rsvd&t;&t;:&n; * @ldrv_op_counter&t;&t;: Indicates ldrv op started/completed&n; * @ldrv_opid&t;&t;&t;: ldrv num&n; * @ldrv_opcmd&t;&t;&t;: ldrv operation - defined below&n; * @ldrv_opstatus&t;&t;: status of the operation&n; * @ldrv_state_counter&t;&t;: Indicates change of ldrv state&n; * @ldrv_state_id&t;&t;: ldrv num&n; * @ldrv_state_new&t;&t;: New state&n; * @ldrv_state_old&t;&t;: old state&n; * @pdrv_state_counter&t;&t;: Indicates change of ldrv state&n; * @pdrv_state_id&t;&t;: pdrv id&n; * @pdrv_state_new&t;&t;: New state&n; * @pdrv_state_old&t;&t;: old state&n; * @pdrv_fmt_counter&t;&t;: Indicates pdrv format started/over&n; * @pdrv_fmt_id&t;&t;&t;: pdrv id&n; * @pdrv_fmt_val&t;&t;: format started/over&n; * @pdrv_fmt_rsvd&t;&t;:&n; * @targ_xfer_counter&t;&t;: Indicates SCSI-2 Xfer rate change&n; * @targ_xfer_id&t;&t;: pdrv Id&n; * @targ_xfer_val&t;&t;: new Xfer params of last pdrv&n; * @targ_xfer_rsvd&t;&t;:&n; * @fcloop_id_chg_counter&t;: Indicates loopid changed&n; * @fcloopid_pdrvid&t;&t;: pdrv id&n; * @fcloop_id0&t;&t;&t;: loopid on fc loop 0&n; * @fcloop_id1&t;&t;&t;: loopid on fc loop 1&n; * @fcloop_state_counter&t;: Indicates loop state changed&n; * @fcloop_state0&t;&t;: state of fc loop 0&n; * @fcloop_state1&t;&t;: state of fc loop 1&n; * @fcloop_state_rsvd&t;&t;:&n; */
r_typedef
r_struct
(brace
DECL|member|global_counter
r_uint32
id|global_counter
suffix:semicolon
DECL|member|param_counter
r_uint8
id|param_counter
suffix:semicolon
DECL|member|param_id
r_uint8
id|param_id
suffix:semicolon
DECL|member|param_val
r_uint16
id|param_val
suffix:semicolon
DECL|member|write_config_counter
r_uint8
id|write_config_counter
suffix:semicolon
DECL|member|write_config_rsvd
r_uint8
id|write_config_rsvd
(braket
l_int|3
)braket
suffix:semicolon
DECL|member|ldrv_op_counter
r_uint8
id|ldrv_op_counter
suffix:semicolon
DECL|member|ldrv_opid
r_uint8
id|ldrv_opid
suffix:semicolon
DECL|member|ldrv_opcmd
r_uint8
id|ldrv_opcmd
suffix:semicolon
DECL|member|ldrv_opstatus
r_uint8
id|ldrv_opstatus
suffix:semicolon
DECL|member|ldrv_state_counter
r_uint8
id|ldrv_state_counter
suffix:semicolon
DECL|member|ldrv_state_id
r_uint8
id|ldrv_state_id
suffix:semicolon
DECL|member|ldrv_state_new
r_uint8
id|ldrv_state_new
suffix:semicolon
DECL|member|ldrv_state_old
r_uint8
id|ldrv_state_old
suffix:semicolon
DECL|member|pdrv_state_counter
r_uint8
id|pdrv_state_counter
suffix:semicolon
DECL|member|pdrv_state_id
r_uint8
id|pdrv_state_id
suffix:semicolon
DECL|member|pdrv_state_new
r_uint8
id|pdrv_state_new
suffix:semicolon
DECL|member|pdrv_state_old
r_uint8
id|pdrv_state_old
suffix:semicolon
DECL|member|pdrv_fmt_counter
r_uint8
id|pdrv_fmt_counter
suffix:semicolon
DECL|member|pdrv_fmt_id
r_uint8
id|pdrv_fmt_id
suffix:semicolon
DECL|member|pdrv_fmt_val
r_uint8
id|pdrv_fmt_val
suffix:semicolon
DECL|member|pdrv_fmt_rsvd
r_uint8
id|pdrv_fmt_rsvd
suffix:semicolon
DECL|member|targ_xfer_counter
r_uint8
id|targ_xfer_counter
suffix:semicolon
DECL|member|targ_xfer_id
r_uint8
id|targ_xfer_id
suffix:semicolon
DECL|member|targ_xfer_val
r_uint8
id|targ_xfer_val
suffix:semicolon
DECL|member|targ_xfer_rsvd
r_uint8
id|targ_xfer_rsvd
suffix:semicolon
DECL|member|fcloop_id_chg_counter
r_uint8
id|fcloop_id_chg_counter
suffix:semicolon
DECL|member|fcloopid_pdrvid
r_uint8
id|fcloopid_pdrvid
suffix:semicolon
DECL|member|fcloop_id0
r_uint8
id|fcloop_id0
suffix:semicolon
DECL|member|fcloop_id1
r_uint8
id|fcloop_id1
suffix:semicolon
DECL|member|fcloop_state_counter
r_uint8
id|fcloop_state_counter
suffix:semicolon
DECL|member|fcloop_state0
r_uint8
id|fcloop_state0
suffix:semicolon
DECL|member|fcloop_state1
r_uint8
id|fcloop_state1
suffix:semicolon
DECL|member|fcloop_state_rsvd
r_uint8
id|fcloop_state_rsvd
suffix:semicolon
DECL|typedef|mraid_notify_t
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
id|mraid_notify_t
suffix:semicolon
multiline_comment|/**&n; * mraid_inquiry3_t - enquiry for device information&n; *&n; * @data_size&t;&t;: current size in bytes (not including resvd)&n; * @notify&t;&t;:&n; * @notify_rsvd&t;&t;:&n; * @rebuild_rate&t;: rebuild rate (0% - 100%)&n; * @cache_flush_int&t;: cache flush interval in seconds&n; * @sense_alert&t;&t;:&n; * @drive_insert_count&t;: drive insertion count&n; * @battery_status&t;:&n; * @num_ldrv&t;&t;: no. of Log Drives configured&n; * @recon_state&t;&t;: state of reconstruct&n; * @ldrv_op_status&t;: logdrv Status&n; * @ldrv_size&t;&t;: size of each log drv&n; * @ldrv_prop&t;&t;:&n; * @ldrv_state&t;&t;: state of log drives&n; * @pdrv_state&t;&t;: state of phys drvs.&n; * @pdrv_format&t;&t;:&n; * @targ_xfer&t;&t;: phys device transfer rate&n; * @pad1k&t;&t;: 761 + 263reserved = 1024 bytes total size&n; */
DECL|macro|MAX_NOTIFY_SIZE
mdefine_line|#define MAX_NOTIFY_SIZE&t;&t;0x80
DECL|macro|CUR_NOTIFY_SIZE
mdefine_line|#define CUR_NOTIFY_SIZE&t;&t;sizeof(mraid_notify_t)
r_typedef
r_struct
(brace
DECL|member|data_size
r_uint32
id|data_size
suffix:semicolon
DECL|member|notify
id|mraid_notify_t
id|notify
suffix:semicolon
DECL|member|notify_rsvd
r_uint8
id|notify_rsvd
(braket
id|MAX_NOTIFY_SIZE
op_minus
id|CUR_NOTIFY_SIZE
)braket
suffix:semicolon
DECL|member|rebuild_rate
r_uint8
id|rebuild_rate
suffix:semicolon
DECL|member|cache_flush_int
r_uint8
id|cache_flush_int
suffix:semicolon
DECL|member|sense_alert
r_uint8
id|sense_alert
suffix:semicolon
DECL|member|drive_insert_count
r_uint8
id|drive_insert_count
suffix:semicolon
DECL|member|battery_status
r_uint8
id|battery_status
suffix:semicolon
DECL|member|num_ldrv
r_uint8
id|num_ldrv
suffix:semicolon
DECL|member|recon_state
r_uint8
id|recon_state
(braket
id|MAX_LOGICAL_DRIVES_40LD
op_div
l_int|8
)braket
suffix:semicolon
DECL|member|ldrv_op_status
r_uint16
id|ldrv_op_status
(braket
id|MAX_LOGICAL_DRIVES_40LD
op_div
l_int|8
)braket
suffix:semicolon
DECL|member|ldrv_size
r_uint32
id|ldrv_size
(braket
id|MAX_LOGICAL_DRIVES_40LD
)braket
suffix:semicolon
DECL|member|ldrv_prop
r_uint8
id|ldrv_prop
(braket
id|MAX_LOGICAL_DRIVES_40LD
)braket
suffix:semicolon
DECL|member|ldrv_state
r_uint8
id|ldrv_state
(braket
id|MAX_LOGICAL_DRIVES_40LD
)braket
suffix:semicolon
DECL|member|pdrv_state
r_uint8
id|pdrv_state
(braket
id|FC_MAX_PHYSICAL_DEVICES
)braket
suffix:semicolon
DECL|member|pdrv_format
r_uint16
id|pdrv_format
(braket
id|FC_MAX_PHYSICAL_DEVICES
op_div
l_int|16
)braket
suffix:semicolon
DECL|member|targ_xfer
r_uint8
id|targ_xfer
(braket
l_int|80
)braket
suffix:semicolon
DECL|member|pad1k
r_uint8
id|pad1k
(braket
l_int|263
)braket
suffix:semicolon
DECL|typedef|mraid_inquiry3_t
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
id|mraid_inquiry3_t
suffix:semicolon
multiline_comment|/**&n; * mraid_adapinfo_t - information about the adapter&n; * @max_commands&t;&t;: max concurrent commands supported&n; * @rebuild_rate&t;&t;: rebuild rate - 0% thru 100%&n; * @max_targ_per_chan&t;&t;: max targ per channel&n; * @nchannels&t;&t;&t;: number of channels on HBA&n; * @fw_version&t;&t;&t;: firmware version&n; * @age_of_flash&t;&t;: number of times FW has been flashed&n; * @chip_set_value&t;&t;: contents of 0xC0000832&n; * @dram_size&t;&t;&t;: in MB&n; * @cache_flush_interval&t;: in seconds&n; * @bios_version&t;&t;:&n; * @board_type&t;&t;&t;:&n; * @sense_alert&t;&t;&t;:&n; * @write_config_count&t;&t;: increase with every configuration change&n; * @drive_inserted_count&t;: increase with every drive inserted&n; * @inserted_drive&t;&t;: channel:Id of inserted drive&n; * @battery_status&t;&t;: bit 0: battery module missing&n; *&t;&t;&t;&t;bit 1: VBAD&n; *&t;&t;&t;&t;bit 2: temprature high&n; *&t;&t;&t;&t;bit 3: battery pack missing&n; *&t;&t;&t;&t;bit 4,5:&n; *&t;&t;&t;&t;&t;00 - charge complete&n; *&t;&t;&t;&t;&t;01 - fast charge in progress&n; *&t;&t;&t;&t;&t;10 - fast charge fail&n; *&t;&t;&t;&t;&t;11 - undefined&n; *&t;&t;&t;&t;bit 6: counter &gt; 1000&n; *&t;&t;&t;&t;bit 7: Undefined&n; * @dec_fault_bus_info&t;&t;:&n; */
r_typedef
r_struct
(brace
DECL|member|max_commands
r_uint8
id|max_commands
suffix:semicolon
DECL|member|rebuild_rate
r_uint8
id|rebuild_rate
suffix:semicolon
DECL|member|max_targ_per_chan
r_uint8
id|max_targ_per_chan
suffix:semicolon
DECL|member|nchannels
r_uint8
id|nchannels
suffix:semicolon
DECL|member|fw_version
r_uint8
id|fw_version
(braket
l_int|4
)braket
suffix:semicolon
DECL|member|age_of_flash
r_uint16
id|age_of_flash
suffix:semicolon
DECL|member|chip_set_value
r_uint8
id|chip_set_value
suffix:semicolon
DECL|member|dram_size
r_uint8
id|dram_size
suffix:semicolon
DECL|member|cache_flush_interval
r_uint8
id|cache_flush_interval
suffix:semicolon
DECL|member|bios_version
r_uint8
id|bios_version
(braket
l_int|4
)braket
suffix:semicolon
DECL|member|board_type
r_uint8
id|board_type
suffix:semicolon
DECL|member|sense_alert
r_uint8
id|sense_alert
suffix:semicolon
DECL|member|write_config_count
r_uint8
id|write_config_count
suffix:semicolon
DECL|member|battery_status
r_uint8
id|battery_status
suffix:semicolon
DECL|member|dec_fault_bus_info
r_uint8
id|dec_fault_bus_info
suffix:semicolon
DECL|typedef|mraid_adapinfo_t
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
id|mraid_adapinfo_t
suffix:semicolon
multiline_comment|/**&n; * mraid_ldrv_info_t - information about the logical drives&n; * @nldrv&t;: Number of logical drives configured&n; * @rsvd&t;:&n; * @size&t;: size of each logical drive&n; * @prop&t;:&n; * @state&t;: state of each logical drive&n; */
r_typedef
r_struct
(brace
DECL|member|nldrv
r_uint8
id|nldrv
suffix:semicolon
DECL|member|rsvd
r_uint8
id|rsvd
(braket
l_int|3
)braket
suffix:semicolon
DECL|member|size
r_uint32
id|size
(braket
id|MAX_LOGICAL_DRIVES_8LD
)braket
suffix:semicolon
DECL|member|prop
r_uint8
id|prop
(braket
id|MAX_LOGICAL_DRIVES_8LD
)braket
suffix:semicolon
DECL|member|state
r_uint8
id|state
(braket
id|MAX_LOGICAL_DRIVES_8LD
)braket
suffix:semicolon
DECL|typedef|mraid_ldrv_info_t
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
id|mraid_ldrv_info_t
suffix:semicolon
multiline_comment|/**&n; * mraid_pdrv_info_t - information about the physical drives&n; * @pdrv_state&t;: state of each physical drive&n; */
r_typedef
r_struct
(brace
DECL|member|pdrv_state
r_uint8
id|pdrv_state
(braket
id|MBOX_MAX_PHYSICAL_DRIVES
)braket
suffix:semicolon
DECL|member|rsvd
r_uint8
id|rsvd
suffix:semicolon
DECL|typedef|mraid_pdrv_info_t
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
id|mraid_pdrv_info_t
suffix:semicolon
multiline_comment|/**&n; * mraid_inquiry_t - RAID inquiry, mailbox command 0x05&n; * @mraid_adapinfo_t&t;: adapter information&n; * @mraid_ldrv_info_t&t;: logical drives information&n; * @mraid_pdrv_info_t&t;: physical drives information&n; */
r_typedef
r_struct
(brace
DECL|member|adapter_info
id|mraid_adapinfo_t
id|adapter_info
suffix:semicolon
DECL|member|logdrv_info
id|mraid_ldrv_info_t
id|logdrv_info
suffix:semicolon
DECL|member|pdrv_info
id|mraid_pdrv_info_t
id|pdrv_info
suffix:semicolon
DECL|typedef|mraid_inquiry_t
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
id|mraid_inquiry_t
suffix:semicolon
multiline_comment|/**&n; * mraid_extinq_t - RAID extended inquiry, mailbox command 0x04&n; *&n; * @raid_inq&t;&t;: raid inquiry&n; * @phys_drv_format&t;:&n; * @stack_attn&t;&t;:&n; * @modem_status&t;:&n; * @rsvd&t;&t;:&n; */
r_typedef
r_struct
(brace
DECL|member|raid_inq
id|mraid_inquiry_t
id|raid_inq
suffix:semicolon
DECL|member|phys_drv_format
r_uint16
id|phys_drv_format
(braket
id|MAX_MBOX_CHANNELS
)braket
suffix:semicolon
DECL|member|stack_attn
r_uint8
id|stack_attn
suffix:semicolon
DECL|member|modem_status
r_uint8
id|modem_status
suffix:semicolon
DECL|member|rsvd
r_uint8
id|rsvd
(braket
l_int|2
)braket
suffix:semicolon
DECL|typedef|mraid_extinq_t
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
id|mraid_extinq_t
suffix:semicolon
multiline_comment|/**&n; * adap_device_t - device information&n; * @channel&t;: channel fpor the device&n; * @target&t;: target ID of the device&n; */
r_typedef
r_struct
(brace
DECL|member|channel
r_uint8
id|channel
suffix:semicolon
DECL|member|target
r_uint8
id|target
suffix:semicolon
DECL|typedef|adap_device_t
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
id|adap_device_t
suffix:semicolon
multiline_comment|/**&n; * adap_span_40ld_t - 40LD span&n; * @start_blk&t;: starting block&n; * @num_blks&t;: number of blocks&n; */
r_typedef
r_struct
(brace
DECL|member|start_blk
r_uint32
id|start_blk
suffix:semicolon
DECL|member|num_blks
r_uint32
id|num_blks
suffix:semicolon
DECL|member|device
id|adap_device_t
id|device
(braket
id|MAX_ROW_SIZE_40LD
)braket
suffix:semicolon
DECL|typedef|adap_span_40ld_t
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
id|adap_span_40ld_t
suffix:semicolon
multiline_comment|/**&n; * adap_span_8ld_t - 8LD span&n; * @start_blk&t;: starting block&n; * @num_blks&t;: number of blocks&n; */
r_typedef
r_struct
(brace
DECL|member|start_blk
r_uint32
id|start_blk
suffix:semicolon
DECL|member|num_blks
r_uint32
id|num_blks
suffix:semicolon
DECL|member|device
id|adap_device_t
id|device
(braket
id|MAX_ROW_SIZE_8LD
)braket
suffix:semicolon
DECL|typedef|adap_span_8ld_t
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
id|adap_span_8ld_t
suffix:semicolon
multiline_comment|/**&n; * logdrv_param_t - logical drives parameters&n; *&n; * @span_depth&t;: total number of spans&n; * @level&t;: RAID level&n; * @read_ahead&t;: read ahead, no read ahead, adaptive read ahead&n; * @stripe_sz&t;: encoded stripe size&n; * @status&t;: status of the logical drive&n; * @write_mode&t;: write mode, write_through/write_back&n; * @direct_io&t;: direct io or through cache&n; * @row_size&t;: number of stripes in a row&n; */
r_typedef
r_struct
(brace
DECL|member|span_depth
r_uint8
id|span_depth
suffix:semicolon
DECL|member|level
r_uint8
id|level
suffix:semicolon
DECL|member|read_ahead
r_uint8
id|read_ahead
suffix:semicolon
DECL|member|stripe_sz
r_uint8
id|stripe_sz
suffix:semicolon
DECL|member|status
r_uint8
id|status
suffix:semicolon
DECL|member|write_mode
r_uint8
id|write_mode
suffix:semicolon
DECL|member|direct_io
r_uint8
id|direct_io
suffix:semicolon
DECL|member|row_size
r_uint8
id|row_size
suffix:semicolon
DECL|typedef|logdrv_param_t
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
id|logdrv_param_t
suffix:semicolon
multiline_comment|/**&n; * logdrv_40ld_t - logical drive definition for 40LD controllers&n; * @lparam&t;: logical drives parameters&n; * @span&t;: span&n; */
r_typedef
r_struct
(brace
DECL|member|lparam
id|logdrv_param_t
id|lparam
suffix:semicolon
DECL|member|span
id|adap_span_40ld_t
id|span
(braket
id|SPAN_DEPTH_8_SPANS
)braket
suffix:semicolon
DECL|typedef|logdrv_40ld_t
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
id|logdrv_40ld_t
suffix:semicolon
multiline_comment|/**&n; * logdrv_8ld_span8_t - logical drive definition for 8LD controllers&n; * @lparam&t;: logical drives parameters&n; * @span&t;: span&n; *&n; * 8-LD logical drive with upto 8 spans&n; */
r_typedef
r_struct
(brace
DECL|member|lparam
id|logdrv_param_t
id|lparam
suffix:semicolon
DECL|member|span
id|adap_span_8ld_t
id|span
(braket
id|SPAN_DEPTH_8_SPANS
)braket
suffix:semicolon
DECL|typedef|logdrv_8ld_span8_t
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
id|logdrv_8ld_span8_t
suffix:semicolon
multiline_comment|/**&n; * logdrv_8ld_span4_t - logical drive definition for 8LD controllers&n; * @lparam&t;: logical drives parameters&n; * @span&t;: span&n; *&n; * 8-LD logical drive with upto 4 spans&n; */
r_typedef
r_struct
(brace
DECL|member|lparam
id|logdrv_param_t
id|lparam
suffix:semicolon
DECL|member|span
id|adap_span_8ld_t
id|span
(braket
id|SPAN_DEPTH_4_SPANS
)braket
suffix:semicolon
DECL|typedef|logdrv_8ld_span4_t
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
id|logdrv_8ld_span4_t
suffix:semicolon
multiline_comment|/**&n; * phys_drive_t - physical device information&n; * @type&t;: Type of the device&n; * @cur_status&t;: current status of the device&n; * @tag_depth&t;: Level of tagging&n; * @sync_neg&t;: sync negotiation - ENABLE or DISBALE&n; * @size&t;: configurable size in terms of 512 byte&n; */
r_typedef
r_struct
(brace
DECL|member|type
r_uint8
id|type
suffix:semicolon
DECL|member|cur_status
r_uint8
id|cur_status
suffix:semicolon
DECL|member|tag_depth
r_uint8
id|tag_depth
suffix:semicolon
DECL|member|sync_neg
r_uint8
id|sync_neg
suffix:semicolon
DECL|member|size
r_uint32
id|size
suffix:semicolon
DECL|typedef|phys_drive_t
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
id|phys_drive_t
suffix:semicolon
multiline_comment|/**&n; * disk_array_40ld_t - disk array for 40LD controllers&n; * @numldrv&t;: number of logical drives&n; * @resvd&t;:&n; * @ldrv&t;: logical drives information&n; * @pdrv&t;: physical drives information&n; */
r_typedef
r_struct
(brace
DECL|member|numldrv
r_uint8
id|numldrv
suffix:semicolon
DECL|member|resvd
r_uint8
id|resvd
(braket
l_int|3
)braket
suffix:semicolon
DECL|member|ldrv
id|logdrv_40ld_t
id|ldrv
(braket
id|MAX_LOGICAL_DRIVES_40LD
)braket
suffix:semicolon
DECL|member|pdrv
id|phys_drive_t
id|pdrv
(braket
id|MBOX_MAX_PHYSICAL_DRIVES
)braket
suffix:semicolon
DECL|typedef|disk_array_40ld_t
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
id|disk_array_40ld_t
suffix:semicolon
multiline_comment|/**&n; * disk_array_8ld_span8_t - disk array for 8LD controllers&n; * @numldrv&t;: number of logical drives&n; * @resvd&t;:&n; * @ldrv&t;: logical drives information&n; * @pdrv&t;: physical drives information&n; *&n; * Disk array for 8LD logical drives with upto 8 spans&n; */
r_typedef
r_struct
(brace
DECL|member|numldrv
r_uint8
id|numldrv
suffix:semicolon
DECL|member|resvd
r_uint8
id|resvd
(braket
l_int|3
)braket
suffix:semicolon
DECL|member|ldrv
id|logdrv_8ld_span8_t
id|ldrv
(braket
id|MAX_LOGICAL_DRIVES_8LD
)braket
suffix:semicolon
DECL|member|pdrv
id|phys_drive_t
id|pdrv
(braket
id|MBOX_MAX_PHYSICAL_DRIVES
)braket
suffix:semicolon
DECL|typedef|disk_array_8ld_span8_t
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
id|disk_array_8ld_span8_t
suffix:semicolon
multiline_comment|/**&n; * disk_array_8ld_span4_t - disk array for 8LD controllers&n; * @numldrv&t;: number of logical drives&n; * @resvd&t;:&n; * @ldrv&t;: logical drives information&n; * @pdrv&t;: physical drives information&n; *&n; * Disk array for 8LD logical drives with upto 4 spans&n; */
r_typedef
r_struct
(brace
DECL|member|numldrv
r_uint8
id|numldrv
suffix:semicolon
DECL|member|resvd
r_uint8
id|resvd
(braket
l_int|3
)braket
suffix:semicolon
DECL|member|ldrv
id|logdrv_8ld_span4_t
id|ldrv
(braket
id|MAX_LOGICAL_DRIVES_8LD
)braket
suffix:semicolon
DECL|member|pdrv
id|phys_drive_t
id|pdrv
(braket
id|MBOX_MAX_PHYSICAL_DRIVES
)braket
suffix:semicolon
DECL|typedef|disk_array_8ld_span4_t
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
id|disk_array_8ld_span4_t
suffix:semicolon
multiline_comment|/**&n; * private_bios_data - bios private data for boot devices&n; * @geometry&t;: bits 0-3 - BIOS geometry, 0x0001 - 1GB, 0x0010 - 2GB,&n; *&t;&t;0x1000 - 8GB, Others values are invalid&n; * @unused&t;: bits 4-7 are unused&n; * @boot_drv&t;: logical drive set as boot drive, 0..7 - for 8LD cards,&n; * &t;&t;0..39 - for 40LD cards&n; * @cksum&t;: 0-(sum of first 13 bytes of this structure)&n; */
DECL|struct|private_bios_data
r_struct
id|private_bios_data
(brace
DECL|member|geometry
r_uint8
id|geometry
suffix:colon
l_int|4
suffix:semicolon
DECL|member|unused
r_uint8
id|unused
suffix:colon
l_int|4
suffix:semicolon
DECL|member|boot_drv
r_uint8
id|boot_drv
suffix:semicolon
DECL|member|rsvd
r_uint8
id|rsvd
(braket
l_int|12
)braket
suffix:semicolon
DECL|member|cksum
r_uint16
id|cksum
suffix:semicolon
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
suffix:semicolon
multiline_comment|/**&n; * mbox_sgl64 - 64-bit scatter list for mailbox based controllers&n; * @address&t;: address of the buffer&n; * @length&t;: data transfer length&n; */
r_typedef
r_struct
(brace
DECL|member|address
r_uint64
id|address
suffix:semicolon
DECL|member|length
r_uint32
id|length
suffix:semicolon
DECL|typedef|mbox_sgl64
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
id|mbox_sgl64
suffix:semicolon
multiline_comment|/**&n; * mbox_sgl32 - 32-bit scatter list for mailbox based controllers&n; * @address&t;: address of the buffer&n; * @length&t;: data transfer length&n; */
r_typedef
r_struct
(brace
DECL|member|address
r_uint32
id|address
suffix:semicolon
DECL|member|length
r_uint32
id|length
suffix:semicolon
DECL|typedef|mbox_sgl32
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
id|mbox_sgl32
suffix:semicolon
macro_line|#endif&t;&t;
singleline_comment|// _MRAID_MBOX_DEFS_H_
multiline_comment|/* vim: set ts=8 sw=8 tw=78: */
eof
