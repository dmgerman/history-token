multiline_comment|/*&n; * ipr.h -- driver for IBM Power Linux RAID adapters&n; *&n; * Written By: Brian King, IBM Corporation&n; *&n; * Copyright (C) 2003, 2004 IBM Corporation&n; *&n; * This program is free software; you can redistribute it and/or modify&n; * it under the terms of the GNU General Public License as published by&n; * the Free Software Foundation; either version 2 of the License, or&n; * (at your option) any later version.&n; *&n; * This program is distributed in the hope that it will be useful,&n; * but WITHOUT ANY WARRANTY; without even the implied warranty of&n; * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the&n; * GNU General Public License for more details.&n; *&n; * You should have received a copy of the GNU General Public License&n; * along with this program; if not, write to the Free Software&n; * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA&n; *&n; */
macro_line|#ifndef _IPR_H
DECL|macro|_IPR_H
mdefine_line|#define _IPR_H
macro_line|#include &lt;linux/types.h&gt;
macro_line|#include &lt;linux/completion.h&gt;
macro_line|#include &lt;linux/list.h&gt;
macro_line|#include &lt;scsi/scsi.h&gt;
macro_line|#include &lt;scsi/scsi_cmnd.h&gt;
macro_line|#ifdef CONFIG_KDB
macro_line|#include &lt;linux/kdb.h&gt;
macro_line|#endif
multiline_comment|/*&n; * Literals&n; */
DECL|macro|IPR_DRIVER_VERSION
mdefine_line|#define IPR_DRIVER_VERSION &quot;2.0.8&quot;
DECL|macro|IPR_DRIVER_DATE
mdefine_line|#define IPR_DRIVER_DATE &quot;(May 23, 2004)&quot;
multiline_comment|/*&n; * IPR_DBG_TRACE: Setting this to 1 will turn on some general function tracing&n; *&t;&t;&t;resulting in a bunch of extra debugging printks to the console&n; *&n; * IPR_DEBUG:&t;Setting this to 1 will turn on some error path tracing.&n; *&t;&t;&t;Enables the ipr_trace macro.&n; */
macro_line|#ifdef IPR_DEBUG_ALL
DECL|macro|IPR_DEBUG
mdefine_line|#define IPR_DEBUG&t;&t;&t;&t;1
DECL|macro|IPR_DBG_TRACE
mdefine_line|#define IPR_DBG_TRACE&t;&t;&t;1
macro_line|#else
DECL|macro|IPR_DEBUG
mdefine_line|#define IPR_DEBUG&t;&t;&t;&t;0
DECL|macro|IPR_DBG_TRACE
mdefine_line|#define IPR_DBG_TRACE&t;&t;&t;0
macro_line|#endif
multiline_comment|/*&n; * IPR_MAX_CMD_PER_LUN: This defines the maximum number of outstanding&n; *&t;ops per device for devices not running tagged command queuing.&n; *&t;This can be adjusted at runtime through sysfs device attributes.&n; */
DECL|macro|IPR_MAX_CMD_PER_LUN
mdefine_line|#define IPR_MAX_CMD_PER_LUN&t;&t;&t;&t;6
multiline_comment|/*&n; * IPR_NUM_BASE_CMD_BLKS: This defines the maximum number of&n; *&t;ops the mid-layer can send to the adapter.&n; */
DECL|macro|IPR_NUM_BASE_CMD_BLKS
mdefine_line|#define IPR_NUM_BASE_CMD_BLKS&t;&t;&t;&t;100
DECL|macro|IPR_SUBS_DEV_ID_2780
mdefine_line|#define IPR_SUBS_DEV_ID_2780&t;0x0264
DECL|macro|IPR_SUBS_DEV_ID_5702
mdefine_line|#define IPR_SUBS_DEV_ID_5702&t;0x0266
DECL|macro|IPR_SUBS_DEV_ID_5703
mdefine_line|#define IPR_SUBS_DEV_ID_5703&t;0x0278
DECL|macro|IPR_SUBS_DEV_ID_572E
mdefine_line|#define IPR_SUBS_DEV_ID_572E  0x02D3
DECL|macro|IPR_SUBS_DEV_ID_573D
mdefine_line|#define IPR_SUBS_DEV_ID_573D  0x02D4
DECL|macro|IPR_NAME
mdefine_line|#define IPR_NAME&t;&t;&t;&t;&quot;ipr&quot;
multiline_comment|/*&n; * Return codes&n; */
DECL|macro|IPR_RC_JOB_CONTINUE
mdefine_line|#define IPR_RC_JOB_CONTINUE&t;&t;1
DECL|macro|IPR_RC_JOB_RETURN
mdefine_line|#define IPR_RC_JOB_RETURN&t;&t;2
multiline_comment|/*&n; * IOASCs&n; */
DECL|macro|IPR_IOASC_NR_INIT_CMD_REQUIRED
mdefine_line|#define IPR_IOASC_NR_INIT_CMD_REQUIRED&t;&t;0x02040200
DECL|macro|IPR_IOASC_SYNC_REQUIRED
mdefine_line|#define IPR_IOASC_SYNC_REQUIRED&t;&t;&t;0x023f0000
DECL|macro|IPR_IOASC_MED_DO_NOT_REALLOC
mdefine_line|#define IPR_IOASC_MED_DO_NOT_REALLOC&t;&t;0x03110C00
DECL|macro|IPR_IOASC_HW_SEL_TIMEOUT
mdefine_line|#define IPR_IOASC_HW_SEL_TIMEOUT&t;&t;&t;0x04050000
DECL|macro|IPR_IOASC_HW_DEV_BUS_STATUS
mdefine_line|#define IPR_IOASC_HW_DEV_BUS_STATUS&t;&t;&t;0x04448500
DECL|macro|IPR_IOASC_IOASC_MASK
mdefine_line|#define&t;IPR_IOASC_IOASC_MASK&t;&t;&t;0xFFFFFF00
DECL|macro|IPR_IOASC_SCSI_STATUS_MASK
mdefine_line|#define&t;IPR_IOASC_SCSI_STATUS_MASK&t;&t;0x000000FF
DECL|macro|IPR_IOASC_IR_RESOURCE_HANDLE
mdefine_line|#define IPR_IOASC_IR_RESOURCE_HANDLE&t;&t;0x05250000
DECL|macro|IPR_IOASC_BUS_WAS_RESET
mdefine_line|#define IPR_IOASC_BUS_WAS_RESET&t;&t;&t;0x06290000
DECL|macro|IPR_IOASC_BUS_WAS_RESET_BY_OTHER
mdefine_line|#define IPR_IOASC_BUS_WAS_RESET_BY_OTHER&t;&t;0x06298000
DECL|macro|IPR_IOASC_ABORTED_CMD_TERM_BY_HOST
mdefine_line|#define IPR_IOASC_ABORTED_CMD_TERM_BY_HOST&t;0x0B5A0000
DECL|macro|IPR_FIRST_DRIVER_IOASC
mdefine_line|#define IPR_FIRST_DRIVER_IOASC&t;&t;&t;0x10000000
DECL|macro|IPR_IOASC_IOA_WAS_RESET
mdefine_line|#define IPR_IOASC_IOA_WAS_RESET&t;&t;&t;0x10000001
DECL|macro|IPR_IOASC_PCI_ACCESS_ERROR
mdefine_line|#define IPR_IOASC_PCI_ACCESS_ERROR&t;&t;&t;0x10000002
DECL|macro|IPR_NUM_LOG_HCAMS
mdefine_line|#define IPR_NUM_LOG_HCAMS&t;&t;&t;&t;2
DECL|macro|IPR_NUM_CFG_CHG_HCAMS
mdefine_line|#define IPR_NUM_CFG_CHG_HCAMS&t;&t;&t;&t;2
DECL|macro|IPR_NUM_HCAMS
mdefine_line|#define IPR_NUM_HCAMS&t;(IPR_NUM_LOG_HCAMS + IPR_NUM_CFG_CHG_HCAMS)
DECL|macro|IPR_MAX_NUM_TARGETS_PER_BUS
mdefine_line|#define IPR_MAX_NUM_TARGETS_PER_BUS&t;&t;&t;0x10
DECL|macro|IPR_MAX_NUM_LUNS_PER_TARGET
mdefine_line|#define IPR_MAX_NUM_LUNS_PER_TARGET&t;&t;&t;256
DECL|macro|IPR_MAX_NUM_VSET_LUNS_PER_TARGET
mdefine_line|#define IPR_MAX_NUM_VSET_LUNS_PER_TARGET&t;8
DECL|macro|IPR_VSET_BUS
mdefine_line|#define IPR_VSET_BUS&t;&t;&t;&t;&t;0xff
DECL|macro|IPR_IOA_BUS
mdefine_line|#define IPR_IOA_BUS&t;&t;&t;&t;&t;&t;0xff
DECL|macro|IPR_IOA_TARGET
mdefine_line|#define IPR_IOA_TARGET&t;&t;&t;&t;&t;0xff
DECL|macro|IPR_IOA_LUN
mdefine_line|#define IPR_IOA_LUN&t;&t;&t;&t;&t;&t;0xff
DECL|macro|IPR_MAX_NUM_BUSES
mdefine_line|#define IPR_MAX_NUM_BUSES&t;&t;&t;&t;4
DECL|macro|IPR_MAX_BUS_TO_SCAN
mdefine_line|#define IPR_MAX_BUS_TO_SCAN&t;&t;&t;&t;IPR_MAX_NUM_BUSES
DECL|macro|IPR_NUM_RESET_RELOAD_RETRIES
mdefine_line|#define IPR_NUM_RESET_RELOAD_RETRIES&t;&t;3
multiline_comment|/* We need resources for HCAMS, IOA reset, IOA bringdown, and ERP */
DECL|macro|IPR_NUM_INTERNAL_CMD_BLKS
mdefine_line|#define IPR_NUM_INTERNAL_CMD_BLKS&t;(IPR_NUM_HCAMS + &bslash;&n;                                     ((IPR_NUM_RESET_RELOAD_RETRIES + 1) * 2) + 3)
DECL|macro|IPR_MAX_COMMANDS
mdefine_line|#define IPR_MAX_COMMANDS&t;&t;IPR_NUM_BASE_CMD_BLKS
DECL|macro|IPR_NUM_CMD_BLKS
mdefine_line|#define IPR_NUM_CMD_BLKS&t;&t;(IPR_NUM_BASE_CMD_BLKS + &bslash;&n;&t;&t;&t;&t;&t;&t;IPR_NUM_INTERNAL_CMD_BLKS)
DECL|macro|IPR_MAX_PHYSICAL_DEVS
mdefine_line|#define IPR_MAX_PHYSICAL_DEVS&t;&t;&t;&t;192
DECL|macro|IPR_MAX_SGLIST
mdefine_line|#define IPR_MAX_SGLIST&t;&t;&t;&t;&t;64
DECL|macro|IPR_MAX_SECTORS
mdefine_line|#define IPR_MAX_SECTORS&t;&t;&t;&t;&t;512
DECL|macro|IPR_MAX_CDB_LEN
mdefine_line|#define IPR_MAX_CDB_LEN&t;&t;&t;&t;&t;16
DECL|macro|IPR_DEFAULT_BUS_WIDTH
mdefine_line|#define IPR_DEFAULT_BUS_WIDTH&t;&t;&t;&t;16
DECL|macro|IPR_80MBs_SCSI_RATE
mdefine_line|#define IPR_80MBs_SCSI_RATE&t;&t;((80 * 10) / (IPR_DEFAULT_BUS_WIDTH / 8))
DECL|macro|IPR_U160_SCSI_RATE
mdefine_line|#define IPR_U160_SCSI_RATE&t;((160 * 10) / (IPR_DEFAULT_BUS_WIDTH / 8))
DECL|macro|IPR_U320_SCSI_RATE
mdefine_line|#define IPR_U320_SCSI_RATE&t;((320 * 10) / (IPR_DEFAULT_BUS_WIDTH / 8))
DECL|macro|IPR_MAX_SCSI_RATE
mdefine_line|#define IPR_MAX_SCSI_RATE(width) ((320 * 10) / ((width) / 8))
DECL|macro|IPR_IOA_RES_HANDLE
mdefine_line|#define IPR_IOA_RES_HANDLE&t;&t;&t;&t;0xffffffff
DECL|macro|IPR_IOA_RES_ADDR
mdefine_line|#define IPR_IOA_RES_ADDR&t;&t;&t;&t;0x00ffffff
multiline_comment|/*&n; * Adapter Commands&n; */
DECL|macro|IPR_RESET_DEVICE
mdefine_line|#define IPR_RESET_DEVICE&t;&t;&t;&t;0xC3
DECL|macro|IPR_RESET_TYPE_SELECT
mdefine_line|#define&t;IPR_RESET_TYPE_SELECT&t;&t;&t;&t;0x80
DECL|macro|IPR_LUN_RESET
mdefine_line|#define&t;IPR_LUN_RESET&t;&t;&t;&t;&t;0x40
DECL|macro|IPR_TARGET_RESET
mdefine_line|#define&t;IPR_TARGET_RESET&t;&t;&t;&t;&t;0x20
DECL|macro|IPR_BUS_RESET
mdefine_line|#define&t;IPR_BUS_RESET&t;&t;&t;&t;&t;0x10
DECL|macro|IPR_ID_HOST_RR_Q
mdefine_line|#define IPR_ID_HOST_RR_Q&t;&t;&t;&t;0xC4
DECL|macro|IPR_QUERY_IOA_CONFIG
mdefine_line|#define IPR_QUERY_IOA_CONFIG&t;&t;&t;&t;0xC5
DECL|macro|IPR_ABORT_TASK
mdefine_line|#define IPR_ABORT_TASK&t;&t;&t;&t;&t;0xC7
DECL|macro|IPR_CANCEL_ALL_REQUESTS
mdefine_line|#define IPR_CANCEL_ALL_REQUESTS&t;&t;&t;0xCE
DECL|macro|IPR_HOST_CONTROLLED_ASYNC
mdefine_line|#define IPR_HOST_CONTROLLED_ASYNC&t;&t;&t;0xCF
DECL|macro|IPR_HCAM_CDB_OP_CODE_CONFIG_CHANGE
mdefine_line|#define&t;IPR_HCAM_CDB_OP_CODE_CONFIG_CHANGE&t;0x01
DECL|macro|IPR_HCAM_CDB_OP_CODE_LOG_DATA
mdefine_line|#define&t;IPR_HCAM_CDB_OP_CODE_LOG_DATA&t;&t;0x02
DECL|macro|IPR_SET_SUPPORTED_DEVICES
mdefine_line|#define IPR_SET_SUPPORTED_DEVICES&t;&t;&t;0xFB
DECL|macro|IPR_IOA_SHUTDOWN
mdefine_line|#define IPR_IOA_SHUTDOWN&t;&t;&t;&t;0xF7
DECL|macro|IPR_WR_BUF_DOWNLOAD_AND_SAVE
mdefine_line|#define&t;IPR_WR_BUF_DOWNLOAD_AND_SAVE&t;&t;&t;0x05
multiline_comment|/*&n; * Timeouts&n; */
DECL|macro|IPR_SHUTDOWN_TIMEOUT
mdefine_line|#define IPR_SHUTDOWN_TIMEOUT&t;&t;&t;(10 * 60 * HZ)
DECL|macro|IPR_VSET_RW_TIMEOUT
mdefine_line|#define IPR_VSET_RW_TIMEOUT&t;&t;&t;(2 * 60 * HZ)
DECL|macro|IPR_ABBREV_SHUTDOWN_TIMEOUT
mdefine_line|#define IPR_ABBREV_SHUTDOWN_TIMEOUT&t;&t;(10 * HZ)
DECL|macro|IPR_DEVICE_RESET_TIMEOUT
mdefine_line|#define IPR_DEVICE_RESET_TIMEOUT&t;&t;(30 * HZ)
DECL|macro|IPR_CANCEL_ALL_TIMEOUT
mdefine_line|#define IPR_CANCEL_ALL_TIMEOUT&t;&t;(30 * HZ)
DECL|macro|IPR_ABORT_TASK_TIMEOUT
mdefine_line|#define IPR_ABORT_TASK_TIMEOUT&t;&t;(30 * HZ)
DECL|macro|IPR_INTERNAL_TIMEOUT
mdefine_line|#define IPR_INTERNAL_TIMEOUT&t;&t;&t;(30 * HZ)
DECL|macro|IPR_WRITE_BUFFER_TIMEOUT
mdefine_line|#define IPR_WRITE_BUFFER_TIMEOUT&t;&t;(10 * 60 * HZ)
DECL|macro|IPR_SET_SUP_DEVICE_TIMEOUT
mdefine_line|#define IPR_SET_SUP_DEVICE_TIMEOUT&t;&t;(2 * 60 * HZ)
DECL|macro|IPR_REQUEST_SENSE_TIMEOUT
mdefine_line|#define IPR_REQUEST_SENSE_TIMEOUT&t;&t;(10 * HZ)
DECL|macro|IPR_OPERATIONAL_TIMEOUT
mdefine_line|#define IPR_OPERATIONAL_TIMEOUT&t;&t;(5 * 60 * HZ)
DECL|macro|IPR_WAIT_FOR_RESET_TIMEOUT
mdefine_line|#define IPR_WAIT_FOR_RESET_TIMEOUT&t;&t;(2 * HZ)
DECL|macro|IPR_CHECK_FOR_RESET_TIMEOUT
mdefine_line|#define IPR_CHECK_FOR_RESET_TIMEOUT&t;&t;(HZ / 10)
DECL|macro|IPR_WAIT_FOR_BIST_TIMEOUT
mdefine_line|#define IPR_WAIT_FOR_BIST_TIMEOUT&t;&t;(2 * HZ)
DECL|macro|IPR_DUMP_TIMEOUT
mdefine_line|#define IPR_DUMP_TIMEOUT&t;&t;&t;(15 * HZ)
multiline_comment|/*&n; * SCSI Literals&n; */
DECL|macro|IPR_VENDOR_ID_LEN
mdefine_line|#define IPR_VENDOR_ID_LEN&t;&t;&t;8
DECL|macro|IPR_PROD_ID_LEN
mdefine_line|#define IPR_PROD_ID_LEN&t;&t;&t;&t;16
DECL|macro|IPR_SERIAL_NUM_LEN
mdefine_line|#define IPR_SERIAL_NUM_LEN&t;&t;&t;8
multiline_comment|/*&n; * Hardware literals&n; */
DECL|macro|IPR_FMT2_MBX_ADDR_MASK
mdefine_line|#define IPR_FMT2_MBX_ADDR_MASK&t;&t;&t;&t;0x0fffffff
DECL|macro|IPR_FMT2_MBX_BAR_SEL_MASK
mdefine_line|#define IPR_FMT2_MBX_BAR_SEL_MASK&t;&t;&t;0xf0000000
DECL|macro|IPR_FMT2_MKR_BAR_SEL_SHIFT
mdefine_line|#define IPR_FMT2_MKR_BAR_SEL_SHIFT&t;&t;&t;28
DECL|macro|IPR_GET_FMT2_BAR_SEL
mdefine_line|#define IPR_GET_FMT2_BAR_SEL(mbx) &bslash;&n;(((mbx) &amp; IPR_FMT2_MBX_BAR_SEL_MASK) &gt;&gt; IPR_FMT2_MKR_BAR_SEL_SHIFT)
DECL|macro|IPR_SDT_FMT2_BAR0_SEL
mdefine_line|#define IPR_SDT_FMT2_BAR0_SEL&t;&t;&t;&t;0x0
DECL|macro|IPR_SDT_FMT2_BAR1_SEL
mdefine_line|#define IPR_SDT_FMT2_BAR1_SEL&t;&t;&t;&t;0x1
DECL|macro|IPR_SDT_FMT2_BAR2_SEL
mdefine_line|#define IPR_SDT_FMT2_BAR2_SEL&t;&t;&t;&t;0x2
DECL|macro|IPR_SDT_FMT2_BAR3_SEL
mdefine_line|#define IPR_SDT_FMT2_BAR3_SEL&t;&t;&t;&t;0x3
DECL|macro|IPR_SDT_FMT2_BAR4_SEL
mdefine_line|#define IPR_SDT_FMT2_BAR4_SEL&t;&t;&t;&t;0x4
DECL|macro|IPR_SDT_FMT2_BAR5_SEL
mdefine_line|#define IPR_SDT_FMT2_BAR5_SEL&t;&t;&t;&t;0x5
DECL|macro|IPR_SDT_FMT2_EXP_ROM_SEL
mdefine_line|#define IPR_SDT_FMT2_EXP_ROM_SEL&t;&t;&t;0x8
DECL|macro|IPR_FMT2_SDT_READY_TO_USE
mdefine_line|#define IPR_FMT2_SDT_READY_TO_USE&t;&t;&t;0xC4D4E3F2
DECL|macro|IPR_DOORBELL
mdefine_line|#define IPR_DOORBELL&t;&t;&t;&t;&t;0x82800000
DECL|macro|IPR_PCII_IOA_TRANS_TO_OPER
mdefine_line|#define IPR_PCII_IOA_TRANS_TO_OPER&t;&t;&t;(0x80000000 &gt;&gt; 0)
DECL|macro|IPR_PCII_IOARCB_XFER_FAILED
mdefine_line|#define IPR_PCII_IOARCB_XFER_FAILED&t;&t;&t;(0x80000000 &gt;&gt; 3)
DECL|macro|IPR_PCII_IOA_UNIT_CHECKED
mdefine_line|#define IPR_PCII_IOA_UNIT_CHECKED&t;&t;&t;(0x80000000 &gt;&gt; 4)
DECL|macro|IPR_PCII_NO_HOST_RRQ
mdefine_line|#define IPR_PCII_NO_HOST_RRQ&t;&t;&t;&t;(0x80000000 &gt;&gt; 5)
DECL|macro|IPR_PCII_CRITICAL_OPERATION
mdefine_line|#define IPR_PCII_CRITICAL_OPERATION&t;&t;&t;(0x80000000 &gt;&gt; 6)
DECL|macro|IPR_PCII_IO_DEBUG_ACKNOWLEDGE
mdefine_line|#define IPR_PCII_IO_DEBUG_ACKNOWLEDGE&t;&t;(0x80000000 &gt;&gt; 7)
DECL|macro|IPR_PCII_IOARRIN_LOST
mdefine_line|#define IPR_PCII_IOARRIN_LOST&t;&t;&t;&t;(0x80000000 &gt;&gt; 27)
DECL|macro|IPR_PCII_MMIO_ERROR
mdefine_line|#define IPR_PCII_MMIO_ERROR&t;&t;&t;&t;(0x80000000 &gt;&gt; 28)
DECL|macro|IPR_PCII_PROC_ERR_STATE
mdefine_line|#define IPR_PCII_PROC_ERR_STATE&t;&t;&t;(0x80000000 &gt;&gt; 29)
DECL|macro|IPR_PCII_HRRQ_UPDATED
mdefine_line|#define IPR_PCII_HRRQ_UPDATED&t;&t;&t;&t;(0x80000000 &gt;&gt; 30)
DECL|macro|IPR_PCII_CORE_ISSUED_RST_REQ
mdefine_line|#define IPR_PCII_CORE_ISSUED_RST_REQ&t;&t;(0x80000000 &gt;&gt; 31)
DECL|macro|IPR_PCII_ERROR_INTERRUPTS
mdefine_line|#define IPR_PCII_ERROR_INTERRUPTS &bslash;&n;(IPR_PCII_IOARCB_XFER_FAILED | IPR_PCII_IOA_UNIT_CHECKED | &bslash;&n;IPR_PCII_NO_HOST_RRQ | IPR_PCII_IOARRIN_LOST | IPR_PCII_MMIO_ERROR)
DECL|macro|IPR_PCII_OPER_INTERRUPTS
mdefine_line|#define IPR_PCII_OPER_INTERRUPTS &bslash;&n;(IPR_PCII_ERROR_INTERRUPTS | IPR_PCII_HRRQ_UPDATED | IPR_PCII_IOA_TRANS_TO_OPER)
DECL|macro|IPR_UPROCI_RESET_ALERT
mdefine_line|#define IPR_UPROCI_RESET_ALERT&t;&t;&t;(0x80000000 &gt;&gt; 7)
DECL|macro|IPR_UPROCI_IO_DEBUG_ALERT
mdefine_line|#define IPR_UPROCI_IO_DEBUG_ALERT&t;&t;&t;(0x80000000 &gt;&gt; 9)
DECL|macro|IPR_LDUMP_MAX_LONG_ACK_DELAY_IN_USEC
mdefine_line|#define IPR_LDUMP_MAX_LONG_ACK_DELAY_IN_USEC&t;&t;200000&t;/* 200 ms */
DECL|macro|IPR_LDUMP_MAX_SHORT_ACK_DELAY_IN_USEC
mdefine_line|#define IPR_LDUMP_MAX_SHORT_ACK_DELAY_IN_USEC&t;&t;200000&t;/* 200 ms */
multiline_comment|/*&n; * Dump literals&n; */
DECL|macro|IPR_MAX_IOA_DUMP_SIZE
mdefine_line|#define IPR_MAX_IOA_DUMP_SIZE&t;&t;&t;&t;(4 * 1024 * 1024)
DECL|macro|IPR_NUM_SDT_ENTRIES
mdefine_line|#define IPR_NUM_SDT_ENTRIES&t;&t;&t;&t;511
DECL|macro|IPR_MAX_NUM_DUMP_PAGES
mdefine_line|#define IPR_MAX_NUM_DUMP_PAGES&t;((IPR_MAX_IOA_DUMP_SIZE / PAGE_SIZE) + 1)
multiline_comment|/*&n; * Misc literals&n; */
DECL|macro|IPR_NUM_IOADL_ENTRIES
mdefine_line|#define IPR_NUM_IOADL_ENTRIES&t;&t;&t;IPR_MAX_SGLIST
multiline_comment|/*&n; * Adapter interface types&n; */
DECL|struct|ipr_res_addr
r_struct
id|ipr_res_addr
(brace
DECL|member|reserved
id|u8
id|reserved
suffix:semicolon
DECL|member|bus
id|u8
id|bus
suffix:semicolon
DECL|member|target
id|u8
id|target
suffix:semicolon
DECL|member|lun
id|u8
id|lun
suffix:semicolon
DECL|macro|IPR_GET_PHYS_LOC
mdefine_line|#define IPR_GET_PHYS_LOC(res_addr) &bslash;&n;&t;(((res_addr).bus &lt;&lt; 16) | ((res_addr).target &lt;&lt; 8) | (res_addr).lun)
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
comma
id|aligned
(paren
l_int|4
)paren
)paren
)paren
suffix:semicolon
DECL|struct|ipr_std_inq_vpids
r_struct
id|ipr_std_inq_vpids
(brace
DECL|member|vendor_id
id|u8
id|vendor_id
(braket
id|IPR_VENDOR_ID_LEN
)braket
suffix:semicolon
DECL|member|product_id
id|u8
id|product_id
(braket
id|IPR_PROD_ID_LEN
)braket
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
)paren
)paren
suffix:semicolon
DECL|struct|ipr_std_inq_data
r_struct
id|ipr_std_inq_data
(brace
DECL|member|peri_qual_dev_type
id|u8
id|peri_qual_dev_type
suffix:semicolon
DECL|macro|IPR_STD_INQ_PERI_QUAL
mdefine_line|#define IPR_STD_INQ_PERI_QUAL(peri) ((peri) &gt;&gt; 5)
DECL|macro|IPR_STD_INQ_PERI_DEV_TYPE
mdefine_line|#define IPR_STD_INQ_PERI_DEV_TYPE(peri) ((peri) &amp; 0x1F)
DECL|member|removeable_medium_rsvd
id|u8
id|removeable_medium_rsvd
suffix:semicolon
DECL|macro|IPR_STD_INQ_REMOVEABLE_MEDIUM
mdefine_line|#define IPR_STD_INQ_REMOVEABLE_MEDIUM 0x80
DECL|macro|IPR_IS_DASD_DEVICE
mdefine_line|#define IPR_IS_DASD_DEVICE(std_inq) &bslash;&n;((IPR_STD_INQ_PERI_DEV_TYPE((std_inq).peri_qual_dev_type) == TYPE_DISK) &amp;&amp; &bslash;&n;!(((std_inq).removeable_medium_rsvd) &amp; IPR_STD_INQ_REMOVEABLE_MEDIUM))
DECL|macro|IPR_IS_SES_DEVICE
mdefine_line|#define IPR_IS_SES_DEVICE(std_inq) &bslash;&n;(IPR_STD_INQ_PERI_DEV_TYPE((std_inq).peri_qual_dev_type) == TYPE_ENCLOSURE)
DECL|member|version
id|u8
id|version
suffix:semicolon
DECL|member|aen_naca_fmt
id|u8
id|aen_naca_fmt
suffix:semicolon
DECL|member|additional_len
id|u8
id|additional_len
suffix:semicolon
DECL|member|sccs_rsvd
id|u8
id|sccs_rsvd
suffix:semicolon
DECL|member|bq_enc_multi
id|u8
id|bq_enc_multi
suffix:semicolon
DECL|member|sync_cmdq_flags
id|u8
id|sync_cmdq_flags
suffix:semicolon
DECL|member|vpids
r_struct
id|ipr_std_inq_vpids
id|vpids
suffix:semicolon
DECL|member|ros_rsvd_ram_rsvd
id|u8
id|ros_rsvd_ram_rsvd
(braket
l_int|4
)braket
suffix:semicolon
DECL|member|serial_num
id|u8
id|serial_num
(braket
id|IPR_SERIAL_NUM_LEN
)braket
suffix:semicolon
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
suffix:semicolon
DECL|struct|ipr_config_table_entry
r_struct
id|ipr_config_table_entry
(brace
DECL|member|service_level
id|u8
id|service_level
suffix:semicolon
DECL|member|array_id
id|u8
id|array_id
suffix:semicolon
DECL|member|flags
id|u8
id|flags
suffix:semicolon
DECL|macro|IPR_IS_IOA_RESOURCE
mdefine_line|#define IPR_IS_IOA_RESOURCE&t;0x80
DECL|macro|IPR_IS_ARRAY_MEMBER
mdefine_line|#define IPR_IS_ARRAY_MEMBER 0x20
DECL|macro|IPR_IS_HOT_SPARE
mdefine_line|#define IPR_IS_HOT_SPARE&t;0x10
DECL|member|rsvd_subtype
id|u8
id|rsvd_subtype
suffix:semicolon
DECL|macro|IPR_RES_SUBTYPE
mdefine_line|#define IPR_RES_SUBTYPE(res) (((res)-&gt;cfgte.rsvd_subtype) &amp; 0x0f)
DECL|macro|IPR_SUBTYPE_AF_DASD
mdefine_line|#define IPR_SUBTYPE_AF_DASD&t;&t;&t;0
DECL|macro|IPR_SUBTYPE_GENERIC_SCSI
mdefine_line|#define IPR_SUBTYPE_GENERIC_SCSI&t;1
DECL|macro|IPR_SUBTYPE_VOLUME_SET
mdefine_line|#define IPR_SUBTYPE_VOLUME_SET&t;&t;2
DECL|member|res_addr
r_struct
id|ipr_res_addr
id|res_addr
suffix:semicolon
DECL|member|res_handle
id|u32
id|res_handle
suffix:semicolon
DECL|member|reserved4
id|u32
id|reserved4
(braket
l_int|2
)braket
suffix:semicolon
DECL|member|std_inq_data
r_struct
id|ipr_std_inq_data
id|std_inq_data
suffix:semicolon
)brace
id|__attribute__
(paren
(paren
id|packed
comma
id|aligned
(paren
l_int|4
)paren
)paren
)paren
suffix:semicolon
DECL|struct|ipr_config_table_hdr
r_struct
id|ipr_config_table_hdr
(brace
DECL|member|num_entries
id|u8
id|num_entries
suffix:semicolon
DECL|member|flags
id|u8
id|flags
suffix:semicolon
DECL|macro|IPR_UCODE_DOWNLOAD_REQ
mdefine_line|#define IPR_UCODE_DOWNLOAD_REQ&t;0x10
DECL|member|reserved
id|u16
id|reserved
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
comma
id|aligned
(paren
l_int|4
)paren
)paren
)paren
suffix:semicolon
DECL|struct|ipr_config_table
r_struct
id|ipr_config_table
(brace
DECL|member|hdr
r_struct
id|ipr_config_table_hdr
id|hdr
suffix:semicolon
DECL|member|dev
r_struct
id|ipr_config_table_entry
id|dev
(braket
id|IPR_MAX_PHYSICAL_DEVS
)braket
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
comma
id|aligned
(paren
l_int|4
)paren
)paren
)paren
suffix:semicolon
DECL|struct|ipr_hostrcb_cfg_ch_not
r_struct
id|ipr_hostrcb_cfg_ch_not
(brace
DECL|member|cfgte
r_struct
id|ipr_config_table_entry
id|cfgte
suffix:semicolon
DECL|member|reserved
id|u8
id|reserved
(braket
l_int|936
)braket
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
comma
id|aligned
(paren
l_int|4
)paren
)paren
)paren
suffix:semicolon
DECL|struct|ipr_supported_device
r_struct
id|ipr_supported_device
(brace
DECL|member|data_length
id|u16
id|data_length
suffix:semicolon
DECL|member|reserved
id|u8
id|reserved
suffix:semicolon
DECL|member|num_records
id|u8
id|num_records
suffix:semicolon
DECL|member|vpids
r_struct
id|ipr_std_inq_vpids
id|vpids
suffix:semicolon
DECL|member|reserved2
id|u8
id|reserved2
(braket
l_int|16
)braket
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
comma
id|aligned
(paren
l_int|4
)paren
)paren
)paren
suffix:semicolon
multiline_comment|/* Command packet structure */
DECL|struct|ipr_cmd_pkt
r_struct
id|ipr_cmd_pkt
(brace
DECL|member|reserved
id|u16
id|reserved
suffix:semicolon
multiline_comment|/* Reserved by IOA */
DECL|member|request_type
id|u8
id|request_type
suffix:semicolon
DECL|macro|IPR_RQTYPE_SCSICDB
mdefine_line|#define IPR_RQTYPE_SCSICDB&t;&t;0x00
DECL|macro|IPR_RQTYPE_IOACMD
mdefine_line|#define IPR_RQTYPE_IOACMD&t;&t;0x01
DECL|macro|IPR_RQTYPE_HCAM
mdefine_line|#define IPR_RQTYPE_HCAM&t;&t;&t;0x02
DECL|member|luntar_luntrn
id|u8
id|luntar_luntrn
suffix:semicolon
DECL|member|flags_hi
id|u8
id|flags_hi
suffix:semicolon
DECL|macro|IPR_FLAGS_HI_WRITE_NOT_READ
mdefine_line|#define IPR_FLAGS_HI_WRITE_NOT_READ&t;&t;0x80
DECL|macro|IPR_FLAGS_HI_NO_ULEN_CHK
mdefine_line|#define IPR_FLAGS_HI_NO_ULEN_CHK&t;&t;0x20
DECL|macro|IPR_FLAGS_HI_SYNC_OVERRIDE
mdefine_line|#define IPR_FLAGS_HI_SYNC_OVERRIDE&t;&t;0x10
DECL|macro|IPR_FLAGS_HI_SYNC_COMPLETE
mdefine_line|#define IPR_FLAGS_HI_SYNC_COMPLETE&t;&t;0x08
DECL|macro|IPR_FLAGS_HI_NO_LINK_DESC
mdefine_line|#define IPR_FLAGS_HI_NO_LINK_DESC&t;&t;0x04
DECL|member|flags_lo
id|u8
id|flags_lo
suffix:semicolon
DECL|macro|IPR_FLAGS_LO_ALIGNED_BFR
mdefine_line|#define IPR_FLAGS_LO_ALIGNED_BFR&t;&t;0x20
DECL|macro|IPR_FLAGS_LO_DELAY_AFTER_RST
mdefine_line|#define IPR_FLAGS_LO_DELAY_AFTER_RST&t;0x10
DECL|macro|IPR_FLAGS_LO_UNTAGGED_TASK
mdefine_line|#define IPR_FLAGS_LO_UNTAGGED_TASK&t;&t;0x00
DECL|macro|IPR_FLAGS_LO_SIMPLE_TASK
mdefine_line|#define IPR_FLAGS_LO_SIMPLE_TASK&t;&t;0x02
DECL|macro|IPR_FLAGS_LO_ORDERED_TASK
mdefine_line|#define IPR_FLAGS_LO_ORDERED_TASK&t;&t;0x04
DECL|macro|IPR_FLAGS_LO_HEAD_OF_Q_TASK
mdefine_line|#define IPR_FLAGS_LO_HEAD_OF_Q_TASK&t;&t;0x06
DECL|macro|IPR_FLAGS_LO_ACA_TASK
mdefine_line|#define IPR_FLAGS_LO_ACA_TASK&t;&t;&t;0x08
DECL|member|cdb
id|u8
id|cdb
(braket
l_int|16
)braket
suffix:semicolon
DECL|member|timeout
id|u16
id|timeout
suffix:semicolon
)brace
id|__attribute__
(paren
(paren
id|packed
comma
id|aligned
c_func
(paren
l_int|4
)paren
)paren
)paren
suffix:semicolon
multiline_comment|/* IOA Request Control Block    128 bytes  */
DECL|struct|ipr_ioarcb
r_struct
id|ipr_ioarcb
(brace
DECL|member|ioarcb_host_pci_addr
id|u32
id|ioarcb_host_pci_addr
suffix:semicolon
DECL|member|reserved
id|u32
id|reserved
suffix:semicolon
DECL|member|res_handle
id|u32
id|res_handle
suffix:semicolon
DECL|member|host_response_handle
id|u32
id|host_response_handle
suffix:semicolon
DECL|member|reserved1
id|u32
id|reserved1
suffix:semicolon
DECL|member|reserved2
id|u32
id|reserved2
suffix:semicolon
DECL|member|reserved3
id|u32
id|reserved3
suffix:semicolon
DECL|member|write_data_transfer_length
id|u32
id|write_data_transfer_length
suffix:semicolon
DECL|member|read_data_transfer_length
id|u32
id|read_data_transfer_length
suffix:semicolon
DECL|member|write_ioadl_addr
id|u32
id|write_ioadl_addr
suffix:semicolon
DECL|member|write_ioadl_len
id|u32
id|write_ioadl_len
suffix:semicolon
DECL|member|read_ioadl_addr
id|u32
id|read_ioadl_addr
suffix:semicolon
DECL|member|read_ioadl_len
id|u32
id|read_ioadl_len
suffix:semicolon
DECL|member|ioasa_host_pci_addr
id|u32
id|ioasa_host_pci_addr
suffix:semicolon
DECL|member|ioasa_len
id|u16
id|ioasa_len
suffix:semicolon
DECL|member|reserved4
id|u16
id|reserved4
suffix:semicolon
DECL|member|cmd_pkt
r_struct
id|ipr_cmd_pkt
id|cmd_pkt
suffix:semicolon
DECL|member|add_cmd_parms_len
id|u32
id|add_cmd_parms_len
suffix:semicolon
DECL|member|add_cmd_parms
id|u32
id|add_cmd_parms
(braket
l_int|10
)braket
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
comma
id|aligned
(paren
l_int|4
)paren
)paren
)paren
suffix:semicolon
DECL|struct|ipr_ioadl_desc
r_struct
id|ipr_ioadl_desc
(brace
DECL|member|flags_and_data_len
id|u32
id|flags_and_data_len
suffix:semicolon
DECL|macro|IPR_IOADL_FLAGS_MASK
mdefine_line|#define IPR_IOADL_FLAGS_MASK&t;&t;0xff000000
DECL|macro|IPR_IOADL_GET_FLAGS
mdefine_line|#define IPR_IOADL_GET_FLAGS(x) (be32_to_cpu(x) &amp; IPR_IOADL_FLAGS_MASK)
DECL|macro|IPR_IOADL_DATA_LEN_MASK
mdefine_line|#define IPR_IOADL_DATA_LEN_MASK&t;&t;0x00ffffff
DECL|macro|IPR_IOADL_GET_DATA_LEN
mdefine_line|#define IPR_IOADL_GET_DATA_LEN(x) (be32_to_cpu(x) &amp; IPR_IOADL_DATA_LEN_MASK)
DECL|macro|IPR_IOADL_FLAGS_READ
mdefine_line|#define IPR_IOADL_FLAGS_READ&t;&t;0x48000000
DECL|macro|IPR_IOADL_FLAGS_READ_LAST
mdefine_line|#define IPR_IOADL_FLAGS_READ_LAST&t;0x49000000
DECL|macro|IPR_IOADL_FLAGS_WRITE
mdefine_line|#define IPR_IOADL_FLAGS_WRITE&t;&t;0x68000000
DECL|macro|IPR_IOADL_FLAGS_WRITE_LAST
mdefine_line|#define IPR_IOADL_FLAGS_WRITE_LAST&t;0x69000000
DECL|macro|IPR_IOADL_FLAGS_LAST
mdefine_line|#define IPR_IOADL_FLAGS_LAST&t;&t;0x01000000
DECL|member|address
id|u32
id|address
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
comma
id|aligned
(paren
l_int|8
)paren
)paren
)paren
suffix:semicolon
DECL|struct|ipr_ioasa_vset
r_struct
id|ipr_ioasa_vset
(brace
DECL|member|failing_lba_hi
id|u32
id|failing_lba_hi
suffix:semicolon
DECL|member|failing_lba_lo
id|u32
id|failing_lba_lo
suffix:semicolon
DECL|member|ioa_data
id|u32
id|ioa_data
(braket
l_int|22
)braket
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
comma
id|aligned
(paren
l_int|4
)paren
)paren
)paren
suffix:semicolon
DECL|struct|ipr_ioasa_af_dasd
r_struct
id|ipr_ioasa_af_dasd
(brace
DECL|member|failing_lba
id|u32
id|failing_lba
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
comma
id|aligned
(paren
l_int|4
)paren
)paren
)paren
suffix:semicolon
DECL|struct|ipr_ioasa_gpdd
r_struct
id|ipr_ioasa_gpdd
(brace
DECL|member|end_state
id|u8
id|end_state
suffix:semicolon
DECL|member|bus_phase
id|u8
id|bus_phase
suffix:semicolon
DECL|member|reserved
id|u16
id|reserved
suffix:semicolon
DECL|member|ioa_data
id|u32
id|ioa_data
(braket
l_int|23
)braket
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
comma
id|aligned
(paren
l_int|4
)paren
)paren
)paren
suffix:semicolon
DECL|struct|ipr_ioasa_raw
r_struct
id|ipr_ioasa_raw
(brace
DECL|member|ioa_data
id|u32
id|ioa_data
(braket
l_int|24
)braket
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
comma
id|aligned
(paren
l_int|4
)paren
)paren
)paren
suffix:semicolon
DECL|struct|ipr_ioasa
r_struct
id|ipr_ioasa
(brace
DECL|member|ioasc
id|u32
id|ioasc
suffix:semicolon
DECL|macro|IPR_IOASC_SENSE_KEY
mdefine_line|#define IPR_IOASC_SENSE_KEY(ioasc) ((ioasc) &gt;&gt; 24)
DECL|macro|IPR_IOASC_SENSE_CODE
mdefine_line|#define IPR_IOASC_SENSE_CODE(ioasc) (((ioasc) &amp; 0x00ff0000) &gt;&gt; 16)
DECL|macro|IPR_IOASC_SENSE_QUAL
mdefine_line|#define IPR_IOASC_SENSE_QUAL(ioasc) (((ioasc) &amp; 0x0000ff00) &gt;&gt; 8)
DECL|macro|IPR_IOASC_SENSE_STATUS
mdefine_line|#define IPR_IOASC_SENSE_STATUS(ioasc) ((ioasc) &amp; 0x000000ff)
DECL|member|ret_stat_len
id|u16
id|ret_stat_len
suffix:semicolon
multiline_comment|/* Length of the returned IOASA */
DECL|member|avail_stat_len
id|u16
id|avail_stat_len
suffix:semicolon
multiline_comment|/* Total Length of status available. */
DECL|member|residual_data_len
id|u32
id|residual_data_len
suffix:semicolon
multiline_comment|/* number of bytes in the host data */
multiline_comment|/* buffers that were not used by the IOARCB command. */
DECL|member|ilid
id|u32
id|ilid
suffix:semicolon
DECL|macro|IPR_NO_ILID
mdefine_line|#define IPR_NO_ILID&t;&t;&t;0
DECL|macro|IPR_DRIVER_ILID
mdefine_line|#define IPR_DRIVER_ILID&t;&t;0xffffffff
DECL|member|fd_ioasc
id|u32
id|fd_ioasc
suffix:semicolon
DECL|member|fd_phys_locator
id|u32
id|fd_phys_locator
suffix:semicolon
DECL|member|fd_res_handle
id|u32
id|fd_res_handle
suffix:semicolon
DECL|member|ioasc_specific
id|u32
id|ioasc_specific
suffix:semicolon
multiline_comment|/* status code specific field */
DECL|macro|IPR_IOASC_SPECIFIC_MASK
mdefine_line|#define IPR_IOASC_SPECIFIC_MASK&t;&t;0x00ffffff
DECL|macro|IPR_FIELD_POINTER_VALID
mdefine_line|#define IPR_FIELD_POINTER_VALID&t;&t;(0x80000000 &gt;&gt; 8)
DECL|macro|IPR_FIELD_POINTER_MASK
mdefine_line|#define IPR_FIELD_POINTER_MASK&t;&t;0x0000ffff
r_union
(brace
DECL|member|vset
r_struct
id|ipr_ioasa_vset
id|vset
suffix:semicolon
DECL|member|dasd
r_struct
id|ipr_ioasa_af_dasd
id|dasd
suffix:semicolon
DECL|member|gpdd
r_struct
id|ipr_ioasa_gpdd
id|gpdd
suffix:semicolon
DECL|member|raw
r_struct
id|ipr_ioasa_raw
id|raw
suffix:semicolon
DECL|member|u
)brace
id|u
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
comma
id|aligned
(paren
l_int|4
)paren
)paren
)paren
suffix:semicolon
DECL|struct|ipr_mode_parm_hdr
r_struct
id|ipr_mode_parm_hdr
(brace
DECL|member|length
id|u8
id|length
suffix:semicolon
DECL|member|medium_type
id|u8
id|medium_type
suffix:semicolon
DECL|member|device_spec_parms
id|u8
id|device_spec_parms
suffix:semicolon
DECL|member|block_desc_len
id|u8
id|block_desc_len
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
)paren
)paren
suffix:semicolon
DECL|struct|ipr_mode_pages
r_struct
id|ipr_mode_pages
(brace
DECL|member|hdr
r_struct
id|ipr_mode_parm_hdr
id|hdr
suffix:semicolon
DECL|member|data
id|u8
id|data
(braket
l_int|255
op_minus
r_sizeof
(paren
r_struct
id|ipr_mode_parm_hdr
)paren
)braket
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
)paren
)paren
suffix:semicolon
DECL|struct|ipr_mode_page_hdr
r_struct
id|ipr_mode_page_hdr
(brace
DECL|member|ps_page_code
id|u8
id|ps_page_code
suffix:semicolon
DECL|macro|IPR_MODE_PAGE_PS
mdefine_line|#define IPR_MODE_PAGE_PS&t;0x80
DECL|macro|IPR_GET_MODE_PAGE_CODE
mdefine_line|#define IPR_GET_MODE_PAGE_CODE(hdr) ((hdr)-&gt;ps_page_code &amp; 0x3F)
DECL|member|page_length
id|u8
id|page_length
suffix:semicolon
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
suffix:semicolon
DECL|struct|ipr_dev_bus_entry
r_struct
id|ipr_dev_bus_entry
(brace
DECL|member|res_addr
r_struct
id|ipr_res_addr
id|res_addr
suffix:semicolon
DECL|member|flags
id|u8
id|flags
suffix:semicolon
DECL|macro|IPR_SCSI_ATTR_ENABLE_QAS
mdefine_line|#define IPR_SCSI_ATTR_ENABLE_QAS&t;&t;&t;0x80
DECL|macro|IPR_SCSI_ATTR_DISABLE_QAS
mdefine_line|#define IPR_SCSI_ATTR_DISABLE_QAS&t;&t;&t;0x40
DECL|macro|IPR_SCSI_ATTR_QAS_MASK
mdefine_line|#define IPR_SCSI_ATTR_QAS_MASK&t;&t;&t;&t;0xC0
DECL|macro|IPR_SCSI_ATTR_ENABLE_TM
mdefine_line|#define IPR_SCSI_ATTR_ENABLE_TM&t;&t;&t;&t;0x20
DECL|macro|IPR_SCSI_ATTR_NO_TERM_PWR
mdefine_line|#define IPR_SCSI_ATTR_NO_TERM_PWR&t;&t;&t;0x10
DECL|macro|IPR_SCSI_ATTR_TM_SUPPORTED
mdefine_line|#define IPR_SCSI_ATTR_TM_SUPPORTED&t;&t;&t;0x08
DECL|macro|IPR_SCSI_ATTR_LVD_TO_SE_NOT_ALLOWED
mdefine_line|#define IPR_SCSI_ATTR_LVD_TO_SE_NOT_ALLOWED&t;0x04
DECL|member|scsi_id
id|u8
id|scsi_id
suffix:semicolon
DECL|member|bus_width
id|u8
id|bus_width
suffix:semicolon
DECL|member|extended_reset_delay
id|u8
id|extended_reset_delay
suffix:semicolon
DECL|macro|IPR_EXTENDED_RESET_DELAY
mdefine_line|#define IPR_EXTENDED_RESET_DELAY&t;7
DECL|member|max_xfer_rate
id|u32
id|max_xfer_rate
suffix:semicolon
DECL|member|spinup_delay
id|u8
id|spinup_delay
suffix:semicolon
DECL|member|reserved3
id|u8
id|reserved3
suffix:semicolon
DECL|member|reserved4
id|u16
id|reserved4
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
comma
id|aligned
(paren
l_int|4
)paren
)paren
)paren
suffix:semicolon
DECL|struct|ipr_mode_page28
r_struct
id|ipr_mode_page28
(brace
DECL|member|hdr
r_struct
id|ipr_mode_page_hdr
id|hdr
suffix:semicolon
DECL|member|num_entries
id|u8
id|num_entries
suffix:semicolon
DECL|member|entry_length
id|u8
id|entry_length
suffix:semicolon
DECL|member|bus
r_struct
id|ipr_dev_bus_entry
id|bus
(braket
l_int|0
)braket
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
)paren
)paren
suffix:semicolon
DECL|struct|ipr_ioa_vpd
r_struct
id|ipr_ioa_vpd
(brace
DECL|member|std_inq_data
r_struct
id|ipr_std_inq_data
id|std_inq_data
suffix:semicolon
DECL|member|ascii_part_num
id|u8
id|ascii_part_num
(braket
l_int|12
)braket
suffix:semicolon
DECL|member|reserved
id|u8
id|reserved
(braket
l_int|40
)braket
suffix:semicolon
DECL|member|ascii_plant_code
id|u8
id|ascii_plant_code
(braket
l_int|4
)braket
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
)paren
)paren
suffix:semicolon
DECL|struct|ipr_inquiry_page3
r_struct
id|ipr_inquiry_page3
(brace
DECL|member|peri_qual_dev_type
id|u8
id|peri_qual_dev_type
suffix:semicolon
DECL|member|page_code
id|u8
id|page_code
suffix:semicolon
DECL|member|reserved1
id|u8
id|reserved1
suffix:semicolon
DECL|member|page_length
id|u8
id|page_length
suffix:semicolon
DECL|member|ascii_len
id|u8
id|ascii_len
suffix:semicolon
DECL|member|reserved2
id|u8
id|reserved2
(braket
l_int|3
)braket
suffix:semicolon
DECL|member|load_id
id|u8
id|load_id
(braket
l_int|4
)braket
suffix:semicolon
DECL|member|major_release
id|u8
id|major_release
suffix:semicolon
DECL|member|card_type
id|u8
id|card_type
suffix:semicolon
DECL|member|minor_release
id|u8
id|minor_release
(braket
l_int|2
)braket
suffix:semicolon
DECL|member|ptf_number
id|u8
id|ptf_number
(braket
l_int|4
)braket
suffix:semicolon
DECL|member|patch_number
id|u8
id|patch_number
(braket
l_int|4
)braket
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
)paren
)paren
suffix:semicolon
DECL|struct|ipr_hostrcb_device_data_entry
r_struct
id|ipr_hostrcb_device_data_entry
(brace
DECL|member|dev_vpids
r_struct
id|ipr_std_inq_vpids
id|dev_vpids
suffix:semicolon
DECL|member|dev_sn
id|u8
id|dev_sn
(braket
id|IPR_SERIAL_NUM_LEN
)braket
suffix:semicolon
DECL|member|dev_res_addr
r_struct
id|ipr_res_addr
id|dev_res_addr
suffix:semicolon
DECL|member|new_dev_vpids
r_struct
id|ipr_std_inq_vpids
id|new_dev_vpids
suffix:semicolon
DECL|member|new_dev_sn
id|u8
id|new_dev_sn
(braket
id|IPR_SERIAL_NUM_LEN
)braket
suffix:semicolon
DECL|member|ioa_last_with_dev_vpids
r_struct
id|ipr_std_inq_vpids
id|ioa_last_with_dev_vpids
suffix:semicolon
DECL|member|ioa_last_with_dev_sn
id|u8
id|ioa_last_with_dev_sn
(braket
id|IPR_SERIAL_NUM_LEN
)braket
suffix:semicolon
DECL|member|cfc_last_with_dev_vpids
r_struct
id|ipr_std_inq_vpids
id|cfc_last_with_dev_vpids
suffix:semicolon
DECL|member|cfc_last_with_dev_sn
id|u8
id|cfc_last_with_dev_sn
(braket
id|IPR_SERIAL_NUM_LEN
)braket
suffix:semicolon
DECL|member|ioa_data
id|u32
id|ioa_data
(braket
l_int|5
)braket
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
comma
id|aligned
(paren
l_int|4
)paren
)paren
)paren
suffix:semicolon
DECL|struct|ipr_hostrcb_array_data_entry
r_struct
id|ipr_hostrcb_array_data_entry
(brace
DECL|member|vpids
r_struct
id|ipr_std_inq_vpids
id|vpids
suffix:semicolon
DECL|member|serial_num
id|u8
id|serial_num
(braket
id|IPR_SERIAL_NUM_LEN
)braket
suffix:semicolon
DECL|member|expected_dev_res_addr
r_struct
id|ipr_res_addr
id|expected_dev_res_addr
suffix:semicolon
DECL|member|dev_res_addr
r_struct
id|ipr_res_addr
id|dev_res_addr
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
comma
id|aligned
(paren
l_int|4
)paren
)paren
)paren
suffix:semicolon
DECL|struct|ipr_hostrcb_type_ff_error
r_struct
id|ipr_hostrcb_type_ff_error
(brace
DECL|member|ioa_data
id|u32
id|ioa_data
(braket
l_int|246
)braket
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
comma
id|aligned
(paren
l_int|4
)paren
)paren
)paren
suffix:semicolon
DECL|struct|ipr_hostrcb_type_01_error
r_struct
id|ipr_hostrcb_type_01_error
(brace
DECL|member|seek_counter
id|u32
id|seek_counter
suffix:semicolon
DECL|member|read_counter
id|u32
id|read_counter
suffix:semicolon
DECL|member|sense_data
id|u8
id|sense_data
(braket
l_int|32
)braket
suffix:semicolon
DECL|member|ioa_data
id|u32
id|ioa_data
(braket
l_int|236
)braket
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
comma
id|aligned
(paren
l_int|4
)paren
)paren
)paren
suffix:semicolon
DECL|struct|ipr_hostrcb_type_02_error
r_struct
id|ipr_hostrcb_type_02_error
(brace
DECL|member|ioa_vpids
r_struct
id|ipr_std_inq_vpids
id|ioa_vpids
suffix:semicolon
DECL|member|ioa_sn
id|u8
id|ioa_sn
(braket
id|IPR_SERIAL_NUM_LEN
)braket
suffix:semicolon
DECL|member|cfc_vpids
r_struct
id|ipr_std_inq_vpids
id|cfc_vpids
suffix:semicolon
DECL|member|cfc_sn
id|u8
id|cfc_sn
(braket
id|IPR_SERIAL_NUM_LEN
)braket
suffix:semicolon
DECL|member|ioa_last_attached_to_cfc_vpids
r_struct
id|ipr_std_inq_vpids
id|ioa_last_attached_to_cfc_vpids
suffix:semicolon
DECL|member|ioa_last_attached_to_cfc_sn
id|u8
id|ioa_last_attached_to_cfc_sn
(braket
id|IPR_SERIAL_NUM_LEN
)braket
suffix:semicolon
DECL|member|cfc_last_attached_to_ioa_vpids
r_struct
id|ipr_std_inq_vpids
id|cfc_last_attached_to_ioa_vpids
suffix:semicolon
DECL|member|cfc_last_attached_to_ioa_sn
id|u8
id|cfc_last_attached_to_ioa_sn
(braket
id|IPR_SERIAL_NUM_LEN
)braket
suffix:semicolon
DECL|member|ioa_data
id|u32
id|ioa_data
(braket
l_int|3
)braket
suffix:semicolon
DECL|member|reserved
id|u8
id|reserved
(braket
l_int|844
)braket
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
comma
id|aligned
(paren
l_int|4
)paren
)paren
)paren
suffix:semicolon
DECL|struct|ipr_hostrcb_type_03_error
r_struct
id|ipr_hostrcb_type_03_error
(brace
DECL|member|ioa_vpids
r_struct
id|ipr_std_inq_vpids
id|ioa_vpids
suffix:semicolon
DECL|member|ioa_sn
id|u8
id|ioa_sn
(braket
id|IPR_SERIAL_NUM_LEN
)braket
suffix:semicolon
DECL|member|cfc_vpids
r_struct
id|ipr_std_inq_vpids
id|cfc_vpids
suffix:semicolon
DECL|member|cfc_sn
id|u8
id|cfc_sn
(braket
id|IPR_SERIAL_NUM_LEN
)braket
suffix:semicolon
DECL|member|errors_detected
id|u32
id|errors_detected
suffix:semicolon
DECL|member|errors_logged
id|u32
id|errors_logged
suffix:semicolon
DECL|member|ioa_data
id|u8
id|ioa_data
(braket
l_int|12
)braket
suffix:semicolon
DECL|member|dev_entry
r_struct
id|ipr_hostrcb_device_data_entry
id|dev_entry
(braket
l_int|3
)braket
suffix:semicolon
DECL|member|reserved
id|u8
id|reserved
(braket
l_int|444
)braket
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
comma
id|aligned
(paren
l_int|4
)paren
)paren
)paren
suffix:semicolon
DECL|struct|ipr_hostrcb_type_04_error
r_struct
id|ipr_hostrcb_type_04_error
(brace
DECL|member|ioa_vpids
r_struct
id|ipr_std_inq_vpids
id|ioa_vpids
suffix:semicolon
DECL|member|ioa_sn
id|u8
id|ioa_sn
(braket
id|IPR_SERIAL_NUM_LEN
)braket
suffix:semicolon
DECL|member|cfc_vpids
r_struct
id|ipr_std_inq_vpids
id|cfc_vpids
suffix:semicolon
DECL|member|cfc_sn
id|u8
id|cfc_sn
(braket
id|IPR_SERIAL_NUM_LEN
)braket
suffix:semicolon
DECL|member|ioa_data
id|u8
id|ioa_data
(braket
l_int|12
)braket
suffix:semicolon
DECL|member|array_member
r_struct
id|ipr_hostrcb_array_data_entry
id|array_member
(braket
l_int|10
)braket
suffix:semicolon
DECL|member|exposed_mode_adn
id|u32
id|exposed_mode_adn
suffix:semicolon
DECL|member|array_id
id|u32
id|array_id
suffix:semicolon
DECL|member|incomp_dev_vpids
r_struct
id|ipr_std_inq_vpids
id|incomp_dev_vpids
suffix:semicolon
DECL|member|incomp_dev_sn
id|u8
id|incomp_dev_sn
(braket
id|IPR_SERIAL_NUM_LEN
)braket
suffix:semicolon
DECL|member|ioa_data2
id|u32
id|ioa_data2
suffix:semicolon
DECL|member|array_member2
r_struct
id|ipr_hostrcb_array_data_entry
id|array_member2
(braket
l_int|8
)braket
suffix:semicolon
DECL|member|last_func_vset_res_addr
r_struct
id|ipr_res_addr
id|last_func_vset_res_addr
suffix:semicolon
DECL|member|vset_serial_num
id|u8
id|vset_serial_num
(braket
id|IPR_SERIAL_NUM_LEN
)braket
suffix:semicolon
DECL|member|protection_level
id|u8
id|protection_level
(braket
l_int|8
)braket
suffix:semicolon
DECL|member|reserved
id|u8
id|reserved
(braket
l_int|124
)braket
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
comma
id|aligned
(paren
l_int|4
)paren
)paren
)paren
suffix:semicolon
DECL|struct|ipr_hostrcb_error
r_struct
id|ipr_hostrcb_error
(brace
DECL|member|failing_dev_ioasc
id|u32
id|failing_dev_ioasc
suffix:semicolon
DECL|member|failing_dev_res_addr
r_struct
id|ipr_res_addr
id|failing_dev_res_addr
suffix:semicolon
DECL|member|failing_dev_res_handle
id|u32
id|failing_dev_res_handle
suffix:semicolon
DECL|member|prc
id|u32
id|prc
suffix:semicolon
r_union
(brace
DECL|member|type_ff_error
r_struct
id|ipr_hostrcb_type_ff_error
id|type_ff_error
suffix:semicolon
DECL|member|type_01_error
r_struct
id|ipr_hostrcb_type_01_error
id|type_01_error
suffix:semicolon
DECL|member|type_02_error
r_struct
id|ipr_hostrcb_type_02_error
id|type_02_error
suffix:semicolon
DECL|member|type_03_error
r_struct
id|ipr_hostrcb_type_03_error
id|type_03_error
suffix:semicolon
DECL|member|type_04_error
r_struct
id|ipr_hostrcb_type_04_error
id|type_04_error
suffix:semicolon
DECL|member|u
)brace
id|u
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
comma
id|aligned
(paren
l_int|4
)paren
)paren
)paren
suffix:semicolon
DECL|struct|ipr_hostrcb_raw
r_struct
id|ipr_hostrcb_raw
(brace
DECL|member|data
id|u32
id|data
(braket
r_sizeof
(paren
r_struct
id|ipr_hostrcb_error
)paren
op_div
r_sizeof
(paren
id|u32
)paren
)braket
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
comma
id|aligned
(paren
l_int|4
)paren
)paren
)paren
suffix:semicolon
DECL|struct|ipr_hcam
r_struct
id|ipr_hcam
(brace
DECL|member|op_code
id|u8
id|op_code
suffix:semicolon
DECL|macro|IPR_HOST_RCB_OP_CODE_CONFIG_CHANGE
mdefine_line|#define IPR_HOST_RCB_OP_CODE_CONFIG_CHANGE&t;&t;&t;0xE1
DECL|macro|IPR_HOST_RCB_OP_CODE_LOG_DATA
mdefine_line|#define IPR_HOST_RCB_OP_CODE_LOG_DATA&t;&t;&t;&t;0xE2
DECL|member|notify_type
id|u8
id|notify_type
suffix:semicolon
DECL|macro|IPR_HOST_RCB_NOTIF_TYPE_EXISTING_CHANGED
mdefine_line|#define IPR_HOST_RCB_NOTIF_TYPE_EXISTING_CHANGED&t;0x00
DECL|macro|IPR_HOST_RCB_NOTIF_TYPE_NEW_ENTRY
mdefine_line|#define IPR_HOST_RCB_NOTIF_TYPE_NEW_ENTRY&t;&t;&t;0x01
DECL|macro|IPR_HOST_RCB_NOTIF_TYPE_REM_ENTRY
mdefine_line|#define IPR_HOST_RCB_NOTIF_TYPE_REM_ENTRY&t;&t;&t;0x02
DECL|macro|IPR_HOST_RCB_NOTIF_TYPE_ERROR_LOG_ENTRY
mdefine_line|#define IPR_HOST_RCB_NOTIF_TYPE_ERROR_LOG_ENTRY&t;&t;0x10
DECL|macro|IPR_HOST_RCB_NOTIF_TYPE_INFORMATION_ENTRY
mdefine_line|#define IPR_HOST_RCB_NOTIF_TYPE_INFORMATION_ENTRY&t;0x11
DECL|member|notifications_lost
id|u8
id|notifications_lost
suffix:semicolon
DECL|macro|IPR_HOST_RCB_NO_NOTIFICATIONS_LOST
mdefine_line|#define IPR_HOST_RCB_NO_NOTIFICATIONS_LOST&t;&t;&t;0
DECL|macro|IPR_HOST_RCB_NOTIFICATIONS_LOST
mdefine_line|#define IPR_HOST_RCB_NOTIFICATIONS_LOST&t;&t;&t;&t;0x80
DECL|member|flags
id|u8
id|flags
suffix:semicolon
DECL|macro|IPR_HOSTRCB_INTERNAL_OPER
mdefine_line|#define IPR_HOSTRCB_INTERNAL_OPER&t;0x80
DECL|macro|IPR_HOSTRCB_ERR_RESP_SENT
mdefine_line|#define IPR_HOSTRCB_ERR_RESP_SENT&t;0x40
DECL|member|overlay_id
id|u8
id|overlay_id
suffix:semicolon
DECL|macro|IPR_HOST_RCB_OVERLAY_ID_1
mdefine_line|#define IPR_HOST_RCB_OVERLAY_ID_1&t;&t;&t;&t;0x01
DECL|macro|IPR_HOST_RCB_OVERLAY_ID_2
mdefine_line|#define IPR_HOST_RCB_OVERLAY_ID_2&t;&t;&t;&t;0x02
DECL|macro|IPR_HOST_RCB_OVERLAY_ID_3
mdefine_line|#define IPR_HOST_RCB_OVERLAY_ID_3&t;&t;&t;&t;0x03
DECL|macro|IPR_HOST_RCB_OVERLAY_ID_4
mdefine_line|#define IPR_HOST_RCB_OVERLAY_ID_4&t;&t;&t;&t;0x04
DECL|macro|IPR_HOST_RCB_OVERLAY_ID_6
mdefine_line|#define IPR_HOST_RCB_OVERLAY_ID_6&t;&t;&t;&t;0x06
DECL|macro|IPR_HOST_RCB_OVERLAY_ID_DEFAULT
mdefine_line|#define IPR_HOST_RCB_OVERLAY_ID_DEFAULT&t;&t;&t;0xFF
DECL|member|reserved1
id|u8
id|reserved1
(braket
l_int|3
)braket
suffix:semicolon
DECL|member|ilid
id|u32
id|ilid
suffix:semicolon
DECL|member|time_since_last_ioa_reset
id|u32
id|time_since_last_ioa_reset
suffix:semicolon
DECL|member|reserved2
id|u32
id|reserved2
suffix:semicolon
DECL|member|length
id|u32
id|length
suffix:semicolon
r_union
(brace
DECL|member|error
r_struct
id|ipr_hostrcb_error
id|error
suffix:semicolon
DECL|member|ccn
r_struct
id|ipr_hostrcb_cfg_ch_not
id|ccn
suffix:semicolon
DECL|member|raw
r_struct
id|ipr_hostrcb_raw
id|raw
suffix:semicolon
DECL|member|u
)brace
id|u
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
comma
id|aligned
(paren
l_int|4
)paren
)paren
)paren
suffix:semicolon
DECL|struct|ipr_hostrcb
r_struct
id|ipr_hostrcb
(brace
DECL|member|hcam
r_struct
id|ipr_hcam
id|hcam
suffix:semicolon
DECL|member|hostrcb_dma
id|u32
id|hostrcb_dma
suffix:semicolon
DECL|member|queue
r_struct
id|list_head
id|queue
suffix:semicolon
)brace
suffix:semicolon
multiline_comment|/* IPR smart dump table structures */
DECL|struct|ipr_sdt_entry
r_struct
id|ipr_sdt_entry
(brace
DECL|member|bar_str_offset
id|u32
id|bar_str_offset
suffix:semicolon
DECL|member|end_offset
id|u32
id|end_offset
suffix:semicolon
DECL|member|entry_byte
id|u8
id|entry_byte
suffix:semicolon
DECL|member|reserved
id|u8
id|reserved
(braket
l_int|3
)braket
suffix:semicolon
DECL|member|flags
id|u8
id|flags
suffix:semicolon
DECL|macro|IPR_SDT_ENDIAN
mdefine_line|#define IPR_SDT_ENDIAN&t;&t;0x80
DECL|macro|IPR_SDT_VALID_ENTRY
mdefine_line|#define IPR_SDT_VALID_ENTRY&t;0x20
DECL|member|resv
id|u8
id|resv
suffix:semicolon
DECL|member|priority
id|u16
id|priority
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
comma
id|aligned
(paren
l_int|4
)paren
)paren
)paren
suffix:semicolon
DECL|struct|ipr_sdt_header
r_struct
id|ipr_sdt_header
(brace
DECL|member|state
id|u32
id|state
suffix:semicolon
DECL|member|num_entries
id|u32
id|num_entries
suffix:semicolon
DECL|member|num_entries_used
id|u32
id|num_entries_used
suffix:semicolon
DECL|member|dump_size
id|u32
id|dump_size
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
comma
id|aligned
(paren
l_int|4
)paren
)paren
)paren
suffix:semicolon
DECL|struct|ipr_sdt
r_struct
id|ipr_sdt
(brace
DECL|member|hdr
r_struct
id|ipr_sdt_header
id|hdr
suffix:semicolon
DECL|member|entry
r_struct
id|ipr_sdt_entry
id|entry
(braket
id|IPR_NUM_SDT_ENTRIES
)braket
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
comma
id|aligned
(paren
l_int|4
)paren
)paren
)paren
suffix:semicolon
DECL|struct|ipr_uc_sdt
r_struct
id|ipr_uc_sdt
(brace
DECL|member|hdr
r_struct
id|ipr_sdt_header
id|hdr
suffix:semicolon
DECL|member|entry
r_struct
id|ipr_sdt_entry
id|entry
(braket
l_int|1
)braket
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
comma
id|aligned
(paren
l_int|4
)paren
)paren
)paren
suffix:semicolon
multiline_comment|/*&n; * Driver types&n; */
DECL|struct|ipr_bus_attributes
r_struct
id|ipr_bus_attributes
(brace
DECL|member|bus
id|u8
id|bus
suffix:semicolon
DECL|member|qas_enabled
id|u8
id|qas_enabled
suffix:semicolon
DECL|member|bus_width
id|u8
id|bus_width
suffix:semicolon
DECL|member|reserved
id|u8
id|reserved
suffix:semicolon
DECL|member|max_xfer_rate
id|u32
id|max_xfer_rate
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|ipr_resource_entry
r_struct
id|ipr_resource_entry
(brace
DECL|member|cfgte
r_struct
id|ipr_config_table_entry
id|cfgte
suffix:semicolon
DECL|member|needs_sync_complete
id|u8
id|needs_sync_complete
suffix:colon
l_int|1
suffix:semicolon
DECL|member|in_erp
id|u8
id|in_erp
suffix:colon
l_int|1
suffix:semicolon
DECL|member|add_to_ml
id|u8
id|add_to_ml
suffix:colon
l_int|1
suffix:semicolon
DECL|member|del_from_ml
id|u8
id|del_from_ml
suffix:colon
l_int|1
suffix:semicolon
DECL|member|resetting_device
id|u8
id|resetting_device
suffix:colon
l_int|1
suffix:semicolon
DECL|member|tcq_active
id|u8
id|tcq_active
suffix:colon
l_int|1
suffix:semicolon
DECL|member|qdepth
r_int
id|qdepth
suffix:semicolon
DECL|member|sdev
r_struct
id|scsi_device
op_star
id|sdev
suffix:semicolon
DECL|member|queue
r_struct
id|list_head
id|queue
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|ipr_resource_hdr
r_struct
id|ipr_resource_hdr
(brace
DECL|member|num_entries
id|u16
id|num_entries
suffix:semicolon
DECL|member|reserved
id|u16
id|reserved
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|ipr_resource_table
r_struct
id|ipr_resource_table
(brace
DECL|member|hdr
r_struct
id|ipr_resource_hdr
id|hdr
suffix:semicolon
DECL|member|dev
r_struct
id|ipr_resource_entry
id|dev
(braket
id|IPR_MAX_PHYSICAL_DEVS
)braket
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|ipr_misc_cbs
r_struct
id|ipr_misc_cbs
(brace
DECL|member|ioa_vpd
r_struct
id|ipr_ioa_vpd
id|ioa_vpd
suffix:semicolon
DECL|member|page3_data
r_struct
id|ipr_inquiry_page3
id|page3_data
suffix:semicolon
DECL|member|mode_pages
r_struct
id|ipr_mode_pages
id|mode_pages
suffix:semicolon
DECL|member|supp_dev
r_struct
id|ipr_supported_device
id|supp_dev
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|ipr_interrupts
r_struct
id|ipr_interrupts
(brace
DECL|member|set_interrupt_mask_reg
r_int
r_int
id|set_interrupt_mask_reg
suffix:semicolon
DECL|member|clr_interrupt_mask_reg
r_int
r_int
id|clr_interrupt_mask_reg
suffix:semicolon
DECL|member|sense_interrupt_mask_reg
r_int
r_int
id|sense_interrupt_mask_reg
suffix:semicolon
DECL|member|clr_interrupt_reg
r_int
r_int
id|clr_interrupt_reg
suffix:semicolon
DECL|member|sense_interrupt_reg
r_int
r_int
id|sense_interrupt_reg
suffix:semicolon
DECL|member|ioarrin_reg
r_int
r_int
id|ioarrin_reg
suffix:semicolon
DECL|member|sense_uproc_interrupt_reg
r_int
r_int
id|sense_uproc_interrupt_reg
suffix:semicolon
DECL|member|set_uproc_interrupt_reg
r_int
r_int
id|set_uproc_interrupt_reg
suffix:semicolon
DECL|member|clr_uproc_interrupt_reg
r_int
r_int
id|clr_uproc_interrupt_reg
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|ipr_chip_cfg_t
r_struct
id|ipr_chip_cfg_t
(brace
DECL|member|mailbox
id|u32
id|mailbox
suffix:semicolon
DECL|member|cache_line_size
id|u8
id|cache_line_size
suffix:semicolon
DECL|member|regs
r_struct
id|ipr_interrupts
id|regs
suffix:semicolon
)brace
suffix:semicolon
DECL|enum|ipr_shutdown_type
r_enum
id|ipr_shutdown_type
(brace
DECL|enumerator|IPR_SHUTDOWN_NORMAL
id|IPR_SHUTDOWN_NORMAL
op_assign
l_int|0x00
comma
DECL|enumerator|IPR_SHUTDOWN_PREPARE_FOR_NORMAL
id|IPR_SHUTDOWN_PREPARE_FOR_NORMAL
op_assign
l_int|0x40
comma
DECL|enumerator|IPR_SHUTDOWN_ABBREV
id|IPR_SHUTDOWN_ABBREV
op_assign
l_int|0x80
comma
DECL|enumerator|IPR_SHUTDOWN_NONE
id|IPR_SHUTDOWN_NONE
op_assign
l_int|0x100
)brace
suffix:semicolon
DECL|struct|ipr_trace_entry
r_struct
id|ipr_trace_entry
(brace
DECL|member|time
id|u32
id|time
suffix:semicolon
DECL|member|op_code
id|u8
id|op_code
suffix:semicolon
DECL|member|type
id|u8
id|type
suffix:semicolon
DECL|macro|IPR_TRACE_START
mdefine_line|#define IPR_TRACE_START&t;&t;&t;0x00
DECL|macro|IPR_TRACE_FINISH
mdefine_line|#define IPR_TRACE_FINISH&t;&t;0xff
DECL|member|cmd_index
id|u16
id|cmd_index
suffix:semicolon
DECL|member|res_handle
id|u32
id|res_handle
suffix:semicolon
r_union
(brace
DECL|member|ioasc
id|u32
id|ioasc
suffix:semicolon
DECL|member|add_data
id|u32
id|add_data
suffix:semicolon
DECL|member|res_addr
id|u32
id|res_addr
suffix:semicolon
DECL|member|u
)brace
id|u
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|ipr_sglist
r_struct
id|ipr_sglist
(brace
DECL|member|order
id|u32
id|order
suffix:semicolon
DECL|member|num_sg
id|u32
id|num_sg
suffix:semicolon
DECL|member|buffer_len
id|u32
id|buffer_len
suffix:semicolon
DECL|member|scatterlist
r_struct
id|scatterlist
id|scatterlist
(braket
l_int|1
)braket
suffix:semicolon
)brace
suffix:semicolon
DECL|enum|ipr_sdt_state
r_enum
id|ipr_sdt_state
(brace
DECL|enumerator|INACTIVE
id|INACTIVE
comma
DECL|enumerator|WAIT_FOR_DUMP
id|WAIT_FOR_DUMP
comma
DECL|enumerator|GET_DUMP
id|GET_DUMP
comma
DECL|enumerator|ABORT_DUMP
id|ABORT_DUMP
comma
DECL|enumerator|DUMP_OBTAINED
id|DUMP_OBTAINED
)brace
suffix:semicolon
multiline_comment|/* Per-controller data */
DECL|struct|ipr_ioa_cfg
r_struct
id|ipr_ioa_cfg
(brace
DECL|member|eye_catcher
r_char
id|eye_catcher
(braket
l_int|8
)braket
suffix:semicolon
DECL|macro|IPR_EYECATCHER
mdefine_line|#define IPR_EYECATCHER&t;&t;&t;&quot;iprcfg&quot;
DECL|member|queue
r_struct
id|list_head
id|queue
suffix:semicolon
DECL|member|allow_interrupts
id|u8
id|allow_interrupts
suffix:colon
l_int|1
suffix:semicolon
DECL|member|in_reset_reload
id|u8
id|in_reset_reload
suffix:colon
l_int|1
suffix:semicolon
DECL|member|in_ioa_bringdown
id|u8
id|in_ioa_bringdown
suffix:colon
l_int|1
suffix:semicolon
DECL|member|ioa_unit_checked
id|u8
id|ioa_unit_checked
suffix:colon
l_int|1
suffix:semicolon
DECL|member|ioa_is_dead
id|u8
id|ioa_is_dead
suffix:colon
l_int|1
suffix:semicolon
DECL|member|dump_taken
id|u8
id|dump_taken
suffix:colon
l_int|1
suffix:semicolon
DECL|member|allow_cmds
id|u8
id|allow_cmds
suffix:colon
l_int|1
suffix:semicolon
DECL|member|allow_ml_add_del
id|u8
id|allow_ml_add_del
suffix:colon
l_int|1
suffix:semicolon
DECL|member|type
id|u16
id|type
suffix:semicolon
multiline_comment|/* CCIN of the card */
DECL|member|log_level
id|u8
id|log_level
suffix:semicolon
DECL|macro|IPR_MAX_LOG_LEVEL
mdefine_line|#define IPR_MAX_LOG_LEVEL&t;&t;&t;4
DECL|macro|IPR_DEFAULT_LOG_LEVEL
mdefine_line|#define IPR_DEFAULT_LOG_LEVEL&t;&t;2
DECL|macro|IPR_NUM_TRACE_INDEX_BITS
mdefine_line|#define IPR_NUM_TRACE_INDEX_BITS&t;8
DECL|macro|IPR_NUM_TRACE_ENTRIES
mdefine_line|#define IPR_NUM_TRACE_ENTRIES&t;&t;(1 &lt;&lt; IPR_NUM_TRACE_INDEX_BITS)
DECL|macro|IPR_TRACE_SIZE
mdefine_line|#define IPR_TRACE_SIZE&t;(sizeof(struct ipr_trace_entry) * IPR_NUM_TRACE_ENTRIES)
DECL|member|trace_start
r_char
id|trace_start
(braket
l_int|8
)braket
suffix:semicolon
DECL|macro|IPR_TRACE_START_LABEL
mdefine_line|#define IPR_TRACE_START_LABEL&t;&t;&t;&quot;trace&quot;
DECL|member|trace
r_struct
id|ipr_trace_entry
op_star
id|trace
suffix:semicolon
DECL|member|trace_index
id|u32
id|trace_index
suffix:colon
id|IPR_NUM_TRACE_INDEX_BITS
suffix:semicolon
multiline_comment|/*&n;&t; * Queue for free command blocks&n;&t; */
DECL|member|ipr_free_label
r_char
id|ipr_free_label
(braket
l_int|8
)braket
suffix:semicolon
DECL|macro|IPR_FREEQ_LABEL
mdefine_line|#define IPR_FREEQ_LABEL&t;&t;&t;&quot;free-q&quot;
DECL|member|free_q
r_struct
id|list_head
id|free_q
suffix:semicolon
multiline_comment|/*&n;&t; * Queue for command blocks outstanding to the adapter&n;&t; */
DECL|member|ipr_pending_label
r_char
id|ipr_pending_label
(braket
l_int|8
)braket
suffix:semicolon
DECL|macro|IPR_PENDQ_LABEL
mdefine_line|#define IPR_PENDQ_LABEL&t;&t;&t;&quot;pend-q&quot;
DECL|member|pending_q
r_struct
id|list_head
id|pending_q
suffix:semicolon
DECL|member|cfg_table_start
r_char
id|cfg_table_start
(braket
l_int|8
)braket
suffix:semicolon
DECL|macro|IPR_CFG_TBL_START
mdefine_line|#define IPR_CFG_TBL_START&t;&t;&quot;cfg&quot;
DECL|member|cfg_table
r_struct
id|ipr_config_table
op_star
id|cfg_table
suffix:semicolon
DECL|member|cfg_table_dma
id|u32
id|cfg_table_dma
suffix:semicolon
DECL|member|resource_table_label
r_char
id|resource_table_label
(braket
l_int|8
)braket
suffix:semicolon
DECL|macro|IPR_RES_TABLE_LABEL
mdefine_line|#define IPR_RES_TABLE_LABEL&t;&t;&quot;res_tbl&quot;
DECL|member|res_entries
r_struct
id|ipr_resource_entry
op_star
id|res_entries
suffix:semicolon
DECL|member|free_res_q
r_struct
id|list_head
id|free_res_q
suffix:semicolon
DECL|member|used_res_q
r_struct
id|list_head
id|used_res_q
suffix:semicolon
DECL|member|ipr_hcam_label
r_char
id|ipr_hcam_label
(braket
l_int|8
)braket
suffix:semicolon
DECL|macro|IPR_HCAM_LABEL
mdefine_line|#define IPR_HCAM_LABEL&t;&t;&t;&quot;hcams&quot;
DECL|member|hostrcb
r_struct
id|ipr_hostrcb
op_star
id|hostrcb
(braket
id|IPR_NUM_HCAMS
)braket
suffix:semicolon
DECL|member|hostrcb_dma
id|u32
id|hostrcb_dma
(braket
id|IPR_NUM_HCAMS
)braket
suffix:semicolon
DECL|member|hostrcb_free_q
r_struct
id|list_head
id|hostrcb_free_q
suffix:semicolon
DECL|member|hostrcb_pending_q
r_struct
id|list_head
id|hostrcb_pending_q
suffix:semicolon
DECL|member|host_rrq
id|u32
op_star
id|host_rrq
suffix:semicolon
DECL|member|host_rrq_dma
id|u32
id|host_rrq_dma
suffix:semicolon
DECL|macro|IPR_HRRQ_REQ_RESP_HANDLE_MASK
mdefine_line|#define IPR_HRRQ_REQ_RESP_HANDLE_MASK&t;0xfffffffc
DECL|macro|IPR_HRRQ_RESP_BIT_SET
mdefine_line|#define IPR_HRRQ_RESP_BIT_SET&t;&t;&t;0x00000002
DECL|macro|IPR_HRRQ_TOGGLE_BIT
mdefine_line|#define IPR_HRRQ_TOGGLE_BIT&t;&t;&t;&t;0x00000001
DECL|macro|IPR_HRRQ_REQ_RESP_HANDLE_SHIFT
mdefine_line|#define IPR_HRRQ_REQ_RESP_HANDLE_SHIFT&t;2
DECL|member|hrrq_start
r_volatile
id|u32
op_star
id|hrrq_start
suffix:semicolon
DECL|member|hrrq_end
r_volatile
id|u32
op_star
id|hrrq_end
suffix:semicolon
DECL|member|hrrq_curr
r_volatile
id|u32
op_star
id|hrrq_curr
suffix:semicolon
DECL|member|toggle_bit
r_volatile
id|u32
id|toggle_bit
suffix:semicolon
DECL|member|bus_attr
r_struct
id|ipr_bus_attributes
id|bus_attr
(braket
id|IPR_MAX_NUM_BUSES
)braket
suffix:semicolon
DECL|member|chip_cfg
r_const
r_struct
id|ipr_chip_cfg_t
op_star
id|chip_cfg
suffix:semicolon
DECL|member|hdw_dma_regs
r_int
r_int
id|hdw_dma_regs
suffix:semicolon
multiline_comment|/* iomapped PCI memory space */
DECL|member|hdw_dma_regs_pci
r_int
r_int
id|hdw_dma_regs_pci
suffix:semicolon
multiline_comment|/* raw PCI memory space */
DECL|member|ioa_mailbox
r_int
r_int
id|ioa_mailbox
suffix:semicolon
DECL|member|regs
r_struct
id|ipr_interrupts
id|regs
suffix:semicolon
DECL|member|pci_cfg_buf
id|u32
id|pci_cfg_buf
(braket
l_int|64
)braket
suffix:semicolon
DECL|member|saved_pcix_cmd_reg
id|u16
id|saved_pcix_cmd_reg
suffix:semicolon
DECL|member|reset_retries
id|u16
id|reset_retries
suffix:semicolon
DECL|member|errors_logged
id|u32
id|errors_logged
suffix:semicolon
DECL|member|host
r_struct
id|Scsi_Host
op_star
id|host
suffix:semicolon
DECL|member|pdev
r_struct
id|pci_dev
op_star
id|pdev
suffix:semicolon
DECL|member|ucode_sglist
r_struct
id|ipr_sglist
op_star
id|ucode_sglist
suffix:semicolon
DECL|member|saved_mode_pages
r_struct
id|ipr_mode_pages
op_star
id|saved_mode_pages
suffix:semicolon
DECL|member|saved_mode_page_len
id|u8
id|saved_mode_page_len
suffix:semicolon
DECL|member|work_q
r_struct
id|work_struct
id|work_q
suffix:semicolon
DECL|member|reset_wait_q
id|wait_queue_head_t
id|reset_wait_q
suffix:semicolon
DECL|member|dump
r_struct
id|ipr_dump
op_star
id|dump
suffix:semicolon
DECL|member|sdt_state
r_enum
id|ipr_sdt_state
id|sdt_state
suffix:semicolon
DECL|member|vpd_cbs
r_struct
id|ipr_misc_cbs
op_star
id|vpd_cbs
suffix:semicolon
DECL|member|vpd_cbs_dma
id|u32
id|vpd_cbs_dma
suffix:semicolon
DECL|member|ipr_cmd_pool
r_struct
id|pci_pool
op_star
id|ipr_cmd_pool
suffix:semicolon
DECL|member|reset_cmd
r_struct
id|ipr_cmnd
op_star
id|reset_cmd
suffix:semicolon
DECL|member|ipr_cmd_label
r_char
id|ipr_cmd_label
(braket
l_int|8
)braket
suffix:semicolon
DECL|macro|IPR_CMD_LABEL
mdefine_line|#define IPR_CMD_LABEL&t;&t;&quot;ipr_cmnd&quot;
DECL|member|ipr_cmnd_list
r_struct
id|ipr_cmnd
op_star
id|ipr_cmnd_list
(braket
id|IPR_NUM_CMD_BLKS
)braket
suffix:semicolon
DECL|member|ipr_cmnd_list_dma
id|u32
id|ipr_cmnd_list_dma
(braket
id|IPR_NUM_CMD_BLKS
)braket
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|ipr_cmnd
r_struct
id|ipr_cmnd
(brace
DECL|member|ioarcb
r_struct
id|ipr_ioarcb
id|ioarcb
suffix:semicolon
DECL|member|ioasa
r_struct
id|ipr_ioasa
id|ioasa
suffix:semicolon
DECL|member|ioadl
r_struct
id|ipr_ioadl_desc
id|ioadl
(braket
id|IPR_NUM_IOADL_ENTRIES
)braket
suffix:semicolon
DECL|member|queue
r_struct
id|list_head
id|queue
suffix:semicolon
DECL|member|scsi_cmd
r_struct
id|scsi_cmnd
op_star
id|scsi_cmd
suffix:semicolon
DECL|member|completion
r_struct
id|completion
id|completion
suffix:semicolon
DECL|member|timer
r_struct
id|timer_list
id|timer
suffix:semicolon
DECL|member|done
r_void
(paren
op_star
id|done
)paren
(paren
r_struct
id|ipr_cmnd
op_star
)paren
suffix:semicolon
DECL|member|job_step
r_int
(paren
op_star
id|job_step
)paren
(paren
r_struct
id|ipr_cmnd
op_star
)paren
suffix:semicolon
DECL|member|cmd_index
id|u16
id|cmd_index
suffix:semicolon
DECL|member|sense_buffer
id|u8
id|sense_buffer
(braket
id|SCSI_SENSE_BUFFERSIZE
)braket
suffix:semicolon
DECL|member|sense_buffer_dma
id|dma_addr_t
id|sense_buffer_dma
suffix:semicolon
DECL|member|dma_use_sg
r_int
r_int
id|dma_use_sg
suffix:semicolon
DECL|member|dma_handle
id|dma_addr_t
id|dma_handle
suffix:semicolon
r_union
(brace
DECL|member|shutdown_type
r_enum
id|ipr_shutdown_type
id|shutdown_type
suffix:semicolon
DECL|member|hostrcb
r_struct
id|ipr_hostrcb
op_star
id|hostrcb
suffix:semicolon
DECL|member|time_left
r_int
r_int
id|time_left
suffix:semicolon
DECL|member|scratch
r_int
r_int
id|scratch
suffix:semicolon
DECL|member|res
r_struct
id|ipr_resource_entry
op_star
id|res
suffix:semicolon
DECL|member|sibling
r_struct
id|ipr_cmnd
op_star
id|sibling
suffix:semicolon
DECL|member|sdev
r_struct
id|scsi_device
op_star
id|sdev
suffix:semicolon
DECL|member|u
)brace
id|u
suffix:semicolon
DECL|member|ioa_cfg
r_struct
id|ipr_ioa_cfg
op_star
id|ioa_cfg
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|ipr_ses_table_entry
r_struct
id|ipr_ses_table_entry
(brace
DECL|member|product_id
r_char
id|product_id
(braket
l_int|17
)braket
suffix:semicolon
DECL|member|compare_product_id_byte
r_char
id|compare_product_id_byte
(braket
l_int|17
)braket
suffix:semicolon
DECL|member|max_bus_speed_limit
id|u32
id|max_bus_speed_limit
suffix:semicolon
multiline_comment|/* MB/sec limit for this backplane */
)brace
suffix:semicolon
DECL|struct|ipr_dump_header
r_struct
id|ipr_dump_header
(brace
DECL|member|eye_catcher
id|u32
id|eye_catcher
suffix:semicolon
DECL|macro|IPR_DUMP_EYE_CATCHER
mdefine_line|#define IPR_DUMP_EYE_CATCHER&t;&t;0xC5D4E3F2
DECL|member|len
id|u32
id|len
suffix:semicolon
DECL|member|num_entries
id|u32
id|num_entries
suffix:semicolon
DECL|member|first_entry_offset
id|u32
id|first_entry_offset
suffix:semicolon
DECL|member|status
id|u32
id|status
suffix:semicolon
DECL|macro|IPR_DUMP_STATUS_SUCCESS
mdefine_line|#define IPR_DUMP_STATUS_SUCCESS&t;&t;&t;0
DECL|macro|IPR_DUMP_STATUS_QUAL_SUCCESS
mdefine_line|#define IPR_DUMP_STATUS_QUAL_SUCCESS&t;&t;2
DECL|macro|IPR_DUMP_STATUS_FAILED
mdefine_line|#define IPR_DUMP_STATUS_FAILED&t;&t;&t;0xffffffff
DECL|member|os
id|u32
id|os
suffix:semicolon
DECL|macro|IPR_DUMP_OS_LINUX
mdefine_line|#define IPR_DUMP_OS_LINUX&t;0x4C4E5558
DECL|member|driver_name
id|u32
id|driver_name
suffix:semicolon
DECL|macro|IPR_DUMP_DRIVER_NAME
mdefine_line|#define IPR_DUMP_DRIVER_NAME&t;0x49505232
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
comma
id|aligned
(paren
l_int|4
)paren
)paren
)paren
suffix:semicolon
DECL|struct|ipr_dump_entry_header
r_struct
id|ipr_dump_entry_header
(brace
DECL|member|eye_catcher
id|u32
id|eye_catcher
suffix:semicolon
DECL|macro|IPR_DUMP_EYE_CATCHER
mdefine_line|#define IPR_DUMP_EYE_CATCHER&t;&t;0xC5D4E3F2
DECL|member|len
id|u32
id|len
suffix:semicolon
DECL|member|num_elems
id|u32
id|num_elems
suffix:semicolon
DECL|member|offset
id|u32
id|offset
suffix:semicolon
DECL|member|data_type
id|u32
id|data_type
suffix:semicolon
DECL|macro|IPR_DUMP_DATA_TYPE_ASCII
mdefine_line|#define IPR_DUMP_DATA_TYPE_ASCII&t;0x41534349
DECL|macro|IPR_DUMP_DATA_TYPE_BINARY
mdefine_line|#define IPR_DUMP_DATA_TYPE_BINARY&t;0x42494E41
DECL|member|id
id|u32
id|id
suffix:semicolon
DECL|macro|IPR_DUMP_IOA_DUMP_ID
mdefine_line|#define IPR_DUMP_IOA_DUMP_ID&t;&t;0x494F4131
DECL|macro|IPR_DUMP_LOCATION_ID
mdefine_line|#define IPR_DUMP_LOCATION_ID&t;&t;0x4C4F4341
DECL|macro|IPR_DUMP_TRACE_ID
mdefine_line|#define IPR_DUMP_TRACE_ID&t;&t;0x54524143
DECL|macro|IPR_DUMP_DRIVER_VERSION_ID
mdefine_line|#define IPR_DUMP_DRIVER_VERSION_ID&t;0x44525652
DECL|macro|IPR_DUMP_DRIVER_TYPE_ID
mdefine_line|#define IPR_DUMP_DRIVER_TYPE_ID&t;0x54595045
DECL|macro|IPR_DUMP_IOA_CTRL_BLK
mdefine_line|#define IPR_DUMP_IOA_CTRL_BLK&t;&t;0x494F4342
DECL|macro|IPR_DUMP_PEND_OPS
mdefine_line|#define IPR_DUMP_PEND_OPS&t;&t;0x414F5053
DECL|member|status
id|u32
id|status
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
comma
id|aligned
(paren
l_int|4
)paren
)paren
)paren
suffix:semicolon
DECL|struct|ipr_dump_location_entry
r_struct
id|ipr_dump_location_entry
(brace
DECL|member|hdr
r_struct
id|ipr_dump_entry_header
id|hdr
suffix:semicolon
DECL|member|location
id|u8
id|location
(braket
id|BUS_ID_SIZE
)braket
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
)paren
)paren
suffix:semicolon
DECL|struct|ipr_dump_trace_entry
r_struct
id|ipr_dump_trace_entry
(brace
DECL|member|hdr
r_struct
id|ipr_dump_entry_header
id|hdr
suffix:semicolon
DECL|member|trace
id|u32
id|trace
(braket
id|IPR_TRACE_SIZE
op_div
r_sizeof
(paren
id|u32
)paren
)braket
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
comma
id|aligned
(paren
l_int|4
)paren
)paren
)paren
suffix:semicolon
DECL|struct|ipr_dump_version_entry
r_struct
id|ipr_dump_version_entry
(brace
DECL|member|hdr
r_struct
id|ipr_dump_entry_header
id|hdr
suffix:semicolon
DECL|member|version
id|u8
id|version
(braket
r_sizeof
(paren
id|IPR_DRIVER_VERSION
)paren
)braket
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|ipr_dump_ioa_type_entry
r_struct
id|ipr_dump_ioa_type_entry
(brace
DECL|member|hdr
r_struct
id|ipr_dump_entry_header
id|hdr
suffix:semicolon
DECL|member|type
id|u32
id|type
suffix:semicolon
DECL|member|fw_version
id|u32
id|fw_version
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|ipr_driver_dump
r_struct
id|ipr_driver_dump
(brace
DECL|member|hdr
r_struct
id|ipr_dump_header
id|hdr
suffix:semicolon
DECL|member|version_entry
r_struct
id|ipr_dump_version_entry
id|version_entry
suffix:semicolon
DECL|member|location_entry
r_struct
id|ipr_dump_location_entry
id|location_entry
suffix:semicolon
DECL|member|ioa_type_entry
r_struct
id|ipr_dump_ioa_type_entry
id|ioa_type_entry
suffix:semicolon
DECL|member|trace_entry
r_struct
id|ipr_dump_trace_entry
id|trace_entry
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
)paren
)paren
suffix:semicolon
DECL|struct|ipr_ioa_dump
r_struct
id|ipr_ioa_dump
(brace
DECL|member|hdr
r_struct
id|ipr_dump_entry_header
id|hdr
suffix:semicolon
DECL|member|sdt
r_struct
id|ipr_sdt
id|sdt
suffix:semicolon
DECL|member|ioa_data
id|u32
op_star
id|ioa_data
(braket
id|IPR_MAX_NUM_DUMP_PAGES
)braket
suffix:semicolon
DECL|member|reserved
id|u32
id|reserved
suffix:semicolon
DECL|member|next_page_index
id|u32
id|next_page_index
suffix:semicolon
DECL|member|page_offset
id|u32
id|page_offset
suffix:semicolon
DECL|member|format
id|u32
id|format
suffix:semicolon
DECL|macro|IPR_SDT_FMT2
mdefine_line|#define IPR_SDT_FMT2&t;&t;2
DECL|macro|IPR_SDT_UNKNOWN
mdefine_line|#define IPR_SDT_UNKNOWN&t;&t;3
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
comma
id|aligned
(paren
l_int|4
)paren
)paren
)paren
suffix:semicolon
DECL|struct|ipr_dump
r_struct
id|ipr_dump
(brace
DECL|member|kobj
r_struct
id|kobject
id|kobj
suffix:semicolon
DECL|member|ioa_cfg
r_struct
id|ipr_ioa_cfg
op_star
id|ioa_cfg
suffix:semicolon
DECL|member|driver_dump
r_struct
id|ipr_driver_dump
id|driver_dump
suffix:semicolon
DECL|member|ioa_dump
r_struct
id|ipr_ioa_dump
id|ioa_dump
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|ipr_error_table_t
r_struct
id|ipr_error_table_t
(brace
DECL|member|ioasc
id|u32
id|ioasc
suffix:semicolon
DECL|member|log_ioasa
r_int
id|log_ioasa
suffix:semicolon
DECL|member|log_hcam
r_int
id|log_hcam
suffix:semicolon
DECL|member|error
r_char
op_star
id|error
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|ipr_software_inq_lid_info
r_struct
id|ipr_software_inq_lid_info
(brace
DECL|member|load_id
id|u32
id|load_id
suffix:semicolon
DECL|member|timestamp
id|u32
id|timestamp
(braket
l_int|3
)braket
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
comma
id|aligned
(paren
l_int|4
)paren
)paren
)paren
suffix:semicolon
DECL|struct|ipr_ucode_image_header
r_struct
id|ipr_ucode_image_header
(brace
DECL|member|header_length
id|u32
id|header_length
suffix:semicolon
DECL|member|lid_table_offset
id|u32
id|lid_table_offset
suffix:semicolon
DECL|member|major_release
id|u8
id|major_release
suffix:semicolon
DECL|member|card_type
id|u8
id|card_type
suffix:semicolon
DECL|member|minor_release
id|u8
id|minor_release
(braket
l_int|2
)braket
suffix:semicolon
DECL|member|reserved
id|u8
id|reserved
(braket
l_int|20
)braket
suffix:semicolon
DECL|member|eyecatcher
r_char
id|eyecatcher
(braket
l_int|16
)braket
suffix:semicolon
DECL|member|num_lids
id|u32
id|num_lids
suffix:semicolon
DECL|member|lid
r_struct
id|ipr_software_inq_lid_info
id|lid
(braket
l_int|1
)braket
suffix:semicolon
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
comma
id|aligned
(paren
l_int|4
)paren
)paren
)paren
suffix:semicolon
multiline_comment|/*&n; * Macros&n; */
macro_line|#if IPR_DEBUG
DECL|macro|IPR_DBG_CMD
mdefine_line|#define IPR_DBG_CMD(CMD) do { CMD; } while (0)
macro_line|#else
DECL|macro|IPR_DBG_CMD
mdefine_line|#define IPR_DBG_CMD(CMD)
macro_line|#endif
DECL|macro|ipr_breakpoint_data
mdefine_line|#define ipr_breakpoint_data KERN_ERR IPR_NAME&bslash;&n;&quot;: %s: %s: Line: %d ioa_cfg: %p&bslash;n&quot;, __FILE__, &bslash;&n;__FUNCTION__, __LINE__, ioa_cfg
macro_line|#if defined(CONFIG_KDB) &amp;&amp; !defined(CONFIG_PPC_ISERIES)
DECL|macro|ipr_breakpoint
mdefine_line|#define ipr_breakpoint {printk(ipr_breakpoint_data); KDB_ENTER();}
DECL|macro|ipr_breakpoint_or_die
mdefine_line|#define ipr_breakpoint_or_die {printk(ipr_breakpoint_data); KDB_ENTER();}
macro_line|#else
DECL|macro|ipr_breakpoint
mdefine_line|#define ipr_breakpoint
DECL|macro|ipr_breakpoint_or_die
mdefine_line|#define ipr_breakpoint_or_die panic(ipr_breakpoint_data)
macro_line|#endif
macro_line|#ifdef CONFIG_SCSI_IPR_TRACE
DECL|macro|ipr_create_trace_file
mdefine_line|#define ipr_create_trace_file(kobj, attr) sysfs_create_bin_file(kobj, attr)
DECL|macro|ipr_remove_trace_file
mdefine_line|#define ipr_remove_trace_file(kobj, attr) sysfs_remove_bin_file(kobj, attr)
macro_line|#else
DECL|macro|ipr_create_trace_file
mdefine_line|#define ipr_create_trace_file(kobj, attr) 0
DECL|macro|ipr_remove_trace_file
mdefine_line|#define ipr_remove_trace_file(kobj, attr) do { } while(0)
macro_line|#endif
macro_line|#ifdef CONFIG_SCSI_IPR_DUMP
DECL|macro|ipr_create_dump_file
mdefine_line|#define ipr_create_dump_file(kobj, attr) sysfs_create_bin_file(kobj, attr)
DECL|macro|ipr_remove_dump_file
mdefine_line|#define ipr_remove_dump_file(kobj, attr) sysfs_remove_bin_file(kobj, attr)
macro_line|#else
DECL|macro|ipr_create_dump_file
mdefine_line|#define ipr_create_dump_file(kobj, attr) 0
DECL|macro|ipr_remove_dump_file
mdefine_line|#define ipr_remove_dump_file(kobj, attr) do { } while(0)
macro_line|#endif
multiline_comment|/*&n; * Error logging macros&n; */
DECL|macro|ipr_err
mdefine_line|#define ipr_err(...) printk(KERN_ERR IPR_NAME &quot;: &quot;__VA_ARGS__)
DECL|macro|ipr_info
mdefine_line|#define ipr_info(...) printk(KERN_INFO IPR_NAME &quot;: &quot;__VA_ARGS__)
DECL|macro|ipr_crit
mdefine_line|#define ipr_crit(...) printk(KERN_CRIT IPR_NAME &quot;: &quot;__VA_ARGS__)
DECL|macro|ipr_warn
mdefine_line|#define ipr_warn(...) printk(KERN_WARNING IPR_NAME&quot;: &quot;__VA_ARGS__)
DECL|macro|ipr_dbg
mdefine_line|#define ipr_dbg(...) IPR_DBG_CMD(printk(KERN_INFO IPR_NAME &quot;: &quot;__VA_ARGS__))
DECL|macro|ipr_sdev_printk
mdefine_line|#define ipr_sdev_printk(level, sdev, fmt, ...) &bslash;&n;&t;printk(level IPR_NAME &quot;: %d:%d:%d:%d: &quot; fmt, sdev-&gt;host-&gt;host_no, &bslash;&n;&t;&t;sdev-&gt;channel, sdev-&gt;id, sdev-&gt;lun, ##__VA_ARGS__)
DECL|macro|ipr_sdev_err
mdefine_line|#define ipr_sdev_err(sdev, fmt, ...) &bslash;&n;&t;ipr_sdev_printk(KERN_ERR, sdev, fmt, ##__VA_ARGS__)
DECL|macro|ipr_sdev_info
mdefine_line|#define ipr_sdev_info(sdev, fmt, ...) &bslash;&n;&t;ipr_sdev_printk(KERN_INFO, sdev, fmt, ##__VA_ARGS__)
DECL|macro|ipr_sdev_dbg
mdefine_line|#define ipr_sdev_dbg(sdev, fmt, ...) &bslash;&n;&t;IPR_DBG_CMD(ipr_sdev_printk(KERN_INFO, sdev, fmt, ##__VA_ARGS__))
DECL|macro|ipr_res_printk
mdefine_line|#define ipr_res_printk(level, ioa_cfg, res, fmt, ...) &bslash;&n;&t;printk(level IPR_NAME &quot;: %d:%d:%d:%d: &quot; fmt, ioa_cfg-&gt;host-&gt;host_no, &bslash;&n;&t;&t;res.bus, res.target, res.lun, ##__VA_ARGS__)
DECL|macro|ipr_res_err
mdefine_line|#define ipr_res_err(ioa_cfg, res, fmt, ...) &bslash;&n;&t;ipr_res_printk(KERN_ERR, ioa_cfg, res, fmt, ##__VA_ARGS__)
DECL|macro|ipr_res_dbg
mdefine_line|#define ipr_res_dbg(ioa_cfg, res, fmt, ...) &bslash;&n;&t;IPR_DBG_CMD(ipr_res_printk(KERN_INFO, ioa_cfg, res, fmt, ##__VA_ARGS__))
DECL|macro|ipr_trace
mdefine_line|#define ipr_trace ipr_dbg(&quot;%s: %s: Line: %d&bslash;n&quot;,&bslash;&n;&t;__FILE__, __FUNCTION__, __LINE__)
macro_line|#if IPR_DBG_TRACE
DECL|macro|ENTER
mdefine_line|#define ENTER printk(KERN_INFO IPR_NAME&quot;: Entering %s&bslash;n&quot;, __FUNCTION__)
DECL|macro|LEAVE
mdefine_line|#define LEAVE printk(KERN_INFO IPR_NAME&quot;: Leaving %s&bslash;n&quot;, __FUNCTION__)
macro_line|#else
DECL|macro|ENTER
mdefine_line|#define ENTER
DECL|macro|LEAVE
mdefine_line|#define LEAVE
macro_line|#endif
DECL|macro|ipr_err_separator
mdefine_line|#define ipr_err_separator &bslash;&n;ipr_err(&quot;----------------------------------------------------------&bslash;n&quot;)
multiline_comment|/*&n; * Inlines&n; */
multiline_comment|/**&n; * ipr_is_ioa_resource - Determine if a resource is the IOA&n; * @res:&t;resource entry struct&n; *&n; * Return value:&n; * &t;1 if IOA / 0 if not IOA&n; **/
DECL|function|ipr_is_ioa_resource
r_static
r_inline
r_int
id|ipr_is_ioa_resource
c_func
(paren
r_struct
id|ipr_resource_entry
op_star
id|res
)paren
(brace
r_return
(paren
id|res-&gt;cfgte.flags
op_amp
id|IPR_IS_IOA_RESOURCE
)paren
ques
c_cond
l_int|1
suffix:colon
l_int|0
suffix:semicolon
)brace
multiline_comment|/**&n; * ipr_is_af_dasd_device - Determine if a resource is an AF DASD&n; * @res:&t;resource entry struct&n; *&n; * Return value:&n; * &t;1 if AF DASD / 0 if not AF DASD&n; **/
DECL|function|ipr_is_af_dasd_device
r_static
r_inline
r_int
id|ipr_is_af_dasd_device
c_func
(paren
r_struct
id|ipr_resource_entry
op_star
id|res
)paren
(brace
r_if
c_cond
(paren
id|IPR_IS_DASD_DEVICE
c_func
(paren
id|res-&gt;cfgte.std_inq_data
)paren
op_logical_and
op_logical_neg
id|ipr_is_ioa_resource
c_func
(paren
id|res
)paren
op_logical_and
id|IPR_RES_SUBTYPE
c_func
(paren
id|res
)paren
op_eq
id|IPR_SUBTYPE_AF_DASD
)paren
r_return
l_int|1
suffix:semicolon
r_else
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/**&n; * ipr_is_vset_device - Determine if a resource is a VSET&n; * @res:&t;resource entry struct&n; *&n; * Return value:&n; * &t;1 if VSET / 0 if not VSET&n; **/
DECL|function|ipr_is_vset_device
r_static
r_inline
r_int
id|ipr_is_vset_device
c_func
(paren
r_struct
id|ipr_resource_entry
op_star
id|res
)paren
(brace
r_if
c_cond
(paren
id|IPR_IS_DASD_DEVICE
c_func
(paren
id|res-&gt;cfgte.std_inq_data
)paren
op_logical_and
op_logical_neg
id|ipr_is_ioa_resource
c_func
(paren
id|res
)paren
op_logical_and
id|IPR_RES_SUBTYPE
c_func
(paren
id|res
)paren
op_eq
id|IPR_SUBTYPE_VOLUME_SET
)paren
r_return
l_int|1
suffix:semicolon
r_else
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/**&n; * ipr_is_gscsi - Determine if a resource is a generic scsi resource&n; * @res:&t;resource entry struct&n; *&n; * Return value:&n; * &t;1 if GSCSI / 0 if not GSCSI&n; **/
DECL|function|ipr_is_gscsi
r_static
r_inline
r_int
id|ipr_is_gscsi
c_func
(paren
r_struct
id|ipr_resource_entry
op_star
id|res
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
id|ipr_is_ioa_resource
c_func
(paren
id|res
)paren
op_logical_and
id|IPR_RES_SUBTYPE
c_func
(paren
id|res
)paren
op_eq
id|IPR_SUBTYPE_GENERIC_SCSI
)paren
r_return
l_int|1
suffix:semicolon
r_else
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/**&n; * ipr_is_device - Determine if resource address is that of a device&n; * @res_addr:&t;resource address struct&n; *&n; * Return value:&n; * &t;1 if AF / 0 if not AF&n; **/
DECL|function|ipr_is_device
r_static
r_inline
r_int
id|ipr_is_device
c_func
(paren
r_struct
id|ipr_res_addr
op_star
id|res_addr
)paren
(brace
r_if
c_cond
(paren
(paren
id|res_addr-&gt;bus
OL
id|IPR_MAX_NUM_BUSES
)paren
op_logical_and
(paren
id|res_addr-&gt;target
OL
id|IPR_MAX_NUM_TARGETS_PER_BUS
)paren
)paren
r_return
l_int|1
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/**&n; * ipr_sdt_is_fmt2 - Determine if a SDT address is in format 2&n; * @sdt_word:&t;SDT address&n; *&n; * Return value:&n; * &t;1 if format 2 / 0 if not&n; **/
DECL|function|ipr_sdt_is_fmt2
r_static
r_inline
r_int
id|ipr_sdt_is_fmt2
c_func
(paren
id|u32
id|sdt_word
)paren
(brace
id|u32
id|bar_sel
op_assign
id|IPR_GET_FMT2_BAR_SEL
c_func
(paren
id|sdt_word
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|bar_sel
)paren
(brace
r_case
id|IPR_SDT_FMT2_BAR0_SEL
suffix:colon
r_case
id|IPR_SDT_FMT2_BAR1_SEL
suffix:colon
r_case
id|IPR_SDT_FMT2_BAR2_SEL
suffix:colon
r_case
id|IPR_SDT_FMT2_BAR3_SEL
suffix:colon
r_case
id|IPR_SDT_FMT2_BAR4_SEL
suffix:colon
r_case
id|IPR_SDT_FMT2_BAR5_SEL
suffix:colon
r_case
id|IPR_SDT_FMT2_EXP_ROM_SEL
suffix:colon
r_return
l_int|1
suffix:semicolon
)brace
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
macro_line|#endif
eof
