multiline_comment|/**&n; * @file cpu_buffer.h&n; *&n; * @remark Copyright 2002 OProfile authors&n; * @remark Read the file COPYING&n; *&n; * @author John Levon &lt;levon@movementarian.org&gt;&n; */
macro_line|#ifndef OPROFILE_CPU_BUFFER_H
DECL|macro|OPROFILE_CPU_BUFFER_H
mdefine_line|#define OPROFILE_CPU_BUFFER_H
macro_line|#include &lt;linux/types.h&gt;
macro_line|#include &lt;linux/spinlock.h&gt;
macro_line|#include &lt;linux/workqueue.h&gt;
macro_line|#include &lt;linux/cache.h&gt;
r_struct
id|task_struct
suffix:semicolon
r_int
id|alloc_cpu_buffers
c_func
(paren
r_void
)paren
suffix:semicolon
r_void
id|free_cpu_buffers
c_func
(paren
r_void
)paren
suffix:semicolon
r_void
id|start_cpu_work
c_func
(paren
r_void
)paren
suffix:semicolon
r_void
id|end_cpu_work
c_func
(paren
r_void
)paren
suffix:semicolon
multiline_comment|/* CPU buffer is composed of such entries (which are&n; * also used for context switch notes)&n; */
DECL|struct|op_sample
r_struct
id|op_sample
(brace
DECL|member|eip
r_int
r_int
id|eip
suffix:semicolon
DECL|member|event
r_int
r_int
id|event
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|oprofile_cpu_buffer
r_struct
id|oprofile_cpu_buffer
(brace
DECL|member|head_pos
r_volatile
r_int
r_int
id|head_pos
suffix:semicolon
DECL|member|tail_pos
r_volatile
r_int
r_int
id|tail_pos
suffix:semicolon
DECL|member|buffer_size
r_int
r_int
id|buffer_size
suffix:semicolon
DECL|member|last_task
r_struct
id|task_struct
op_star
id|last_task
suffix:semicolon
DECL|member|last_is_kernel
r_int
id|last_is_kernel
suffix:semicolon
DECL|member|tracing
r_int
id|tracing
suffix:semicolon
DECL|member|buffer
r_struct
id|op_sample
op_star
id|buffer
suffix:semicolon
DECL|member|sample_received
r_int
r_int
id|sample_received
suffix:semicolon
DECL|member|sample_lost_overflow
r_int
r_int
id|sample_lost_overflow
suffix:semicolon
DECL|member|backtrace_aborted
r_int
r_int
id|backtrace_aborted
suffix:semicolon
DECL|member|cpu
r_int
id|cpu
suffix:semicolon
DECL|member|work
r_struct
id|work_struct
id|work
suffix:semicolon
DECL|variable|____cacheline_aligned
)brace
id|____cacheline_aligned
suffix:semicolon
r_extern
r_struct
id|oprofile_cpu_buffer
id|cpu_buffer
(braket
)braket
suffix:semicolon
r_void
id|cpu_buffer_reset
c_func
(paren
r_struct
id|oprofile_cpu_buffer
op_star
id|cpu_buf
)paren
suffix:semicolon
multiline_comment|/* transient events for the CPU buffer -&gt; event buffer */
DECL|macro|CPU_IS_KERNEL
mdefine_line|#define CPU_IS_KERNEL 1
DECL|macro|CPU_TRACE_BEGIN
mdefine_line|#define CPU_TRACE_BEGIN 2
macro_line|#endif /* OPROFILE_CPU_BUFFER_H */
eof
