multiline_comment|/*&n; * linux/drivers/s390/net/qeth_tso.h ($Revision: 1.4 $)&n; *&n; * Header file for qeth TCP Segmentation Offload support.&n; *&n; * Copyright 2004 IBM Corporation&n; *&n; *    Author(s): Frank Pavlic &lt;pavlic@de.ibm.com&gt;&n; *&n; *    $Revision: 1.4 $&t; $Date: 2005/03/24 09:04:18 $&n; *&n; */
macro_line|#ifndef __QETH_TSO_H__
DECL|macro|__QETH_TSO_H__
mdefine_line|#define __QETH_TSO_H__
r_extern
r_int
id|qeth_tso_send_packet
c_func
(paren
r_struct
id|qeth_card
op_star
comma
r_struct
id|sk_buff
op_star
comma
r_struct
id|qeth_qdio_out_q
op_star
comma
r_int
comma
r_int
)paren
suffix:semicolon
DECL|struct|qeth_hdr_ext_tso
r_struct
id|qeth_hdr_ext_tso
(brace
DECL|member|hdr_tot_len
id|__u16
id|hdr_tot_len
suffix:semicolon
DECL|member|imb_hdr_no
id|__u8
id|imb_hdr_no
suffix:semicolon
DECL|member|reserved
id|__u8
id|reserved
suffix:semicolon
DECL|member|hdr_type
id|__u8
id|hdr_type
suffix:semicolon
DECL|member|hdr_version
id|__u8
id|hdr_version
suffix:semicolon
DECL|member|hdr_len
id|__u16
id|hdr_len
suffix:semicolon
DECL|member|payload_len
id|__u32
id|payload_len
suffix:semicolon
DECL|member|mss
id|__u16
id|mss
suffix:semicolon
DECL|member|dg_hdr_len
id|__u16
id|dg_hdr_len
suffix:semicolon
DECL|member|padding
id|__u8
id|padding
(braket
l_int|16
)braket
suffix:semicolon
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
suffix:semicolon
DECL|struct|qeth_hdr_tso
r_struct
id|qeth_hdr_tso
(brace
DECL|member|hdr
r_struct
id|qeth_hdr
id|hdr
suffix:semicolon
multiline_comment|/*hdr-&gt;hdr.l3.xxx*/
DECL|member|ext
r_struct
id|qeth_hdr_ext_tso
id|ext
suffix:semicolon
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
suffix:semicolon
multiline_comment|/*some helper functions*/
r_static
r_inline
r_int
DECL|function|qeth_get_elements_no
id|qeth_get_elements_no
c_func
(paren
r_struct
id|qeth_card
op_star
id|card
comma
r_void
op_star
id|hdr
comma
r_struct
id|sk_buff
op_star
id|skb
)paren
(brace
r_int
id|elements_needed
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|skb_shinfo
c_func
(paren
id|skb
)paren
op_member_access_from_pointer
id|nr_frags
OG
l_int|0
)paren
id|elements_needed
op_assign
(paren
id|skb_shinfo
c_func
(paren
id|skb
)paren
op_member_access_from_pointer
id|nr_frags
op_plus
l_int|1
)paren
suffix:semicolon
r_if
c_cond
(paren
id|elements_needed
op_eq
l_int|0
)paren
id|elements_needed
op_assign
l_int|1
op_plus
(paren
(paren
(paren
(paren
(paren
r_int
r_int
)paren
id|hdr
)paren
op_mod
id|PAGE_SIZE
)paren
op_plus
id|skb-&gt;len
)paren
op_rshift
id|PAGE_SHIFT
)paren
suffix:semicolon
r_if
c_cond
(paren
id|elements_needed
OG
id|QETH_MAX_BUFFER_ELEMENTS
c_func
(paren
id|card
)paren
)paren
(brace
id|PRINT_ERR
c_func
(paren
l_string|&quot;qeth_do_send_packet: invalid size of &quot;
l_string|&quot;IP packet. Discarded.&quot;
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
r_return
id|elements_needed
suffix:semicolon
)brace
macro_line|#endif /* __QETH_TSO_H__ */
eof
