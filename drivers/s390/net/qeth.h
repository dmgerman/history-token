macro_line|#ifndef __QETH_H__
DECL|macro|__QETH_H__
mdefine_line|#define __QETH_H__
macro_line|#include &lt;linux/if.h&gt;
macro_line|#include &lt;linux/if_arp.h&gt;
macro_line|#include &lt;linux/if_tr.h&gt;
macro_line|#include &lt;linux/trdevice.h&gt;
macro_line|#include &lt;linux/etherdevice.h&gt;
macro_line|#include &lt;linux/if_vlan.h&gt;
macro_line|#include &lt;net/ipv6.h&gt;
macro_line|#include &lt;linux/in6.h&gt;
macro_line|#include &lt;net/if_inet6.h&gt;
macro_line|#include &lt;net/addrconf.h&gt;
macro_line|#include &lt;linux/bitops.h&gt;
macro_line|#include &lt;asm/debug.h&gt;
macro_line|#include &lt;asm/qdio.h&gt;
macro_line|#include &lt;asm/ccwdev.h&gt;
macro_line|#include &lt;asm/ccwgroup.h&gt;
macro_line|#include &quot;qeth_mpc.h&quot;
DECL|macro|VERSION_QETH_H
mdefine_line|#define VERSION_QETH_H &t;&t;&quot;$Revision: 1.132 $&quot;
macro_line|#ifdef CONFIG_QETH_IPV6
DECL|macro|QETH_VERSION_IPV6
mdefine_line|#define QETH_VERSION_IPV6 &t;&quot;:IPv6&quot;
macro_line|#else
DECL|macro|QETH_VERSION_IPV6
mdefine_line|#define QETH_VERSION_IPV6 &t;&quot;&quot;
macro_line|#endif
macro_line|#ifdef CONFIG_QETH_VLAN
DECL|macro|QETH_VERSION_VLAN
mdefine_line|#define QETH_VERSION_VLAN &t;&quot;:VLAN&quot;
macro_line|#else
DECL|macro|QETH_VERSION_VLAN
mdefine_line|#define QETH_VERSION_VLAN &t;&quot;&quot;
macro_line|#endif
multiline_comment|/**&n; * Debug Facility stuff&n; */
DECL|macro|QETH_DBF_SETUP_NAME
mdefine_line|#define QETH_DBF_SETUP_NAME &quot;qeth_setup&quot;
DECL|macro|QETH_DBF_SETUP_LEN
mdefine_line|#define QETH_DBF_SETUP_LEN 8
DECL|macro|QETH_DBF_SETUP_INDEX
mdefine_line|#define QETH_DBF_SETUP_INDEX 3
DECL|macro|QETH_DBF_SETUP_NR_AREAS
mdefine_line|#define QETH_DBF_SETUP_NR_AREAS 1
DECL|macro|QETH_DBF_SETUP_LEVEL
mdefine_line|#define QETH_DBF_SETUP_LEVEL 5
DECL|macro|QETH_DBF_MISC_NAME
mdefine_line|#define QETH_DBF_MISC_NAME &quot;qeth_misc&quot;
DECL|macro|QETH_DBF_MISC_LEN
mdefine_line|#define QETH_DBF_MISC_LEN 128
DECL|macro|QETH_DBF_MISC_INDEX
mdefine_line|#define QETH_DBF_MISC_INDEX 1
DECL|macro|QETH_DBF_MISC_NR_AREAS
mdefine_line|#define QETH_DBF_MISC_NR_AREAS 1
DECL|macro|QETH_DBF_MISC_LEVEL
mdefine_line|#define QETH_DBF_MISC_LEVEL 2
DECL|macro|QETH_DBF_DATA_NAME
mdefine_line|#define QETH_DBF_DATA_NAME &quot;qeth_data&quot;
DECL|macro|QETH_DBF_DATA_LEN
mdefine_line|#define QETH_DBF_DATA_LEN 96
DECL|macro|QETH_DBF_DATA_INDEX
mdefine_line|#define QETH_DBF_DATA_INDEX 3
DECL|macro|QETH_DBF_DATA_NR_AREAS
mdefine_line|#define QETH_DBF_DATA_NR_AREAS 1
DECL|macro|QETH_DBF_DATA_LEVEL
mdefine_line|#define QETH_DBF_DATA_LEVEL 2
DECL|macro|QETH_DBF_CONTROL_NAME
mdefine_line|#define QETH_DBF_CONTROL_NAME &quot;qeth_control&quot;
DECL|macro|QETH_DBF_CONTROL_LEN
mdefine_line|#define QETH_DBF_CONTROL_LEN 256
DECL|macro|QETH_DBF_CONTROL_INDEX
mdefine_line|#define QETH_DBF_CONTROL_INDEX 3
DECL|macro|QETH_DBF_CONTROL_NR_AREAS
mdefine_line|#define QETH_DBF_CONTROL_NR_AREAS 2
DECL|macro|QETH_DBF_CONTROL_LEVEL
mdefine_line|#define QETH_DBF_CONTROL_LEVEL 5
DECL|macro|QETH_DBF_TRACE_NAME
mdefine_line|#define QETH_DBF_TRACE_NAME &quot;qeth_trace&quot;
DECL|macro|QETH_DBF_TRACE_LEN
mdefine_line|#define QETH_DBF_TRACE_LEN 8
DECL|macro|QETH_DBF_TRACE_INDEX
mdefine_line|#define QETH_DBF_TRACE_INDEX 2
DECL|macro|QETH_DBF_TRACE_NR_AREAS
mdefine_line|#define QETH_DBF_TRACE_NR_AREAS 2
DECL|macro|QETH_DBF_TRACE_LEVEL
mdefine_line|#define QETH_DBF_TRACE_LEVEL 5
DECL|macro|QETH_DBF_SENSE_NAME
mdefine_line|#define QETH_DBF_SENSE_NAME &quot;qeth_sense&quot;
DECL|macro|QETH_DBF_SENSE_LEN
mdefine_line|#define QETH_DBF_SENSE_LEN 64
DECL|macro|QETH_DBF_SENSE_INDEX
mdefine_line|#define QETH_DBF_SENSE_INDEX 1
DECL|macro|QETH_DBF_SENSE_NR_AREAS
mdefine_line|#define QETH_DBF_SENSE_NR_AREAS 1
DECL|macro|QETH_DBF_SENSE_LEVEL
mdefine_line|#define QETH_DBF_SENSE_LEVEL 2
DECL|macro|QETH_DBF_QERR_NAME
mdefine_line|#define QETH_DBF_QERR_NAME &quot;qeth_qerr&quot;
DECL|macro|QETH_DBF_QERR_LEN
mdefine_line|#define QETH_DBF_QERR_LEN 8
DECL|macro|QETH_DBF_QERR_INDEX
mdefine_line|#define QETH_DBF_QERR_INDEX 1
DECL|macro|QETH_DBF_QERR_NR_AREAS
mdefine_line|#define QETH_DBF_QERR_NR_AREAS 2
DECL|macro|QETH_DBF_QERR_LEVEL
mdefine_line|#define QETH_DBF_QERR_LEVEL 2
DECL|macro|QETH_DBF_TEXT
mdefine_line|#define QETH_DBF_TEXT(name,level,text) &bslash;&n;&t;do { &bslash;&n;&t;&t;debug_text_event(qeth_dbf_##name,level,text); &bslash;&n;&t;} while (0)
DECL|macro|QETH_DBF_HEX
mdefine_line|#define QETH_DBF_HEX(name,level,addr,len) &bslash;&n;&t;do { &bslash;&n;&t;&t;debug_event(qeth_dbf_##name,level,(void*)(addr),len); &bslash;&n;&t;} while (0)
id|DECLARE_PER_CPU
c_func
(paren
r_char
(braket
l_int|256
)braket
comma
id|qeth_dbf_txt_buf
)paren
suffix:semicolon
DECL|macro|QETH_DBF_TEXT_
mdefine_line|#define QETH_DBF_TEXT_(name,level,text...)&t;&t;&t;&t;&bslash;&n;&t;do {&t;&t;&t;&t;&t;&t;&t;&t;&bslash;&n;&t;&t;char* dbf_txt_buf = get_cpu_var(qeth_dbf_txt_buf);&t;&bslash;&n;&t;&t;sprintf(dbf_txt_buf, text);&t;&t;&t;  &t;&bslash;&n;&t;&t;debug_text_event(qeth_dbf_##name,level,dbf_txt_buf);&t;&bslash;&n;&t;&t;put_cpu_var(qeth_dbf_txt_buf);&t;&t;&t;&t;&bslash;&n;&t;} while (0)
DECL|macro|QETH_DBF_SPRINTF
mdefine_line|#define QETH_DBF_SPRINTF(name,level,text...) &bslash;&n;&t;do { &bslash;&n;&t;&t;debug_sprintf_event(qeth_dbf_trace, level, ##text ); &bslash;&n;&t;&t;debug_sprintf_event(qeth_dbf_trace, level, text ); &bslash;&n;&t;} while (0)
multiline_comment|/**&n; * some more debug stuff&n; */
DECL|macro|PRINTK_HEADER
mdefine_line|#define PRINTK_HEADER &t;&quot;qeth: &quot;
DECL|macro|HEXDUMP16
mdefine_line|#define HEXDUMP16(importance,header,ptr) &bslash;&n;PRINT_##importance(header &quot;%02x %02x %02x %02x  %02x %02x %02x %02x  &quot; &bslash;&n;&t;&t;   &quot;%02x %02x %02x %02x  %02x %02x %02x %02x&bslash;n&quot;, &bslash;&n;&t;&t;   *(((char*)ptr)),*(((char*)ptr)+1),*(((char*)ptr)+2), &bslash;&n;&t;&t;   *(((char*)ptr)+3),*(((char*)ptr)+4),*(((char*)ptr)+5), &bslash;&n;&t;&t;   *(((char*)ptr)+6),*(((char*)ptr)+7),*(((char*)ptr)+8), &bslash;&n;&t;&t;   *(((char*)ptr)+9),*(((char*)ptr)+10),*(((char*)ptr)+11), &bslash;&n;&t;&t;   *(((char*)ptr)+12),*(((char*)ptr)+13), &bslash;&n;&t;&t;   *(((char*)ptr)+14),*(((char*)ptr)+15)); &bslash;&n;PRINT_##importance(header &quot;%02x %02x %02x %02x  %02x %02x %02x %02x  &quot; &bslash;&n;&t;&t;   &quot;%02x %02x %02x %02x  %02x %02x %02x %02x&bslash;n&quot;, &bslash;&n;&t;&t;   *(((char*)ptr)+16),*(((char*)ptr)+17), &bslash;&n;&t;&t;   *(((char*)ptr)+18),*(((char*)ptr)+19), &bslash;&n;&t;&t;   *(((char*)ptr)+20),*(((char*)ptr)+21), &bslash;&n;&t;&t;   *(((char*)ptr)+22),*(((char*)ptr)+23), &bslash;&n;&t;&t;   *(((char*)ptr)+24),*(((char*)ptr)+25), &bslash;&n;&t;&t;   *(((char*)ptr)+26),*(((char*)ptr)+27), &bslash;&n;&t;&t;   *(((char*)ptr)+28),*(((char*)ptr)+29), &bslash;&n;&t;&t;   *(((char*)ptr)+30),*(((char*)ptr)+31));
r_static
r_inline
r_void
DECL|function|qeth_hex_dump
id|qeth_hex_dump
c_func
(paren
r_int
r_char
op_star
id|buf
comma
r_int
id|len
)paren
(brace
r_int
id|i
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|len
suffix:semicolon
id|i
op_increment
)paren
(brace
r_if
c_cond
(paren
id|i
op_logical_and
op_logical_neg
(paren
id|i
op_mod
l_int|16
)paren
)paren
id|printk
c_func
(paren
l_string|&quot;&bslash;n&quot;
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot;%02x &quot;
comma
op_star
(paren
id|buf
op_plus
id|i
)paren
)paren
suffix:semicolon
)brace
id|printk
c_func
(paren
l_string|&quot;&bslash;n&quot;
)paren
suffix:semicolon
)brace
DECL|macro|SENSE_COMMAND_REJECT_BYTE
mdefine_line|#define SENSE_COMMAND_REJECT_BYTE 0
DECL|macro|SENSE_COMMAND_REJECT_FLAG
mdefine_line|#define SENSE_COMMAND_REJECT_FLAG 0x80
DECL|macro|SENSE_RESETTING_EVENT_BYTE
mdefine_line|#define SENSE_RESETTING_EVENT_BYTE 1
DECL|macro|SENSE_RESETTING_EVENT_FLAG
mdefine_line|#define SENSE_RESETTING_EVENT_FLAG 0x80
DECL|macro|atomic_swap
mdefine_line|#define atomic_swap(a,b) xchg((int *)a.counter, b)
multiline_comment|/*&n; * Common IO related definitions&n; */
r_extern
r_struct
id|device
op_star
id|qeth_root_dev
suffix:semicolon
r_extern
r_struct
id|ccw_driver
id|qeth_ccw_driver
suffix:semicolon
r_extern
r_struct
id|ccwgroup_driver
id|qeth_ccwgroup_driver
suffix:semicolon
DECL|macro|CARD_RDEV
mdefine_line|#define CARD_RDEV(card) card-&gt;read.ccwdev
DECL|macro|CARD_WDEV
mdefine_line|#define CARD_WDEV(card) card-&gt;write.ccwdev
DECL|macro|CARD_DDEV
mdefine_line|#define CARD_DDEV(card) card-&gt;data.ccwdev
DECL|macro|CARD_BUS_ID
mdefine_line|#define CARD_BUS_ID(card) card-&gt;gdev-&gt;dev.bus_id
DECL|macro|CARD_RDEV_ID
mdefine_line|#define CARD_RDEV_ID(card) card-&gt;read.ccwdev-&gt;dev.bus_id
DECL|macro|CARD_WDEV_ID
mdefine_line|#define CARD_WDEV_ID(card) card-&gt;write.ccwdev-&gt;dev.bus_id
DECL|macro|CARD_DDEV_ID
mdefine_line|#define CARD_DDEV_ID(card) card-&gt;data.ccwdev-&gt;dev.bus_id
DECL|macro|CHANNEL_ID
mdefine_line|#define CHANNEL_ID(channel) channel-&gt;ccwdev-&gt;dev.bus_id
DECL|macro|CARD_FROM_CDEV
mdefine_line|#define CARD_FROM_CDEV(cdev) (struct qeth_card *) &bslash;&n;&t;&t;((struct ccwgroup_device *)cdev-&gt;dev.driver_data)&bslash;&n;&t;&t;-&gt;dev.driver_data;
multiline_comment|/**&n; * card stuff&n; */
macro_line|#ifdef CONFIG_QETH_PERF_STATS
DECL|struct|qeth_perf_stats
r_struct
id|qeth_perf_stats
(brace
DECL|member|bufs_rec
r_int
r_int
id|bufs_rec
suffix:semicolon
DECL|member|bufs_sent
r_int
r_int
id|bufs_sent
suffix:semicolon
DECL|member|skbs_sent_pack
r_int
r_int
id|skbs_sent_pack
suffix:semicolon
DECL|member|bufs_sent_pack
r_int
r_int
id|bufs_sent_pack
suffix:semicolon
DECL|member|sc_dp_p
r_int
r_int
id|sc_dp_p
suffix:semicolon
DECL|member|sc_p_dp
r_int
r_int
id|sc_p_dp
suffix:semicolon
multiline_comment|/* qdio_input_handler: number of times called, time spent in */
DECL|member|inbound_start_time
id|__u64
id|inbound_start_time
suffix:semicolon
DECL|member|inbound_cnt
r_int
r_int
id|inbound_cnt
suffix:semicolon
DECL|member|inbound_time
r_int
r_int
id|inbound_time
suffix:semicolon
multiline_comment|/* qeth_send_packet: number of times called, time spent in */
DECL|member|outbound_start_time
id|__u64
id|outbound_start_time
suffix:semicolon
DECL|member|outbound_cnt
r_int
r_int
id|outbound_cnt
suffix:semicolon
DECL|member|outbound_time
r_int
r_int
id|outbound_time
suffix:semicolon
multiline_comment|/* qdio_output_handler: number of times called, time spent in */
DECL|member|outbound_handler_start_time
id|__u64
id|outbound_handler_start_time
suffix:semicolon
DECL|member|outbound_handler_cnt
r_int
r_int
id|outbound_handler_cnt
suffix:semicolon
DECL|member|outbound_handler_time
r_int
r_int
id|outbound_handler_time
suffix:semicolon
multiline_comment|/* number of calls to and time spent in do_QDIO for inbound queue */
DECL|member|inbound_do_qdio_start_time
id|__u64
id|inbound_do_qdio_start_time
suffix:semicolon
DECL|member|inbound_do_qdio_cnt
r_int
r_int
id|inbound_do_qdio_cnt
suffix:semicolon
DECL|member|inbound_do_qdio_time
r_int
r_int
id|inbound_do_qdio_time
suffix:semicolon
multiline_comment|/* number of calls to and time spent in do_QDIO for outbound queues */
DECL|member|outbound_do_qdio_start_time
id|__u64
id|outbound_do_qdio_start_time
suffix:semicolon
DECL|member|outbound_do_qdio_cnt
r_int
r_int
id|outbound_do_qdio_cnt
suffix:semicolon
DECL|member|outbound_do_qdio_time
r_int
r_int
id|outbound_do_qdio_time
suffix:semicolon
)brace
suffix:semicolon
macro_line|#endif /* CONFIG_QETH_PERF_STATS */
multiline_comment|/* Routing stuff */
DECL|struct|qeth_routing_info
r_struct
id|qeth_routing_info
(brace
DECL|member|type
r_enum
id|qeth_routing_types
id|type
suffix:semicolon
)brace
suffix:semicolon
multiline_comment|/* IPA stuff */
DECL|struct|qeth_ipa_info
r_struct
id|qeth_ipa_info
(brace
DECL|member|supported_funcs
id|__u32
id|supported_funcs
suffix:semicolon
DECL|member|enabled_funcs
id|__u32
id|enabled_funcs
suffix:semicolon
)brace
suffix:semicolon
r_static
r_inline
r_int
DECL|function|qeth_is_ipa_supported
id|qeth_is_ipa_supported
c_func
(paren
r_struct
id|qeth_ipa_info
op_star
id|ipa
comma
r_enum
id|qeth_ipa_funcs
id|func
)paren
(brace
r_return
(paren
id|ipa-&gt;supported_funcs
op_amp
id|func
)paren
suffix:semicolon
)brace
r_static
r_inline
r_int
DECL|function|qeth_is_ipa_enabled
id|qeth_is_ipa_enabled
c_func
(paren
r_struct
id|qeth_ipa_info
op_star
id|ipa
comma
r_enum
id|qeth_ipa_funcs
id|func
)paren
(brace
r_return
(paren
id|ipa-&gt;supported_funcs
op_amp
id|ipa-&gt;enabled_funcs
op_amp
id|func
)paren
suffix:semicolon
)brace
DECL|macro|qeth_adp_supported
mdefine_line|#define qeth_adp_supported(c,f) &bslash;&n;&t;qeth_is_ipa_supported(&amp;c-&gt;options.adp, f)
DECL|macro|qeth_adp_enabled
mdefine_line|#define qeth_adp_enabled(c,f) &bslash;&n;&t;qeth_is_ipa_enabled(&amp;c-&gt;options.adp, f)
DECL|macro|qeth_is_supported
mdefine_line|#define qeth_is_supported(c,f) &bslash;&n;&t;qeth_is_ipa_supported(&amp;c-&gt;options.ipa4, f)
DECL|macro|qeth_is_enabled
mdefine_line|#define qeth_is_enabled(c,f) &bslash;&n;&t;qeth_is_ipa_enabled(&amp;c-&gt;options.ipa4, f)
macro_line|#ifdef CONFIG_QETH_IPV6
DECL|macro|qeth_is_supported6
mdefine_line|#define qeth_is_supported6(c,f) &bslash;&n;&t;qeth_is_ipa_supported(&amp;c-&gt;options.ipa6, f)
DECL|macro|qeth_is_enabled6
mdefine_line|#define qeth_is_enabled6(c,f) &bslash;&n;&t;qeth_is_ipa_enabled(&amp;c-&gt;options.ipa6, f)
macro_line|#else /* CONFIG_QETH_IPV6 */
DECL|macro|qeth_is_supported6
mdefine_line|#define qeth_is_supported6(c,f) 0
DECL|macro|qeth_is_enabled6
mdefine_line|#define qeth_is_enabled6(c,f) 0
macro_line|#endif /* CONFIG_QETH_IPV6 */
DECL|macro|qeth_is_ipafunc_supported
mdefine_line|#define qeth_is_ipafunc_supported(c,prot,f) &bslash;&n;&t; (prot==QETH_PROT_IPV6)? qeth_is_supported6(c,f):qeth_is_supported(c,f)
DECL|macro|qeth_is_ipafunc_enabled
mdefine_line|#define qeth_is_ipafunc_enabled(c,prot,f) &bslash;&n;&t; (prot==QETH_PROT_IPV6)? qeth_is_enabled6(c,f):qeth_is_enabled(c,f)
DECL|macro|QETH_IDX_FUNC_LEVEL_OSAE_ENA_IPAT
mdefine_line|#define QETH_IDX_FUNC_LEVEL_OSAE_ENA_IPAT 0x0101
DECL|macro|QETH_IDX_FUNC_LEVEL_OSAE_DIS_IPAT
mdefine_line|#define QETH_IDX_FUNC_LEVEL_OSAE_DIS_IPAT 0x0101
DECL|macro|QETH_IDX_FUNC_LEVEL_IQD_ENA_IPAT
mdefine_line|#define QETH_IDX_FUNC_LEVEL_IQD_ENA_IPAT 0x4108
DECL|macro|QETH_IDX_FUNC_LEVEL_IQD_DIS_IPAT
mdefine_line|#define QETH_IDX_FUNC_LEVEL_IQD_DIS_IPAT 0x5108
DECL|macro|QETH_MODELLIST_ARRAY
mdefine_line|#define QETH_MODELLIST_ARRAY &bslash;&n;&t;{{0x1731,0x01,0x1732,0x01,QETH_CARD_TYPE_OSAE,1, &bslash;&n;&t;QETH_IDX_FUNC_LEVEL_OSAE_ENA_IPAT, &bslash;&n;&t;QETH_IDX_FUNC_LEVEL_OSAE_DIS_IPAT, &bslash;&n;&t;QETH_MAX_QUEUES,0}, &bslash;&n;&t;{0x1731,0x05,0x1732,0x05,QETH_CARD_TYPE_IQD,0, &bslash;&n;&t;QETH_IDX_FUNC_LEVEL_IQD_ENA_IPAT, &bslash;&n;&t;QETH_IDX_FUNC_LEVEL_IQD_DIS_IPAT, &bslash;&n;&t;QETH_MAX_QUEUES,0x103}, &bslash;&n;&t;{0,0,0,0,0,0,0,0,0}}
DECL|macro|QETH_REAL_CARD
mdefine_line|#define QETH_REAL_CARD&t;&t;1
DECL|macro|QETH_VLAN_CARD
mdefine_line|#define QETH_VLAN_CARD&t;&t;2
DECL|macro|QETH_BUFSIZE
mdefine_line|#define QETH_BUFSIZE&t; &t;4096
multiline_comment|/**&n; * some more defs&n; */
DECL|macro|IF_NAME_LEN
mdefine_line|#define IF_NAME_LEN&t; &t;16
DECL|macro|QETH_TX_TIMEOUT
mdefine_line|#define QETH_TX_TIMEOUT&t;&t;100 * HZ
DECL|macro|QETH_HEADER_SIZE
mdefine_line|#define QETH_HEADER_SIZE&t;32
DECL|macro|MAX_PORTNO
mdefine_line|#define MAX_PORTNO &t;&t;15
DECL|macro|QETH_FAKE_LL_LEN
mdefine_line|#define QETH_FAKE_LL_LEN &t;ETH_HLEN
DECL|macro|QETH_FAKE_LL_V6_ADDR_POS
mdefine_line|#define QETH_FAKE_LL_V6_ADDR_POS 24
multiline_comment|/*IPv6 address autoconfiguration stuff*/
DECL|macro|UNIQUE_ID_IF_CREATE_ADDR_FAILED
mdefine_line|#define UNIQUE_ID_IF_CREATE_ADDR_FAILED 0xfffe
DECL|macro|UNIQUE_ID_NOT_BY_CARD
mdefine_line|#define UNIQUE_ID_NOT_BY_CARD &t;&t;0x10000
multiline_comment|/*****************************************************************************/
multiline_comment|/* QDIO queue and buffer handling                                            */
multiline_comment|/*****************************************************************************/
DECL|macro|QETH_MAX_QUEUES
mdefine_line|#define QETH_MAX_QUEUES 4
DECL|macro|QETH_IN_BUF_SIZE_DEFAULT
mdefine_line|#define QETH_IN_BUF_SIZE_DEFAULT 65536
DECL|macro|QETH_IN_BUF_COUNT_DEFAULT
mdefine_line|#define QETH_IN_BUF_COUNT_DEFAULT 16
DECL|macro|QETH_IN_BUF_COUNT_MIN
mdefine_line|#define QETH_IN_BUF_COUNT_MIN 8
DECL|macro|QETH_IN_BUF_COUNT_MAX
mdefine_line|#define QETH_IN_BUF_COUNT_MAX 128
DECL|macro|QETH_MAX_BUFFER_ELEMENTS
mdefine_line|#define QETH_MAX_BUFFER_ELEMENTS(card) ((card)-&gt;qdio.in_buf_size &gt;&gt; 12)
DECL|macro|QETH_IN_BUF_REQUEUE_THRESHOLD
mdefine_line|#define QETH_IN_BUF_REQUEUE_THRESHOLD(card) &bslash;&n;&t;&t;((card)-&gt;qdio.in_buf_pool.buf_count / 2)
multiline_comment|/* buffers we have to be behind before we get a PCI */
DECL|macro|QETH_PCI_THRESHOLD_A
mdefine_line|#define QETH_PCI_THRESHOLD_A(card) ((card)-&gt;qdio.in_buf_pool.buf_count+1)
multiline_comment|/*enqueued free buffers left before we get a PCI*/
DECL|macro|QETH_PCI_THRESHOLD_B
mdefine_line|#define QETH_PCI_THRESHOLD_B(card) 0
multiline_comment|/*not used unless the microcode gets patched*/
DECL|macro|QETH_PCI_TIMER_VALUE
mdefine_line|#define QETH_PCI_TIMER_VALUE(card) 3
DECL|macro|QETH_MIN_INPUT_THRESHOLD
mdefine_line|#define QETH_MIN_INPUT_THRESHOLD 1
DECL|macro|QETH_MAX_INPUT_THRESHOLD
mdefine_line|#define QETH_MAX_INPUT_THRESHOLD 500
DECL|macro|QETH_MIN_OUTPUT_THRESHOLD
mdefine_line|#define QETH_MIN_OUTPUT_THRESHOLD 1
DECL|macro|QETH_MAX_OUTPUT_THRESHOLD
mdefine_line|#define QETH_MAX_OUTPUT_THRESHOLD 300
multiline_comment|/* priority queing */
DECL|macro|QETH_PRIOQ_DEFAULT
mdefine_line|#define QETH_PRIOQ_DEFAULT QETH_NO_PRIO_QUEUEING
DECL|macro|QETH_DEFAULT_QUEUE
mdefine_line|#define QETH_DEFAULT_QUEUE    2
DECL|macro|QETH_NO_PRIO_QUEUEING
mdefine_line|#define QETH_NO_PRIO_QUEUEING 0
DECL|macro|QETH_PRIO_Q_ING_PREC
mdefine_line|#define QETH_PRIO_Q_ING_PREC  1
DECL|macro|QETH_PRIO_Q_ING_TOS
mdefine_line|#define QETH_PRIO_Q_ING_TOS   2
DECL|macro|IP_TOS_LOWDELAY
mdefine_line|#define IP_TOS_LOWDELAY 0x10
DECL|macro|IP_TOS_HIGHTHROUGHPUT
mdefine_line|#define IP_TOS_HIGHTHROUGHPUT 0x08
DECL|macro|IP_TOS_HIGHRELIABILITY
mdefine_line|#define IP_TOS_HIGHRELIABILITY 0x04
DECL|macro|IP_TOS_NOTIMPORTANT
mdefine_line|#define IP_TOS_NOTIMPORTANT 0x02
multiline_comment|/* Packing */
DECL|macro|QETH_LOW_WATERMARK_PACK
mdefine_line|#define QETH_LOW_WATERMARK_PACK  2
DECL|macro|QETH_HIGH_WATERMARK_PACK
mdefine_line|#define QETH_HIGH_WATERMARK_PACK 5
DECL|macro|QETH_WATERMARK_PACK_FUZZ
mdefine_line|#define QETH_WATERMARK_PACK_FUZZ 1
DECL|macro|QETH_IP_HEADER_SIZE
mdefine_line|#define QETH_IP_HEADER_SIZE 40
DECL|struct|qeth_hdr_layer3
r_struct
id|qeth_hdr_layer3
(brace
DECL|member|id
id|__u8
id|id
suffix:semicolon
DECL|member|flags
id|__u8
id|flags
suffix:semicolon
DECL|member|inbound_checksum
id|__u16
id|inbound_checksum
suffix:semicolon
DECL|member|token
id|__u32
id|token
suffix:semicolon
DECL|member|length
id|__u16
id|length
suffix:semicolon
DECL|member|vlan_prio
id|__u8
id|vlan_prio
suffix:semicolon
DECL|member|ext_flags
id|__u8
id|ext_flags
suffix:semicolon
DECL|member|vlan_id
id|__u16
id|vlan_id
suffix:semicolon
DECL|member|frame_offset
id|__u16
id|frame_offset
suffix:semicolon
DECL|member|dest_addr
id|__u8
id|dest_addr
(braket
l_int|16
)braket
suffix:semicolon
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
suffix:semicolon
DECL|struct|qeth_hdr_layer2
r_struct
id|qeth_hdr_layer2
(brace
DECL|member|id
id|__u8
id|id
suffix:semicolon
DECL|member|flags
id|__u8
id|flags
(braket
l_int|3
)braket
suffix:semicolon
DECL|member|port_no
id|__u8
id|port_no
suffix:semicolon
DECL|member|hdr_length
id|__u8
id|hdr_length
suffix:semicolon
DECL|member|pkt_length
id|__u16
id|pkt_length
suffix:semicolon
DECL|member|seq_no
id|__u16
id|seq_no
suffix:semicolon
DECL|member|vlan_id
id|__u16
id|vlan_id
suffix:semicolon
DECL|member|reserved
id|__u32
id|reserved
suffix:semicolon
DECL|member|reserved2
id|__u8
id|reserved2
(braket
l_int|16
)braket
suffix:semicolon
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
suffix:semicolon
DECL|struct|qeth_hdr
r_struct
id|qeth_hdr
(brace
r_union
(brace
DECL|member|l2
r_struct
id|qeth_hdr_layer2
id|l2
suffix:semicolon
DECL|member|l3
r_struct
id|qeth_hdr_layer3
id|l3
suffix:semicolon
DECL|member|hdr
)brace
id|hdr
suffix:semicolon
)brace
id|__attribute__
(paren
(paren
id|packed
)paren
)paren
suffix:semicolon
multiline_comment|/* flags for qeth_hdr.flags */
DECL|macro|QETH_HDR_PASSTHRU
mdefine_line|#define QETH_HDR_PASSTHRU 0x10
DECL|macro|QETH_HDR_IPV6
mdefine_line|#define QETH_HDR_IPV6     0x80
DECL|macro|QETH_HDR_CAST_MASK
mdefine_line|#define QETH_HDR_CAST_MASK 0x07
DECL|enum|qeth_cast_flags
r_enum
id|qeth_cast_flags
(brace
DECL|enumerator|QETH_CAST_UNICAST
id|QETH_CAST_UNICAST
op_assign
l_int|0x06
comma
DECL|enumerator|QETH_CAST_MULTICAST
id|QETH_CAST_MULTICAST
op_assign
l_int|0x04
comma
DECL|enumerator|QETH_CAST_BROADCAST
id|QETH_CAST_BROADCAST
op_assign
l_int|0x05
comma
DECL|enumerator|QETH_CAST_ANYCAST
id|QETH_CAST_ANYCAST
op_assign
l_int|0x07
comma
DECL|enumerator|QETH_CAST_NOCAST
id|QETH_CAST_NOCAST
op_assign
l_int|0x00
comma
)brace
suffix:semicolon
DECL|enum|qeth_layer2_frame_flags
r_enum
id|qeth_layer2_frame_flags
(brace
DECL|enumerator|QETH_LAYER2_FLAG_MULTICAST
id|QETH_LAYER2_FLAG_MULTICAST
op_assign
l_int|0x01
comma
DECL|enumerator|QETH_LAYER2_FLAG_BROADCAST
id|QETH_LAYER2_FLAG_BROADCAST
op_assign
l_int|0x02
comma
DECL|enumerator|QETH_LAYER2_FLAG_UNICAST
id|QETH_LAYER2_FLAG_UNICAST
op_assign
l_int|0x04
comma
DECL|enumerator|QETH_LAYER2_FLAG_VLAN
id|QETH_LAYER2_FLAG_VLAN
op_assign
l_int|0x10
comma
)brace
suffix:semicolon
DECL|enum|qeth_header_ids
r_enum
id|qeth_header_ids
(brace
DECL|enumerator|QETH_HEADER_TYPE_LAYER3
id|QETH_HEADER_TYPE_LAYER3
op_assign
l_int|0x01
comma
DECL|enumerator|QETH_HEADER_TYPE_LAYER2
id|QETH_HEADER_TYPE_LAYER2
op_assign
l_int|0x02
comma
)brace
suffix:semicolon
multiline_comment|/* flags for qeth_hdr.ext_flags */
DECL|macro|QETH_HDR_EXT_VLAN_FRAME
mdefine_line|#define QETH_HDR_EXT_VLAN_FRAME       0x01
DECL|macro|QETH_HDR_EXT_TOKEN_ID
mdefine_line|#define QETH_HDR_EXT_TOKEN_ID         0x02
DECL|macro|QETH_HDR_EXT_INCLUDE_VLAN_TAG
mdefine_line|#define QETH_HDR_EXT_INCLUDE_VLAN_TAG 0x04
DECL|macro|QETH_HDR_EXT_SRC_MAC_ADDR
mdefine_line|#define QETH_HDR_EXT_SRC_MAC_ADDR     0x08
DECL|macro|QETH_HDR_EXT_CSUM_HDR_REQ
mdefine_line|#define QETH_HDR_EXT_CSUM_HDR_REQ     0x10
DECL|macro|QETH_HDR_EXT_CSUM_TRANSP_REQ
mdefine_line|#define QETH_HDR_EXT_CSUM_TRANSP_REQ  0x20
r_static
r_inline
r_int
DECL|function|qeth_is_last_sbale
id|qeth_is_last_sbale
c_func
(paren
r_struct
id|qdio_buffer_element
op_star
id|sbale
)paren
(brace
r_return
(paren
id|sbale-&gt;flags
op_amp
id|SBAL_FLAGS_LAST_ENTRY
)paren
suffix:semicolon
)brace
DECL|enum|qeth_qdio_buffer_states
r_enum
id|qeth_qdio_buffer_states
(brace
multiline_comment|/*&n;&t; * inbound: read out by driver; owned by hardware in order to be filled&n;&t; * outbound: owned by driver in order to be filled&n;&t; */
DECL|enumerator|QETH_QDIO_BUF_EMPTY
id|QETH_QDIO_BUF_EMPTY
comma
multiline_comment|/*&n;&t; * inbound: filled by hardware; owned by driver in order to be read out&n;&t; * outbound: filled by driver; owned by hardware in order to be sent&n;&t; */
DECL|enumerator|QETH_QDIO_BUF_PRIMED
id|QETH_QDIO_BUF_PRIMED
comma
)brace
suffix:semicolon
DECL|enum|qeth_qdio_info_states
r_enum
id|qeth_qdio_info_states
(brace
DECL|enumerator|QETH_QDIO_UNINITIALIZED
id|QETH_QDIO_UNINITIALIZED
comma
DECL|enumerator|QETH_QDIO_ALLOCATED
id|QETH_QDIO_ALLOCATED
comma
DECL|enumerator|QETH_QDIO_ESTABLISHED
id|QETH_QDIO_ESTABLISHED
comma
)brace
suffix:semicolon
DECL|struct|qeth_buffer_pool_entry
r_struct
id|qeth_buffer_pool_entry
(brace
DECL|member|list
r_struct
id|list_head
id|list
suffix:semicolon
DECL|member|init_list
r_struct
id|list_head
id|init_list
suffix:semicolon
DECL|member|elements
r_void
op_star
id|elements
(braket
id|QDIO_MAX_ELEMENTS_PER_BUFFER
)braket
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|qeth_qdio_buffer_pool
r_struct
id|qeth_qdio_buffer_pool
(brace
DECL|member|entry_list
r_struct
id|list_head
id|entry_list
suffix:semicolon
DECL|member|buf_count
r_int
id|buf_count
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|qeth_qdio_buffer
r_struct
id|qeth_qdio_buffer
(brace
DECL|member|buffer
r_struct
id|qdio_buffer
op_star
id|buffer
suffix:semicolon
DECL|member|state
r_volatile
r_enum
id|qeth_qdio_buffer_states
id|state
suffix:semicolon
multiline_comment|/* the buffer pool entry currently associated to this buffer */
DECL|member|pool_entry
r_struct
id|qeth_buffer_pool_entry
op_star
id|pool_entry
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|qeth_qdio_q
r_struct
id|qeth_qdio_q
(brace
DECL|member|qdio_bufs
r_struct
id|qdio_buffer
id|qdio_bufs
(braket
id|QDIO_MAX_BUFFERS_PER_Q
)braket
suffix:semicolon
DECL|member|bufs
r_struct
id|qeth_qdio_buffer
id|bufs
(braket
id|QDIO_MAX_BUFFERS_PER_Q
)braket
suffix:semicolon
multiline_comment|/*&n;&t; * buf_to_init means &quot;buffer must be initialized by driver and must&n;&t; * be made available for hardware&quot; -&gt; state is set to EMPTY&n;&t; */
DECL|member|next_buf_to_init
r_volatile
r_int
id|next_buf_to_init
suffix:semicolon
)brace
id|__attribute__
(paren
(paren
id|aligned
c_func
(paren
l_int|256
)paren
)paren
)paren
suffix:semicolon
DECL|struct|qeth_qdio_out_buffer
r_struct
id|qeth_qdio_out_buffer
(brace
DECL|member|buffer
r_struct
id|qdio_buffer
op_star
id|buffer
suffix:semicolon
DECL|member|state
id|atomic_t
id|state
suffix:semicolon
DECL|member|next_element_to_fill
r_volatile
r_int
id|next_element_to_fill
suffix:semicolon
DECL|member|skb_list
r_struct
id|sk_buff_head
id|skb_list
suffix:semicolon
)brace
suffix:semicolon
r_struct
id|qeth_card
suffix:semicolon
DECL|enum|qeth_out_q_states
r_enum
id|qeth_out_q_states
(brace
DECL|enumerator|QETH_OUT_Q_UNLOCKED
id|QETH_OUT_Q_UNLOCKED
comma
DECL|enumerator|QETH_OUT_Q_LOCKED
id|QETH_OUT_Q_LOCKED
comma
DECL|enumerator|QETH_OUT_Q_LOCKED_FLUSH
id|QETH_OUT_Q_LOCKED_FLUSH
comma
)brace
suffix:semicolon
DECL|struct|qeth_qdio_out_q
r_struct
id|qeth_qdio_out_q
(brace
DECL|member|qdio_bufs
r_struct
id|qdio_buffer
id|qdio_bufs
(braket
id|QDIO_MAX_BUFFERS_PER_Q
)braket
suffix:semicolon
DECL|member|bufs
r_struct
id|qeth_qdio_out_buffer
id|bufs
(braket
id|QDIO_MAX_BUFFERS_PER_Q
)braket
suffix:semicolon
DECL|member|queue_no
r_int
id|queue_no
suffix:semicolon
DECL|member|card
r_struct
id|qeth_card
op_star
id|card
suffix:semicolon
DECL|member|state
id|atomic_t
id|state
suffix:semicolon
DECL|member|do_pack
r_volatile
r_int
id|do_pack
suffix:semicolon
multiline_comment|/*&n;&t; * index of buffer to be filled by driver; state EMPTY or PACKING&n;&t; */
DECL|member|next_buf_to_fill
r_volatile
r_int
id|next_buf_to_fill
suffix:semicolon
multiline_comment|/*&n;&t; * number of buffers that are currently filled (PRIMED)&n;&t; * -&gt; these buffers are hardware-owned&n;&t; */
DECL|member|used_buffers
id|atomic_t
id|used_buffers
suffix:semicolon
multiline_comment|/* indicates whether PCI flag must be set (or if one is outstanding) */
DECL|member|set_pci_flags_count
id|atomic_t
id|set_pci_flags_count
suffix:semicolon
)brace
id|__attribute__
(paren
(paren
id|aligned
c_func
(paren
l_int|256
)paren
)paren
)paren
suffix:semicolon
DECL|struct|qeth_qdio_info
r_struct
id|qeth_qdio_info
(brace
DECL|member|state
r_volatile
r_enum
id|qeth_qdio_info_states
id|state
suffix:semicolon
multiline_comment|/* input */
DECL|member|in_q
r_struct
id|qeth_qdio_q
op_star
id|in_q
suffix:semicolon
DECL|member|in_buf_pool
r_struct
id|qeth_qdio_buffer_pool
id|in_buf_pool
suffix:semicolon
DECL|member|init_pool
r_struct
id|qeth_qdio_buffer_pool
id|init_pool
suffix:semicolon
DECL|member|in_buf_size
r_int
id|in_buf_size
suffix:semicolon
multiline_comment|/* output */
DECL|member|no_out_queues
r_int
id|no_out_queues
suffix:semicolon
DECL|member|out_qs
r_struct
id|qeth_qdio_out_q
op_star
op_star
id|out_qs
suffix:semicolon
multiline_comment|/* priority queueing */
DECL|member|do_prio_queueing
r_int
id|do_prio_queueing
suffix:semicolon
DECL|member|default_out_queue
r_int
id|default_out_queue
suffix:semicolon
)brace
suffix:semicolon
DECL|enum|qeth_send_errors
r_enum
id|qeth_send_errors
(brace
DECL|enumerator|QETH_SEND_ERROR_NONE
id|QETH_SEND_ERROR_NONE
comma
DECL|enumerator|QETH_SEND_ERROR_LINK_FAILURE
id|QETH_SEND_ERROR_LINK_FAILURE
comma
DECL|enumerator|QETH_SEND_ERROR_RETRY
id|QETH_SEND_ERROR_RETRY
comma
DECL|enumerator|QETH_SEND_ERROR_KICK_IT
id|QETH_SEND_ERROR_KICK_IT
comma
)brace
suffix:semicolon
DECL|macro|QETH_ETH_MAC_V4
mdefine_line|#define QETH_ETH_MAC_V4      0x0100 /* like v4 */
DECL|macro|QETH_ETH_MAC_V6
mdefine_line|#define QETH_ETH_MAC_V6      0x3333 /* like v6 */
multiline_comment|/* tr mc mac is longer, but that will be enough to detect mc frames */
DECL|macro|QETH_TR_MAC_NC
mdefine_line|#define QETH_TR_MAC_NC       0xc000 /* non-canonical */
DECL|macro|QETH_TR_MAC_C
mdefine_line|#define QETH_TR_MAC_C        0x0300 /* canonical */
DECL|macro|DEFAULT_ADD_HHLEN
mdefine_line|#define DEFAULT_ADD_HHLEN 0
DECL|macro|MAX_ADD_HHLEN
mdefine_line|#define MAX_ADD_HHLEN 1024
multiline_comment|/**&n; * buffer stuff for read channel&n; */
DECL|macro|QETH_CMD_BUFFER_NO
mdefine_line|#define QETH_CMD_BUFFER_NO&t;8
multiline_comment|/**&n; *  channel state machine&n; */
DECL|enum|qeth_channel_states
r_enum
id|qeth_channel_states
(brace
DECL|enumerator|CH_STATE_UP
id|CH_STATE_UP
comma
DECL|enumerator|CH_STATE_DOWN
id|CH_STATE_DOWN
comma
DECL|enumerator|CH_STATE_ACTIVATING
id|CH_STATE_ACTIVATING
comma
DECL|enumerator|CH_STATE_HALTED
id|CH_STATE_HALTED
comma
DECL|enumerator|CH_STATE_STOPPED
id|CH_STATE_STOPPED
comma
)brace
suffix:semicolon
multiline_comment|/**&n; * card state machine&n; */
DECL|enum|qeth_card_states
r_enum
id|qeth_card_states
(brace
DECL|enumerator|CARD_STATE_DOWN
id|CARD_STATE_DOWN
comma
DECL|enumerator|CARD_STATE_HARDSETUP
id|CARD_STATE_HARDSETUP
comma
DECL|enumerator|CARD_STATE_SOFTSETUP
id|CARD_STATE_SOFTSETUP
comma
DECL|enumerator|CARD_STATE_UP
id|CARD_STATE_UP
comma
DECL|enumerator|CARD_STATE_RECOVER
id|CARD_STATE_RECOVER
comma
)brace
suffix:semicolon
multiline_comment|/**&n; * Protocol versions&n; */
DECL|enum|qeth_prot_versions
r_enum
id|qeth_prot_versions
(brace
DECL|enumerator|QETH_PROT_SNA
id|QETH_PROT_SNA
op_assign
l_int|0x0001
comma
DECL|enumerator|QETH_PROT_IPV4
id|QETH_PROT_IPV4
op_assign
l_int|0x0004
comma
DECL|enumerator|QETH_PROT_IPV6
id|QETH_PROT_IPV6
op_assign
l_int|0x0006
comma
)brace
suffix:semicolon
DECL|enum|qeth_ip_types
r_enum
id|qeth_ip_types
(brace
DECL|enumerator|QETH_IP_TYPE_NORMAL
id|QETH_IP_TYPE_NORMAL
comma
DECL|enumerator|QETH_IP_TYPE_VIPA
id|QETH_IP_TYPE_VIPA
comma
DECL|enumerator|QETH_IP_TYPE_RXIP
id|QETH_IP_TYPE_RXIP
comma
DECL|enumerator|QETH_IP_TYPE_DEL_ALL_MC
id|QETH_IP_TYPE_DEL_ALL_MC
comma
)brace
suffix:semicolon
DECL|enum|qeth_cmd_buffer_state
r_enum
id|qeth_cmd_buffer_state
(brace
DECL|enumerator|BUF_STATE_FREE
id|BUF_STATE_FREE
comma
DECL|enumerator|BUF_STATE_LOCKED
id|BUF_STATE_LOCKED
comma
DECL|enumerator|BUF_STATE_PROCESSED
id|BUF_STATE_PROCESSED
comma
)brace
suffix:semicolon
multiline_comment|/**&n; * IP address and multicast list&n; */
DECL|struct|qeth_ipaddr
r_struct
id|qeth_ipaddr
(brace
DECL|member|entry
r_struct
id|list_head
id|entry
suffix:semicolon
DECL|member|type
r_enum
id|qeth_ip_types
id|type
suffix:semicolon
DECL|member|set_flags
r_enum
id|qeth_ipa_setdelip_flags
id|set_flags
suffix:semicolon
DECL|member|del_flags
r_enum
id|qeth_ipa_setdelip_flags
id|del_flags
suffix:semicolon
DECL|member|is_multicast
r_int
id|is_multicast
suffix:semicolon
DECL|member|users
r_volatile
r_int
id|users
suffix:semicolon
DECL|member|proto
r_enum
id|qeth_prot_versions
id|proto
suffix:semicolon
DECL|member|mac
r_int
r_char
id|mac
(braket
id|OSA_ADDR_LEN
)braket
suffix:semicolon
r_union
(brace
r_struct
(brace
DECL|member|addr
r_int
r_int
id|addr
suffix:semicolon
DECL|member|mask
r_int
r_int
id|mask
suffix:semicolon
DECL|member|a4
)brace
id|a4
suffix:semicolon
r_struct
(brace
DECL|member|addr
r_struct
id|in6_addr
id|addr
suffix:semicolon
DECL|member|pfxlen
r_int
r_int
id|pfxlen
suffix:semicolon
DECL|member|a6
)brace
id|a6
suffix:semicolon
DECL|member|u
)brace
id|u
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|qeth_ipato_entry
r_struct
id|qeth_ipato_entry
(brace
DECL|member|entry
r_struct
id|list_head
id|entry
suffix:semicolon
DECL|member|proto
r_enum
id|qeth_prot_versions
id|proto
suffix:semicolon
DECL|member|addr
r_char
id|addr
(braket
l_int|16
)braket
suffix:semicolon
DECL|member|mask_bits
r_int
id|mask_bits
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|qeth_ipato
r_struct
id|qeth_ipato
(brace
DECL|member|enabled
r_int
id|enabled
suffix:semicolon
DECL|member|invert4
r_int
id|invert4
suffix:semicolon
DECL|member|invert6
r_int
id|invert6
suffix:semicolon
DECL|member|entries
r_struct
id|list_head
id|entries
suffix:semicolon
)brace
suffix:semicolon
r_struct
id|qeth_channel
suffix:semicolon
DECL|struct|qeth_cmd_buffer
r_struct
id|qeth_cmd_buffer
(brace
DECL|member|state
r_enum
id|qeth_cmd_buffer_state
id|state
suffix:semicolon
DECL|member|channel
r_struct
id|qeth_channel
op_star
id|channel
suffix:semicolon
DECL|member|data
r_int
r_char
op_star
id|data
suffix:semicolon
DECL|member|rc
r_int
id|rc
suffix:semicolon
DECL|member|callback
r_void
(paren
op_star
id|callback
)paren
(paren
r_struct
id|qeth_channel
op_star
comma
r_struct
id|qeth_cmd_buffer
op_star
)paren
suffix:semicolon
)brace
suffix:semicolon
multiline_comment|/**&n; * definition of a qeth channel, used for read and write&n; */
DECL|struct|qeth_channel
r_struct
id|qeth_channel
(brace
DECL|member|state
r_enum
id|qeth_channel_states
id|state
suffix:semicolon
DECL|member|ccw
r_struct
id|ccw1
id|ccw
suffix:semicolon
DECL|member|iob_lock
id|spinlock_t
id|iob_lock
suffix:semicolon
DECL|member|wait_q
id|wait_queue_head_t
id|wait_q
suffix:semicolon
DECL|member|irq_tasklet
r_struct
id|tasklet_struct
id|irq_tasklet
suffix:semicolon
DECL|member|ccwdev
r_struct
id|ccw_device
op_star
id|ccwdev
suffix:semicolon
multiline_comment|/*command buffer for control data*/
DECL|member|iob
r_struct
id|qeth_cmd_buffer
id|iob
(braket
id|QETH_CMD_BUFFER_NO
)braket
suffix:semicolon
DECL|member|irq_pending
id|atomic_t
id|irq_pending
suffix:semicolon
DECL|member|io_buf_no
r_volatile
r_int
id|io_buf_no
suffix:semicolon
DECL|member|buf_no
r_volatile
r_int
id|buf_no
suffix:semicolon
)brace
suffix:semicolon
multiline_comment|/**&n; *  OSA card related definitions&n; */
DECL|struct|qeth_token
r_struct
id|qeth_token
(brace
DECL|member|issuer_rm_w
id|__u32
id|issuer_rm_w
suffix:semicolon
DECL|member|issuer_rm_r
id|__u32
id|issuer_rm_r
suffix:semicolon
DECL|member|cm_filter_w
id|__u32
id|cm_filter_w
suffix:semicolon
DECL|member|cm_filter_r
id|__u32
id|cm_filter_r
suffix:semicolon
DECL|member|cm_connection_w
id|__u32
id|cm_connection_w
suffix:semicolon
DECL|member|cm_connection_r
id|__u32
id|cm_connection_r
suffix:semicolon
DECL|member|ulp_filter_w
id|__u32
id|ulp_filter_w
suffix:semicolon
DECL|member|ulp_filter_r
id|__u32
id|ulp_filter_r
suffix:semicolon
DECL|member|ulp_connection_w
id|__u32
id|ulp_connection_w
suffix:semicolon
DECL|member|ulp_connection_r
id|__u32
id|ulp_connection_r
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|qeth_seqno
r_struct
id|qeth_seqno
(brace
DECL|member|trans_hdr
id|__u32
id|trans_hdr
suffix:semicolon
DECL|member|pdu_hdr
id|__u32
id|pdu_hdr
suffix:semicolon
DECL|member|pdu_hdr_ack
id|__u32
id|pdu_hdr_ack
suffix:semicolon
DECL|member|ipa
id|__u16
id|ipa
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|qeth_reply
r_struct
id|qeth_reply
(brace
DECL|member|list
r_struct
id|list_head
id|list
suffix:semicolon
DECL|member|wait_q
id|wait_queue_head_t
id|wait_q
suffix:semicolon
DECL|member|callback
r_int
(paren
op_star
id|callback
)paren
(paren
r_struct
id|qeth_card
op_star
comma
r_struct
id|qeth_reply
op_star
comma
r_int
r_int
)paren
suffix:semicolon
DECL|member|seqno
id|u32
id|seqno
suffix:semicolon
DECL|member|offset
r_int
r_int
id|offset
suffix:semicolon
DECL|member|received
r_int
id|received
suffix:semicolon
DECL|member|rc
r_int
id|rc
suffix:semicolon
DECL|member|param
r_void
op_star
id|param
suffix:semicolon
DECL|member|card
r_struct
id|qeth_card
op_star
id|card
suffix:semicolon
DECL|member|refcnt
id|atomic_t
id|refcnt
suffix:semicolon
)brace
suffix:semicolon
DECL|macro|QETH_BROADCAST_WITH_ECHO
mdefine_line|#define QETH_BROADCAST_WITH_ECHO    1
DECL|macro|QETH_BROADCAST_WITHOUT_ECHO
mdefine_line|#define QETH_BROADCAST_WITHOUT_ECHO 2
DECL|struct|qeth_card_info
r_struct
id|qeth_card_info
(brace
DECL|member|unit_addr2
r_int
r_int
id|unit_addr2
suffix:semicolon
DECL|member|cula
r_int
r_int
id|cula
suffix:semicolon
DECL|member|chpid
r_int
r_int
id|chpid
suffix:semicolon
DECL|member|func_level
id|__u16
id|func_level
suffix:semicolon
DECL|member|mcl_level
r_char
id|mcl_level
(braket
id|QETH_MCL_LENGTH
op_plus
l_int|1
)braket
suffix:semicolon
DECL|member|guestlan
r_int
id|guestlan
suffix:semicolon
DECL|member|layer2_mac_registered
r_int
id|layer2_mac_registered
suffix:semicolon
DECL|member|portname_required
r_int
id|portname_required
suffix:semicolon
DECL|member|portno
r_int
id|portno
suffix:semicolon
DECL|member|portname
r_char
id|portname
(braket
l_int|9
)braket
suffix:semicolon
DECL|member|type
r_enum
id|qeth_card_types
id|type
suffix:semicolon
DECL|member|link_type
r_enum
id|qeth_link_types
id|link_type
suffix:semicolon
DECL|member|is_multicast_different
r_int
id|is_multicast_different
suffix:semicolon
DECL|member|initial_mtu
r_int
id|initial_mtu
suffix:semicolon
DECL|member|max_mtu
r_int
id|max_mtu
suffix:semicolon
DECL|member|broadcast_capable
r_int
id|broadcast_capable
suffix:semicolon
DECL|member|unique_id
r_int
id|unique_id
suffix:semicolon
DECL|member|csum_mask
id|__u32
id|csum_mask
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|qeth_card_options
r_struct
id|qeth_card_options
(brace
DECL|member|route4
r_struct
id|qeth_routing_info
id|route4
suffix:semicolon
DECL|member|ipa4
r_struct
id|qeth_ipa_info
id|ipa4
suffix:semicolon
DECL|member|adp
r_struct
id|qeth_ipa_info
id|adp
suffix:semicolon
multiline_comment|/*Adapter parameters*/
macro_line|#ifdef CONFIG_QETH_IPV6
DECL|member|route6
r_struct
id|qeth_routing_info
id|route6
suffix:semicolon
DECL|member|ipa6
r_struct
id|qeth_ipa_info
id|ipa6
suffix:semicolon
macro_line|#endif /* QETH_IPV6 */
DECL|member|checksum_type
r_enum
id|qeth_checksum_types
id|checksum_type
suffix:semicolon
DECL|member|broadcast_mode
r_int
id|broadcast_mode
suffix:semicolon
DECL|member|macaddr_mode
r_int
id|macaddr_mode
suffix:semicolon
DECL|member|fake_broadcast
r_int
id|fake_broadcast
suffix:semicolon
DECL|member|add_hhlen
r_int
id|add_hhlen
suffix:semicolon
DECL|member|fake_ll
r_int
id|fake_ll
suffix:semicolon
DECL|member|layer2
r_int
id|layer2
suffix:semicolon
)brace
suffix:semicolon
multiline_comment|/*&n; * thread bits for qeth_card thread masks&n; */
DECL|enum|qeth_threads
r_enum
id|qeth_threads
(brace
DECL|enumerator|QETH_SET_IP_THREAD
id|QETH_SET_IP_THREAD
op_assign
l_int|1
comma
DECL|enumerator|QETH_RECOVER_THREAD
id|QETH_RECOVER_THREAD
op_assign
l_int|2
comma
)brace
suffix:semicolon
DECL|struct|qeth_card
r_struct
id|qeth_card
(brace
DECL|member|list
r_struct
id|list_head
id|list
suffix:semicolon
DECL|member|state
r_enum
id|qeth_card_states
id|state
suffix:semicolon
DECL|member|lan_online
r_int
id|lan_online
suffix:semicolon
DECL|member|lock
id|spinlock_t
id|lock
suffix:semicolon
multiline_comment|/*hardware and sysfs stuff*/
DECL|member|gdev
r_struct
id|ccwgroup_device
op_star
id|gdev
suffix:semicolon
DECL|member|read
r_struct
id|qeth_channel
id|read
suffix:semicolon
DECL|member|write
r_struct
id|qeth_channel
id|write
suffix:semicolon
DECL|member|data
r_struct
id|qeth_channel
id|data
suffix:semicolon
DECL|member|dev
r_struct
id|net_device
op_star
id|dev
suffix:semicolon
DECL|member|stats
r_struct
id|net_device_stats
id|stats
suffix:semicolon
DECL|member|info
r_struct
id|qeth_card_info
id|info
suffix:semicolon
DECL|member|token
r_struct
id|qeth_token
id|token
suffix:semicolon
DECL|member|seqno
r_struct
id|qeth_seqno
id|seqno
suffix:semicolon
DECL|member|options
r_struct
id|qeth_card_options
id|options
suffix:semicolon
DECL|member|wait_q
id|wait_queue_head_t
id|wait_q
suffix:semicolon
macro_line|#ifdef CONFIG_QETH_VLAN
DECL|member|vlanlock
id|spinlock_t
id|vlanlock
suffix:semicolon
DECL|member|vlangrp
r_struct
id|vlan_group
op_star
id|vlangrp
suffix:semicolon
macro_line|#endif
DECL|member|kernel_thread_starter
r_struct
id|work_struct
id|kernel_thread_starter
suffix:semicolon
DECL|member|thread_mask_lock
id|spinlock_t
id|thread_mask_lock
suffix:semicolon
DECL|member|thread_start_mask
r_volatile
r_int
r_int
id|thread_start_mask
suffix:semicolon
DECL|member|thread_allowed_mask
r_volatile
r_int
r_int
id|thread_allowed_mask
suffix:semicolon
DECL|member|thread_running_mask
r_volatile
r_int
r_int
id|thread_running_mask
suffix:semicolon
DECL|member|ip_lock
id|spinlock_t
id|ip_lock
suffix:semicolon
DECL|member|ip_list
r_struct
id|list_head
id|ip_list
suffix:semicolon
DECL|member|ip_tbd_list
r_struct
id|list_head
op_star
id|ip_tbd_list
suffix:semicolon
DECL|member|ipato
r_struct
id|qeth_ipato
id|ipato
suffix:semicolon
DECL|member|cmd_waiter_list
r_struct
id|list_head
id|cmd_waiter_list
suffix:semicolon
multiline_comment|/* QDIO buffer handling */
DECL|member|qdio
r_struct
id|qeth_qdio_info
id|qdio
suffix:semicolon
macro_line|#ifdef CONFIG_QETH_PERF_STATS
DECL|member|perf_stats
r_struct
id|qeth_perf_stats
id|perf_stats
suffix:semicolon
macro_line|#endif /* CONFIG_QETH_PERF_STATS */
DECL|member|use_hard_stop
r_int
id|use_hard_stop
suffix:semicolon
DECL|member|orig_hard_header
r_int
(paren
op_star
id|orig_hard_header
)paren
(paren
r_struct
id|sk_buff
op_star
comma
r_struct
id|net_device
op_star
comma
r_int
r_int
comma
r_void
op_star
comma
r_void
op_star
comma
r_int
)paren
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|qeth_card_list_struct
r_struct
id|qeth_card_list_struct
(brace
DECL|member|list
r_struct
id|list_head
id|list
suffix:semicolon
DECL|member|rwlock
id|rwlock_t
id|rwlock
suffix:semicolon
)brace
suffix:semicolon
r_extern
r_struct
id|qeth_card_list_struct
id|qeth_card_list
suffix:semicolon
multiline_comment|/*notifier list */
DECL|struct|qeth_notify_list_struct
r_struct
id|qeth_notify_list_struct
(brace
DECL|member|list
r_struct
id|list_head
id|list
suffix:semicolon
DECL|member|task
r_struct
id|task_struct
op_star
id|task
suffix:semicolon
DECL|member|signum
r_int
id|signum
suffix:semicolon
)brace
suffix:semicolon
r_extern
id|spinlock_t
id|qeth_notify_lock
suffix:semicolon
r_extern
r_struct
id|list_head
id|qeth_notify_list
suffix:semicolon
multiline_comment|/*some helper functions*/
DECL|macro|QETH_CARD_IFNAME
mdefine_line|#define QETH_CARD_IFNAME(card) (((card)-&gt;dev)? (card)-&gt;dev-&gt;name : &quot;&quot;)
r_inline
r_static
id|__u8
DECL|function|qeth_get_ipa_adp_type
id|qeth_get_ipa_adp_type
c_func
(paren
r_enum
id|qeth_link_types
id|link_type
)paren
(brace
r_switch
c_cond
(paren
id|link_type
)paren
(brace
r_case
id|QETH_LINK_TYPE_HSTR
suffix:colon
r_return
l_int|2
suffix:semicolon
r_default
suffix:colon
r_return
l_int|1
suffix:semicolon
)brace
)brace
r_inline
r_static
r_int
DECL|function|qeth_get_hlen
id|qeth_get_hlen
c_func
(paren
id|__u8
id|link_type
)paren
(brace
macro_line|#ifdef CONFIG_QETH_IPV6
r_switch
c_cond
(paren
id|link_type
)paren
(brace
r_case
id|QETH_LINK_TYPE_HSTR
suffix:colon
r_case
id|QETH_LINK_TYPE_LANE_TR
suffix:colon
r_return
r_sizeof
(paren
r_struct
id|qeth_hdr
)paren
op_plus
id|TR_HLEN
suffix:semicolon
r_default
suffix:colon
macro_line|#ifdef CONFIG_QETH_VLAN
r_return
r_sizeof
(paren
r_struct
id|qeth_hdr
)paren
op_plus
id|VLAN_ETH_HLEN
suffix:semicolon
macro_line|#else
r_return
r_sizeof
(paren
r_struct
id|qeth_hdr
)paren
op_plus
id|ETH_HLEN
suffix:semicolon
macro_line|#endif
)brace
macro_line|#else  /* CONFIG_QETH_IPV6 */
macro_line|#ifdef CONFIG_QETH_VLAN
r_return
r_sizeof
(paren
r_struct
id|qeth_hdr
)paren
op_plus
id|VLAN_HLEN
suffix:semicolon
macro_line|#else
r_return
r_sizeof
(paren
r_struct
id|qeth_hdr
)paren
suffix:semicolon
macro_line|#endif
macro_line|#endif /* CONFIG_QETH_IPV6 */
)brace
r_inline
r_static
r_int
r_int
DECL|function|qeth_get_netdev_flags
id|qeth_get_netdev_flags
c_func
(paren
r_struct
id|qeth_card
op_star
id|card
)paren
(brace
r_if
c_cond
(paren
id|card-&gt;options.layer2
)paren
r_return
l_int|0
suffix:semicolon
r_switch
c_cond
(paren
id|card-&gt;info.type
)paren
(brace
r_case
id|QETH_CARD_TYPE_IQD
suffix:colon
r_return
id|IFF_NOARP
suffix:semicolon
macro_line|#ifdef CONFIG_QETH_IPV6
r_default
suffix:colon
r_return
l_int|0
suffix:semicolon
macro_line|#else
r_default
suffix:colon
r_return
id|IFF_NOARP
suffix:semicolon
macro_line|#endif
)brace
)brace
r_static
r_inline
r_struct
id|sk_buff
op_star
DECL|function|qeth_pskb_unshare
id|qeth_pskb_unshare
c_func
(paren
r_struct
id|sk_buff
op_star
id|skb
comma
r_int
id|pri
)paren
(brace
r_struct
id|sk_buff
op_star
id|nskb
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|skb_cloned
c_func
(paren
id|skb
)paren
)paren
r_return
id|skb
suffix:semicolon
id|nskb
op_assign
id|skb_copy
c_func
(paren
id|skb
comma
id|pri
)paren
suffix:semicolon
id|kfree_skb
c_func
(paren
id|skb
)paren
suffix:semicolon
multiline_comment|/* free our shared copy */
r_return
id|nskb
suffix:semicolon
)brace
r_inline
r_static
r_int
DECL|function|qeth_get_initial_mtu_for_card
id|qeth_get_initial_mtu_for_card
c_func
(paren
r_struct
id|qeth_card
op_star
id|card
)paren
(brace
r_switch
c_cond
(paren
id|card-&gt;info.type
)paren
(brace
r_case
id|QETH_CARD_TYPE_UNKNOWN
suffix:colon
r_return
l_int|1500
suffix:semicolon
r_case
id|QETH_CARD_TYPE_IQD
suffix:colon
r_return
id|card-&gt;info.max_mtu
suffix:semicolon
r_case
id|QETH_CARD_TYPE_OSAE
suffix:colon
r_switch
c_cond
(paren
id|card-&gt;info.link_type
)paren
(brace
r_case
id|QETH_LINK_TYPE_HSTR
suffix:colon
r_case
id|QETH_LINK_TYPE_LANE_TR
suffix:colon
r_return
l_int|2000
suffix:semicolon
r_default
suffix:colon
r_return
l_int|1492
suffix:semicolon
)brace
r_default
suffix:colon
r_return
l_int|1500
suffix:semicolon
)brace
)brace
r_inline
r_static
r_int
DECL|function|qeth_get_max_mtu_for_card
id|qeth_get_max_mtu_for_card
c_func
(paren
r_int
id|cardtype
)paren
(brace
r_switch
c_cond
(paren
id|cardtype
)paren
(brace
r_case
id|QETH_CARD_TYPE_UNKNOWN
suffix:colon
r_return
l_int|61440
suffix:semicolon
r_case
id|QETH_CARD_TYPE_OSAE
suffix:colon
r_return
l_int|61440
suffix:semicolon
r_case
id|QETH_CARD_TYPE_IQD
suffix:colon
r_return
l_int|57344
suffix:semicolon
r_default
suffix:colon
r_return
l_int|1500
suffix:semicolon
)brace
)brace
r_inline
r_static
r_int
DECL|function|qeth_get_mtu_out_of_mpc
id|qeth_get_mtu_out_of_mpc
c_func
(paren
r_int
id|cardtype
)paren
(brace
r_switch
c_cond
(paren
id|cardtype
)paren
(brace
r_case
id|QETH_CARD_TYPE_IQD
suffix:colon
r_return
l_int|1
suffix:semicolon
r_default
suffix:colon
r_return
l_int|0
suffix:semicolon
)brace
)brace
r_inline
r_static
r_int
DECL|function|qeth_get_mtu_outof_framesize
id|qeth_get_mtu_outof_framesize
c_func
(paren
r_int
id|framesize
)paren
(brace
r_switch
c_cond
(paren
id|framesize
)paren
(brace
r_case
l_int|0x4000
suffix:colon
r_return
l_int|8192
suffix:semicolon
r_case
l_int|0x6000
suffix:colon
r_return
l_int|16384
suffix:semicolon
r_case
l_int|0xa000
suffix:colon
r_return
l_int|32768
suffix:semicolon
r_case
l_int|0xffff
suffix:colon
r_return
l_int|57344
suffix:semicolon
r_default
suffix:colon
r_return
l_int|0
suffix:semicolon
)brace
)brace
r_inline
r_static
r_int
DECL|function|qeth_mtu_is_valid
id|qeth_mtu_is_valid
c_func
(paren
r_struct
id|qeth_card
op_star
id|card
comma
r_int
id|mtu
)paren
(brace
r_switch
c_cond
(paren
id|card-&gt;info.type
)paren
(brace
r_case
id|QETH_CARD_TYPE_OSAE
suffix:colon
r_return
(paren
(paren
id|mtu
op_ge
l_int|576
)paren
op_logical_and
(paren
id|mtu
op_le
l_int|61440
)paren
)paren
suffix:semicolon
r_case
id|QETH_CARD_TYPE_IQD
suffix:colon
r_return
(paren
(paren
id|mtu
op_ge
l_int|576
)paren
op_logical_and
(paren
id|mtu
op_le
id|card-&gt;info.max_mtu
op_plus
l_int|4096
op_minus
l_int|32
)paren
)paren
suffix:semicolon
r_case
id|QETH_CARD_TYPE_UNKNOWN
suffix:colon
r_default
suffix:colon
r_return
l_int|1
suffix:semicolon
)brace
)brace
r_inline
r_static
r_int
DECL|function|qeth_get_arphdr_type
id|qeth_get_arphdr_type
c_func
(paren
r_int
id|cardtype
comma
r_int
id|linktype
)paren
(brace
r_switch
c_cond
(paren
id|cardtype
)paren
(brace
r_case
id|QETH_CARD_TYPE_OSAE
suffix:colon
r_switch
c_cond
(paren
id|linktype
)paren
(brace
r_case
id|QETH_LINK_TYPE_LANE_TR
suffix:colon
r_case
id|QETH_LINK_TYPE_HSTR
suffix:colon
r_return
id|ARPHRD_IEEE802_TR
suffix:semicolon
r_default
suffix:colon
r_return
id|ARPHRD_ETHER
suffix:semicolon
)brace
r_case
id|QETH_CARD_TYPE_IQD
suffix:colon
r_default
suffix:colon
r_return
id|ARPHRD_ETHER
suffix:semicolon
)brace
)brace
macro_line|#ifdef CONFIG_QETH_PERF_STATS
r_inline
r_static
r_int
DECL|function|qeth_get_micros
id|qeth_get_micros
c_func
(paren
r_void
)paren
(brace
r_return
(paren
r_int
)paren
(paren
id|get_clock
c_func
(paren
)paren
op_rshift
l_int|12
)paren
suffix:semicolon
)brace
macro_line|#endif
r_static
r_inline
r_int
DECL|function|qeth_get_qdio_q_format
id|qeth_get_qdio_q_format
c_func
(paren
r_struct
id|qeth_card
op_star
id|card
)paren
(brace
r_switch
c_cond
(paren
id|card-&gt;info.type
)paren
(brace
r_case
id|QETH_CARD_TYPE_IQD
suffix:colon
r_return
l_int|2
suffix:semicolon
r_default
suffix:colon
r_return
l_int|0
suffix:semicolon
)brace
)brace
r_static
r_inline
r_void
DECL|function|qeth_ipaddr4_to_string
id|qeth_ipaddr4_to_string
c_func
(paren
r_const
id|__u8
op_star
id|addr
comma
r_char
op_star
id|buf
)paren
(brace
id|sprintf
c_func
(paren
id|buf
comma
l_string|&quot;%i.%i.%i.%i&quot;
comma
id|addr
(braket
l_int|0
)braket
comma
id|addr
(braket
l_int|1
)braket
comma
id|addr
(braket
l_int|2
)braket
comma
id|addr
(braket
l_int|3
)braket
)paren
suffix:semicolon
)brace
r_static
r_inline
r_int
DECL|function|qeth_string_to_ipaddr4
id|qeth_string_to_ipaddr4
c_func
(paren
r_const
r_char
op_star
id|buf
comma
id|__u8
op_star
id|addr
)paren
(brace
r_const
r_char
op_star
id|start
comma
op_star
id|end
suffix:semicolon
r_char
id|abuf
(braket
l_int|4
)braket
suffix:semicolon
r_char
op_star
id|tmp
suffix:semicolon
r_int
id|len
suffix:semicolon
r_int
id|i
suffix:semicolon
id|start
op_assign
id|buf
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|3
suffix:semicolon
id|i
op_increment
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
(paren
id|end
op_assign
id|strchr
c_func
(paren
id|start
comma
l_char|&squot;.&squot;
)paren
)paren
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
id|len
op_assign
id|end
op_minus
id|start
suffix:semicolon
id|memset
c_func
(paren
id|abuf
comma
l_int|0
comma
l_int|4
)paren
suffix:semicolon
id|strncpy
c_func
(paren
id|abuf
comma
id|start
comma
id|len
)paren
suffix:semicolon
id|addr
(braket
id|i
)braket
op_assign
id|simple_strtoul
c_func
(paren
id|abuf
comma
op_amp
id|tmp
comma
l_int|10
)paren
suffix:semicolon
id|start
op_assign
id|end
op_plus
l_int|1
suffix:semicolon
)brace
id|memset
c_func
(paren
id|abuf
comma
l_int|0
comma
l_int|4
)paren
suffix:semicolon
id|strcpy
c_func
(paren
id|abuf
comma
id|start
)paren
suffix:semicolon
id|addr
(braket
l_int|3
)braket
op_assign
id|simple_strtoul
c_func
(paren
id|abuf
comma
op_amp
id|tmp
comma
l_int|10
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
r_static
r_inline
r_void
DECL|function|qeth_ipaddr6_to_string
id|qeth_ipaddr6_to_string
c_func
(paren
r_const
id|__u8
op_star
id|addr
comma
r_char
op_star
id|buf
)paren
(brace
id|sprintf
c_func
(paren
id|buf
comma
l_string|&quot;%02x%02x:%02x%02x:%02x%02x:%02x%02x&quot;
l_string|&quot;:%02x%02x:%02x%02x:%02x%02x:%02x%02x&quot;
comma
id|addr
(braket
l_int|0
)braket
comma
id|addr
(braket
l_int|1
)braket
comma
id|addr
(braket
l_int|2
)braket
comma
id|addr
(braket
l_int|3
)braket
comma
id|addr
(braket
l_int|4
)braket
comma
id|addr
(braket
l_int|5
)braket
comma
id|addr
(braket
l_int|6
)braket
comma
id|addr
(braket
l_int|7
)braket
comma
id|addr
(braket
l_int|8
)braket
comma
id|addr
(braket
l_int|9
)braket
comma
id|addr
(braket
l_int|10
)braket
comma
id|addr
(braket
l_int|11
)braket
comma
id|addr
(braket
l_int|12
)braket
comma
id|addr
(braket
l_int|13
)braket
comma
id|addr
(braket
l_int|14
)braket
comma
id|addr
(braket
l_int|15
)braket
)paren
suffix:semicolon
)brace
r_static
r_inline
r_int
DECL|function|qeth_string_to_ipaddr6
id|qeth_string_to_ipaddr6
c_func
(paren
r_const
r_char
op_star
id|buf
comma
id|__u8
op_star
id|addr
)paren
(brace
r_const
r_char
op_star
id|start
comma
op_star
id|end
suffix:semicolon
id|u16
op_star
id|tmp_addr
suffix:semicolon
r_char
id|abuf
(braket
l_int|5
)braket
suffix:semicolon
r_char
op_star
id|tmp
suffix:semicolon
r_int
id|len
suffix:semicolon
r_int
id|i
suffix:semicolon
id|tmp_addr
op_assign
(paren
id|u16
op_star
)paren
id|addr
suffix:semicolon
id|start
op_assign
id|buf
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|7
suffix:semicolon
id|i
op_increment
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
(paren
id|end
op_assign
id|strchr
c_func
(paren
id|start
comma
l_char|&squot;:&squot;
)paren
)paren
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
id|len
op_assign
id|end
op_minus
id|start
suffix:semicolon
id|memset
c_func
(paren
id|abuf
comma
l_int|0
comma
l_int|5
)paren
suffix:semicolon
id|strncpy
c_func
(paren
id|abuf
comma
id|start
comma
id|len
)paren
suffix:semicolon
id|tmp_addr
(braket
id|i
)braket
op_assign
id|simple_strtoul
c_func
(paren
id|abuf
comma
op_amp
id|tmp
comma
l_int|16
)paren
suffix:semicolon
id|start
op_assign
id|end
op_plus
l_int|1
suffix:semicolon
)brace
id|memset
c_func
(paren
id|abuf
comma
l_int|0
comma
l_int|5
)paren
suffix:semicolon
id|strcpy
c_func
(paren
id|abuf
comma
id|start
)paren
suffix:semicolon
id|tmp_addr
(braket
l_int|7
)braket
op_assign
id|simple_strtoul
c_func
(paren
id|abuf
comma
op_amp
id|tmp
comma
l_int|16
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
r_static
r_inline
r_void
DECL|function|qeth_ipaddr_to_string
id|qeth_ipaddr_to_string
c_func
(paren
r_enum
id|qeth_prot_versions
id|proto
comma
r_const
id|__u8
op_star
id|addr
comma
r_char
op_star
id|buf
)paren
(brace
r_if
c_cond
(paren
id|proto
op_eq
id|QETH_PROT_IPV4
)paren
r_return
id|qeth_ipaddr4_to_string
c_func
(paren
id|addr
comma
id|buf
)paren
suffix:semicolon
r_else
r_if
c_cond
(paren
id|proto
op_eq
id|QETH_PROT_IPV6
)paren
r_return
id|qeth_ipaddr6_to_string
c_func
(paren
id|addr
comma
id|buf
)paren
suffix:semicolon
)brace
r_static
r_inline
r_int
DECL|function|qeth_string_to_ipaddr
id|qeth_string_to_ipaddr
c_func
(paren
r_const
r_char
op_star
id|buf
comma
r_enum
id|qeth_prot_versions
id|proto
comma
id|__u8
op_star
id|addr
)paren
(brace
r_if
c_cond
(paren
id|proto
op_eq
id|QETH_PROT_IPV4
)paren
r_return
id|qeth_string_to_ipaddr4
c_func
(paren
id|buf
comma
id|addr
)paren
suffix:semicolon
r_else
r_if
c_cond
(paren
id|proto
op_eq
id|QETH_PROT_IPV6
)paren
r_return
id|qeth_string_to_ipaddr6
c_func
(paren
id|buf
comma
id|addr
)paren
suffix:semicolon
r_else
r_return
op_minus
id|EINVAL
suffix:semicolon
)brace
r_extern
r_int
id|qeth_setrouting_v4
c_func
(paren
r_struct
id|qeth_card
op_star
)paren
suffix:semicolon
r_extern
r_int
id|qeth_setrouting_v6
c_func
(paren
r_struct
id|qeth_card
op_star
)paren
suffix:semicolon
r_extern
r_int
id|qeth_add_ipato_entry
c_func
(paren
r_struct
id|qeth_card
op_star
comma
r_struct
id|qeth_ipato_entry
op_star
)paren
suffix:semicolon
r_extern
r_void
id|qeth_del_ipato_entry
c_func
(paren
r_struct
id|qeth_card
op_star
comma
r_enum
id|qeth_prot_versions
comma
id|u8
op_star
comma
r_int
)paren
suffix:semicolon
r_extern
r_int
id|qeth_add_vipa
c_func
(paren
r_struct
id|qeth_card
op_star
comma
r_enum
id|qeth_prot_versions
comma
r_const
id|u8
op_star
)paren
suffix:semicolon
r_extern
r_void
id|qeth_del_vipa
c_func
(paren
r_struct
id|qeth_card
op_star
comma
r_enum
id|qeth_prot_versions
comma
r_const
id|u8
op_star
)paren
suffix:semicolon
r_extern
r_int
id|qeth_add_rxip
c_func
(paren
r_struct
id|qeth_card
op_star
comma
r_enum
id|qeth_prot_versions
comma
r_const
id|u8
op_star
)paren
suffix:semicolon
r_extern
r_void
id|qeth_del_rxip
c_func
(paren
r_struct
id|qeth_card
op_star
comma
r_enum
id|qeth_prot_versions
comma
r_const
id|u8
op_star
)paren
suffix:semicolon
r_extern
r_int
id|qeth_notifier_register
c_func
(paren
r_struct
id|task_struct
op_star
comma
r_int
)paren
suffix:semicolon
r_extern
r_int
id|qeth_notifier_unregister
c_func
(paren
r_struct
id|task_struct
op_star
)paren
suffix:semicolon
r_extern
r_void
id|qeth_schedule_recovery
c_func
(paren
r_struct
id|qeth_card
op_star
)paren
suffix:semicolon
r_extern
r_int
id|qeth_realloc_buffer_pool
c_func
(paren
r_struct
id|qeth_card
op_star
comma
r_int
)paren
suffix:semicolon
macro_line|#endif /* __QETH_H__ */
eof
