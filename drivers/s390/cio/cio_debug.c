multiline_comment|/*&n; *  drivers/s390/cio/cio_debug.c&n; *   S/390 common I/O routines -- message ids for debugging&n; *   $Revision: 1.4 $&n; *&n; *    Copyright (C) 1999-2002 IBM Deutschland Entwicklung GmbH,&n; *                            IBM Corporation&n; *    Author(s): Ingo Adlung (adlung@de.ibm.com)&n; *               Cornelia Huck (cohuck@de.ibm.com) &n; *&t;&t; Arnd Bergmann (arndb@de.ibm.com)&n; *    ChangeLog: 11/04/2002 Arnd Bergmann Split s390io.c into multiple files,&n; *&t;&t;&t;&t;&t;  see s390io.c for complete list of&n; * &t;&t;&t;&t;&t;  changes.&n; */
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;linux/slab.h&gt;
macro_line|#include &lt;asm/debug.h&gt;
macro_line|#include &quot;cio_debug.h&quot;
DECL|variable|cio_debug_msg_id
id|debug_info_t
op_star
id|cio_debug_msg_id
suffix:semicolon
DECL|variable|cio_debug_trace_id
id|debug_info_t
op_star
id|cio_debug_trace_id
suffix:semicolon
DECL|variable|cio_debug_crw_id
id|debug_info_t
op_star
id|cio_debug_crw_id
suffix:semicolon
DECL|variable|cio_debug_initialized
r_int
id|cio_debug_initialized
suffix:semicolon
multiline_comment|/*&n; * Function: cio_debug_init&n; * Initializes three debug logs (under /proc/s390dbf) for common I/O:&n; * - cio_msg logs the messages which are printk&squot;ed when CONFIG_DEBUG_IO is on&n; * - cio_trace logs the calling of different functions&n; * - cio_crw logs the messages which are printk&squot;ed when CONFIG_DEBUG_CRW is on&n; * debug levels depend on CONFIG_DEBUG_IO resp. CONFIG_DEBUG_CRW&n; */
r_static
r_int
id|__init
DECL|function|cio_debug_init
id|cio_debug_init
(paren
r_void
)paren
(brace
r_int
id|ret
op_assign
l_int|0
suffix:semicolon
id|cio_debug_msg_id
op_assign
id|debug_register
(paren
l_string|&quot;cio_msg&quot;
comma
l_int|4
comma
l_int|4
comma
l_int|16
op_star
r_sizeof
(paren
r_int
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|cio_debug_msg_id
op_ne
l_int|NULL
)paren
(brace
id|debug_register_view
(paren
id|cio_debug_msg_id
comma
op_amp
id|debug_sprintf_view
)paren
suffix:semicolon
id|debug_set_level
(paren
id|cio_debug_msg_id
comma
l_int|6
)paren
suffix:semicolon
)brace
r_else
(brace
id|ret
op_assign
op_minus
l_int|1
suffix:semicolon
)brace
id|cio_debug_trace_id
op_assign
id|debug_register
(paren
l_string|&quot;cio_trace&quot;
comma
l_int|4
comma
l_int|4
comma
l_int|8
)paren
suffix:semicolon
r_if
c_cond
(paren
id|cio_debug_trace_id
op_ne
l_int|NULL
)paren
(brace
id|debug_register_view
(paren
id|cio_debug_trace_id
comma
op_amp
id|debug_hex_ascii_view
)paren
suffix:semicolon
id|debug_set_level
(paren
id|cio_debug_trace_id
comma
l_int|6
)paren
suffix:semicolon
)brace
r_else
(brace
id|ret
op_assign
op_minus
l_int|1
suffix:semicolon
)brace
id|cio_debug_crw_id
op_assign
id|debug_register
(paren
l_string|&quot;cio_crw&quot;
comma
l_int|2
comma
l_int|4
comma
l_int|16
op_star
r_sizeof
(paren
r_int
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|cio_debug_crw_id
op_ne
l_int|NULL
)paren
(brace
id|debug_register_view
(paren
id|cio_debug_crw_id
comma
op_amp
id|debug_sprintf_view
)paren
suffix:semicolon
id|debug_set_level
(paren
id|cio_debug_crw_id
comma
l_int|6
)paren
suffix:semicolon
)brace
r_else
(brace
id|ret
op_assign
op_minus
l_int|1
suffix:semicolon
)brace
r_if
c_cond
(paren
id|ret
)paren
(brace
id|printk
(paren
l_string|&quot;could not initialize debugging&bslash;n&quot;
)paren
suffix:semicolon
)brace
r_else
(brace
id|printk
(paren
l_string|&quot;debugging initialized&bslash;n&quot;
)paren
suffix:semicolon
id|cio_debug_initialized
op_assign
l_int|1
suffix:semicolon
)brace
r_return
id|ret
suffix:semicolon
)brace
DECL|variable|cio_debug_init
id|__initcall
(paren
id|cio_debug_init
)paren
suffix:semicolon
eof
