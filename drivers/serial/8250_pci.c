multiline_comment|/*&n; *  linux/drivers/char/8250_pci.c&n; *&n; *  Probe module for 8250/16550-type PCI serial ports.&n; *&n; *  Based on drivers/char/serial.c, by Linus Torvalds, Theodore Ts&squot;o.&n; *&n; *  Copyright (C) 2001 Russell King, All Rights Reserved.&n; *&n; * This program is free software; you can redistribute it and/or modify&n; * it under the terms of the GNU General Public License as published by&n; * the Free Software Foundation; either version 2 of the License.&n; *&n; *  $Id: 8250_pci.c,v 1.28 2002/11/02 11:14:18 rmk Exp $&n; */
macro_line|#include &lt;linux/module.h&gt;
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;linux/pci.h&gt;
macro_line|#include &lt;linux/sched.h&gt;
macro_line|#include &lt;linux/string.h&gt;
macro_line|#include &lt;linux/kernel.h&gt;
macro_line|#include &lt;linux/slab.h&gt;
macro_line|#include &lt;linux/delay.h&gt;
macro_line|#include &lt;linux/tty.h&gt;
macro_line|#include &lt;linux/serial_core.h&gt;
macro_line|#include &lt;linux/8250_pci.h&gt;
macro_line|#include &lt;linux/bitops.h&gt;
macro_line|#include &lt;asm/byteorder.h&gt;
macro_line|#include &lt;asm/io.h&gt;
macro_line|#include &quot;8250.h&quot;
DECL|macro|SERIAL_DEBUG_PCI
macro_line|#undef SERIAL_DEBUG_PCI
multiline_comment|/*&n; * Definitions for PCI support.&n; */
DECL|macro|FL_BASE_MASK
mdefine_line|#define FL_BASE_MASK&t;&t;0x0007
DECL|macro|FL_BASE0
mdefine_line|#define FL_BASE0&t;&t;0x0000
DECL|macro|FL_BASE1
mdefine_line|#define FL_BASE1&t;&t;0x0001
DECL|macro|FL_BASE2
mdefine_line|#define FL_BASE2&t;&t;0x0002
DECL|macro|FL_BASE3
mdefine_line|#define FL_BASE3&t;&t;0x0003
DECL|macro|FL_BASE4
mdefine_line|#define FL_BASE4&t;&t;0x0004
DECL|macro|FL_GET_BASE
mdefine_line|#define FL_GET_BASE(x)&t;&t;(x &amp; FL_BASE_MASK)
multiline_comment|/* Use successive BARs (PCI base address registers),&n;   else use offset into some specified BAR */
DECL|macro|FL_BASE_BARS
mdefine_line|#define FL_BASE_BARS&t;&t;0x0008
multiline_comment|/* do not assign an irq */
DECL|macro|FL_NOIRQ
mdefine_line|#define FL_NOIRQ&t;&t;0x0080
multiline_comment|/* Use the Base address register size to cap number of ports */
DECL|macro|FL_REGION_SZ_CAP
mdefine_line|#define FL_REGION_SZ_CAP&t;0x0100
DECL|struct|pci_board
r_struct
id|pci_board
(brace
DECL|member|flags
r_int
r_int
id|flags
suffix:semicolon
DECL|member|num_ports
r_int
r_int
id|num_ports
suffix:semicolon
DECL|member|base_baud
r_int
r_int
id|base_baud
suffix:semicolon
DECL|member|uart_offset
r_int
r_int
id|uart_offset
suffix:semicolon
DECL|member|reg_shift
r_int
r_int
id|reg_shift
suffix:semicolon
DECL|member|first_offset
r_int
r_int
id|first_offset
suffix:semicolon
)brace
suffix:semicolon
multiline_comment|/*&n; * init function returns:&n; *  &gt; 0 - number of ports&n; *  = 0 - use board-&gt;num_ports&n; *  &lt; 0 - error&n; */
DECL|struct|pci_serial_quirk
r_struct
id|pci_serial_quirk
(brace
DECL|member|vendor
id|u32
id|vendor
suffix:semicolon
DECL|member|device
id|u32
id|device
suffix:semicolon
DECL|member|subvendor
id|u32
id|subvendor
suffix:semicolon
DECL|member|subdevice
id|u32
id|subdevice
suffix:semicolon
DECL|member|init
r_int
(paren
op_star
id|init
)paren
(paren
r_struct
id|pci_dev
op_star
id|dev
)paren
suffix:semicolon
DECL|member|setup
r_int
(paren
op_star
id|setup
)paren
(paren
r_struct
id|pci_dev
op_star
id|dev
comma
r_struct
id|pci_board
op_star
id|board
comma
r_struct
id|uart_port
op_star
id|port
comma
r_int
id|idx
)paren
suffix:semicolon
DECL|member|exit
r_void
(paren
op_star
m_exit
)paren
(paren
r_struct
id|pci_dev
op_star
id|dev
)paren
suffix:semicolon
)brace
suffix:semicolon
DECL|macro|PCI_NUM_BAR_RESOURCES
mdefine_line|#define PCI_NUM_BAR_RESOURCES&t;6
DECL|struct|serial_private
r_struct
id|serial_private
(brace
DECL|member|nr
r_int
r_int
id|nr
suffix:semicolon
DECL|member|remapped_bar
r_void
id|__iomem
op_star
id|remapped_bar
(braket
id|PCI_NUM_BAR_RESOURCES
)braket
suffix:semicolon
DECL|member|quirk
r_struct
id|pci_serial_quirk
op_star
id|quirk
suffix:semicolon
DECL|member|line
r_int
id|line
(braket
l_int|0
)braket
suffix:semicolon
)brace
suffix:semicolon
DECL|function|moan_device
r_static
r_void
id|moan_device
c_func
(paren
r_const
r_char
op_star
id|str
comma
r_struct
id|pci_dev
op_star
id|dev
)paren
(brace
id|printk
c_func
(paren
id|KERN_WARNING
l_string|&quot;%s: %s&bslash;n&quot;
id|KERN_WARNING
l_string|&quot;Please send the output of lspci -vv, this&bslash;n&quot;
id|KERN_WARNING
l_string|&quot;message (0x%04x,0x%04x,0x%04x,0x%04x), the&bslash;n&quot;
id|KERN_WARNING
l_string|&quot;manufacturer and name of serial board or&bslash;n&quot;
id|KERN_WARNING
l_string|&quot;modem board to rmk+serial@arm.linux.org.uk.&bslash;n&quot;
comma
id|pci_name
c_func
(paren
id|dev
)paren
comma
id|str
comma
id|dev-&gt;vendor
comma
id|dev-&gt;device
comma
id|dev-&gt;subsystem_vendor
comma
id|dev-&gt;subsystem_device
)paren
suffix:semicolon
)brace
r_static
r_int
DECL|function|setup_port
id|setup_port
c_func
(paren
r_struct
id|pci_dev
op_star
id|dev
comma
r_struct
id|uart_port
op_star
id|port
comma
r_int
id|bar
comma
r_int
id|offset
comma
r_int
id|regshift
)paren
(brace
r_struct
id|serial_private
op_star
id|priv
op_assign
id|pci_get_drvdata
c_func
(paren
id|dev
)paren
suffix:semicolon
r_int
r_int
id|base
comma
id|len
suffix:semicolon
r_if
c_cond
(paren
id|bar
op_ge
id|PCI_NUM_BAR_RESOURCES
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
r_if
c_cond
(paren
id|pci_resource_flags
c_func
(paren
id|dev
comma
id|bar
)paren
op_amp
id|IORESOURCE_MEM
)paren
(brace
id|base
op_assign
id|pci_resource_start
c_func
(paren
id|dev
comma
id|bar
)paren
suffix:semicolon
id|len
op_assign
id|pci_resource_len
c_func
(paren
id|dev
comma
id|bar
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|priv-&gt;remapped_bar
(braket
id|bar
)braket
)paren
id|priv-&gt;remapped_bar
(braket
id|bar
)braket
op_assign
id|ioremap
c_func
(paren
id|base
comma
id|len
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|priv-&gt;remapped_bar
(braket
id|bar
)braket
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
id|port-&gt;iotype
op_assign
id|UPIO_MEM
suffix:semicolon
id|port-&gt;mapbase
op_assign
id|base
op_plus
id|offset
suffix:semicolon
id|port-&gt;membase
op_assign
id|priv-&gt;remapped_bar
(braket
id|bar
)braket
op_plus
id|offset
suffix:semicolon
id|port-&gt;regshift
op_assign
id|regshift
suffix:semicolon
)brace
r_else
(brace
id|base
op_assign
id|pci_resource_start
c_func
(paren
id|dev
comma
id|bar
)paren
op_plus
id|offset
suffix:semicolon
id|port-&gt;iotype
op_assign
id|UPIO_PORT
suffix:semicolon
id|port-&gt;iobase
op_assign
id|base
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/*&n; * AFAVLAB uses a different mixture of BARs and offsets&n; * Not that ugly ;) -- HW&n; */
r_static
r_int
DECL|function|afavlab_setup
id|afavlab_setup
c_func
(paren
r_struct
id|pci_dev
op_star
id|dev
comma
r_struct
id|pci_board
op_star
id|board
comma
r_struct
id|uart_port
op_star
id|port
comma
r_int
id|idx
)paren
(brace
r_int
r_int
id|bar
comma
id|offset
op_assign
id|board-&gt;first_offset
suffix:semicolon
id|bar
op_assign
id|FL_GET_BASE
c_func
(paren
id|board-&gt;flags
)paren
suffix:semicolon
r_if
c_cond
(paren
id|idx
OL
l_int|4
)paren
id|bar
op_add_assign
id|idx
suffix:semicolon
r_else
(brace
id|bar
op_assign
l_int|4
suffix:semicolon
id|offset
op_add_assign
(paren
id|idx
op_minus
l_int|4
)paren
op_star
id|board-&gt;uart_offset
suffix:semicolon
)brace
r_return
id|setup_port
c_func
(paren
id|dev
comma
id|port
comma
id|bar
comma
id|offset
comma
id|board-&gt;reg_shift
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * HP&squot;s Remote Management Console.  The Diva chip came in several&n; * different versions.  N-class, L2000 and A500 have two Diva chips, each&n; * with 3 UARTs (the third UART on the second chip is unused).  Superdome&n; * and Keystone have one Diva chip with 3 UARTs.  Some later machines have&n; * one Diva chip, but it has been expanded to 5 UARTs.&n; */
DECL|function|pci_hp_diva_init
r_static
r_int
id|__devinit
id|pci_hp_diva_init
c_func
(paren
r_struct
id|pci_dev
op_star
id|dev
)paren
(brace
r_int
id|rc
op_assign
l_int|0
suffix:semicolon
r_switch
c_cond
(paren
id|dev-&gt;subsystem_device
)paren
(brace
r_case
id|PCI_DEVICE_ID_HP_DIVA_TOSCA1
suffix:colon
r_case
id|PCI_DEVICE_ID_HP_DIVA_HALFDOME
suffix:colon
r_case
id|PCI_DEVICE_ID_HP_DIVA_KEYSTONE
suffix:colon
r_case
id|PCI_DEVICE_ID_HP_DIVA_EVEREST
suffix:colon
id|rc
op_assign
l_int|3
suffix:semicolon
r_break
suffix:semicolon
r_case
id|PCI_DEVICE_ID_HP_DIVA_TOSCA2
suffix:colon
id|rc
op_assign
l_int|2
suffix:semicolon
r_break
suffix:semicolon
r_case
id|PCI_DEVICE_ID_HP_DIVA_MAESTRO
suffix:colon
id|rc
op_assign
l_int|4
suffix:semicolon
r_break
suffix:semicolon
r_case
id|PCI_DEVICE_ID_HP_DIVA_POWERBAR
suffix:colon
id|rc
op_assign
l_int|1
suffix:semicolon
r_break
suffix:semicolon
)brace
r_return
id|rc
suffix:semicolon
)brace
multiline_comment|/*&n; * HP&squot;s Diva chip puts the 4th/5th serial port further out, and&n; * some serial ports are supposed to be hidden on certain models.&n; */
r_static
r_int
DECL|function|pci_hp_diva_setup
id|pci_hp_diva_setup
c_func
(paren
r_struct
id|pci_dev
op_star
id|dev
comma
r_struct
id|pci_board
op_star
id|board
comma
r_struct
id|uart_port
op_star
id|port
comma
r_int
id|idx
)paren
(brace
r_int
r_int
id|offset
op_assign
id|board-&gt;first_offset
suffix:semicolon
r_int
r_int
id|bar
op_assign
id|FL_GET_BASE
c_func
(paren
id|board-&gt;flags
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|dev-&gt;subsystem_device
)paren
(brace
r_case
id|PCI_DEVICE_ID_HP_DIVA_MAESTRO
suffix:colon
r_if
c_cond
(paren
id|idx
op_eq
l_int|3
)paren
id|idx
op_increment
suffix:semicolon
r_break
suffix:semicolon
r_case
id|PCI_DEVICE_ID_HP_DIVA_EVEREST
suffix:colon
r_if
c_cond
(paren
id|idx
OG
l_int|0
)paren
id|idx
op_increment
suffix:semicolon
r_if
c_cond
(paren
id|idx
OG
l_int|2
)paren
id|idx
op_increment
suffix:semicolon
r_break
suffix:semicolon
)brace
r_if
c_cond
(paren
id|idx
OG
l_int|2
)paren
id|offset
op_assign
l_int|0x18
suffix:semicolon
id|offset
op_add_assign
id|idx
op_star
id|board-&gt;uart_offset
suffix:semicolon
r_return
id|setup_port
c_func
(paren
id|dev
comma
id|port
comma
id|bar
comma
id|offset
comma
id|board-&gt;reg_shift
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * Added for EKF Intel i960 serial boards&n; */
DECL|function|pci_inteli960ni_init
r_static
r_int
id|__devinit
id|pci_inteli960ni_init
c_func
(paren
r_struct
id|pci_dev
op_star
id|dev
)paren
(brace
r_int
r_int
id|oldval
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
(paren
id|dev-&gt;subsystem_device
op_amp
l_int|0x1000
)paren
)paren
r_return
op_minus
id|ENODEV
suffix:semicolon
multiline_comment|/* is firmware started? */
id|pci_read_config_dword
c_func
(paren
id|dev
comma
l_int|0x44
comma
(paren
r_void
op_star
)paren
op_amp
id|oldval
)paren
suffix:semicolon
r_if
c_cond
(paren
id|oldval
op_eq
l_int|0x00001000L
)paren
(brace
multiline_comment|/* RESET value */
id|printk
c_func
(paren
id|KERN_DEBUG
l_string|&quot;Local i960 firmware missing&quot;
)paren
suffix:semicolon
r_return
op_minus
id|ENODEV
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/*&n; * Some PCI serial cards using the PLX 9050 PCI interface chip require&n; * that the card interrupt be explicitly enabled or disabled.  This&n; * seems to be mainly needed on card using the PLX which also use I/O&n; * mapped memory.&n; */
DECL|function|pci_plx9050_init
r_static
r_int
id|__devinit
id|pci_plx9050_init
c_func
(paren
r_struct
id|pci_dev
op_star
id|dev
)paren
(brace
id|u8
id|irq_config
suffix:semicolon
r_void
id|__iomem
op_star
id|p
suffix:semicolon
r_if
c_cond
(paren
(paren
id|pci_resource_flags
c_func
(paren
id|dev
comma
l_int|0
)paren
op_amp
id|IORESOURCE_MEM
)paren
op_eq
l_int|0
)paren
(brace
id|moan_device
c_func
(paren
l_string|&quot;no memory in bar 0&quot;
comma
id|dev
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
id|irq_config
op_assign
l_int|0x41
suffix:semicolon
r_if
c_cond
(paren
id|dev-&gt;vendor
op_eq
id|PCI_VENDOR_ID_PANACOM
)paren
id|irq_config
op_assign
l_int|0x43
suffix:semicolon
r_if
c_cond
(paren
(paren
id|dev-&gt;vendor
op_eq
id|PCI_VENDOR_ID_PLX
)paren
op_logical_and
(paren
id|dev-&gt;device
op_eq
id|PCI_DEVICE_ID_PLX_ROMULUS
)paren
)paren
(brace
multiline_comment|/*&n;&t;&t; * As the megawolf cards have the int pins active&n;&t;&t; * high, and have 2 UART chips, both ints must be&n;&t;&t; * enabled on the 9050. Also, the UARTS are set in&n;&t;&t; * 16450 mode by default, so we have to enable the&n;&t;&t; * 16C950 &squot;enhanced&squot; mode so that we can use the&n;&t;&t; * deep FIFOs&n;&t;&t; */
id|irq_config
op_assign
l_int|0x5b
suffix:semicolon
)brace
multiline_comment|/*&n;&t; * enable/disable interrupts&n;&t; */
id|p
op_assign
id|ioremap
c_func
(paren
id|pci_resource_start
c_func
(paren
id|dev
comma
l_int|0
)paren
comma
l_int|0x80
)paren
suffix:semicolon
r_if
c_cond
(paren
id|p
op_eq
l_int|NULL
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
id|writel
c_func
(paren
id|irq_config
comma
id|p
op_plus
l_int|0x4c
)paren
suffix:semicolon
multiline_comment|/*&n;&t; * Read the register back to ensure that it took effect.&n;&t; */
id|readl
c_func
(paren
id|p
op_plus
l_int|0x4c
)paren
suffix:semicolon
id|iounmap
c_func
(paren
id|p
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|pci_plx9050_exit
r_static
r_void
id|__devexit
id|pci_plx9050_exit
c_func
(paren
r_struct
id|pci_dev
op_star
id|dev
)paren
(brace
id|u8
id|__iomem
op_star
id|p
suffix:semicolon
r_if
c_cond
(paren
(paren
id|pci_resource_flags
c_func
(paren
id|dev
comma
l_int|0
)paren
op_amp
id|IORESOURCE_MEM
)paren
op_eq
l_int|0
)paren
r_return
suffix:semicolon
multiline_comment|/*&n;&t; * disable interrupts&n;&t; */
id|p
op_assign
id|ioremap
c_func
(paren
id|pci_resource_start
c_func
(paren
id|dev
comma
l_int|0
)paren
comma
l_int|0x80
)paren
suffix:semicolon
r_if
c_cond
(paren
id|p
op_ne
l_int|NULL
)paren
(brace
id|writel
c_func
(paren
l_int|0
comma
id|p
op_plus
l_int|0x4c
)paren
suffix:semicolon
multiline_comment|/*&n;&t;&t; * Read the register back to ensure that it took effect.&n;&t;&t; */
id|readl
c_func
(paren
id|p
op_plus
l_int|0x4c
)paren
suffix:semicolon
id|iounmap
c_func
(paren
id|p
)paren
suffix:semicolon
)brace
)brace
multiline_comment|/* SBS Technologies Inc. PMC-OCTPRO and P-OCTAL cards */
r_static
r_int
DECL|function|sbs_setup
id|sbs_setup
c_func
(paren
r_struct
id|pci_dev
op_star
id|dev
comma
r_struct
id|pci_board
op_star
id|board
comma
r_struct
id|uart_port
op_star
id|port
comma
r_int
id|idx
)paren
(brace
r_int
r_int
id|bar
comma
id|offset
op_assign
id|board-&gt;first_offset
suffix:semicolon
id|bar
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|idx
OL
l_int|4
)paren
(brace
multiline_comment|/* first four channels map to 0, 0x100, 0x200, 0x300 */
id|offset
op_add_assign
id|idx
op_star
id|board-&gt;uart_offset
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|idx
OL
l_int|8
)paren
(brace
multiline_comment|/* last four channels map to 0x1000, 0x1100, 0x1200, 0x1300 */
id|offset
op_add_assign
id|idx
op_star
id|board-&gt;uart_offset
op_plus
l_int|0xC00
suffix:semicolon
)brace
r_else
multiline_comment|/* we have only 8 ports on PMC-OCTALPRO */
r_return
l_int|1
suffix:semicolon
r_return
id|setup_port
c_func
(paren
id|dev
comma
id|port
comma
id|bar
comma
id|offset
comma
id|board-&gt;reg_shift
)paren
suffix:semicolon
)brace
multiline_comment|/*&n;* This does initialization for PMC OCTALPRO cards:&n;* maps the device memory, resets the UARTs (needed, bc&n;* if the module is removed and inserted again, the card&n;* is in the sleep mode) and enables global interrupt.&n;*/
multiline_comment|/* global control register offset for SBS PMC-OctalPro */
DECL|macro|OCT_REG_CR_OFF
mdefine_line|#define OCT_REG_CR_OFF&t;&t;0x500
DECL|function|sbs_init
r_static
r_int
id|__devinit
id|sbs_init
c_func
(paren
r_struct
id|pci_dev
op_star
id|dev
)paren
(brace
id|u8
id|__iomem
op_star
id|p
suffix:semicolon
id|p
op_assign
id|ioremap
c_func
(paren
id|pci_resource_start
c_func
(paren
id|dev
comma
l_int|0
)paren
comma
id|pci_resource_len
c_func
(paren
id|dev
comma
l_int|0
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|p
op_eq
l_int|NULL
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
multiline_comment|/* Set bit-4 Control Register (UART RESET) in to reset the uarts */
id|writeb
c_func
(paren
l_int|0x10
comma
id|p
op_plus
id|OCT_REG_CR_OFF
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|50
)paren
suffix:semicolon
id|writeb
c_func
(paren
l_int|0x0
comma
id|p
op_plus
id|OCT_REG_CR_OFF
)paren
suffix:semicolon
multiline_comment|/* Set bit-2 (INTENABLE) of Control Register */
id|writeb
c_func
(paren
l_int|0x4
comma
id|p
op_plus
id|OCT_REG_CR_OFF
)paren
suffix:semicolon
id|iounmap
c_func
(paren
id|p
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/*&n; * Disables the global interrupt of PMC-OctalPro&n; */
DECL|function|sbs_exit
r_static
r_void
id|__devexit
id|sbs_exit
c_func
(paren
r_struct
id|pci_dev
op_star
id|dev
)paren
(brace
id|u8
id|__iomem
op_star
id|p
suffix:semicolon
id|p
op_assign
id|ioremap
c_func
(paren
id|pci_resource_start
c_func
(paren
id|dev
comma
l_int|0
)paren
comma
id|pci_resource_len
c_func
(paren
id|dev
comma
l_int|0
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|p
op_ne
l_int|NULL
)paren
(brace
id|writeb
c_func
(paren
l_int|0
comma
id|p
op_plus
id|OCT_REG_CR_OFF
)paren
suffix:semicolon
)brace
id|iounmap
c_func
(paren
id|p
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * SIIG serial cards have an PCI interface chip which also controls&n; * the UART clocking frequency. Each UART can be clocked independently&n; * (except cards equiped with 4 UARTs) and initial clocking settings&n; * are stored in the EEPROM chip. It can cause problems because this&n; * version of serial driver doesn&squot;t support differently clocked UART&squot;s&n; * on single PCI card. To prevent this, initialization functions set&n; * high frequency clocking for all UART&squot;s on given card. It is safe (I&n; * hope) because it doesn&squot;t touch EEPROM settings to prevent conflicts&n; * with other OSes (like M$ DOS).&n; *&n; *  SIIG support added by Andrey Panin &lt;pazke@donpac.ru&gt;, 10/1999&n; * &n; * There is two family of SIIG serial cards with different PCI&n; * interface chip and different configuration methods:&n; *     - 10x cards have control registers in IO and/or memory space;&n; *     - 20x cards have control registers in standard PCI configuration space.&n; *&n; * Note: some SIIG cards are probed by the parport_serial object.&n; */
DECL|macro|PCI_DEVICE_ID_SIIG_1S_10x
mdefine_line|#define PCI_DEVICE_ID_SIIG_1S_10x (PCI_DEVICE_ID_SIIG_1S_10x_550 &amp; 0xfffc)
DECL|macro|PCI_DEVICE_ID_SIIG_2S_10x
mdefine_line|#define PCI_DEVICE_ID_SIIG_2S_10x (PCI_DEVICE_ID_SIIG_2S_10x_550 &amp; 0xfff8)
DECL|function|pci_siig10x_init
r_static
r_int
id|pci_siig10x_init
c_func
(paren
r_struct
id|pci_dev
op_star
id|dev
)paren
(brace
id|u16
id|data
suffix:semicolon
r_void
id|__iomem
op_star
id|p
suffix:semicolon
r_switch
c_cond
(paren
id|dev-&gt;device
op_amp
l_int|0xfff8
)paren
(brace
r_case
id|PCI_DEVICE_ID_SIIG_1S_10x
suffix:colon
multiline_comment|/* 1S */
id|data
op_assign
l_int|0xffdf
suffix:semicolon
r_break
suffix:semicolon
r_case
id|PCI_DEVICE_ID_SIIG_2S_10x
suffix:colon
multiline_comment|/* 2S, 2S1P */
id|data
op_assign
l_int|0xf7ff
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
multiline_comment|/* 1S1P, 4S */
id|data
op_assign
l_int|0xfffb
suffix:semicolon
r_break
suffix:semicolon
)brace
id|p
op_assign
id|ioremap
c_func
(paren
id|pci_resource_start
c_func
(paren
id|dev
comma
l_int|0
)paren
comma
l_int|0x80
)paren
suffix:semicolon
r_if
c_cond
(paren
id|p
op_eq
l_int|NULL
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
id|writew
c_func
(paren
id|readw
c_func
(paren
id|p
op_plus
l_int|0x28
)paren
op_amp
id|data
comma
id|p
op_plus
l_int|0x28
)paren
suffix:semicolon
id|readw
c_func
(paren
id|p
op_plus
l_int|0x28
)paren
suffix:semicolon
id|iounmap
c_func
(paren
id|p
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|macro|PCI_DEVICE_ID_SIIG_2S_20x
mdefine_line|#define PCI_DEVICE_ID_SIIG_2S_20x (PCI_DEVICE_ID_SIIG_2S_20x_550 &amp; 0xfffc)
DECL|macro|PCI_DEVICE_ID_SIIG_2S1P_20x
mdefine_line|#define PCI_DEVICE_ID_SIIG_2S1P_20x (PCI_DEVICE_ID_SIIG_2S1P_20x_550 &amp; 0xfffc)
DECL|function|pci_siig20x_init
r_static
r_int
id|pci_siig20x_init
c_func
(paren
r_struct
id|pci_dev
op_star
id|dev
)paren
(brace
id|u8
id|data
suffix:semicolon
multiline_comment|/* Change clock frequency for the first UART. */
id|pci_read_config_byte
c_func
(paren
id|dev
comma
l_int|0x6f
comma
op_amp
id|data
)paren
suffix:semicolon
id|pci_write_config_byte
c_func
(paren
id|dev
comma
l_int|0x6f
comma
id|data
op_amp
l_int|0xef
)paren
suffix:semicolon
multiline_comment|/* If this card has 2 UART, we have to do the same with second UART. */
r_if
c_cond
(paren
(paren
(paren
id|dev-&gt;device
op_amp
l_int|0xfffc
)paren
op_eq
id|PCI_DEVICE_ID_SIIG_2S_20x
)paren
op_logical_or
(paren
(paren
id|dev-&gt;device
op_amp
l_int|0xfffc
)paren
op_eq
id|PCI_DEVICE_ID_SIIG_2S1P_20x
)paren
)paren
(brace
id|pci_read_config_byte
c_func
(paren
id|dev
comma
l_int|0x73
comma
op_amp
id|data
)paren
suffix:semicolon
id|pci_write_config_byte
c_func
(paren
id|dev
comma
l_int|0x73
comma
id|data
op_amp
l_int|0xef
)paren
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|pci_siig10x_fn
r_int
id|pci_siig10x_fn
c_func
(paren
r_struct
id|pci_dev
op_star
id|dev
comma
r_int
id|enable
)paren
(brace
r_int
id|ret
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|enable
)paren
id|ret
op_assign
id|pci_siig10x_init
c_func
(paren
id|dev
)paren
suffix:semicolon
r_return
id|ret
suffix:semicolon
)brace
DECL|function|pci_siig20x_fn
r_int
id|pci_siig20x_fn
c_func
(paren
r_struct
id|pci_dev
op_star
id|dev
comma
r_int
id|enable
)paren
(brace
r_int
id|ret
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|enable
)paren
id|ret
op_assign
id|pci_siig20x_init
c_func
(paren
id|dev
)paren
suffix:semicolon
r_return
id|ret
suffix:semicolon
)brace
DECL|variable|pci_siig10x_fn
id|EXPORT_SYMBOL
c_func
(paren
id|pci_siig10x_fn
)paren
suffix:semicolon
DECL|variable|pci_siig20x_fn
id|EXPORT_SYMBOL
c_func
(paren
id|pci_siig20x_fn
)paren
suffix:semicolon
multiline_comment|/*&n; * Timedia has an explosion of boards, and to avoid the PCI table from&n; * growing *huge*, we use this function to collapse some 70 entries&n; * in the PCI table into one, for sanity&squot;s and compactness&squot;s sake.&n; */
DECL|variable|timedia_single_port
r_static
r_int
r_int
id|timedia_single_port
(braket
)braket
op_assign
(brace
l_int|0x4025
comma
l_int|0x4027
comma
l_int|0x4028
comma
l_int|0x5025
comma
l_int|0x5027
comma
l_int|0
)brace
suffix:semicolon
DECL|variable|timedia_dual_port
r_static
r_int
r_int
id|timedia_dual_port
(braket
)braket
op_assign
(brace
l_int|0x0002
comma
l_int|0x4036
comma
l_int|0x4037
comma
l_int|0x4038
comma
l_int|0x4078
comma
l_int|0x4079
comma
l_int|0x4085
comma
l_int|0x4088
comma
l_int|0x4089
comma
l_int|0x5037
comma
l_int|0x5078
comma
l_int|0x5079
comma
l_int|0x5085
comma
l_int|0x6079
comma
l_int|0x7079
comma
l_int|0x8079
comma
l_int|0x8137
comma
l_int|0x8138
comma
l_int|0x8237
comma
l_int|0x8238
comma
l_int|0x9079
comma
l_int|0x9137
comma
l_int|0x9138
comma
l_int|0x9237
comma
l_int|0x9238
comma
l_int|0xA079
comma
l_int|0xB079
comma
l_int|0xC079
comma
l_int|0xD079
comma
l_int|0
)brace
suffix:semicolon
DECL|variable|timedia_quad_port
r_static
r_int
r_int
id|timedia_quad_port
(braket
)braket
op_assign
(brace
l_int|0x4055
comma
l_int|0x4056
comma
l_int|0x4095
comma
l_int|0x4096
comma
l_int|0x5056
comma
l_int|0x8156
comma
l_int|0x8157
comma
l_int|0x8256
comma
l_int|0x8257
comma
l_int|0x9056
comma
l_int|0x9156
comma
l_int|0x9157
comma
l_int|0x9158
comma
l_int|0x9159
comma
l_int|0x9256
comma
l_int|0x9257
comma
l_int|0xA056
comma
l_int|0xA157
comma
l_int|0xA158
comma
l_int|0xA159
comma
l_int|0xB056
comma
l_int|0xB157
comma
l_int|0
)brace
suffix:semicolon
DECL|variable|timedia_eight_port
r_static
r_int
r_int
id|timedia_eight_port
(braket
)braket
op_assign
(brace
l_int|0x4065
comma
l_int|0x4066
comma
l_int|0x5065
comma
l_int|0x5066
comma
l_int|0x8166
comma
l_int|0x9066
comma
l_int|0x9166
comma
l_int|0x9167
comma
l_int|0x9168
comma
l_int|0xA066
comma
l_int|0xA167
comma
l_int|0xA168
comma
l_int|0
)brace
suffix:semicolon
DECL|struct|timedia_struct
r_static
r_struct
id|timedia_struct
(brace
DECL|member|num
r_int
id|num
suffix:semicolon
DECL|member|ids
r_int
r_int
op_star
id|ids
suffix:semicolon
DECL|variable|timedia_data
)brace
id|timedia_data
(braket
)braket
op_assign
(brace
(brace
l_int|1
comma
id|timedia_single_port
)brace
comma
(brace
l_int|2
comma
id|timedia_dual_port
)brace
comma
(brace
l_int|4
comma
id|timedia_quad_port
)brace
comma
(brace
l_int|8
comma
id|timedia_eight_port
)brace
comma
(brace
l_int|0
comma
l_int|NULL
)brace
)brace
suffix:semicolon
DECL|function|pci_timedia_init
r_static
r_int
id|__devinit
id|pci_timedia_init
c_func
(paren
r_struct
id|pci_dev
op_star
id|dev
)paren
(brace
r_int
r_int
op_star
id|ids
suffix:semicolon
r_int
id|i
comma
id|j
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|timedia_data
(braket
id|i
)braket
dot
id|num
suffix:semicolon
id|i
op_increment
)paren
(brace
id|ids
op_assign
id|timedia_data
(braket
id|i
)braket
dot
id|ids
suffix:semicolon
r_for
c_loop
(paren
id|j
op_assign
l_int|0
suffix:semicolon
id|ids
(braket
id|j
)braket
suffix:semicolon
id|j
op_increment
)paren
r_if
c_cond
(paren
id|dev-&gt;subsystem_device
op_eq
id|ids
(braket
id|j
)braket
)paren
r_return
id|timedia_data
(braket
id|i
)braket
dot
id|num
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/*&n; * Timedia/SUNIX uses a mixture of BARs and offsets&n; * Ugh, this is ugly as all hell --- TYT&n; */
r_static
r_int
DECL|function|pci_timedia_setup
id|pci_timedia_setup
c_func
(paren
r_struct
id|pci_dev
op_star
id|dev
comma
r_struct
id|pci_board
op_star
id|board
comma
r_struct
id|uart_port
op_star
id|port
comma
r_int
id|idx
)paren
(brace
r_int
r_int
id|bar
op_assign
l_int|0
comma
id|offset
op_assign
id|board-&gt;first_offset
suffix:semicolon
r_switch
c_cond
(paren
id|idx
)paren
(brace
r_case
l_int|0
suffix:colon
id|bar
op_assign
l_int|0
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|1
suffix:colon
id|offset
op_assign
id|board-&gt;uart_offset
suffix:semicolon
id|bar
op_assign
l_int|0
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|2
suffix:colon
id|bar
op_assign
l_int|1
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|3
suffix:colon
id|offset
op_assign
id|board-&gt;uart_offset
suffix:semicolon
id|bar
op_assign
l_int|1
suffix:semicolon
r_case
l_int|4
suffix:colon
multiline_comment|/* BAR 2 */
r_case
l_int|5
suffix:colon
multiline_comment|/* BAR 3 */
r_case
l_int|6
suffix:colon
multiline_comment|/* BAR 4 */
r_case
l_int|7
suffix:colon
multiline_comment|/* BAR 5 */
id|bar
op_assign
id|idx
op_minus
l_int|2
suffix:semicolon
)brace
r_return
id|setup_port
c_func
(paren
id|dev
comma
id|port
comma
id|bar
comma
id|offset
comma
id|board-&gt;reg_shift
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * Some Titan cards are also a little weird&n; */
r_static
r_int
DECL|function|titan_400l_800l_setup
id|titan_400l_800l_setup
c_func
(paren
r_struct
id|pci_dev
op_star
id|dev
comma
r_struct
id|pci_board
op_star
id|board
comma
r_struct
id|uart_port
op_star
id|port
comma
r_int
id|idx
)paren
(brace
r_int
r_int
id|bar
comma
id|offset
op_assign
id|board-&gt;first_offset
suffix:semicolon
r_switch
c_cond
(paren
id|idx
)paren
(brace
r_case
l_int|0
suffix:colon
id|bar
op_assign
l_int|1
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|1
suffix:colon
id|bar
op_assign
l_int|2
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
id|bar
op_assign
l_int|4
suffix:semicolon
id|offset
op_assign
(paren
id|idx
op_minus
l_int|2
)paren
op_star
id|board-&gt;uart_offset
suffix:semicolon
)brace
r_return
id|setup_port
c_func
(paren
id|dev
comma
id|port
comma
id|bar
comma
id|offset
comma
id|board-&gt;reg_shift
)paren
suffix:semicolon
)brace
DECL|function|pci_xircom_init
r_static
r_int
id|__devinit
id|pci_xircom_init
c_func
(paren
r_struct
id|pci_dev
op_star
id|dev
)paren
(brace
id|msleep
c_func
(paren
l_int|100
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|pci_netmos_init
r_static
r_int
id|__devinit
id|pci_netmos_init
c_func
(paren
r_struct
id|pci_dev
op_star
id|dev
)paren
(brace
multiline_comment|/* subdevice 0x00PS means &lt;P&gt; parallel, &lt;S&gt; serial */
r_int
r_int
id|num_serial
op_assign
id|dev-&gt;subsystem_device
op_amp
l_int|0xf
suffix:semicolon
r_if
c_cond
(paren
id|num_serial
op_eq
l_int|0
)paren
r_return
op_minus
id|ENODEV
suffix:semicolon
r_return
id|num_serial
suffix:semicolon
)brace
r_static
r_int
DECL|function|pci_default_setup
id|pci_default_setup
c_func
(paren
r_struct
id|pci_dev
op_star
id|dev
comma
r_struct
id|pci_board
op_star
id|board
comma
r_struct
id|uart_port
op_star
id|port
comma
r_int
id|idx
)paren
(brace
r_int
r_int
id|bar
comma
id|offset
op_assign
id|board-&gt;first_offset
comma
id|maxnr
suffix:semicolon
id|bar
op_assign
id|FL_GET_BASE
c_func
(paren
id|board-&gt;flags
)paren
suffix:semicolon
r_if
c_cond
(paren
id|board-&gt;flags
op_amp
id|FL_BASE_BARS
)paren
id|bar
op_add_assign
id|idx
suffix:semicolon
r_else
id|offset
op_add_assign
id|idx
op_star
id|board-&gt;uart_offset
suffix:semicolon
id|maxnr
op_assign
(paren
id|pci_resource_len
c_func
(paren
id|dev
comma
id|bar
)paren
op_minus
id|board-&gt;first_offset
)paren
op_div
(paren
l_int|8
op_lshift
id|board-&gt;reg_shift
)paren
suffix:semicolon
r_if
c_cond
(paren
id|board-&gt;flags
op_amp
id|FL_REGION_SZ_CAP
op_logical_and
id|idx
op_ge
id|maxnr
)paren
r_return
l_int|1
suffix:semicolon
r_return
id|setup_port
c_func
(paren
id|dev
comma
id|port
comma
id|bar
comma
id|offset
comma
id|board-&gt;reg_shift
)paren
suffix:semicolon
)brace
multiline_comment|/* This should be in linux/pci_ids.h */
DECL|macro|PCI_VENDOR_ID_SBSMODULARIO
mdefine_line|#define PCI_VENDOR_ID_SBSMODULARIO&t;0x124B
DECL|macro|PCI_SUBVENDOR_ID_SBSMODULARIO
mdefine_line|#define PCI_SUBVENDOR_ID_SBSMODULARIO&t;0x124B
DECL|macro|PCI_DEVICE_ID_OCTPRO
mdefine_line|#define PCI_DEVICE_ID_OCTPRO&t;&t;0x0001
DECL|macro|PCI_SUBDEVICE_ID_OCTPRO232
mdefine_line|#define PCI_SUBDEVICE_ID_OCTPRO232&t;0x0108
DECL|macro|PCI_SUBDEVICE_ID_OCTPRO422
mdefine_line|#define PCI_SUBDEVICE_ID_OCTPRO422&t;0x0208
DECL|macro|PCI_SUBDEVICE_ID_POCTAL232
mdefine_line|#define PCI_SUBDEVICE_ID_POCTAL232&t;0x0308
DECL|macro|PCI_SUBDEVICE_ID_POCTAL422
mdefine_line|#define PCI_SUBDEVICE_ID_POCTAL422&t;0x0408
multiline_comment|/*&n; * Master list of serial port init/setup/exit quirks.&n; * This does not describe the general nature of the port.&n; * (ie, baud base, number and location of ports, etc)&n; *&n; * This list is ordered alphabetically by vendor then device.&n; * Specific entries must come before more generic entries.&n; */
DECL|variable|pci_serial_quirks
r_static
r_struct
id|pci_serial_quirk
id|pci_serial_quirks
(braket
)braket
op_assign
(brace
multiline_comment|/*&n;&t; * AFAVLAB cards.&n;&t; *  It is not clear whether this applies to all products.&n;&t; */
(brace
dot
id|vendor
op_assign
id|PCI_VENDOR_ID_AFAVLAB
comma
dot
id|device
op_assign
id|PCI_ANY_ID
comma
dot
id|subvendor
op_assign
id|PCI_ANY_ID
comma
dot
id|subdevice
op_assign
id|PCI_ANY_ID
comma
dot
id|setup
op_assign
id|afavlab_setup
comma
)brace
comma
multiline_comment|/*&n;&t; * HP Diva&n;&t; */
(brace
dot
id|vendor
op_assign
id|PCI_VENDOR_ID_HP
comma
dot
id|device
op_assign
id|PCI_DEVICE_ID_HP_DIVA
comma
dot
id|subvendor
op_assign
id|PCI_ANY_ID
comma
dot
id|subdevice
op_assign
id|PCI_ANY_ID
comma
dot
id|init
op_assign
id|pci_hp_diva_init
comma
dot
id|setup
op_assign
id|pci_hp_diva_setup
comma
)brace
comma
multiline_comment|/*&n;&t; * Intel&n;&t; */
(brace
dot
id|vendor
op_assign
id|PCI_VENDOR_ID_INTEL
comma
dot
id|device
op_assign
id|PCI_DEVICE_ID_INTEL_80960_RP
comma
dot
id|subvendor
op_assign
l_int|0xe4bf
comma
dot
id|subdevice
op_assign
id|PCI_ANY_ID
comma
dot
id|init
op_assign
id|pci_inteli960ni_init
comma
dot
id|setup
op_assign
id|pci_default_setup
comma
)brace
comma
multiline_comment|/*&n;&t; * Panacom&n;&t; */
(brace
dot
id|vendor
op_assign
id|PCI_VENDOR_ID_PANACOM
comma
dot
id|device
op_assign
id|PCI_DEVICE_ID_PANACOM_QUADMODEM
comma
dot
id|subvendor
op_assign
id|PCI_ANY_ID
comma
dot
id|subdevice
op_assign
id|PCI_ANY_ID
comma
dot
id|init
op_assign
id|pci_plx9050_init
comma
dot
id|setup
op_assign
id|pci_default_setup
comma
dot
m_exit
op_assign
id|__devexit_p
c_func
(paren
id|pci_plx9050_exit
)paren
comma
)brace
comma
(brace
dot
id|vendor
op_assign
id|PCI_VENDOR_ID_PANACOM
comma
dot
id|device
op_assign
id|PCI_DEVICE_ID_PANACOM_DUALMODEM
comma
dot
id|subvendor
op_assign
id|PCI_ANY_ID
comma
dot
id|subdevice
op_assign
id|PCI_ANY_ID
comma
dot
id|init
op_assign
id|pci_plx9050_init
comma
dot
id|setup
op_assign
id|pci_default_setup
comma
dot
m_exit
op_assign
id|__devexit_p
c_func
(paren
id|pci_plx9050_exit
)paren
comma
)brace
comma
multiline_comment|/*&n;&t; * PLX&n;&t; */
(brace
dot
id|vendor
op_assign
id|PCI_VENDOR_ID_PLX
comma
dot
id|device
op_assign
id|PCI_DEVICE_ID_PLX_9050
comma
dot
id|subvendor
op_assign
id|PCI_SUBVENDOR_ID_KEYSPAN
comma
dot
id|subdevice
op_assign
id|PCI_SUBDEVICE_ID_KEYSPAN_SX2
comma
dot
id|init
op_assign
id|pci_plx9050_init
comma
dot
id|setup
op_assign
id|pci_default_setup
comma
dot
m_exit
op_assign
id|__devexit_p
c_func
(paren
id|pci_plx9050_exit
)paren
comma
)brace
comma
(brace
dot
id|vendor
op_assign
id|PCI_VENDOR_ID_PLX
comma
dot
id|device
op_assign
id|PCI_DEVICE_ID_PLX_ROMULUS
comma
dot
id|subvendor
op_assign
id|PCI_VENDOR_ID_PLX
comma
dot
id|subdevice
op_assign
id|PCI_DEVICE_ID_PLX_ROMULUS
comma
dot
id|init
op_assign
id|pci_plx9050_init
comma
dot
id|setup
op_assign
id|pci_default_setup
comma
dot
m_exit
op_assign
id|__devexit_p
c_func
(paren
id|pci_plx9050_exit
)paren
comma
)brace
comma
multiline_comment|/*&n;&t; * SBS Technologies, Inc., PMC-OCTALPRO 232&n;&t; */
(brace
dot
id|vendor
op_assign
id|PCI_VENDOR_ID_SBSMODULARIO
comma
dot
id|device
op_assign
id|PCI_DEVICE_ID_OCTPRO
comma
dot
id|subvendor
op_assign
id|PCI_SUBVENDOR_ID_SBSMODULARIO
comma
dot
id|subdevice
op_assign
id|PCI_SUBDEVICE_ID_OCTPRO232
comma
dot
id|init
op_assign
id|sbs_init
comma
dot
id|setup
op_assign
id|sbs_setup
comma
dot
m_exit
op_assign
id|__devexit_p
c_func
(paren
id|sbs_exit
)paren
comma
)brace
comma
multiline_comment|/*&n;&t; * SBS Technologies, Inc., PMC-OCTALPRO 422&n;&t; */
(brace
dot
id|vendor
op_assign
id|PCI_VENDOR_ID_SBSMODULARIO
comma
dot
id|device
op_assign
id|PCI_DEVICE_ID_OCTPRO
comma
dot
id|subvendor
op_assign
id|PCI_SUBVENDOR_ID_SBSMODULARIO
comma
dot
id|subdevice
op_assign
id|PCI_SUBDEVICE_ID_OCTPRO422
comma
dot
id|init
op_assign
id|sbs_init
comma
dot
id|setup
op_assign
id|sbs_setup
comma
dot
m_exit
op_assign
id|__devexit_p
c_func
(paren
id|sbs_exit
)paren
comma
)brace
comma
multiline_comment|/*&n;&t; * SBS Technologies, Inc., P-Octal 232&n;&t; */
(brace
dot
id|vendor
op_assign
id|PCI_VENDOR_ID_SBSMODULARIO
comma
dot
id|device
op_assign
id|PCI_DEVICE_ID_OCTPRO
comma
dot
id|subvendor
op_assign
id|PCI_SUBVENDOR_ID_SBSMODULARIO
comma
dot
id|subdevice
op_assign
id|PCI_SUBDEVICE_ID_POCTAL232
comma
dot
id|init
op_assign
id|sbs_init
comma
dot
id|setup
op_assign
id|sbs_setup
comma
dot
m_exit
op_assign
id|__devexit_p
c_func
(paren
id|sbs_exit
)paren
comma
)brace
comma
multiline_comment|/*&n;&t; * SBS Technologies, Inc., P-Octal 422&n;&t; */
(brace
dot
id|vendor
op_assign
id|PCI_VENDOR_ID_SBSMODULARIO
comma
dot
id|device
op_assign
id|PCI_DEVICE_ID_OCTPRO
comma
dot
id|subvendor
op_assign
id|PCI_SUBVENDOR_ID_SBSMODULARIO
comma
dot
id|subdevice
op_assign
id|PCI_SUBDEVICE_ID_POCTAL422
comma
dot
id|init
op_assign
id|sbs_init
comma
dot
id|setup
op_assign
id|sbs_setup
comma
dot
m_exit
op_assign
id|__devexit_p
c_func
(paren
id|sbs_exit
)paren
comma
)brace
comma
multiline_comment|/*&n;&t; * SIIG cards.&n;&t; *  It is not clear whether these could be collapsed.&n;&t; */
(brace
dot
id|vendor
op_assign
id|PCI_VENDOR_ID_SIIG
comma
dot
id|device
op_assign
id|PCI_DEVICE_ID_SIIG_1S_10x_550
comma
dot
id|subvendor
op_assign
id|PCI_ANY_ID
comma
dot
id|subdevice
op_assign
id|PCI_ANY_ID
comma
dot
id|init
op_assign
id|pci_siig10x_init
comma
dot
id|setup
op_assign
id|pci_default_setup
comma
)brace
comma
(brace
dot
id|vendor
op_assign
id|PCI_VENDOR_ID_SIIG
comma
dot
id|device
op_assign
id|PCI_DEVICE_ID_SIIG_1S_10x_650
comma
dot
id|subvendor
op_assign
id|PCI_ANY_ID
comma
dot
id|subdevice
op_assign
id|PCI_ANY_ID
comma
dot
id|init
op_assign
id|pci_siig10x_init
comma
dot
id|setup
op_assign
id|pci_default_setup
comma
)brace
comma
(brace
dot
id|vendor
op_assign
id|PCI_VENDOR_ID_SIIG
comma
dot
id|device
op_assign
id|PCI_DEVICE_ID_SIIG_1S_10x_850
comma
dot
id|subvendor
op_assign
id|PCI_ANY_ID
comma
dot
id|subdevice
op_assign
id|PCI_ANY_ID
comma
dot
id|init
op_assign
id|pci_siig10x_init
comma
dot
id|setup
op_assign
id|pci_default_setup
comma
)brace
comma
(brace
dot
id|vendor
op_assign
id|PCI_VENDOR_ID_SIIG
comma
dot
id|device
op_assign
id|PCI_DEVICE_ID_SIIG_2S_10x_550
comma
dot
id|subvendor
op_assign
id|PCI_ANY_ID
comma
dot
id|subdevice
op_assign
id|PCI_ANY_ID
comma
dot
id|init
op_assign
id|pci_siig10x_init
comma
dot
id|setup
op_assign
id|pci_default_setup
comma
)brace
comma
(brace
dot
id|vendor
op_assign
id|PCI_VENDOR_ID_SIIG
comma
dot
id|device
op_assign
id|PCI_DEVICE_ID_SIIG_2S_10x_650
comma
dot
id|subvendor
op_assign
id|PCI_ANY_ID
comma
dot
id|subdevice
op_assign
id|PCI_ANY_ID
comma
dot
id|init
op_assign
id|pci_siig10x_init
comma
dot
id|setup
op_assign
id|pci_default_setup
comma
)brace
comma
(brace
dot
id|vendor
op_assign
id|PCI_VENDOR_ID_SIIG
comma
dot
id|device
op_assign
id|PCI_DEVICE_ID_SIIG_2S_10x_850
comma
dot
id|subvendor
op_assign
id|PCI_ANY_ID
comma
dot
id|subdevice
op_assign
id|PCI_ANY_ID
comma
dot
id|init
op_assign
id|pci_siig10x_init
comma
dot
id|setup
op_assign
id|pci_default_setup
comma
)brace
comma
(brace
dot
id|vendor
op_assign
id|PCI_VENDOR_ID_SIIG
comma
dot
id|device
op_assign
id|PCI_DEVICE_ID_SIIG_4S_10x_550
comma
dot
id|subvendor
op_assign
id|PCI_ANY_ID
comma
dot
id|subdevice
op_assign
id|PCI_ANY_ID
comma
dot
id|init
op_assign
id|pci_siig10x_init
comma
dot
id|setup
op_assign
id|pci_default_setup
comma
)brace
comma
(brace
dot
id|vendor
op_assign
id|PCI_VENDOR_ID_SIIG
comma
dot
id|device
op_assign
id|PCI_DEVICE_ID_SIIG_4S_10x_650
comma
dot
id|subvendor
op_assign
id|PCI_ANY_ID
comma
dot
id|subdevice
op_assign
id|PCI_ANY_ID
comma
dot
id|init
op_assign
id|pci_siig10x_init
comma
dot
id|setup
op_assign
id|pci_default_setup
comma
)brace
comma
(brace
dot
id|vendor
op_assign
id|PCI_VENDOR_ID_SIIG
comma
dot
id|device
op_assign
id|PCI_DEVICE_ID_SIIG_4S_10x_850
comma
dot
id|subvendor
op_assign
id|PCI_ANY_ID
comma
dot
id|subdevice
op_assign
id|PCI_ANY_ID
comma
dot
id|init
op_assign
id|pci_siig10x_init
comma
dot
id|setup
op_assign
id|pci_default_setup
comma
)brace
comma
(brace
dot
id|vendor
op_assign
id|PCI_VENDOR_ID_SIIG
comma
dot
id|device
op_assign
id|PCI_DEVICE_ID_SIIG_1S_20x_550
comma
dot
id|subvendor
op_assign
id|PCI_ANY_ID
comma
dot
id|subdevice
op_assign
id|PCI_ANY_ID
comma
dot
id|init
op_assign
id|pci_siig20x_init
comma
dot
id|setup
op_assign
id|pci_default_setup
comma
)brace
comma
(brace
dot
id|vendor
op_assign
id|PCI_VENDOR_ID_SIIG
comma
dot
id|device
op_assign
id|PCI_DEVICE_ID_SIIG_1S_20x_650
comma
dot
id|subvendor
op_assign
id|PCI_ANY_ID
comma
dot
id|subdevice
op_assign
id|PCI_ANY_ID
comma
dot
id|init
op_assign
id|pci_siig20x_init
comma
dot
id|setup
op_assign
id|pci_default_setup
comma
)brace
comma
(brace
dot
id|vendor
op_assign
id|PCI_VENDOR_ID_SIIG
comma
dot
id|device
op_assign
id|PCI_DEVICE_ID_SIIG_1S_20x_850
comma
dot
id|subvendor
op_assign
id|PCI_ANY_ID
comma
dot
id|subdevice
op_assign
id|PCI_ANY_ID
comma
dot
id|init
op_assign
id|pci_siig20x_init
comma
dot
id|setup
op_assign
id|pci_default_setup
comma
)brace
comma
(brace
dot
id|vendor
op_assign
id|PCI_VENDOR_ID_SIIG
comma
dot
id|device
op_assign
id|PCI_DEVICE_ID_SIIG_2S_20x_550
comma
dot
id|subvendor
op_assign
id|PCI_ANY_ID
comma
dot
id|subdevice
op_assign
id|PCI_ANY_ID
comma
dot
id|init
op_assign
id|pci_siig20x_init
comma
dot
id|setup
op_assign
id|pci_default_setup
comma
)brace
comma
(brace
dot
id|vendor
op_assign
id|PCI_VENDOR_ID_SIIG
comma
dot
id|device
op_assign
id|PCI_DEVICE_ID_SIIG_2S_20x_650
comma
dot
id|subvendor
op_assign
id|PCI_ANY_ID
comma
dot
id|subdevice
op_assign
id|PCI_ANY_ID
comma
dot
id|init
op_assign
id|pci_siig20x_init
comma
dot
id|setup
op_assign
id|pci_default_setup
comma
)brace
comma
(brace
dot
id|vendor
op_assign
id|PCI_VENDOR_ID_SIIG
comma
dot
id|device
op_assign
id|PCI_DEVICE_ID_SIIG_2S_20x_850
comma
dot
id|subvendor
op_assign
id|PCI_ANY_ID
comma
dot
id|subdevice
op_assign
id|PCI_ANY_ID
comma
dot
id|init
op_assign
id|pci_siig20x_init
comma
dot
id|setup
op_assign
id|pci_default_setup
comma
)brace
comma
(brace
dot
id|vendor
op_assign
id|PCI_VENDOR_ID_SIIG
comma
dot
id|device
op_assign
id|PCI_DEVICE_ID_SIIG_4S_20x_550
comma
dot
id|subvendor
op_assign
id|PCI_ANY_ID
comma
dot
id|subdevice
op_assign
id|PCI_ANY_ID
comma
dot
id|init
op_assign
id|pci_siig20x_init
comma
dot
id|setup
op_assign
id|pci_default_setup
comma
)brace
comma
(brace
dot
id|vendor
op_assign
id|PCI_VENDOR_ID_SIIG
comma
dot
id|device
op_assign
id|PCI_DEVICE_ID_SIIG_4S_20x_650
comma
dot
id|subvendor
op_assign
id|PCI_ANY_ID
comma
dot
id|subdevice
op_assign
id|PCI_ANY_ID
comma
dot
id|init
op_assign
id|pci_siig20x_init
comma
dot
id|setup
op_assign
id|pci_default_setup
comma
)brace
comma
(brace
dot
id|vendor
op_assign
id|PCI_VENDOR_ID_SIIG
comma
dot
id|device
op_assign
id|PCI_DEVICE_ID_SIIG_4S_20x_850
comma
dot
id|subvendor
op_assign
id|PCI_ANY_ID
comma
dot
id|subdevice
op_assign
id|PCI_ANY_ID
comma
dot
id|init
op_assign
id|pci_siig20x_init
comma
dot
id|setup
op_assign
id|pci_default_setup
comma
)brace
comma
multiline_comment|/*&n;&t; * Titan cards&n;&t; */
(brace
dot
id|vendor
op_assign
id|PCI_VENDOR_ID_TITAN
comma
dot
id|device
op_assign
id|PCI_DEVICE_ID_TITAN_400L
comma
dot
id|subvendor
op_assign
id|PCI_ANY_ID
comma
dot
id|subdevice
op_assign
id|PCI_ANY_ID
comma
dot
id|setup
op_assign
id|titan_400l_800l_setup
comma
)brace
comma
(brace
dot
id|vendor
op_assign
id|PCI_VENDOR_ID_TITAN
comma
dot
id|device
op_assign
id|PCI_DEVICE_ID_TITAN_800L
comma
dot
id|subvendor
op_assign
id|PCI_ANY_ID
comma
dot
id|subdevice
op_assign
id|PCI_ANY_ID
comma
dot
id|setup
op_assign
id|titan_400l_800l_setup
comma
)brace
comma
multiline_comment|/*&n;&t; * Timedia cards&n;&t; */
(brace
dot
id|vendor
op_assign
id|PCI_VENDOR_ID_TIMEDIA
comma
dot
id|device
op_assign
id|PCI_DEVICE_ID_TIMEDIA_1889
comma
dot
id|subvendor
op_assign
id|PCI_VENDOR_ID_TIMEDIA
comma
dot
id|subdevice
op_assign
id|PCI_ANY_ID
comma
dot
id|init
op_assign
id|pci_timedia_init
comma
dot
id|setup
op_assign
id|pci_timedia_setup
comma
)brace
comma
(brace
dot
id|vendor
op_assign
id|PCI_VENDOR_ID_TIMEDIA
comma
dot
id|device
op_assign
id|PCI_ANY_ID
comma
dot
id|subvendor
op_assign
id|PCI_ANY_ID
comma
dot
id|subdevice
op_assign
id|PCI_ANY_ID
comma
dot
id|setup
op_assign
id|pci_timedia_setup
comma
)brace
comma
multiline_comment|/*&n;&t; * Xircom cards&n;&t; */
(brace
dot
id|vendor
op_assign
id|PCI_VENDOR_ID_XIRCOM
comma
dot
id|device
op_assign
id|PCI_DEVICE_ID_XIRCOM_X3201_MDM
comma
dot
id|subvendor
op_assign
id|PCI_ANY_ID
comma
dot
id|subdevice
op_assign
id|PCI_ANY_ID
comma
dot
id|init
op_assign
id|pci_xircom_init
comma
dot
id|setup
op_assign
id|pci_default_setup
comma
)brace
comma
multiline_comment|/*&n;&t; * Netmos cards&n;&t; */
(brace
dot
id|vendor
op_assign
id|PCI_VENDOR_ID_NETMOS
comma
dot
id|device
op_assign
id|PCI_ANY_ID
comma
dot
id|subvendor
op_assign
id|PCI_ANY_ID
comma
dot
id|subdevice
op_assign
id|PCI_ANY_ID
comma
dot
id|init
op_assign
id|pci_netmos_init
comma
dot
id|setup
op_assign
id|pci_default_setup
comma
)brace
comma
multiline_comment|/*&n;&t; * Default &quot;match everything&quot; terminator entry&n;&t; */
(brace
dot
id|vendor
op_assign
id|PCI_ANY_ID
comma
dot
id|device
op_assign
id|PCI_ANY_ID
comma
dot
id|subvendor
op_assign
id|PCI_ANY_ID
comma
dot
id|subdevice
op_assign
id|PCI_ANY_ID
comma
dot
id|setup
op_assign
id|pci_default_setup
comma
)brace
)brace
suffix:semicolon
DECL|function|quirk_id_matches
r_static
r_inline
r_int
id|quirk_id_matches
c_func
(paren
id|u32
id|quirk_id
comma
id|u32
id|dev_id
)paren
(brace
r_return
id|quirk_id
op_eq
id|PCI_ANY_ID
op_logical_or
id|quirk_id
op_eq
id|dev_id
suffix:semicolon
)brace
DECL|function|find_quirk
r_static
r_struct
id|pci_serial_quirk
op_star
id|find_quirk
c_func
(paren
r_struct
id|pci_dev
op_star
id|dev
)paren
(brace
r_struct
id|pci_serial_quirk
op_star
id|quirk
suffix:semicolon
r_for
c_loop
(paren
id|quirk
op_assign
id|pci_serial_quirks
suffix:semicolon
suffix:semicolon
id|quirk
op_increment
)paren
r_if
c_cond
(paren
id|quirk_id_matches
c_func
(paren
id|quirk-&gt;vendor
comma
id|dev-&gt;vendor
)paren
op_logical_and
id|quirk_id_matches
c_func
(paren
id|quirk-&gt;device
comma
id|dev-&gt;device
)paren
op_logical_and
id|quirk_id_matches
c_func
(paren
id|quirk-&gt;subvendor
comma
id|dev-&gt;subsystem_vendor
)paren
op_logical_and
id|quirk_id_matches
c_func
(paren
id|quirk-&gt;subdevice
comma
id|dev-&gt;subsystem_device
)paren
)paren
r_break
suffix:semicolon
r_return
id|quirk
suffix:semicolon
)brace
r_static
id|_INLINE_
r_int
DECL|function|get_pci_irq
id|get_pci_irq
c_func
(paren
r_struct
id|pci_dev
op_star
id|dev
comma
r_struct
id|pci_board
op_star
id|board
comma
r_int
id|idx
)paren
(brace
r_if
c_cond
(paren
id|board-&gt;flags
op_amp
id|FL_NOIRQ
)paren
r_return
l_int|0
suffix:semicolon
r_else
r_return
id|dev-&gt;irq
suffix:semicolon
)brace
multiline_comment|/*&n; * This is the configuration table for all of the PCI serial boards&n; * which we support.  It is directly indexed by the pci_board_num_t enum&n; * value, which is encoded in the pci_device_id PCI probe table&squot;s&n; * driver_data member.&n; *&n; * The makeup of these names are:&n; *  pbn_bn{_bt}_n_baud&n; *&n; *  bn   = PCI BAR number&n; *  bt   = Index using PCI BARs&n; *  n    = number of serial ports&n; *  baud = baud rate&n; *&n; * Please note: in theory if n = 1, _bt infix should make no difference.&n; * ie, pbn_b0_1_115200 is the same as pbn_b0_bt_1_115200&n; */
DECL|enum|pci_board_num_t
r_enum
id|pci_board_num_t
(brace
DECL|enumerator|pbn_default
id|pbn_default
op_assign
l_int|0
comma
DECL|enumerator|pbn_b0_1_115200
id|pbn_b0_1_115200
comma
DECL|enumerator|pbn_b0_2_115200
id|pbn_b0_2_115200
comma
DECL|enumerator|pbn_b0_4_115200
id|pbn_b0_4_115200
comma
DECL|enumerator|pbn_b0_5_115200
id|pbn_b0_5_115200
comma
DECL|enumerator|pbn_b0_1_921600
id|pbn_b0_1_921600
comma
DECL|enumerator|pbn_b0_2_921600
id|pbn_b0_2_921600
comma
DECL|enumerator|pbn_b0_4_921600
id|pbn_b0_4_921600
comma
DECL|enumerator|pbn_b0_bt_1_115200
id|pbn_b0_bt_1_115200
comma
DECL|enumerator|pbn_b0_bt_2_115200
id|pbn_b0_bt_2_115200
comma
DECL|enumerator|pbn_b0_bt_8_115200
id|pbn_b0_bt_8_115200
comma
DECL|enumerator|pbn_b0_bt_1_460800
id|pbn_b0_bt_1_460800
comma
DECL|enumerator|pbn_b0_bt_2_460800
id|pbn_b0_bt_2_460800
comma
DECL|enumerator|pbn_b0_bt_4_460800
id|pbn_b0_bt_4_460800
comma
DECL|enumerator|pbn_b0_bt_1_921600
id|pbn_b0_bt_1_921600
comma
DECL|enumerator|pbn_b0_bt_2_921600
id|pbn_b0_bt_2_921600
comma
DECL|enumerator|pbn_b0_bt_4_921600
id|pbn_b0_bt_4_921600
comma
DECL|enumerator|pbn_b0_bt_8_921600
id|pbn_b0_bt_8_921600
comma
DECL|enumerator|pbn_b1_1_115200
id|pbn_b1_1_115200
comma
DECL|enumerator|pbn_b1_2_115200
id|pbn_b1_2_115200
comma
DECL|enumerator|pbn_b1_4_115200
id|pbn_b1_4_115200
comma
DECL|enumerator|pbn_b1_8_115200
id|pbn_b1_8_115200
comma
DECL|enumerator|pbn_b1_1_921600
id|pbn_b1_1_921600
comma
DECL|enumerator|pbn_b1_2_921600
id|pbn_b1_2_921600
comma
DECL|enumerator|pbn_b1_4_921600
id|pbn_b1_4_921600
comma
DECL|enumerator|pbn_b1_8_921600
id|pbn_b1_8_921600
comma
DECL|enumerator|pbn_b1_bt_2_921600
id|pbn_b1_bt_2_921600
comma
DECL|enumerator|pbn_b1_1_1382400
id|pbn_b1_1_1382400
comma
DECL|enumerator|pbn_b1_2_1382400
id|pbn_b1_2_1382400
comma
DECL|enumerator|pbn_b1_4_1382400
id|pbn_b1_4_1382400
comma
DECL|enumerator|pbn_b1_8_1382400
id|pbn_b1_8_1382400
comma
DECL|enumerator|pbn_b2_1_115200
id|pbn_b2_1_115200
comma
DECL|enumerator|pbn_b2_8_115200
id|pbn_b2_8_115200
comma
DECL|enumerator|pbn_b2_1_460800
id|pbn_b2_1_460800
comma
DECL|enumerator|pbn_b2_4_460800
id|pbn_b2_4_460800
comma
DECL|enumerator|pbn_b2_8_460800
id|pbn_b2_8_460800
comma
DECL|enumerator|pbn_b2_16_460800
id|pbn_b2_16_460800
comma
DECL|enumerator|pbn_b2_1_921600
id|pbn_b2_1_921600
comma
DECL|enumerator|pbn_b2_4_921600
id|pbn_b2_4_921600
comma
DECL|enumerator|pbn_b2_8_921600
id|pbn_b2_8_921600
comma
DECL|enumerator|pbn_b2_bt_1_115200
id|pbn_b2_bt_1_115200
comma
DECL|enumerator|pbn_b2_bt_2_115200
id|pbn_b2_bt_2_115200
comma
DECL|enumerator|pbn_b2_bt_4_115200
id|pbn_b2_bt_4_115200
comma
DECL|enumerator|pbn_b2_bt_2_921600
id|pbn_b2_bt_2_921600
comma
DECL|enumerator|pbn_b2_bt_4_921600
id|pbn_b2_bt_4_921600
comma
DECL|enumerator|pbn_b3_4_115200
id|pbn_b3_4_115200
comma
DECL|enumerator|pbn_b3_8_115200
id|pbn_b3_8_115200
comma
multiline_comment|/*&n;&t; * Board-specific versions.&n;&t; */
DECL|enumerator|pbn_panacom
id|pbn_panacom
comma
DECL|enumerator|pbn_panacom2
id|pbn_panacom2
comma
DECL|enumerator|pbn_panacom4
id|pbn_panacom4
comma
DECL|enumerator|pbn_plx_romulus
id|pbn_plx_romulus
comma
DECL|enumerator|pbn_oxsemi
id|pbn_oxsemi
comma
DECL|enumerator|pbn_intel_i960
id|pbn_intel_i960
comma
DECL|enumerator|pbn_sgi_ioc3
id|pbn_sgi_ioc3
comma
DECL|enumerator|pbn_nec_nile4
id|pbn_nec_nile4
comma
DECL|enumerator|pbn_computone_4
id|pbn_computone_4
comma
DECL|enumerator|pbn_computone_6
id|pbn_computone_6
comma
DECL|enumerator|pbn_computone_8
id|pbn_computone_8
comma
DECL|enumerator|pbn_sbsxrsio
id|pbn_sbsxrsio
comma
DECL|enumerator|pbn_exar_XR17C152
id|pbn_exar_XR17C152
comma
DECL|enumerator|pbn_exar_XR17C154
id|pbn_exar_XR17C154
comma
DECL|enumerator|pbn_exar_XR17C158
id|pbn_exar_XR17C158
comma
)brace
suffix:semicolon
multiline_comment|/*&n; * uart_offset - the space between channels&n; * reg_shift   - describes how the UART registers are mapped&n; *               to PCI memory by the card.&n; * For example IER register on SBS, Inc. PMC-OctPro is located at&n; * offset 0x10 from the UART base, while UART_IER is defined as 1&n; * in include/linux/serial_reg.h,&n; * see first lines of serial_in() and serial_out() in 8250.c&n;*/
DECL|variable|__devinitdata
r_static
r_struct
id|pci_board
id|pci_boards
(braket
)braket
id|__devinitdata
op_assign
(brace
(braket
id|pbn_default
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE0
comma
dot
id|num_ports
op_assign
l_int|1
comma
dot
id|base_baud
op_assign
l_int|115200
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b0_1_115200
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE0
comma
dot
id|num_ports
op_assign
l_int|1
comma
dot
id|base_baud
op_assign
l_int|115200
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b0_2_115200
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE0
comma
dot
id|num_ports
op_assign
l_int|2
comma
dot
id|base_baud
op_assign
l_int|115200
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b0_4_115200
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE0
comma
dot
id|num_ports
op_assign
l_int|4
comma
dot
id|base_baud
op_assign
l_int|115200
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b0_5_115200
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE0
comma
dot
id|num_ports
op_assign
l_int|5
comma
dot
id|base_baud
op_assign
l_int|115200
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b0_1_921600
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE0
comma
dot
id|num_ports
op_assign
l_int|1
comma
dot
id|base_baud
op_assign
l_int|921600
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b0_2_921600
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE0
comma
dot
id|num_ports
op_assign
l_int|2
comma
dot
id|base_baud
op_assign
l_int|921600
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b0_4_921600
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE0
comma
dot
id|num_ports
op_assign
l_int|4
comma
dot
id|base_baud
op_assign
l_int|921600
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b0_bt_1_115200
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE0
op_or
id|FL_BASE_BARS
comma
dot
id|num_ports
op_assign
l_int|1
comma
dot
id|base_baud
op_assign
l_int|115200
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b0_bt_2_115200
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE0
op_or
id|FL_BASE_BARS
comma
dot
id|num_ports
op_assign
l_int|2
comma
dot
id|base_baud
op_assign
l_int|115200
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b0_bt_8_115200
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE0
op_or
id|FL_BASE_BARS
comma
dot
id|num_ports
op_assign
l_int|8
comma
dot
id|base_baud
op_assign
l_int|115200
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b0_bt_1_460800
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE0
op_or
id|FL_BASE_BARS
comma
dot
id|num_ports
op_assign
l_int|1
comma
dot
id|base_baud
op_assign
l_int|460800
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b0_bt_2_460800
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE0
op_or
id|FL_BASE_BARS
comma
dot
id|num_ports
op_assign
l_int|2
comma
dot
id|base_baud
op_assign
l_int|460800
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b0_bt_4_460800
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE0
op_or
id|FL_BASE_BARS
comma
dot
id|num_ports
op_assign
l_int|4
comma
dot
id|base_baud
op_assign
l_int|460800
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b0_bt_1_921600
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE0
op_or
id|FL_BASE_BARS
comma
dot
id|num_ports
op_assign
l_int|1
comma
dot
id|base_baud
op_assign
l_int|921600
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b0_bt_2_921600
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE0
op_or
id|FL_BASE_BARS
comma
dot
id|num_ports
op_assign
l_int|2
comma
dot
id|base_baud
op_assign
l_int|921600
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b0_bt_4_921600
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE0
op_or
id|FL_BASE_BARS
comma
dot
id|num_ports
op_assign
l_int|4
comma
dot
id|base_baud
op_assign
l_int|921600
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b0_bt_8_921600
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE0
op_or
id|FL_BASE_BARS
comma
dot
id|num_ports
op_assign
l_int|8
comma
dot
id|base_baud
op_assign
l_int|921600
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b1_1_115200
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE1
comma
dot
id|num_ports
op_assign
l_int|1
comma
dot
id|base_baud
op_assign
l_int|115200
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b1_2_115200
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE1
comma
dot
id|num_ports
op_assign
l_int|2
comma
dot
id|base_baud
op_assign
l_int|115200
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b1_4_115200
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE1
comma
dot
id|num_ports
op_assign
l_int|4
comma
dot
id|base_baud
op_assign
l_int|115200
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b1_8_115200
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE1
comma
dot
id|num_ports
op_assign
l_int|8
comma
dot
id|base_baud
op_assign
l_int|115200
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b1_1_921600
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE1
comma
dot
id|num_ports
op_assign
l_int|1
comma
dot
id|base_baud
op_assign
l_int|921600
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b1_2_921600
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE1
comma
dot
id|num_ports
op_assign
l_int|2
comma
dot
id|base_baud
op_assign
l_int|921600
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b1_4_921600
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE1
comma
dot
id|num_ports
op_assign
l_int|4
comma
dot
id|base_baud
op_assign
l_int|921600
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b1_8_921600
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE1
comma
dot
id|num_ports
op_assign
l_int|8
comma
dot
id|base_baud
op_assign
l_int|921600
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b1_bt_2_921600
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE1
op_or
id|FL_BASE_BARS
comma
dot
id|num_ports
op_assign
l_int|2
comma
dot
id|base_baud
op_assign
l_int|921600
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b1_1_1382400
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE1
comma
dot
id|num_ports
op_assign
l_int|1
comma
dot
id|base_baud
op_assign
l_int|1382400
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b1_2_1382400
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE1
comma
dot
id|num_ports
op_assign
l_int|2
comma
dot
id|base_baud
op_assign
l_int|1382400
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b1_4_1382400
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE1
comma
dot
id|num_ports
op_assign
l_int|4
comma
dot
id|base_baud
op_assign
l_int|1382400
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b1_8_1382400
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE1
comma
dot
id|num_ports
op_assign
l_int|8
comma
dot
id|base_baud
op_assign
l_int|1382400
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b2_1_115200
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE2
comma
dot
id|num_ports
op_assign
l_int|1
comma
dot
id|base_baud
op_assign
l_int|115200
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b2_8_115200
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE2
comma
dot
id|num_ports
op_assign
l_int|8
comma
dot
id|base_baud
op_assign
l_int|115200
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b2_1_460800
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE2
comma
dot
id|num_ports
op_assign
l_int|1
comma
dot
id|base_baud
op_assign
l_int|460800
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b2_4_460800
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE2
comma
dot
id|num_ports
op_assign
l_int|4
comma
dot
id|base_baud
op_assign
l_int|460800
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b2_8_460800
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE2
comma
dot
id|num_ports
op_assign
l_int|8
comma
dot
id|base_baud
op_assign
l_int|460800
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b2_16_460800
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE2
comma
dot
id|num_ports
op_assign
l_int|16
comma
dot
id|base_baud
op_assign
l_int|460800
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b2_1_921600
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE2
comma
dot
id|num_ports
op_assign
l_int|1
comma
dot
id|base_baud
op_assign
l_int|921600
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b2_4_921600
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE2
comma
dot
id|num_ports
op_assign
l_int|4
comma
dot
id|base_baud
op_assign
l_int|921600
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b2_8_921600
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE2
comma
dot
id|num_ports
op_assign
l_int|8
comma
dot
id|base_baud
op_assign
l_int|921600
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b2_bt_1_115200
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE2
op_or
id|FL_BASE_BARS
comma
dot
id|num_ports
op_assign
l_int|1
comma
dot
id|base_baud
op_assign
l_int|115200
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b2_bt_2_115200
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE2
op_or
id|FL_BASE_BARS
comma
dot
id|num_ports
op_assign
l_int|2
comma
dot
id|base_baud
op_assign
l_int|115200
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b2_bt_4_115200
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE2
op_or
id|FL_BASE_BARS
comma
dot
id|num_ports
op_assign
l_int|4
comma
dot
id|base_baud
op_assign
l_int|115200
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b2_bt_2_921600
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE2
op_or
id|FL_BASE_BARS
comma
dot
id|num_ports
op_assign
l_int|2
comma
dot
id|base_baud
op_assign
l_int|921600
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b2_bt_4_921600
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE2
op_or
id|FL_BASE_BARS
comma
dot
id|num_ports
op_assign
l_int|4
comma
dot
id|base_baud
op_assign
l_int|921600
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b3_4_115200
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE3
comma
dot
id|num_ports
op_assign
l_int|4
comma
dot
id|base_baud
op_assign
l_int|115200
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
(braket
id|pbn_b3_8_115200
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE3
comma
dot
id|num_ports
op_assign
l_int|8
comma
dot
id|base_baud
op_assign
l_int|115200
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
multiline_comment|/*&n;&t; * Entries following this are board-specific.&n;&t; */
multiline_comment|/*&n;&t; * Panacom - IOMEM&n;&t; */
(braket
id|pbn_panacom
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE2
comma
dot
id|num_ports
op_assign
l_int|2
comma
dot
id|base_baud
op_assign
l_int|921600
comma
dot
id|uart_offset
op_assign
l_int|0x400
comma
dot
id|reg_shift
op_assign
l_int|7
comma
)brace
comma
(braket
id|pbn_panacom2
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE2
op_or
id|FL_BASE_BARS
comma
dot
id|num_ports
op_assign
l_int|2
comma
dot
id|base_baud
op_assign
l_int|921600
comma
dot
id|uart_offset
op_assign
l_int|0x400
comma
dot
id|reg_shift
op_assign
l_int|7
comma
)brace
comma
(braket
id|pbn_panacom4
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE2
op_or
id|FL_BASE_BARS
comma
dot
id|num_ports
op_assign
l_int|4
comma
dot
id|base_baud
op_assign
l_int|921600
comma
dot
id|uart_offset
op_assign
l_int|0x400
comma
dot
id|reg_shift
op_assign
l_int|7
comma
)brace
comma
multiline_comment|/* I think this entry is broken - the first_offset looks wrong --rmk */
(braket
id|pbn_plx_romulus
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE2
comma
dot
id|num_ports
op_assign
l_int|4
comma
dot
id|base_baud
op_assign
l_int|921600
comma
dot
id|uart_offset
op_assign
l_int|8
op_lshift
l_int|2
comma
dot
id|reg_shift
op_assign
l_int|2
comma
dot
id|first_offset
op_assign
l_int|0x03
comma
)brace
comma
multiline_comment|/*&n;&t; * This board uses the size of PCI Base region 0 to&n;&t; * signal now many ports are available&n;&t; */
(braket
id|pbn_oxsemi
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE0
op_or
id|FL_REGION_SZ_CAP
comma
dot
id|num_ports
op_assign
l_int|32
comma
dot
id|base_baud
op_assign
l_int|115200
comma
dot
id|uart_offset
op_assign
l_int|8
comma
)brace
comma
multiline_comment|/*&n;&t; * EKF addition for i960 Boards form EKF with serial port.&n;&t; * Max 256 ports.&n;&t; */
(braket
id|pbn_intel_i960
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE0
comma
dot
id|num_ports
op_assign
l_int|32
comma
dot
id|base_baud
op_assign
l_int|921600
comma
dot
id|uart_offset
op_assign
l_int|8
op_lshift
l_int|2
comma
dot
id|reg_shift
op_assign
l_int|2
comma
dot
id|first_offset
op_assign
l_int|0x10000
comma
)brace
comma
(braket
id|pbn_sgi_ioc3
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE0
op_or
id|FL_NOIRQ
comma
dot
id|num_ports
op_assign
l_int|1
comma
dot
id|base_baud
op_assign
l_int|458333
comma
dot
id|uart_offset
op_assign
l_int|8
comma
dot
id|reg_shift
op_assign
l_int|0
comma
dot
id|first_offset
op_assign
l_int|0x20178
comma
)brace
comma
multiline_comment|/*&n;&t; * NEC Vrc-5074 (Nile 4) builtin UART.&n;&t; */
(braket
id|pbn_nec_nile4
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE0
comma
dot
id|num_ports
op_assign
l_int|1
comma
dot
id|base_baud
op_assign
l_int|520833
comma
dot
id|uart_offset
op_assign
l_int|8
op_lshift
l_int|3
comma
dot
id|reg_shift
op_assign
l_int|3
comma
dot
id|first_offset
op_assign
l_int|0x300
comma
)brace
comma
multiline_comment|/*&n;&t; * Computone - uses IOMEM.&n;&t; */
(braket
id|pbn_computone_4
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE0
comma
dot
id|num_ports
op_assign
l_int|4
comma
dot
id|base_baud
op_assign
l_int|921600
comma
dot
id|uart_offset
op_assign
l_int|0x40
comma
dot
id|reg_shift
op_assign
l_int|2
comma
dot
id|first_offset
op_assign
l_int|0x200
comma
)brace
comma
(braket
id|pbn_computone_6
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE0
comma
dot
id|num_ports
op_assign
l_int|6
comma
dot
id|base_baud
op_assign
l_int|921600
comma
dot
id|uart_offset
op_assign
l_int|0x40
comma
dot
id|reg_shift
op_assign
l_int|2
comma
dot
id|first_offset
op_assign
l_int|0x200
comma
)brace
comma
(braket
id|pbn_computone_8
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE0
comma
dot
id|num_ports
op_assign
l_int|8
comma
dot
id|base_baud
op_assign
l_int|921600
comma
dot
id|uart_offset
op_assign
l_int|0x40
comma
dot
id|reg_shift
op_assign
l_int|2
comma
dot
id|first_offset
op_assign
l_int|0x200
comma
)brace
comma
(braket
id|pbn_sbsxrsio
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE0
comma
dot
id|num_ports
op_assign
l_int|8
comma
dot
id|base_baud
op_assign
l_int|460800
comma
dot
id|uart_offset
op_assign
l_int|256
comma
dot
id|reg_shift
op_assign
l_int|4
comma
)brace
comma
multiline_comment|/*&n;&t; * Exar Corp. XR17C15[248] Dual/Quad/Octal UART&n;&t; *  Only basic 16550A support.&n;&t; *  XR17C15[24] are not tested, but they should work.&n;&t; */
(braket
id|pbn_exar_XR17C152
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE0
comma
dot
id|num_ports
op_assign
l_int|2
comma
dot
id|base_baud
op_assign
l_int|921600
comma
dot
id|uart_offset
op_assign
l_int|0x200
comma
)brace
comma
(braket
id|pbn_exar_XR17C154
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE0
comma
dot
id|num_ports
op_assign
l_int|4
comma
dot
id|base_baud
op_assign
l_int|921600
comma
dot
id|uart_offset
op_assign
l_int|0x200
comma
)brace
comma
(braket
id|pbn_exar_XR17C158
)braket
op_assign
(brace
dot
id|flags
op_assign
id|FL_BASE0
comma
dot
id|num_ports
op_assign
l_int|8
comma
dot
id|base_baud
op_assign
l_int|921600
comma
dot
id|uart_offset
op_assign
l_int|0x200
comma
)brace
comma
)brace
suffix:semicolon
multiline_comment|/*&n; * Given a complete unknown PCI device, try to use some heuristics to&n; * guess what the configuration might be, based on the pitiful PCI&n; * serial specs.  Returns 0 on success, 1 on failure.&n; */
r_static
r_int
id|__devinit
DECL|function|serial_pci_guess_board
id|serial_pci_guess_board
c_func
(paren
r_struct
id|pci_dev
op_star
id|dev
comma
r_struct
id|pci_board
op_star
id|board
)paren
(brace
r_int
id|num_iomem
comma
id|num_port
comma
id|first_port
op_assign
op_minus
l_int|1
comma
id|i
suffix:semicolon
multiline_comment|/*&n;&t; * If it is not a communications device or the programming&n;&t; * interface is greater than 6, give up.&n;&t; *&n;&t; * (Should we try to make guesses for multiport serial devices&n;&t; * later?) &n;&t; */
r_if
c_cond
(paren
(paren
(paren
(paren
id|dev
op_member_access_from_pointer
r_class
op_rshift
l_int|8
)paren
op_ne
id|PCI_CLASS_COMMUNICATION_SERIAL
)paren
op_logical_and
(paren
(paren
id|dev
op_member_access_from_pointer
r_class
op_rshift
l_int|8
)paren
op_ne
id|PCI_CLASS_COMMUNICATION_MODEM
)paren
)paren
op_logical_or
(paren
id|dev
op_member_access_from_pointer
r_class
op_amp
l_int|0xff
)paren
OG
l_int|6
)paren
r_return
op_minus
id|ENODEV
suffix:semicolon
id|num_iomem
op_assign
id|num_port
op_assign
l_int|0
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|PCI_NUM_BAR_RESOURCES
suffix:semicolon
id|i
op_increment
)paren
(brace
r_if
c_cond
(paren
id|pci_resource_flags
c_func
(paren
id|dev
comma
id|i
)paren
op_amp
id|IORESOURCE_IO
)paren
(brace
id|num_port
op_increment
suffix:semicolon
r_if
c_cond
(paren
id|first_port
op_eq
op_minus
l_int|1
)paren
id|first_port
op_assign
id|i
suffix:semicolon
)brace
r_if
c_cond
(paren
id|pci_resource_flags
c_func
(paren
id|dev
comma
id|i
)paren
op_amp
id|IORESOURCE_MEM
)paren
id|num_iomem
op_increment
suffix:semicolon
)brace
multiline_comment|/*&n;&t; * If there is 1 or 0 iomem regions, and exactly one port,&n;&t; * use it.  We guess the number of ports based on the IO&n;&t; * region size.&n;&t; */
r_if
c_cond
(paren
id|num_iomem
op_le
l_int|1
op_logical_and
id|num_port
op_eq
l_int|1
)paren
(brace
id|board-&gt;flags
op_assign
id|first_port
suffix:semicolon
id|board-&gt;num_ports
op_assign
id|pci_resource_len
c_func
(paren
id|dev
comma
id|first_port
)paren
op_div
l_int|8
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/*&n;&t; * Now guess if we&squot;ve got a board which indexes by BARs.&n;&t; * Each IO BAR should be 8 bytes, and they should follow&n;&t; * consecutively.&n;&t; */
id|first_port
op_assign
op_minus
l_int|1
suffix:semicolon
id|num_port
op_assign
l_int|0
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|PCI_NUM_BAR_RESOURCES
suffix:semicolon
id|i
op_increment
)paren
(brace
r_if
c_cond
(paren
id|pci_resource_flags
c_func
(paren
id|dev
comma
id|i
)paren
op_amp
id|IORESOURCE_IO
op_logical_and
id|pci_resource_len
c_func
(paren
id|dev
comma
id|i
)paren
op_eq
l_int|8
op_logical_and
(paren
id|first_port
op_eq
op_minus
l_int|1
op_logical_or
(paren
id|first_port
op_plus
id|num_port
)paren
op_eq
id|i
)paren
)paren
(brace
id|num_port
op_increment
suffix:semicolon
r_if
c_cond
(paren
id|first_port
op_eq
op_minus
l_int|1
)paren
id|first_port
op_assign
id|i
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
id|num_port
OG
l_int|1
)paren
(brace
id|board-&gt;flags
op_assign
id|first_port
op_or
id|FL_BASE_BARS
suffix:semicolon
id|board-&gt;num_ports
op_assign
id|num_port
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
r_return
op_minus
id|ENODEV
suffix:semicolon
)brace
r_static
r_inline
r_int
DECL|function|serial_pci_matches
id|serial_pci_matches
c_func
(paren
r_struct
id|pci_board
op_star
id|board
comma
r_struct
id|pci_board
op_star
id|guessed
)paren
(brace
r_return
id|board-&gt;num_ports
op_eq
id|guessed-&gt;num_ports
op_logical_and
id|board-&gt;base_baud
op_eq
id|guessed-&gt;base_baud
op_logical_and
id|board-&gt;uart_offset
op_eq
id|guessed-&gt;uart_offset
op_logical_and
id|board-&gt;reg_shift
op_eq
id|guessed-&gt;reg_shift
op_logical_and
id|board-&gt;first_offset
op_eq
id|guessed-&gt;first_offset
suffix:semicolon
)brace
multiline_comment|/*&n; * Probe one serial board.  Unfortunately, there is no rhyme nor reason&n; * to the arrangement of serial ports on a PCI card.&n; */
r_static
r_int
id|__devinit
DECL|function|pciserial_init_one
id|pciserial_init_one
c_func
(paren
r_struct
id|pci_dev
op_star
id|dev
comma
r_const
r_struct
id|pci_device_id
op_star
id|ent
)paren
(brace
r_struct
id|serial_private
op_star
id|priv
suffix:semicolon
r_struct
id|pci_board
op_star
id|board
comma
id|tmp
suffix:semicolon
r_struct
id|pci_serial_quirk
op_star
id|quirk
suffix:semicolon
r_int
id|rc
comma
id|nr_ports
comma
id|i
suffix:semicolon
r_if
c_cond
(paren
id|ent-&gt;driver_data
op_ge
id|ARRAY_SIZE
c_func
(paren
id|pci_boards
)paren
)paren
(brace
id|printk
c_func
(paren
id|KERN_ERR
l_string|&quot;pci_init_one: invalid driver_data: %ld&bslash;n&quot;
comma
id|ent-&gt;driver_data
)paren
suffix:semicolon
r_return
op_minus
id|EINVAL
suffix:semicolon
)brace
id|board
op_assign
op_amp
id|pci_boards
(braket
id|ent-&gt;driver_data
)braket
suffix:semicolon
id|rc
op_assign
id|pci_enable_device
c_func
(paren
id|dev
)paren
suffix:semicolon
r_if
c_cond
(paren
id|rc
)paren
r_return
id|rc
suffix:semicolon
r_if
c_cond
(paren
id|ent-&gt;driver_data
op_eq
id|pbn_default
)paren
(brace
multiline_comment|/*&n;&t;&t; * Use a copy of the pci_board entry for this;&n;&t;&t; * avoid changing entries in the table.&n;&t;&t; */
id|memcpy
c_func
(paren
op_amp
id|tmp
comma
id|board
comma
r_sizeof
(paren
r_struct
id|pci_board
)paren
)paren
suffix:semicolon
id|board
op_assign
op_amp
id|tmp
suffix:semicolon
multiline_comment|/*&n;&t;&t; * We matched one of our class entries.  Try to&n;&t;&t; * determine the parameters of this board.&n;&t;&t; */
id|rc
op_assign
id|serial_pci_guess_board
c_func
(paren
id|dev
comma
id|board
)paren
suffix:semicolon
r_if
c_cond
(paren
id|rc
)paren
r_goto
id|disable
suffix:semicolon
)brace
r_else
(brace
multiline_comment|/*&n;&t;&t; * We matched an explicit entry.  If we are able to&n;&t;&t; * detect this boards settings with our heuristic,&n;&t;&t; * then we no longer need this entry.&n;&t;&t; */
id|memcpy
c_func
(paren
op_amp
id|tmp
comma
op_amp
id|pci_boards
(braket
id|pbn_default
)braket
comma
r_sizeof
(paren
r_struct
id|pci_board
)paren
)paren
suffix:semicolon
id|rc
op_assign
id|serial_pci_guess_board
c_func
(paren
id|dev
comma
op_amp
id|tmp
)paren
suffix:semicolon
r_if
c_cond
(paren
id|rc
op_eq
l_int|0
op_logical_and
id|serial_pci_matches
c_func
(paren
id|board
comma
op_amp
id|tmp
)paren
)paren
id|moan_device
c_func
(paren
l_string|&quot;Redundant entry in serial pci_table.&quot;
comma
id|dev
)paren
suffix:semicolon
)brace
id|nr_ports
op_assign
id|board-&gt;num_ports
suffix:semicolon
multiline_comment|/*&n;&t; * Find an init and setup quirks.&n;&t; */
id|quirk
op_assign
id|find_quirk
c_func
(paren
id|dev
)paren
suffix:semicolon
multiline_comment|/*&n;&t; * Run the new-style initialization function.&n;&t; * The initialization function returns:&n;&t; *  &lt;0  - error&n;&t; *   0  - use board-&gt;num_ports&n;&t; *  &gt;0  - number of ports&n;&t; */
r_if
c_cond
(paren
id|quirk-&gt;init
)paren
(brace
id|rc
op_assign
id|quirk
op_member_access_from_pointer
id|init
c_func
(paren
id|dev
)paren
suffix:semicolon
r_if
c_cond
(paren
id|rc
OL
l_int|0
)paren
r_goto
id|disable
suffix:semicolon
r_if
c_cond
(paren
id|rc
)paren
id|nr_ports
op_assign
id|rc
suffix:semicolon
)brace
id|priv
op_assign
id|kmalloc
c_func
(paren
r_sizeof
(paren
r_struct
id|serial_private
)paren
op_plus
r_sizeof
(paren
r_int
r_int
)paren
op_star
id|nr_ports
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|priv
)paren
(brace
id|rc
op_assign
op_minus
id|ENOMEM
suffix:semicolon
r_goto
id|deinit
suffix:semicolon
)brace
id|memset
c_func
(paren
id|priv
comma
l_int|0
comma
r_sizeof
(paren
r_struct
id|serial_private
)paren
op_plus
r_sizeof
(paren
r_int
r_int
)paren
op_star
id|nr_ports
)paren
suffix:semicolon
id|priv-&gt;quirk
op_assign
id|quirk
suffix:semicolon
id|pci_set_drvdata
c_func
(paren
id|dev
comma
id|priv
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|nr_ports
suffix:semicolon
id|i
op_increment
)paren
(brace
r_struct
id|uart_port
id|serial_port
suffix:semicolon
id|memset
c_func
(paren
op_amp
id|serial_port
comma
l_int|0
comma
r_sizeof
(paren
r_struct
id|uart_port
)paren
)paren
suffix:semicolon
id|serial_port.flags
op_assign
id|UPF_SKIP_TEST
op_or
id|UPF_BOOT_AUTOCONF
op_or
id|UPF_SHARE_IRQ
suffix:semicolon
id|serial_port.uartclk
op_assign
id|board-&gt;base_baud
op_star
l_int|16
suffix:semicolon
id|serial_port.irq
op_assign
id|get_pci_irq
c_func
(paren
id|dev
comma
id|board
comma
id|i
)paren
suffix:semicolon
id|serial_port.dev
op_assign
op_amp
id|dev-&gt;dev
suffix:semicolon
r_if
c_cond
(paren
id|quirk
op_member_access_from_pointer
id|setup
c_func
(paren
id|dev
comma
id|board
comma
op_amp
id|serial_port
comma
id|i
)paren
)paren
r_break
suffix:semicolon
macro_line|#ifdef SERIAL_DEBUG_PCI
id|printk
c_func
(paren
l_string|&quot;Setup PCI port: port %x, irq %d, type %d&bslash;n&quot;
comma
id|serial_port.iobase
comma
id|serial_port.irq
comma
id|serial_port.iotype
)paren
suffix:semicolon
macro_line|#endif
id|priv-&gt;line
(braket
id|i
)braket
op_assign
id|serial8250_register_port
c_func
(paren
op_amp
id|serial_port
)paren
suffix:semicolon
r_if
c_cond
(paren
id|priv-&gt;line
(braket
id|i
)braket
OL
l_int|0
)paren
(brace
id|printk
c_func
(paren
id|KERN_WARNING
l_string|&quot;Couldn&squot;t register serial port %s: %d&bslash;n&quot;
comma
id|pci_name
c_func
(paren
id|dev
)paren
comma
id|priv-&gt;line
(braket
id|i
)braket
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
)brace
id|priv-&gt;nr
op_assign
id|i
suffix:semicolon
r_return
l_int|0
suffix:semicolon
id|deinit
suffix:colon
r_if
c_cond
(paren
id|quirk
op_member_access_from_pointer
m_exit
)paren
id|quirk
op_member_access_from_pointer
m_exit
(paren
id|dev
)paren
suffix:semicolon
id|disable
suffix:colon
id|pci_disable_device
c_func
(paren
id|dev
)paren
suffix:semicolon
r_return
id|rc
suffix:semicolon
)brace
DECL|function|pciserial_remove_one
r_static
r_void
id|__devexit
id|pciserial_remove_one
c_func
(paren
r_struct
id|pci_dev
op_star
id|dev
)paren
(brace
r_struct
id|serial_private
op_star
id|priv
op_assign
id|pci_get_drvdata
c_func
(paren
id|dev
)paren
suffix:semicolon
id|pci_set_drvdata
c_func
(paren
id|dev
comma
l_int|NULL
)paren
suffix:semicolon
r_if
c_cond
(paren
id|priv
)paren
(brace
r_struct
id|pci_serial_quirk
op_star
id|quirk
suffix:semicolon
r_int
id|i
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|priv-&gt;nr
suffix:semicolon
id|i
op_increment
)paren
id|serial8250_unregister_port
c_func
(paren
id|priv-&gt;line
(braket
id|i
)braket
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|PCI_NUM_BAR_RESOURCES
suffix:semicolon
id|i
op_increment
)paren
(brace
r_if
c_cond
(paren
id|priv-&gt;remapped_bar
(braket
id|i
)braket
)paren
id|iounmap
c_func
(paren
id|priv-&gt;remapped_bar
(braket
id|i
)braket
)paren
suffix:semicolon
id|priv-&gt;remapped_bar
(braket
id|i
)braket
op_assign
l_int|NULL
suffix:semicolon
)brace
multiline_comment|/*&n;&t;&t; * Find the exit quirks.&n;&t;&t; */
id|quirk
op_assign
id|find_quirk
c_func
(paren
id|dev
)paren
suffix:semicolon
r_if
c_cond
(paren
id|quirk
op_member_access_from_pointer
m_exit
)paren
id|quirk
op_member_access_from_pointer
m_exit
(paren
id|dev
)paren
suffix:semicolon
id|pci_disable_device
c_func
(paren
id|dev
)paren
suffix:semicolon
id|kfree
c_func
(paren
id|priv
)paren
suffix:semicolon
)brace
)brace
DECL|function|pciserial_suspend_one
r_static
r_int
id|pciserial_suspend_one
c_func
(paren
r_struct
id|pci_dev
op_star
id|dev
comma
id|pm_message_t
id|state
)paren
(brace
r_struct
id|serial_private
op_star
id|priv
op_assign
id|pci_get_drvdata
c_func
(paren
id|dev
)paren
suffix:semicolon
r_if
c_cond
(paren
id|priv
)paren
(brace
r_int
id|i
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|priv-&gt;nr
suffix:semicolon
id|i
op_increment
)paren
id|serial8250_suspend_port
c_func
(paren
id|priv-&gt;line
(braket
id|i
)braket
)paren
suffix:semicolon
)brace
id|pci_save_state
c_func
(paren
id|dev
)paren
suffix:semicolon
id|pci_set_power_state
c_func
(paren
id|dev
comma
id|pci_choose_state
c_func
(paren
id|dev
comma
id|state
)paren
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|pciserial_resume_one
r_static
r_int
id|pciserial_resume_one
c_func
(paren
r_struct
id|pci_dev
op_star
id|dev
)paren
(brace
r_struct
id|serial_private
op_star
id|priv
op_assign
id|pci_get_drvdata
c_func
(paren
id|dev
)paren
suffix:semicolon
id|pci_set_power_state
c_func
(paren
id|dev
comma
id|PCI_D0
)paren
suffix:semicolon
id|pci_restore_state
c_func
(paren
id|dev
)paren
suffix:semicolon
r_if
c_cond
(paren
id|priv
)paren
(brace
r_int
id|i
suffix:semicolon
multiline_comment|/*&n;&t;&t; * The device may have been disabled.  Re-enable it.&n;&t;&t; */
id|pci_enable_device
c_func
(paren
id|dev
)paren
suffix:semicolon
multiline_comment|/*&n;&t;&t; * Ensure that the board is correctly configured.&n;&t;&t; */
r_if
c_cond
(paren
id|priv-&gt;quirk-&gt;init
)paren
id|priv-&gt;quirk
op_member_access_from_pointer
id|init
c_func
(paren
id|dev
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|priv-&gt;nr
suffix:semicolon
id|i
op_increment
)paren
id|serial8250_resume_port
c_func
(paren
id|priv-&gt;line
(braket
id|i
)braket
)paren
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
DECL|variable|serial_pci_tbl
r_static
r_struct
id|pci_device_id
id|serial_pci_tbl
(braket
)braket
op_assign
(brace
(brace
id|PCI_VENDOR_ID_V3
comma
id|PCI_DEVICE_ID_V3_V960
comma
id|PCI_SUBVENDOR_ID_CONNECT_TECH
comma
id|PCI_SUBDEVICE_ID_CONNECT_TECH_BH8_232
comma
l_int|0
comma
l_int|0
comma
id|pbn_b1_8_1382400
)brace
comma
(brace
id|PCI_VENDOR_ID_V3
comma
id|PCI_DEVICE_ID_V3_V960
comma
id|PCI_SUBVENDOR_ID_CONNECT_TECH
comma
id|PCI_SUBDEVICE_ID_CONNECT_TECH_BH4_232
comma
l_int|0
comma
l_int|0
comma
id|pbn_b1_4_1382400
)brace
comma
(brace
id|PCI_VENDOR_ID_V3
comma
id|PCI_DEVICE_ID_V3_V960
comma
id|PCI_SUBVENDOR_ID_CONNECT_TECH
comma
id|PCI_SUBDEVICE_ID_CONNECT_TECH_BH2_232
comma
l_int|0
comma
l_int|0
comma
id|pbn_b1_2_1382400
)brace
comma
(brace
id|PCI_VENDOR_ID_V3
comma
id|PCI_DEVICE_ID_V3_V351
comma
id|PCI_SUBVENDOR_ID_CONNECT_TECH
comma
id|PCI_SUBDEVICE_ID_CONNECT_TECH_BH8_232
comma
l_int|0
comma
l_int|0
comma
id|pbn_b1_8_1382400
)brace
comma
(brace
id|PCI_VENDOR_ID_V3
comma
id|PCI_DEVICE_ID_V3_V351
comma
id|PCI_SUBVENDOR_ID_CONNECT_TECH
comma
id|PCI_SUBDEVICE_ID_CONNECT_TECH_BH4_232
comma
l_int|0
comma
l_int|0
comma
id|pbn_b1_4_1382400
)brace
comma
(brace
id|PCI_VENDOR_ID_V3
comma
id|PCI_DEVICE_ID_V3_V351
comma
id|PCI_SUBVENDOR_ID_CONNECT_TECH
comma
id|PCI_SUBDEVICE_ID_CONNECT_TECH_BH2_232
comma
l_int|0
comma
l_int|0
comma
id|pbn_b1_2_1382400
)brace
comma
(brace
id|PCI_VENDOR_ID_V3
comma
id|PCI_DEVICE_ID_V3_V351
comma
id|PCI_SUBVENDOR_ID_CONNECT_TECH
comma
id|PCI_SUBDEVICE_ID_CONNECT_TECH_BH8_485
comma
l_int|0
comma
l_int|0
comma
id|pbn_b1_8_921600
)brace
comma
(brace
id|PCI_VENDOR_ID_V3
comma
id|PCI_DEVICE_ID_V3_V351
comma
id|PCI_SUBVENDOR_ID_CONNECT_TECH
comma
id|PCI_SUBDEVICE_ID_CONNECT_TECH_BH8_485_4_4
comma
l_int|0
comma
l_int|0
comma
id|pbn_b1_8_921600
)brace
comma
(brace
id|PCI_VENDOR_ID_V3
comma
id|PCI_DEVICE_ID_V3_V351
comma
id|PCI_SUBVENDOR_ID_CONNECT_TECH
comma
id|PCI_SUBDEVICE_ID_CONNECT_TECH_BH4_485
comma
l_int|0
comma
l_int|0
comma
id|pbn_b1_4_921600
)brace
comma
(brace
id|PCI_VENDOR_ID_V3
comma
id|PCI_DEVICE_ID_V3_V351
comma
id|PCI_SUBVENDOR_ID_CONNECT_TECH
comma
id|PCI_SUBDEVICE_ID_CONNECT_TECH_BH4_485_2_2
comma
l_int|0
comma
l_int|0
comma
id|pbn_b1_4_921600
)brace
comma
(brace
id|PCI_VENDOR_ID_V3
comma
id|PCI_DEVICE_ID_V3_V351
comma
id|PCI_SUBVENDOR_ID_CONNECT_TECH
comma
id|PCI_SUBDEVICE_ID_CONNECT_TECH_BH2_485
comma
l_int|0
comma
l_int|0
comma
id|pbn_b1_2_921600
)brace
comma
(brace
id|PCI_VENDOR_ID_V3
comma
id|PCI_DEVICE_ID_V3_V351
comma
id|PCI_SUBVENDOR_ID_CONNECT_TECH
comma
id|PCI_SUBDEVICE_ID_CONNECT_TECH_BH8_485_2_6
comma
l_int|0
comma
l_int|0
comma
id|pbn_b1_8_921600
)brace
comma
(brace
id|PCI_VENDOR_ID_V3
comma
id|PCI_DEVICE_ID_V3_V351
comma
id|PCI_SUBVENDOR_ID_CONNECT_TECH
comma
id|PCI_SUBDEVICE_ID_CONNECT_TECH_BH081101V1
comma
l_int|0
comma
l_int|0
comma
id|pbn_b1_8_921600
)brace
comma
(brace
id|PCI_VENDOR_ID_V3
comma
id|PCI_DEVICE_ID_V3_V351
comma
id|PCI_SUBVENDOR_ID_CONNECT_TECH
comma
id|PCI_SUBDEVICE_ID_CONNECT_TECH_BH041101V1
comma
l_int|0
comma
l_int|0
comma
id|pbn_b1_4_921600
)brace
comma
(brace
id|PCI_VENDOR_ID_SEALEVEL
comma
id|PCI_DEVICE_ID_SEALEVEL_U530
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b2_bt_1_115200
)brace
comma
(brace
id|PCI_VENDOR_ID_SEALEVEL
comma
id|PCI_DEVICE_ID_SEALEVEL_UCOMM2
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b2_bt_2_115200
)brace
comma
(brace
id|PCI_VENDOR_ID_SEALEVEL
comma
id|PCI_DEVICE_ID_SEALEVEL_UCOMM422
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b2_bt_4_115200
)brace
comma
(brace
id|PCI_VENDOR_ID_SEALEVEL
comma
id|PCI_DEVICE_ID_SEALEVEL_UCOMM232
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b2_bt_2_115200
)brace
comma
(brace
id|PCI_VENDOR_ID_SEALEVEL
comma
id|PCI_DEVICE_ID_SEALEVEL_COMM4
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b2_bt_4_115200
)brace
comma
(brace
id|PCI_VENDOR_ID_SEALEVEL
comma
id|PCI_DEVICE_ID_SEALEVEL_COMM8
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b2_8_115200
)brace
comma
(brace
id|PCI_VENDOR_ID_SEALEVEL
comma
id|PCI_DEVICE_ID_SEALEVEL_UCOMM8
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b2_8_115200
)brace
comma
(brace
id|PCI_VENDOR_ID_PLX
comma
id|PCI_DEVICE_ID_PLX_GTEK_SERIAL2
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b2_bt_2_115200
)brace
comma
(brace
id|PCI_VENDOR_ID_PLX
comma
id|PCI_DEVICE_ID_PLX_SPCOM200
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b2_bt_2_921600
)brace
comma
multiline_comment|/*&n;&t; * VScom SPCOM800, from sl@s.pl&n;&t; */
(brace
id|PCI_VENDOR_ID_PLX
comma
id|PCI_DEVICE_ID_PLX_SPCOM800
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b2_8_921600
)brace
comma
(brace
id|PCI_VENDOR_ID_PLX
comma
id|PCI_DEVICE_ID_PLX_1077
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b2_4_921600
)brace
comma
(brace
id|PCI_VENDOR_ID_PLX
comma
id|PCI_DEVICE_ID_PLX_9050
comma
id|PCI_SUBVENDOR_ID_KEYSPAN
comma
id|PCI_SUBDEVICE_ID_KEYSPAN_SX2
comma
l_int|0
comma
l_int|0
comma
id|pbn_panacom
)brace
comma
(brace
id|PCI_VENDOR_ID_PANACOM
comma
id|PCI_DEVICE_ID_PANACOM_QUADMODEM
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_panacom4
)brace
comma
(brace
id|PCI_VENDOR_ID_PANACOM
comma
id|PCI_DEVICE_ID_PANACOM_DUALMODEM
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_panacom2
)brace
comma
(brace
id|PCI_VENDOR_ID_PLX
comma
id|PCI_DEVICE_ID_PLX_9050
comma
id|PCI_SUBVENDOR_ID_CHASE_PCIFAST
comma
id|PCI_SUBDEVICE_ID_CHASE_PCIFAST4
comma
l_int|0
comma
l_int|0
comma
id|pbn_b2_4_460800
)brace
comma
(brace
id|PCI_VENDOR_ID_PLX
comma
id|PCI_DEVICE_ID_PLX_9050
comma
id|PCI_SUBVENDOR_ID_CHASE_PCIFAST
comma
id|PCI_SUBDEVICE_ID_CHASE_PCIFAST8
comma
l_int|0
comma
l_int|0
comma
id|pbn_b2_8_460800
)brace
comma
(brace
id|PCI_VENDOR_ID_PLX
comma
id|PCI_DEVICE_ID_PLX_9050
comma
id|PCI_SUBVENDOR_ID_CHASE_PCIFAST
comma
id|PCI_SUBDEVICE_ID_CHASE_PCIFAST16
comma
l_int|0
comma
l_int|0
comma
id|pbn_b2_16_460800
)brace
comma
(brace
id|PCI_VENDOR_ID_PLX
comma
id|PCI_DEVICE_ID_PLX_9050
comma
id|PCI_SUBVENDOR_ID_CHASE_PCIFAST
comma
id|PCI_SUBDEVICE_ID_CHASE_PCIFAST16FMC
comma
l_int|0
comma
l_int|0
comma
id|pbn_b2_16_460800
)brace
comma
(brace
id|PCI_VENDOR_ID_PLX
comma
id|PCI_DEVICE_ID_PLX_9050
comma
id|PCI_SUBVENDOR_ID_CHASE_PCIRAS
comma
id|PCI_SUBDEVICE_ID_CHASE_PCIRAS4
comma
l_int|0
comma
l_int|0
comma
id|pbn_b2_4_460800
)brace
comma
(brace
id|PCI_VENDOR_ID_PLX
comma
id|PCI_DEVICE_ID_PLX_9050
comma
id|PCI_SUBVENDOR_ID_CHASE_PCIRAS
comma
id|PCI_SUBDEVICE_ID_CHASE_PCIRAS8
comma
l_int|0
comma
l_int|0
comma
id|pbn_b2_8_460800
)brace
comma
multiline_comment|/*&n;&t; * Megawolf Romulus PCI Serial Card, from Mike Hudson&n;&t; * (Exoray@isys.ca)&n;&t; */
(brace
id|PCI_VENDOR_ID_PLX
comma
id|PCI_DEVICE_ID_PLX_ROMULUS
comma
l_int|0x10b5
comma
l_int|0x106a
comma
l_int|0
comma
l_int|0
comma
id|pbn_plx_romulus
)brace
comma
(brace
id|PCI_VENDOR_ID_QUATECH
comma
id|PCI_DEVICE_ID_QUATECH_QSC100
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b1_4_115200
)brace
comma
(brace
id|PCI_VENDOR_ID_QUATECH
comma
id|PCI_DEVICE_ID_QUATECH_DSC100
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b1_2_115200
)brace
comma
(brace
id|PCI_VENDOR_ID_QUATECH
comma
id|PCI_DEVICE_ID_QUATECH_ESC100D
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b1_8_115200
)brace
comma
(brace
id|PCI_VENDOR_ID_QUATECH
comma
id|PCI_DEVICE_ID_QUATECH_ESC100M
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b1_8_115200
)brace
comma
(brace
id|PCI_VENDOR_ID_SPECIALIX
comma
id|PCI_DEVICE_ID_OXSEMI_16PCI954
comma
id|PCI_VENDOR_ID_SPECIALIX
comma
id|PCI_SUBDEVICE_ID_SPECIALIX_SPEED4
comma
l_int|0
comma
l_int|0
comma
id|pbn_b0_4_921600
)brace
comma
(brace
id|PCI_VENDOR_ID_OXSEMI
comma
id|PCI_DEVICE_ID_OXSEMI_16PCI954
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b0_4_115200
)brace
comma
(brace
id|PCI_VENDOR_ID_OXSEMI
comma
id|PCI_DEVICE_ID_OXSEMI_16PCI952
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b0_bt_2_921600
)brace
comma
multiline_comment|/*&n;&t; * SBS Technologies, Inc. P-Octal and PMC-OCTPRO cards,&n;&t; * from skokodyn@yahoo.com&n;&t; */
(brace
id|PCI_VENDOR_ID_SBSMODULARIO
comma
id|PCI_DEVICE_ID_OCTPRO
comma
id|PCI_SUBVENDOR_ID_SBSMODULARIO
comma
id|PCI_SUBDEVICE_ID_OCTPRO232
comma
l_int|0
comma
l_int|0
comma
id|pbn_sbsxrsio
)brace
comma
(brace
id|PCI_VENDOR_ID_SBSMODULARIO
comma
id|PCI_DEVICE_ID_OCTPRO
comma
id|PCI_SUBVENDOR_ID_SBSMODULARIO
comma
id|PCI_SUBDEVICE_ID_OCTPRO422
comma
l_int|0
comma
l_int|0
comma
id|pbn_sbsxrsio
)brace
comma
(brace
id|PCI_VENDOR_ID_SBSMODULARIO
comma
id|PCI_DEVICE_ID_OCTPRO
comma
id|PCI_SUBVENDOR_ID_SBSMODULARIO
comma
id|PCI_SUBDEVICE_ID_POCTAL232
comma
l_int|0
comma
l_int|0
comma
id|pbn_sbsxrsio
)brace
comma
(brace
id|PCI_VENDOR_ID_SBSMODULARIO
comma
id|PCI_DEVICE_ID_OCTPRO
comma
id|PCI_SUBVENDOR_ID_SBSMODULARIO
comma
id|PCI_SUBDEVICE_ID_POCTAL422
comma
l_int|0
comma
l_int|0
comma
id|pbn_sbsxrsio
)brace
comma
multiline_comment|/*&n;&t; * Digitan DS560-558, from jimd@esoft.com&n;&t; */
(brace
id|PCI_VENDOR_ID_ATT
comma
id|PCI_DEVICE_ID_ATT_VENUS_MODEM
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b1_1_115200
)brace
comma
multiline_comment|/*&n;&t; * Titan Electronic cards&n;&t; *  The 400L and 800L have a custom setup quirk.&n;&t; */
(brace
id|PCI_VENDOR_ID_TITAN
comma
id|PCI_DEVICE_ID_TITAN_100
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b0_1_921600
)brace
comma
(brace
id|PCI_VENDOR_ID_TITAN
comma
id|PCI_DEVICE_ID_TITAN_200
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b0_2_921600
)brace
comma
(brace
id|PCI_VENDOR_ID_TITAN
comma
id|PCI_DEVICE_ID_TITAN_400
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b0_4_921600
)brace
comma
(brace
id|PCI_VENDOR_ID_TITAN
comma
id|PCI_DEVICE_ID_TITAN_800B
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b0_4_921600
)brace
comma
(brace
id|PCI_VENDOR_ID_TITAN
comma
id|PCI_DEVICE_ID_TITAN_100L
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b1_1_921600
)brace
comma
(brace
id|PCI_VENDOR_ID_TITAN
comma
id|PCI_DEVICE_ID_TITAN_200L
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b1_bt_2_921600
)brace
comma
(brace
id|PCI_VENDOR_ID_TITAN
comma
id|PCI_DEVICE_ID_TITAN_400L
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b0_bt_4_921600
)brace
comma
(brace
id|PCI_VENDOR_ID_TITAN
comma
id|PCI_DEVICE_ID_TITAN_800L
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b0_bt_8_921600
)brace
comma
(brace
id|PCI_VENDOR_ID_SIIG
comma
id|PCI_DEVICE_ID_SIIG_1S_10x_550
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b2_1_460800
)brace
comma
(brace
id|PCI_VENDOR_ID_SIIG
comma
id|PCI_DEVICE_ID_SIIG_1S_10x_650
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b2_1_460800
)brace
comma
(brace
id|PCI_VENDOR_ID_SIIG
comma
id|PCI_DEVICE_ID_SIIG_1S_10x_850
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b2_1_460800
)brace
comma
(brace
id|PCI_VENDOR_ID_SIIG
comma
id|PCI_DEVICE_ID_SIIG_2S_10x_550
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b2_bt_2_921600
)brace
comma
(brace
id|PCI_VENDOR_ID_SIIG
comma
id|PCI_DEVICE_ID_SIIG_2S_10x_650
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b2_bt_2_921600
)brace
comma
(brace
id|PCI_VENDOR_ID_SIIG
comma
id|PCI_DEVICE_ID_SIIG_2S_10x_850
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b2_bt_2_921600
)brace
comma
(brace
id|PCI_VENDOR_ID_SIIG
comma
id|PCI_DEVICE_ID_SIIG_4S_10x_550
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b2_bt_4_921600
)brace
comma
(brace
id|PCI_VENDOR_ID_SIIG
comma
id|PCI_DEVICE_ID_SIIG_4S_10x_650
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b2_bt_4_921600
)brace
comma
(brace
id|PCI_VENDOR_ID_SIIG
comma
id|PCI_DEVICE_ID_SIIG_4S_10x_850
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b2_bt_4_921600
)brace
comma
(brace
id|PCI_VENDOR_ID_SIIG
comma
id|PCI_DEVICE_ID_SIIG_1S_20x_550
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b0_1_921600
)brace
comma
(brace
id|PCI_VENDOR_ID_SIIG
comma
id|PCI_DEVICE_ID_SIIG_1S_20x_650
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b0_1_921600
)brace
comma
(brace
id|PCI_VENDOR_ID_SIIG
comma
id|PCI_DEVICE_ID_SIIG_1S_20x_850
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b0_1_921600
)brace
comma
(brace
id|PCI_VENDOR_ID_SIIG
comma
id|PCI_DEVICE_ID_SIIG_2S_20x_550
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b0_bt_2_921600
)brace
comma
(brace
id|PCI_VENDOR_ID_SIIG
comma
id|PCI_DEVICE_ID_SIIG_2S_20x_650
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b0_bt_2_921600
)brace
comma
(brace
id|PCI_VENDOR_ID_SIIG
comma
id|PCI_DEVICE_ID_SIIG_2S_20x_850
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b0_bt_2_921600
)brace
comma
(brace
id|PCI_VENDOR_ID_SIIG
comma
id|PCI_DEVICE_ID_SIIG_4S_20x_550
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b0_bt_4_921600
)brace
comma
(brace
id|PCI_VENDOR_ID_SIIG
comma
id|PCI_DEVICE_ID_SIIG_4S_20x_650
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b0_bt_4_921600
)brace
comma
(brace
id|PCI_VENDOR_ID_SIIG
comma
id|PCI_DEVICE_ID_SIIG_4S_20x_850
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b0_bt_4_921600
)brace
comma
multiline_comment|/*&n;&t; * Computone devices submitted by Doug McNash dmcnash@computone.com&n;&t; */
(brace
id|PCI_VENDOR_ID_COMPUTONE
comma
id|PCI_DEVICE_ID_COMPUTONE_PG
comma
id|PCI_SUBVENDOR_ID_COMPUTONE
comma
id|PCI_SUBDEVICE_ID_COMPUTONE_PG4
comma
l_int|0
comma
l_int|0
comma
id|pbn_computone_4
)brace
comma
(brace
id|PCI_VENDOR_ID_COMPUTONE
comma
id|PCI_DEVICE_ID_COMPUTONE_PG
comma
id|PCI_SUBVENDOR_ID_COMPUTONE
comma
id|PCI_SUBDEVICE_ID_COMPUTONE_PG8
comma
l_int|0
comma
l_int|0
comma
id|pbn_computone_8
)brace
comma
(brace
id|PCI_VENDOR_ID_COMPUTONE
comma
id|PCI_DEVICE_ID_COMPUTONE_PG
comma
id|PCI_SUBVENDOR_ID_COMPUTONE
comma
id|PCI_SUBDEVICE_ID_COMPUTONE_PG6
comma
l_int|0
comma
l_int|0
comma
id|pbn_computone_6
)brace
comma
(brace
id|PCI_VENDOR_ID_OXSEMI
comma
id|PCI_DEVICE_ID_OXSEMI_16PCI95N
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_oxsemi
)brace
comma
(brace
id|PCI_VENDOR_ID_TIMEDIA
comma
id|PCI_DEVICE_ID_TIMEDIA_1889
comma
id|PCI_VENDOR_ID_TIMEDIA
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b0_bt_1_921600
)brace
comma
multiline_comment|/*&n;&t; * AFAVLAB serial card, from Harald Welte &lt;laforge@gnumonks.org&gt;&n;&t; */
(brace
id|PCI_VENDOR_ID_AFAVLAB
comma
id|PCI_DEVICE_ID_AFAVLAB_P028
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b0_bt_8_115200
)brace
comma
(brace
id|PCI_VENDOR_ID_AFAVLAB
comma
id|PCI_DEVICE_ID_AFAVLAB_P030
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b0_bt_8_115200
)brace
comma
(brace
id|PCI_VENDOR_ID_LAVA
comma
id|PCI_DEVICE_ID_LAVA_DSERIAL
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b0_bt_2_115200
)brace
comma
(brace
id|PCI_VENDOR_ID_LAVA
comma
id|PCI_DEVICE_ID_LAVA_QUATRO_A
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b0_bt_2_115200
)brace
comma
(brace
id|PCI_VENDOR_ID_LAVA
comma
id|PCI_DEVICE_ID_LAVA_QUATRO_B
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b0_bt_2_115200
)brace
comma
(brace
id|PCI_VENDOR_ID_LAVA
comma
id|PCI_DEVICE_ID_LAVA_OCTO_A
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b0_bt_4_460800
)brace
comma
(brace
id|PCI_VENDOR_ID_LAVA
comma
id|PCI_DEVICE_ID_LAVA_OCTO_B
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b0_bt_4_460800
)brace
comma
(brace
id|PCI_VENDOR_ID_LAVA
comma
id|PCI_DEVICE_ID_LAVA_PORT_PLUS
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b0_bt_2_460800
)brace
comma
(brace
id|PCI_VENDOR_ID_LAVA
comma
id|PCI_DEVICE_ID_LAVA_QUAD_A
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b0_bt_2_460800
)brace
comma
(brace
id|PCI_VENDOR_ID_LAVA
comma
id|PCI_DEVICE_ID_LAVA_QUAD_B
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b0_bt_2_460800
)brace
comma
(brace
id|PCI_VENDOR_ID_LAVA
comma
id|PCI_DEVICE_ID_LAVA_SSERIAL
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b0_bt_1_115200
)brace
comma
(brace
id|PCI_VENDOR_ID_LAVA
comma
id|PCI_DEVICE_ID_LAVA_PORT_650
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b0_bt_1_460800
)brace
comma
multiline_comment|/*&n;&t; * Dell Remote Access Card 4 - Tim_T_Murphy@Dell.com&n;&t; */
(brace
id|PCI_VENDOR_ID_DELL
comma
id|PCI_DEVICE_ID_DELL_RAC4
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b1_1_1382400
)brace
comma
multiline_comment|/*&n;&t; * Dell Remote Access Card III - Tim_T_Murphy@Dell.com&n;&t; */
(brace
id|PCI_VENDOR_ID_DELL
comma
id|PCI_DEVICE_ID_DELL_RACIII
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b1_1_1382400
)brace
comma
multiline_comment|/*&n;&t; * RAStel 2 port modem, gerg@moreton.com.au&n;&t; */
(brace
id|PCI_VENDOR_ID_MORETON
comma
id|PCI_DEVICE_ID_RASTEL_2PORT
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b2_bt_2_115200
)brace
comma
multiline_comment|/*&n;&t; * EKF addition for i960 Boards form EKF with serial port&n;&t; */
(brace
id|PCI_VENDOR_ID_INTEL
comma
id|PCI_DEVICE_ID_INTEL_80960_RP
comma
l_int|0xE4BF
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_intel_i960
)brace
comma
multiline_comment|/*&n;&t; * Xircom Cardbus/Ethernet combos&n;&t; */
(brace
id|PCI_VENDOR_ID_XIRCOM
comma
id|PCI_DEVICE_ID_XIRCOM_X3201_MDM
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b0_1_115200
)brace
comma
multiline_comment|/*&n;&t; * Xircom RBM56G cardbus modem - Dirk Arnold (temp entry)&n;&t; */
(brace
id|PCI_VENDOR_ID_XIRCOM
comma
id|PCI_DEVICE_ID_XIRCOM_RBM56G
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b0_1_115200
)brace
comma
multiline_comment|/*&n;&t; * Untested PCI modems, sent in from various folks...&n;&t; */
multiline_comment|/*&n;&t; * Elsa Model 56K PCI Modem, from Andreas Rath &lt;arh@01019freenet.de&gt;&n;&t; */
(brace
id|PCI_VENDOR_ID_ROCKWELL
comma
l_int|0x1004
comma
l_int|0x1048
comma
l_int|0x1500
comma
l_int|0
comma
l_int|0
comma
id|pbn_b1_1_115200
)brace
comma
(brace
id|PCI_VENDOR_ID_SGI
comma
id|PCI_DEVICE_ID_SGI_IOC3
comma
l_int|0xFF00
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
id|pbn_sgi_ioc3
)brace
comma
multiline_comment|/*&n;&t; * HP Diva card&n;&t; */
(brace
id|PCI_VENDOR_ID_HP
comma
id|PCI_DEVICE_ID_HP_DIVA
comma
id|PCI_VENDOR_ID_HP
comma
id|PCI_DEVICE_ID_HP_DIVA_RMP3
comma
l_int|0
comma
l_int|0
comma
id|pbn_b1_1_115200
)brace
comma
(brace
id|PCI_VENDOR_ID_HP
comma
id|PCI_DEVICE_ID_HP_DIVA
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b0_5_115200
)brace
comma
(brace
id|PCI_VENDOR_ID_HP
comma
id|PCI_DEVICE_ID_HP_DIVA_AUX
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b2_1_115200
)brace
comma
multiline_comment|/*&n;&t; * NEC Vrc-5074 (Nile 4) builtin UART.&n;&t; */
(brace
id|PCI_VENDOR_ID_NEC
comma
id|PCI_DEVICE_ID_NEC_NILE4
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_nec_nile4
)brace
comma
(brace
id|PCI_VENDOR_ID_DCI
comma
id|PCI_DEVICE_ID_DCI_PCCOM4
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b3_4_115200
)brace
comma
(brace
id|PCI_VENDOR_ID_DCI
comma
id|PCI_DEVICE_ID_DCI_PCCOM8
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b3_8_115200
)brace
comma
multiline_comment|/*&n;&t; * Exar Corp. XR17C15[248] Dual/Quad/Octal UART&n;&t; */
(brace
id|PCI_VENDOR_ID_EXAR
comma
id|PCI_DEVICE_ID_EXAR_XR17C152
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_exar_XR17C152
)brace
comma
(brace
id|PCI_VENDOR_ID_EXAR
comma
id|PCI_DEVICE_ID_EXAR_XR17C154
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_exar_XR17C154
)brace
comma
(brace
id|PCI_VENDOR_ID_EXAR
comma
id|PCI_DEVICE_ID_EXAR_XR17C158
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_exar_XR17C158
)brace
comma
multiline_comment|/*&n;&t; * Topic TP560 Data/Fax/Voice 56k modem (reported by Evan Clarke)&n;&t; */
(brace
id|PCI_VENDOR_ID_TOPIC
comma
id|PCI_DEVICE_ID_TOPIC_TP560
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
l_int|0
comma
l_int|0
comma
id|pbn_b0_1_115200
)brace
comma
multiline_comment|/*&n;&t; * These entries match devices with class COMMUNICATION_SERIAL,&n;&t; * COMMUNICATION_MODEM or COMMUNICATION_MULTISERIAL&n;&t; */
(brace
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
id|PCI_CLASS_COMMUNICATION_SERIAL
op_lshift
l_int|8
comma
l_int|0xffff00
comma
id|pbn_default
)brace
comma
(brace
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
id|PCI_CLASS_COMMUNICATION_MODEM
op_lshift
l_int|8
comma
l_int|0xffff00
comma
id|pbn_default
)brace
comma
(brace
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
id|PCI_ANY_ID
comma
id|PCI_CLASS_COMMUNICATION_MULTISERIAL
op_lshift
l_int|8
comma
l_int|0xffff00
comma
id|pbn_default
)brace
comma
(brace
l_int|0
comma
)brace
)brace
suffix:semicolon
DECL|variable|serial_pci_driver
r_static
r_struct
id|pci_driver
id|serial_pci_driver
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;serial&quot;
comma
dot
id|probe
op_assign
id|pciserial_init_one
comma
dot
id|remove
op_assign
id|__devexit_p
c_func
(paren
id|pciserial_remove_one
)paren
comma
dot
id|suspend
op_assign
id|pciserial_suspend_one
comma
dot
id|resume
op_assign
id|pciserial_resume_one
comma
dot
id|id_table
op_assign
id|serial_pci_tbl
comma
)brace
suffix:semicolon
DECL|function|serial8250_pci_init
r_static
r_int
id|__init
id|serial8250_pci_init
c_func
(paren
r_void
)paren
(brace
r_return
id|pci_register_driver
c_func
(paren
op_amp
id|serial_pci_driver
)paren
suffix:semicolon
)brace
DECL|function|serial8250_pci_exit
r_static
r_void
id|__exit
id|serial8250_pci_exit
c_func
(paren
r_void
)paren
(brace
id|pci_unregister_driver
c_func
(paren
op_amp
id|serial_pci_driver
)paren
suffix:semicolon
)brace
DECL|variable|serial8250_pci_init
id|module_init
c_func
(paren
id|serial8250_pci_init
)paren
suffix:semicolon
DECL|variable|serial8250_pci_exit
id|module_exit
c_func
(paren
id|serial8250_pci_exit
)paren
suffix:semicolon
id|MODULE_LICENSE
c_func
(paren
l_string|&quot;GPL&quot;
)paren
suffix:semicolon
id|MODULE_DESCRIPTION
c_func
(paren
l_string|&quot;Generic 8250/16x50 PCI serial probe module&quot;
)paren
suffix:semicolon
id|MODULE_DEVICE_TABLE
c_func
(paren
id|pci
comma
id|serial_pci_tbl
)paren
suffix:semicolon
eof
