multiline_comment|/*&n; *  Driver for NEC VR4100 series Serial Interface Unit.&n; *&n; *  Copyright (C) 2004-2005  Yoichi Yuasa &lt;yuasa@hh.iij4u.or.jp&gt;&n; *&n; *  Based on drivers/serial/8250.c, by Russell King.&n; *&n; *  This program is free software; you can redistribute it and/or modify&n; *  it under the terms of the GNU General Public License as published by&n; *  the Free Software Foundation; either version 2 of the License, or&n; *  (at your option) any later version.&n; *&n; *  This program is distributed in the hope that it will be useful,&n; *  but WITHOUT ANY WARRANTY; without even the implied warranty of&n; *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the&n; *  GNU General Public License for more details.&n; *&n; *  You should have received a copy of the GNU General Public License&n; *  along with this program; if not, write to the Free Software&n; *  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA&n; */
macro_line|#include &lt;linux/config.h&gt;
macro_line|#if defined(CONFIG_SERIAL_VR41XX_CONSOLE) &amp;&amp; defined(CONFIG_MAGIC_SYSRQ)
DECL|macro|SUPPORT_SYSRQ
mdefine_line|#define SUPPORT_SYSRQ
macro_line|#endif
macro_line|#include &lt;linux/console.h&gt;
macro_line|#include &lt;linux/device.h&gt;
macro_line|#include &lt;linux/err.h&gt;
macro_line|#include &lt;linux/ioport.h&gt;
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;linux/interrupt.h&gt;
macro_line|#include &lt;linux/module.h&gt;
macro_line|#include &lt;linux/serial.h&gt;
macro_line|#include &lt;linux/serial_core.h&gt;
macro_line|#include &lt;linux/serial_reg.h&gt;
macro_line|#include &lt;linux/tty.h&gt;
macro_line|#include &lt;linux/tty_flip.h&gt;
macro_line|#include &lt;asm/io.h&gt;
macro_line|#include &lt;asm/vr41xx/siu.h&gt;
macro_line|#include &lt;asm/vr41xx/vr41xx.h&gt;
DECL|macro|SIU_PORTS_MAX
mdefine_line|#define SIU_PORTS_MAX&t;2
DECL|macro|SIU_BAUD_BASE
mdefine_line|#define SIU_BAUD_BASE&t;1152000
DECL|macro|SIU_MAJOR
mdefine_line|#define SIU_MAJOR&t;204
DECL|macro|SIU_MINOR_BASE
mdefine_line|#define SIU_MINOR_BASE&t;82
DECL|macro|RX_MAX_COUNT
mdefine_line|#define RX_MAX_COUNT&t;256
DECL|macro|TX_MAX_COUNT
mdefine_line|#define TX_MAX_COUNT&t;15
DECL|macro|SIUIRSEL
mdefine_line|#define SIUIRSEL&t;0x08
DECL|macro|TMICMODE
mdefine_line|#define TMICMODE&t;0x20
DECL|macro|TMICTX
mdefine_line|#define TMICTX&t;&t;0x10
DECL|macro|IRMSEL
mdefine_line|#define IRMSEL&t;&t;0x0c
DECL|macro|IRMSEL_HP
mdefine_line|#define IRMSEL_HP&t;0x08
DECL|macro|IRMSEL_TEMIC
mdefine_line|#define IRMSEL_TEMIC&t;0x04
DECL|macro|IRMSEL_SHARP
mdefine_line|#define IRMSEL_SHARP&t;0x00
DECL|macro|IRUSESEL
mdefine_line|#define IRUSESEL&t;0x02
DECL|macro|SIRSEL
mdefine_line|#define SIRSEL&t;&t;0x01
DECL|struct|siu_port
r_struct
id|siu_port
(brace
DECL|member|type
r_int
r_int
id|type
suffix:semicolon
DECL|member|irq
r_int
r_int
id|irq
suffix:semicolon
DECL|member|start
r_int
r_int
id|start
suffix:semicolon
)brace
suffix:semicolon
DECL|variable|siu_type1_ports
r_static
r_const
r_struct
id|siu_port
id|siu_type1_ports
(braket
)braket
op_assign
(brace
(brace
dot
id|type
op_assign
id|PORT_VR41XX_SIU
comma
dot
id|irq
op_assign
id|SIU_IRQ
comma
dot
id|start
op_assign
l_int|0x0c000000UL
comma
)brace
comma
)brace
suffix:semicolon
DECL|macro|SIU_TYPE1_NR_PORTS
mdefine_line|#define SIU_TYPE1_NR_PORTS&t;(sizeof(siu_type1_ports) / sizeof(struct siu_port))
DECL|variable|siu_type2_ports
r_static
r_const
r_struct
id|siu_port
id|siu_type2_ports
(braket
)braket
op_assign
(brace
(brace
dot
id|type
op_assign
id|PORT_VR41XX_SIU
comma
dot
id|irq
op_assign
id|SIU_IRQ
comma
dot
id|start
op_assign
l_int|0x0f000800UL
comma
)brace
comma
(brace
dot
id|type
op_assign
id|PORT_VR41XX_DSIU
comma
dot
id|irq
op_assign
id|DSIU_IRQ
comma
dot
id|start
op_assign
l_int|0x0f000820UL
comma
)brace
comma
)brace
suffix:semicolon
DECL|macro|SIU_TYPE2_NR_PORTS
mdefine_line|#define SIU_TYPE2_NR_PORTS&t;(sizeof(siu_type2_ports) / sizeof(struct siu_port))
DECL|variable|siu_uart_ports
r_static
r_struct
id|uart_port
id|siu_uart_ports
(braket
id|SIU_PORTS_MAX
)braket
suffix:semicolon
DECL|variable|lsr_break_flag
r_static
r_uint8
id|lsr_break_flag
(braket
id|SIU_PORTS_MAX
)braket
suffix:semicolon
DECL|macro|siu_read
mdefine_line|#define siu_read(port, offset)&t;&t;readb((port)-&gt;membase + (offset))
DECL|macro|siu_write
mdefine_line|#define siu_write(port, offset, value)&t;writeb((value), (port)-&gt;membase + (offset))
DECL|function|vr41xx_select_siu_interface
r_void
id|vr41xx_select_siu_interface
c_func
(paren
id|siu_interface_t
id|interface
)paren
(brace
r_struct
id|uart_port
op_star
id|port
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
r_uint8
id|irsel
suffix:semicolon
id|port
op_assign
op_amp
id|siu_uart_ports
(braket
l_int|0
)braket
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|port-&gt;lock
comma
id|flags
)paren
suffix:semicolon
id|irsel
op_assign
id|siu_read
c_func
(paren
id|port
comma
id|SIUIRSEL
)paren
suffix:semicolon
r_if
c_cond
(paren
id|interface
op_eq
id|SIU_INTERFACE_IRDA
)paren
id|irsel
op_or_assign
id|SIRSEL
suffix:semicolon
r_else
id|irsel
op_and_assign
op_complement
id|SIRSEL
suffix:semicolon
id|siu_write
c_func
(paren
id|port
comma
id|SIUIRSEL
comma
id|irsel
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|port-&gt;lock
comma
id|flags
)paren
suffix:semicolon
)brace
DECL|variable|vr41xx_select_siu_interface
id|EXPORT_SYMBOL_GPL
c_func
(paren
id|vr41xx_select_siu_interface
)paren
suffix:semicolon
DECL|function|vr41xx_use_irda
r_void
id|vr41xx_use_irda
c_func
(paren
id|irda_use_t
id|use
)paren
(brace
r_struct
id|uart_port
op_star
id|port
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
r_uint8
id|irsel
suffix:semicolon
id|port
op_assign
op_amp
id|siu_uart_ports
(braket
l_int|0
)braket
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|port-&gt;lock
comma
id|flags
)paren
suffix:semicolon
id|irsel
op_assign
id|siu_read
c_func
(paren
id|port
comma
id|SIUIRSEL
)paren
suffix:semicolon
r_if
c_cond
(paren
id|use
op_eq
id|FIR_USE_IRDA
)paren
id|irsel
op_or_assign
id|IRUSESEL
suffix:semicolon
r_else
id|irsel
op_and_assign
op_complement
id|IRUSESEL
suffix:semicolon
id|siu_write
c_func
(paren
id|port
comma
id|SIUIRSEL
comma
id|irsel
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|port-&gt;lock
comma
id|flags
)paren
suffix:semicolon
)brace
DECL|variable|vr41xx_use_irda
id|EXPORT_SYMBOL_GPL
c_func
(paren
id|vr41xx_use_irda
)paren
suffix:semicolon
DECL|function|vr41xx_select_irda_module
r_void
id|vr41xx_select_irda_module
c_func
(paren
id|irda_module_t
id|module
comma
id|irda_speed_t
id|speed
)paren
(brace
r_struct
id|uart_port
op_star
id|port
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
r_uint8
id|irsel
suffix:semicolon
id|port
op_assign
op_amp
id|siu_uart_ports
(braket
l_int|0
)braket
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|port-&gt;lock
comma
id|flags
)paren
suffix:semicolon
id|irsel
op_assign
id|siu_read
c_func
(paren
id|port
comma
id|SIUIRSEL
)paren
suffix:semicolon
id|irsel
op_and_assign
op_complement
(paren
id|IRMSEL
op_or
id|TMICTX
op_or
id|TMICMODE
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|module
)paren
(brace
r_case
id|SHARP_IRDA
suffix:colon
id|irsel
op_or_assign
id|IRMSEL_SHARP
suffix:semicolon
r_break
suffix:semicolon
r_case
id|TEMIC_IRDA
suffix:colon
id|irsel
op_or_assign
id|IRMSEL_TEMIC
op_or
id|TMICMODE
suffix:semicolon
r_if
c_cond
(paren
id|speed
op_eq
id|IRDA_TX_4MBPS
)paren
id|irsel
op_or_assign
id|TMICTX
suffix:semicolon
r_break
suffix:semicolon
r_case
id|HP_IRDA
suffix:colon
id|irsel
op_or_assign
id|IRMSEL_HP
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
r_break
suffix:semicolon
)brace
id|siu_write
c_func
(paren
id|port
comma
id|SIUIRSEL
comma
id|irsel
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|port-&gt;lock
comma
id|flags
)paren
suffix:semicolon
)brace
DECL|variable|vr41xx_select_irda_module
id|EXPORT_SYMBOL_GPL
c_func
(paren
id|vr41xx_select_irda_module
)paren
suffix:semicolon
DECL|function|siu_clear_fifo
r_static
r_inline
r_void
id|siu_clear_fifo
c_func
(paren
r_struct
id|uart_port
op_star
id|port
)paren
(brace
id|siu_write
c_func
(paren
id|port
comma
id|UART_FCR
comma
id|UART_FCR_ENABLE_FIFO
)paren
suffix:semicolon
id|siu_write
c_func
(paren
id|port
comma
id|UART_FCR
comma
id|UART_FCR_ENABLE_FIFO
op_or
id|UART_FCR_CLEAR_RCVR
op_or
id|UART_FCR_CLEAR_XMIT
)paren
suffix:semicolon
id|siu_write
c_func
(paren
id|port
comma
id|UART_FCR
comma
l_int|0
)paren
suffix:semicolon
)brace
DECL|function|siu_probe_ports
r_static
r_inline
r_int
id|siu_probe_ports
c_func
(paren
r_void
)paren
(brace
r_switch
c_cond
(paren
id|current_cpu_data.cputype
)paren
(brace
r_case
id|CPU_VR4111
suffix:colon
r_case
id|CPU_VR4121
suffix:colon
r_return
id|SIU_TYPE1_NR_PORTS
suffix:semicolon
r_case
id|CPU_VR4122
suffix:colon
r_case
id|CPU_VR4131
suffix:colon
r_case
id|CPU_VR4133
suffix:colon
r_return
id|SIU_TYPE2_NR_PORTS
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|siu_port_size
r_static
r_inline
r_int
r_int
id|siu_port_size
c_func
(paren
r_struct
id|uart_port
op_star
id|port
)paren
(brace
r_switch
c_cond
(paren
id|port-&gt;type
)paren
(brace
r_case
id|PORT_VR41XX_SIU
suffix:colon
r_return
l_int|11UL
suffix:semicolon
r_case
id|PORT_VR41XX_DSIU
suffix:colon
r_return
l_int|8UL
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|siu_check_type
r_static
r_inline
r_int
r_int
id|siu_check_type
c_func
(paren
r_struct
id|uart_port
op_star
id|port
)paren
(brace
r_switch
c_cond
(paren
id|current_cpu_data.cputype
)paren
(brace
r_case
id|CPU_VR4111
suffix:colon
r_case
id|CPU_VR4121
suffix:colon
r_if
c_cond
(paren
id|port-&gt;line
op_eq
l_int|0
)paren
r_return
id|PORT_VR41XX_SIU
suffix:semicolon
r_break
suffix:semicolon
r_case
id|CPU_VR4122
suffix:colon
r_case
id|CPU_VR4131
suffix:colon
r_case
id|CPU_VR4133
suffix:colon
r_if
c_cond
(paren
id|port-&gt;line
op_eq
l_int|0
)paren
r_return
id|PORT_VR41XX_SIU
suffix:semicolon
r_else
r_if
c_cond
(paren
id|port-&gt;line
op_eq
l_int|1
)paren
r_return
id|PORT_VR41XX_DSIU
suffix:semicolon
r_break
suffix:semicolon
)brace
r_return
id|PORT_UNKNOWN
suffix:semicolon
)brace
DECL|function|siu_type_name
r_static
r_inline
r_const
r_char
op_star
id|siu_type_name
c_func
(paren
r_struct
id|uart_port
op_star
id|port
)paren
(brace
r_switch
c_cond
(paren
id|port-&gt;type
)paren
(brace
r_case
id|PORT_VR41XX_SIU
suffix:colon
r_return
l_string|&quot;SIU&quot;
suffix:semicolon
r_case
id|PORT_VR41XX_DSIU
suffix:colon
r_return
l_string|&quot;DSIU&quot;
suffix:semicolon
)brace
r_return
l_string|&quot;unknown&quot;
suffix:semicolon
)brace
DECL|function|siu_tx_empty
r_static
r_int
r_int
id|siu_tx_empty
c_func
(paren
r_struct
id|uart_port
op_star
id|port
)paren
(brace
r_uint8
id|lsr
suffix:semicolon
id|lsr
op_assign
id|siu_read
c_func
(paren
id|port
comma
id|UART_LSR
)paren
suffix:semicolon
r_if
c_cond
(paren
id|lsr
op_amp
id|UART_LSR_TEMT
)paren
r_return
id|TIOCSER_TEMT
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|siu_set_mctrl
r_static
r_void
id|siu_set_mctrl
c_func
(paren
r_struct
id|uart_port
op_star
id|port
comma
r_int
r_int
id|mctrl
)paren
(brace
r_uint8
id|mcr
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|mctrl
op_amp
id|TIOCM_DTR
)paren
id|mcr
op_or_assign
id|UART_MCR_DTR
suffix:semicolon
r_if
c_cond
(paren
id|mctrl
op_amp
id|TIOCM_RTS
)paren
id|mcr
op_or_assign
id|UART_MCR_RTS
suffix:semicolon
r_if
c_cond
(paren
id|mctrl
op_amp
id|TIOCM_OUT1
)paren
id|mcr
op_or_assign
id|UART_MCR_OUT1
suffix:semicolon
r_if
c_cond
(paren
id|mctrl
op_amp
id|TIOCM_OUT2
)paren
id|mcr
op_or_assign
id|UART_MCR_OUT2
suffix:semicolon
r_if
c_cond
(paren
id|mctrl
op_amp
id|TIOCM_LOOP
)paren
id|mcr
op_or_assign
id|UART_MCR_LOOP
suffix:semicolon
id|siu_write
c_func
(paren
id|port
comma
id|UART_MCR
comma
id|mcr
)paren
suffix:semicolon
)brace
DECL|function|siu_get_mctrl
r_static
r_int
r_int
id|siu_get_mctrl
c_func
(paren
r_struct
id|uart_port
op_star
id|port
)paren
(brace
r_uint8
id|msr
suffix:semicolon
r_int
r_int
id|mctrl
op_assign
l_int|0
suffix:semicolon
id|msr
op_assign
id|siu_read
c_func
(paren
id|port
comma
id|UART_MSR
)paren
suffix:semicolon
r_if
c_cond
(paren
id|msr
op_amp
id|UART_MSR_DCD
)paren
id|mctrl
op_or_assign
id|TIOCM_CAR
suffix:semicolon
r_if
c_cond
(paren
id|msr
op_amp
id|UART_MSR_RI
)paren
id|mctrl
op_or_assign
id|TIOCM_RNG
suffix:semicolon
r_if
c_cond
(paren
id|msr
op_amp
id|UART_MSR_DSR
)paren
id|mctrl
op_or_assign
id|TIOCM_DSR
suffix:semicolon
r_if
c_cond
(paren
id|msr
op_amp
id|UART_MSR_CTS
)paren
id|mctrl
op_or_assign
id|TIOCM_CTS
suffix:semicolon
r_return
id|mctrl
suffix:semicolon
)brace
DECL|function|siu_stop_tx
r_static
r_void
id|siu_stop_tx
c_func
(paren
r_struct
id|uart_port
op_star
id|port
comma
r_int
r_int
id|tty_stop
)paren
(brace
r_int
r_int
id|flags
suffix:semicolon
r_uint8
id|ier
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|port-&gt;lock
comma
id|flags
)paren
suffix:semicolon
id|ier
op_assign
id|siu_read
c_func
(paren
id|port
comma
id|UART_IER
)paren
suffix:semicolon
id|ier
op_and_assign
op_complement
id|UART_IER_THRI
suffix:semicolon
id|siu_write
c_func
(paren
id|port
comma
id|UART_IER
comma
id|ier
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|port-&gt;lock
comma
id|flags
)paren
suffix:semicolon
)brace
DECL|function|siu_start_tx
r_static
r_void
id|siu_start_tx
c_func
(paren
r_struct
id|uart_port
op_star
id|port
comma
r_int
r_int
id|tty_start
)paren
(brace
r_int
r_int
id|flags
suffix:semicolon
r_uint8
id|ier
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|port-&gt;lock
comma
id|flags
)paren
suffix:semicolon
id|ier
op_assign
id|siu_read
c_func
(paren
id|port
comma
id|UART_IER
)paren
suffix:semicolon
id|ier
op_or_assign
id|UART_IER_THRI
suffix:semicolon
id|siu_write
c_func
(paren
id|port
comma
id|UART_IER
comma
id|ier
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|port-&gt;lock
comma
id|flags
)paren
suffix:semicolon
)brace
DECL|function|siu_stop_rx
r_static
r_void
id|siu_stop_rx
c_func
(paren
r_struct
id|uart_port
op_star
id|port
)paren
(brace
r_int
r_int
id|flags
suffix:semicolon
r_uint8
id|ier
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|port-&gt;lock
comma
id|flags
)paren
suffix:semicolon
id|ier
op_assign
id|siu_read
c_func
(paren
id|port
comma
id|UART_IER
)paren
suffix:semicolon
id|ier
op_and_assign
op_complement
id|UART_IER_RLSI
suffix:semicolon
id|siu_write
c_func
(paren
id|port
comma
id|UART_IER
comma
id|ier
)paren
suffix:semicolon
id|port-&gt;read_status_mask
op_and_assign
op_complement
id|UART_LSR_DR
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|port-&gt;lock
comma
id|flags
)paren
suffix:semicolon
)brace
DECL|function|siu_enable_ms
r_static
r_void
id|siu_enable_ms
c_func
(paren
r_struct
id|uart_port
op_star
id|port
)paren
(brace
r_int
r_int
id|flags
suffix:semicolon
r_uint8
id|ier
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|port-&gt;lock
comma
id|flags
)paren
suffix:semicolon
id|ier
op_assign
id|siu_read
c_func
(paren
id|port
comma
id|UART_IER
)paren
suffix:semicolon
id|ier
op_or_assign
id|UART_IER_MSI
suffix:semicolon
id|siu_write
c_func
(paren
id|port
comma
id|UART_IER
comma
id|ier
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|port-&gt;lock
comma
id|flags
)paren
suffix:semicolon
)brace
DECL|function|siu_break_ctl
r_static
r_void
id|siu_break_ctl
c_func
(paren
r_struct
id|uart_port
op_star
id|port
comma
r_int
id|ctl
)paren
(brace
r_int
r_int
id|flags
suffix:semicolon
r_uint8
id|lcr
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|port-&gt;lock
comma
id|flags
)paren
suffix:semicolon
id|lcr
op_assign
id|siu_read
c_func
(paren
id|port
comma
id|UART_LCR
)paren
suffix:semicolon
r_if
c_cond
(paren
id|ctl
op_eq
op_minus
l_int|1
)paren
id|lcr
op_or_assign
id|UART_LCR_SBC
suffix:semicolon
r_else
id|lcr
op_and_assign
op_complement
id|UART_LCR_SBC
suffix:semicolon
id|siu_write
c_func
(paren
id|port
comma
id|UART_LCR
comma
id|lcr
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|port-&gt;lock
comma
id|flags
)paren
suffix:semicolon
)brace
DECL|function|receive_chars
r_static
r_inline
r_void
id|receive_chars
c_func
(paren
r_struct
id|uart_port
op_star
id|port
comma
r_uint8
op_star
id|status
comma
r_struct
id|pt_regs
op_star
id|regs
)paren
(brace
r_struct
id|tty_struct
op_star
id|tty
suffix:semicolon
r_uint8
id|lsr
comma
id|ch
suffix:semicolon
r_char
id|flag
suffix:semicolon
r_int
id|max_count
op_assign
id|RX_MAX_COUNT
suffix:semicolon
id|tty
op_assign
id|port-&gt;info-&gt;tty
suffix:semicolon
id|lsr
op_assign
op_star
id|status
suffix:semicolon
r_do
(brace
r_if
c_cond
(paren
id|unlikely
c_func
(paren
id|tty-&gt;flip.count
op_ge
id|TTY_FLIPBUF_SIZE
)paren
)paren
(brace
r_if
c_cond
(paren
id|tty-&gt;low_latency
)paren
id|tty_flip_buffer_push
c_func
(paren
id|tty
)paren
suffix:semicolon
)brace
id|ch
op_assign
id|siu_read
c_func
(paren
id|port
comma
id|UART_RX
)paren
suffix:semicolon
id|port-&gt;icount.rx
op_increment
suffix:semicolon
id|flag
op_assign
id|TTY_NORMAL
suffix:semicolon
macro_line|#ifdef CONFIG_SERIAL_VR41XX_CONSOLE
id|lsr
op_or_assign
id|lsr_break_flag
(braket
id|port-&gt;line
)braket
suffix:semicolon
id|lsr_break_flag
(braket
id|port-&gt;line
)braket
op_assign
l_int|0
suffix:semicolon
macro_line|#endif
r_if
c_cond
(paren
id|unlikely
c_func
(paren
id|lsr
op_amp
(paren
id|UART_LSR_BI
op_or
id|UART_LSR_FE
op_or
id|UART_LSR_PE
op_or
id|UART_LSR_OE
)paren
)paren
)paren
(brace
r_if
c_cond
(paren
id|lsr
op_amp
id|UART_LSR_BI
)paren
(brace
id|lsr
op_and_assign
op_complement
(paren
id|UART_LSR_FE
op_or
id|UART_LSR_PE
)paren
suffix:semicolon
id|port-&gt;icount.brk
op_increment
suffix:semicolon
r_if
c_cond
(paren
id|uart_handle_break
c_func
(paren
id|port
)paren
)paren
r_goto
id|ignore_char
suffix:semicolon
)brace
r_if
c_cond
(paren
id|lsr
op_amp
id|UART_LSR_FE
)paren
id|port-&gt;icount.frame
op_increment
suffix:semicolon
r_if
c_cond
(paren
id|lsr
op_amp
id|UART_LSR_PE
)paren
id|port-&gt;icount.parity
op_increment
suffix:semicolon
r_if
c_cond
(paren
id|lsr
op_amp
id|UART_LSR_OE
)paren
id|port-&gt;icount.overrun
op_increment
suffix:semicolon
id|lsr
op_and_assign
id|port-&gt;read_status_mask
suffix:semicolon
r_if
c_cond
(paren
id|lsr
op_amp
id|UART_LSR_BI
)paren
id|flag
op_assign
id|TTY_BREAK
suffix:semicolon
r_if
c_cond
(paren
id|lsr
op_amp
id|UART_LSR_FE
)paren
id|flag
op_assign
id|TTY_FRAME
suffix:semicolon
r_if
c_cond
(paren
id|lsr
op_amp
id|UART_LSR_PE
)paren
id|flag
op_assign
id|TTY_PARITY
suffix:semicolon
)brace
r_if
c_cond
(paren
id|uart_handle_sysrq_char
c_func
(paren
id|port
comma
id|ch
comma
id|regs
)paren
)paren
r_goto
id|ignore_char
suffix:semicolon
r_if
c_cond
(paren
(paren
id|lsr
op_amp
id|port-&gt;ignore_status_mask
)paren
op_eq
l_int|0
)paren
id|tty_insert_flip_char
c_func
(paren
id|tty
comma
id|ch
comma
id|flag
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|lsr
op_amp
id|UART_LSR_OE
)paren
op_logical_and
(paren
id|tty-&gt;flip.count
OL
id|TTY_FLIPBUF_SIZE
)paren
)paren
id|tty_insert_flip_char
c_func
(paren
id|tty
comma
l_int|0
comma
id|TTY_OVERRUN
)paren
suffix:semicolon
id|ignore_char
suffix:colon
id|lsr
op_assign
id|siu_read
c_func
(paren
id|port
comma
id|UART_LSR
)paren
suffix:semicolon
)brace
r_while
c_loop
(paren
(paren
id|lsr
op_amp
id|UART_LSR_DR
)paren
op_logical_and
(paren
id|max_count
op_decrement
OG
l_int|0
)paren
)paren
suffix:semicolon
id|tty_flip_buffer_push
c_func
(paren
id|tty
)paren
suffix:semicolon
op_star
id|status
op_assign
id|lsr
suffix:semicolon
)brace
DECL|function|check_modem_status
r_static
r_inline
r_void
id|check_modem_status
c_func
(paren
r_struct
id|uart_port
op_star
id|port
)paren
(brace
r_uint8
id|msr
suffix:semicolon
id|msr
op_assign
id|siu_read
c_func
(paren
id|port
comma
id|UART_MSR
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|msr
op_amp
id|UART_MSR_ANY_DELTA
)paren
op_eq
l_int|0
)paren
r_return
suffix:semicolon
r_if
c_cond
(paren
id|msr
op_amp
id|UART_MSR_DDCD
)paren
id|uart_handle_dcd_change
c_func
(paren
id|port
comma
id|msr
op_amp
id|UART_MSR_DCD
)paren
suffix:semicolon
r_if
c_cond
(paren
id|msr
op_amp
id|UART_MSR_TERI
)paren
id|port-&gt;icount.rng
op_increment
suffix:semicolon
r_if
c_cond
(paren
id|msr
op_amp
id|UART_MSR_DDSR
)paren
id|port-&gt;icount.dsr
op_increment
suffix:semicolon
r_if
c_cond
(paren
id|msr
op_amp
id|UART_MSR_DCTS
)paren
id|uart_handle_cts_change
c_func
(paren
id|port
comma
id|msr
op_amp
id|UART_MSR_CTS
)paren
suffix:semicolon
id|wake_up_interruptible
c_func
(paren
op_amp
id|port-&gt;info-&gt;delta_msr_wait
)paren
suffix:semicolon
)brace
DECL|function|transmit_chars
r_static
r_inline
r_void
id|transmit_chars
c_func
(paren
r_struct
id|uart_port
op_star
id|port
)paren
(brace
r_struct
id|circ_buf
op_star
id|xmit
suffix:semicolon
r_int
id|max_count
op_assign
id|TX_MAX_COUNT
suffix:semicolon
id|xmit
op_assign
op_amp
id|port-&gt;info-&gt;xmit
suffix:semicolon
r_if
c_cond
(paren
id|port-&gt;x_char
)paren
(brace
id|siu_write
c_func
(paren
id|port
comma
id|UART_TX
comma
id|port-&gt;x_char
)paren
suffix:semicolon
id|port-&gt;icount.tx
op_increment
suffix:semicolon
id|port-&gt;x_char
op_assign
l_int|0
suffix:semicolon
r_return
suffix:semicolon
)brace
r_if
c_cond
(paren
id|uart_circ_empty
c_func
(paren
id|xmit
)paren
op_logical_or
id|uart_tx_stopped
c_func
(paren
id|port
)paren
)paren
(brace
id|siu_stop_tx
c_func
(paren
id|port
comma
l_int|0
)paren
suffix:semicolon
r_return
suffix:semicolon
)brace
r_do
(brace
id|siu_write
c_func
(paren
id|port
comma
id|UART_TX
comma
id|xmit-&gt;buf
(braket
id|xmit-&gt;tail
)braket
)paren
suffix:semicolon
id|xmit-&gt;tail
op_assign
(paren
id|xmit-&gt;tail
op_plus
l_int|1
)paren
op_amp
(paren
id|UART_XMIT_SIZE
op_minus
l_int|1
)paren
suffix:semicolon
id|port-&gt;icount.tx
op_increment
suffix:semicolon
r_if
c_cond
(paren
id|uart_circ_empty
c_func
(paren
id|xmit
)paren
)paren
r_break
suffix:semicolon
)brace
r_while
c_loop
(paren
id|max_count
op_decrement
OG
l_int|0
)paren
suffix:semicolon
r_if
c_cond
(paren
id|uart_circ_chars_pending
c_func
(paren
id|xmit
)paren
OL
id|WAKEUP_CHARS
)paren
id|uart_write_wakeup
c_func
(paren
id|port
)paren
suffix:semicolon
r_if
c_cond
(paren
id|uart_circ_empty
c_func
(paren
id|xmit
)paren
)paren
id|siu_stop_tx
c_func
(paren
id|port
comma
l_int|0
)paren
suffix:semicolon
)brace
DECL|function|siu_interrupt
r_static
id|irqreturn_t
id|siu_interrupt
c_func
(paren
r_int
id|irq
comma
r_void
op_star
id|dev_id
comma
r_struct
id|pt_regs
op_star
id|regs
)paren
(brace
r_struct
id|uart_port
op_star
id|port
suffix:semicolon
r_uint8
id|iir
comma
id|lsr
suffix:semicolon
r_if
c_cond
(paren
id|dev_id
op_eq
l_int|NULL
)paren
r_return
id|IRQ_NONE
suffix:semicolon
id|port
op_assign
(paren
r_struct
id|uart_port
op_star
)paren
id|dev_id
suffix:semicolon
id|iir
op_assign
id|siu_read
c_func
(paren
id|port
comma
id|UART_IIR
)paren
suffix:semicolon
r_if
c_cond
(paren
id|iir
op_amp
id|UART_IIR_NO_INT
)paren
r_return
id|IRQ_NONE
suffix:semicolon
id|lsr
op_assign
id|siu_read
c_func
(paren
id|port
comma
id|UART_LSR
)paren
suffix:semicolon
r_if
c_cond
(paren
id|lsr
op_amp
id|UART_LSR_DR
)paren
id|receive_chars
c_func
(paren
id|port
comma
op_amp
id|lsr
comma
id|regs
)paren
suffix:semicolon
id|check_modem_status
c_func
(paren
id|port
)paren
suffix:semicolon
r_if
c_cond
(paren
id|lsr
op_amp
id|UART_LSR_THRE
)paren
id|transmit_chars
c_func
(paren
id|port
)paren
suffix:semicolon
r_return
id|IRQ_HANDLED
suffix:semicolon
)brace
DECL|function|siu_startup
r_static
r_int
id|siu_startup
c_func
(paren
r_struct
id|uart_port
op_star
id|port
)paren
(brace
r_int
id|retval
suffix:semicolon
id|siu_clear_fifo
c_func
(paren
id|port
)paren
suffix:semicolon
(paren
r_void
)paren
id|siu_read
c_func
(paren
id|port
comma
id|UART_LSR
)paren
suffix:semicolon
(paren
r_void
)paren
id|siu_read
c_func
(paren
id|port
comma
id|UART_RX
)paren
suffix:semicolon
(paren
r_void
)paren
id|siu_read
c_func
(paren
id|port
comma
id|UART_IIR
)paren
suffix:semicolon
(paren
r_void
)paren
id|siu_read
c_func
(paren
id|port
comma
id|UART_MSR
)paren
suffix:semicolon
r_if
c_cond
(paren
id|siu_read
c_func
(paren
id|port
comma
id|UART_LSR
)paren
op_eq
l_int|0xff
)paren
r_return
op_minus
id|ENODEV
suffix:semicolon
id|retval
op_assign
id|request_irq
c_func
(paren
id|port-&gt;irq
comma
id|siu_interrupt
comma
l_int|0
comma
id|siu_type_name
c_func
(paren
id|port
)paren
comma
id|port
)paren
suffix:semicolon
r_if
c_cond
(paren
id|retval
)paren
r_return
id|retval
suffix:semicolon
r_if
c_cond
(paren
id|port-&gt;type
op_eq
id|PORT_VR41XX_DSIU
)paren
id|vr41xx_enable_dsiuint
c_func
(paren
id|DSIUINT_ALL
)paren
suffix:semicolon
id|siu_write
c_func
(paren
id|port
comma
id|UART_LCR
comma
id|UART_LCR_WLEN8
)paren
suffix:semicolon
id|spin_lock_irq
c_func
(paren
op_amp
id|port-&gt;lock
)paren
suffix:semicolon
id|siu_set_mctrl
c_func
(paren
id|port
comma
id|port-&gt;mctrl
)paren
suffix:semicolon
id|spin_unlock_irq
c_func
(paren
op_amp
id|port-&gt;lock
)paren
suffix:semicolon
id|siu_write
c_func
(paren
id|port
comma
id|UART_IER
comma
id|UART_IER_RLSI
op_or
id|UART_IER_RDI
)paren
suffix:semicolon
(paren
r_void
)paren
id|siu_read
c_func
(paren
id|port
comma
id|UART_LSR
)paren
suffix:semicolon
(paren
r_void
)paren
id|siu_read
c_func
(paren
id|port
comma
id|UART_RX
)paren
suffix:semicolon
(paren
r_void
)paren
id|siu_read
c_func
(paren
id|port
comma
id|UART_IIR
)paren
suffix:semicolon
(paren
r_void
)paren
id|siu_read
c_func
(paren
id|port
comma
id|UART_MSR
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|siu_shutdown
r_static
r_void
id|siu_shutdown
c_func
(paren
r_struct
id|uart_port
op_star
id|port
)paren
(brace
r_int
r_int
id|flags
suffix:semicolon
r_uint8
id|lcr
suffix:semicolon
r_if
c_cond
(paren
id|port-&gt;membase
op_eq
l_int|NULL
)paren
r_return
suffix:semicolon
id|siu_write
c_func
(paren
id|port
comma
id|UART_IER
comma
l_int|0
)paren
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|port-&gt;lock
comma
id|flags
)paren
suffix:semicolon
id|port-&gt;mctrl
op_and_assign
op_complement
id|TIOCM_OUT2
suffix:semicolon
id|siu_set_mctrl
c_func
(paren
id|port
comma
id|port-&gt;mctrl
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|port-&gt;lock
comma
id|flags
)paren
suffix:semicolon
id|lcr
op_assign
id|siu_read
c_func
(paren
id|port
comma
id|UART_LCR
)paren
suffix:semicolon
id|lcr
op_and_assign
op_complement
id|UART_LCR_SBC
suffix:semicolon
id|siu_write
c_func
(paren
id|port
comma
id|UART_LCR
comma
id|lcr
)paren
suffix:semicolon
id|siu_clear_fifo
c_func
(paren
id|port
)paren
suffix:semicolon
(paren
r_void
)paren
id|siu_read
c_func
(paren
id|port
comma
id|UART_RX
)paren
suffix:semicolon
r_if
c_cond
(paren
id|port-&gt;type
op_eq
id|PORT_VR41XX_DSIU
)paren
id|vr41xx_disable_dsiuint
c_func
(paren
id|DSIUINT_ALL
)paren
suffix:semicolon
id|free_irq
c_func
(paren
id|port-&gt;irq
comma
id|port
)paren
suffix:semicolon
)brace
DECL|function|siu_set_termios
r_static
r_void
id|siu_set_termios
c_func
(paren
r_struct
id|uart_port
op_star
id|port
comma
r_struct
id|termios
op_star
r_new
comma
r_struct
id|termios
op_star
id|old
)paren
(brace
id|tcflag_t
id|c_cflag
comma
id|c_iflag
suffix:semicolon
r_uint8
id|lcr
comma
id|fcr
comma
id|ier
suffix:semicolon
r_int
r_int
id|baud
comma
id|quot
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
id|c_cflag
op_assign
r_new
op_member_access_from_pointer
id|c_cflag
suffix:semicolon
r_switch
c_cond
(paren
id|c_cflag
op_amp
id|CSIZE
)paren
(brace
r_case
id|CS5
suffix:colon
id|lcr
op_assign
id|UART_LCR_WLEN5
suffix:semicolon
r_break
suffix:semicolon
r_case
id|CS6
suffix:colon
id|lcr
op_assign
id|UART_LCR_WLEN6
suffix:semicolon
r_break
suffix:semicolon
r_case
id|CS7
suffix:colon
id|lcr
op_assign
id|UART_LCR_WLEN7
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
id|lcr
op_assign
id|UART_LCR_WLEN8
suffix:semicolon
r_break
suffix:semicolon
)brace
r_if
c_cond
(paren
id|c_cflag
op_amp
id|CSTOPB
)paren
id|lcr
op_or_assign
id|UART_LCR_STOP
suffix:semicolon
r_if
c_cond
(paren
id|c_cflag
op_amp
id|PARENB
)paren
id|lcr
op_or_assign
id|UART_LCR_PARITY
suffix:semicolon
r_if
c_cond
(paren
(paren
id|c_cflag
op_amp
id|PARODD
)paren
op_ne
id|PARODD
)paren
id|lcr
op_or_assign
id|UART_LCR_EPAR
suffix:semicolon
r_if
c_cond
(paren
id|c_cflag
op_amp
id|CMSPAR
)paren
id|lcr
op_or_assign
id|UART_LCR_SPAR
suffix:semicolon
id|baud
op_assign
id|uart_get_baud_rate
c_func
(paren
id|port
comma
r_new
comma
id|old
comma
l_int|0
comma
id|port-&gt;uartclk
op_div
l_int|16
)paren
suffix:semicolon
id|quot
op_assign
id|uart_get_divisor
c_func
(paren
id|port
comma
id|baud
)paren
suffix:semicolon
id|fcr
op_assign
id|UART_FCR_ENABLE_FIFO
op_or
id|UART_FCR_R_TRIG_10
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|port-&gt;lock
comma
id|flags
)paren
suffix:semicolon
id|uart_update_timeout
c_func
(paren
id|port
comma
id|c_cflag
comma
id|baud
)paren
suffix:semicolon
id|c_iflag
op_assign
r_new
op_member_access_from_pointer
id|c_iflag
suffix:semicolon
id|port-&gt;read_status_mask
op_assign
id|UART_LSR_THRE
op_or
id|UART_LSR_OE
op_or
id|UART_LSR_DR
suffix:semicolon
r_if
c_cond
(paren
id|c_iflag
op_amp
id|INPCK
)paren
id|port-&gt;read_status_mask
op_or_assign
id|UART_LSR_FE
op_or
id|UART_LSR_PE
suffix:semicolon
r_if
c_cond
(paren
id|c_iflag
op_amp
(paren
id|BRKINT
op_or
id|PARMRK
)paren
)paren
id|port-&gt;read_status_mask
op_or_assign
id|UART_LSR_BI
suffix:semicolon
id|port-&gt;ignore_status_mask
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|c_iflag
op_amp
id|IGNPAR
)paren
id|port-&gt;ignore_status_mask
op_or_assign
id|UART_LSR_FE
op_or
id|UART_LSR_PE
suffix:semicolon
r_if
c_cond
(paren
id|c_iflag
op_amp
id|IGNBRK
)paren
(brace
id|port-&gt;ignore_status_mask
op_or_assign
id|UART_LSR_BI
suffix:semicolon
r_if
c_cond
(paren
id|c_iflag
op_amp
id|IGNPAR
)paren
id|port-&gt;ignore_status_mask
op_or_assign
id|UART_LSR_OE
suffix:semicolon
)brace
r_if
c_cond
(paren
(paren
id|c_cflag
op_amp
id|CREAD
)paren
op_eq
l_int|0
)paren
id|port-&gt;ignore_status_mask
op_or_assign
id|UART_LSR_DR
suffix:semicolon
id|ier
op_assign
id|siu_read
c_func
(paren
id|port
comma
id|UART_IER
)paren
suffix:semicolon
id|ier
op_and_assign
op_complement
id|UART_IER_MSI
suffix:semicolon
r_if
c_cond
(paren
id|UART_ENABLE_MS
c_func
(paren
id|port
comma
id|c_cflag
)paren
)paren
id|ier
op_or_assign
id|UART_IER_MSI
suffix:semicolon
id|siu_write
c_func
(paren
id|port
comma
id|UART_IER
comma
id|ier
)paren
suffix:semicolon
id|siu_write
c_func
(paren
id|port
comma
id|UART_LCR
comma
id|lcr
op_or
id|UART_LCR_DLAB
)paren
suffix:semicolon
id|siu_write
c_func
(paren
id|port
comma
id|UART_DLL
comma
(paren
r_uint8
)paren
id|quot
)paren
suffix:semicolon
id|siu_write
c_func
(paren
id|port
comma
id|UART_DLM
comma
(paren
r_uint8
)paren
(paren
id|quot
op_rshift
l_int|8
)paren
)paren
suffix:semicolon
id|siu_write
c_func
(paren
id|port
comma
id|UART_LCR
comma
id|lcr
)paren
suffix:semicolon
id|siu_write
c_func
(paren
id|port
comma
id|UART_FCR
comma
id|fcr
)paren
suffix:semicolon
id|siu_set_mctrl
c_func
(paren
id|port
comma
id|port-&gt;mctrl
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|port-&gt;lock
comma
id|flags
)paren
suffix:semicolon
)brace
DECL|function|siu_pm
r_static
r_void
id|siu_pm
c_func
(paren
r_struct
id|uart_port
op_star
id|port
comma
r_int
r_int
id|state
comma
r_int
r_int
id|oldstate
)paren
(brace
r_switch
c_cond
(paren
id|state
)paren
(brace
r_case
l_int|0
suffix:colon
r_switch
c_cond
(paren
id|port-&gt;type
)paren
(brace
r_case
id|PORT_VR41XX_SIU
suffix:colon
id|vr41xx_supply_clock
c_func
(paren
id|SIU_CLOCK
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|PORT_VR41XX_DSIU
suffix:colon
id|vr41xx_supply_clock
c_func
(paren
id|DSIU_CLOCK
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
r_break
suffix:semicolon
r_case
l_int|3
suffix:colon
r_switch
c_cond
(paren
id|port-&gt;type
)paren
(brace
r_case
id|PORT_VR41XX_SIU
suffix:colon
id|vr41xx_mask_clock
c_func
(paren
id|SIU_CLOCK
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|PORT_VR41XX_DSIU
suffix:colon
id|vr41xx_mask_clock
c_func
(paren
id|DSIU_CLOCK
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
r_break
suffix:semicolon
)brace
)brace
DECL|function|siu_type
r_static
r_const
r_char
op_star
id|siu_type
c_func
(paren
r_struct
id|uart_port
op_star
id|port
)paren
(brace
r_return
id|siu_type_name
c_func
(paren
id|port
)paren
suffix:semicolon
)brace
DECL|function|siu_release_port
r_static
r_void
id|siu_release_port
c_func
(paren
r_struct
id|uart_port
op_star
id|port
)paren
(brace
r_int
r_int
id|size
suffix:semicolon
r_if
c_cond
(paren
id|port-&gt;flags
op_amp
id|UPF_IOREMAP
)paren
(brace
id|iounmap
c_func
(paren
id|port-&gt;membase
)paren
suffix:semicolon
id|port-&gt;membase
op_assign
l_int|NULL
suffix:semicolon
)brace
id|size
op_assign
id|siu_port_size
c_func
(paren
id|port
)paren
suffix:semicolon
id|release_mem_region
c_func
(paren
id|port-&gt;mapbase
comma
id|size
)paren
suffix:semicolon
)brace
DECL|function|siu_request_port
r_static
r_int
id|siu_request_port
c_func
(paren
r_struct
id|uart_port
op_star
id|port
)paren
(brace
r_int
r_int
id|size
suffix:semicolon
r_struct
id|resource
op_star
id|res
suffix:semicolon
id|size
op_assign
id|siu_port_size
c_func
(paren
id|port
)paren
suffix:semicolon
id|res
op_assign
id|request_mem_region
c_func
(paren
id|port-&gt;mapbase
comma
id|size
comma
id|siu_type_name
c_func
(paren
id|port
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|res
op_eq
l_int|NULL
)paren
r_return
op_minus
id|EBUSY
suffix:semicolon
r_if
c_cond
(paren
id|port-&gt;flags
op_amp
id|UPF_IOREMAP
)paren
(brace
id|port-&gt;membase
op_assign
id|ioremap
c_func
(paren
id|port-&gt;mapbase
comma
id|size
)paren
suffix:semicolon
r_if
c_cond
(paren
id|port-&gt;membase
op_eq
l_int|NULL
)paren
(brace
id|release_resource
c_func
(paren
id|res
)paren
suffix:semicolon
r_return
op_minus
id|ENOMEM
suffix:semicolon
)brace
)brace
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|siu_config_port
r_static
r_void
id|siu_config_port
c_func
(paren
r_struct
id|uart_port
op_star
id|port
comma
r_int
id|flags
)paren
(brace
r_if
c_cond
(paren
id|flags
op_amp
id|UART_CONFIG_TYPE
)paren
(brace
id|port-&gt;type
op_assign
id|siu_check_type
c_func
(paren
id|port
)paren
suffix:semicolon
(paren
r_void
)paren
id|siu_request_port
c_func
(paren
id|port
)paren
suffix:semicolon
)brace
)brace
DECL|function|siu_verify_port
r_static
r_int
id|siu_verify_port
c_func
(paren
r_struct
id|uart_port
op_star
id|port
comma
r_struct
id|serial_struct
op_star
id|serial
)paren
(brace
r_if
c_cond
(paren
id|port-&gt;type
op_ne
id|PORT_VR41XX_SIU
op_logical_and
id|port-&gt;type
op_ne
id|PORT_VR41XX_DSIU
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
r_if
c_cond
(paren
id|port-&gt;irq
op_ne
id|serial-&gt;irq
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
r_if
c_cond
(paren
id|port-&gt;iotype
op_ne
id|serial-&gt;io_type
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
r_if
c_cond
(paren
id|port-&gt;mapbase
op_ne
(paren
r_int
r_int
)paren
id|serial-&gt;iomem_base
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|variable|siu_uart_ops
r_static
r_struct
id|uart_ops
id|siu_uart_ops
op_assign
(brace
dot
id|tx_empty
op_assign
id|siu_tx_empty
comma
dot
id|set_mctrl
op_assign
id|siu_set_mctrl
comma
dot
id|get_mctrl
op_assign
id|siu_get_mctrl
comma
dot
id|stop_tx
op_assign
id|siu_stop_tx
comma
dot
id|start_tx
op_assign
id|siu_start_tx
comma
dot
id|stop_rx
op_assign
id|siu_stop_rx
comma
dot
id|enable_ms
op_assign
id|siu_enable_ms
comma
dot
id|break_ctl
op_assign
id|siu_break_ctl
comma
dot
id|startup
op_assign
id|siu_startup
comma
dot
id|shutdown
op_assign
id|siu_shutdown
comma
dot
id|set_termios
op_assign
id|siu_set_termios
comma
dot
id|pm
op_assign
id|siu_pm
comma
dot
id|type
op_assign
id|siu_type
comma
dot
id|release_port
op_assign
id|siu_release_port
comma
dot
id|request_port
op_assign
id|siu_request_port
comma
dot
id|config_port
op_assign
id|siu_config_port
comma
dot
id|verify_port
op_assign
id|siu_verify_port
comma
)brace
suffix:semicolon
DECL|function|siu_init_ports
r_static
r_int
id|siu_init_ports
c_func
(paren
r_void
)paren
(brace
r_const
r_struct
id|siu_port
op_star
id|siu
suffix:semicolon
r_struct
id|uart_port
op_star
id|port
suffix:semicolon
r_int
id|i
comma
id|num
suffix:semicolon
r_switch
c_cond
(paren
id|current_cpu_data.cputype
)paren
(brace
r_case
id|CPU_VR4111
suffix:colon
r_case
id|CPU_VR4121
suffix:colon
id|siu
op_assign
id|siu_type1_ports
suffix:semicolon
r_break
suffix:semicolon
r_case
id|CPU_VR4122
suffix:colon
r_case
id|CPU_VR4131
suffix:colon
r_case
id|CPU_VR4133
suffix:colon
id|siu
op_assign
id|siu_type2_ports
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
r_return
l_int|0
suffix:semicolon
)brace
id|port
op_assign
id|siu_uart_ports
suffix:semicolon
id|num
op_assign
id|siu_probe_ports
c_func
(paren
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|num
suffix:semicolon
id|i
op_increment
)paren
(brace
id|spin_lock_init
c_func
(paren
op_amp
id|port-&gt;lock
)paren
suffix:semicolon
id|port-&gt;irq
op_assign
id|siu-&gt;irq
suffix:semicolon
id|port-&gt;uartclk
op_assign
id|SIU_BAUD_BASE
op_star
l_int|16
suffix:semicolon
id|port-&gt;fifosize
op_assign
l_int|16
suffix:semicolon
id|port-&gt;regshift
op_assign
l_int|0
suffix:semicolon
id|port-&gt;iotype
op_assign
id|UPIO_MEM
suffix:semicolon
id|port-&gt;flags
op_assign
id|UPF_IOREMAP
op_or
id|UPF_BOOT_AUTOCONF
suffix:semicolon
id|port-&gt;type
op_assign
id|siu-&gt;type
suffix:semicolon
id|port-&gt;line
op_assign
id|i
suffix:semicolon
id|port-&gt;mapbase
op_assign
id|siu-&gt;start
suffix:semicolon
id|siu
op_increment
suffix:semicolon
id|port
op_increment
suffix:semicolon
)brace
r_return
id|num
suffix:semicolon
)brace
macro_line|#ifdef CONFIG_SERIAL_VR41XX_CONSOLE
DECL|function|early_set_termios
r_static
r_void
id|early_set_termios
c_func
(paren
r_struct
id|uart_port
op_star
id|port
comma
r_struct
id|termios
op_star
r_new
comma
r_struct
id|termios
op_star
id|old
)paren
(brace
id|tcflag_t
id|c_cflag
suffix:semicolon
r_uint8
id|lcr
suffix:semicolon
r_int
r_int
id|baud
comma
id|quot
suffix:semicolon
id|c_cflag
op_assign
r_new
op_member_access_from_pointer
id|c_cflag
suffix:semicolon
r_switch
c_cond
(paren
id|c_cflag
op_amp
id|CSIZE
)paren
(brace
r_case
id|CS5
suffix:colon
id|lcr
op_assign
id|UART_LCR_WLEN5
suffix:semicolon
r_break
suffix:semicolon
r_case
id|CS6
suffix:colon
id|lcr
op_assign
id|UART_LCR_WLEN6
suffix:semicolon
r_break
suffix:semicolon
r_case
id|CS7
suffix:colon
id|lcr
op_assign
id|UART_LCR_WLEN7
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
id|lcr
op_assign
id|UART_LCR_WLEN8
suffix:semicolon
r_break
suffix:semicolon
)brace
r_if
c_cond
(paren
id|c_cflag
op_amp
id|CSTOPB
)paren
id|lcr
op_or_assign
id|UART_LCR_STOP
suffix:semicolon
r_if
c_cond
(paren
id|c_cflag
op_amp
id|PARENB
)paren
id|lcr
op_or_assign
id|UART_LCR_PARITY
suffix:semicolon
r_if
c_cond
(paren
(paren
id|c_cflag
op_amp
id|PARODD
)paren
op_ne
id|PARODD
)paren
id|lcr
op_or_assign
id|UART_LCR_EPAR
suffix:semicolon
r_if
c_cond
(paren
id|c_cflag
op_amp
id|CMSPAR
)paren
id|lcr
op_or_assign
id|UART_LCR_SPAR
suffix:semicolon
id|baud
op_assign
id|uart_get_baud_rate
c_func
(paren
id|port
comma
r_new
comma
id|old
comma
l_int|0
comma
id|port-&gt;uartclk
op_div
l_int|16
)paren
suffix:semicolon
id|quot
op_assign
id|uart_get_divisor
c_func
(paren
id|port
comma
id|baud
)paren
suffix:semicolon
id|siu_write
c_func
(paren
id|port
comma
id|UART_LCR
comma
id|lcr
op_or
id|UART_LCR_DLAB
)paren
suffix:semicolon
id|siu_write
c_func
(paren
id|port
comma
id|UART_DLL
comma
(paren
r_uint8
)paren
id|quot
)paren
suffix:semicolon
id|siu_write
c_func
(paren
id|port
comma
id|UART_DLM
comma
(paren
r_uint8
)paren
(paren
id|quot
op_rshift
l_int|8
)paren
)paren
suffix:semicolon
id|siu_write
c_func
(paren
id|port
comma
id|UART_LCR
comma
id|lcr
)paren
suffix:semicolon
)brace
DECL|variable|early_uart_ops
r_static
r_struct
id|uart_ops
id|early_uart_ops
op_assign
(brace
dot
id|set_termios
op_assign
id|early_set_termios
comma
)brace
suffix:semicolon
DECL|macro|BOTH_EMPTY
mdefine_line|#define BOTH_EMPTY&t;(UART_LSR_TEMT | UART_LSR_THRE)
DECL|function|wait_for_xmitr
r_static
r_void
id|wait_for_xmitr
c_func
(paren
r_struct
id|uart_port
op_star
id|port
)paren
(brace
r_int
id|timeout
op_assign
l_int|10000
suffix:semicolon
r_uint8
id|lsr
comma
id|msr
suffix:semicolon
r_do
(brace
id|lsr
op_assign
id|siu_read
c_func
(paren
id|port
comma
id|UART_LSR
)paren
suffix:semicolon
r_if
c_cond
(paren
id|lsr
op_amp
id|UART_LSR_BI
)paren
id|lsr_break_flag
(braket
id|port-&gt;line
)braket
op_assign
id|UART_LSR_BI
suffix:semicolon
r_if
c_cond
(paren
(paren
id|lsr
op_amp
id|BOTH_EMPTY
)paren
op_eq
id|BOTH_EMPTY
)paren
r_break
suffix:semicolon
)brace
r_while
c_loop
(paren
id|timeout
op_decrement
OG
l_int|0
)paren
suffix:semicolon
r_if
c_cond
(paren
id|port-&gt;flags
op_amp
id|UPF_CONS_FLOW
)paren
(brace
id|timeout
op_assign
l_int|1000000
suffix:semicolon
r_do
(brace
id|msr
op_assign
id|siu_read
c_func
(paren
id|port
comma
id|UART_MSR
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|msr
op_amp
id|UART_MSR_CTS
)paren
op_ne
l_int|0
)paren
r_break
suffix:semicolon
)brace
r_while
c_loop
(paren
id|timeout
op_decrement
OG
l_int|0
)paren
suffix:semicolon
)brace
)brace
DECL|function|siu_console_write
r_static
r_void
id|siu_console_write
c_func
(paren
r_struct
id|console
op_star
id|con
comma
r_const
r_char
op_star
id|s
comma
r_int
id|count
)paren
(brace
r_struct
id|uart_port
op_star
id|port
suffix:semicolon
r_uint8
id|ier
suffix:semicolon
r_int
id|i
suffix:semicolon
id|port
op_assign
op_amp
id|siu_uart_ports
(braket
id|con-&gt;index
)braket
suffix:semicolon
id|ier
op_assign
id|siu_read
c_func
(paren
id|port
comma
id|UART_IER
)paren
suffix:semicolon
id|siu_write
c_func
(paren
id|port
comma
id|UART_IER
comma
l_int|0
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|count
op_logical_and
op_star
id|s
op_ne
l_char|&squot;&bslash;0&squot;
suffix:semicolon
id|i
op_increment
comma
id|s
op_increment
)paren
(brace
id|wait_for_xmitr
c_func
(paren
id|port
)paren
suffix:semicolon
id|siu_write
c_func
(paren
id|port
comma
id|UART_TX
comma
op_star
id|s
)paren
suffix:semicolon
r_if
c_cond
(paren
op_star
id|s
op_eq
l_char|&squot;&bslash;n&squot;
)paren
(brace
id|wait_for_xmitr
c_func
(paren
id|port
)paren
suffix:semicolon
id|siu_write
c_func
(paren
id|port
comma
id|UART_TX
comma
l_char|&squot;&bslash;r&squot;
)paren
suffix:semicolon
)brace
)brace
id|wait_for_xmitr
c_func
(paren
id|port
)paren
suffix:semicolon
id|siu_write
c_func
(paren
id|port
comma
id|UART_IER
comma
id|ier
)paren
suffix:semicolon
)brace
DECL|function|siu_console_setup
r_static
r_int
id|siu_console_setup
c_func
(paren
r_struct
id|console
op_star
id|con
comma
r_char
op_star
id|options
)paren
(brace
r_struct
id|uart_port
op_star
id|port
suffix:semicolon
r_int
id|baud
op_assign
l_int|9600
suffix:semicolon
r_int
id|parity
op_assign
l_char|&squot;n&squot;
suffix:semicolon
r_int
id|bits
op_assign
l_int|8
suffix:semicolon
r_int
id|flow
op_assign
l_char|&squot;n&squot;
suffix:semicolon
r_if
c_cond
(paren
id|con-&gt;index
op_ge
id|SIU_PORTS_MAX
)paren
id|con-&gt;index
op_assign
l_int|0
suffix:semicolon
id|port
op_assign
op_amp
id|siu_uart_ports
(braket
id|con-&gt;index
)braket
suffix:semicolon
r_if
c_cond
(paren
id|port-&gt;membase
op_eq
l_int|NULL
)paren
(brace
r_if
c_cond
(paren
id|port-&gt;mapbase
op_eq
l_int|0
)paren
r_return
op_minus
id|ENODEV
suffix:semicolon
id|port-&gt;membase
op_assign
(paren
r_int
r_char
id|__iomem
op_star
)paren
id|KSEG1ADDR
c_func
(paren
id|port-&gt;mapbase
)paren
suffix:semicolon
)brace
id|vr41xx_select_siu_interface
c_func
(paren
id|SIU_INTERFACE_RS232C
)paren
suffix:semicolon
r_if
c_cond
(paren
id|options
op_ne
l_int|NULL
)paren
id|uart_parse_options
c_func
(paren
id|options
comma
op_amp
id|baud
comma
op_amp
id|parity
comma
op_amp
id|bits
comma
op_amp
id|flow
)paren
suffix:semicolon
r_return
id|uart_set_options
c_func
(paren
id|port
comma
id|con
comma
id|baud
comma
id|parity
comma
id|bits
comma
id|flow
)paren
suffix:semicolon
)brace
DECL|variable|siu_uart_driver
r_static
r_struct
id|uart_driver
id|siu_uart_driver
suffix:semicolon
DECL|variable|siu_console
r_static
r_struct
id|console
id|siu_console
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;ttyVR&quot;
comma
dot
id|write
op_assign
id|siu_console_write
comma
dot
id|device
op_assign
id|uart_console_device
comma
dot
id|setup
op_assign
id|siu_console_setup
comma
dot
id|flags
op_assign
id|CON_PRINTBUFFER
comma
dot
id|index
op_assign
op_minus
l_int|1
comma
dot
id|data
op_assign
op_amp
id|siu_uart_driver
comma
)brace
suffix:semicolon
DECL|function|siu_console_init
r_static
r_int
id|__devinit
id|siu_console_init
c_func
(paren
r_void
)paren
(brace
r_struct
id|uart_port
op_star
id|port
suffix:semicolon
r_int
id|num
comma
id|i
suffix:semicolon
id|num
op_assign
id|siu_init_ports
c_func
(paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|num
op_le
l_int|0
)paren
r_return
op_minus
id|ENODEV
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|num
suffix:semicolon
id|i
op_increment
)paren
(brace
id|port
op_assign
op_amp
id|siu_uart_ports
(braket
id|i
)braket
suffix:semicolon
id|port-&gt;ops
op_assign
op_amp
id|early_uart_ops
suffix:semicolon
)brace
id|register_console
c_func
(paren
op_amp
id|siu_console
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|variable|siu_console_init
id|console_initcall
c_func
(paren
id|siu_console_init
)paren
suffix:semicolon
DECL|macro|SERIAL_VR41XX_CONSOLE
mdefine_line|#define SERIAL_VR41XX_CONSOLE&t;&amp;siu_console
macro_line|#else
DECL|macro|SERIAL_VR41XX_CONSOLE
mdefine_line|#define SERIAL_VR41XX_CONSOLE&t;NULL
macro_line|#endif
DECL|variable|siu_uart_driver
r_static
r_struct
id|uart_driver
id|siu_uart_driver
op_assign
(brace
dot
id|owner
op_assign
id|THIS_MODULE
comma
dot
id|driver_name
op_assign
l_string|&quot;SIU&quot;
comma
dot
id|dev_name
op_assign
l_string|&quot;ttyVR&quot;
comma
dot
id|devfs_name
op_assign
l_string|&quot;ttvr/&quot;
comma
dot
id|major
op_assign
id|SIU_MAJOR
comma
dot
id|minor
op_assign
id|SIU_MINOR_BASE
comma
dot
id|cons
op_assign
id|SERIAL_VR41XX_CONSOLE
comma
)brace
suffix:semicolon
DECL|function|siu_probe
r_static
r_int
id|siu_probe
c_func
(paren
r_struct
id|device
op_star
id|dev
)paren
(brace
r_struct
id|uart_port
op_star
id|port
suffix:semicolon
r_int
id|num
comma
id|i
comma
id|retval
suffix:semicolon
id|num
op_assign
id|siu_init_ports
c_func
(paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|num
op_le
l_int|0
)paren
r_return
op_minus
id|ENODEV
suffix:semicolon
id|siu_uart_driver.nr
op_assign
id|num
suffix:semicolon
id|retval
op_assign
id|uart_register_driver
c_func
(paren
op_amp
id|siu_uart_driver
)paren
suffix:semicolon
r_if
c_cond
(paren
id|retval
)paren
r_return
id|retval
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|num
suffix:semicolon
id|i
op_increment
)paren
(brace
id|port
op_assign
op_amp
id|siu_uart_ports
(braket
id|i
)braket
suffix:semicolon
id|port-&gt;ops
op_assign
op_amp
id|siu_uart_ops
suffix:semicolon
id|port-&gt;dev
op_assign
id|dev
suffix:semicolon
id|retval
op_assign
id|uart_add_one_port
c_func
(paren
op_amp
id|siu_uart_driver
comma
id|port
)paren
suffix:semicolon
r_if
c_cond
(paren
id|retval
)paren
r_break
suffix:semicolon
)brace
r_if
c_cond
(paren
id|i
op_eq
l_int|0
op_logical_and
id|retval
OL
l_int|0
)paren
(brace
id|uart_unregister_driver
c_func
(paren
op_amp
id|siu_uart_driver
)paren
suffix:semicolon
r_return
id|retval
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|siu_remove
r_static
r_int
id|siu_remove
c_func
(paren
r_struct
id|device
op_star
id|dev
)paren
(brace
r_struct
id|uart_port
op_star
id|port
suffix:semicolon
r_int
id|i
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|siu_uart_driver.nr
suffix:semicolon
id|i
op_increment
)paren
(brace
id|port
op_assign
op_amp
id|siu_uart_ports
(braket
id|i
)braket
suffix:semicolon
r_if
c_cond
(paren
id|port-&gt;dev
op_eq
id|dev
)paren
(brace
id|uart_remove_one_port
c_func
(paren
op_amp
id|siu_uart_driver
comma
id|port
)paren
suffix:semicolon
id|port-&gt;dev
op_assign
l_int|NULL
suffix:semicolon
)brace
)brace
id|uart_unregister_driver
c_func
(paren
op_amp
id|siu_uart_driver
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|siu_suspend
r_static
r_int
id|siu_suspend
c_func
(paren
r_struct
id|device
op_star
id|dev
comma
id|u32
id|state
comma
id|u32
id|level
)paren
(brace
r_struct
id|uart_port
op_star
id|port
suffix:semicolon
r_int
id|i
suffix:semicolon
r_if
c_cond
(paren
id|level
op_ne
id|SUSPEND_DISABLE
)paren
r_return
l_int|0
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|siu_uart_driver.nr
suffix:semicolon
id|i
op_increment
)paren
(brace
id|port
op_assign
op_amp
id|siu_uart_ports
(braket
id|i
)braket
suffix:semicolon
r_if
c_cond
(paren
(paren
id|port-&gt;type
op_eq
id|PORT_VR41XX_SIU
op_logical_or
id|port-&gt;type
op_eq
id|PORT_VR41XX_DSIU
)paren
op_logical_and
id|port-&gt;dev
op_eq
id|dev
)paren
id|uart_suspend_port
c_func
(paren
op_amp
id|siu_uart_driver
comma
id|port
)paren
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|siu_resume
r_static
r_int
id|siu_resume
c_func
(paren
r_struct
id|device
op_star
id|dev
comma
id|u32
id|level
)paren
(brace
r_struct
id|uart_port
op_star
id|port
suffix:semicolon
r_int
id|i
suffix:semicolon
r_if
c_cond
(paren
id|level
op_ne
id|RESUME_ENABLE
)paren
r_return
l_int|0
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|siu_uart_driver.nr
suffix:semicolon
id|i
op_increment
)paren
(brace
id|port
op_assign
op_amp
id|siu_uart_ports
(braket
id|i
)braket
suffix:semicolon
r_if
c_cond
(paren
(paren
id|port-&gt;type
op_eq
id|PORT_VR41XX_SIU
op_logical_or
id|port-&gt;type
op_eq
id|PORT_VR41XX_DSIU
)paren
op_logical_and
id|port-&gt;dev
op_eq
id|dev
)paren
id|uart_resume_port
c_func
(paren
op_amp
id|siu_uart_driver
comma
id|port
)paren
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
DECL|variable|siu_platform_device
r_static
r_struct
id|platform_device
op_star
id|siu_platform_device
suffix:semicolon
DECL|variable|siu_device_driver
r_static
r_struct
id|device_driver
id|siu_device_driver
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;SIU&quot;
comma
dot
id|bus
op_assign
op_amp
id|platform_bus_type
comma
dot
id|probe
op_assign
id|siu_probe
comma
dot
id|remove
op_assign
id|siu_remove
comma
dot
id|suspend
op_assign
id|siu_suspend
comma
dot
id|resume
op_assign
id|siu_resume
comma
)brace
suffix:semicolon
DECL|function|vr41xx_siu_init
r_static
r_int
id|__devinit
id|vr41xx_siu_init
c_func
(paren
r_void
)paren
(brace
r_int
id|retval
suffix:semicolon
id|siu_platform_device
op_assign
id|platform_device_register_simple
c_func
(paren
l_string|&quot;SIU&quot;
comma
op_minus
l_int|1
comma
l_int|NULL
comma
l_int|0
)paren
suffix:semicolon
r_if
c_cond
(paren
id|IS_ERR
c_func
(paren
id|siu_platform_device
)paren
)paren
r_return
id|PTR_ERR
c_func
(paren
id|siu_platform_device
)paren
suffix:semicolon
id|retval
op_assign
id|driver_register
c_func
(paren
op_amp
id|siu_device_driver
)paren
suffix:semicolon
r_if
c_cond
(paren
id|retval
OL
l_int|0
)paren
id|platform_device_unregister
c_func
(paren
id|siu_platform_device
)paren
suffix:semicolon
r_return
id|retval
suffix:semicolon
)brace
DECL|function|vr41xx_siu_exit
r_static
r_void
id|__devexit
id|vr41xx_siu_exit
c_func
(paren
r_void
)paren
(brace
id|driver_unregister
c_func
(paren
op_amp
id|siu_device_driver
)paren
suffix:semicolon
id|platform_device_unregister
c_func
(paren
id|siu_platform_device
)paren
suffix:semicolon
)brace
DECL|variable|vr41xx_siu_init
id|module_init
c_func
(paren
id|vr41xx_siu_init
)paren
suffix:semicolon
DECL|variable|vr41xx_siu_exit
id|module_exit
c_func
(paren
id|vr41xx_siu_exit
)paren
suffix:semicolon
eof
