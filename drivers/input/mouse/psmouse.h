macro_line|#ifndef _PSMOUSE_H
DECL|macro|_PSMOUSE_H
mdefine_line|#define _PSMOUSE_H
DECL|macro|PSMOUSE_CMD_SETSCALE11
mdefine_line|#define PSMOUSE_CMD_SETSCALE11&t;0x00e6
DECL|macro|PSMOUSE_CMD_SETSCALE21
mdefine_line|#define PSMOUSE_CMD_SETSCALE21&t;0x00e7
DECL|macro|PSMOUSE_CMD_SETRES
mdefine_line|#define PSMOUSE_CMD_SETRES&t;0x10e8
DECL|macro|PSMOUSE_CMD_GETINFO
mdefine_line|#define PSMOUSE_CMD_GETINFO&t;0x03e9
DECL|macro|PSMOUSE_CMD_SETSTREAM
mdefine_line|#define PSMOUSE_CMD_SETSTREAM&t;0x00ea
DECL|macro|PSMOUSE_CMD_SETPOLL
mdefine_line|#define PSMOUSE_CMD_SETPOLL&t;0x00f0
DECL|macro|PSMOUSE_CMD_POLL
mdefine_line|#define PSMOUSE_CMD_POLL&t;0x03eb
DECL|macro|PSMOUSE_CMD_GETID
mdefine_line|#define PSMOUSE_CMD_GETID&t;0x02f2
DECL|macro|PSMOUSE_CMD_SETRATE
mdefine_line|#define PSMOUSE_CMD_SETRATE&t;0x10f3
DECL|macro|PSMOUSE_CMD_ENABLE
mdefine_line|#define PSMOUSE_CMD_ENABLE&t;0x00f4
DECL|macro|PSMOUSE_CMD_DISABLE
mdefine_line|#define PSMOUSE_CMD_DISABLE&t;0x00f5
DECL|macro|PSMOUSE_CMD_RESET_DIS
mdefine_line|#define PSMOUSE_CMD_RESET_DIS&t;0x00f6
DECL|macro|PSMOUSE_CMD_RESET_BAT
mdefine_line|#define PSMOUSE_CMD_RESET_BAT&t;0x02ff
DECL|macro|PSMOUSE_RET_BAT
mdefine_line|#define PSMOUSE_RET_BAT&t;&t;0xaa
DECL|macro|PSMOUSE_RET_ID
mdefine_line|#define PSMOUSE_RET_ID&t;&t;0x00
DECL|macro|PSMOUSE_RET_ACK
mdefine_line|#define PSMOUSE_RET_ACK&t;&t;0xfa
DECL|macro|PSMOUSE_RET_NAK
mdefine_line|#define PSMOUSE_RET_NAK&t;&t;0xfe
DECL|enum|psmouse_state
r_enum
id|psmouse_state
(brace
DECL|enumerator|PSMOUSE_IGNORE
id|PSMOUSE_IGNORE
comma
DECL|enumerator|PSMOUSE_INITIALIZING
id|PSMOUSE_INITIALIZING
comma
DECL|enumerator|PSMOUSE_CMD_MODE
id|PSMOUSE_CMD_MODE
comma
DECL|enumerator|PSMOUSE_ACTIVATED
id|PSMOUSE_ACTIVATED
comma
)brace
suffix:semicolon
multiline_comment|/* psmouse protocol handler return codes */
r_typedef
r_enum
(brace
DECL|enumerator|PSMOUSE_BAD_DATA
id|PSMOUSE_BAD_DATA
comma
DECL|enumerator|PSMOUSE_GOOD_DATA
id|PSMOUSE_GOOD_DATA
comma
DECL|enumerator|PSMOUSE_FULL_PACKET
id|PSMOUSE_FULL_PACKET
DECL|typedef|psmouse_ret_t
)brace
id|psmouse_ret_t
suffix:semicolon
DECL|struct|psmouse
r_struct
id|psmouse
(brace
DECL|member|private
r_void
op_star
r_private
suffix:semicolon
DECL|member|dev
r_struct
id|input_dev
id|dev
suffix:semicolon
DECL|member|ps2dev
r_struct
id|ps2dev
id|ps2dev
suffix:semicolon
DECL|member|vendor
r_char
op_star
id|vendor
suffix:semicolon
DECL|member|name
r_char
op_star
id|name
suffix:semicolon
DECL|member|packet
r_int
r_char
id|packet
(braket
l_int|8
)braket
suffix:semicolon
DECL|member|pktcnt
r_int
r_char
id|pktcnt
suffix:semicolon
DECL|member|type
r_int
r_char
id|type
suffix:semicolon
DECL|member|model
r_int
r_char
id|model
suffix:semicolon
DECL|member|last
r_int
r_int
id|last
suffix:semicolon
DECL|member|out_of_sync
r_int
r_int
id|out_of_sync
suffix:semicolon
DECL|member|state
r_enum
id|psmouse_state
id|state
suffix:semicolon
DECL|member|devname
r_char
id|devname
(braket
l_int|64
)braket
suffix:semicolon
DECL|member|phys
r_char
id|phys
(braket
l_int|32
)braket
suffix:semicolon
DECL|member|rate
r_int
r_int
id|rate
suffix:semicolon
DECL|member|resolution
r_int
r_int
id|resolution
suffix:semicolon
DECL|member|resetafter
r_int
r_int
id|resetafter
suffix:semicolon
DECL|member|smartscroll
r_int
r_int
id|smartscroll
suffix:semicolon
multiline_comment|/* Logitech only */
DECL|member|protocol_handler
id|psmouse_ret_t
(paren
op_star
id|protocol_handler
)paren
(paren
r_struct
id|psmouse
op_star
id|psmouse
comma
r_struct
id|pt_regs
op_star
id|regs
)paren
suffix:semicolon
DECL|member|set_rate
r_void
(paren
op_star
id|set_rate
)paren
(paren
r_struct
id|psmouse
op_star
id|psmouse
comma
r_int
r_int
id|rate
)paren
suffix:semicolon
DECL|member|set_resolution
r_void
(paren
op_star
id|set_resolution
)paren
(paren
r_struct
id|psmouse
op_star
id|psmouse
comma
r_int
r_int
id|resolution
)paren
suffix:semicolon
DECL|member|reconnect
r_int
(paren
op_star
id|reconnect
)paren
(paren
r_struct
id|psmouse
op_star
id|psmouse
)paren
suffix:semicolon
DECL|member|disconnect
r_void
(paren
op_star
id|disconnect
)paren
(paren
r_struct
id|psmouse
op_star
id|psmouse
)paren
suffix:semicolon
DECL|member|pt_activate
r_void
(paren
op_star
id|pt_activate
)paren
(paren
r_struct
id|psmouse
op_star
id|psmouse
)paren
suffix:semicolon
DECL|member|pt_deactivate
r_void
(paren
op_star
id|pt_deactivate
)paren
(paren
r_struct
id|psmouse
op_star
id|psmouse
)paren
suffix:semicolon
)brace
suffix:semicolon
DECL|enum|psmouse_type
r_enum
id|psmouse_type
(brace
DECL|enumerator|PSMOUSE_NONE
id|PSMOUSE_NONE
comma
DECL|enumerator|PSMOUSE_PS2
id|PSMOUSE_PS2
comma
DECL|enumerator|PSMOUSE_PS2PP
id|PSMOUSE_PS2PP
comma
DECL|enumerator|PSMOUSE_THINKPS
id|PSMOUSE_THINKPS
comma
DECL|enumerator|PSMOUSE_GENPS
id|PSMOUSE_GENPS
comma
DECL|enumerator|PSMOUSE_IMPS
id|PSMOUSE_IMPS
comma
DECL|enumerator|PSMOUSE_IMEX
id|PSMOUSE_IMEX
comma
DECL|enumerator|PSMOUSE_SYNAPTICS
id|PSMOUSE_SYNAPTICS
comma
DECL|enumerator|PSMOUSE_ALPS
id|PSMOUSE_ALPS
comma
)brace
suffix:semicolon
r_int
id|psmouse_sliced_command
c_func
(paren
r_struct
id|psmouse
op_star
id|psmouse
comma
r_int
r_char
id|command
)paren
suffix:semicolon
r_int
id|psmouse_reset
c_func
(paren
r_struct
id|psmouse
op_star
id|psmouse
)paren
suffix:semicolon
r_void
id|psmouse_set_resolution
c_func
(paren
r_struct
id|psmouse
op_star
id|psmouse
comma
r_int
r_int
id|resolution
)paren
suffix:semicolon
id|ssize_t
id|psmouse_attr_show_helper
c_func
(paren
r_struct
id|device
op_star
id|dev
comma
r_char
op_star
id|buf
comma
id|ssize_t
(paren
op_star
id|handler
)paren
(paren
r_struct
id|psmouse
op_star
comma
r_char
op_star
)paren
)paren
suffix:semicolon
id|ssize_t
id|psmouse_attr_set_helper
c_func
(paren
r_struct
id|device
op_star
id|dev
comma
r_const
r_char
op_star
id|buf
comma
r_int
id|count
comma
r_int
(paren
op_star
id|handler
)paren
(paren
r_struct
id|psmouse
op_star
comma
r_const
r_char
op_star
comma
r_int
)paren
)paren
suffix:semicolon
DECL|macro|PSMOUSE_DEFINE_ATTR
mdefine_line|#define PSMOUSE_DEFINE_ATTR(_name)&t;&t;&t;&t;&t;&t;&bslash;&n;static ssize_t psmouse_attr_show_##_name(struct psmouse *, char *);&t;&t;&bslash;&n;static ssize_t psmouse_attr_set_##_name(struct psmouse *, const char *, size_t);&bslash;&n;static ssize_t psmouse_do_show_##_name(struct device *d, char *b)&t;&t;&bslash;&n;{&t;&t;&t;&t;&t;&t;&t;&t;&t;&t;&bslash;&n;&t;return psmouse_attr_show_helper(d, b, psmouse_attr_show_##_name);&t;&bslash;&n;}&t;&t;&t;&t;&t;&t;&t;&t;&t;&t;&bslash;&n;static ssize_t psmouse_do_set_##_name(struct device *d, const char *b, size_t s)&bslash;&n;{&t;&t;&t;&t;&t;&t;&t;&t;&t;&t;&bslash;&n;&t;return psmouse_attr_set_helper(d, b, s, psmouse_attr_set_##_name);&t;&bslash;&n;}&t;&t;&t;&t;&t;&t;&t;&t;&t;&t;&bslash;&n;static struct device_attribute psmouse_attr_##_name = &t;&t;&t;&t;&bslash;&n;&t;__ATTR(_name, S_IWUSR | S_IRUGO,&t;&t;&t;&t;&t;&bslash;&n;&t;&t;psmouse_do_show_##_name, psmouse_do_set_##_name);
macro_line|#endif /* _PSMOUSE_H */
eof
