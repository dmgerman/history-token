multiline_comment|/*&n; * $Id: cx88-cards.c,v 1.66 2005/03/04 09:12:23 kraxel Exp $&n; *&n; * device driver for Conexant 2388x based TV cards&n; * card-specific stuff.&n; *&n; * (c) 2003 Gerd Knorr &lt;kraxel@bytesex.org&gt; [SuSE Labs]&n; *&n; *  This program is free software; you can redistribute it and/or modify&n; *  it under the terms of the GNU General Public License as published by&n; *  the Free Software Foundation; either version 2 of the License, or&n; *  (at your option) any later version.&n; *&n; *  This program is distributed in the hope that it will be useful,&n; *  but WITHOUT ANY WARRANTY; without even the implied warranty of&n; *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the&n; *  GNU General Public License for more details.&n; *&n; *  You should have received a copy of the GNU General Public License&n; *  along with this program; if not, write to the Free Software&n; *  Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.&n; */
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;linux/module.h&gt;
macro_line|#include &lt;linux/pci.h&gt;
macro_line|#include &lt;linux/delay.h&gt;
macro_line|#include &quot;cx88.h&quot;
multiline_comment|/* ------------------------------------------------------------------ */
multiline_comment|/* board config info                                                  */
DECL|variable|cx88_boards
r_struct
id|cx88_board
id|cx88_boards
(braket
)braket
op_assign
(brace
(braket
id|CX88_BOARD_UNKNOWN
)braket
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;UNKNOWN/GENERIC&quot;
comma
dot
id|tuner_type
op_assign
id|UNSET
comma
dot
id|input
op_assign
(brace
(brace
dot
id|type
op_assign
id|CX88_VMUX_COMPOSITE1
comma
dot
id|vmux
op_assign
l_int|0
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_COMPOSITE2
comma
dot
id|vmux
op_assign
l_int|1
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_COMPOSITE3
comma
dot
id|vmux
op_assign
l_int|2
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_COMPOSITE4
comma
dot
id|vmux
op_assign
l_int|3
comma
)brace
)brace
comma
)brace
comma
(braket
id|CX88_BOARD_HAUPPAUGE
)braket
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;Hauppauge WinTV 34xxx models&quot;
comma
dot
id|tuner_type
op_assign
id|UNSET
comma
dot
id|tda9887_conf
op_assign
id|TDA9887_PRESENT
comma
dot
id|input
op_assign
(brace
(brace
dot
id|type
op_assign
id|CX88_VMUX_TELEVISION
comma
dot
id|vmux
op_assign
l_int|0
comma
dot
id|gpio0
op_assign
l_int|0xff00
comma
singleline_comment|// internal decoder
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_DEBUG
comma
dot
id|vmux
op_assign
l_int|0
comma
dot
id|gpio0
op_assign
l_int|0xff01
comma
singleline_comment|// mono from tuner chip
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_COMPOSITE1
comma
dot
id|vmux
op_assign
l_int|1
comma
dot
id|gpio0
op_assign
l_int|0xff02
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_SVIDEO
comma
dot
id|vmux
op_assign
l_int|2
comma
dot
id|gpio0
op_assign
l_int|0xff02
comma
)brace
)brace
comma
dot
id|radio
op_assign
(brace
dot
id|type
op_assign
id|CX88_RADIO
comma
dot
id|gpio0
op_assign
l_int|0xff01
comma
)brace
comma
)brace
comma
(braket
id|CX88_BOARD_GDI
)braket
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;GDI Black Gold&quot;
comma
dot
id|tuner_type
op_assign
id|UNSET
comma
dot
id|input
op_assign
(brace
(brace
dot
id|type
op_assign
id|CX88_VMUX_TELEVISION
comma
dot
id|vmux
op_assign
l_int|0
comma
)brace
)brace
comma
)brace
comma
(braket
id|CX88_BOARD_PIXELVIEW
)braket
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;PixelView&quot;
comma
dot
id|tuner_type
op_assign
l_int|5
comma
dot
id|input
op_assign
(brace
(brace
dot
id|type
op_assign
id|CX88_VMUX_TELEVISION
comma
dot
id|vmux
op_assign
l_int|0
comma
dot
id|gpio0
op_assign
l_int|0xff00
comma
singleline_comment|// internal decoder
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_COMPOSITE1
comma
dot
id|vmux
op_assign
l_int|1
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_SVIDEO
comma
dot
id|vmux
op_assign
l_int|2
comma
)brace
)brace
comma
dot
id|radio
op_assign
(brace
dot
id|type
op_assign
id|CX88_RADIO
comma
dot
id|gpio0
op_assign
l_int|0xff10
comma
)brace
comma
)brace
comma
(braket
id|CX88_BOARD_ATI_WONDER_PRO
)braket
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;ATI TV Wonder Pro&quot;
comma
dot
id|tuner_type
op_assign
l_int|44
comma
dot
id|tda9887_conf
op_assign
id|TDA9887_PRESENT
op_or
id|TDA9887_INTERCARRIER
comma
dot
id|input
op_assign
(brace
(brace
dot
id|type
op_assign
id|CX88_VMUX_TELEVISION
comma
dot
id|vmux
op_assign
l_int|0
comma
dot
id|gpio0
op_assign
l_int|0x03ff
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_COMPOSITE1
comma
dot
id|vmux
op_assign
l_int|1
comma
dot
id|gpio0
op_assign
l_int|0x03fe
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_SVIDEO
comma
dot
id|vmux
op_assign
l_int|2
comma
dot
id|gpio0
op_assign
l_int|0x03fe
comma
)brace
)brace
comma
)brace
comma
(braket
id|CX88_BOARD_WINFAST2000XP_EXPERT
)braket
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;Leadtek Winfast 2000XP Expert&quot;
comma
dot
id|tuner_type
op_assign
l_int|44
comma
dot
id|tda9887_conf
op_assign
id|TDA9887_PRESENT
comma
dot
id|input
op_assign
(brace
(brace
dot
id|type
op_assign
id|CX88_VMUX_TELEVISION
comma
dot
id|vmux
op_assign
l_int|0
comma
dot
id|gpio0
op_assign
l_int|0x00F5e700
comma
dot
id|gpio1
op_assign
l_int|0x00003004
comma
dot
id|gpio2
op_assign
l_int|0x00F5e700
comma
dot
id|gpio3
op_assign
l_int|0x02000000
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_COMPOSITE1
comma
dot
id|vmux
op_assign
l_int|1
comma
dot
id|gpio0
op_assign
l_int|0x00F5c700
comma
dot
id|gpio1
op_assign
l_int|0x00003004
comma
dot
id|gpio2
op_assign
l_int|0x00F5c700
comma
dot
id|gpio3
op_assign
l_int|0x02000000
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_SVIDEO
comma
dot
id|vmux
op_assign
l_int|2
comma
dot
id|gpio0
op_assign
l_int|0x00F5c700
comma
dot
id|gpio1
op_assign
l_int|0x00003004
comma
dot
id|gpio2
op_assign
l_int|0x00F5c700
comma
dot
id|gpio3
op_assign
l_int|0x02000000
comma
)brace
)brace
comma
dot
id|radio
op_assign
(brace
dot
id|type
op_assign
id|CX88_RADIO
comma
dot
id|gpio0
op_assign
l_int|0x00F5d700
comma
dot
id|gpio1
op_assign
l_int|0x00003004
comma
dot
id|gpio2
op_assign
l_int|0x00F5d700
comma
dot
id|gpio3
op_assign
l_int|0x02000000
comma
)brace
comma
)brace
comma
(braket
id|CX88_BOARD_AVERTV_303
)braket
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;AverTV Studio 303 (M126)&quot;
comma
dot
id|tuner_type
op_assign
l_int|38
comma
dot
id|tda9887_conf
op_assign
id|TDA9887_PRESENT
comma
dot
id|input
op_assign
(brace
(brace
dot
id|type
op_assign
id|CX88_VMUX_TELEVISION
comma
dot
id|vmux
op_assign
l_int|0
comma
dot
id|gpio1
op_assign
l_int|0x309f
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_COMPOSITE1
comma
dot
id|vmux
op_assign
l_int|1
comma
dot
id|gpio1
op_assign
l_int|0x305f
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_SVIDEO
comma
dot
id|vmux
op_assign
l_int|2
comma
dot
id|gpio1
op_assign
l_int|0x305f
comma
)brace
)brace
comma
dot
id|radio
op_assign
(brace
dot
id|type
op_assign
id|CX88_RADIO
comma
)brace
comma
)brace
comma
(braket
id|CX88_BOARD_MSI_TVANYWHERE_MASTER
)braket
op_assign
(brace
singleline_comment|// added gpio values thanks to Michal
singleline_comment|// values for PAL from DScaler
dot
id|name
op_assign
l_string|&quot;MSI TV-@nywhere Master&quot;
comma
dot
id|tuner_type
op_assign
l_int|33
comma
dot
id|tda9887_conf
op_assign
id|TDA9887_PRESENT
comma
dot
id|input
op_assign
(brace
(brace
dot
id|type
op_assign
id|CX88_VMUX_TELEVISION
comma
dot
id|vmux
op_assign
l_int|0
comma
dot
id|gpio0
op_assign
l_int|0x000040bf
comma
dot
id|gpio1
op_assign
l_int|0x000080c0
comma
dot
id|gpio2
op_assign
l_int|0x0000ff40
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_COMPOSITE1
comma
dot
id|vmux
op_assign
l_int|1
comma
dot
id|gpio0
op_assign
l_int|0x000040bf
comma
dot
id|gpio1
op_assign
l_int|0x000080c0
comma
dot
id|gpio2
op_assign
l_int|0x0000ff40
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_SVIDEO
comma
dot
id|vmux
op_assign
l_int|2
comma
dot
id|gpio0
op_assign
l_int|0x000040bf
comma
dot
id|gpio1
op_assign
l_int|0x000080c0
comma
dot
id|gpio2
op_assign
l_int|0x0000ff40
comma
)brace
)brace
comma
dot
id|radio
op_assign
(brace
dot
id|type
op_assign
id|CX88_RADIO
comma
)brace
comma
)brace
comma
(braket
id|CX88_BOARD_WINFAST_DV2000
)braket
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;Leadtek Winfast DV2000&quot;
comma
dot
id|tuner_type
op_assign
l_int|38
comma
dot
id|tda9887_conf
op_assign
id|TDA9887_PRESENT
comma
dot
id|input
op_assign
(brace
(brace
dot
id|type
op_assign
id|CX88_VMUX_TELEVISION
comma
dot
id|vmux
op_assign
l_int|0
comma
dot
id|gpio0
op_assign
l_int|0x0035e700
comma
dot
id|gpio1
op_assign
l_int|0x00003004
comma
dot
id|gpio2
op_assign
l_int|0x0035e700
comma
dot
id|gpio3
op_assign
l_int|0x02000000
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_COMPOSITE1
comma
dot
id|vmux
op_assign
l_int|1
comma
dot
id|gpio0
op_assign
l_int|0x0035c700
comma
dot
id|gpio1
op_assign
l_int|0x00003004
comma
dot
id|gpio2
op_assign
l_int|0x0035c700
comma
dot
id|gpio3
op_assign
l_int|0x02000000
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_SVIDEO
comma
dot
id|vmux
op_assign
l_int|2
comma
dot
id|gpio0
op_assign
l_int|0x0035c700
comma
dot
id|gpio1
op_assign
l_int|0x0035c700
comma
dot
id|gpio2
op_assign
l_int|0x02000000
comma
dot
id|gpio3
op_assign
l_int|0x02000000
comma
)brace
)brace
comma
dot
id|radio
op_assign
(brace
dot
id|type
op_assign
id|CX88_RADIO
comma
dot
id|gpio0
op_assign
l_int|0x0035d700
comma
dot
id|gpio1
op_assign
l_int|0x00007004
comma
dot
id|gpio2
op_assign
l_int|0x0035d700
comma
dot
id|gpio3
op_assign
l_int|0x02000000
comma
)brace
comma
)brace
comma
(braket
id|CX88_BOARD_LEADTEK_PVR2000
)braket
op_assign
(brace
singleline_comment|// gpio values for PAL version from regspy by DScaler
dot
id|name
op_assign
l_string|&quot;Leadtek PVR 2000&quot;
comma
dot
id|tuner_type
op_assign
l_int|38
comma
dot
id|tda9887_conf
op_assign
id|TDA9887_PRESENT
comma
dot
id|input
op_assign
(brace
(brace
dot
id|type
op_assign
id|CX88_VMUX_TELEVISION
comma
dot
id|vmux
op_assign
l_int|0
comma
dot
id|gpio0
op_assign
l_int|0x0000bde6
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_COMPOSITE1
comma
dot
id|vmux
op_assign
l_int|1
comma
dot
id|gpio0
op_assign
l_int|0x0000bde6
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_SVIDEO
comma
dot
id|vmux
op_assign
l_int|2
comma
dot
id|gpio0
op_assign
l_int|0x0000bde6
comma
)brace
)brace
comma
dot
id|radio
op_assign
(brace
dot
id|type
op_assign
id|CX88_RADIO
comma
dot
id|gpio0
op_assign
l_int|0x0000bd62
comma
)brace
comma
dot
id|blackbird
op_assign
l_int|1
comma
)brace
comma
(braket
id|CX88_BOARD_IODATA_GVVCP3PCI
)braket
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;IODATA GV-VCP3/PCI&quot;
comma
dot
id|tuner_type
op_assign
id|TUNER_ABSENT
comma
dot
id|input
op_assign
(brace
(brace
dot
id|type
op_assign
id|CX88_VMUX_COMPOSITE1
comma
dot
id|vmux
op_assign
l_int|0
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_COMPOSITE2
comma
dot
id|vmux
op_assign
l_int|1
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_SVIDEO
comma
dot
id|vmux
op_assign
l_int|2
comma
)brace
)brace
comma
)brace
comma
(braket
id|CX88_BOARD_PROLINK_PLAYTVPVR
)braket
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;Prolink PlayTV PVR&quot;
comma
dot
id|tuner_type
op_assign
l_int|43
comma
dot
id|tda9887_conf
op_assign
id|TDA9887_PRESENT
comma
dot
id|input
op_assign
(brace
(brace
dot
id|type
op_assign
id|CX88_VMUX_TELEVISION
comma
dot
id|vmux
op_assign
l_int|0
comma
dot
id|gpio0
op_assign
l_int|0xff00
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_COMPOSITE1
comma
dot
id|vmux
op_assign
l_int|1
comma
dot
id|gpio0
op_assign
l_int|0xff03
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_SVIDEO
comma
dot
id|vmux
op_assign
l_int|2
comma
dot
id|gpio0
op_assign
l_int|0xff03
comma
)brace
)brace
comma
dot
id|radio
op_assign
(brace
dot
id|type
op_assign
id|CX88_RADIO
comma
dot
id|gpio0
op_assign
l_int|0xff00
comma
)brace
comma
)brace
comma
(braket
id|CX88_BOARD_ASUS_PVR_416
)braket
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;ASUS PVR-416&quot;
comma
dot
id|tuner_type
op_assign
l_int|43
comma
dot
id|tda9887_conf
op_assign
id|TDA9887_PRESENT
comma
dot
id|input
op_assign
(brace
(brace
dot
id|type
op_assign
id|CX88_VMUX_TELEVISION
comma
dot
id|vmux
op_assign
l_int|0
comma
dot
id|gpio0
op_assign
l_int|0x0000fde6
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_SVIDEO
comma
dot
id|vmux
op_assign
l_int|2
comma
dot
id|gpio0
op_assign
l_int|0x0000fde6
comma
singleline_comment|// 0x0000fda6 L,R RCA audio in?
)brace
)brace
comma
dot
id|radio
op_assign
(brace
dot
id|type
op_assign
id|CX88_RADIO
comma
dot
id|gpio0
op_assign
l_int|0x0000fde2
comma
)brace
comma
dot
id|blackbird
op_assign
l_int|1
comma
)brace
comma
(braket
id|CX88_BOARD_MSI_TVANYWHERE
)braket
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;MSI TV-@nywhere&quot;
comma
dot
id|tuner_type
op_assign
l_int|33
comma
dot
id|tda9887_conf
op_assign
id|TDA9887_PRESENT
comma
dot
id|input
op_assign
(brace
(brace
dot
id|type
op_assign
id|CX88_VMUX_TELEVISION
comma
dot
id|vmux
op_assign
l_int|0
comma
dot
id|gpio0
op_assign
l_int|0x00000fbf
comma
dot
id|gpio2
op_assign
l_int|0x0000fc08
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_COMPOSITE1
comma
dot
id|vmux
op_assign
l_int|1
comma
dot
id|gpio0
op_assign
l_int|0x00000fbf
comma
dot
id|gpio2
op_assign
l_int|0x0000fc68
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_SVIDEO
comma
dot
id|vmux
op_assign
l_int|2
comma
dot
id|gpio0
op_assign
l_int|0x00000fbf
comma
dot
id|gpio2
op_assign
l_int|0x0000fc68
comma
)brace
)brace
comma
)brace
comma
(braket
id|CX88_BOARD_KWORLD_DVB_T
)braket
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;KWorld/VStream XPert DVB-T&quot;
comma
dot
id|tuner_type
op_assign
id|TUNER_ABSENT
comma
dot
id|input
op_assign
(brace
(brace
dot
id|type
op_assign
id|CX88_VMUX_COMPOSITE1
comma
dot
id|vmux
op_assign
l_int|1
comma
dot
id|gpio0
op_assign
l_int|0x0700
comma
dot
id|gpio2
op_assign
l_int|0x0101
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_SVIDEO
comma
dot
id|vmux
op_assign
l_int|2
comma
dot
id|gpio0
op_assign
l_int|0x0700
comma
dot
id|gpio2
op_assign
l_int|0x0101
comma
)brace
)brace
comma
dot
id|dvb
op_assign
l_int|1
comma
)brace
comma
(braket
id|CX88_BOARD_DVICO_FUSIONHDTV_DVB_T1
)braket
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;DVICO FusionHDTV DVB-T1&quot;
comma
dot
id|tuner_type
op_assign
id|TUNER_ABSENT
comma
multiline_comment|/* No analog tuner */
dot
id|input
op_assign
(brace
(brace
dot
id|type
op_assign
id|CX88_VMUX_COMPOSITE1
comma
dot
id|vmux
op_assign
l_int|1
comma
dot
id|gpio0
op_assign
l_int|0x000027df
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_SVIDEO
comma
dot
id|vmux
op_assign
l_int|2
comma
dot
id|gpio0
op_assign
l_int|0x000027df
comma
)brace
)brace
comma
dot
id|dvb
op_assign
l_int|1
comma
)brace
comma
(braket
id|CX88_BOARD_KWORLD_LTV883
)braket
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;KWorld LTV883RF&quot;
comma
dot
id|tuner_type
op_assign
l_int|48
comma
dot
id|input
op_assign
(brace
(brace
dot
id|type
op_assign
id|CX88_VMUX_TELEVISION
comma
dot
id|vmux
op_assign
l_int|0
comma
dot
id|gpio0
op_assign
l_int|0x07f8
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_DEBUG
comma
dot
id|vmux
op_assign
l_int|0
comma
dot
id|gpio0
op_assign
l_int|0x07f9
comma
singleline_comment|// mono from tuner chip
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_COMPOSITE1
comma
dot
id|vmux
op_assign
l_int|1
comma
dot
id|gpio0
op_assign
l_int|0x000007fa
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_SVIDEO
comma
dot
id|vmux
op_assign
l_int|2
comma
dot
id|gpio0
op_assign
l_int|0x000007fa
comma
)brace
)brace
comma
dot
id|radio
op_assign
(brace
dot
id|type
op_assign
id|CX88_RADIO
comma
dot
id|gpio0
op_assign
l_int|0x000007f8
comma
)brace
comma
)brace
comma
(braket
id|CX88_BOARD_DVICO_FUSIONHDTV_3_GOLD
)braket
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;DViCO - FusionHDTV 3 Gold&quot;
comma
dot
id|tuner_type
op_assign
id|TUNER_MICROTUNE_4042FI5
comma
multiline_comment|/*&n;&t;&t;   GPIO[0] resets DT3302 DTV receiver&n;&t;&t;    0 - reset asserted&n;&t;&t;    1 - normal operation&n;&t;&t;   GPIO[1] mutes analog audio output connector&n;&t;&t;    0 - enable selected source&n;&t;&t;    1 - mute&n;&t;&t;   GPIO[2] selects source for analog audio output connector&n;&t;&t;    0 - analog audio input connector on tab&n;&t;&t;    1 - analog DAC output from CX23881 chip&n;&t;&t;   GPIO[3] selects RF input connector on tuner module&n;&t;&t;    0 - RF connector labeled CABLE&n;&t;&t;    1 - RF connector labeled ANT&n;&t;&t;*/
dot
id|input
op_assign
(brace
(brace
dot
id|type
op_assign
id|CX88_VMUX_TELEVISION
comma
dot
id|vmux
op_assign
l_int|0
comma
dot
id|gpio0
op_assign
l_int|0x0f0d
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_CABLE
comma
dot
id|vmux
op_assign
l_int|0
comma
dot
id|gpio0
op_assign
l_int|0x0f05
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_COMPOSITE1
comma
dot
id|vmux
op_assign
l_int|1
comma
dot
id|gpio0
op_assign
l_int|0x0f00
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_SVIDEO
comma
dot
id|vmux
op_assign
l_int|2
comma
dot
id|gpio0
op_assign
l_int|0x0f00
comma
)brace
)brace
comma
macro_line|#if 0
dot
id|ts
op_assign
(brace
dot
id|type
op_assign
id|CX88_TS
comma
dot
id|gpio0
op_assign
l_int|0x00000f01
comma
multiline_comment|/* Hooked to tuner reset bit */
)brace
macro_line|#endif
)brace
comma
(braket
id|CX88_BOARD_HAUPPAUGE_DVB_T1
)braket
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;Hauppauge Nova-T DVB-T&quot;
comma
dot
id|tuner_type
op_assign
id|TUNER_ABSENT
comma
dot
id|input
op_assign
(brace
(brace
dot
id|type
op_assign
id|CX88_VMUX_DVB
comma
dot
id|vmux
op_assign
l_int|0
comma
)brace
)brace
comma
dot
id|dvb
op_assign
l_int|1
comma
)brace
comma
(braket
id|CX88_BOARD_CONEXANT_DVB_T1
)braket
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;Conexant DVB-T reference design&quot;
comma
dot
id|tuner_type
op_assign
id|TUNER_ABSENT
comma
dot
id|input
op_assign
(brace
(brace
dot
id|type
op_assign
id|CX88_VMUX_DVB
comma
dot
id|vmux
op_assign
l_int|0
comma
)brace
)brace
comma
dot
id|dvb
op_assign
l_int|1
comma
)brace
comma
(braket
id|CX88_BOARD_PROVIDEO_PV259
)braket
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;Provideo PV259&quot;
comma
dot
id|tuner_type
op_assign
id|TUNER_PHILIPS_FQ1216ME
comma
dot
id|input
op_assign
(brace
(brace
dot
id|type
op_assign
id|CX88_VMUX_TELEVISION
comma
dot
id|vmux
op_assign
l_int|0
comma
)brace
)brace
comma
dot
id|blackbird
op_assign
l_int|1
comma
)brace
comma
(braket
id|CX88_BOARD_DVICO_FUSIONHDTV_DVB_T_PLUS
)braket
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;DVICO FusionHDTV DVB-T Plus&quot;
comma
dot
id|tuner_type
op_assign
id|TUNER_ABSENT
comma
multiline_comment|/* No analog tuner */
dot
id|input
op_assign
(brace
(brace
dot
id|type
op_assign
id|CX88_VMUX_COMPOSITE1
comma
dot
id|vmux
op_assign
l_int|1
comma
dot
id|gpio0
op_assign
l_int|0x000027df
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_SVIDEO
comma
dot
id|vmux
op_assign
l_int|2
comma
dot
id|gpio0
op_assign
l_int|0x000027df
comma
)brace
)brace
comma
dot
id|dvb
op_assign
l_int|1
comma
)brace
comma
(braket
id|CX88_BOARD_DNTV_LIVE_DVB_T
)braket
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;digitalnow DNTV Live! DVB-T&quot;
comma
dot
id|tuner_type
op_assign
id|TUNER_ABSENT
comma
dot
id|input
op_assign
(brace
(brace
dot
id|type
op_assign
id|CX88_VMUX_COMPOSITE1
comma
dot
id|vmux
op_assign
l_int|1
comma
dot
id|gpio0
op_assign
l_int|0x00000700
comma
dot
id|gpio2
op_assign
l_int|0x00000101
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_SVIDEO
comma
dot
id|vmux
op_assign
l_int|2
comma
dot
id|gpio0
op_assign
l_int|0x00000700
comma
dot
id|gpio2
op_assign
l_int|0x00000101
comma
)brace
)brace
comma
dot
id|dvb
op_assign
l_int|1
comma
)brace
comma
(braket
id|CX88_BOARD_PCHDTV_HD3000
)braket
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;pcHDTV HD3000 HDTV&quot;
comma
dot
id|tuner_type
op_assign
id|TUNER_THOMSON_DTT7610
comma
dot
id|input
op_assign
(brace
(brace
dot
id|type
op_assign
id|CX88_VMUX_TELEVISION
comma
dot
id|vmux
op_assign
l_int|0
comma
dot
id|gpio0
op_assign
l_int|0x00008484
comma
dot
id|gpio1
op_assign
l_int|0x00000000
comma
dot
id|gpio2
op_assign
l_int|0x00000000
comma
dot
id|gpio3
op_assign
l_int|0x00000000
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_COMPOSITE1
comma
dot
id|vmux
op_assign
l_int|1
comma
dot
id|gpio0
op_assign
l_int|0x00008400
comma
dot
id|gpio1
op_assign
l_int|0x00000000
comma
dot
id|gpio2
op_assign
l_int|0x00000000
comma
dot
id|gpio3
op_assign
l_int|0x00000000
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_SVIDEO
comma
dot
id|vmux
op_assign
l_int|2
comma
dot
id|gpio0
op_assign
l_int|0x00008400
comma
dot
id|gpio1
op_assign
l_int|0x00000000
comma
dot
id|gpio2
op_assign
l_int|0x00000000
comma
dot
id|gpio3
op_assign
l_int|0x00000000
comma
)brace
)brace
comma
dot
id|radio
op_assign
(brace
dot
id|type
op_assign
id|CX88_RADIO
comma
dot
id|vmux
op_assign
l_int|2
comma
dot
id|gpio0
op_assign
l_int|0x00008400
comma
dot
id|gpio1
op_assign
l_int|0x00000000
comma
dot
id|gpio2
op_assign
l_int|0x00000000
comma
dot
id|gpio3
op_assign
l_int|0x00000000
comma
)brace
comma
dot
id|dvb
op_assign
l_int|1
comma
)brace
comma
(braket
id|CX88_BOARD_HAUPPAUGE_ROSLYN
)braket
op_assign
(brace
singleline_comment|// entry added by Kaustubh D. Bhalerao &lt;bhalerao.1@osu.edu&gt;
singleline_comment|// GPIO values obtained from regspy, courtesy Sean Covel
dot
id|name
op_assign
l_string|&quot;Hauppauge WinTV 28xxx (Roslyn) models&quot;
comma
dot
id|tuner_type
op_assign
id|UNSET
comma
dot
id|input
op_assign
(brace
(brace
dot
id|type
op_assign
id|CX88_VMUX_TELEVISION
comma
dot
id|vmux
op_assign
l_int|0
comma
dot
id|gpio0
op_assign
l_int|0xed12
comma
singleline_comment|// internal decoder
dot
id|gpio2
op_assign
l_int|0x00ff
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_DEBUG
comma
dot
id|vmux
op_assign
l_int|0
comma
dot
id|gpio0
op_assign
l_int|0xff01
comma
singleline_comment|// mono from tuner chip
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_COMPOSITE1
comma
dot
id|vmux
op_assign
l_int|1
comma
dot
id|gpio0
op_assign
l_int|0xff02
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_SVIDEO
comma
dot
id|vmux
op_assign
l_int|2
comma
dot
id|gpio0
op_assign
l_int|0xed92
comma
dot
id|gpio2
op_assign
l_int|0x00ff
comma
)brace
)brace
comma
dot
id|radio
op_assign
(brace
dot
id|type
op_assign
id|CX88_RADIO
comma
dot
id|gpio0
op_assign
l_int|0xed96
comma
dot
id|gpio2
op_assign
l_int|0x00ff
comma
)brace
comma
dot
id|blackbird
op_assign
l_int|1
comma
)brace
comma
(braket
id|CX88_BOARD_DIGITALLOGIC_MEC
)braket
op_assign
(brace
multiline_comment|/* params copied over from Leadtek PVR 2000 */
dot
id|name
op_assign
l_string|&quot;Digital-Logic MICROSPACE Entertainment Center (MEC)&quot;
comma
multiline_comment|/* not sure yet about the tuner type */
dot
id|tuner_type
op_assign
l_int|38
comma
dot
id|tda9887_conf
op_assign
id|TDA9887_PRESENT
comma
dot
id|input
op_assign
(brace
(brace
dot
id|type
op_assign
id|CX88_VMUX_TELEVISION
comma
dot
id|vmux
op_assign
l_int|0
comma
dot
id|gpio0
op_assign
l_int|0x0000bde6
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_COMPOSITE1
comma
dot
id|vmux
op_assign
l_int|1
comma
dot
id|gpio0
op_assign
l_int|0x0000bde6
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_SVIDEO
comma
dot
id|vmux
op_assign
l_int|2
comma
dot
id|gpio0
op_assign
l_int|0x0000bde6
comma
)brace
)brace
comma
dot
id|radio
op_assign
(brace
dot
id|type
op_assign
id|CX88_RADIO
comma
dot
id|gpio0
op_assign
l_int|0x0000bd62
comma
)brace
comma
dot
id|blackbird
op_assign
l_int|1
comma
)brace
comma
(braket
id|CX88_BOARD_IODATA_GVBCTV7E
)braket
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;IODATA GV/BCTV7E&quot;
comma
dot
id|tuner_type
op_assign
id|TUNER_PHILIPS_FQ1286
comma
dot
id|tda9887_conf
op_assign
id|TDA9887_PRESENT
comma
dot
id|input
op_assign
(brace
(brace
dot
id|type
op_assign
id|CX88_VMUX_TELEVISION
comma
dot
id|vmux
op_assign
l_int|1
comma
dot
id|gpio1
op_assign
l_int|0x0000e03f
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_COMPOSITE1
comma
dot
id|vmux
op_assign
l_int|2
comma
dot
id|gpio1
op_assign
l_int|0x0000e07f
comma
)brace
comma
(brace
dot
id|type
op_assign
id|CX88_VMUX_SVIDEO
comma
dot
id|vmux
op_assign
l_int|3
comma
dot
id|gpio1
op_assign
l_int|0x0000e07f
comma
)brace
)brace
)brace
comma
)brace
suffix:semicolon
DECL|variable|cx88_bcount
r_const
r_int
r_int
id|cx88_bcount
op_assign
id|ARRAY_SIZE
c_func
(paren
id|cx88_boards
)paren
suffix:semicolon
multiline_comment|/* ------------------------------------------------------------------ */
multiline_comment|/* PCI subsystem IDs                                                  */
DECL|variable|cx88_subids
r_struct
id|cx88_subid
id|cx88_subids
(braket
)braket
op_assign
(brace
(brace
dot
id|subvendor
op_assign
l_int|0x0070
comma
dot
id|subdevice
op_assign
l_int|0x3400
comma
dot
id|card
op_assign
id|CX88_BOARD_HAUPPAUGE
comma
)brace
comma
(brace
dot
id|subvendor
op_assign
l_int|0x0070
comma
dot
id|subdevice
op_assign
l_int|0x3401
comma
dot
id|card
op_assign
id|CX88_BOARD_HAUPPAUGE
comma
)brace
comma
(brace
dot
id|subvendor
op_assign
l_int|0x14c7
comma
dot
id|subdevice
op_assign
l_int|0x0106
comma
dot
id|card
op_assign
id|CX88_BOARD_GDI
comma
)brace
comma
(brace
dot
id|subvendor
op_assign
l_int|0x14c7
comma
dot
id|subdevice
op_assign
l_int|0x0107
comma
multiline_comment|/* with mpeg encoder */
dot
id|card
op_assign
id|CX88_BOARD_GDI
comma
)brace
comma
(brace
dot
id|subvendor
op_assign
id|PCI_VENDOR_ID_ATI
comma
dot
id|subdevice
op_assign
l_int|0x00f8
comma
dot
id|card
op_assign
id|CX88_BOARD_ATI_WONDER_PRO
comma
)brace
comma
(brace
dot
id|subvendor
op_assign
l_int|0x107d
comma
dot
id|subdevice
op_assign
l_int|0x6611
comma
dot
id|card
op_assign
id|CX88_BOARD_WINFAST2000XP_EXPERT
comma
)brace
comma
(brace
dot
id|subvendor
op_assign
l_int|0x107d
comma
dot
id|subdevice
op_assign
l_int|0x6613
comma
multiline_comment|/* NTSC */
dot
id|card
op_assign
id|CX88_BOARD_WINFAST2000XP_EXPERT
comma
)brace
comma
(brace
dot
id|subvendor
op_assign
l_int|0x107d
comma
dot
id|subdevice
op_assign
l_int|0x6620
comma
dot
id|card
op_assign
id|CX88_BOARD_WINFAST_DV2000
comma
)brace
comma
(brace
dot
id|subvendor
op_assign
l_int|0x107d
comma
dot
id|subdevice
op_assign
l_int|0x663b
comma
dot
id|card
op_assign
id|CX88_BOARD_LEADTEK_PVR2000
comma
)brace
comma
(brace
dot
id|subvendor
op_assign
l_int|0x107d
comma
dot
id|subdevice
op_assign
l_int|0x663C
comma
dot
id|card
op_assign
id|CX88_BOARD_LEADTEK_PVR2000
comma
)brace
comma
(brace
dot
id|subvendor
op_assign
l_int|0x1461
comma
dot
id|subdevice
op_assign
l_int|0x000b
comma
dot
id|card
op_assign
id|CX88_BOARD_AVERTV_303
comma
)brace
comma
(brace
dot
id|subvendor
op_assign
l_int|0x1462
comma
dot
id|subdevice
op_assign
l_int|0x8606
comma
dot
id|card
op_assign
id|CX88_BOARD_MSI_TVANYWHERE_MASTER
comma
)brace
comma
(brace
dot
id|subvendor
op_assign
l_int|0x10fc
comma
dot
id|subdevice
op_assign
l_int|0xd003
comma
dot
id|card
op_assign
id|CX88_BOARD_IODATA_GVVCP3PCI
comma
)brace
comma
(brace
dot
id|subvendor
op_assign
l_int|0x1043
comma
dot
id|subdevice
op_assign
l_int|0x4823
comma
multiline_comment|/* with mpeg encoder */
dot
id|card
op_assign
id|CX88_BOARD_ASUS_PVR_416
comma
)brace
comma
(brace
dot
id|subvendor
op_assign
l_int|0x17de
comma
dot
id|subdevice
op_assign
l_int|0x08a6
comma
dot
id|card
op_assign
id|CX88_BOARD_KWORLD_DVB_T
comma
)brace
comma
(brace
dot
id|subvendor
op_assign
l_int|0x18ac
comma
dot
id|subdevice
op_assign
l_int|0xd810
comma
dot
id|card
op_assign
id|CX88_BOARD_DVICO_FUSIONHDTV_3_GOLD
comma
)brace
comma
(brace
dot
id|subvendor
op_assign
l_int|0x18AC
comma
dot
id|subdevice
op_assign
l_int|0xDB00
comma
dot
id|card
op_assign
id|CX88_BOARD_DVICO_FUSIONHDTV_DVB_T1
comma
)brace
comma
(brace
dot
id|subvendor
op_assign
l_int|0x0070
comma
dot
id|subdevice
op_assign
l_int|0x9002
comma
dot
id|card
op_assign
id|CX88_BOARD_HAUPPAUGE_DVB_T1
comma
)brace
comma
(brace
dot
id|subvendor
op_assign
l_int|0x14f1
comma
dot
id|subdevice
op_assign
l_int|0x0187
comma
dot
id|card
op_assign
id|CX88_BOARD_CONEXANT_DVB_T1
comma
)brace
comma
(brace
dot
id|subvendor
op_assign
l_int|0x1540
comma
dot
id|subdevice
op_assign
l_int|0x2580
comma
dot
id|card
op_assign
id|CX88_BOARD_PROVIDEO_PV259
comma
)brace
comma
(brace
dot
id|subvendor
op_assign
l_int|0x18AC
comma
dot
id|subdevice
op_assign
l_int|0xDB10
comma
dot
id|card
op_assign
id|CX88_BOARD_DVICO_FUSIONHDTV_DVB_T_PLUS
comma
)brace
comma
(brace
dot
id|subvendor
op_assign
l_int|0x1554
comma
dot
id|subdevice
op_assign
l_int|0x4811
comma
dot
id|card
op_assign
id|CX88_BOARD_PIXELVIEW
comma
)brace
comma
(brace
dot
id|subvendor
op_assign
l_int|0x7063
comma
dot
id|subdevice
op_assign
l_int|0x3000
comma
multiline_comment|/* HD-3000 card */
dot
id|card
op_assign
id|CX88_BOARD_PCHDTV_HD3000
comma
)brace
comma
(brace
dot
id|subvendor
op_assign
l_int|0x17DE
comma
dot
id|subdevice
op_assign
l_int|0xA8A6
comma
dot
id|card
op_assign
id|CX88_BOARD_DNTV_LIVE_DVB_T
comma
)brace
comma
(brace
dot
id|subvendor
op_assign
l_int|0x0070
comma
dot
id|subdevice
op_assign
l_int|0x2801
comma
dot
id|card
op_assign
id|CX88_BOARD_HAUPPAUGE_ROSLYN
comma
)brace
comma
(brace
dot
id|subvendor
op_assign
l_int|0x14F1
comma
dot
id|subdevice
op_assign
l_int|0x0342
comma
dot
id|card
op_assign
id|CX88_BOARD_DIGITALLOGIC_MEC
comma
)brace
comma
(brace
dot
id|subvendor
op_assign
l_int|0x10fc
comma
dot
id|subdevice
op_assign
l_int|0xd035
comma
dot
id|card
op_assign
id|CX88_BOARD_IODATA_GVBCTV7E
comma
)brace
)brace
suffix:semicolon
DECL|variable|cx88_idcount
r_const
r_int
r_int
id|cx88_idcount
op_assign
id|ARRAY_SIZE
c_func
(paren
id|cx88_subids
)paren
suffix:semicolon
multiline_comment|/* ----------------------------------------------------------------------- */
multiline_comment|/* some leadtek specific stuff                                             */
DECL|function|leadtek_eeprom
r_static
r_void
id|__devinit
id|leadtek_eeprom
c_func
(paren
r_struct
id|cx88_core
op_star
id|core
comma
id|u8
op_star
id|eeprom_data
)paren
(brace
multiline_comment|/* This is just for the &quot;Winfast 2000XP Expert&quot; board ATM; I don&squot;t have data on&n;&t; * any others.&n;&t; *&n;&t; * Byte 0 is 1 on the NTSC board.&n;&t; */
r_if
c_cond
(paren
id|eeprom_data
(braket
l_int|4
)braket
op_ne
l_int|0x7d
op_logical_or
id|eeprom_data
(braket
l_int|5
)braket
op_ne
l_int|0x10
op_logical_or
id|eeprom_data
(braket
l_int|7
)braket
op_ne
l_int|0x66
)paren
(brace
id|printk
c_func
(paren
id|KERN_WARNING
l_string|&quot;%s: Leadtek eeprom invalid.&bslash;n&quot;
comma
id|core-&gt;name
)paren
suffix:semicolon
r_return
suffix:semicolon
)brace
id|core-&gt;has_radio
op_assign
l_int|1
suffix:semicolon
id|core-&gt;tuner_type
op_assign
(paren
id|eeprom_data
(braket
l_int|6
)braket
op_eq
l_int|0x13
)paren
ques
c_cond
l_int|43
suffix:colon
l_int|38
suffix:semicolon
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;%s: Leadtek Winfast 2000XP Expert config: &quot;
l_string|&quot;tuner=%d, eeprom[0]=0x%02x&bslash;n&quot;
comma
id|core-&gt;name
comma
id|core-&gt;tuner_type
comma
id|eeprom_data
(braket
l_int|0
)braket
)paren
suffix:semicolon
)brace
multiline_comment|/* ----------------------------------------------------------------------- */
DECL|function|hauppauge_eeprom
r_static
r_void
id|hauppauge_eeprom
c_func
(paren
r_struct
id|cx88_core
op_star
id|core
comma
id|u8
op_star
id|eeprom_data
)paren
(brace
r_struct
id|tveeprom
id|tv
suffix:semicolon
id|tveeprom_hauppauge_analog
c_func
(paren
op_amp
id|tv
comma
id|eeprom_data
)paren
suffix:semicolon
id|core-&gt;tuner_type
op_assign
id|tv.tuner_type
suffix:semicolon
id|core-&gt;has_radio
op_assign
id|tv.has_radio
suffix:semicolon
)brace
DECL|function|hauppauge_eeprom_dvb
r_static
r_int
id|hauppauge_eeprom_dvb
c_func
(paren
r_struct
id|cx88_core
op_star
id|core
comma
id|u8
op_star
id|ee
)paren
(brace
r_int
id|model
suffix:semicolon
r_int
id|tuner
suffix:semicolon
multiline_comment|/* Make sure we support the board model */
id|model
op_assign
id|ee
(braket
l_int|0x1f
)braket
op_lshift
l_int|24
op_or
id|ee
(braket
l_int|0x1e
)braket
op_lshift
l_int|16
op_or
id|ee
(braket
l_int|0x1d
)braket
op_lshift
l_int|8
op_or
id|ee
(braket
l_int|0x1c
)braket
suffix:semicolon
r_switch
c_cond
(paren
id|model
)paren
(brace
r_case
l_int|90002
suffix:colon
r_case
l_int|90500
suffix:colon
r_case
l_int|90501
suffix:colon
multiline_comment|/* known */
r_break
suffix:semicolon
r_default
suffix:colon
id|printk
c_func
(paren
l_string|&quot;%s: warning: unknown hauppauge model #%d&bslash;n&quot;
comma
id|core-&gt;name
comma
id|model
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
multiline_comment|/* Make sure we support the tuner */
id|tuner
op_assign
id|ee
(braket
l_int|0x2d
)braket
suffix:semicolon
r_switch
c_cond
(paren
id|tuner
)paren
(brace
r_case
l_int|0x4B
suffix:colon
multiline_comment|/* dtt 7595 */
r_case
l_int|0x4C
suffix:colon
multiline_comment|/* dtt 7592 */
r_break
suffix:semicolon
r_default
suffix:colon
id|printk
c_func
(paren
l_string|&quot;%s: error: unknown hauppauge tuner 0x%02x&bslash;n&quot;
comma
id|core-&gt;name
comma
id|tuner
)paren
suffix:semicolon
r_return
op_minus
id|ENODEV
suffix:semicolon
)brace
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;%s: hauppauge eeprom: model=%d, tuner=%d&bslash;n&quot;
comma
id|core-&gt;name
comma
id|model
comma
id|tuner
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/* ----------------------------------------------------------------------- */
multiline_comment|/* some GDI (was: Modular Technology) specific stuff                       */
r_static
r_struct
(brace
DECL|member|id
r_int
id|id
suffix:semicolon
DECL|member|fm
r_int
id|fm
suffix:semicolon
DECL|member|name
r_char
op_star
id|name
suffix:semicolon
DECL|variable|gdi_tuner
)brace
id|gdi_tuner
(braket
)braket
op_assign
(brace
(braket
l_int|0x01
)braket
op_assign
(brace
dot
id|id
op_assign
id|TUNER_ABSENT
comma
dot
id|name
op_assign
l_string|&quot;NTSC_M&quot;
)brace
comma
(braket
l_int|0x02
)braket
op_assign
(brace
dot
id|id
op_assign
id|TUNER_ABSENT
comma
dot
id|name
op_assign
l_string|&quot;PAL_B&quot;
)brace
comma
(braket
l_int|0x03
)braket
op_assign
(brace
dot
id|id
op_assign
id|TUNER_ABSENT
comma
dot
id|name
op_assign
l_string|&quot;PAL_I&quot;
)brace
comma
(braket
l_int|0x04
)braket
op_assign
(brace
dot
id|id
op_assign
id|TUNER_ABSENT
comma
dot
id|name
op_assign
l_string|&quot;PAL_D&quot;
)brace
comma
(braket
l_int|0x05
)braket
op_assign
(brace
dot
id|id
op_assign
id|TUNER_ABSENT
comma
dot
id|name
op_assign
l_string|&quot;SECAM&quot;
)brace
comma
(braket
l_int|0x10
)braket
op_assign
(brace
dot
id|id
op_assign
id|TUNER_ABSENT
comma
dot
id|fm
op_assign
l_int|1
comma
dot
id|name
op_assign
l_string|&quot;TEMIC_4049&quot;
)brace
comma
(braket
l_int|0x11
)braket
op_assign
(brace
dot
id|id
op_assign
id|TUNER_TEMIC_4136FY5
comma
dot
id|name
op_assign
l_string|&quot;TEMIC_4136&quot;
)brace
comma
(braket
l_int|0x12
)braket
op_assign
(brace
dot
id|id
op_assign
id|TUNER_ABSENT
comma
dot
id|name
op_assign
l_string|&quot;TEMIC_4146&quot;
)brace
comma
(braket
l_int|0x20
)braket
op_assign
(brace
dot
id|id
op_assign
id|TUNER_PHILIPS_FQ1216ME
comma
dot
id|fm
op_assign
l_int|1
comma
dot
id|name
op_assign
l_string|&quot;PHILIPS_FQ1216_MK3&quot;
)brace
comma
(braket
l_int|0x21
)braket
op_assign
(brace
dot
id|id
op_assign
id|TUNER_ABSENT
comma
dot
id|fm
op_assign
l_int|1
comma
dot
id|name
op_assign
l_string|&quot;PHILIPS_FQ1236_MK3&quot;
)brace
comma
(braket
l_int|0x22
)braket
op_assign
(brace
dot
id|id
op_assign
id|TUNER_ABSENT
comma
dot
id|name
op_assign
l_string|&quot;PHILIPS_FI1236_MK3&quot;
)brace
comma
(braket
l_int|0x23
)braket
op_assign
(brace
dot
id|id
op_assign
id|TUNER_ABSENT
comma
dot
id|name
op_assign
l_string|&quot;PHILIPS_FI1216_MK3&quot;
)brace
comma
)brace
suffix:semicolon
DECL|function|gdi_eeprom
r_static
r_void
id|gdi_eeprom
c_func
(paren
r_struct
id|cx88_core
op_star
id|core
comma
id|u8
op_star
id|eeprom_data
)paren
(brace
r_char
op_star
id|name
op_assign
(paren
id|eeprom_data
(braket
l_int|0x0d
)braket
OL
id|ARRAY_SIZE
c_func
(paren
id|gdi_tuner
)paren
)paren
ques
c_cond
id|gdi_tuner
(braket
id|eeprom_data
(braket
l_int|0x0d
)braket
)braket
dot
id|name
suffix:colon
l_int|NULL
suffix:semicolon
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;%s: GDI: tuner=%s&bslash;n&quot;
comma
id|core-&gt;name
comma
id|name
ques
c_cond
id|name
suffix:colon
l_string|&quot;unknown&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
l_int|NULL
op_eq
id|name
)paren
r_return
suffix:semicolon
id|core-&gt;tuner_type
op_assign
id|gdi_tuner
(braket
id|eeprom_data
(braket
l_int|0x0d
)braket
)braket
dot
id|id
suffix:semicolon
id|core-&gt;has_radio
op_assign
id|gdi_tuner
(braket
id|eeprom_data
(braket
l_int|0x0d
)braket
)braket
dot
id|fm
suffix:semicolon
)brace
multiline_comment|/* ----------------------------------------------------------------------- */
DECL|function|cx88_card_list
r_void
id|cx88_card_list
c_func
(paren
r_struct
id|cx88_core
op_star
id|core
comma
r_struct
id|pci_dev
op_star
id|pci
)paren
(brace
r_int
id|i
suffix:semicolon
r_if
c_cond
(paren
l_int|0
op_eq
id|pci-&gt;subsystem_vendor
op_logical_and
l_int|0
op_eq
id|pci-&gt;subsystem_device
)paren
(brace
id|printk
c_func
(paren
l_string|&quot;%s: Your board has no valid PCI Subsystem ID and thus can&squot;t&bslash;n&quot;
l_string|&quot;%s: be autodetected.  Please pass card=&lt;n&gt; insmod option to&bslash;n&quot;
l_string|&quot;%s: workaround that.  Redirect complaints to the vendor of&bslash;n&quot;
l_string|&quot;%s: the TV card.  Best regards,&bslash;n&quot;
l_string|&quot;%s:         -- tux&bslash;n&quot;
comma
id|core-&gt;name
comma
id|core-&gt;name
comma
id|core-&gt;name
comma
id|core-&gt;name
comma
id|core-&gt;name
)paren
suffix:semicolon
)brace
r_else
(brace
id|printk
c_func
(paren
l_string|&quot;%s: Your board isn&squot;t known (yet) to the driver.  You can&bslash;n&quot;
l_string|&quot;%s: try to pick one of the existing card configs via&bslash;n&quot;
l_string|&quot;%s: card=&lt;n&gt; insmod option.  Updating to the latest&bslash;n&quot;
l_string|&quot;%s: version might help as well.&bslash;n&quot;
comma
id|core-&gt;name
comma
id|core-&gt;name
comma
id|core-&gt;name
comma
id|core-&gt;name
)paren
suffix:semicolon
)brace
id|printk
c_func
(paren
l_string|&quot;%s: Here is a list of valid choices for the card=&lt;n&gt; insmod option:&bslash;n&quot;
comma
id|core-&gt;name
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|cx88_bcount
suffix:semicolon
id|i
op_increment
)paren
id|printk
c_func
(paren
l_string|&quot;%s:    card=%d -&gt; %s&bslash;n&quot;
comma
id|core-&gt;name
comma
id|i
comma
id|cx88_boards
(braket
id|i
)braket
dot
id|name
)paren
suffix:semicolon
)brace
DECL|function|cx88_card_setup
r_void
id|cx88_card_setup
c_func
(paren
r_struct
id|cx88_core
op_star
id|core
)paren
(brace
r_static
id|u8
id|eeprom
(braket
l_int|128
)braket
suffix:semicolon
r_if
c_cond
(paren
l_int|0
op_eq
id|core-&gt;i2c_rc
)paren
(brace
id|core-&gt;i2c_client.addr
op_assign
l_int|0xa0
op_rshift
l_int|1
suffix:semicolon
id|tveeprom_read
c_func
(paren
op_amp
id|core-&gt;i2c_client
comma
id|eeprom
comma
r_sizeof
(paren
id|eeprom
)paren
)paren
suffix:semicolon
)brace
r_switch
c_cond
(paren
id|core-&gt;board
)paren
(brace
r_case
id|CX88_BOARD_HAUPPAUGE
suffix:colon
r_case
id|CX88_BOARD_HAUPPAUGE_ROSLYN
suffix:colon
r_if
c_cond
(paren
l_int|0
op_eq
id|core-&gt;i2c_rc
)paren
id|hauppauge_eeprom
c_func
(paren
id|core
comma
id|eeprom
op_plus
l_int|8
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|CX88_BOARD_GDI
suffix:colon
r_if
c_cond
(paren
l_int|0
op_eq
id|core-&gt;i2c_rc
)paren
id|gdi_eeprom
c_func
(paren
id|core
comma
id|eeprom
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|CX88_BOARD_WINFAST2000XP_EXPERT
suffix:colon
r_if
c_cond
(paren
l_int|0
op_eq
id|core-&gt;i2c_rc
)paren
id|leadtek_eeprom
c_func
(paren
id|core
comma
id|eeprom
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|CX88_BOARD_HAUPPAUGE_DVB_T1
suffix:colon
r_if
c_cond
(paren
l_int|0
op_eq
id|core-&gt;i2c_rc
)paren
id|hauppauge_eeprom_dvb
c_func
(paren
id|core
comma
id|eeprom
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|CX88_BOARD_DVICO_FUSIONHDTV_DVB_T1
suffix:colon
r_case
id|CX88_BOARD_DVICO_FUSIONHDTV_DVB_T_PLUS
suffix:colon
multiline_comment|/* GPIO0:0 is hooked to mt352 reset pin */
id|cx_set
c_func
(paren
id|MO_GP0_IO
comma
l_int|0x00000101
)paren
suffix:semicolon
id|cx_clear
c_func
(paren
id|MO_GP0_IO
comma
l_int|0x00000001
)paren
suffix:semicolon
id|msleep
c_func
(paren
l_int|1
)paren
suffix:semicolon
id|cx_set
c_func
(paren
id|MO_GP0_IO
comma
l_int|0x00000101
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|CX88_BOARD_KWORLD_DVB_T
suffix:colon
r_case
id|CX88_BOARD_DNTV_LIVE_DVB_T
suffix:colon
id|cx_set
c_func
(paren
id|MO_GP0_IO
comma
l_int|0x00000707
)paren
suffix:semicolon
id|cx_set
c_func
(paren
id|MO_GP2_IO
comma
l_int|0x00000101
)paren
suffix:semicolon
id|cx_clear
c_func
(paren
id|MO_GP2_IO
comma
l_int|0x00000001
)paren
suffix:semicolon
id|msleep
c_func
(paren
l_int|1
)paren
suffix:semicolon
id|cx_clear
c_func
(paren
id|MO_GP0_IO
comma
l_int|0x00000007
)paren
suffix:semicolon
id|cx_set
c_func
(paren
id|MO_GP2_IO
comma
l_int|0x00000101
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
r_if
c_cond
(paren
id|cx88_boards
(braket
id|core-&gt;board
)braket
dot
id|radio.type
op_eq
id|CX88_RADIO
)paren
id|core-&gt;has_radio
op_assign
l_int|1
suffix:semicolon
)brace
multiline_comment|/* ------------------------------------------------------------------ */
DECL|variable|cx88_boards
id|EXPORT_SYMBOL
c_func
(paren
id|cx88_boards
)paren
suffix:semicolon
DECL|variable|cx88_bcount
id|EXPORT_SYMBOL
c_func
(paren
id|cx88_bcount
)paren
suffix:semicolon
DECL|variable|cx88_subids
id|EXPORT_SYMBOL
c_func
(paren
id|cx88_subids
)paren
suffix:semicolon
DECL|variable|cx88_idcount
id|EXPORT_SYMBOL
c_func
(paren
id|cx88_idcount
)paren
suffix:semicolon
DECL|variable|cx88_card_list
id|EXPORT_SYMBOL
c_func
(paren
id|cx88_card_list
)paren
suffix:semicolon
DECL|variable|cx88_card_setup
id|EXPORT_SYMBOL
c_func
(paren
id|cx88_card_setup
)paren
suffix:semicolon
multiline_comment|/*&n; * Local variables:&n; * c-basic-offset: 8&n; * End:&n; */
eof
