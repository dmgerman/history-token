multiline_comment|/*&n;    bttv-cards.c&n;&n;    this file has configuration informations - card-specific stuff&n;    like the big tvcards array for the most part&n;&n;    Copyright (C) 1996,97,98 Ralph  Metzler (rjkm@thp.uni-koeln.de)&n;                           &amp; Marcus Metzler (mocm@thp.uni-koeln.de)&n;    (c) 1999-2001 Gerd Knorr &lt;kraxel@goldbach.in-berlin.de&gt;&n;&n;    This program is free software; you can redistribute it and/or modify&n;    it under the terms of the GNU General Public License as published by&n;    the Free Software Foundation; either version 2 of the License, or&n;    (at your option) any later version.&n;&n;    This program is distributed in the hope that it will be useful,&n;    but WITHOUT ANY WARRANTY; without even the implied warranty of&n;    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the&n;    GNU General Public License for more details.&n;&n;    You should have received a copy of the GNU General Public License&n;    along with this program; if not, write to the Free Software&n;    Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.&n;    &n;*/
DECL|macro|__NO_VERSION__
mdefine_line|#define __NO_VERSION__ 1
macro_line|#include &lt;linux/version.h&gt;
macro_line|#include &lt;linux/delay.h&gt;
macro_line|#include &lt;linux/module.h&gt;
macro_line|#include &lt;linux/kmod.h&gt;
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;linux/pci.h&gt;
macro_line|#include &lt;asm/io.h&gt;
macro_line|#include &quot;bttvp.h&quot;
macro_line|#include &quot;tuner.h&quot;
multiline_comment|/* fwd decl */
r_static
r_void
id|boot_msp34xx
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
id|pin
)paren
suffix:semicolon
r_static
r_void
id|hauppauge_eeprom
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
suffix:semicolon
r_static
r_void
id|avermedia_eeprom
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
suffix:semicolon
r_static
r_void
id|init_PXC200
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
suffix:semicolon
macro_line|#if 0
r_static
r_void
id|init_tea5757
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
suffix:semicolon
macro_line|#endif
r_static
r_void
id|winview_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
suffix:semicolon
r_static
r_void
id|lt9415_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
suffix:semicolon
r_static
r_void
id|avermedia_tvphone_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
suffix:semicolon
r_static
r_void
id|terratv_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
suffix:semicolon
r_static
r_void
id|gvbctv3pci_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
suffix:semicolon
r_static
r_void
id|winfast2000_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
suffix:semicolon
r_static
r_void
id|pvbt878p9b_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
suffix:semicolon
r_static
r_void
id|fv2000s_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
suffix:semicolon
r_static
r_void
id|windvr_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
suffix:semicolon
r_static
r_void
id|rv605_muxsel
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
r_int
id|input
)paren
suffix:semicolon
multiline_comment|/* config variables */
DECL|variable|triton1
r_static
r_int
id|triton1
op_assign
l_int|0
suffix:semicolon
DECL|variable|vsfx
r_static
r_int
id|vsfx
op_assign
l_int|0
suffix:semicolon
DECL|variable|no_overlay
r_int
id|no_overlay
op_assign
op_minus
l_int|1
suffix:semicolon
DECL|variable|card
r_static
r_int
r_int
id|card
(braket
l_int|4
)braket
op_assign
(brace
op_minus
l_int|1
comma
op_minus
l_int|1
comma
op_minus
l_int|1
comma
op_minus
l_int|1
)brace
suffix:semicolon
DECL|variable|pll
r_static
r_int
r_int
id|pll
(braket
l_int|4
)braket
op_assign
(brace
op_minus
l_int|1
comma
op_minus
l_int|1
comma
op_minus
l_int|1
comma
op_minus
l_int|1
)brace
suffix:semicolon
DECL|variable|tuner
r_static
r_int
r_int
id|tuner
(braket
l_int|4
)braket
op_assign
(brace
op_minus
l_int|1
comma
op_minus
l_int|1
comma
op_minus
l_int|1
comma
op_minus
l_int|1
)brace
suffix:semicolon
macro_line|#ifdef MODULE
DECL|variable|autoload
r_static
r_int
r_int
id|autoload
op_assign
l_int|1
suffix:semicolon
macro_line|#else
DECL|variable|autoload
r_static
r_int
r_int
id|autoload
op_assign
l_int|0
suffix:semicolon
macro_line|#endif
DECL|variable|gpiomask
r_static
r_int
r_int
id|gpiomask
op_assign
op_minus
l_int|1
suffix:semicolon
DECL|variable|audioall
r_static
r_int
r_int
id|audioall
op_assign
op_minus
l_int|1
suffix:semicolon
DECL|variable|audiomux
r_static
r_int
r_int
id|audiomux
(braket
l_int|5
)braket
op_assign
(brace
op_minus
l_int|1
comma
op_minus
l_int|1
comma
op_minus
l_int|1
comma
op_minus
l_int|1
comma
op_minus
l_int|1
)brace
suffix:semicolon
multiline_comment|/* insmod options */
id|MODULE_PARM
c_func
(paren
id|triton1
comma
l_string|&quot;i&quot;
)paren
suffix:semicolon
id|MODULE_PARM_DESC
c_func
(paren
id|triton1
comma
l_string|&quot;set ETBF pci config bit &quot;
l_string|&quot;[enable bug compatibility for triton1 + others]&quot;
)paren
suffix:semicolon
id|MODULE_PARM
c_func
(paren
id|vsfx
comma
l_string|&quot;i&quot;
)paren
suffix:semicolon
id|MODULE_PARM_DESC
c_func
(paren
id|vsfx
comma
l_string|&quot;set VSFX pci config bit &quot;
l_string|&quot;[yet another chipset flaw workaround]&quot;
)paren
suffix:semicolon
id|MODULE_PARM
c_func
(paren
id|no_overlay
comma
l_string|&quot;i&quot;
)paren
suffix:semicolon
id|MODULE_PARM
c_func
(paren
id|card
comma
l_string|&quot;1-4i&quot;
)paren
suffix:semicolon
id|MODULE_PARM_DESC
c_func
(paren
id|card
comma
l_string|&quot;specify TV/grabber card model, see CARDLIST file for a list&quot;
)paren
suffix:semicolon
id|MODULE_PARM
c_func
(paren
id|pll
comma
l_string|&quot;1-4i&quot;
)paren
suffix:semicolon
id|MODULE_PARM_DESC
c_func
(paren
id|pll
comma
l_string|&quot;specify installed crystal (0=none, 28=28 MHz, 35=35 MHz)&quot;
)paren
suffix:semicolon
id|MODULE_PARM
c_func
(paren
id|tuner
comma
l_string|&quot;1-4i&quot;
)paren
suffix:semicolon
id|MODULE_PARM_DESC
c_func
(paren
id|tuner
comma
l_string|&quot;specify installed tuner type&quot;
)paren
suffix:semicolon
id|MODULE_PARM
c_func
(paren
id|autoload
comma
l_string|&quot;i&quot;
)paren
suffix:semicolon
id|MODULE_PARM_DESC
c_func
(paren
id|autoload
comma
l_string|&quot;automatically load i2c modules like tuner.o, default is 1 (yes)&quot;
)paren
suffix:semicolon
id|MODULE_PARM
c_func
(paren
id|gpiomask
comma
l_string|&quot;i&quot;
)paren
suffix:semicolon
id|MODULE_PARM
c_func
(paren
id|audioall
comma
l_string|&quot;i&quot;
)paren
suffix:semicolon
id|MODULE_PARM
c_func
(paren
id|audiomux
comma
l_string|&quot;1-5i&quot;
)paren
suffix:semicolon
multiline_comment|/* kernel args */
macro_line|#ifndef MODULE
DECL|function|p_card
r_static
r_int
id|__init
id|p_card
c_func
(paren
r_char
op_star
id|str
)paren
(brace
r_return
id|bttv_parse
c_func
(paren
id|str
comma
id|BTTV_MAX
comma
id|card
)paren
suffix:semicolon
)brace
DECL|function|p_pll
r_static
r_int
id|__init
id|p_pll
c_func
(paren
r_char
op_star
id|str
)paren
(brace
r_return
id|bttv_parse
c_func
(paren
id|str
comma
id|BTTV_MAX
comma
id|pll
)paren
suffix:semicolon
)brace
DECL|function|p_tuner
r_static
r_int
id|__init
id|p_tuner
c_func
(paren
r_char
op_star
id|str
)paren
(brace
r_return
id|bttv_parse
c_func
(paren
id|str
comma
id|BTTV_MAX
comma
id|tuner
)paren
suffix:semicolon
)brace
id|__setup
c_func
(paren
l_string|&quot;bttv.card=&quot;
comma
id|p_card
)paren
suffix:semicolon
id|__setup
c_func
(paren
l_string|&quot;bttv.pll=&quot;
comma
id|p_pll
)paren
suffix:semicolon
id|__setup
c_func
(paren
l_string|&quot;bttv.tuner=&quot;
comma
id|p_tuner
)paren
suffix:semicolon
DECL|function|bttv_parse
r_int
id|__init
id|bttv_parse
c_func
(paren
r_char
op_star
id|str
comma
r_int
id|max
comma
r_int
op_star
id|vals
)paren
(brace
r_int
id|i
comma
id|number
comma
id|res
op_assign
l_int|2
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|res
op_eq
l_int|2
op_logical_and
id|i
OL
id|max
suffix:semicolon
id|i
op_increment
)paren
(brace
id|res
op_assign
id|get_option
c_func
(paren
op_amp
id|str
comma
op_amp
id|number
)paren
suffix:semicolon
r_if
c_cond
(paren
id|res
)paren
id|vals
(braket
id|i
)braket
op_assign
id|number
suffix:semicolon
)brace
r_return
l_int|1
suffix:semicolon
)brace
macro_line|#endif
multiline_comment|/* ----------------------------------------------------------------------- */
multiline_comment|/* list of card IDs for bt878+ cards                                       */
DECL|struct|CARD
r_static
r_struct
id|CARD
(brace
DECL|member|id
r_int
id|id
suffix:semicolon
DECL|member|cardnr
r_int
id|cardnr
suffix:semicolon
DECL|member|name
r_char
op_star
id|name
suffix:semicolon
DECL|variable|__devinitdata
)brace
id|cards
(braket
)braket
id|__devinitdata
op_assign
(brace
(brace
l_int|0x13eb0070
comma
id|BTTV_HAUPPAUGE878
comma
l_string|&quot;Hauppauge WinTV&quot;
)brace
comma
(brace
l_int|0x39000070
comma
id|BTTV_HAUPPAUGE878
comma
l_string|&quot;Hauppauge WinTV-D&quot;
)brace
comma
(brace
l_int|0x45000070
comma
id|BTTV_HAUPPAUGE878
comma
l_string|&quot;Hauppauge WinTV/PVR&quot;
)brace
comma
(brace
l_int|0xff000070
comma
id|BTTV_HAUPPAUGE878
comma
l_string|&quot;Osprey-100&quot;
)brace
comma
(brace
l_int|0xff010070
comma
id|BTTV_HAUPPAUGE878
comma
l_string|&quot;Osprey-200&quot;
)brace
comma
(brace
l_int|0x00011002
comma
id|BTTV_ATI_TVWONDER
comma
l_string|&quot;ATI TV Wonder&quot;
)brace
comma
(brace
l_int|0x00031002
comma
id|BTTV_ATI_TVWONDERVE
comma
l_string|&quot;ATI TV Wonder/VE&quot;
)brace
comma
(brace
l_int|0x6606107d
comma
id|BTTV_WINFAST2000
comma
l_string|&quot;Leadtek WinFast TV 2000&quot;
)brace
comma
(brace
l_int|0x263610b4
comma
id|BTTV_STB2
comma
l_string|&quot;STB TV PCI FM, P/N 6000704&quot;
)brace
comma
(brace
l_int|0x402010fc
comma
id|BTTV_GVBCTV3PCI
comma
l_string|&quot;I-O Data Co. GV-BCV3/PCI&quot;
)brace
comma
(brace
l_int|0x405010fc
comma
id|BTTV_GVBCTV4PCI
comma
l_string|&quot;I-O Data Co. GV-BCV4/PCI&quot;
)brace
comma
(brace
l_int|0x1200bd11
comma
id|BTTV_PINNACLE
comma
l_string|&quot;Pinnacle PCTV&quot;
)brace
comma
(brace
l_int|0x001211bd
comma
id|BTTV_PINNACLE
comma
l_string|&quot;Pinnacle PCTV&quot;
)brace
comma
(brace
l_int|0x001c11bd
comma
id|BTTV_PINNACLE
comma
l_string|&quot;Pinnacle PCTV Sat&quot;
)brace
comma
(brace
l_int|0x3000121a
comma
id|BTTV_VOODOOTV_FM
comma
l_string|&quot;3Dfx VoodooTV FM/ VoodooTV 200&quot;
)brace
comma
(brace
l_int|0x3000144f
comma
id|BTTV_MAGICTVIEW063
comma
l_string|&quot;(Askey Magic/others) TView99 CPH06x&quot;
)brace
comma
(brace
l_int|0x3002144f
comma
id|BTTV_MAGICTVIEW061
comma
l_string|&quot;(Askey Magic/others) TView99 CPH05x&quot;
)brace
comma
(brace
l_int|0x3005144f
comma
id|BTTV_MAGICTVIEW061
comma
l_string|&quot;(Askey Magic/others) TView99 CPH061/06L (T1/LC)&quot;
)brace
comma
(brace
l_int|0x00011461
comma
id|BTTV_AVPHONE98
comma
l_string|&quot;AVerMedia TVPhone98&quot;
)brace
comma
(brace
l_int|0x00021461
comma
id|BTTV_AVERMEDIA98
comma
l_string|&quot;AVermedia TVCapture 98&quot;
)brace
comma
(brace
l_int|0x00031461
comma
id|BTTV_AVPHONE98
comma
l_string|&quot;AVerMedia TVPhone98&quot;
)brace
comma
(brace
l_int|0x00041461
comma
id|BTTV_AVERMEDIA98
comma
l_string|&quot;AVerMedia TVCapture 98&quot;
)brace
comma
(brace
l_int|0x300014ff
comma
id|BTTV_MAGICTVIEW061
comma
l_string|&quot;TView 99 (CPH061)&quot;
)brace
comma
(brace
l_int|0x300214ff
comma
id|BTTV_PHOEBE_TVMAS
comma
l_string|&quot;Phoebe TV Master (CPH060)&quot;
)brace
comma
(brace
l_int|0x1117153b
comma
id|BTTV_TERRATVALUE
comma
l_string|&quot;Terratec TValue&quot;
)brace
comma
(brace
l_int|0x1118153b
comma
id|BTTV_TERRATVALUE
comma
l_string|&quot;Terratec TValue&quot;
)brace
comma
(brace
l_int|0x1119153b
comma
id|BTTV_TERRATVALUE
comma
l_string|&quot;Terratec TValue&quot;
)brace
comma
(brace
l_int|0x111a153b
comma
id|BTTV_TERRATVALUE
comma
l_string|&quot;Terratec TValue&quot;
)brace
comma
(brace
l_int|0x1123153b
comma
id|BTTV_TERRATVRADIO
comma
l_string|&quot;Terratec TV Radio+&quot;
)brace
comma
(brace
l_int|0x1127153b
comma
id|BTTV_TERRATV
comma
l_string|&quot;Terratec TV+&quot;
)brace
comma
(brace
l_int|0x1134153b
comma
id|BTTV_TERRATVALUE
comma
l_string|&quot;Terratec TValue&quot;
)brace
comma
(brace
l_int|0x1135153b
comma
id|BTTV_TERRATVALUER
comma
l_string|&quot;Terratec TValue Radio&quot;
)brace
comma
(brace
l_int|0x5018153b
comma
id|BTTV_TERRATVALUE
comma
l_string|&quot;Terratec TValue&quot;
)brace
comma
(brace
l_int|0x400a15b0
comma
id|BTTV_ZOLTRIX_GENIE
comma
l_string|&quot;Zoltrix Genie TV&quot;
)brace
comma
(brace
l_int|0x400d15b0
comma
id|BTTV_ZOLTRIX_GENIE
comma
l_string|&quot;Zoltrix Genie TV / Radio&quot;
)brace
comma
(brace
l_int|0x401015b0
comma
id|BTTV_ZOLTRIX_GENIE
comma
l_string|&quot;Zoltrix Genie TV / Radio&quot;
)brace
comma
(brace
l_int|0x401615b0
comma
id|BTTV_ZOLTRIX_GENIE
comma
l_string|&quot;Zoltrix Genie TV / Radio&quot;
)brace
comma
(brace
l_int|0x010115cb
comma
id|BTTV_GMV1
comma
l_string|&quot;AG GMV1&quot;
)brace
comma
(brace
l_int|0x010114c7
comma
id|BTTV_MODTEC_205
comma
l_string|&quot;Modular Technology MM205 PCTV&quot;
)brace
comma
(brace
l_int|0x18501851
comma
id|BTTV_CHRONOS_VS2
comma
l_string|&quot;Flyvideo 98 (LR50)/ Chronos Video Shuttle II&quot;
)brace
comma
(brace
l_int|0x18511851
comma
id|BTTV_FLYVIDEO98EZ
comma
l_string|&quot;Flyvideo 98EZ (LR51)/ CyberMail AV&quot;
)brace
comma
(brace
l_int|0x18521852
comma
id|BTTV_TYPHOON_TVIEW
comma
l_string|&quot;Flyvideo 98FM (LR50)/ Typhoon TView TV/FM Tuner&quot;
)brace
comma
(brace
l_int|0x10b42636
comma
id|BTTV_HAUPPAUGE878
comma
l_string|&quot;STB ???&quot;
)brace
comma
(brace
l_int|0x217d6606
comma
id|BTTV_WINFAST2000
comma
l_string|&quot;Leadtek WinFast TV 2000&quot;
)brace
comma
(brace
l_int|0x03116000
comma
id|BTTV_SENSORAY311
comma
l_string|&quot;Sensoray 311&quot;
)brace
comma
(brace
l_int|0x00790e11
comma
id|BTTV_WINDVR
comma
l_string|&quot;Canopus WinDVR PCI&quot;
)brace
comma
(brace
l_int|0
comma
op_minus
l_int|1
comma
l_int|NULL
)brace
)brace
suffix:semicolon
multiline_comment|/* ----------------------------------------------------------------------- */
multiline_comment|/* array with description for bt848 / bt878 tv/grabber cards               */
DECL|variable|bttv_tvcards
r_struct
id|tvcard
id|bttv_tvcards
(braket
)braket
op_assign
(brace
(brace
multiline_comment|/* ---- card 0x00 ---------------------------------- */
id|name
suffix:colon
l_string|&quot; *** UNKNOWN/GENERIC *** &quot;
comma
id|video_inputs
suffix:colon
l_int|4
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|0
)brace
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;MIRO PCTV&quot;
comma
id|video_inputs
suffix:colon
l_int|4
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|15
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|2
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|10
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;Hauppauge (bt848)&quot;
comma
id|video_inputs
suffix:colon
l_int|4
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|7
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0
comma
l_int|1
comma
l_int|2
comma
l_int|3
comma
l_int|4
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;STB&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|7
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|4
comma
l_int|0
comma
l_int|2
comma
l_int|3
comma
l_int|1
)brace
comma
id|no_msp34xx
suffix:colon
l_int|1
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x04 ---------------------------------- */
id|name
suffix:colon
l_string|&quot;Intel&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
op_minus
l_int|1
comma
id|gpiomask
suffix:colon
l_int|7
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0
comma
l_int|1
comma
l_int|2
comma
l_int|3
comma
l_int|4
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;Diamond DTV2000&quot;
comma
id|video_inputs
suffix:colon
l_int|4
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|3
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|0
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0
comma
l_int|1
comma
l_int|0
comma
l_int|1
comma
l_int|3
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;AVerMedia TVPhone&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|3
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|gpiomask
suffix:colon
l_int|0x0f
comma
id|audiomux
suffix:colon
(brace
l_int|0x0c
comma
l_int|0x04
comma
l_int|0x08
comma
l_int|0x04
comma
l_int|0
)brace
comma
multiline_comment|/*                0x04 for some cards ?? */
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
id|audio_hook
suffix:colon
id|avermedia_tvphone_audio
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;MATRIX-Vision MV-Delta&quot;
comma
id|video_inputs
suffix:colon
l_int|5
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
op_minus
l_int|1
comma
id|svhs
suffix:colon
l_int|3
comma
id|gpiomask
suffix:colon
l_int|0
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|0
comma
l_int|0
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x08 ---------------------------------- */
id|name
suffix:colon
l_string|&quot;FlyVideo II (Bt848) LR26&quot;
comma
id|video_inputs
suffix:colon
l_int|4
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0xc00
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0
comma
l_int|0xc00
comma
l_int|0x800
comma
l_int|0x400
comma
l_int|0xc00
comma
l_int|0
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|pll
suffix:colon
id|PLL_28
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;IXMicro TurboTV&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|3
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|1
comma
l_int|1
comma
l_int|2
comma
l_int|3
comma
l_int|0
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;Hauppauge (bt878)&quot;
comma
id|video_inputs
suffix:colon
l_int|4
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0x0f
comma
multiline_comment|/* old: 7 */
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|0
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0
comma
l_int|1
comma
l_int|2
comma
l_int|3
comma
l_int|4
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|pll
suffix:colon
id|PLL_28
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;MIRO PCTV pro&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0x3014f
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0x20001
comma
l_int|0x10001
comma
l_int|0
comma
l_int|0
comma
l_int|10
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x0c ---------------------------------- */
id|name
suffix:colon
l_string|&quot;ADS Technologies Channel Surfer TV&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|15
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|13
comma
l_int|14
comma
l_int|11
comma
l_int|7
comma
l_int|0
comma
l_int|0
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;AVerMedia TVCapture 98&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|4
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|15
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|13
comma
l_int|14
comma
l_int|11
comma
l_int|7
comma
l_int|0
comma
l_int|0
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|pll
suffix:colon
id|PLL_28
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;Aimslab Video Highway Xtreme (VHX)&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|7
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0
comma
l_int|2
comma
l_int|1
comma
l_int|3
comma
l_int|4
)brace
comma
multiline_comment|/* old: { 0, 1, 2, 3, 4} */
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;Zoltrix TV-Max&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|15
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0
comma
l_int|0
comma
l_int|1
comma
l_int|0
comma
l_int|10
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x10 ---------------------------------- */
id|name
suffix:colon
l_string|&quot;Pixelview PlayTV (bt878)&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0x01fe00
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0x01c000
comma
l_int|0
comma
l_int|0x018000
comma
l_int|0x014000
comma
l_int|0x002000
comma
l_int|0
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|pll
suffix:colon
id|PLL_28
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;Leadtek WinView 601&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0x8300f8
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
comma
l_int|0
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0x4fa007
comma
l_int|0xcfa007
comma
l_int|0xcfa007
comma
l_int|0xcfa007
comma
l_int|0xcfa007
comma
l_int|0xcfa007
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
id|audio_hook
suffix:colon
id|winview_audio
comma
id|has_radio
suffix:colon
l_int|1
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;AVEC Intercapture&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|2
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|1
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;LifeView FlyKit w/o Tuner&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
op_minus
l_int|1
comma
id|svhs
suffix:colon
op_minus
l_int|1
comma
id|gpiomask
suffix:colon
l_int|0x8dff00
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0
)brace
comma
id|no_msp34xx
suffix:colon
l_int|1
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x14 ---------------------------------- */
id|name
suffix:colon
l_string|&quot;CEI Raffles Card&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|3
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;Lucky Star Image World ConferenceTV&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0x00fffe07
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|131072
comma
l_int|1
comma
l_int|1638400
comma
l_int|3
comma
l_int|4
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|pll
suffix:colon
id|PLL_28
comma
id|tuner_type
suffix:colon
id|TUNER_PHILIPS_PAL_I
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;Phoebe Tv Master + FM (CPH050)&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0xc00
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0
comma
l_int|1
comma
l_int|0x800
comma
l_int|0x400
comma
l_int|0xc00
comma
l_int|0
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;Modular Technology MM205 PCTV, bt878&quot;
comma
id|video_inputs
suffix:colon
l_int|2
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
op_minus
l_int|1
comma
id|gpiomask
suffix:colon
l_int|7
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
)brace
comma
id|no_msp34xx
suffix:colon
l_int|1
comma
id|pll
suffix:colon
id|PLL_28
comma
id|tuner_type
suffix:colon
id|TUNER_ALPS_TSBB5_PAL_I
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x18 ---------------------------------- */
id|name
suffix:colon
l_string|&quot;[many vendors] CPH05X/06X (bt878)&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0xe00
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0x400
comma
l_int|0x400
comma
l_int|0x400
comma
l_int|0x400
comma
l_int|0xc00
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|pll
suffix:colon
id|PLL_28
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;Terratec/Vobis TV-Boostar&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|16777215
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|131072
comma
l_int|1
comma
l_int|1638400
comma
l_int|3
comma
l_int|4
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;Newer Hauppauge WinCam (bt878)&quot;
comma
id|video_inputs
suffix:colon
l_int|4
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|3
comma
id|gpiomask
suffix:colon
l_int|7
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|0
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0
comma
l_int|1
comma
l_int|2
comma
l_int|3
comma
l_int|4
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;MAXI TV Video PCI2&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0xffff
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0
comma
l_int|1
comma
l_int|2
comma
l_int|3
comma
l_int|0xc00
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|tuner_type
suffix:colon
id|TUNER_PHILIPS_SECAM
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x1c ---------------------------------- */
id|name
suffix:colon
l_string|&quot;Terratec TerraTV+&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0x70000
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0x20000
comma
l_int|0x30000
comma
l_int|0x10000
comma
l_int|0x00000
comma
l_int|0x40000
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|tuner_type
suffix:colon
id|TUNER_PHILIPS_PAL
comma
id|audio_hook
suffix:colon
id|terratv_audio
comma
)brace
comma
(brace
multiline_comment|/* Jannik Fritsch &lt;jannik@techfak.uni-bielefeld.de&gt; */
id|name
suffix:colon
l_string|&quot;Imagenation PXC200&quot;
comma
id|video_inputs
suffix:colon
l_int|5
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
op_minus
l_int|1
comma
id|svhs
suffix:colon
l_int|1
comma
multiline_comment|/* was: 4 */
id|gpiomask
suffix:colon
l_int|0
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|0
comma
l_int|0
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;FlyVideo 98&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0x1800
comma
singleline_comment|//0x8dfe00
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0
comma
l_int|0x0800
comma
l_int|0x1000
comma
l_int|0x1000
comma
l_int|0x1800
comma
l_int|0
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;iProTV&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|1
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|1
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
)brace
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x20 ---------------------------------- */
id|name
suffix:colon
l_string|&quot;Intel Create and Share PCI&quot;
comma
id|video_inputs
suffix:colon
l_int|4
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|7
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|4
comma
l_int|4
comma
l_int|4
comma
l_int|4
comma
l_int|4
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;Terratec TerraTValue&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0xffff00
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0x500
comma
l_int|0
comma
l_int|0x300
comma
l_int|0x900
comma
l_int|0x900
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|pll
suffix:colon
id|PLL_28
comma
id|tuner_type
suffix:colon
id|TUNER_PHILIPS_PAL
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;Leadtek WinFast 2000&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0xc33000
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
comma
l_int|0
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0x422000
comma
l_int|0x001000
comma
l_int|0x621100
comma
l_int|0x620000
comma
l_int|0x800000
comma
l_int|0x620000
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|0
comma
id|pll
suffix:colon
id|PLL_28
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
id|audio_hook
suffix:colon
id|winfast2000_audio
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;Flyvideo 98 (LR50Q) / Chronos Video Shuttle II&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|3
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0x1800
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0
comma
l_int|0x800
comma
l_int|0x1000
comma
l_int|0x1000
comma
l_int|0x1800
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|pll
suffix:colon
id|PLL_28
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x24 ---------------------------------- */
id|name
suffix:colon
l_string|&quot;Flyvideo 98FM (LR50Q) / Typhoon TView TV/FM Tuner&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|3
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0x1800
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0
comma
l_int|0x800
comma
l_int|0x1000
comma
l_int|0x1000
comma
l_int|0x1800
comma
l_int|0
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|pll
suffix:colon
id|PLL_28
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
id|has_radio
suffix:colon
l_int|1
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;PixelView PlayTV pro&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0xff
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0x21
comma
l_int|0x20
comma
l_int|0x24
comma
l_int|0x2c
comma
l_int|0x29
comma
l_int|0x29
)brace
comma
id|no_msp34xx
suffix:colon
l_int|1
comma
id|pll
suffix:colon
id|PLL_28
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;TView99 CPH06X&quot;
comma
id|video_inputs
suffix:colon
l_int|4
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0x551e00
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|0
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0x551400
comma
l_int|0x551200
comma
l_int|0
comma
l_int|0
comma
l_int|0x551c00
comma
l_int|0x551200
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|pll
suffix:colon
id|PLL_28
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;Pinnacle PCTV Studio/Rave&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0x03000F
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|2
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|1
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|pll
suffix:colon
id|PLL_28
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x28 ---------------------------------- */
id|name
suffix:colon
l_string|&quot;STB2&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|7
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|4
comma
l_int|0
comma
l_int|2
comma
l_int|3
comma
l_int|1
)brace
comma
id|no_msp34xx
suffix:colon
l_int|1
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;AVerMedia TVPhone 98&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|4
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|12
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|13
comma
l_int|4
comma
l_int|11
comma
l_int|7
comma
l_int|0
comma
l_int|0
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|pll
suffix:colon
id|PLL_28
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
id|has_radio
suffix:colon
l_int|1
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;ProVideo PV951&quot;
comma
multiline_comment|/* pic16c54 */
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
)brace
comma
id|no_msp34xx
suffix:colon
l_int|1
comma
id|pll
suffix:colon
id|PLL_28
comma
id|tuner_type
suffix:colon
l_int|1
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;Little OnAir TV&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0xe00b
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0xff9ff6
comma
l_int|0xff9ff6
comma
l_int|0xff1ff7
comma
l_int|0
comma
l_int|0xff3ffc
)brace
comma
id|no_msp34xx
suffix:colon
l_int|1
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x2c ---------------------------------- */
id|name
suffix:colon
l_string|&quot;Sigma TVII-FM&quot;
comma
id|video_inputs
suffix:colon
l_int|2
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
op_minus
l_int|1
comma
id|gpiomask
suffix:colon
l_int|3
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|1
comma
l_int|1
comma
l_int|0
comma
l_int|2
comma
l_int|3
)brace
comma
id|no_msp34xx
suffix:colon
l_int|1
comma
id|pll
suffix:colon
id|PLL_NONE
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;MATRIX-Vision MV-Delta 2&quot;
comma
id|video_inputs
suffix:colon
l_int|5
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
op_minus
l_int|1
comma
id|svhs
suffix:colon
l_int|3
comma
id|gpiomask
suffix:colon
l_int|0
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|0
comma
l_int|0
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0
)brace
comma
id|no_msp34xx
suffix:colon
l_int|1
comma
id|pll
suffix:colon
id|PLL_28
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;Zoltrix Genie TV/FM&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0xbcf03f
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0xbc803f
comma
l_int|0xbc903f
comma
l_int|0xbcb03f
comma
l_int|0
comma
l_int|0xbcb03f
)brace
comma
id|no_msp34xx
suffix:colon
l_int|1
comma
id|pll
suffix:colon
id|PLL_28
comma
id|tuner_type
suffix:colon
l_int|21
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;Terratec TV/Radio+&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0x1f0000
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0xe2ffff
comma
l_int|0xebffff
comma
l_int|0
comma
l_int|0
comma
l_int|0xe0ffff
comma
l_int|0xe2ffff
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|no_msp34xx
suffix:colon
l_int|1
comma
id|pll
suffix:colon
id|PLL_35
comma
id|tuner_type
suffix:colon
l_int|1
comma
id|has_radio
suffix:colon
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x30 ---------------------------------- */
id|name
suffix:colon
l_string|&quot;Dynalink Magic TView &quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|15
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|2
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|1
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|pll
suffix:colon
id|PLL_28
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;GV-BCTV3&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0x010f00
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|0
comma
l_int|0
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0x10000
comma
l_int|0
comma
l_int|0x10000
comma
l_int|0
comma
l_int|0
comma
l_int|0
)brace
comma
id|no_msp34xx
suffix:colon
l_int|1
comma
id|pll
suffix:colon
id|PLL_28
comma
id|tuner_type
suffix:colon
id|TUNER_ALPS_TSHC6_NTSC
comma
id|audio_hook
suffix:colon
id|gvbctv3pci_audio
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;Prolink PV-BT878P+4E / PixelView PlayTV PAK / Lenco MXTV-9578 CP&quot;
comma
id|video_inputs
suffix:colon
l_int|4
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|3
comma
id|gpiomask
suffix:colon
l_int|0xAA0000
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0x20000
comma
l_int|0
comma
l_int|0x80000
comma
l_int|0x80000
comma
l_int|0xa8000
comma
l_int|0x46000
)brace
comma
id|no_msp34xx
suffix:colon
l_int|1
comma
id|pll
suffix:colon
id|PLL_28
comma
id|tuner_type
suffix:colon
id|TUNER_PHILIPS_PAL_I
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;Eagle Wireless Capricorn2 (bt878A)&quot;
comma
id|video_inputs
suffix:colon
l_int|4
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|7
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|0
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0
comma
l_int|1
comma
l_int|2
comma
l_int|3
comma
l_int|4
)brace
comma
id|pll
suffix:colon
id|PLL_28
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
multiline_comment|/* TUNER_ALPS_TMDH2_NTSC */
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x34 ---------------------------------- */
multiline_comment|/* David H&#xfffd;rdeman &lt;david@2gen.com&gt; */
id|name
suffix:colon
l_string|&quot;Pinnacle PCTV Studio Pro&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0x03000F
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|1
comma
l_int|0x10001
comma
l_int|0
comma
l_int|0
comma
l_int|10
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|pll
suffix:colon
id|PLL_28
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* Claas Langbehn &lt;claas@bigfoot.com&gt;,&n;&t;   Sven Grothklags &lt;sven@upb.de&gt; */
id|name
suffix:colon
l_string|&quot;Typhoon TView RDS + FM Stereo / KNC1 TV Station RDS&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|3
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0x1c
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0
comma
l_int|0
comma
l_int|0x10
comma
l_int|8
comma
l_int|4
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|pll
suffix:colon
id|PLL_28
comma
id|tuner_type
suffix:colon
id|TUNER_PHILIPS_PAL_I
comma
id|has_radio
suffix:colon
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* Tim R&#xfffd;stermundt &lt;rosterm@uni-muenster.de&gt;&n;&t;   in de.comp.os.unix.linux.hardware:&n;&t;&t;options bttv card=0 pll=1 radio=1 gpiomask=0x18e0&n;&t;&t;audiomux=0x44c71f,0x44d71f,0,0x44d71f,0x44dfff&n;&t;&t;options tuner type=5 */
id|name
suffix:colon
l_string|&quot;Lifetec LT 9415 TV (LR90 Rev.F)&quot;
comma
id|video_inputs
suffix:colon
l_int|4
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0x18e0
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0x0000
comma
l_int|0x0800
comma
l_int|0x1000
comma
l_int|0x1000
comma
l_int|0x18e0
)brace
comma
multiline_comment|/* 0x0000: Tuner normal stereo&n;&t;&t;&t;  0x0080: Tuner A2 SAP (second audio program = Zweikanalton)&n;&t;&t;&t;  0x0880: Tuner A2 stereo */
id|pll
suffix:colon
id|PLL_28
comma
id|tuner_type
suffix:colon
id|TUNER_PHILIPS_PAL
comma
id|audio_hook
suffix:colon
id|lt9415_audio
comma
id|has_radio
suffix:colon
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* Miguel Angel Alvarez &lt;maacruz@navegalia.com&gt;&n;&t;   old Easy TV BT848 version (model CPH031) */
id|name
suffix:colon
l_string|&quot;BESTBUY Easy TV (CPH031)&quot;
comma
id|video_inputs
suffix:colon
l_int|4
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0xF
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|0
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|2
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|10
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|0
comma
id|pll
suffix:colon
id|PLL_28
comma
id|tuner_type
suffix:colon
id|TUNER_TEMIC_PAL
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x38 ---------------------------------- */
multiline_comment|/* Gordon Heydon &lt;gjheydon@bigfoot.com (&squot;98) */
id|name
suffix:colon
l_string|&quot;FlyVideo &squot;98/FM&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|3
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0x1800
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|0
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0
comma
l_int|0x800
comma
l_int|0x1000
comma
l_int|0x1000
comma
l_int|0x1800
comma
l_int|0
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|pll
suffix:colon
id|PLL_28
comma
id|tuner_type
suffix:colon
l_int|5
comma
)brace
comma
(brace
multiline_comment|/* This is the ultimate cheapo capture card &n;&t; * just a BT848A on a small PCB!&n;&t; * Steve Hosgood &lt;steve@equiinet.com&gt; */
id|name
suffix:colon
l_string|&quot;GrandTec &squot;Grand Video Capture&squot; (Bt848)&quot;
comma
id|video_inputs
suffix:colon
l_int|2
comma
id|audio_inputs
suffix:colon
l_int|0
comma
id|tuner
suffix:colon
op_minus
l_int|1
comma
id|svhs
suffix:colon
l_int|1
comma
id|gpiomask
suffix:colon
l_int|0
comma
id|muxsel
suffix:colon
(brace
l_int|3
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|0
comma
id|no_msp34xx
suffix:colon
l_int|1
comma
id|pll
suffix:colon
id|PLL_35
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* Daniel Herrington &lt;daniel.herrington@home.com&gt; */
id|name
suffix:colon
l_string|&quot;Phoebe TV Master Only (No FM) CPH060&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0xe00
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0x400
comma
l_int|0x400
comma
l_int|0x400
comma
l_int|0x400
comma
l_int|0x800
comma
l_int|0x400
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|pll
suffix:colon
id|PLL_NONE
comma
id|tuner_type
suffix:colon
id|TUNER_TEMIC_4036FY5_NTSC
comma
)brace
comma
(brace
multiline_comment|/* Matti Mottus &lt;mottus@physic.ut.ee&gt; */
id|name
suffix:colon
l_string|&quot;TV Capturer (CPH03X)&quot;
comma
id|video_inputs
suffix:colon
l_int|4
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0x03000F
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|0
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|2
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|1
)brace
comma
id|pll
suffix:colon
id|PLL_28
comma
id|tuner_type
suffix:colon
l_int|0
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x3c ---------------------------------- */
multiline_comment|/* Philip Blundell &lt;philb@gnu.org&gt; */
id|name
suffix:colon
l_string|&quot;Modular Technology MM100PCTV&quot;
comma
id|video_inputs
suffix:colon
l_int|2
comma
id|audio_inputs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|11
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|2
comma
l_int|0
comma
l_int|0
comma
l_int|1
comma
l_int|8
)brace
comma
id|pll
suffix:colon
id|PLL_NONE
comma
id|tuner_type
suffix:colon
id|TUNER_TEMIC_PAL
comma
)brace
comma
(brace
multiline_comment|/* Adrian Cox &lt;adrian@humboldt.co.uk */
id|name
suffix:colon
l_string|&quot;AG Electronics GMV1&quot;
comma
id|video_inputs
suffix:colon
l_int|2
comma
id|audio_inputs
suffix:colon
l_int|0
comma
id|tuner
suffix:colon
op_minus
l_int|1
comma
id|svhs
suffix:colon
l_int|1
comma
id|gpiomask
suffix:colon
l_int|0xF
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|2
)brace
comma
id|audiomux
suffix:colon
(brace
)brace
comma
id|no_msp34xx
suffix:colon
l_int|1
comma
id|needs_tvaudio
suffix:colon
l_int|0
comma
id|pll
suffix:colon
id|PLL_28
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* Miguel Angel Alvarez &lt;maacruz@navegalia.com&gt;&n;&t;   new Easy TV BT878 version (model CPH061) &n;&t;   special thanks to Informatica Mieres for providing the card */
id|name
suffix:colon
l_string|&quot;BESTBUY Easy TV (bt878)&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|2
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0xFF
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|0
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|1
comma
l_int|0
comma
l_int|4
comma
l_int|4
comma
l_int|9
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|0
comma
id|pll
suffix:colon
id|PLL_28
comma
id|tuner_type
suffix:colon
id|TUNER_PHILIPS_PAL
comma
)brace
comma
(brace
multiline_comment|/* Lukas Gebauer &lt;geby@volny.cz&gt; */
id|name
suffix:colon
l_string|&quot;ATI TV-Wonder&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0xf03f
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|0
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0xbffe
comma
l_int|0
comma
l_int|0xbfff
comma
l_int|0
comma
l_int|0xbffe
)brace
comma
id|pll
suffix:colon
id|PLL_28
comma
id|tuner_type
suffix:colon
id|TUNER_TEMIC_4006FN5_MULTI_PAL
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x40 ---------------------------------- */
multiline_comment|/* Lukas Gebauer &lt;geby@volny.cz&gt; */
id|name
suffix:colon
l_string|&quot;ATI TV-Wonder VE&quot;
comma
id|video_inputs
suffix:colon
l_int|2
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
op_minus
l_int|1
comma
id|gpiomask
suffix:colon
l_int|1
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|0
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0
comma
l_int|0
comma
l_int|1
comma
l_int|0
comma
l_int|0
)brace
comma
id|no_msp34xx
suffix:colon
l_int|1
comma
id|pll
suffix:colon
id|PLL_28
comma
id|tuner_type
suffix:colon
id|TUNER_TEMIC_4006FN5_MULTI_PAL
comma
)brace
comma
(brace
multiline_comment|/* DeeJay &lt;deejay@westel900.net (2000S) */
id|name
suffix:colon
l_string|&quot;FlyVideo 2000S&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|3
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0x18e0
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|0
comma
l_int|1
)brace
comma
multiline_comment|/* Radio changed from 1e80 to 0x800 to make&n;&t;&t;&t;   Flyvideo2000S in .hu happy (gm)*/
multiline_comment|/* -dk-???: set mute=0x1800 for tda9874h daughterboard */
id|audiomux
suffix:colon
(brace
l_int|0x0000
comma
l_int|0x0800
comma
l_int|0x1000
comma
l_int|0x1000
comma
l_int|0x1800
comma
l_int|0x1080
)brace
comma
id|audio_hook
suffix:colon
id|fv2000s_audio
comma
id|no_msp34xx
suffix:colon
l_int|1
comma
id|no_tda9875
suffix:colon
l_int|1
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|pll
suffix:colon
id|PLL_28
comma
id|tuner_type
suffix:colon
l_int|5
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;Terratec TValueRadio&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0xffff00
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0x500
comma
l_int|0x500
comma
l_int|0x300
comma
l_int|0x900
comma
l_int|0x900
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|pll
suffix:colon
id|PLL_28
comma
id|tuner_type
suffix:colon
id|TUNER_PHILIPS_PAL
comma
id|has_radio
suffix:colon
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* TANAKA Kei &lt;peg00625@nifty.com&gt; */
id|name
suffix:colon
l_string|&quot;GV-BCTV4/PCI&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0x010f00
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|0
comma
l_int|0
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0x10000
comma
l_int|0
comma
l_int|0x10000
comma
l_int|0
comma
l_int|0
comma
l_int|0
)brace
comma
id|no_msp34xx
suffix:colon
l_int|1
comma
id|pll
suffix:colon
id|PLL_28
comma
id|tuner_type
suffix:colon
id|TUNER_SHARP_2U5JF5540_NTSC
comma
id|audio_hook
suffix:colon
id|gvbctv3pci_audio
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x44 ---------------------------------- */
id|name
suffix:colon
l_string|&quot;3Dfx VoodooTV FM (Euro), VoodooTV 200 (USA)&quot;
comma
singleline_comment|// try &quot;insmod msp3400 simple=0&quot; if you have
singleline_comment|// sound problems with this card.
id|video_inputs
suffix:colon
l_int|4
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
op_minus
l_int|1
comma
id|gpiomask
suffix:colon
l_int|0x4f8a00
comma
singleline_comment|// 0x100000: 1=MSP enabled (0=disable again)
singleline_comment|// 0x010000: Connected to &quot;S0&quot; on tda9880 (0=Pal/BG, 1=NTSC)
id|audiomux
suffix:colon
(brace
l_int|0x947fff
comma
l_int|0x987fff
comma
l_int|0x947fff
comma
l_int|0x947fff
comma
l_int|0x947fff
)brace
comma
singleline_comment|// tvtuner, radio,   external,internal, mute,  stereo
multiline_comment|/* tuner, Composit, SVid, Composit-on-Svid-adapter*/
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|0
comma
l_int|1
)brace
comma
id|tuner_type
suffix:colon
id|TUNER_MT2032
comma
id|pll
suffix:colon
id|PLL_28
comma
id|has_radio
suffix:colon
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* Philip Blundell &lt;pb@nexus.co.uk&gt; */
id|name
suffix:colon
l_string|&quot;Active Imaging AIMMS&quot;
comma
id|video_inputs
suffix:colon
l_int|1
comma
id|audio_inputs
suffix:colon
l_int|0
comma
id|tuner
suffix:colon
op_minus
l_int|1
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
id|pll
suffix:colon
id|PLL_28
comma
id|muxsel
suffix:colon
(brace
l_int|2
)brace
comma
id|gpiomask
suffix:colon
l_int|0
)brace
comma
(brace
multiline_comment|/* Tomasz Pyra &lt;hellfire@sedez.iq.pl&gt; */
id|name
suffix:colon
l_string|&quot;PV-BT878P+&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|4
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|15
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0
comma
l_int|0
comma
l_int|11
comma
l_int|7
comma
l_int|13
comma
l_int|0
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|pll
suffix:colon
id|PLL_28
comma
id|tuner_type
suffix:colon
l_int|25
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;Flyvideo 98EZ (capture only)&quot;
comma
id|video_inputs
suffix:colon
l_int|4
comma
id|audio_inputs
suffix:colon
l_int|0
comma
id|tuner
suffix:colon
op_minus
l_int|1
comma
id|svhs
suffix:colon
l_int|2
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
singleline_comment|// AV1, AV2, SVHS, CVid adapter on SVHS
id|pll
suffix:colon
id|PLL_28
comma
id|no_msp34xx
suffix:colon
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x48 ---------------------------------- */
multiline_comment|/* Dariusz Kowalewski &lt;darekk@automex.pl&gt; */
id|name
suffix:colon
l_string|&quot;Prolink PV-BT878P+9B (PlayTV Pro rev.9B FM+NICAM)&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0x3f
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|0
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0x01
comma
l_int|0x00
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x09
comma
l_int|0x02
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|1
comma
id|no_msp34xx
suffix:colon
l_int|1
comma
id|no_tda9875
suffix:colon
l_int|1
comma
id|pll
suffix:colon
id|PLL_28
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
id|audio_hook
suffix:colon
id|pvbt878p9b_audio
comma
id|has_radio
suffix:colon
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* Clay Kunz &lt;ckunz@mail.arc.nasa.gov&gt; */
multiline_comment|/* you must jumper JP5 for the card to work */
id|name
suffix:colon
l_string|&quot;Sensoray 311&quot;
comma
id|video_inputs
suffix:colon
l_int|5
comma
id|audio_inputs
suffix:colon
l_int|0
comma
id|tuner
suffix:colon
op_minus
l_int|1
comma
id|svhs
suffix:colon
l_int|4
comma
id|gpiomask
suffix:colon
l_int|0
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|0
comma
l_int|0
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|0
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* Miguel Freitas &lt;miguel@cetuc.puc-rio.br&gt; */
id|name
suffix:colon
l_string|&quot;RemoteVision MX (RV605)&quot;
comma
id|video_inputs
suffix:colon
l_int|16
comma
id|audio_inputs
suffix:colon
l_int|0
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|0
comma
id|gpiomask
suffix:colon
l_int|0x00
comma
id|gpiomask2
suffix:colon
l_int|0x07ff
comma
id|muxsel
suffix:colon
(brace
l_int|0x33
comma
l_int|0x13
comma
l_int|0x23
comma
l_int|0x43
comma
l_int|0xf3
comma
l_int|0x73
comma
l_int|0xe3
comma
l_int|0x03
comma
l_int|0xd3
comma
l_int|0xb3
comma
l_int|0xc3
comma
l_int|0x63
comma
l_int|0x93
comma
l_int|0x53
comma
l_int|0x83
comma
l_int|0xa3
)brace
comma
id|no_msp34xx
suffix:colon
l_int|1
comma
id|no_tda9875
suffix:colon
l_int|1
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
id|muxsel_hook
suffix:colon
id|rv605_muxsel
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;Powercolor MTV878/ MTV878R/ MTV878F&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|2
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0x1C800F
comma
singleline_comment|// Bit0-2: Audio select, 8-12:remote control 14:remote valid 15:remote reset
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|1
comma
l_int|1
comma
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0
comma
l_int|1
comma
l_int|2
comma
l_int|2
comma
l_int|4
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|0
comma
id|tuner_type
suffix:colon
id|TUNER_PHILIPS_PAL
comma
id|pll
suffix:colon
id|PLL_28
comma
id|has_radio
suffix:colon
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x4c ---------------------------------- */
multiline_comment|/* Masaki Suzuki &lt;masaki@btree.org&gt; */
id|name
suffix:colon
l_string|&quot;Canopus WinDVR PCI (COMPAQ Presario 3524JP, 5112JP)&quot;
comma
id|video_inputs
suffix:colon
l_int|3
comma
id|audio_inputs
suffix:colon
l_int|1
comma
id|tuner
suffix:colon
l_int|0
comma
id|svhs
suffix:colon
l_int|2
comma
id|gpiomask
suffix:colon
l_int|0x140007
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0
comma
l_int|1
comma
l_int|2
comma
l_int|3
comma
l_int|4
comma
l_int|0
)brace
comma
id|tuner_type
suffix:colon
id|TUNER_PHILIPS_NTSC
comma
id|audio_hook
suffix:colon
id|windvr_audio
comma
)brace
comma
(brace
id|name
suffix:colon
l_string|&quot;GrandTec Multi Capture Card (Bt878)&quot;
comma
id|video_inputs
suffix:colon
l_int|4
comma
id|audio_inputs
suffix:colon
l_int|0
comma
id|tuner
suffix:colon
op_minus
l_int|1
comma
id|svhs
suffix:colon
op_minus
l_int|1
comma
id|gpiomask
suffix:colon
l_int|0
comma
id|muxsel
suffix:colon
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|0
)brace
comma
id|audiomux
suffix:colon
(brace
l_int|0
)brace
comma
id|needs_tvaudio
suffix:colon
l_int|0
comma
id|no_msp34xx
suffix:colon
l_int|1
comma
id|pll
suffix:colon
id|PLL_28
comma
id|tuner_type
suffix:colon
op_minus
l_int|1
comma
)brace
)brace
suffix:semicolon
DECL|variable|bttv_num_tvcards
r_const
r_int
id|bttv_num_tvcards
op_assign
(paren
r_sizeof
(paren
id|bttv_tvcards
)paren
op_div
r_sizeof
(paren
r_struct
id|tvcard
)paren
)paren
suffix:semicolon
multiline_comment|/* ----------------------------------------------------------------------- */
DECL|variable|eeprom_data
r_static
r_int
r_char
id|eeprom_data
(braket
l_int|256
)braket
suffix:semicolon
multiline_comment|/*&n; * identify card&n; */
DECL|function|bttv_idcard
r_void
id|__devinit
id|bttv_idcard
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
(brace
r_int
r_int
id|gpiobits
suffix:semicolon
r_int
id|i
comma
id|type
suffix:semicolon
r_int
r_int
id|tmp
suffix:semicolon
multiline_comment|/* read PCI subsystem ID */
id|pci_read_config_word
c_func
(paren
id|btv-&gt;dev
comma
id|PCI_SUBSYSTEM_ID
comma
op_amp
id|tmp
)paren
suffix:semicolon
id|btv-&gt;cardid
op_assign
id|tmp
op_lshift
l_int|16
suffix:semicolon
id|pci_read_config_word
c_func
(paren
id|btv-&gt;dev
comma
id|PCI_SUBSYSTEM_VENDOR_ID
comma
op_amp
id|tmp
)paren
suffix:semicolon
id|btv-&gt;cardid
op_or_assign
id|tmp
suffix:semicolon
r_if
c_cond
(paren
l_int|0
op_ne
id|btv-&gt;cardid
op_logical_and
l_int|0xffffffff
op_ne
id|btv-&gt;cardid
)paren
(brace
multiline_comment|/* look for the card */
r_for
c_loop
(paren
id|type
op_assign
op_minus
l_int|1
comma
id|i
op_assign
l_int|0
suffix:semicolon
id|cards
(braket
id|i
)braket
dot
id|id
op_ne
l_int|0
suffix:semicolon
id|i
op_increment
)paren
r_if
c_cond
(paren
id|cards
(braket
id|i
)braket
dot
id|id
op_eq
id|btv-&gt;cardid
)paren
id|type
op_assign
id|i
suffix:semicolon
r_if
c_cond
(paren
id|type
op_ne
op_minus
l_int|1
)paren
(brace
multiline_comment|/* found it */
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;bttv%d: detected: %s [card=%d], &quot;
l_string|&quot;PCI subsystem ID is %04x:%04x&bslash;n&quot;
comma
id|btv-&gt;nr
comma
id|cards
(braket
id|type
)braket
dot
id|name
comma
id|cards
(braket
id|type
)braket
dot
id|cardnr
comma
id|btv-&gt;cardid
op_amp
l_int|0xffff
comma
id|btv-&gt;cardid
op_rshift
l_int|16
)paren
suffix:semicolon
id|btv-&gt;type
op_assign
id|cards
(braket
id|type
)braket
dot
id|cardnr
suffix:semicolon
)brace
r_else
(brace
multiline_comment|/* 404 */
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;bttv%d: subsystem: %04x:%04x (UNKNOWN)&bslash;n&quot;
comma
id|btv-&gt;nr
comma
id|btv-&gt;cardid
op_amp
l_int|0xffff
comma
id|btv-&gt;cardid
op_rshift
l_int|16
)paren
suffix:semicolon
id|printk
c_func
(paren
id|KERN_DEBUG
l_string|&quot;please mail id, board name and &quot;
l_string|&quot;the correct card= insmod option to kraxel@bytesex.org&bslash;n&quot;
)paren
suffix:semicolon
)brace
)brace
multiline_comment|/* let the user override the autodetected type */
r_if
c_cond
(paren
id|card
(braket
id|btv-&gt;nr
)braket
op_ge
l_int|0
op_logical_and
id|card
(braket
id|btv-&gt;nr
)braket
OL
id|bttv_num_tvcards
)paren
id|btv-&gt;type
op_assign
id|card
(braket
id|btv-&gt;nr
)braket
suffix:semicolon
multiline_comment|/* print which card config we are using */
id|sprintf
c_func
(paren
id|btv-&gt;video_dev.name
comma
l_string|&quot;BT%d%s(%.23s)&quot;
comma
id|btv-&gt;id
comma
(paren
id|btv-&gt;id
op_eq
l_int|848
op_logical_and
id|btv-&gt;revision
op_eq
l_int|0x12
)paren
ques
c_cond
l_string|&quot;A&quot;
suffix:colon
l_string|&quot;&quot;
comma
id|bttv_tvcards
(braket
id|btv-&gt;type
)braket
dot
id|name
)paren
suffix:semicolon
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;bttv%d: using: %s [card=%d,%s]&bslash;n&quot;
comma
id|btv-&gt;nr
comma
id|btv-&gt;video_dev.name
comma
id|btv-&gt;type
comma
(paren
id|card
(braket
id|btv-&gt;nr
)braket
op_ge
l_int|0
op_logical_and
id|card
(braket
id|btv-&gt;nr
)braket
OL
id|bttv_num_tvcards
)paren
ques
c_cond
l_string|&quot;insmod option&quot;
suffix:colon
l_string|&quot;autodetected&quot;
)paren
suffix:semicolon
multiline_comment|/* overwrite gpio stuff ?? */
r_if
c_cond
(paren
op_minus
l_int|1
op_eq
id|audioall
op_logical_and
op_minus
l_int|1
op_eq
id|audiomux
(braket
l_int|0
)braket
)paren
r_return
suffix:semicolon
r_if
c_cond
(paren
op_minus
l_int|1
op_ne
id|audiomux
(braket
l_int|0
)braket
)paren
(brace
id|gpiobits
op_assign
l_int|0
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|5
suffix:semicolon
id|i
op_increment
)paren
(brace
id|bttv_tvcards
(braket
id|btv-&gt;type
)braket
dot
id|audiomux
(braket
id|i
)braket
op_assign
id|audiomux
(braket
id|i
)braket
suffix:semicolon
id|gpiobits
op_or_assign
id|audiomux
(braket
id|i
)braket
suffix:semicolon
)brace
)brace
r_else
(brace
id|gpiobits
op_assign
id|audioall
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|5
suffix:semicolon
id|i
op_increment
)paren
(brace
id|bttv_tvcards
(braket
id|btv-&gt;type
)braket
dot
id|audiomux
(braket
id|i
)braket
op_assign
id|audioall
suffix:semicolon
)brace
)brace
id|bttv_tvcards
(braket
id|btv-&gt;type
)braket
dot
id|gpiomask
op_assign
(paren
op_minus
l_int|1
op_ne
id|gpiomask
)paren
ques
c_cond
id|gpiomask
suffix:colon
id|gpiobits
suffix:semicolon
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;bttv%d: gpio config override: mask=0x%x, mux=&quot;
comma
id|btv-&gt;nr
comma
id|bttv_tvcards
(braket
id|btv-&gt;type
)braket
dot
id|gpiomask
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|5
suffix:semicolon
id|i
op_increment
)paren
(brace
id|printk
c_func
(paren
l_string|&quot;%s0x%x&quot;
comma
id|i
ques
c_cond
l_string|&quot;,&quot;
suffix:colon
l_string|&quot;&quot;
comma
id|bttv_tvcards
(braket
id|btv-&gt;type
)braket
dot
id|audiomux
(braket
id|i
)braket
)paren
suffix:semicolon
)brace
id|printk
c_func
(paren
l_string|&quot;&bslash;n&quot;
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * (most) board specific initialisations goes here&n; */
DECL|function|flyvideo_gpio
r_static
r_void
id|flyvideo_gpio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
(brace
r_int
id|gpio
comma
id|outbits
suffix:semicolon
r_int
id|tuner
op_assign
op_minus
l_int|1
comma
id|ttype
suffix:semicolon
id|outbits
op_assign
id|btread
c_func
(paren
id|BT848_GPIO_OUT_EN
)paren
suffix:semicolon
id|btwrite
c_func
(paren
l_int|0x00
comma
id|BT848_GPIO_OUT_EN
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|8
)paren
suffix:semicolon
singleline_comment|// without this we would see the 0x1800 mask
id|gpio
op_assign
id|btread
c_func
(paren
id|BT848_GPIO_DATA
)paren
suffix:semicolon
id|btwrite
c_func
(paren
id|outbits
comma
id|BT848_GPIO_OUT_EN
)paren
suffix:semicolon
singleline_comment|// all cards provide GPIO info, some have an additional eeprom
singleline_comment|// lowest 3 bytes are remote control codes (no handshake needed)
id|ttype
op_assign
(paren
id|gpio
op_amp
l_int|0x0f0000
)paren
op_rshift
l_int|16
suffix:semicolon
r_switch
c_cond
(paren
id|ttype
)paren
(brace
r_case
l_int|0
suffix:colon
id|tuner
op_assign
l_int|4
suffix:semicolon
singleline_comment|// None
r_break
suffix:semicolon
r_case
l_int|4
suffix:colon
id|tuner
op_assign
l_int|5
suffix:semicolon
singleline_comment|// Philips PAL
r_break
suffix:semicolon
r_case
l_int|6
suffix:colon
id|tuner
op_assign
l_int|37
suffix:semicolon
singleline_comment|// LG PAL (newer TAPC series)
r_break
suffix:semicolon
r_case
l_int|0xC
suffix:colon
id|tuner
op_assign
l_int|3
suffix:semicolon
singleline_comment|// Philips SECAM(+PAL)
r_break
suffix:semicolon
r_default
suffix:colon
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;bttv%d: flyvideo_gpio: unknown tuner type.&bslash;n&quot;
comma
id|btv-&gt;nr
)paren
suffix:semicolon
)brace
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;bttv%d: Flyvideo Radio=%s RemoteControl=%s Tuner=%d gpio=0x%06x&bslash;n&quot;
comma
id|btv-&gt;nr
comma
id|gpio
op_amp
l_int|0x400000
ques
c_cond
l_string|&quot;yes&quot;
suffix:colon
l_string|&quot;no&quot;
comma
id|gpio
op_amp
l_int|0x800000
ques
c_cond
l_string|&quot;yes&quot;
suffix:colon
l_string|&quot;no&quot;
comma
id|tuner
comma
id|gpio
)paren
suffix:semicolon
id|btv-&gt;tuner_type
op_assign
id|tuner
suffix:semicolon
id|btv-&gt;has_radio
op_assign
id|gpio
op_amp
l_int|0x400000
ques
c_cond
l_int|1
suffix:colon
l_int|0
suffix:semicolon
)brace
DECL|variable|miro_tunermap
r_int
id|miro_tunermap
(braket
)braket
op_assign
(brace
l_int|0
comma
l_int|6
comma
l_int|2
comma
l_int|3
comma
l_int|4
comma
l_int|5
comma
l_int|6
comma
l_int|0
comma
l_int|3
comma
l_int|0
comma
l_int|4
comma
l_int|5
comma
l_int|5
comma
l_int|2
comma
l_int|16
comma
l_int|1
comma
l_int|14
comma
l_int|2
comma
l_int|17
comma
l_int|1
comma
l_int|4
comma
l_int|1
comma
l_int|4
comma
l_int|3
comma
l_int|1
comma
l_int|2
comma
l_int|16
comma
l_int|1
comma
l_int|4
comma
l_int|4
comma
l_int|4
comma
l_int|4
)brace
suffix:semicolon
DECL|variable|miro_fmtuner
r_int
id|miro_fmtuner
(braket
)braket
op_assign
(brace
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|1
comma
l_int|1
comma
l_int|1
comma
l_int|1
comma
l_int|1
comma
l_int|1
comma
l_int|1
comma
l_int|1
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
)brace
suffix:semicolon
multiline_comment|/* initialization part one -- before registering i2c bus */
DECL|function|bttv_init_card1
r_void
id|__devinit
id|bttv_init_card1
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
(brace
r_if
c_cond
(paren
id|btv-&gt;type
op_eq
id|BTTV_HAUPPAUGE
op_logical_or
id|btv-&gt;type
op_eq
id|BTTV_HAUPPAUGE878
)paren
id|boot_msp34xx
c_func
(paren
id|btv
comma
l_int|5
)paren
suffix:semicolon
r_if
c_cond
(paren
id|btv-&gt;type
op_eq
id|BTTV_VOODOOTV_FM
)paren
id|boot_msp34xx
c_func
(paren
id|btv
comma
l_int|20
)paren
suffix:semicolon
)brace
multiline_comment|/* initialization part one -- after registering i2c bus */
DECL|function|bttv_init_card2
r_void
id|__devinit
id|bttv_init_card2
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
(brace
multiline_comment|/* miro/pinnacle */
r_if
c_cond
(paren
id|btv-&gt;type
op_eq
id|BTTV_MIRO
op_logical_or
id|btv-&gt;type
op_eq
id|BTTV_MIROPRO
op_logical_or
id|btv-&gt;type
op_eq
id|BTTV_PINNACLE
op_logical_or
id|btv-&gt;type
op_eq
id|BTTV_PINNACLEPRO
)paren
(brace
r_int
id|id
comma
id|msp
suffix:semicolon
id|id
op_assign
(paren
(paren
id|btread
c_func
(paren
id|BT848_GPIO_DATA
)paren
op_rshift
l_int|10
)paren
op_amp
l_int|31
)paren
op_minus
l_int|1
suffix:semicolon
id|msp
op_assign
id|bttv_I2CRead
c_func
(paren
id|btv
comma
id|I2C_MSP3400
comma
l_string|&quot;MSP34xx&quot;
)paren
suffix:semicolon
id|btv-&gt;tuner_type
op_assign
id|miro_tunermap
(braket
id|id
)braket
suffix:semicolon
r_if
c_cond
(paren
l_int|0
op_eq
(paren
id|btread
c_func
(paren
id|BT848_GPIO_DATA
)paren
op_amp
l_int|0x20
)paren
)paren
(brace
id|btv-&gt;has_radio
op_assign
l_int|1
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|miro_fmtuner
(braket
id|id
)braket
)paren
(brace
id|btv-&gt;has_matchbox
op_assign
l_int|1
suffix:semicolon
id|btv-&gt;mbox_we
op_assign
(paren
l_int|1
op_lshift
l_int|6
)paren
suffix:semicolon
id|btv-&gt;mbox_most
op_assign
(paren
l_int|1
op_lshift
l_int|7
)paren
suffix:semicolon
id|btv-&gt;mbox_clk
op_assign
(paren
l_int|1
op_lshift
l_int|8
)paren
suffix:semicolon
id|btv-&gt;mbox_data
op_assign
(paren
l_int|1
op_lshift
l_int|9
)paren
suffix:semicolon
id|btv-&gt;mbox_mask
op_assign
(paren
l_int|1
op_lshift
l_int|6
)paren
op_or
(paren
l_int|1
op_lshift
l_int|7
)paren
op_or
(paren
l_int|1
op_lshift
l_int|8
)paren
op_or
(paren
l_int|1
op_lshift
l_int|9
)paren
suffix:semicolon
)brace
)brace
r_else
(brace
id|btv-&gt;has_radio
op_assign
l_int|0
suffix:semicolon
)brace
r_if
c_cond
(paren
op_minus
l_int|1
op_ne
id|msp
)paren
(brace
r_if
c_cond
(paren
id|btv-&gt;type
op_eq
id|BTTV_MIRO
)paren
id|btv-&gt;type
op_assign
id|BTTV_MIROPRO
suffix:semicolon
r_if
c_cond
(paren
id|btv-&gt;type
op_eq
id|BTTV_PINNACLE
)paren
id|btv-&gt;type
op_assign
id|BTTV_PINNACLEPRO
suffix:semicolon
)brace
r_if
c_cond
(paren
id|bttv_verbose
)paren
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;bttv%d: miro: id=%d tuner=%d &quot;
l_string|&quot;radio=%s stereo=%s&bslash;n&quot;
comma
id|btv-&gt;nr
comma
id|id
op_plus
l_int|1
comma
id|btv-&gt;tuner_type
comma
op_logical_neg
id|btv-&gt;has_radio
ques
c_cond
l_string|&quot;no&quot;
suffix:colon
(paren
id|btv-&gt;has_matchbox
ques
c_cond
l_string|&quot;matchbox&quot;
suffix:colon
l_string|&quot;fmtuner&quot;
)paren
comma
(paren
op_minus
l_int|1
op_eq
id|msp
)paren
ques
c_cond
l_string|&quot;no&quot;
suffix:colon
l_string|&quot;yes&quot;
)paren
suffix:semicolon
macro_line|#if 0
r_if
c_cond
(paren
id|btv-&gt;has_matchbox
)paren
(brace
r_if
c_cond
(paren
id|bttv_verbose
)paren
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;Initializing TEA5757...&bslash;n&quot;
)paren
suffix:semicolon
id|init_tea5757
c_func
(paren
id|btv
)paren
suffix:semicolon
)brace
macro_line|#endif
)brace
r_if
c_cond
(paren
id|btv-&gt;type
op_eq
id|BTTV_FLYVIDEO_98
op_logical_or
id|btv-&gt;type
op_eq
id|BTTV_FLYVIDEO
op_logical_or
id|btv-&gt;type
op_eq
id|BTTV_TYPHOON_TVIEW
op_logical_or
id|btv-&gt;type
op_eq
id|BTTV_CHRONOS_VS2
op_logical_or
id|btv-&gt;type
op_eq
id|BTTV_FLYVIDEO_98FM
op_logical_or
id|btv-&gt;type
op_eq
id|BTTV_FLYVIDEO2000
op_logical_or
id|btv-&gt;type
op_eq
id|BTTV_FLYVIDEO98EZ
)paren
id|flyvideo_gpio
c_func
(paren
id|btv
)paren
suffix:semicolon
r_if
c_cond
(paren
id|btv-&gt;type
op_eq
id|BTTV_HAUPPAUGE
op_logical_or
id|btv-&gt;type
op_eq
id|BTTV_HAUPPAUGE878
)paren
(brace
multiline_comment|/* pick up some config infos from the eeprom */
id|bttv_readee
c_func
(paren
id|btv
comma
id|eeprom_data
comma
l_int|0xa0
)paren
suffix:semicolon
id|hauppauge_eeprom
c_func
(paren
id|btv
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|btv-&gt;type
op_eq
id|BTTV_AVERMEDIA98
op_logical_or
id|btv-&gt;type
op_eq
id|BTTV_AVPHONE98
)paren
(brace
id|bttv_readee
c_func
(paren
id|btv
comma
id|eeprom_data
comma
l_int|0xa0
)paren
suffix:semicolon
id|avermedia_eeprom
c_func
(paren
id|btv
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|btv-&gt;type
op_eq
id|BTTV_PXC200
)paren
id|init_PXC200
c_func
(paren
id|btv
)paren
suffix:semicolon
r_if
c_cond
(paren
id|btv-&gt;type
op_eq
id|BTTV_VHX
)paren
(brace
id|btv-&gt;has_radio
op_assign
l_int|1
suffix:semicolon
id|btv-&gt;has_matchbox
op_assign
l_int|1
suffix:semicolon
id|btv-&gt;mbox_we
op_assign
l_int|0x20
suffix:semicolon
id|btv-&gt;mbox_most
op_assign
l_int|0
suffix:semicolon
id|btv-&gt;mbox_clk
op_assign
l_int|0x08
suffix:semicolon
id|btv-&gt;mbox_data
op_assign
l_int|0x10
suffix:semicolon
id|btv-&gt;mbox_mask
op_assign
l_int|0x38
suffix:semicolon
)brace
r_if
c_cond
(paren
id|btv-&gt;type
op_eq
id|BTTV_LIFETEC_9415
)paren
(brace
r_if
c_cond
(paren
id|btread
c_func
(paren
id|BT848_GPIO_DATA
)paren
op_amp
l_int|0x4000
)paren
id|printk
c_func
(paren
l_string|&quot;bttv%d: lifetec: tv mono/fm stereo card&bslash;n&quot;
comma
id|btv-&gt;nr
)paren
suffix:semicolon
r_else
id|printk
c_func
(paren
l_string|&quot;bttv%d: lifetec: stereo(TDA9821) card&bslash;n&quot;
comma
id|btv-&gt;nr
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|btv-&gt;type
op_eq
id|BTTV_MAGICTVIEW061
)paren
(brace
r_if
c_cond
(paren
id|btv-&gt;cardid
op_eq
l_int|0x4002144f
)paren
(brace
id|btv-&gt;has_radio
op_assign
l_int|1
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot;bttv%d: radio detected by subsystem id (CPH05x)&bslash;n&quot;
comma
id|btv-&gt;nr
)paren
suffix:semicolon
)brace
)brace
multiline_comment|/* pll configuration */
r_if
c_cond
(paren
op_logical_neg
(paren
id|btv-&gt;id
op_eq
l_int|848
op_logical_and
id|btv-&gt;revision
op_eq
l_int|0x11
)paren
)paren
(brace
multiline_comment|/* defaults from card list */
r_if
c_cond
(paren
id|PLL_28
op_eq
id|bttv_tvcards
(braket
id|btv-&gt;type
)braket
dot
id|pll
)paren
(brace
id|btv-&gt;pll.pll_ifreq
op_assign
l_int|28636363
suffix:semicolon
id|btv-&gt;pll.pll_crystal
op_assign
id|BT848_IFORM_XT0
suffix:semicolon
)brace
r_if
c_cond
(paren
id|PLL_35
op_eq
id|bttv_tvcards
(braket
id|btv-&gt;type
)braket
dot
id|pll
)paren
(brace
id|btv-&gt;pll.pll_ifreq
op_assign
l_int|35468950
suffix:semicolon
id|btv-&gt;pll.pll_crystal
op_assign
id|BT848_IFORM_XT1
suffix:semicolon
)brace
multiline_comment|/* insmod options can override */
r_switch
c_cond
(paren
id|pll
(braket
id|btv-&gt;nr
)braket
)paren
(brace
r_case
l_int|0
suffix:colon
multiline_comment|/* none */
id|btv-&gt;pll.pll_crystal
op_assign
l_int|0
suffix:semicolon
id|btv-&gt;pll.pll_ifreq
op_assign
l_int|0
suffix:semicolon
id|btv-&gt;pll.pll_ofreq
op_assign
l_int|0
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|1
suffix:colon
multiline_comment|/* 28 MHz */
r_case
l_int|28
suffix:colon
id|btv-&gt;pll.pll_ifreq
op_assign
l_int|28636363
suffix:semicolon
id|btv-&gt;pll.pll_ofreq
op_assign
l_int|0
suffix:semicolon
id|btv-&gt;pll.pll_crystal
op_assign
id|BT848_IFORM_XT0
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|2
suffix:colon
multiline_comment|/* 35 MHz */
r_case
l_int|35
suffix:colon
id|btv-&gt;pll.pll_ifreq
op_assign
l_int|35468950
suffix:semicolon
id|btv-&gt;pll.pll_ofreq
op_assign
l_int|0
suffix:semicolon
id|btv-&gt;pll.pll_crystal
op_assign
id|BT848_IFORM_XT1
suffix:semicolon
r_break
suffix:semicolon
)brace
)brace
multiline_comment|/* tuner configuration (from card list / insmod option) */
r_if
c_cond
(paren
op_minus
l_int|1
op_ne
id|bttv_tvcards
(braket
id|btv-&gt;type
)braket
dot
id|tuner_type
)paren
id|btv-&gt;tuner_type
op_assign
id|bttv_tvcards
(braket
id|btv-&gt;type
)braket
dot
id|tuner_type
suffix:semicolon
r_if
c_cond
(paren
op_minus
l_int|1
op_ne
id|tuner
(braket
id|btv-&gt;nr
)braket
)paren
id|btv-&gt;tuner_type
op_assign
id|tuner
(braket
id|btv-&gt;nr
)braket
suffix:semicolon
r_if
c_cond
(paren
id|btv-&gt;tuner_type
op_ne
op_minus
l_int|1
)paren
id|bttv_call_i2c_clients
c_func
(paren
id|btv
comma
id|TUNER_SET_TYPE
comma
op_amp
id|btv-&gt;tuner_type
)paren
suffix:semicolon
r_if
c_cond
(paren
id|bttv_tvcards
(braket
id|btv-&gt;type
)braket
dot
id|has_radio
)paren
id|btv-&gt;has_radio
op_assign
l_int|1
suffix:semicolon
multiline_comment|/* try to detect audio/fader chips */
r_if
c_cond
(paren
op_logical_neg
id|bttv_tvcards
(braket
id|btv-&gt;type
)braket
dot
id|no_msp34xx
op_logical_and
id|bttv_I2CRead
c_func
(paren
id|btv
comma
id|I2C_MSP3400
comma
l_string|&quot;MSP34xx&quot;
)paren
op_ge
l_int|0
)paren
(brace
r_if
c_cond
(paren
id|autoload
)paren
id|request_module
c_func
(paren
l_string|&quot;msp3400&quot;
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|bttv_tvcards
(braket
id|btv-&gt;type
)braket
dot
id|no_tda9875
op_logical_and
id|bttv_I2CRead
c_func
(paren
id|btv
comma
id|I2C_TDA9875
comma
l_string|&quot;TDA9875&quot;
)paren
op_ge
l_int|0
)paren
(brace
r_if
c_cond
(paren
id|autoload
)paren
id|request_module
c_func
(paren
l_string|&quot;tda9875&quot;
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|bttv_I2CRead
c_func
(paren
id|btv
comma
id|I2C_TDA7432
comma
l_string|&quot;TDA7432&quot;
)paren
op_ge
l_int|0
)paren
(brace
r_if
c_cond
(paren
id|autoload
)paren
id|request_module
c_func
(paren
l_string|&quot;tda7432&quot;
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|bttv_tvcards
(braket
id|btv-&gt;type
)braket
dot
id|needs_tvaudio
)paren
(brace
r_if
c_cond
(paren
id|autoload
)paren
id|request_module
c_func
(paren
l_string|&quot;tvaudio&quot;
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|bttv_tvcards
(braket
id|btv-&gt;type
)braket
dot
id|tuner
op_ne
op_minus
l_int|1
)paren
(brace
r_if
c_cond
(paren
id|autoload
)paren
id|request_module
c_func
(paren
l_string|&quot;tuner&quot;
)paren
suffix:semicolon
)brace
)brace
multiline_comment|/* ----------------------------------------------------------------------- */
multiline_comment|/* some hauppauge specific stuff                                           */
DECL|struct|HAUPPAUGE_TUNER
r_static
r_struct
id|HAUPPAUGE_TUNER
(brace
DECL|member|id
r_int
id|id
suffix:semicolon
DECL|member|name
r_char
op_star
id|name
suffix:semicolon
)brace
DECL|variable|__devinitdata
id|hauppauge_tuner
(braket
)braket
id|__devinitdata
op_assign
(brace
(brace
id|TUNER_ABSENT
comma
l_string|&quot;&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;External&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Unspecified&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_PAL
comma
l_string|&quot;Philips FI1216&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_SECAM
comma
l_string|&quot;Philips FI1216MF&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_NTSC
comma
l_string|&quot;Philips FI1236&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_PAL_I
comma
l_string|&quot;Philips FI1246&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_PAL_DK
comma
l_string|&quot;Philips FI1256&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_PAL
comma
l_string|&quot;Philips FI1216 MK2&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_SECAM
comma
l_string|&quot;Philips FI1216MF MK2&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_NTSC
comma
l_string|&quot;Philips FI1236 MK2&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_PAL_I
comma
l_string|&quot;Philips FI1246 MK2&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_PAL_DK
comma
l_string|&quot;Philips FI1256 MK2&quot;
)brace
comma
(brace
id|TUNER_TEMIC_NTSC
comma
l_string|&quot;Temic 4032FY5&quot;
)brace
comma
(brace
id|TUNER_TEMIC_PAL
comma
l_string|&quot;Temic 4002FH5&quot;
)brace
comma
(brace
id|TUNER_TEMIC_PAL_I
comma
l_string|&quot;Temic 4062FY5&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_PAL
comma
l_string|&quot;Philips FR1216 MK2&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_SECAM
comma
l_string|&quot;Philips FR1216MF MK2&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_NTSC
comma
l_string|&quot;Philips FR1236 MK2&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_PAL_I
comma
l_string|&quot;Philips FR1246 MK2&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_PAL_DK
comma
l_string|&quot;Philips FR1256 MK2&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_PAL
comma
l_string|&quot;Philips FM1216&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_SECAM
comma
l_string|&quot;Philips FM1216MF&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_NTSC
comma
l_string|&quot;Philips FM1236&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_PAL_I
comma
l_string|&quot;Philips FM1246&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_PAL_DK
comma
l_string|&quot;Philips FM1256&quot;
)brace
comma
(brace
id|TUNER_TEMIC_4036FY5_NTSC
comma
l_string|&quot;Temic 4036FY5&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Samsung TCPN9082D&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Samsung TCPM9092P&quot;
)brace
comma
(brace
id|TUNER_TEMIC_4006FH5_PAL
comma
l_string|&quot;Temic 4006FH5&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Samsung TCPN9085D&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Samsung TCPB9085P&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Samsung TCPL9091P&quot;
)brace
comma
(brace
id|TUNER_TEMIC_4039FR5_NTSC
comma
l_string|&quot;Temic 4039FR5&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_FQ1216ME
comma
l_string|&quot;Philips FQ1216 ME&quot;
)brace
comma
(brace
id|TUNER_TEMIC_4066FY5_PAL_I
comma
l_string|&quot;Temic 4066FY5&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Philips TD1536&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Philips TD1536D&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_NTSC
comma
l_string|&quot;Philips FMR1236&quot;
)brace
comma
multiline_comment|/* mono radio */
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Philips FI1256MP&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Samsung TCPQ9091P&quot;
)brace
comma
(brace
id|TUNER_TEMIC_4006FN5_MULTI_PAL
comma
l_string|&quot;Temic 4006FN5&quot;
)brace
comma
(brace
id|TUNER_TEMIC_4009FR5_PAL
comma
l_string|&quot;Temic 4009FR5&quot;
)brace
comma
(brace
id|TUNER_TEMIC_4046FM5
comma
l_string|&quot;Temic 4046FM5&quot;
)brace
comma
(brace
id|TUNER_TEMIC_4009FN5_MULTI_PAL_FM
comma
l_string|&quot;Temic 4009FN5&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Philips TD1536D_FH_44&quot;
)brace
comma
(brace
id|TUNER_LG_NTSC_FM
comma
l_string|&quot;LG TP18NSR01F&quot;
)brace
comma
(brace
id|TUNER_LG_PAL_FM
comma
l_string|&quot;LG TP18PSB01D&quot;
)brace
comma
(brace
id|TUNER_LG_PAL
comma
l_string|&quot;LG TP18PSB11D&quot;
)brace
comma
(brace
id|TUNER_LG_PAL_I_FM
comma
l_string|&quot;LG TAPC-I001D&quot;
)brace
comma
(brace
id|TUNER_LG_PAL_I
comma
l_string|&quot;LG TAPC-I701D&quot;
)brace
)brace
suffix:semicolon
DECL|function|hauppauge_eeprom
r_static
r_void
id|__devinit
id|hauppauge_eeprom
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
(brace
r_int
id|blk2
comma
id|tuner
comma
id|radio
comma
id|model
suffix:semicolon
r_if
c_cond
(paren
id|eeprom_data
(braket
l_int|0
)braket
op_ne
l_int|0x84
op_logical_or
id|eeprom_data
(braket
l_int|2
)braket
op_ne
l_int|0
)paren
id|printk
c_func
(paren
id|KERN_WARNING
l_string|&quot;bttv%d: Hauppauge eeprom: invalid&bslash;n&quot;
comma
id|btv-&gt;nr
)paren
suffix:semicolon
multiline_comment|/* Block 2 starts after len+3 bytes header */
id|blk2
op_assign
id|eeprom_data
(braket
l_int|1
)braket
op_plus
l_int|3
suffix:semicolon
multiline_comment|/* decode + use some config infos */
id|model
op_assign
id|eeprom_data
(braket
l_int|12
)braket
op_lshift
l_int|8
op_or
id|eeprom_data
(braket
l_int|11
)braket
suffix:semicolon
id|tuner
op_assign
id|eeprom_data
(braket
l_int|9
)braket
suffix:semicolon
id|radio
op_assign
id|eeprom_data
(braket
id|blk2
op_minus
l_int|1
)braket
op_amp
l_int|0x01
suffix:semicolon
r_if
c_cond
(paren
id|tuner
OL
r_sizeof
(paren
id|hauppauge_tuner
)paren
op_div
r_sizeof
(paren
r_struct
id|HAUPPAUGE_TUNER
)paren
)paren
id|btv-&gt;tuner_type
op_assign
id|hauppauge_tuner
(braket
id|tuner
)braket
dot
id|id
suffix:semicolon
r_if
c_cond
(paren
id|radio
)paren
id|btv-&gt;has_radio
op_assign
l_int|1
suffix:semicolon
r_if
c_cond
(paren
id|bttv_verbose
)paren
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;bttv%d: Hauppauge eeprom: model=%d, &quot;
l_string|&quot;tuner=%s (%d), radio=%s&bslash;n&quot;
comma
id|btv-&gt;nr
comma
id|model
comma
id|hauppauge_tuner
(braket
id|tuner
)braket
dot
id|name
comma
id|btv-&gt;tuner_type
comma
id|radio
ques
c_cond
l_string|&quot;yes&quot;
suffix:colon
l_string|&quot;no&quot;
)paren
suffix:semicolon
)brace
multiline_comment|/* ----------------------------------------------------------------------- */
multiline_comment|/* AVermedia specific stuff, from  bktr_card.c                             */
DECL|variable|tuner_0_table
r_int
id|tuner_0_table
(braket
)braket
op_assign
(brace
id|TUNER_PHILIPS_NTSC
comma
id|TUNER_PHILIPS_PAL
comma
id|TUNER_PHILIPS_PAL
comma
id|TUNER_PHILIPS_PAL
comma
id|TUNER_PHILIPS_PAL
comma
id|TUNER_PHILIPS_PAL
comma
id|TUNER_PHILIPS_SECAM
comma
id|TUNER_PHILIPS_SECAM
comma
id|TUNER_PHILIPS_SECAM
comma
id|TUNER_PHILIPS_PAL
)brace
suffix:semicolon
macro_line|#if 0
r_int
id|tuner_0_fm_table
(braket
)braket
op_assign
(brace
id|PHILIPS_FR1236_NTSC
comma
id|PHILIPS_FR1216_PAL
comma
id|PHILIPS_FR1216_PAL
comma
id|PHILIPS_FR1216_PAL
comma
id|PHILIPS_FR1216_PAL
comma
id|PHILIPS_FR1216_PAL
comma
id|PHILIPS_FR1236_SECAM
comma
id|PHILIPS_FR1236_SECAM
comma
id|PHILIPS_FR1236_SECAM
comma
id|PHILIPS_FR1216_PAL
)brace
suffix:semicolon
macro_line|#endif
DECL|variable|tuner_1_table
r_int
id|tuner_1_table
(braket
)braket
op_assign
(brace
id|TUNER_TEMIC_NTSC
comma
id|TUNER_TEMIC_PAL
comma
id|TUNER_TEMIC_PAL
comma
id|TUNER_TEMIC_PAL
comma
id|TUNER_TEMIC_PAL
comma
id|TUNER_TEMIC_PAL
comma
id|TUNER_TEMIC_4012FY5
comma
id|TUNER_TEMIC_4012FY5
comma
singleline_comment|//TUNER_TEMIC_SECAM
id|TUNER_TEMIC_4012FY5
comma
id|TUNER_TEMIC_PAL
)brace
suffix:semicolon
DECL|function|avermedia_eeprom
r_static
r_void
id|__devinit
id|avermedia_eeprom
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
(brace
r_int
id|tuner_make
comma
id|tuner_tv_fm
comma
id|tuner_format
comma
id|tuner
op_assign
l_int|0
comma
id|remote
suffix:semicolon
id|tuner_make
op_assign
(paren
id|eeprom_data
(braket
l_int|0x41
)braket
op_amp
l_int|0x7
)paren
suffix:semicolon
id|tuner_tv_fm
op_assign
(paren
id|eeprom_data
(braket
l_int|0x41
)braket
op_amp
l_int|0x18
)paren
op_rshift
l_int|3
suffix:semicolon
id|tuner_format
op_assign
(paren
id|eeprom_data
(braket
l_int|0x42
)braket
op_amp
l_int|0xf0
)paren
op_rshift
l_int|4
suffix:semicolon
id|remote
op_assign
(paren
id|eeprom_data
(braket
l_int|0x42
)braket
op_amp
l_int|0x01
)paren
suffix:semicolon
r_if
c_cond
(paren
id|tuner_make
op_eq
l_int|0
op_logical_or
id|tuner_make
op_eq
l_int|2
)paren
r_if
c_cond
(paren
id|tuner_format
op_le
l_int|9
)paren
(brace
id|tuner
op_assign
id|tuner_0_table
(braket
id|tuner_format
)braket
suffix:semicolon
)brace
r_if
c_cond
(paren
id|tuner_make
op_eq
l_int|1
)paren
r_if
c_cond
(paren
id|tuner_format
op_le
l_int|9
)paren
(brace
id|tuner
op_assign
id|tuner_1_table
(braket
id|tuner_format
)braket
suffix:semicolon
)brace
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;bttv%d: Avermedia eeprom[0x%02x%02x]: tuner=&quot;
comma
id|btv-&gt;nr
comma
id|eeprom_data
(braket
l_int|0x41
)braket
comma
id|eeprom_data
(braket
l_int|0x42
)braket
)paren
suffix:semicolon
r_if
c_cond
(paren
id|tuner
)paren
(brace
id|btv-&gt;tuner_type
op_assign
id|tuner
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot;%d&quot;
comma
id|tuner
)paren
suffix:semicolon
)brace
r_else
id|printk
c_func
(paren
l_string|&quot;Unknown type&quot;
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot; radio:%s remote control:%s&bslash;n&quot;
comma
id|tuner_tv_fm
ques
c_cond
l_string|&quot;yes&quot;
suffix:colon
l_string|&quot;no&quot;
comma
id|remote
ques
c_cond
l_string|&quot;yes&quot;
suffix:colon
l_string|&quot;no&quot;
)paren
suffix:semicolon
)brace
multiline_comment|/* used on Voodoo TV/FM (Voodoo 200), S0 wired to 0x10000 */
DECL|function|bttv_tda9880_setnorm
r_void
id|bttv_tda9880_setnorm
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
id|norm
)paren
(brace
singleline_comment|// fix up our card entry
r_if
c_cond
(paren
id|norm
op_eq
id|VIDEO_MODE_NTSC
)paren
(brace
id|bttv_tvcards
(braket
id|BTTV_VOODOOTV_FM
)braket
dot
id|audiomux
(braket
l_int|0
)braket
op_assign
l_int|0x957fff
suffix:semicolon
id|bttv_tvcards
(braket
id|BTTV_VOODOOTV_FM
)braket
dot
id|audiomux
(braket
l_int|4
)braket
op_assign
l_int|0x957fff
suffix:semicolon
id|dprintk
c_func
(paren
l_string|&quot;bttv_tda9880_setnorm to NTSC&bslash;n&quot;
)paren
suffix:semicolon
)brace
r_else
(brace
id|bttv_tvcards
(braket
id|BTTV_VOODOOTV_FM
)braket
dot
id|audiomux
(braket
l_int|0
)braket
op_assign
l_int|0x947fff
suffix:semicolon
id|bttv_tvcards
(braket
id|BTTV_VOODOOTV_FM
)braket
dot
id|audiomux
(braket
l_int|4
)braket
op_assign
l_int|0x947fff
suffix:semicolon
id|dprintk
c_func
(paren
l_string|&quot;bttv_tda9880_setnorm to PAL&bslash;n&quot;
)paren
suffix:semicolon
)brace
singleline_comment|// set GPIO according
id|btaor
c_func
(paren
id|bttv_tvcards
(braket
id|btv-&gt;type
)braket
dot
id|audiomux
(braket
id|btv-&gt;audio
)braket
comma
op_complement
id|bttv_tvcards
(braket
id|btv-&gt;type
)braket
dot
id|gpiomask
comma
id|BT848_GPIO_DATA
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * reset/enable the MSP on some Hauppauge cards&n; * Thanks to Ky&#xfffd;sti M&#xfffd;lkki (kmalkki@cc.hut.fi)!&n; *&n; * Hauppauge:  pin  5&n; * Voodoo:     pin 20&n; */
DECL|function|boot_msp34xx
r_static
r_void
id|__devinit
id|boot_msp34xx
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
id|pin
)paren
(brace
r_int
id|mask
op_assign
(paren
l_int|1
op_lshift
id|pin
)paren
suffix:semicolon
id|btaor
c_func
(paren
id|mask
comma
op_complement
id|mask
comma
id|BT848_GPIO_OUT_EN
)paren
suffix:semicolon
id|btaor
c_func
(paren
l_int|0
comma
op_complement
id|mask
comma
id|BT848_GPIO_DATA
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|2500
)paren
suffix:semicolon
id|btaor
c_func
(paren
id|mask
comma
op_complement
id|mask
comma
id|BT848_GPIO_DATA
)paren
suffix:semicolon
r_if
c_cond
(paren
id|bttv_gpio
)paren
id|bttv_gpio_tracking
c_func
(paren
id|btv
comma
l_string|&quot;msp34xx&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|bttv_verbose
)paren
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;bttv%d: Hauppauge/Voodoo msp34xx: reset line &quot;
l_string|&quot;init [%d]&bslash;n&quot;
comma
id|btv-&gt;nr
comma
id|pin
)paren
suffix:semicolon
)brace
multiline_comment|/* ----------------------------------------------------------------------- */
multiline_comment|/*  Imagenation L-Model PXC200 Framegrabber */
multiline_comment|/*  This is basically the same procedure as &n; *  used by Alessandro Rubini in his pxc200 &n; *  driver, but using BTTV functions */
DECL|function|init_PXC200
r_static
r_void
id|__devinit
id|init_PXC200
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
(brace
r_static
r_int
id|vals
(braket
)braket
id|__devinitdata
op_assign
(brace
l_int|0x08
comma
l_int|0x09
comma
l_int|0x0a
comma
l_int|0x0b
comma
l_int|0x0d
comma
l_int|0x0d
comma
l_int|0x01
comma
l_int|0x02
comma
l_int|0x03
comma
l_int|0x04
comma
l_int|0x05
comma
l_int|0x06
comma
l_int|0x00
)brace
suffix:semicolon
r_int
id|i
comma
id|tmp
suffix:semicolon
multiline_comment|/* Initialise GPIO-connevted stuff */
id|btwrite
c_func
(paren
l_int|1
op_lshift
l_int|13
comma
id|BT848_GPIO_OUT_EN
)paren
suffix:semicolon
multiline_comment|/* Reset pin only */
id|btwrite
c_func
(paren
l_int|0
comma
id|BT848_GPIO_DATA
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|3
)paren
suffix:semicolon
id|btwrite
c_func
(paren
l_int|1
op_lshift
l_int|13
comma
id|BT848_GPIO_DATA
)paren
suffix:semicolon
multiline_comment|/* GPIO inputs are pulled up, so no need to drive &n;&t; * reset pin any longer */
id|btwrite
c_func
(paren
l_int|0
comma
id|BT848_GPIO_OUT_EN
)paren
suffix:semicolon
r_if
c_cond
(paren
id|bttv_gpio
)paren
id|bttv_gpio_tracking
c_func
(paren
id|btv
comma
l_string|&quot;pxc200&quot;
)paren
suffix:semicolon
multiline_comment|/*  we could/should try and reset/control the AD pots? but&n;&t;    right now  we simply  turned off the crushing.  Without&n;&t;    this the AGC drifts drifts&n;&t;    remember the EN is reverse logic --&gt;&n;&t;    setting BT848_ADC_AGC_EN disable the AGC&n;&t;    tboult@eecs.lehigh.edu&n;&t;*/
id|btwrite
c_func
(paren
id|BT848_ADC_RESERVED
op_or
id|BT848_ADC_AGC_EN
comma
id|BT848_ADC
)paren
suffix:semicolon
multiline_comment|/*&t;Initialise MAX517 DAC */
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;Setting DAC reference voltage level ...&bslash;n&quot;
)paren
suffix:semicolon
id|bttv_I2CWrite
c_func
(paren
id|btv
comma
l_int|0x5E
comma
l_int|0
comma
l_int|0x80
comma
l_int|1
)paren
suffix:semicolon
multiline_comment|/*&t;Initialise 12C508 PIC */
multiline_comment|/*&t;The I2CWrite and I2CRead commmands are actually to the &n;&t; *&t;same chips - but the R/W bit is included in the address&n;&t; *&t;argument so the numbers are different */
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;Initialising 12C508 PIC chip ...&bslash;n&quot;
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
r_sizeof
(paren
id|vals
)paren
op_div
r_sizeof
(paren
r_int
)paren
suffix:semicolon
id|i
op_increment
)paren
(brace
id|tmp
op_assign
id|bttv_I2CWrite
c_func
(paren
id|btv
comma
l_int|0x1E
comma
id|vals
(braket
id|i
)braket
comma
l_int|0
comma
l_int|1
)paren
suffix:semicolon
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;I2C Write(0x08) = %i&bslash;nI2C Read () = %x&bslash;n&bslash;n&quot;
comma
id|tmp
comma
id|bttv_I2CRead
c_func
(paren
id|btv
comma
l_int|0x1F
comma
l_int|NULL
)paren
)paren
suffix:semicolon
)brace
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;PXC200 Initialised.&bslash;n&quot;
)paren
suffix:semicolon
)brace
multiline_comment|/* ----------------------------------------------------------------------- */
multiline_comment|/* Miro Pro radio stuff -- the tea5757 is connected to some GPIO ports     */
multiline_comment|/*&n; * Copyright (c) 1999 Csaba Halasz &lt;qgehali@uni-miskolc.hu&gt;&n; * This code is placed under the terms of the GNU General Public License&n; *&n; * Brutally hacked by Dan Sheridan &lt;dan.sheridan@contact.org.uk&gt; djs52 8/3/00&n; */
macro_line|#if 0
multiline_comment|/* bus bits on the GPIO port */
mdefine_line|#define TEA_WE&t;&t;&t;6
mdefine_line|#define TEA_DATA&t;&t;9
mdefine_line|#define TEA_CLK&t;&t;&t;8
mdefine_line|#define TEA_MOST&t;&t;7
macro_line|#endif
DECL|macro|BUS_LOW
mdefine_line|#define BUS_LOW(bit) &t;btand(~(bit), BT848_GPIO_DATA)
DECL|macro|BUS_HIGH
mdefine_line|#define BUS_HIGH(bit)&t;btor((bit), BT848_GPIO_DATA)
DECL|macro|BUS_IN
mdefine_line|#define BUS_IN(bit)&t;(btread(BT848_GPIO_DATA) &amp; (bit))
multiline_comment|/* TEA5757 register bits */
DECL|macro|TEA_FREQ
mdefine_line|#define TEA_FREQ&t;&t;0:14
DECL|macro|TEA_BUFFER
mdefine_line|#define TEA_BUFFER&t;&t;15:15
DECL|macro|TEA_SIGNAL_STRENGTH
mdefine_line|#define TEA_SIGNAL_STRENGTH&t;16:17
DECL|macro|TEA_PORT1
mdefine_line|#define TEA_PORT1&t;&t;18:18
DECL|macro|TEA_PORT0
mdefine_line|#define TEA_PORT0&t;&t;19:19
DECL|macro|TEA_BAND
mdefine_line|#define TEA_BAND&t;&t;20:21
DECL|macro|TEA_BAND_FM
mdefine_line|#define TEA_BAND_FM&t;&t;0
DECL|macro|TEA_BAND_MW
mdefine_line|#define TEA_BAND_MW&t;&t;1
DECL|macro|TEA_BAND_LW
mdefine_line|#define TEA_BAND_LW&t;&t;2
DECL|macro|TEA_BAND_SW
mdefine_line|#define TEA_BAND_SW&t;&t;3
DECL|macro|TEA_MONO
mdefine_line|#define TEA_MONO&t;&t;22:22
DECL|macro|TEA_ALLOW_STEREO
mdefine_line|#define TEA_ALLOW_STEREO&t;0
DECL|macro|TEA_FORCE_MONO
mdefine_line|#define TEA_FORCE_MONO&t;&t;1
DECL|macro|TEA_SEARCH_DIRECTION
mdefine_line|#define TEA_SEARCH_DIRECTION&t;23:23
DECL|macro|TEA_SEARCH_DOWN
mdefine_line|#define TEA_SEARCH_DOWN&t;&t;0
DECL|macro|TEA_SEARCH_UP
mdefine_line|#define TEA_SEARCH_UP&t;&t;1
DECL|macro|TEA_STATUS
mdefine_line|#define TEA_STATUS&t;&t;24:24
DECL|macro|TEA_STATUS_TUNED
mdefine_line|#define TEA_STATUS_TUNED&t;0
DECL|macro|TEA_STATUS_SEARCHING
mdefine_line|#define TEA_STATUS_SEARCHING&t;1
multiline_comment|/* Low-level stuff */
DECL|function|tea5757_read
r_static
r_int
id|tea5757_read
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
(brace
r_int
id|value
op_assign
l_int|0
suffix:semicolon
r_int
id|timeout
suffix:semicolon
r_int
id|i
suffix:semicolon
multiline_comment|/* better safe than sorry */
id|btaor
c_func
(paren
(paren
id|btv-&gt;mbox_clk
op_or
id|btv-&gt;mbox_we
)paren
comma
op_complement
id|btv-&gt;mbox_mask
comma
id|BT848_GPIO_OUT_EN
)paren
suffix:semicolon
r_if
c_cond
(paren
id|bttv_gpio
)paren
id|bttv_gpio_tracking
c_func
(paren
id|btv
comma
l_string|&quot;tea5757 read&quot;
)paren
suffix:semicolon
id|BUS_LOW
c_func
(paren
id|btv-&gt;mbox_we
)paren
suffix:semicolon
id|BUS_LOW
c_func
(paren
id|btv-&gt;mbox_clk
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|10
)paren
suffix:semicolon
r_for
c_loop
(paren
id|timeout
op_assign
id|jiffies
op_plus
l_int|10
op_star
id|HZ
suffix:semicolon
id|BUS_IN
c_func
(paren
id|btv-&gt;mbox_data
)paren
op_logical_and
id|time_before
c_func
(paren
id|jiffies
comma
id|timeout
)paren
suffix:semicolon
id|schedule
c_func
(paren
)paren
)paren
(brace
suffix:semicolon
)brace
multiline_comment|/* 10 s */
r_if
c_cond
(paren
id|BUS_IN
c_func
(paren
id|btv-&gt;mbox_data
)paren
)paren
(brace
id|printk
c_func
(paren
id|KERN_WARNING
l_string|&quot;bttv%d: tea5757: read timeout&bslash;n&quot;
comma
id|btv-&gt;nr
)paren
suffix:semicolon
r_return
op_minus
l_int|1
suffix:semicolon
)brace
r_for
c_loop
(paren
id|timeout
op_assign
id|jiffies
op_plus
id|HZ
op_div
l_int|5
suffix:semicolon
id|BUS_IN
c_func
(paren
id|btv-&gt;mbox_data
)paren
op_eq
l_int|1
op_logical_and
id|time_before
c_func
(paren
id|jiffies
comma
id|timeout
)paren
suffix:semicolon
id|schedule
c_func
(paren
)paren
)paren
(brace
suffix:semicolon
)brace
multiline_comment|/* 0.2 s */
id|dprintk
c_func
(paren
l_string|&quot;bttv%d: tea5757:&quot;
comma
id|btv-&gt;nr
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|24
suffix:semicolon
id|i
op_increment
)paren
(brace
id|udelay
c_func
(paren
l_int|5
)paren
suffix:semicolon
id|BUS_HIGH
c_func
(paren
id|btv-&gt;mbox_clk
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|5
)paren
suffix:semicolon
id|dprintk
c_func
(paren
l_string|&quot;%c&quot;
comma
(paren
id|BUS_IN
c_func
(paren
id|btv-&gt;mbox_most
)paren
op_eq
l_int|0
)paren
ques
c_cond
l_char|&squot;T&squot;
suffix:colon
l_char|&squot;-&squot;
)paren
suffix:semicolon
id|BUS_LOW
c_func
(paren
id|btv-&gt;mbox_clk
)paren
suffix:semicolon
id|value
op_lshift_assign
l_int|1
suffix:semicolon
id|value
op_or_assign
(paren
id|BUS_IN
c_func
(paren
id|btv-&gt;mbox_data
)paren
op_eq
l_int|0
)paren
ques
c_cond
l_int|0
suffix:colon
l_int|1
suffix:semicolon
multiline_comment|/* MSB first */
id|dprintk
c_func
(paren
l_string|&quot;%c&quot;
comma
(paren
id|BUS_IN
c_func
(paren
id|btv-&gt;mbox_most
)paren
op_eq
l_int|0
)paren
ques
c_cond
l_char|&squot;S&squot;
suffix:colon
l_char|&squot;M&squot;
)paren
suffix:semicolon
)brace
id|dprintk
c_func
(paren
l_string|&quot;&bslash;nbttv%d: tea5757: read 0x%X&bslash;n&quot;
comma
id|btv-&gt;nr
comma
id|value
)paren
suffix:semicolon
r_return
id|value
suffix:semicolon
)brace
DECL|function|tea5757_write
r_static
r_int
id|tea5757_write
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
id|value
)paren
(brace
r_int
id|i
suffix:semicolon
r_int
id|reg
op_assign
id|value
suffix:semicolon
id|btaor
c_func
(paren
id|btv-&gt;mbox_clk
op_or
id|btv-&gt;mbox_we
op_or
id|btv-&gt;mbox_data
comma
op_complement
id|btv-&gt;mbox_mask
comma
id|BT848_GPIO_OUT_EN
)paren
suffix:semicolon
r_if
c_cond
(paren
id|bttv_gpio
)paren
id|bttv_gpio_tracking
c_func
(paren
id|btv
comma
l_string|&quot;tea5757 write&quot;
)paren
suffix:semicolon
id|dprintk
c_func
(paren
l_string|&quot;bttv%d: tea5757: write 0x%X&bslash;n&quot;
comma
id|btv-&gt;nr
comma
id|value
)paren
suffix:semicolon
id|BUS_LOW
c_func
(paren
id|btv-&gt;mbox_clk
)paren
suffix:semicolon
id|BUS_HIGH
c_func
(paren
id|btv-&gt;mbox_we
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|25
suffix:semicolon
id|i
op_increment
)paren
(brace
r_if
c_cond
(paren
id|reg
op_amp
l_int|0x1000000
)paren
id|BUS_HIGH
c_func
(paren
id|btv-&gt;mbox_data
)paren
suffix:semicolon
r_else
id|BUS_LOW
c_func
(paren
id|btv-&gt;mbox_data
)paren
suffix:semicolon
id|reg
op_lshift_assign
l_int|1
suffix:semicolon
id|BUS_HIGH
c_func
(paren
id|btv-&gt;mbox_clk
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|10
)paren
suffix:semicolon
id|BUS_LOW
c_func
(paren
id|btv-&gt;mbox_clk
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|10
)paren
suffix:semicolon
)brace
id|BUS_LOW
c_func
(paren
id|btv-&gt;mbox_we
)paren
suffix:semicolon
multiline_comment|/* unmute !!! */
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|tea5757_set_freq
r_void
id|tea5757_set_freq
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
r_int
id|freq
)paren
(brace
id|tea5757_write
c_func
(paren
id|btv
comma
l_int|5
op_star
id|freq
op_plus
l_int|0x358
)paren
suffix:semicolon
multiline_comment|/* add 10.7MHz (see docs) */
r_if
c_cond
(paren
id|bttv_debug
)paren
id|tea5757_read
c_func
(paren
id|btv
)paren
suffix:semicolon
)brace
multiline_comment|/* ----------------------------------------------------------------------- */
multiline_comment|/* winview                                                                 */
DECL|function|winview_audio
r_void
id|winview_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
(brace
multiline_comment|/* PT2254A programming Jon Tombs, jon@gte.esi.us.es */
r_int
id|bits_out
comma
id|loops
comma
id|vol
comma
id|data
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|set
)paren
(brace
multiline_comment|/* Fixed by Leandro Lucarella &lt;luca@linuxmendoza.org.ar (07/31/01) */
id|v-&gt;flags
op_or_assign
id|VIDEO_AUDIO_VOLUME
suffix:semicolon
r_return
suffix:semicolon
)brace
multiline_comment|/* 32 levels logarithmic */
id|vol
op_assign
l_int|32
op_minus
(paren
(paren
id|v-&gt;volume
op_rshift
l_int|11
)paren
)paren
suffix:semicolon
multiline_comment|/* units */
id|bits_out
op_assign
(paren
id|PT2254_DBS_IN_2
op_rshift
(paren
id|vol
op_mod
l_int|5
)paren
)paren
suffix:semicolon
multiline_comment|/* tens */
id|bits_out
op_or_assign
(paren
id|PT2254_DBS_IN_10
op_rshift
(paren
id|vol
op_div
l_int|5
)paren
)paren
suffix:semicolon
id|bits_out
op_or_assign
id|PT2254_L_CHANNEL
op_or
id|PT2254_R_CHANNEL
suffix:semicolon
id|data
op_assign
id|btread
c_func
(paren
id|BT848_GPIO_DATA
)paren
suffix:semicolon
id|data
op_and_assign
op_complement
(paren
id|WINVIEW_PT2254_CLK
op_or
id|WINVIEW_PT2254_DATA
op_or
id|WINVIEW_PT2254_STROBE
)paren
suffix:semicolon
r_for
c_loop
(paren
id|loops
op_assign
l_int|17
suffix:semicolon
id|loops
op_ge
l_int|0
suffix:semicolon
id|loops
op_decrement
)paren
(brace
r_if
c_cond
(paren
id|bits_out
op_amp
(paren
l_int|1
op_lshift
id|loops
)paren
)paren
id|data
op_or_assign
id|WINVIEW_PT2254_DATA
suffix:semicolon
r_else
id|data
op_and_assign
op_complement
id|WINVIEW_PT2254_DATA
suffix:semicolon
id|btwrite
c_func
(paren
id|data
comma
id|BT848_GPIO_DATA
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|5
)paren
suffix:semicolon
id|data
op_or_assign
id|WINVIEW_PT2254_CLK
suffix:semicolon
id|btwrite
c_func
(paren
id|data
comma
id|BT848_GPIO_DATA
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|5
)paren
suffix:semicolon
id|data
op_and_assign
op_complement
id|WINVIEW_PT2254_CLK
suffix:semicolon
id|btwrite
c_func
(paren
id|data
comma
id|BT848_GPIO_DATA
)paren
suffix:semicolon
)brace
id|data
op_or_assign
id|WINVIEW_PT2254_STROBE
suffix:semicolon
id|data
op_and_assign
op_complement
id|WINVIEW_PT2254_DATA
suffix:semicolon
id|btwrite
c_func
(paren
id|data
comma
id|BT848_GPIO_DATA
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|10
)paren
suffix:semicolon
id|data
op_and_assign
op_complement
id|WINVIEW_PT2254_STROBE
suffix:semicolon
id|btwrite
c_func
(paren
id|data
comma
id|BT848_GPIO_DATA
)paren
suffix:semicolon
)brace
multiline_comment|/* ----------------------------------------------------------------------- */
multiline_comment|/* mono/stereo control for various cards (which don&squot;t use i2c chips but    */
multiline_comment|/* connect something to the GPIO pins                                      */
r_static
r_void
DECL|function|gvbctv3pci_audio
id|gvbctv3pci_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
(brace
r_int
r_int
id|con
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|set
)paren
(brace
id|btor
c_func
(paren
l_int|0x300
comma
id|BT848_GPIO_OUT_EN
)paren
suffix:semicolon
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_LANG1
)paren
id|con
op_assign
l_int|0x000
suffix:semicolon
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_LANG2
)paren
id|con
op_assign
l_int|0x300
suffix:semicolon
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_STEREO
)paren
id|con
op_assign
l_int|0x200
suffix:semicolon
singleline_comment|//&t;&t;if (v-&gt;mode &amp; VIDEO_SOUND_MONO)
singleline_comment|//&t;&t;&t;con = 0x100;
id|btaor
c_func
(paren
id|con
comma
op_complement
l_int|0x300
comma
id|BT848_GPIO_DATA
)paren
suffix:semicolon
)brace
r_else
(brace
id|v-&gt;mode
op_assign
id|VIDEO_SOUND_STEREO
op_or
id|VIDEO_SOUND_LANG1
op_or
id|VIDEO_SOUND_LANG2
suffix:semicolon
)brace
)brace
multiline_comment|/*&n; * Mario Medina Nussbaum &lt;medisoft@alohabbs.org.mx&gt;&n; *  I discover that on BT848_GPIO_DATA address a byte 0xcce enable stereo,&n; *  0xdde enables mono and 0xccd enables sap&n; *&n; * Petr Vandrovec &lt;VANDROVE@vc.cvut.cz&gt;&n; *  P.S.: At least mask in line above is wrong - GPIO pins 3,2 select&n; *  input/output sound connection, so both must be set for output mode.&n; *&n; * Looks like it&squot;s needed only for the &quot;tvphone&quot;, the &quot;tvphone 98&quot;&n; * handles this with a tda9840&n; *&n; */
r_static
r_void
DECL|function|avermedia_tvphone_audio
id|avermedia_tvphone_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
(brace
r_int
id|val
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|set
)paren
(brace
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_LANG1
)paren
multiline_comment|/* SAP */
id|val
op_assign
l_int|0x02
suffix:semicolon
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_STEREO
)paren
id|val
op_assign
l_int|0x01
suffix:semicolon
r_if
c_cond
(paren
id|val
)paren
(brace
id|btaor
c_func
(paren
id|val
comma
op_complement
l_int|0x03
comma
id|BT848_GPIO_DATA
)paren
suffix:semicolon
r_if
c_cond
(paren
id|bttv_gpio
)paren
id|bttv_gpio_tracking
c_func
(paren
id|btv
comma
l_string|&quot;avermedia&quot;
)paren
suffix:semicolon
)brace
)brace
r_else
(brace
id|v-&gt;mode
op_assign
id|VIDEO_SOUND_MONO
op_or
id|VIDEO_SOUND_STEREO
op_or
id|VIDEO_SOUND_LANG1
suffix:semicolon
r_return
suffix:semicolon
)brace
)brace
multiline_comment|/* Lifetec 9415 handling */
r_static
r_void
DECL|function|lt9415_audio
id|lt9415_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
(brace
r_int
id|val
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|btread
c_func
(paren
id|BT848_GPIO_DATA
)paren
op_amp
l_int|0x4000
)paren
(brace
id|v-&gt;mode
op_assign
id|VIDEO_SOUND_MONO
suffix:semicolon
r_return
suffix:semicolon
)brace
r_if
c_cond
(paren
id|set
)paren
(brace
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_LANG2
)paren
multiline_comment|/* A2 SAP */
id|val
op_assign
l_int|0x0080
suffix:semicolon
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_STEREO
)paren
multiline_comment|/* A2 stereo */
id|val
op_assign
l_int|0x0880
suffix:semicolon
r_if
c_cond
(paren
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_LANG1
)paren
op_logical_or
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_MONO
)paren
)paren
id|val
op_assign
l_int|0
suffix:semicolon
id|btaor
c_func
(paren
id|val
comma
op_complement
l_int|0x0880
comma
id|BT848_GPIO_DATA
)paren
suffix:semicolon
r_if
c_cond
(paren
id|bttv_gpio
)paren
id|bttv_gpio_tracking
c_func
(paren
id|btv
comma
l_string|&quot;lt9415&quot;
)paren
suffix:semicolon
)brace
r_else
(brace
multiline_comment|/* autodetect doesn&squot;t work with this card :-( */
id|v-&gt;mode
op_assign
id|VIDEO_SOUND_MONO
op_or
id|VIDEO_SOUND_STEREO
op_or
id|VIDEO_SOUND_LANG1
op_or
id|VIDEO_SOUND_LANG2
suffix:semicolon
r_return
suffix:semicolon
)brace
)brace
r_static
r_void
DECL|function|terratv_audio
id|terratv_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
(brace
r_int
r_int
id|con
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|set
)paren
(brace
id|btor
c_func
(paren
l_int|0x180000
comma
id|BT848_GPIO_OUT_EN
)paren
suffix:semicolon
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_LANG2
)paren
id|con
op_assign
l_int|0x080000
suffix:semicolon
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_STEREO
)paren
id|con
op_assign
l_int|0x180000
suffix:semicolon
id|btaor
c_func
(paren
id|con
comma
op_complement
l_int|0x180000
comma
id|BT848_GPIO_DATA
)paren
suffix:semicolon
r_if
c_cond
(paren
id|bttv_gpio
)paren
id|bttv_gpio_tracking
c_func
(paren
id|btv
comma
l_string|&quot;terratv&quot;
)paren
suffix:semicolon
)brace
r_else
(brace
id|v-&gt;mode
op_assign
id|VIDEO_SOUND_MONO
op_or
id|VIDEO_SOUND_STEREO
op_or
id|VIDEO_SOUND_LANG1
op_or
id|VIDEO_SOUND_LANG2
suffix:semicolon
)brace
)brace
r_static
r_void
DECL|function|winfast2000_audio
id|winfast2000_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
(brace
r_int
r_int
id|val
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|set
)paren
(brace
multiline_comment|/*btor (0xc32000, BT848_GPIO_OUT_EN);*/
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_MONO
)paren
multiline_comment|/* Mono */
id|val
op_assign
l_int|0x420000
suffix:semicolon
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_LANG1
)paren
multiline_comment|/* Mono */
id|val
op_assign
l_int|0x420000
suffix:semicolon
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_LANG2
)paren
multiline_comment|/* SAP */
id|val
op_assign
l_int|0x410000
suffix:semicolon
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_STEREO
)paren
multiline_comment|/* Stereo */
id|val
op_assign
l_int|0x020000
suffix:semicolon
r_if
c_cond
(paren
id|val
)paren
(brace
id|btaor
c_func
(paren
id|val
comma
op_complement
l_int|0x430000
comma
id|BT848_GPIO_DATA
)paren
suffix:semicolon
r_if
c_cond
(paren
id|bttv_gpio
)paren
id|bttv_gpio_tracking
c_func
(paren
id|btv
comma
l_string|&quot;winfast2000&quot;
)paren
suffix:semicolon
)brace
)brace
r_else
(brace
id|v-&gt;mode
op_assign
id|VIDEO_SOUND_MONO
op_or
id|VIDEO_SOUND_STEREO
op_or
id|VIDEO_SOUND_LANG1
op_or
id|VIDEO_SOUND_LANG2
suffix:semicolon
)brace
)brace
multiline_comment|/*&n; * Dariusz Kowalewski &lt;darekk@automex.pl&gt;&n; * sound control for Prolink PV-BT878P+9B (PixelView PlayTV Pro FM+NICAM&n; * revision 9B has on-board TDA9874A sound decoder).&n; */
r_static
r_void
DECL|function|pvbt878p9b_audio
id|pvbt878p9b_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
(brace
r_int
r_int
id|val
op_assign
l_int|0
suffix:semicolon
macro_line|#if BTTV_VERSION_CODE &gt; KERNEL_VERSION(0,8,0)
r_if
c_cond
(paren
id|btv-&gt;radio_user
)paren
r_return
suffix:semicolon
macro_line|#else
r_if
c_cond
(paren
id|btv-&gt;radio
)paren
r_return
suffix:semicolon
macro_line|#endif
r_if
c_cond
(paren
id|set
)paren
(brace
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_MONO
)paren
(brace
id|val
op_assign
l_int|0x01
suffix:semicolon
)brace
r_if
c_cond
(paren
(paren
id|v-&gt;mode
op_amp
(paren
id|VIDEO_SOUND_LANG1
op_or
id|VIDEO_SOUND_LANG2
)paren
)paren
op_logical_or
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_STEREO
)paren
)paren
(brace
id|val
op_assign
l_int|0x02
suffix:semicolon
)brace
r_if
c_cond
(paren
id|val
)paren
(brace
id|btaor
c_func
(paren
id|val
comma
op_complement
l_int|0x03
comma
id|BT848_GPIO_DATA
)paren
suffix:semicolon
r_if
c_cond
(paren
id|bttv_gpio
)paren
id|bttv_gpio_tracking
c_func
(paren
id|btv
comma
l_string|&quot;pvbt878p9b&quot;
)paren
suffix:semicolon
)brace
)brace
r_else
(brace
id|v-&gt;mode
op_assign
id|VIDEO_SOUND_MONO
op_or
id|VIDEO_SOUND_STEREO
op_or
id|VIDEO_SOUND_LANG1
op_or
id|VIDEO_SOUND_LANG2
suffix:semicolon
)brace
)brace
multiline_comment|/*&n; * Dariusz Kowalewski &lt;darekk@automex.pl&gt;&n; * sound control for FlyVideo 2000S (with tda9874 decoder) &n; * based on pvbt878p9b_audio() - this is not tested, please fix!!!&n; */
r_static
r_void
DECL|function|fv2000s_audio
id|fv2000s_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
(brace
r_int
r_int
id|val
op_assign
l_int|0xffff
suffix:semicolon
macro_line|#if BTTV_VERSION_CODE &gt; KERNEL_VERSION(0,8,0)
r_if
c_cond
(paren
id|btv-&gt;radio_user
)paren
r_return
suffix:semicolon
macro_line|#else
r_if
c_cond
(paren
id|btv-&gt;radio
)paren
r_return
suffix:semicolon
macro_line|#endif
r_if
c_cond
(paren
id|set
)paren
(brace
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_MONO
)paren
(brace
id|val
op_assign
l_int|0x0000
suffix:semicolon
)brace
r_if
c_cond
(paren
(paren
id|v-&gt;mode
op_amp
(paren
id|VIDEO_SOUND_LANG1
op_or
id|VIDEO_SOUND_LANG2
)paren
)paren
op_logical_or
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_STEREO
)paren
)paren
(brace
id|val
op_assign
l_int|0x1080
suffix:semicolon
singleline_comment|//-dk-???: 0x0880, 0x0080, 0x1800 ...
)brace
r_if
c_cond
(paren
id|val
op_ne
l_int|0xffff
)paren
(brace
id|btaor
c_func
(paren
id|val
comma
op_complement
l_int|0x1800
comma
id|BT848_GPIO_DATA
)paren
suffix:semicolon
r_if
c_cond
(paren
id|bttv_gpio
)paren
id|bttv_gpio_tracking
c_func
(paren
id|btv
comma
l_string|&quot;fv2000s&quot;
)paren
suffix:semicolon
)brace
)brace
r_else
(brace
id|v-&gt;mode
op_assign
id|VIDEO_SOUND_MONO
op_or
id|VIDEO_SOUND_STEREO
op_or
id|VIDEO_SOUND_LANG1
op_or
id|VIDEO_SOUND_LANG2
suffix:semicolon
)brace
)brace
multiline_comment|/*&n; * sound control for Canopus WinDVR PCI&n; * Masaki Suzuki &lt;masaki@btree.org&gt;&n; */
r_static
r_void
DECL|function|windvr_audio
id|windvr_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
(brace
r_int
r_int
id|val
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|set
)paren
(brace
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_MONO
)paren
id|val
op_assign
l_int|0x040000
suffix:semicolon
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_LANG1
)paren
id|val
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_LANG2
)paren
id|val
op_assign
l_int|0x100000
suffix:semicolon
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_STEREO
)paren
id|val
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|val
)paren
(brace
id|btaor
c_func
(paren
id|val
comma
op_complement
l_int|0x140000
comma
id|BT848_GPIO_DATA
)paren
suffix:semicolon
r_if
c_cond
(paren
id|bttv_gpio
)paren
id|bttv_gpio_tracking
c_func
(paren
id|btv
comma
l_string|&quot;windvr&quot;
)paren
suffix:semicolon
)brace
)brace
r_else
(brace
id|v-&gt;mode
op_assign
id|VIDEO_SOUND_MONO
op_or
id|VIDEO_SOUND_STEREO
op_or
id|VIDEO_SOUND_LANG1
op_or
id|VIDEO_SOUND_LANG2
suffix:semicolon
)brace
)brace
multiline_comment|/* RemoteVision MX (rv605) muxsel helper [Miguel Freitas]&n; *&n; * This is needed because rv605 don&squot;t use a normal multiplex, but a crosspoint&n; * switch instead (CD22M3494E). This IC can have multiple active connections&n; * between Xn (input) and Yn (output) pins. We need to clear any existing&n; * connection prior to establish a new one, pulsing the STROBE pin.&n; *&n; * The board hardwire Y0 (xpoint) to MUX1 and MUXOUT to Yin.&n; * GPIO pins are wired as:&n; *  GPIO[0:3] - AX[0:3] (xpoint) - P1[0:3] (microcontroler)&n; *  GPIO[4:6] - AY[0:2] (xpoint) - P1[4:6] (microcontroler)&n; *  GPIO[7]   - DATA (xpoint)    - P1[7] (microcontroler)&n; *  GPIO[8]   -                  - P3[5] (microcontroler)&n; *  GPIO[9]   - RESET (xpoint)   - P3[6] (microcontroler)&n; *  GPIO[10]  - STROBE (xpoint)  - P3[7] (microcontroler)&n; *  GPINTR    -                  - P3[4] (microcontroler)&n; *&n; * The microcontroler is a 80C32 like. It should be possible to change xpoint&n; * configuration either directly (as we are doing) or using the microcontroler&n; * which is also wired to I2C interface. I have no further info on the&n; * microcontroler features, one would need to disassembly the firmware.&n; * note: the vendor refused to give any information on this product, all&n; *       that stuff was found using a multimeter! :)&n; */
DECL|function|rv605_muxsel
r_static
r_void
id|rv605_muxsel
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
r_int
id|input
)paren
(brace
multiline_comment|/* reset all conections */
id|btaor
c_func
(paren
l_int|0x200
comma
op_complement
l_int|0x200
comma
id|BT848_GPIO_DATA
)paren
suffix:semicolon
id|mdelay
c_func
(paren
l_int|1
)paren
suffix:semicolon
id|btaor
c_func
(paren
l_int|0x000
comma
op_complement
l_int|0x200
comma
id|BT848_GPIO_DATA
)paren
suffix:semicolon
id|mdelay
c_func
(paren
l_int|1
)paren
suffix:semicolon
multiline_comment|/* create a new conection */
id|btaor
c_func
(paren
l_int|0x080
comma
op_complement
l_int|0x480
comma
id|BT848_GPIO_DATA
)paren
suffix:semicolon
id|btaor
c_func
(paren
l_int|0x480
comma
op_complement
l_int|0x480
comma
id|BT848_GPIO_DATA
)paren
suffix:semicolon
id|mdelay
c_func
(paren
l_int|1
)paren
suffix:semicolon
id|btaor
c_func
(paren
l_int|0x080
comma
op_complement
l_int|0x480
comma
id|BT848_GPIO_DATA
)paren
suffix:semicolon
id|mdelay
c_func
(paren
l_int|1
)paren
suffix:semicolon
)brace
multiline_comment|/* ----------------------------------------------------------------------- */
multiline_comment|/* motherboard chipset specific stuff                                      */
DECL|function|bttv_check_chipset
r_void
id|__devinit
id|bttv_check_chipset
c_func
(paren
r_void
)paren
(brace
r_int
id|pcipci_fail
op_assign
l_int|0
suffix:semicolon
r_struct
id|pci_dev
op_star
id|dev
op_assign
l_int|NULL
suffix:semicolon
multiline_comment|/* for 2.4.x we&squot;ll use the pci quirks (drivers/pci/quirks.c) */
r_if
c_cond
(paren
id|pci_pci_problems
op_amp
id|PCIPCI_FAIL
)paren
id|pcipci_fail
op_assign
l_int|1
suffix:semicolon
r_if
c_cond
(paren
id|pci_pci_problems
op_amp
(paren
id|PCIPCI_TRITON
op_or
id|PCIPCI_NATOMA
op_or
id|PCIPCI_VIAETBF
)paren
)paren
id|triton1
op_assign
l_int|1
suffix:semicolon
r_if
c_cond
(paren
id|pci_pci_problems
op_amp
id|PCIPCI_VSFX
)paren
id|vsfx
op_assign
l_int|1
suffix:semicolon
multiline_comment|/* print which chipset we have */
r_while
c_loop
(paren
(paren
id|dev
op_assign
id|pci_find_class
c_func
(paren
id|PCI_CLASS_BRIDGE_HOST
op_lshift
l_int|8
comma
id|dev
)paren
)paren
)paren
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;bttv: Host bridge is %s&bslash;n&quot;
comma
id|dev-&gt;name
)paren
suffix:semicolon
multiline_comment|/* print warnings about any quirks found */
r_if
c_cond
(paren
id|triton1
)paren
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;bttv: Host bridge needs ETBF enabled.&bslash;n&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|vsfx
)paren
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;bttv: Host bridge needs VSFX enabled.&bslash;n&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|pcipci_fail
)paren
(brace
id|printk
c_func
(paren
id|KERN_WARNING
l_string|&quot;bttv: BT848 and your chipset may not work together.&bslash;n&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
op_minus
l_int|1
op_eq
id|no_overlay
)paren
(brace
id|printk
c_func
(paren
id|KERN_WARNING
l_string|&quot;bttv: going to disable overlay.&bslash;n&quot;
)paren
suffix:semicolon
id|no_overlay
op_assign
l_int|1
suffix:semicolon
)brace
)brace
r_while
c_loop
(paren
(paren
id|dev
op_assign
id|pci_find_device
c_func
(paren
id|PCI_VENDOR_ID_INTEL
comma
id|PCI_DEVICE_ID_INTEL_82441
comma
id|dev
)paren
)paren
)paren
(brace
r_int
r_char
id|b
suffix:semicolon
id|pci_read_config_byte
c_func
(paren
id|dev
comma
l_int|0x53
comma
op_amp
id|b
)paren
suffix:semicolon
r_if
c_cond
(paren
id|bttv_debug
)paren
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;bttv: Host bridge: 82441FX Natoma, &quot;
l_string|&quot;bufcon=0x%02x&bslash;n&quot;
comma
id|b
)paren
suffix:semicolon
)brace
)brace
DECL|function|bttv_handle_chipset
r_int
id|__devinit
id|bttv_handle_chipset
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
(brace
r_int
r_char
id|command
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|triton1
op_logical_and
op_logical_neg
id|vsfx
)paren
r_return
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|bttv_verbose
)paren
(brace
r_if
c_cond
(paren
id|triton1
)paren
id|printk
c_func
(paren
l_string|&quot;bttv%d: enabling ETBF (430FX/VP3 compatibilty)&bslash;n&quot;
comma
id|btv-&gt;nr
)paren
suffix:semicolon
r_if
c_cond
(paren
id|vsfx
op_logical_and
id|btv-&gt;id
op_ge
l_int|878
)paren
id|printk
c_func
(paren
l_string|&quot;bttv%d: enabling VSFX&bslash;n&quot;
comma
id|btv-&gt;nr
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|btv-&gt;id
OL
l_int|878
)paren
(brace
multiline_comment|/* bt848 (mis)uses a bit in the irq mask for etbf */
r_if
c_cond
(paren
id|triton1
)paren
id|btv-&gt;triton1
op_assign
id|BT848_INT_ETBF
suffix:semicolon
)brace
r_else
(brace
multiline_comment|/* bt878 has a bit in the pci config space for it */
id|pci_read_config_byte
c_func
(paren
id|btv-&gt;dev
comma
id|BT878_DEVCTRL
comma
op_amp
id|command
)paren
suffix:semicolon
r_if
c_cond
(paren
id|triton1
)paren
id|command
op_or_assign
id|BT878_EN_TBFX
suffix:semicolon
r_if
c_cond
(paren
id|vsfx
)paren
id|command
op_or_assign
id|BT878_EN_VSFX
suffix:semicolon
id|pci_write_config_byte
c_func
(paren
id|btv-&gt;dev
comma
id|BT878_DEVCTRL
comma
id|command
)paren
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/*&n; * Local variables:&n; * c-basic-offset: 8&n; * End:&n; */
eof
