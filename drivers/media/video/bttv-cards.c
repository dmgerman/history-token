multiline_comment|/*&n;    $Id: bttv-cards.c,v 1.47 2005/02/22 14:06:32 kraxel Exp $&n;&n;    bttv-cards.c&n;&n;    this file has configuration informations - card-specific stuff&n;    like the big tvcards array for the most part&n;&n;    Copyright (C) 1996,97,98 Ralph  Metzler (rjkm@thp.uni-koeln.de)&n;                           &amp; Marcus Metzler (mocm@thp.uni-koeln.de)&n;    (c) 1999-2001 Gerd Knorr &lt;kraxel@goldbach.in-berlin.de&gt;&n;&n;    This program is free software; you can redistribute it and/or modify&n;    it under the terms of the GNU General Public License as published by&n;    the Free Software Foundation; either version 2 of the License, or&n;    (at your option) any later version.&n;&n;    This program is distributed in the hope that it will be useful,&n;    but WITHOUT ANY WARRANTY; without even the implied warranty of&n;    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the&n;    GNU General Public License for more details.&n;&n;    You should have received a copy of the GNU General Public License&n;    along with this program; if not, write to the Free Software&n;    Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.&n;&n;*/
macro_line|#include &lt;linux/config.h&gt;
macro_line|#include &lt;linux/delay.h&gt;
macro_line|#include &lt;linux/module.h&gt;
macro_line|#include &lt;linux/moduleparam.h&gt;
macro_line|#include &lt;linux/kmod.h&gt;
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;linux/pci.h&gt;
macro_line|#include &lt;linux/vmalloc.h&gt;
macro_line|#include &lt;linux/firmware.h&gt;
macro_line|#include &lt;asm/io.h&gt;
macro_line|#include &quot;bttvp.h&quot;
macro_line|#if 0 /* not working yet */
macro_line|#include &quot;bt832.h&quot;
macro_line|#endif
multiline_comment|/* fwd decl */
r_static
r_void
id|boot_msp34xx
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
id|pin
)paren
suffix:semicolon
r_static
r_void
id|boot_bt832
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
suffix:semicolon
r_static
r_void
id|hauppauge_eeprom
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
suffix:semicolon
r_static
r_void
id|avermedia_eeprom
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
suffix:semicolon
r_static
r_void
id|osprey_eeprom
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
suffix:semicolon
r_static
r_void
id|modtec_eeprom
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
suffix:semicolon
r_static
r_void
id|init_PXC200
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
suffix:semicolon
r_static
r_void
id|winview_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
suffix:semicolon
r_static
r_void
id|lt9415_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
suffix:semicolon
r_static
r_void
id|avermedia_tvphone_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
suffix:semicolon
r_static
r_void
id|avermedia_tv_stereo_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
suffix:semicolon
r_static
r_void
id|terratv_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
suffix:semicolon
r_static
r_void
id|gvbctv3pci_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
suffix:semicolon
r_static
r_void
id|gvbctv5pci_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
suffix:semicolon
r_static
r_void
id|winfast2000_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
suffix:semicolon
r_static
r_void
id|pvbt878p9b_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
suffix:semicolon
r_static
r_void
id|fv2000s_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
suffix:semicolon
r_static
r_void
id|windvr_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
suffix:semicolon
r_static
r_void
id|adtvk503_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
suffix:semicolon
r_static
r_void
id|rv605_muxsel
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
r_int
id|input
)paren
suffix:semicolon
r_static
r_void
id|eagle_muxsel
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
r_int
id|input
)paren
suffix:semicolon
r_static
r_void
id|xguard_muxsel
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
r_int
id|input
)paren
suffix:semicolon
r_static
r_void
id|ivc120_muxsel
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
r_int
id|input
)paren
suffix:semicolon
r_static
r_void
id|gvc1100_muxsel
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
r_int
id|input
)paren
suffix:semicolon
r_static
r_void
id|PXC200_muxsel
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
r_int
id|input
)paren
suffix:semicolon
r_static
r_void
id|picolo_tetra_muxsel
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
r_int
id|input
)paren
suffix:semicolon
r_static
r_void
id|picolo_tetra_init
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
suffix:semicolon
r_static
r_void
id|tibetCS16_muxsel
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
r_int
id|input
)paren
suffix:semicolon
r_static
r_void
id|tibetCS16_init
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
suffix:semicolon
r_static
r_void
id|kodicom4400r_muxsel
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
r_int
id|input
)paren
suffix:semicolon
r_static
r_void
id|kodicom4400r_init
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
suffix:semicolon
r_static
r_void
id|sigmaSLC_muxsel
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
r_int
id|input
)paren
suffix:semicolon
r_static
r_void
id|sigmaSQ_muxsel
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
r_int
id|input
)paren
suffix:semicolon
r_static
r_int
id|terratec_active_radio_upgrade
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
suffix:semicolon
r_static
r_int
id|tea5757_read
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
suffix:semicolon
r_static
r_int
id|tea5757_write
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
id|value
)paren
suffix:semicolon
r_static
r_void
id|identify_by_eeprom
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
r_char
id|eeprom_data
(braket
l_int|256
)braket
)paren
suffix:semicolon
r_static
r_int
id|__devinit
id|pvr_boot
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
suffix:semicolon
multiline_comment|/* config variables */
DECL|variable|triton1
r_static
r_int
r_int
id|triton1
op_assign
l_int|0
suffix:semicolon
DECL|variable|vsfx
r_static
r_int
r_int
id|vsfx
op_assign
l_int|0
suffix:semicolon
DECL|variable|latency
r_static
r_int
r_int
id|latency
op_assign
id|UNSET
suffix:semicolon
DECL|variable|no_overlay
r_static
r_int
r_int
id|no_overlay
op_assign
op_minus
l_int|1
suffix:semicolon
DECL|variable|card
r_static
r_int
r_int
id|card
(braket
id|BTTV_MAX
)braket
op_assign
(brace
(braket
l_int|0
dot
dot
dot
(paren
id|BTTV_MAX
op_minus
l_int|1
)paren
)braket
op_assign
id|UNSET
)brace
suffix:semicolon
DECL|variable|pll
r_static
r_int
r_int
id|pll
(braket
id|BTTV_MAX
)braket
op_assign
(brace
(braket
l_int|0
dot
dot
dot
(paren
id|BTTV_MAX
op_minus
l_int|1
)paren
)braket
op_assign
id|UNSET
)brace
suffix:semicolon
DECL|variable|tuner
r_static
r_int
r_int
id|tuner
(braket
id|BTTV_MAX
)braket
op_assign
(brace
(braket
l_int|0
dot
dot
dot
(paren
id|BTTV_MAX
op_minus
l_int|1
)paren
)braket
op_assign
id|UNSET
)brace
suffix:semicolon
DECL|variable|svhs
r_static
r_int
r_int
id|svhs
(braket
id|BTTV_MAX
)braket
op_assign
(brace
(braket
l_int|0
dot
dot
dot
(paren
id|BTTV_MAX
op_minus
l_int|1
)paren
)braket
op_assign
id|UNSET
)brace
suffix:semicolon
DECL|variable|remote
r_static
r_int
r_int
id|remote
(braket
id|BTTV_MAX
)braket
op_assign
(brace
(braket
l_int|0
dot
dot
dot
(paren
id|BTTV_MAX
op_minus
l_int|1
)paren
)braket
op_assign
id|UNSET
)brace
suffix:semicolon
DECL|variable|master
r_static
r_struct
id|bttv
op_star
id|master
(braket
id|BTTV_MAX
)braket
op_assign
(brace
(braket
l_int|0
dot
dot
dot
(paren
id|BTTV_MAX
op_minus
l_int|1
)paren
)braket
op_assign
l_int|NULL
)brace
suffix:semicolon
macro_line|#ifdef MODULE
DECL|variable|autoload
r_static
r_int
r_int
id|autoload
op_assign
l_int|1
suffix:semicolon
macro_line|#else
DECL|variable|autoload
r_static
r_int
r_int
id|autoload
op_assign
l_int|0
suffix:semicolon
macro_line|#endif
DECL|variable|gpiomask
r_static
r_int
r_int
id|gpiomask
op_assign
id|UNSET
suffix:semicolon
DECL|variable|audioall
r_static
r_int
r_int
id|audioall
op_assign
id|UNSET
suffix:semicolon
DECL|variable|audiomux
r_static
r_int
r_int
id|audiomux
(braket
l_int|5
)braket
op_assign
(brace
(braket
l_int|0
dot
dot
dot
l_int|4
)braket
op_assign
id|UNSET
)brace
suffix:semicolon
multiline_comment|/* insmod options */
id|module_param
c_func
(paren
id|triton1
comma
r_int
comma
l_int|0444
)paren
suffix:semicolon
id|module_param
c_func
(paren
id|vsfx
comma
r_int
comma
l_int|0444
)paren
suffix:semicolon
id|module_param
c_func
(paren
id|no_overlay
comma
r_int
comma
l_int|0444
)paren
suffix:semicolon
id|module_param
c_func
(paren
id|latency
comma
r_int
comma
l_int|0444
)paren
suffix:semicolon
id|module_param
c_func
(paren
id|gpiomask
comma
r_int
comma
l_int|0444
)paren
suffix:semicolon
id|module_param
c_func
(paren
id|audioall
comma
r_int
comma
l_int|0444
)paren
suffix:semicolon
id|module_param
c_func
(paren
id|autoload
comma
r_int
comma
l_int|0444
)paren
suffix:semicolon
id|module_param_array
c_func
(paren
id|card
comma
r_int
comma
l_int|NULL
comma
l_int|0444
)paren
suffix:semicolon
id|module_param_array
c_func
(paren
id|pll
comma
r_int
comma
l_int|NULL
comma
l_int|0444
)paren
suffix:semicolon
id|module_param_array
c_func
(paren
id|tuner
comma
r_int
comma
l_int|NULL
comma
l_int|0444
)paren
suffix:semicolon
id|module_param_array
c_func
(paren
id|svhs
comma
r_int
comma
l_int|NULL
comma
l_int|0444
)paren
suffix:semicolon
id|module_param_array
c_func
(paren
id|remote
comma
r_int
comma
l_int|NULL
comma
l_int|0444
)paren
suffix:semicolon
id|module_param_array
c_func
(paren
id|audiomux
comma
r_int
comma
l_int|NULL
comma
l_int|0444
)paren
suffix:semicolon
id|MODULE_PARM_DESC
c_func
(paren
id|triton1
comma
l_string|&quot;set ETBF pci config bit &quot;
l_string|&quot;[enable bug compatibility for triton1 + others]&quot;
)paren
suffix:semicolon
id|MODULE_PARM_DESC
c_func
(paren
id|vsfx
comma
l_string|&quot;set VSFX pci config bit &quot;
l_string|&quot;[yet another chipset flaw workaround]&quot;
)paren
suffix:semicolon
id|MODULE_PARM_DESC
c_func
(paren
id|latency
comma
l_string|&quot;pci latency timer&quot;
)paren
suffix:semicolon
id|MODULE_PARM_DESC
c_func
(paren
id|card
comma
l_string|&quot;specify TV/grabber card model, see CARDLIST file for a list&quot;
)paren
suffix:semicolon
id|MODULE_PARM_DESC
c_func
(paren
id|pll
comma
l_string|&quot;specify installed crystal (0=none, 28=28 MHz, 35=35 MHz)&quot;
)paren
suffix:semicolon
id|MODULE_PARM_DESC
c_func
(paren
id|tuner
comma
l_string|&quot;specify installed tuner type&quot;
)paren
suffix:semicolon
id|MODULE_PARM_DESC
c_func
(paren
id|autoload
comma
l_string|&quot;automatically load i2c modules like tuner.o, default is 1 (yes)&quot;
)paren
suffix:semicolon
multiline_comment|/* ----------------------------------------------------------------------- */
multiline_comment|/* list of card IDs for bt878+ cards                                       */
DECL|struct|CARD
r_static
r_struct
id|CARD
(brace
DECL|member|id
r_int
id|id
suffix:semicolon
DECL|member|cardnr
r_int
id|cardnr
suffix:semicolon
DECL|member|name
r_char
op_star
id|name
suffix:semicolon
DECL|variable|__devinitdata
)brace
id|cards
(braket
)braket
id|__devinitdata
op_assign
(brace
(brace
l_int|0x13eb0070
comma
id|BTTV_HAUPPAUGE878
comma
l_string|&quot;Hauppauge WinTV&quot;
)brace
comma
(brace
l_int|0x39000070
comma
id|BTTV_HAUPPAUGE878
comma
l_string|&quot;Hauppauge WinTV-D&quot;
)brace
comma
(brace
l_int|0x45000070
comma
id|BTTV_HAUPPAUGEPVR
comma
l_string|&quot;Hauppauge WinTV/PVR&quot;
)brace
comma
(brace
l_int|0xff000070
comma
id|BTTV_OSPREY1x0
comma
l_string|&quot;Osprey-100&quot;
)brace
comma
(brace
l_int|0xff010070
comma
id|BTTV_OSPREY2x0_SVID
comma
l_string|&quot;Osprey-200&quot;
)brace
comma
(brace
l_int|0xff020070
comma
id|BTTV_OSPREY500
comma
l_string|&quot;Osprey-500&quot;
)brace
comma
(brace
l_int|0xff030070
comma
id|BTTV_OSPREY2000
comma
l_string|&quot;Osprey-2000&quot;
)brace
comma
(brace
l_int|0xff040070
comma
id|BTTV_OSPREY540
comma
l_string|&quot;Osprey-540&quot;
)brace
comma
(brace
l_int|0x00011002
comma
id|BTTV_ATI_TVWONDER
comma
l_string|&quot;ATI TV Wonder&quot;
)brace
comma
(brace
l_int|0x00031002
comma
id|BTTV_ATI_TVWONDERVE
comma
l_string|&quot;ATI TV Wonder/VE&quot;
)brace
comma
(brace
l_int|0x6606107d
comma
id|BTTV_WINFAST2000
comma
l_string|&quot;Leadtek WinFast TV 2000&quot;
)brace
comma
(brace
l_int|0x6607107d
comma
id|BTTV_WINFASTVC100
comma
l_string|&quot;Leadtek WinFast VC 100&quot;
)brace
comma
(brace
l_int|0x6609107d
comma
id|BTTV_WINFAST2000
comma
l_string|&quot;Leadtek TV 2000 XP&quot;
)brace
comma
(brace
l_int|0x263610b4
comma
id|BTTV_STB2
comma
l_string|&quot;STB TV PCI FM, Gateway P/N 6000704&quot;
)brace
comma
(brace
l_int|0x264510b4
comma
id|BTTV_STB2
comma
l_string|&quot;STB TV PCI FM, Gateway P/N 6000704&quot;
)brace
comma
(brace
l_int|0x402010fc
comma
id|BTTV_GVBCTV3PCI
comma
l_string|&quot;I-O Data Co. GV-BCTV3/PCI&quot;
)brace
comma
(brace
l_int|0x405010fc
comma
id|BTTV_GVBCTV4PCI
comma
l_string|&quot;I-O Data Co. GV-BCTV4/PCI&quot;
)brace
comma
(brace
l_int|0x407010fc
comma
id|BTTV_GVBCTV5PCI
comma
l_string|&quot;I-O Data Co. GV-BCTV5/PCI&quot;
)brace
comma
(brace
l_int|0xd01810fc
comma
id|BTTV_GVBCTV5PCI
comma
l_string|&quot;I-O Data Co. GV-BCTV5/PCI&quot;
)brace
comma
(brace
l_int|0x001211bd
comma
id|BTTV_PINNACLE
comma
l_string|&quot;Pinnacle PCTV&quot;
)brace
comma
singleline_comment|// some cards ship with byteswapped IDs ...
(brace
l_int|0x1200bd11
comma
id|BTTV_PINNACLE
comma
l_string|&quot;Pinnacle PCTV [bswap]&quot;
)brace
comma
(brace
l_int|0xff00bd11
comma
id|BTTV_PINNACLE
comma
l_string|&quot;Pinnacle PCTV [bswap]&quot;
)brace
comma
singleline_comment|// this seems to happen as well ...
(brace
l_int|0xff1211bd
comma
id|BTTV_PINNACLE
comma
l_string|&quot;Pinnacle PCTV&quot;
)brace
comma
(brace
l_int|0x3000121a
comma
id|BTTV_VOODOOTV_FM
comma
l_string|&quot;3Dfx VoodooTV FM/ VoodooTV 200&quot;
)brace
comma
(brace
l_int|0x263710b4
comma
id|BTTV_VOODOOTV_FM
comma
l_string|&quot;3Dfx VoodooTV FM/ VoodooTV 200&quot;
)brace
comma
(brace
l_int|0x3060121a
comma
id|BTTV_STB2
comma
l_string|&quot;3Dfx VoodooTV 100/ STB OEM&quot;
)brace
comma
(brace
l_int|0x3000144f
comma
id|BTTV_MAGICTVIEW063
comma
l_string|&quot;(Askey Magic/others) TView99 CPH06x&quot;
)brace
comma
(brace
l_int|0xa005144f
comma
id|BTTV_MAGICTVIEW063
comma
l_string|&quot;CPH06X TView99-Card&quot;
)brace
comma
(brace
l_int|0x3002144f
comma
id|BTTV_MAGICTVIEW061
comma
l_string|&quot;(Askey Magic/others) TView99 CPH05x&quot;
)brace
comma
(brace
l_int|0x3005144f
comma
id|BTTV_MAGICTVIEW061
comma
l_string|&quot;(Askey Magic/others) TView99 CPH061/06L (T1/LC)&quot;
)brace
comma
(brace
l_int|0x5000144f
comma
id|BTTV_MAGICTVIEW061
comma
l_string|&quot;Askey CPH050&quot;
)brace
comma
(brace
l_int|0x300014ff
comma
id|BTTV_MAGICTVIEW061
comma
l_string|&quot;TView 99 (CPH061)&quot;
)brace
comma
(brace
l_int|0x300214ff
comma
id|BTTV_PHOEBE_TVMAS
comma
l_string|&quot;Phoebe TV Master (CPH060)&quot;
)brace
comma
(brace
l_int|0x00011461
comma
id|BTTV_AVPHONE98
comma
l_string|&quot;AVerMedia TVPhone98&quot;
)brace
comma
(brace
l_int|0x00021461
comma
id|BTTV_AVERMEDIA98
comma
l_string|&quot;AVermedia TVCapture 98&quot;
)brace
comma
(brace
l_int|0x00031461
comma
id|BTTV_AVPHONE98
comma
l_string|&quot;AVerMedia TVPhone98&quot;
)brace
comma
(brace
l_int|0x00041461
comma
id|BTTV_AVERMEDIA98
comma
l_string|&quot;AVerMedia TVCapture 98&quot;
)brace
comma
(brace
l_int|0x03001461
comma
id|BTTV_AVERMEDIA98
comma
l_string|&quot;VDOMATE TV TUNER CARD&quot;
)brace
comma
(brace
l_int|0x1117153b
comma
id|BTTV_TERRATVALUE
comma
l_string|&quot;Terratec TValue (Philips PAL B/G)&quot;
)brace
comma
(brace
l_int|0x1118153b
comma
id|BTTV_TERRATVALUE
comma
l_string|&quot;Terratec TValue (Temic PAL B/G)&quot;
)brace
comma
(brace
l_int|0x1119153b
comma
id|BTTV_TERRATVALUE
comma
l_string|&quot;Terratec TValue (Philips PAL I)&quot;
)brace
comma
(brace
l_int|0x111a153b
comma
id|BTTV_TERRATVALUE
comma
l_string|&quot;Terratec TValue (Temic PAL I)&quot;
)brace
comma
(brace
l_int|0x1123153b
comma
id|BTTV_TERRATVRADIO
comma
l_string|&quot;Terratec TV Radio+&quot;
)brace
comma
(brace
l_int|0x1127153b
comma
id|BTTV_TERRATV
comma
l_string|&quot;Terratec TV+ (V1.05)&quot;
)brace
comma
singleline_comment|// clashes with FlyVideo
singleline_comment|//{ 0x18521852, BTTV_TERRATV,     &quot;Terratec TV+ (V1.10)&quot;    },
(brace
l_int|0x1134153b
comma
id|BTTV_TERRATVALUE
comma
l_string|&quot;Terratec TValue (LR102)&quot;
)brace
comma
(brace
l_int|0x1135153b
comma
id|BTTV_TERRATVALUER
comma
l_string|&quot;Terratec TValue Radio&quot;
)brace
comma
singleline_comment|// LR102
(brace
l_int|0x5018153b
comma
id|BTTV_TERRATVALUE
comma
l_string|&quot;Terratec TValue&quot;
)brace
comma
singleline_comment|// ??
(brace
l_int|0xff3b153b
comma
id|BTTV_TERRATVALUER
comma
l_string|&quot;Terratec TValue Radio&quot;
)brace
comma
singleline_comment|// ??
(brace
l_int|0x400015b0
comma
id|BTTV_ZOLTRIX_GENIE
comma
l_string|&quot;Zoltrix Genie TV&quot;
)brace
comma
(brace
l_int|0x400a15b0
comma
id|BTTV_ZOLTRIX_GENIE
comma
l_string|&quot;Zoltrix Genie TV&quot;
)brace
comma
(brace
l_int|0x400d15b0
comma
id|BTTV_ZOLTRIX_GENIE
comma
l_string|&quot;Zoltrix Genie TV / Radio&quot;
)brace
comma
(brace
l_int|0x401015b0
comma
id|BTTV_ZOLTRIX_GENIE
comma
l_string|&quot;Zoltrix Genie TV / Radio&quot;
)brace
comma
(brace
l_int|0x401615b0
comma
id|BTTV_ZOLTRIX_GENIE
comma
l_string|&quot;Zoltrix Genie TV / Radio&quot;
)brace
comma
(brace
l_int|0x1430aa00
comma
id|BTTV_PV143
comma
l_string|&quot;Provideo PV143A&quot;
)brace
comma
(brace
l_int|0x1431aa00
comma
id|BTTV_PV143
comma
l_string|&quot;Provideo PV143B&quot;
)brace
comma
(brace
l_int|0x1432aa00
comma
id|BTTV_PV143
comma
l_string|&quot;Provideo PV143C&quot;
)brace
comma
(brace
l_int|0x1433aa00
comma
id|BTTV_PV143
comma
l_string|&quot;Provideo PV143D&quot;
)brace
comma
(brace
l_int|0x1433aa03
comma
id|BTTV_PV143
comma
l_string|&quot;Security Eyes&quot;
)brace
comma
(brace
l_int|0x1460aa00
comma
id|BTTV_PV150
comma
l_string|&quot;Provideo PV150A-1&quot;
)brace
comma
(brace
l_int|0x1461aa01
comma
id|BTTV_PV150
comma
l_string|&quot;Provideo PV150A-2&quot;
)brace
comma
(brace
l_int|0x1462aa02
comma
id|BTTV_PV150
comma
l_string|&quot;Provideo PV150A-3&quot;
)brace
comma
(brace
l_int|0x1463aa03
comma
id|BTTV_PV150
comma
l_string|&quot;Provideo PV150A-4&quot;
)brace
comma
(brace
l_int|0x1464aa04
comma
id|BTTV_PV150
comma
l_string|&quot;Provideo PV150B-1&quot;
)brace
comma
(brace
l_int|0x1465aa05
comma
id|BTTV_PV150
comma
l_string|&quot;Provideo PV150B-2&quot;
)brace
comma
(brace
l_int|0x1466aa06
comma
id|BTTV_PV150
comma
l_string|&quot;Provideo PV150B-3&quot;
)brace
comma
(brace
l_int|0x1467aa07
comma
id|BTTV_PV150
comma
l_string|&quot;Provideo PV150B-4&quot;
)brace
comma
(brace
l_int|0xa132ff00
comma
id|BTTV_IVC100
comma
l_string|&quot;IVC-100&quot;
)brace
comma
(brace
l_int|0xa1550000
comma
id|BTTV_IVC200
comma
l_string|&quot;IVC-200&quot;
)brace
comma
(brace
l_int|0xa1550001
comma
id|BTTV_IVC200
comma
l_string|&quot;IVC-200&quot;
)brace
comma
(brace
l_int|0xa1550002
comma
id|BTTV_IVC200
comma
l_string|&quot;IVC-200&quot;
)brace
comma
(brace
l_int|0xa1550003
comma
id|BTTV_IVC200
comma
l_string|&quot;IVC-200&quot;
)brace
comma
(brace
l_int|0xa1550100
comma
id|BTTV_IVC200
comma
l_string|&quot;IVC-200G&quot;
)brace
comma
(brace
l_int|0xa1550101
comma
id|BTTV_IVC200
comma
l_string|&quot;IVC-200G&quot;
)brace
comma
(brace
l_int|0xa1550102
comma
id|BTTV_IVC200
comma
l_string|&quot;IVC-200G&quot;
)brace
comma
(brace
l_int|0xa1550103
comma
id|BTTV_IVC200
comma
l_string|&quot;IVC-200G&quot;
)brace
comma
(brace
l_int|0xa182ff00
comma
id|BTTV_IVC120
comma
l_string|&quot;IVC-120G&quot;
)brace
comma
(brace
l_int|0xa182ff01
comma
id|BTTV_IVC120
comma
l_string|&quot;IVC-120G&quot;
)brace
comma
(brace
l_int|0xa182ff02
comma
id|BTTV_IVC120
comma
l_string|&quot;IVC-120G&quot;
)brace
comma
(brace
l_int|0xa182ff03
comma
id|BTTV_IVC120
comma
l_string|&quot;IVC-120G&quot;
)brace
comma
(brace
l_int|0xa182ff04
comma
id|BTTV_IVC120
comma
l_string|&quot;IVC-120G&quot;
)brace
comma
(brace
l_int|0xa182ff05
comma
id|BTTV_IVC120
comma
l_string|&quot;IVC-120G&quot;
)brace
comma
(brace
l_int|0xa182ff06
comma
id|BTTV_IVC120
comma
l_string|&quot;IVC-120G&quot;
)brace
comma
(brace
l_int|0xa182ff07
comma
id|BTTV_IVC120
comma
l_string|&quot;IVC-120G&quot;
)brace
comma
(brace
l_int|0xa182ff08
comma
id|BTTV_IVC120
comma
l_string|&quot;IVC-120G&quot;
)brace
comma
(brace
l_int|0xa182ff09
comma
id|BTTV_IVC120
comma
l_string|&quot;IVC-120G&quot;
)brace
comma
(brace
l_int|0xa182ff0a
comma
id|BTTV_IVC120
comma
l_string|&quot;IVC-120G&quot;
)brace
comma
(brace
l_int|0xa182ff0b
comma
id|BTTV_IVC120
comma
l_string|&quot;IVC-120G&quot;
)brace
comma
(brace
l_int|0xa182ff0c
comma
id|BTTV_IVC120
comma
l_string|&quot;IVC-120G&quot;
)brace
comma
(brace
l_int|0xa182ff0d
comma
id|BTTV_IVC120
comma
l_string|&quot;IVC-120G&quot;
)brace
comma
(brace
l_int|0xa182ff0e
comma
id|BTTV_IVC120
comma
l_string|&quot;IVC-120G&quot;
)brace
comma
(brace
l_int|0xa182ff0f
comma
id|BTTV_IVC120
comma
l_string|&quot;IVC-120G&quot;
)brace
comma
(brace
l_int|0x41424344
comma
id|BTTV_GRANDTEC
comma
l_string|&quot;GrandTec Multi Capture&quot;
)brace
comma
(brace
l_int|0x01020304
comma
id|BTTV_XGUARD
comma
l_string|&quot;Grandtec Grand X-Guard&quot;
)brace
comma
(brace
l_int|0x18501851
comma
id|BTTV_CHRONOS_VS2
comma
l_string|&quot;FlyVideo 98 (LR50)/ Chronos Video Shuttle II&quot;
)brace
comma
(brace
l_int|0xa0501851
comma
id|BTTV_CHRONOS_VS2
comma
l_string|&quot;FlyVideo 98 (LR50)/ Chronos Video Shuttle II&quot;
)brace
comma
(brace
l_int|0x18511851
comma
id|BTTV_FLYVIDEO98EZ
comma
l_string|&quot;FlyVideo 98EZ (LR51)/ CyberMail AV&quot;
)brace
comma
(brace
l_int|0x18521852
comma
id|BTTV_TYPHOON_TVIEW
comma
l_string|&quot;FlyVideo 98FM (LR50)/ Typhoon TView TV/FM Tuner&quot;
)brace
comma
(brace
l_int|0x41a0a051
comma
id|BTTV_FLYVIDEO_98FM
comma
l_string|&quot;Lifeview FlyVideo 98 LR50 Rev Q&quot;
)brace
comma
(brace
l_int|0x18501f7f
comma
id|BTTV_FLYVIDEO_98
comma
l_string|&quot;Lifeview Flyvideo 98&quot;
)brace
comma
(brace
l_int|0x010115cb
comma
id|BTTV_GMV1
comma
l_string|&quot;AG GMV1&quot;
)brace
comma
(brace
l_int|0x010114c7
comma
id|BTTV_MODTEC_205
comma
l_string|&quot;Modular Technology MM201/MM202/MM205/MM210/MM215 PCTV&quot;
)brace
comma
(brace
l_int|0x10b42636
comma
id|BTTV_HAUPPAUGE878
comma
l_string|&quot;STB ???&quot;
)brace
comma
(brace
l_int|0x217d6606
comma
id|BTTV_WINFAST2000
comma
l_string|&quot;Leadtek WinFast TV 2000&quot;
)brace
comma
(brace
l_int|0xfff6f6ff
comma
id|BTTV_WINFAST2000
comma
l_string|&quot;Leadtek WinFast TV 2000&quot;
)brace
comma
(brace
l_int|0x03116000
comma
id|BTTV_SENSORAY311
comma
l_string|&quot;Sensoray 311&quot;
)brace
comma
(brace
l_int|0x00790e11
comma
id|BTTV_WINDVR
comma
l_string|&quot;Canopus WinDVR PCI&quot;
)brace
comma
(brace
l_int|0xa0fca1a0
comma
id|BTTV_ZOLTRIX
comma
l_string|&quot;Face to Face Tvmax&quot;
)brace
comma
(brace
l_int|0x20007063
comma
id|BTTV_PC_HDTV
comma
l_string|&quot;pcHDTV HD-2000 TV&quot;
)brace
comma
(brace
l_int|0x82b2aa6a
comma
id|BTTV_SIMUS_GVC1100
comma
l_string|&quot;SIMUS GVC1100&quot;
)brace
comma
(brace
l_int|0x146caa0c
comma
id|BTTV_PV951
comma
l_string|&quot;ituner spectra8&quot;
)brace
comma
(brace
l_int|0x200a1295
comma
id|BTTV_PXC200
comma
l_string|&quot;ImageNation PXC200A&quot;
)brace
comma
(brace
l_int|0x40111554
comma
id|BTTV_PV_BT878P_9B
comma
l_string|&quot;Prolink Pixelview PV-BT&quot;
)brace
comma
(brace
l_int|0x17de0a01
comma
id|BTTV_KWORLD
comma
l_string|&quot;Mecer TV/FM/Video Tuner&quot;
)brace
comma
(brace
l_int|0x01051805
comma
id|BTTV_PICOLO_TETRA_CHIP
comma
l_string|&quot;Picolo Tetra Chip #1&quot;
)brace
comma
(brace
l_int|0x01061805
comma
id|BTTV_PICOLO_TETRA_CHIP
comma
l_string|&quot;Picolo Tetra Chip #2&quot;
)brace
comma
(brace
l_int|0x01071805
comma
id|BTTV_PICOLO_TETRA_CHIP
comma
l_string|&quot;Picolo Tetra Chip #3&quot;
)brace
comma
(brace
l_int|0x01081805
comma
id|BTTV_PICOLO_TETRA_CHIP
comma
l_string|&quot;Picolo Tetra Chip #4&quot;
)brace
comma
singleline_comment|// likely broken, vendor id doesn&squot;t match the other magic views ...
singleline_comment|//{ 0xa0fca04f, BTTV_MAGICTVIEW063, &quot;Guillemot Maxi TV Video 3&quot; },
singleline_comment|// DVB cards (using pci function .1 for mpeg data xfer)
(brace
l_int|0x01010071
comma
id|BTTV_NEBULA_DIGITV
comma
l_string|&quot;Nebula Electronics DigiTV&quot;
)brace
comma
(brace
l_int|0x07611461
comma
id|BTTV_AVDVBT_761
comma
l_string|&quot;AverMedia AverTV DVB-T 761&quot;
)brace
comma
(brace
l_int|0x001c11bd
comma
id|BTTV_PINNACLESAT
comma
l_string|&quot;Pinnacle PCTV Sat&quot;
)brace
comma
(brace
l_int|0x002611bd
comma
id|BTTV_TWINHAN_DST
comma
l_string|&quot;Pinnacle PCTV SAT CI&quot;
)brace
comma
(brace
l_int|0x00011822
comma
id|BTTV_TWINHAN_DST
comma
l_string|&quot;Twinhan VisionPlus DVB&quot;
)brace
comma
(brace
l_int|0xfc00270f
comma
id|BTTV_TWINHAN_DST
comma
l_string|&quot;ChainTech digitop DST-1000 DVB-S&quot;
)brace
comma
(brace
l_int|0x07711461
comma
id|BTTV_AVDVBT_771
comma
l_string|&quot;AVermedia AverTV DVB-T 771&quot;
)brace
comma
(brace
l_int|0xdb1018ac
comma
id|BTTV_DVICO_DVBT_LITE
comma
l_string|&quot;DVICO FusionHDTV DVB-T Lite&quot;
)brace
comma
(brace
l_int|0
comma
op_minus
l_int|1
comma
l_int|NULL
)brace
)brace
suffix:semicolon
multiline_comment|/* ----------------------------------------------------------------------- */
multiline_comment|/* array with description for bt848 / bt878 tv/grabber cards               */
DECL|variable|bttv_tvcards
r_struct
id|tvcard
id|bttv_tvcards
(braket
)braket
op_assign
(brace
(brace
multiline_comment|/* ---- card 0x00 ---------------------------------- */
dot
id|name
op_assign
l_string|&quot; *** UNKNOWN/GENERIC *** &quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|0
)brace
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;MIRO PCTV&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|15
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|2
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|10
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Hauppauge (bt848)&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|7
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
comma
l_int|1
comma
l_int|2
comma
l_int|3
comma
l_int|4
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;STB, Gateway P/N 6000699 (bt848)&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|7
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|4
comma
l_int|0
comma
l_int|2
comma
l_int|3
comma
l_int|1
)brace
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|tuner_type
op_assign
id|TUNER_PHILIPS_NTSC
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|has_radio
op_assign
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x04 ---------------------------------- */
dot
id|name
op_assign
l_string|&quot;Intel Create and Share PCI/ Smart Video Recorder III&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|0
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|0
comma
dot
id|tuner_type
op_assign
l_int|4
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Diamond DTV2000&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|3
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|0
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
comma
l_int|1
comma
l_int|0
comma
l_int|1
comma
l_int|3
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;AVerMedia TVPhone&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|3
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|gpiomask
op_assign
l_int|0x0f
comma
dot
id|audiomux
op_assign
(brace
l_int|0x0c
comma
l_int|0x04
comma
l_int|0x08
comma
l_int|0x04
comma
l_int|0
)brace
comma
multiline_comment|/*                0x04 for some cards ?? */
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
dot
id|audio_hook
op_assign
id|avermedia_tvphone_audio
comma
dot
id|has_remote
op_assign
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;MATRIX-Vision MV-Delta&quot;
comma
dot
id|video_inputs
op_assign
l_int|5
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
l_int|3
comma
dot
id|gpiomask
op_assign
l_int|0
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|0
comma
l_int|0
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x08 ---------------------------------- */
dot
id|name
op_assign
l_string|&quot;Lifeview FlyVideo II (Bt848) LR26 / MAXI TV Video PCI2 LR26&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0xc00
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
comma
l_int|0xc00
comma
l_int|0x800
comma
l_int|0x400
comma
l_int|0xc00
comma
l_int|0
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;IMS/IXmicro TurboTV&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|3
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|1
comma
l_int|1
comma
l_int|2
comma
l_int|3
comma
l_int|0
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|0
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
id|TUNER_TEMIC_PAL
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Hauppauge (bt878)&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0x0f
comma
multiline_comment|/* old: 7 */
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|0
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
comma
l_int|1
comma
l_int|2
comma
l_int|3
comma
l_int|4
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;MIRO PCTV pro&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0x3014f
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0x20001
comma
l_int|0x10001
comma
l_int|0
comma
l_int|0
comma
l_int|10
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x0c ---------------------------------- */
dot
id|name
op_assign
l_string|&quot;ADS Technologies Channel Surfer TV (bt848)&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|15
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|13
comma
l_int|14
comma
l_int|11
comma
l_int|7
comma
l_int|0
comma
l_int|0
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;AVerMedia TVCapture 98&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|4
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|15
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|13
comma
l_int|14
comma
l_int|11
comma
l_int|7
comma
l_int|0
comma
l_int|0
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|msp34xx_alt
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
id|TUNER_PHILIPS_PAL
comma
dot
id|audio_hook
op_assign
id|avermedia_tv_stereo_audio
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Aimslab Video Highway Xtreme (VHX)&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|7
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
comma
l_int|2
comma
l_int|1
comma
l_int|3
comma
l_int|4
)brace
comma
multiline_comment|/* old: { 0, 1, 2, 3, 4} */
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Zoltrix TV-Max&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|15
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
comma
l_int|0
comma
l_int|1
comma
l_int|0
comma
l_int|10
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x10 ---------------------------------- */
dot
id|name
op_assign
l_string|&quot;Prolink Pixelview PlayTV (bt878)&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0x01fe00
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
macro_line|#if 0
singleline_comment|// old
dot
id|audiomux
op_assign
(brace
l_int|0x01c000
comma
l_int|0
comma
l_int|0x018000
comma
l_int|0x014000
comma
l_int|0x002000
comma
l_int|0
)brace
comma
macro_line|#else
singleline_comment|// 2003-10-20 by &quot;Anton A. Arapov&quot; &lt;arapov@mail.ru&gt;
dot
id|audiomux
op_assign
(brace
l_int|0x001e00
comma
l_int|0
comma
l_int|0x018000
comma
l_int|0x014000
comma
l_int|0x002000
comma
l_int|0
)brace
comma
macro_line|#endif
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Leadtek WinView 601&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0x8300f8
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
comma
l_int|0
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0x4fa007
comma
l_int|0xcfa007
comma
l_int|0xcfa007
comma
l_int|0xcfa007
comma
l_int|0xcfa007
comma
l_int|0xcfa007
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
dot
id|audio_hook
op_assign
id|winview_audio
comma
dot
id|has_radio
op_assign
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;AVEC Intercapture&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|2
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|1
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Lifeview FlyVideo II EZ /FlyKit LR38 Bt848 (capture only)&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
op_minus
l_int|1
comma
dot
id|gpiomask
op_assign
l_int|0x8dff00
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
)brace
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x14 ---------------------------------- */
dot
id|name
op_assign
l_string|&quot;CEI Raffles Card&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|3
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Lifeview FlyVideo 98/ Lucky Star Image World ConferenceTV LR50&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|2
comma
singleline_comment|// tuner, line in
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0x1800
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
comma
l_int|0x800
comma
l_int|0x1000
comma
l_int|0x1000
comma
l_int|0x1800
)brace
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
id|TUNER_PHILIPS_PAL_I
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Askey CPH050/ Phoebe Tv Master + FM&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0xc00
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
comma
l_int|1
comma
l_int|0x800
comma
l_int|0x400
comma
l_int|0xc00
comma
l_int|0
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Modular Technology MM201/MM202/MM205/MM210/MM215 PCTV, bt878&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
op_minus
l_int|1
comma
dot
id|gpiomask
op_assign
l_int|7
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
op_minus
l_int|1
)brace
comma
dot
id|digital_mode
op_assign
id|DIGITAL_MODE_CAMERA
comma
dot
id|audiomux
op_assign
(brace
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
)brace
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
id|TUNER_ALPS_TSBB5_PAL_I
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x18 ---------------------------------- */
dot
id|name
op_assign
l_string|&quot;Askey CPH05X/06X (bt878) [many vendors]&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0xe00
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0x400
comma
l_int|0x400
comma
l_int|0x400
comma
l_int|0x400
comma
l_int|0xc00
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
dot
id|has_remote
op_assign
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Terratec TerraTV+ Version 1.0 (Bt848)/ Terra TValue Version 1.0/ Vobis TV-Boostar&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0x1f0fff
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0x20000
comma
l_int|0x30000
comma
l_int|0x10000
comma
l_int|0
comma
l_int|0x40000
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|0
comma
dot
id|tuner_type
op_assign
id|TUNER_PHILIPS_PAL
comma
dot
id|audio_hook
op_assign
id|terratv_audio
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Hauppauge WinCam newer (bt878)&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|3
comma
dot
id|gpiomask
op_assign
l_int|7
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|0
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
comma
l_int|1
comma
l_int|2
comma
l_int|3
comma
l_int|4
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Lifeview FlyVideo 98/ MAXI TV Video PCI2 LR50&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|2
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0x1800
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
comma
l_int|0x800
comma
l_int|0x1000
comma
l_int|0x1000
comma
l_int|0x1800
)brace
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
id|TUNER_PHILIPS_SECAM
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x1c ---------------------------------- */
dot
id|name
op_assign
l_string|&quot;Terratec TerraTV+ Version 1.1 (bt878)&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0x1f0fff
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0x20000
comma
l_int|0x30000
comma
l_int|0x10000
comma
l_int|0x00000
comma
l_int|0x40000
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|0
comma
dot
id|tuner_type
op_assign
id|TUNER_PHILIPS_PAL
comma
dot
id|audio_hook
op_assign
id|terratv_audio
comma
multiline_comment|/* GPIO wiring:&n;               External 20 pin connector (for Active Radio Upgrade board)&n;               gpio00: i2c-sda&n;               gpio01: i2c-scl&n;               gpio02: om5610-data&n;               gpio03: om5610-clk&n;               gpio04: om5610-wre&n;               gpio05: om5610-stereo&n;               gpio06: rds6588-davn&n;               gpio07: Pin 7 n.c.&n;               gpio08: nIOW&n;               gpio09+10: nIOR, nSEL ?? (bt878)&n;                gpio09: nIOR (bt848)&n;                gpio10: nSEL (bt848)&n;              Sound Routing:&n;               gpio16: u2-A0 (1st 4052bt)&n;               gpio17: u2-A1&n;               gpio18: u2-nEN&n;               gpio19: u4-A0 (2nd 4052)&n;               gpio20: u4-A1&n;                       u4-nEN - GND&n;&t;    Btspy:&n;&t;  &t;00000 : Cdrom (internal audio input)&n;&t;&t;10000 : ext. Video audio input&n;&t;&t;20000 : TV Mono&n;&t;&t;a0000 : TV Mono/2&n;&t;       1a0000 : TV Stereo&n;&t;&t;30000 : Radio&n;&t;&t;40000 : Mute&n;       */
)brace
comma
(brace
multiline_comment|/* Jannik Fritsch &lt;jannik@techfak.uni-bielefeld.de&gt; */
dot
id|name
op_assign
l_string|&quot;Imagenation PXC200&quot;
comma
dot
id|video_inputs
op_assign
l_int|5
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
l_int|1
comma
multiline_comment|/* was: 4 */
dot
id|gpiomask
op_assign
l_int|0
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|0
comma
l_int|0
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
dot
id|muxsel_hook
op_assign
id|PXC200_muxsel
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Lifeview FlyVideo 98 LR50&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0x1800
comma
singleline_comment|//0x8dfe00
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
comma
l_int|0x0800
comma
l_int|0x1000
comma
l_int|0x1000
comma
l_int|0x1800
comma
l_int|0
)brace
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Formac iProTV, Formac ProTV I (bt848)&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|3
comma
dot
id|gpiomask
op_assign
l_int|1
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|1
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
)brace
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
id|TUNER_PHILIPS_PAL
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x20 ---------------------------------- */
dot
id|name
op_assign
l_string|&quot;Intel Create and Share PCI/ Smart Video Recorder III&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|0
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|0
comma
dot
id|tuner_type
op_assign
l_int|4
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Terratec TerraTValue Version Bt878&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0xffff00
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0x500
comma
l_int|0
comma
l_int|0x300
comma
l_int|0x900
comma
l_int|0x900
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
id|TUNER_PHILIPS_PAL
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Leadtek WinFast 2000/ WinFast 2000 XP&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
comma
l_int|0
)brace
comma
singleline_comment|// TV, CVid, SVid, CVid over SVid connector
macro_line|#if 0
dot
id|gpiomask
op_assign
l_int|0xc33000
comma
dot
id|audiomux
op_assign
(brace
l_int|0x422000
comma
l_int|0x1000
comma
l_int|0x0000
comma
l_int|0x620000
comma
l_int|0x800000
)brace
comma
macro_line|#else
multiline_comment|/* Alexander Varakin &lt;avarakin@hotmail.com&gt; [stereo version] */
dot
id|gpiomask
op_assign
l_int|0xb33000
comma
dot
id|audiomux
op_assign
(brace
l_int|0x122000
comma
l_int|0x1000
comma
l_int|0x0000
comma
l_int|0x620000
comma
l_int|0x800000
)brace
comma
macro_line|#endif
multiline_comment|/* Audio Routing for &quot;WinFast 2000 XP&quot; (no tv stereo !)&n;&t;&t;gpio23 -- hef4052:nEnable (0x800000)&n;&t;&t;gpio12 -- hef4052:A1&n;&t;        gpio13 -- hef4052:A0&n;&t;    0x0000: external audio&n;&t;    0x1000: FM&n;&t;    0x2000: TV&n;&t;    0x3000: n.c.&n;          Note: There exists another variant &quot;Winfast 2000&quot; with tv stereo !?&n;&t;  Note: eeprom only contains FF and pci subsystem id 107d:6606&n;&t; */
dot
id|needs_tvaudio
op_assign
l_int|0
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|has_radio
op_assign
l_int|1
comma
dot
id|tuner_type
op_assign
l_int|5
comma
singleline_comment|// default for now, gpio reads BFFF06 for Pal bg+dk
dot
id|audio_hook
op_assign
id|winfast2000_audio
comma
dot
id|has_remote
op_assign
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Lifeview FlyVideo 98 LR50 / Chronos Video Shuttle II&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|3
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0x1800
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
comma
l_int|0x800
comma
l_int|0x1000
comma
l_int|0x1000
comma
l_int|0x1800
)brace
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x24 ---------------------------------- */
dot
id|name
op_assign
l_string|&quot;Lifeview FlyVideo 98FM LR50 / Typhoon TView TV/FM Tuner&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|3
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0x1800
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
comma
l_int|0x800
comma
l_int|0x1000
comma
l_int|0x1000
comma
l_int|0x1800
comma
l_int|0
)brace
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
dot
id|has_radio
op_assign
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Prolink PixelView PlayTV pro&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0xff
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0x21
comma
l_int|0x20
comma
l_int|0x24
comma
l_int|0x2c
comma
l_int|0x29
comma
l_int|0x29
)brace
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Askey CPH06X TView99&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0x551e00
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|0
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0x551400
comma
l_int|0x551200
comma
l_int|0
comma
l_int|0
comma
l_int|0x551c00
comma
l_int|0x551200
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
l_int|1
comma
dot
id|has_remote
op_assign
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Pinnacle PCTV Studio/Rave&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0x03000F
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|2
comma
l_int|0xd0001
comma
l_int|0
comma
l_int|0
comma
l_int|1
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|0
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x28 ---------------------------------- */
dot
id|name
op_assign
l_string|&quot;STB TV PCI FM, Gateway P/N 6000704 (bt878), 3Dfx VoodooTV 100&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|7
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|4
comma
l_int|0
comma
l_int|2
comma
l_int|3
comma
l_int|1
)brace
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|tuner_type
op_assign
id|TUNER_PHILIPS_NTSC
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|has_radio
op_assign
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;AVerMedia TVPhone 98&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|4
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|15
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|13
comma
l_int|4
comma
l_int|11
comma
l_int|7
comma
l_int|0
comma
l_int|0
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
dot
id|has_radio
op_assign
l_int|1
comma
dot
id|audio_hook
op_assign
id|avermedia_tvphone_audio
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;ProVideo PV951&quot;
comma
multiline_comment|/* pic16c54 */
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Little OnAir TV&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0xe00b
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0xff9ff6
comma
l_int|0xff9ff6
comma
l_int|0xff1ff7
comma
l_int|0
comma
l_int|0xff3ffc
)brace
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x2c ---------------------------------- */
dot
id|name
op_assign
l_string|&quot;Sigma TVII-FM&quot;
comma
dot
id|video_inputs
op_assign
l_int|2
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
op_minus
l_int|1
comma
dot
id|gpiomask
op_assign
l_int|3
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|1
comma
l_int|1
comma
l_int|0
comma
l_int|2
comma
l_int|3
)brace
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_NONE
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;MATRIX-Vision MV-Delta 2&quot;
comma
dot
id|video_inputs
op_assign
l_int|5
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
l_int|3
comma
dot
id|gpiomask
op_assign
l_int|0
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|0
comma
l_int|0
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
)brace
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Zoltrix Genie TV/FM&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0xbcf03f
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0xbc803f
comma
l_int|0xbc903f
comma
l_int|0xbcb03f
comma
l_int|0
comma
l_int|0xbcb03f
)brace
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
l_int|21
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Terratec TV/Radio+&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0x70000
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0x20000
comma
l_int|0x30000
comma
l_int|0x10000
comma
l_int|0
comma
l_int|0x40000
comma
l_int|0x20000
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_35
comma
dot
id|tuner_type
op_assign
l_int|1
comma
dot
id|has_radio
op_assign
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x30 ---------------------------------- */
dot
id|name
op_assign
l_string|&quot;Askey CPH03x/ Dynalink Magic TView&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|15
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|2
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|1
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;IODATA GV-BCTV3/PCI&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0x010f00
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|0
comma
l_int|0
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0x10000
comma
l_int|0
comma
l_int|0x10000
comma
l_int|0
comma
l_int|0
comma
l_int|0
)brace
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
id|TUNER_ALPS_TSHC6_NTSC
comma
dot
id|audio_hook
op_assign
id|gvbctv3pci_audio
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Prolink PV-BT878P+4E / PixelView PlayTV PAK / Lenco MXTV-9578 CP&quot;
comma
dot
id|video_inputs
op_assign
l_int|5
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|3
comma
dot
id|gpiomask
op_assign
l_int|0xAA0000
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
comma
op_minus
l_int|1
)brace
comma
dot
id|digital_mode
op_assign
id|DIGITAL_MODE_CAMERA
comma
dot
id|audiomux
op_assign
(brace
l_int|0x20000
comma
l_int|0
comma
l_int|0x80000
comma
l_int|0x80000
comma
l_int|0xa8000
comma
l_int|0x46000
)brace
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
id|TUNER_PHILIPS_PAL_I
comma
dot
id|has_remote
op_assign
l_int|1
comma
multiline_comment|/* GPIO wiring: (different from Rev.4C !)&n;&t;&t;GPIO17: U4.A0 (first hef4052bt)&n;&t;&t;GPIO19: U4.A1&n;&t;&t;GPIO20: U5.A1 (second hef4052bt)&n;&t;&t;GPIO21: U4.nEN&n;&t;&t;GPIO22: BT832 Reset Line&n;&t;&t;GPIO23: A5,A0, U5,nEN&n;&t;   Note: At i2c=0x8a is a Bt832 chip, which changes to 0x88 after being reset via GPIO22&n;&t; */
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Eagle Wireless Capricorn2 (bt878A)&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|7
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|0
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
comma
l_int|1
comma
l_int|2
comma
l_int|3
comma
l_int|4
)brace
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
multiline_comment|/* TUNER_ALPS_TMDH2_NTSC */
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x34 ---------------------------------- */
multiline_comment|/* David H&#xfffd;rdeman &lt;david@2gen.com&gt; */
dot
id|name
op_assign
l_string|&quot;Pinnacle PCTV Studio Pro&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|3
comma
dot
id|gpiomask
op_assign
l_int|0x03000F
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|1
comma
l_int|0xd0001
comma
l_int|0
comma
l_int|0
comma
l_int|10
)brace
comma
multiline_comment|/* sound path (5 sources):&n;&t;&t;&t;   MUX1 (mask 0x03), Enable Pin 0x08 (0=enable, 1=disable)&n;&t;&t;&t;&t;0= ext. Audio IN&n;&t;&t;&t;&t;1= from MUX2&n;&t;&t;&t;&t;2= Mono TV sound from Tuner&n;&t;&t;&t;&t;3= not connected&n;&t;&t;&t;   MUX2 (mask 0x30000):&n;&t;&t;&t;&t;0,2,3= from MSP34xx&n;&t;&t;&t;&t;1= FM stereo Radio from Tuner */
dot
id|needs_tvaudio
op_assign
l_int|0
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* Claas Langbehn &lt;claas@bigfoot.com&gt;,&n;&t;   Sven Grothklags &lt;sven@upb.de&gt; */
dot
id|name
op_assign
l_string|&quot;Typhoon TView RDS + FM Stereo / KNC1 TV Station RDS&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|3
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0x1c
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
comma
l_int|0
comma
l_int|0x10
comma
l_int|8
comma
l_int|4
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
id|TUNER_PHILIPS_PAL
comma
dot
id|has_radio
op_assign
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* Tim R&#xfffd;stermundt &lt;rosterm@uni-muenster.de&gt;&n;&t;   in de.comp.os.unix.linux.hardware:&n;&t;&t;options bttv card=0 pll=1 radio=1 gpiomask=0x18e0&n;&t;&t;audiomux=0x44c71f,0x44d71f,0,0x44d71f,0x44dfff&n;&t;&t;options tuner type=5 */
dot
id|name
op_assign
l_string|&quot;Lifeview FlyVideo 2000 /FlyVideo A2/ Lifetec LT 9415 TV [LR90]&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0x18e0
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0x0000
comma
l_int|0x0800
comma
l_int|0x1000
comma
l_int|0x1000
comma
l_int|0x18e0
)brace
comma
multiline_comment|/* For cards with tda9820/tda9821:&n;&t;&t;&t;  0x0000: Tuner normal stereo&n;&t;&t;&t;  0x0080: Tuner A2 SAP (second audio program = Zweikanalton)&n;&t;&t;&t;  0x0880: Tuner A2 stereo */
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* Miguel Angel Alvarez &lt;maacruz@navegalia.com&gt;&n;&t;   old Easy TV BT848 version (model CPH031) */
dot
id|name
op_assign
l_string|&quot;Askey CPH031/ BESTBUY Easy TV&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0xF
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|0
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|2
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|10
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|0
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
id|TUNER_TEMIC_PAL
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x38 ---------------------------------- */
multiline_comment|/* Gordon Heydon &lt;gjheydon@bigfoot.com (&squot;98) */
dot
id|name
op_assign
l_string|&quot;Lifeview FlyVideo 98FM LR50&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|3
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0x1800
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
comma
l_int|0x800
comma
l_int|0x1000
comma
l_int|0x1000
comma
l_int|0x1800
comma
l_int|0
)brace
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
l_int|5
comma
)brace
comma
(brace
multiline_comment|/* This is the ultimate cheapo capture card&n;&t; * just a BT848A on a small PCB!&n;&t; * Steve Hosgood &lt;steve@equiinet.com&gt; */
dot
id|name
op_assign
l_string|&quot;GrandTec &squot;Grand Video Capture&squot; (Bt848)&quot;
comma
dot
id|video_inputs
op_assign
l_int|2
comma
dot
id|audio_inputs
op_assign
l_int|0
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
l_int|1
comma
dot
id|gpiomask
op_assign
l_int|0
comma
dot
id|muxsel
op_assign
(brace
l_int|3
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|0
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_35
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* Daniel Herrington &lt;daniel.herrington@home.com&gt; */
dot
id|name
op_assign
l_string|&quot;Askey CPH060/ Phoebe TV Master Only (No FM)&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0xe00
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0x400
comma
l_int|0x400
comma
l_int|0x400
comma
l_int|0x400
comma
l_int|0x800
comma
l_int|0x400
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
id|TUNER_TEMIC_4036FY5_NTSC
comma
)brace
comma
(brace
multiline_comment|/* Matti Mottus &lt;mottus@physic.ut.ee&gt; */
dot
id|name
op_assign
l_string|&quot;Askey CPH03x TV Capturer&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0x03000F
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|0
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|2
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|1
)brace
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
l_int|0
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x3c ---------------------------------- */
multiline_comment|/* Philip Blundell &lt;philb@gnu.org&gt; */
dot
id|name
op_assign
l_string|&quot;Modular Technology MM100PCTV&quot;
comma
dot
id|video_inputs
op_assign
l_int|2
comma
dot
id|audio_inputs
op_assign
l_int|2
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
op_minus
l_int|1
comma
dot
id|gpiomask
op_assign
l_int|11
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|2
comma
l_int|0
comma
l_int|0
comma
l_int|1
comma
l_int|8
)brace
comma
dot
id|pll
op_assign
id|PLL_35
comma
dot
id|tuner_type
op_assign
id|TUNER_TEMIC_PAL
comma
)brace
comma
(brace
multiline_comment|/* Adrian Cox &lt;adrian@humboldt.co.uk */
dot
id|name
op_assign
l_string|&quot;AG Electronics GMV1&quot;
comma
dot
id|video_inputs
op_assign
l_int|2
comma
dot
id|audio_inputs
op_assign
l_int|0
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
l_int|1
comma
dot
id|gpiomask
op_assign
l_int|0xF
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|2
)brace
comma
dot
id|audiomux
op_assign
(brace
)brace
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|needs_tvaudio
op_assign
l_int|0
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* Miguel Angel Alvarez &lt;maacruz@navegalia.com&gt;&n;&t;   new Easy TV BT878 version (model CPH061)&n;&t;   special thanks to Informatica Mieres for providing the card */
dot
id|name
op_assign
l_string|&quot;Askey CPH061/ BESTBUY Easy TV (bt878)&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|2
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0xFF
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|0
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|1
comma
l_int|0
comma
l_int|4
comma
l_int|4
comma
l_int|9
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|0
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
id|TUNER_PHILIPS_PAL
comma
)brace
comma
(brace
multiline_comment|/* Lukas Gebauer &lt;geby@volny.cz&gt; */
dot
id|name
op_assign
l_string|&quot;ATI TV-Wonder&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0xf03f
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|0
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0xbffe
comma
l_int|0
comma
l_int|0xbfff
comma
l_int|0
comma
l_int|0xbffe
)brace
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
id|TUNER_TEMIC_4006FN5_MULTI_PAL
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x40 ---------------------------------- */
multiline_comment|/* Lukas Gebauer &lt;geby@volny.cz&gt; */
dot
id|name
op_assign
l_string|&quot;ATI TV-Wonder VE&quot;
comma
dot
id|video_inputs
op_assign
l_int|2
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
op_minus
l_int|1
comma
dot
id|gpiomask
op_assign
l_int|1
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|0
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
comma
l_int|0
comma
l_int|1
comma
l_int|0
comma
l_int|0
)brace
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
id|TUNER_TEMIC_4006FN5_MULTI_PAL
comma
)brace
comma
(brace
multiline_comment|/* DeeJay &lt;deejay@westel900.net (2000S) */
dot
id|name
op_assign
l_string|&quot;Lifeview FlyVideo 2000S LR90&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|3
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0x18e0
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|0
comma
l_int|1
)brace
comma
multiline_comment|/* Radio changed from 1e80 to 0x800 to make&n;&t;&t;&t;   FlyVideo2000S in .hu happy (gm)*/
multiline_comment|/* -dk-???: set mute=0x1800 for tda9874h daughterboard */
dot
id|audiomux
op_assign
(brace
l_int|0x0000
comma
l_int|0x0800
comma
l_int|0x1000
comma
l_int|0x1000
comma
l_int|0x1800
comma
l_int|0x1080
)brace
comma
dot
id|audio_hook
op_assign
id|fv2000s_audio
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|no_tda9875
op_assign
l_int|1
comma
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
l_int|5
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Terratec TValueRadio&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0xffff00
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0x500
comma
l_int|0x500
comma
l_int|0x300
comma
l_int|0x900
comma
l_int|0x900
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
id|TUNER_PHILIPS_PAL
comma
dot
id|has_radio
op_assign
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* TANAKA Kei &lt;peg00625@nifty.com&gt; */
dot
id|name
op_assign
l_string|&quot;IODATA GV-BCTV4/PCI&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0x010f00
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|0
comma
l_int|0
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0x10000
comma
l_int|0
comma
l_int|0x10000
comma
l_int|0
comma
l_int|0
comma
l_int|0
)brace
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
id|TUNER_SHARP_2U5JF5540_NTSC
comma
dot
id|audio_hook
op_assign
id|gvbctv3pci_audio
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x44 ---------------------------------- */
dot
id|name
op_assign
l_string|&quot;3Dfx VoodooTV FM (Euro), VoodooTV 200 (USA)&quot;
comma
singleline_comment|// try &quot;insmod msp3400 simple=0&quot; if you have
singleline_comment|// sound problems with this card.
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
op_minus
l_int|1
comma
dot
id|gpiomask
op_assign
l_int|0x4f8a00
comma
singleline_comment|// 0x100000: 1=MSP enabled (0=disable again)
singleline_comment|// 0x010000: Connected to &quot;S0&quot; on tda9880 (0=Pal/BG, 1=NTSC)
dot
id|audiomux
op_assign
(brace
l_int|0x947fff
comma
l_int|0x987fff
comma
l_int|0x947fff
comma
l_int|0x947fff
comma
l_int|0x947fff
)brace
comma
singleline_comment|// tvtuner, radio,   external,internal, mute,  stereo
multiline_comment|/* tuner, Composit, SVid, Composit-on-Svid-adapter*/
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|0
comma
l_int|1
)brace
comma
dot
id|tuner_type
op_assign
id|TUNER_MT2032
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|has_radio
op_assign
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* Philip Blundell &lt;pb@nexus.co.uk&gt; */
dot
id|name
op_assign
l_string|&quot;Active Imaging AIMMS&quot;
comma
dot
id|video_inputs
op_assign
l_int|1
comma
dot
id|audio_inputs
op_assign
l_int|0
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|muxsel
op_assign
(brace
l_int|2
)brace
comma
dot
id|gpiomask
op_assign
l_int|0
)brace
comma
(brace
multiline_comment|/* Tomasz Pyra &lt;hellfire@sedez.iq.pl&gt; */
dot
id|name
op_assign
l_string|&quot;Prolink Pixelview PV-BT878P+ (Rev.4C,8E)&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|4
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|15
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
comma
l_int|0
comma
l_int|11
comma
l_int|7
comma
l_int|13
comma
l_int|0
)brace
comma
singleline_comment|// TV and Radio with same GPIO !
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
l_int|25
comma
dot
id|has_remote
op_assign
l_int|1
comma
multiline_comment|/* GPIO wiring:&n;&t;&t;GPIO0: U4.A0 (hef4052bt)&n;&t;&t;GPIO1: U4.A1&n;&t;&t;GPIO2: U4.A1 (second hef4052bt)&n;&t;&t;GPIO3: U4.nEN, U5.A0, A5.nEN&n;&t;&t;GPIO8-15: vrd866b ?&n;&t; */
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Lifeview FlyVideo 98EZ (capture only) LR51&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|0
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
singleline_comment|// AV1, AV2, SVHS, CVid adapter on SVHS
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x48 ---------------------------------- */
multiline_comment|/* Dariusz Kowalewski &lt;darekk@automex.pl&gt; */
dot
id|name
op_assign
l_string|&quot;Prolink Pixelview PV-BT878P+9B (PlayTV Pro rev.9B FM+NICAM)&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0x3f
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0x01
comma
l_int|0x00
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x09
comma
l_int|0x02
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|no_tda9875
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
l_int|5
comma
dot
id|audio_hook
op_assign
id|pvbt878p9b_audio
comma
singleline_comment|// Note: not all cards have stereo
dot
id|has_radio
op_assign
l_int|1
comma
singleline_comment|// Note: not all cards have radio
dot
id|has_remote
op_assign
l_int|1
comma
multiline_comment|/* GPIO wiring:&n;&t;&t;GPIO0: A0 hef4052&n;&t;&t;GPIO1: A1 hef4052&n;&t;&t;GPIO3: nEN hef4052&n;&t;&t;GPIO8-15: vrd866b&n;&t;&t;GPIO20,22,23: R30,R29,R28&n;&t; */
)brace
comma
(brace
multiline_comment|/* Clay Kunz &lt;ckunz@mail.arc.nasa.gov&gt; */
multiline_comment|/* you must jumper JP5 for the card to work */
dot
id|name
op_assign
l_string|&quot;Sensoray 311&quot;
comma
dot
id|video_inputs
op_assign
l_int|5
comma
dot
id|audio_inputs
op_assign
l_int|0
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
l_int|4
comma
dot
id|gpiomask
op_assign
l_int|0
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|0
comma
l_int|0
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|0
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* Miguel Freitas &lt;miguel@cetuc.puc-rio.br&gt; */
dot
id|name
op_assign
l_string|&quot;RemoteVision MX (RV605)&quot;
comma
dot
id|video_inputs
op_assign
l_int|16
comma
dot
id|audio_inputs
op_assign
l_int|0
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
op_minus
l_int|1
comma
dot
id|gpiomask
op_assign
l_int|0x00
comma
dot
id|gpiomask2
op_assign
l_int|0x07ff
comma
dot
id|muxsel
op_assign
(brace
l_int|0x33
comma
l_int|0x13
comma
l_int|0x23
comma
l_int|0x43
comma
l_int|0xf3
comma
l_int|0x73
comma
l_int|0xe3
comma
l_int|0x03
comma
l_int|0xd3
comma
l_int|0xb3
comma
l_int|0xc3
comma
l_int|0x63
comma
l_int|0x93
comma
l_int|0x53
comma
l_int|0x83
comma
l_int|0xa3
)brace
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|no_tda9875
op_assign
l_int|1
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
dot
id|muxsel_hook
op_assign
id|rv605_muxsel
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Powercolor MTV878/ MTV878R/ MTV878F&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|2
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0x1C800F
comma
singleline_comment|// Bit0-2: Audio select, 8-12:remote control 14:remote valid 15:remote reset
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|1
comma
l_int|1
comma
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
comma
l_int|1
comma
l_int|2
comma
l_int|2
comma
l_int|4
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|0
comma
dot
id|tuner_type
op_assign
id|TUNER_PHILIPS_PAL
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|has_radio
op_assign
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x4c ---------------------------------- */
multiline_comment|/* Masaki Suzuki &lt;masaki@btree.org&gt; */
dot
id|name
op_assign
l_string|&quot;Canopus WinDVR PCI (COMPAQ Presario 3524JP, 5112JP)&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0x140007
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
comma
l_int|1
comma
l_int|2
comma
l_int|3
comma
l_int|4
comma
l_int|0
)brace
comma
dot
id|tuner_type
op_assign
id|TUNER_PHILIPS_NTSC
comma
dot
id|audio_hook
op_assign
id|windvr_audio
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;GrandTec Multi Capture Card (Bt878)&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|0
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
op_minus
l_int|1
comma
dot
id|gpiomask
op_assign
l_int|0
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|0
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|0
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Jetway TV/Capture JW-TV878-FBK, Kworld KW-TV878RF&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|3
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|7
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
singleline_comment|// Tuner, SVid, SVHS, SVid to SVHS connector
dot
id|audiomux
op_assign
(brace
l_int|0
comma
l_int|0
comma
l_int|4
comma
l_int|4
comma
l_int|4
comma
l_int|4
)brace
comma
singleline_comment|// Yes, this tuner uses the same audio output for TV and FM radio!
singleline_comment|// This card lacks external Audio In, so we mute it on Ext. &amp; Int.
singleline_comment|// The PCB can take a sbx1637/sbx1673, wiring unknown.
singleline_comment|// This card lacks PCI subsystem ID, sigh.
singleline_comment|// audiomux=1: lower volume, 2+3: mute
singleline_comment|// btwincap uses 0x80000/0x80003
dot
id|needs_tvaudio
op_assign
l_int|0
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
l_int|5
comma
singleline_comment|// Samsung TCPA9095PC27A (BG+DK), philips compatible, w/FM, stereo and
singleline_comment|// radio signal strength indicators work fine.
dot
id|has_radio
op_assign
l_int|1
comma
multiline_comment|/* GPIO Info:&n;&t;&t;GPIO0,1:   HEF4052 A0,A1&n;&t;&t;GPIO2:     HEF4052 nENABLE&n;&t;&t;GPIO3-7:   n.c.&n;&t;&t;GPIO8-13:  IRDC357 data0-5 (data6 n.c. ?) [chip not present on my card]&n;&t;&t;GPIO14,15: ??&n;&t;&t;GPIO16-21: n.c.&n;&t;&t;GPIO22,23: ??&n;&t;&t;??       : mtu8b56ep microcontroller for IR (GPIO wiring unknown)*/
)brace
comma
(brace
multiline_comment|/* Arthur Tetzlaff-Deas, DSP Design Ltd &lt;software@dspdesign.com&gt; */
dot
id|name
op_assign
l_string|&quot;DSP Design TCVIDEO&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|svhs
op_assign
op_minus
l_int|1
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|0
)brace
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x50 ---------------------------------- */
dot
id|name
op_assign
l_string|&quot;Hauppauge WinTV PVR&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|0
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
dot
id|gpiomask
op_assign
l_int|7
comma
dot
id|audiomux
op_assign
(brace
l_int|7
)brace
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;IODATA GV-BCTV5/PCI&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0x0f0f80
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|0
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0x030000
comma
l_int|0x010000
comma
l_int|0
comma
l_int|0
comma
l_int|0x020000
comma
l_int|0
)brace
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
id|TUNER_PHILIPS_NTSC_M
comma
dot
id|audio_hook
op_assign
id|gvbctv5pci_audio
comma
dot
id|has_radio
op_assign
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Osprey 100/150 (878)&quot;
comma
multiline_comment|/* 0x1(2|3)-45C6-C1 */
dot
id|video_inputs
op_assign
l_int|4
comma
multiline_comment|/* id-inputs-clock */
dot
id|audio_inputs
op_assign
l_int|0
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
l_int|3
comma
dot
id|muxsel
op_assign
(brace
l_int|3
comma
l_int|2
comma
l_int|0
comma
l_int|1
)brace
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|no_tda9875
op_assign
l_int|1
comma
dot
id|no_tda7432
op_assign
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Osprey 100/150 (848)&quot;
comma
multiline_comment|/* 0x04-54C0-C1 &amp; older boards */
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|0
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
)brace
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|no_tda9875
op_assign
l_int|1
comma
dot
id|no_tda7432
op_assign
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x54 ---------------------------------- */
dot
id|name
op_assign
l_string|&quot;Osprey 101 (848)&quot;
comma
multiline_comment|/* 0x05-40C0-C1 */
dot
id|video_inputs
op_assign
l_int|2
comma
dot
id|audio_inputs
op_assign
l_int|0
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
l_int|1
comma
dot
id|muxsel
op_assign
(brace
l_int|3
comma
l_int|1
)brace
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|no_tda9875
op_assign
l_int|1
comma
dot
id|no_tda7432
op_assign
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Osprey 101/151&quot;
comma
multiline_comment|/* 0x1(4|5)-0004-C4 */
dot
id|video_inputs
op_assign
l_int|1
comma
dot
id|audio_inputs
op_assign
l_int|0
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
op_minus
l_int|1
comma
dot
id|muxsel
op_assign
(brace
l_int|0
)brace
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|no_tda9875
op_assign
l_int|1
comma
dot
id|no_tda7432
op_assign
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Osprey 101/151 w/ svid&quot;
comma
multiline_comment|/* 0x(16|17|20)-00C4-C1 */
dot
id|video_inputs
op_assign
l_int|2
comma
dot
id|audio_inputs
op_assign
l_int|0
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
l_int|1
comma
dot
id|muxsel
op_assign
(brace
l_int|0
comma
l_int|1
)brace
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|no_tda9875
op_assign
l_int|1
comma
dot
id|no_tda7432
op_assign
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Osprey 200/201/250/251&quot;
comma
multiline_comment|/* 0x1(8|9|E|F)-0004-C4 */
dot
id|video_inputs
op_assign
l_int|1
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
op_minus
l_int|1
comma
dot
id|muxsel
op_assign
(brace
l_int|0
)brace
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|no_tda9875
op_assign
l_int|1
comma
dot
id|no_tda7432
op_assign
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x58 ---------------------------------- */
dot
id|name
op_assign
l_string|&quot;Osprey 200/250&quot;
comma
multiline_comment|/* 0x1(A|B)-00C4-C1 */
dot
id|video_inputs
op_assign
l_int|2
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
l_int|1
comma
dot
id|muxsel
op_assign
(brace
l_int|0
comma
l_int|1
)brace
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|no_tda9875
op_assign
l_int|1
comma
dot
id|no_tda7432
op_assign
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Osprey 210/220&quot;
comma
multiline_comment|/* 0x1(A|B)-04C0-C1 */
dot
id|video_inputs
op_assign
l_int|2
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
l_int|1
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
)brace
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|no_tda9875
op_assign
l_int|1
comma
dot
id|no_tda7432
op_assign
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Osprey 500&quot;
comma
multiline_comment|/* 500 */
dot
id|video_inputs
op_assign
l_int|2
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
l_int|1
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
)brace
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|no_tda9875
op_assign
l_int|1
comma
dot
id|no_tda7432
op_assign
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Osprey 540&quot;
comma
multiline_comment|/* 540 */
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
macro_line|#if 0 /* TODO ... */
dot
id|svhs
op_assign
id|OSPREY540_SVID_ANALOG
comma
dot
id|muxsel
op_assign
(brace
(braket
id|OSPREY540_COMP_ANALOG
)braket
op_assign
l_int|2
comma
(braket
id|OSPREY540_SVID_ANALOG
)braket
op_assign
l_int|3
comma
)brace
comma
macro_line|#endif
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|no_tda9875
op_assign
l_int|1
comma
dot
id|no_tda7432
op_assign
l_int|1
comma
macro_line|#if 0 /* TODO ... */
dot
id|muxsel_hook
op_assign
id|osprey_540_muxsel
comma
dot
id|picture_hook
op_assign
id|osprey_540_set_picture
comma
macro_line|#endif
)brace
comma
(brace
multiline_comment|/* ---- card 0x5C ---------------------------------- */
dot
id|name
op_assign
l_string|&quot;Osprey 2000&quot;
comma
multiline_comment|/* 2000 */
dot
id|video_inputs
op_assign
l_int|2
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
l_int|1
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
)brace
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|no_tda9875
op_assign
l_int|1
comma
dot
id|no_tda7432
op_assign
l_int|1
comma
multiline_comment|/* must avoid, conflicts with the bt860 */
)brace
comma
(brace
multiline_comment|/* M G Berberich &lt;berberic@forwiss.uni-passau.de&gt; */
dot
id|name
op_assign
l_string|&quot;IDS Eagle&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|0
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
op_minus
l_int|1
comma
dot
id|gpiomask
op_assign
l_int|0
comma
dot
id|muxsel
op_assign
(brace
l_int|0
comma
l_int|1
comma
l_int|2
comma
l_int|3
)brace
comma
dot
id|muxsel_hook
op_assign
id|eagle_muxsel
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|no_tda9875
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Pinnacle PCTV Sat&quot;
comma
dot
id|video_inputs
op_assign
l_int|2
comma
dot
id|audio_inputs
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|no_tda9875
op_assign
l_int|1
comma
dot
id|no_tda7432
op_assign
l_int|1
comma
dot
id|gpiomask
op_assign
l_int|0x01
comma
dot
id|audiomux
op_assign
(brace
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|1
)brace
comma
dot
id|muxsel
op_assign
(brace
l_int|3
comma
l_int|0
comma
l_int|1
comma
l_int|2
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|0
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|no_gpioirq
op_assign
l_int|1
comma
dot
id|has_dvb
op_assign
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Formac ProTV II (bt878)&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|3
comma
dot
id|gpiomask
op_assign
l_int|2
comma
singleline_comment|// TV, Comp1, Composite over SVID con, SVID
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|2
comma
l_int|2
comma
l_int|0
comma
l_int|0
comma
l_int|0
)brace
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|has_radio
op_assign
l_int|1
comma
dot
id|tuner_type
op_assign
id|TUNER_PHILIPS_PAL
comma
multiline_comment|/* sound routing:&n;           GPIO=0x00,0x01,0x03: mute (?)&n;              0x02: both TV and radio (tuner: FM1216/I)&n;         The card has onboard audio connectors labeled &quot;cdrom&quot; and &quot;board&quot;,&n;&t; not soldered here, though unknown wiring.&n;         Card lacks: external audio in, pci subsystem id.&n;       */
)brace
comma
(brace
multiline_comment|/* ---- card 0x60 ---------------------------------- */
dot
id|name
op_assign
l_string|&quot;MachTV&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
op_minus
l_int|1
comma
dot
id|gpiomask
op_assign
l_int|7
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
comma
l_int|1
comma
l_int|2
comma
l_int|3
comma
l_int|4
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|tuner_type
op_assign
l_int|5
comma
dot
id|pll
op_assign
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Euresys Picolo&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|0
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|no_tda9875
op_assign
l_int|1
comma
dot
id|no_tda7432
op_assign
l_int|1
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|0
comma
l_int|1
)brace
comma
dot
id|pll
op_assign
id|PLL_28
comma
)brace
comma
(brace
multiline_comment|/* Luc Van Hoeylandt &lt;luc@e-magic.be&gt; */
dot
id|name
op_assign
l_string|&quot;ProVideo PV150&quot;
comma
multiline_comment|/* 0x4f */
dot
id|video_inputs
op_assign
l_int|2
comma
dot
id|audio_inputs
op_assign
l_int|0
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
op_minus
l_int|1
comma
dot
id|gpiomask
op_assign
l_int|0
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|0
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* Hiroshi Takekawa &lt;sian@big.or.jp&gt; */
multiline_comment|/* This card lacks subsystem ID */
dot
id|name
op_assign
l_string|&quot;AD-TVK503&quot;
comma
multiline_comment|/* 0x63 */
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0x001e8007
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|0
)brace
comma
multiline_comment|/*                  Tuner, Radio, external, internal, off,  on */
dot
id|audiomux
op_assign
(brace
l_int|0x08
comma
l_int|0x0f
comma
l_int|0x0a
comma
l_int|0x08
comma
l_int|0x0f
comma
l_int|0x08
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|0
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
l_int|2
comma
dot
id|audio_hook
op_assign
id|adtvk503_audio
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x64 ---------------------------------- */
dot
id|name
op_assign
l_string|&quot;Hercules Smart TV Stereo&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0x00
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
l_int|5
comma
multiline_comment|/* Notes:&n;&t;   - card lacks subsystem ID&n;&t;   - stereo variant w/ daughter board with tda9874a @0xb0&n;&t;   - Audio Routing:&n;&t;&t;always from tda9874 independent of GPIO (?)&n;&t;&t;external line in: unknown&n;&t;   - Other chips: em78p156elp @ 0x96 (probably IR remote control)&n;&t;              hef4053 (instead 4052) for unknown function&n;&t;*/
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Pace TV &amp; Radio Card&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
singleline_comment|// Tuner, CVid, SVid, CVid over SVid connector
dot
id|gpiomask
op_assign
l_int|0
comma
dot
id|no_tda9875
op_assign
l_int|1
comma
dot
id|no_tda7432
op_assign
l_int|1
comma
dot
id|tuner_type
op_assign
l_int|1
comma
dot
id|has_radio
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
multiline_comment|/* Bt878, Bt832, FI1246 tuner; no pci subsystem id&n;           only internal line out: (4pin header) RGGL&n;           Radio must be decoded by msp3410d (not routed through)*/
singleline_comment|//         .digital_mode   = DIGITAL_MODE_CAMERA, // todo!
)brace
comma
(brace
multiline_comment|/* Chris Willing &lt;chris@vislab.usyd.edu.au&gt; */
dot
id|name
op_assign
l_string|&quot;IVC-200&quot;
comma
dot
id|video_inputs
op_assign
l_int|1
comma
dot
id|audio_inputs
op_assign
l_int|0
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
op_minus
l_int|1
comma
dot
id|gpiomask
op_assign
l_int|0xdf
comma
dot
id|muxsel
op_assign
(brace
l_int|2
)brace
comma
dot
id|pll
op_assign
id|PLL_28
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Grand X-Guard / Trust 814PCI&quot;
comma
dot
id|video_inputs
op_assign
l_int|16
comma
dot
id|audio_inputs
op_assign
l_int|0
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
op_minus
l_int|1
comma
dot
id|tuner_type
op_assign
l_int|4
comma
dot
id|gpiomask2
op_assign
l_int|0xff
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|2
comma
l_int|2
comma
l_int|2
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|1
comma
l_int|1
comma
l_int|1
comma
l_int|1
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
)brace
comma
dot
id|muxsel_hook
op_assign
id|xguard_muxsel
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|no_tda9875
op_assign
l_int|1
comma
dot
id|no_tda7432
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x68 ---------------------------------- */
dot
id|name
op_assign
l_string|&quot;Nebula Electronics DigiTV&quot;
comma
dot
id|video_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
op_minus
l_int|1
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|0
)brace
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|no_tda9875
op_assign
l_int|1
comma
dot
id|no_tda7432
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
dot
id|has_dvb
op_assign
l_int|1
comma
dot
id|no_gpioirq
op_assign
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* Jorge Boncompte - DTI2 &lt;jorge@dti2.net&gt; */
dot
id|name
op_assign
l_string|&quot;ProVideo PV143&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|0
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
op_minus
l_int|1
comma
dot
id|gpiomask
op_assign
l_int|0
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|0
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|0
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* M.Klahr@phytec.de */
dot
id|name
op_assign
l_string|&quot;PHYTEC VD-009-X1 MiniDIN (bt878)&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|0
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
multiline_comment|/* card has no tuner */
dot
id|svhs
op_assign
l_int|3
comma
dot
id|gpiomask
op_assign
l_int|0x00
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|0
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
)brace
comma
multiline_comment|/* card has no audio */
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;PHYTEC VD-009-X1 Combi (bt878)&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|0
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
multiline_comment|/* card has no tuner */
dot
id|svhs
op_assign
l_int|3
comma
dot
id|gpiomask
op_assign
l_int|0x00
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
)brace
comma
multiline_comment|/* card has no audio */
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x6c ---------------------------------- */
dot
id|name
op_assign
l_string|&quot;PHYTEC VD-009 MiniDIN (bt878)&quot;
comma
dot
id|video_inputs
op_assign
l_int|10
comma
dot
id|audio_inputs
op_assign
l_int|0
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
multiline_comment|/* card has no tuner */
dot
id|svhs
op_assign
l_int|9
comma
dot
id|gpiomask
op_assign
l_int|0x00
comma
dot
id|gpiomask2
op_assign
l_int|0x03
comma
multiline_comment|/* gpiomask2 defines the bits used to switch audio&n;&t;&t;&t;&t;   via the upper nibble of muxsel. here: used for&n;&t;&t;&t;&t;   xternal video-mux */
dot
id|muxsel
op_assign
(brace
l_int|0x02
comma
l_int|0x12
comma
l_int|0x22
comma
l_int|0x32
comma
l_int|0x03
comma
l_int|0x13
comma
l_int|0x23
comma
l_int|0x33
comma
l_int|0x01
comma
l_int|0x00
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
)brace
comma
multiline_comment|/* card has no audio */
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;PHYTEC VD-009 Combi (bt878)&quot;
comma
dot
id|video_inputs
op_assign
l_int|10
comma
dot
id|audio_inputs
op_assign
l_int|0
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
multiline_comment|/* card has no tuner */
dot
id|svhs
op_assign
l_int|9
comma
dot
id|gpiomask
op_assign
l_int|0x00
comma
dot
id|gpiomask2
op_assign
l_int|0x03
comma
multiline_comment|/* gpiomask2 defines the bits used to switch audio&n;&t;&t;&t;&t;   via the upper nibble of muxsel. here: used for&n;&t;&t;&t;&t;   xternal video-mux */
dot
id|muxsel
op_assign
(brace
l_int|0x02
comma
l_int|0x12
comma
l_int|0x22
comma
l_int|0x32
comma
l_int|0x03
comma
l_int|0x13
comma
l_int|0x23
comma
l_int|0x33
comma
l_int|0x01
comma
l_int|0x01
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
)brace
comma
multiline_comment|/* card has no audio */
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;IVC-100&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|0
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
op_minus
l_int|1
comma
dot
id|gpiomask
op_assign
l_int|0xdf
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|0
)brace
comma
dot
id|pll
op_assign
id|PLL_28
comma
)brace
comma
(brace
multiline_comment|/* IVC-120G - Alan Garfield &lt;alan@fromorbit.com&gt; */
dot
id|name
op_assign
l_string|&quot;IVC-120G&quot;
comma
dot
id|video_inputs
op_assign
l_int|16
comma
dot
id|audio_inputs
op_assign
l_int|0
comma
multiline_comment|/* card has no audio */
dot
id|tuner
op_assign
op_minus
l_int|1
comma
multiline_comment|/* card has no tuner */
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
op_minus
l_int|1
comma
multiline_comment|/* card has no svhs */
dot
id|needs_tvaudio
op_assign
l_int|0
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|no_tda9875
op_assign
l_int|1
comma
dot
id|no_tda7432
op_assign
l_int|1
comma
dot
id|gpiomask
op_assign
l_int|0x00
comma
dot
id|muxsel
op_assign
(brace
l_int|0x01
comma
l_int|0x02
comma
l_int|0x03
comma
l_int|0x04
comma
l_int|0x05
comma
l_int|0x06
comma
l_int|0x07
comma
l_int|0x08
comma
l_int|0x09
comma
l_int|0x0a
comma
l_int|0x0b
comma
l_int|0x0c
comma
l_int|0x0d
comma
l_int|0x0e
comma
l_int|0x0f
comma
l_int|0x10
)brace
comma
dot
id|muxsel_hook
op_assign
id|ivc120_muxsel
comma
dot
id|pll
op_assign
id|PLL_28
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x70 ---------------------------------- */
dot
id|name
op_assign
l_string|&quot;pcHDTV HD-2000 TV&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|0
)brace
comma
dot
id|tuner_type
op_assign
id|TUNER_PHILIPS_ATSC
comma
dot
id|has_dvb
op_assign
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Twinhan DST + clones&quot;
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|no_tda9875
op_assign
l_int|1
comma
dot
id|no_tda7432
op_assign
l_int|1
comma
dot
id|tuner_type
op_assign
id|TUNER_ABSENT
comma
dot
id|no_video
op_assign
l_int|1
comma
dot
id|has_dvb
op_assign
l_int|1
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Winfast VC100&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
singleline_comment|// no tuner
dot
id|muxsel
op_assign
(brace
l_int|3
comma
l_int|1
comma
l_int|1
comma
l_int|3
)brace
comma
singleline_comment|// Vid In, SVid In, Vid over SVid in connector
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|no_tda9875
op_assign
l_int|1
comma
dot
id|no_tda7432
op_assign
l_int|1
comma
dot
id|tuner_type
op_assign
id|TUNER_ABSENT
comma
dot
id|no_video
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
)brace
comma
(brace
dot
id|name
op_assign
l_string|&quot;Teppro TEV-560/InterVision IV-560&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|3
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|1
comma
l_int|1
comma
l_int|1
comma
l_int|1
comma
l_int|0
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|tuner_type
op_assign
id|TUNER_PHILIPS_PAL
comma
dot
id|pll
op_assign
id|PLL_35
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x74 ---------------------------------- */
dot
id|name
op_assign
l_string|&quot;SIMUS GVC1100&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|0
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
op_minus
l_int|1
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|2
comma
l_int|2
comma
l_int|2
)brace
comma
dot
id|gpiomask
op_assign
l_int|0x3F
comma
dot
id|muxsel_hook
op_assign
id|gvc1100_muxsel
comma
)brace
comma
(brace
multiline_comment|/* Carlos Silva r3pek@r3pek.homelinux.org || card 0x75 */
dot
id|name
op_assign
l_string|&quot;NGS NGSTV+&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0x008007
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|0
comma
l_int|0
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0x000003
comma
l_int|0
)brace
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
id|TUNER_PHILIPS_PAL
comma
dot
id|has_remote
op_assign
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* http://linuxmedialabs.com */
dot
id|name
op_assign
l_string|&quot;LMLBT4&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
multiline_comment|/* IN1,IN2,IN3,IN4 */
dot
id|audio_inputs
op_assign
l_int|0
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
op_minus
l_int|1
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|0
)brace
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|no_tda9875
op_assign
l_int|1
comma
dot
id|no_tda7432
op_assign
l_int|1
comma
dot
id|needs_tvaudio
op_assign
l_int|0
comma
)brace
comma
(brace
multiline_comment|/* Helmroos Harri &lt;harri.helmroos@pp.inet.fi&gt; */
dot
id|name
op_assign
l_string|&quot;Tekram M205 PRO&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|tuner_type
op_assign
id|TUNER_PHILIPS_PAL
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|needs_tvaudio
op_assign
l_int|0
comma
dot
id|gpiomask
op_assign
l_int|0x68
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0x68
comma
l_int|0x68
comma
l_int|0x61
comma
l_int|0x61
comma
l_int|0x00
)brace
comma
dot
id|pll
op_assign
id|PLL_28
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x78 ---------------------------------- */
multiline_comment|/* Javier Cendan Ares &lt;jcendan@lycos.es&gt; */
multiline_comment|/* bt878 TV + FM without subsystem ID */
dot
id|name
op_assign
l_string|&quot;Conceptronic CONTVFMi&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0x008007
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0
comma
l_int|1
comma
l_int|2
comma
l_int|2
comma
l_int|3
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|0
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
id|TUNER_PHILIPS_PAL
comma
dot
id|has_remote
op_assign
l_int|1
comma
dot
id|has_radio
op_assign
l_int|1
comma
)brace
comma
(brace
multiline_comment|/*Eric DEBIEF &lt;debief@telemsa.com&gt;*/
multiline_comment|/*EURESYS Picolo Tetra : 4 Conexant Fusion 878A, no audio, video input set with analog multiplexers GPIO controled*/
multiline_comment|/* adds picolo_tetra_muxsel(), picolo_tetra_init(), the folowing declaration strucure, and #define BTTV_PICOLO_TETRA_CHIP*/
multiline_comment|/*0x79 in bttv.h*/
dot
id|name
op_assign
l_string|&quot;Euresys Picolo Tetra&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|0
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
op_minus
l_int|1
comma
dot
id|gpiomask
op_assign
l_int|0
comma
dot
id|gpiomask2
op_assign
l_int|0x3C
op_lshift
l_int|16
comma
multiline_comment|/*Set the GPIO[18]-&gt;GPIO[21] as output pin.==&gt; drive the video inputs through analog multiplexers*/
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|no_tda9875
op_assign
l_int|1
comma
dot
id|no_tda7432
op_assign
l_int|1
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|2
comma
l_int|2
comma
l_int|2
)brace
comma
multiline_comment|/*878A input is always MUX0, see above.*/
dot
id|audiomux
op_assign
(brace
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
)brace
comma
multiline_comment|/* card has no audio */
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|needs_tvaudio
op_assign
l_int|0
comma
dot
id|muxsel_hook
op_assign
id|picolo_tetra_muxsel
comma
multiline_comment|/*Required as it doesn&squot;t follow the classic input selection policy*/
)brace
comma
(brace
multiline_comment|/* Spirit TV Tuner from http://spiritmodems.com.au */
multiline_comment|/* Stafford Goodsell &lt;surge@goliath.homeunix.org&gt; */
dot
id|name
op_assign
l_string|&quot;Spirit TV Tuner&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0x0000000f
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0x02
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
comma
l_int|0x00
)brace
comma
dot
id|tuner_type
op_assign
id|TUNER_TEMIC_PAL
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|no_tda9875
op_assign
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* Wolfram Joost &lt;wojo@frokaschwei.de&gt; */
dot
id|name
op_assign
l_string|&quot;AVerMedia AVerTV DVB-T 771&quot;
comma
dot
id|video_inputs
op_assign
l_int|2
comma
dot
id|svhs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|tuner_type
op_assign
id|TUNER_ABSENT
comma
dot
id|muxsel
op_assign
(brace
l_int|3
comma
l_int|3
)brace
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|no_tda9875
op_assign
l_int|1
comma
dot
id|no_tda7432
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|has_dvb
op_assign
l_int|1
comma
dot
id|no_gpioirq
op_assign
l_int|1
comma
dot
id|has_remote
op_assign
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* ---- card 0x7c ---------------------------------- */
multiline_comment|/* Matt Jesson &lt;dvb@jesson.eclipse.co.uk&gt; */
multiline_comment|/* Based on the Nebula card data - added remote and new card number - BTTV_AVDVBT_761, see also ir-kbd-gpio.c */
dot
id|name
op_assign
l_string|&quot;AverMedia AverTV DVB-T 761&quot;
comma
dot
id|video_inputs
op_assign
l_int|2
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
l_int|1
comma
dot
id|muxsel
op_assign
(brace
l_int|3
comma
l_int|1
comma
l_int|2
comma
l_int|0
)brace
comma
multiline_comment|/* Comp0, S-Video, ?, ? */
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|no_tda9875
op_assign
l_int|1
comma
dot
id|no_tda7432
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
dot
id|has_dvb
op_assign
l_int|1
comma
dot
id|no_gpioirq
op_assign
l_int|1
comma
dot
id|has_remote
op_assign
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* andre.schwarz@matrix-vision.de */
dot
id|name
op_assign
l_string|&quot;MATRIX Vision Sigma-SQ&quot;
comma
dot
id|video_inputs
op_assign
l_int|16
comma
dot
id|audio_inputs
op_assign
l_int|0
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
op_minus
l_int|1
comma
dot
id|gpiomask
op_assign
l_int|0x0
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|2
comma
l_int|2
comma
l_int|2
comma
l_int|2
comma
l_int|2
comma
l_int|2
comma
l_int|2
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|3
)brace
comma
dot
id|muxsel_hook
op_assign
id|sigmaSQ_muxsel
comma
dot
id|audiomux
op_assign
(brace
l_int|0
)brace
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* andre.schwarz@matrix-vision.de */
dot
id|name
op_assign
l_string|&quot;MATRIX Vision Sigma-SLC&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|0
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
op_minus
l_int|1
comma
dot
id|gpiomask
op_assign
l_int|0x0
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|2
comma
l_int|2
comma
l_int|2
)brace
comma
dot
id|muxsel_hook
op_assign
id|sigmaSLC_muxsel
comma
dot
id|audiomux
op_assign
(brace
l_int|0
)brace
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* BTTV_APAC_VIEWCOMP */
multiline_comment|/* Attila Kondoros &lt;attila.kondoros@chello.hu&gt; */
multiline_comment|/* bt878 TV + FM 0x00000000 subsystem ID */
dot
id|name
op_assign
l_string|&quot;APAC Viewcomp 878(AMAX)&quot;
comma
dot
id|video_inputs
op_assign
l_int|2
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
op_minus
l_int|1
comma
dot
id|gpiomask
op_assign
l_int|0xFF
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|1
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|2
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|10
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|0
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
id|TUNER_PHILIPS_PAL
comma
dot
id|has_remote
op_assign
l_int|1
comma
multiline_comment|/* miniremote works, see ir-kbd-gpio.c */
dot
id|has_radio
op_assign
l_int|1
comma
multiline_comment|/* not every card has radio */
)brace
comma
(brace
multiline_comment|/* ---- card 0x80 ---------------------------------- */
multiline_comment|/* Chris Pascoe &lt;c.pascoe@itee.uq.edu.au&gt; */
dot
id|name
op_assign
l_string|&quot;DVICO FusionHDTV DVB-T Lite&quot;
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|no_tda9875
op_assign
l_int|1
comma
dot
id|no_tda7432
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|no_video
op_assign
l_int|1
comma
dot
id|has_dvb
op_assign
l_int|1
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* Steven &lt;photon38@pchome.com.tw&gt; */
dot
id|name
op_assign
l_string|&quot;V-Gear MyVCD&quot;
comma
dot
id|video_inputs
op_assign
l_int|3
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|gpiomask
op_assign
l_int|0x3f
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|0
)brace
comma
dot
id|audiomux
op_assign
(brace
l_int|0x31
comma
l_int|0x31
comma
l_int|0x31
comma
l_int|0x31
comma
l_int|0x31
comma
l_int|0x31
)brace
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|tuner_type
op_assign
id|TUNER_PHILIPS_NTSC_M
comma
dot
id|has_radio
op_assign
l_int|0
comma
singleline_comment|// .has_remote     = 1,
)brace
comma
(brace
multiline_comment|/* Rick C &lt;cryptdragoon@gmail.com&gt; */
dot
id|name
op_assign
l_string|&quot;Super TV Tuner&quot;
comma
dot
id|video_inputs
op_assign
l_int|4
comma
dot
id|audio_inputs
op_assign
l_int|1
comma
dot
id|tuner
op_assign
l_int|0
comma
dot
id|svhs
op_assign
l_int|2
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|3
comma
l_int|1
comma
l_int|0
)brace
comma
dot
id|tuner_type
op_assign
id|TUNER_PHILIPS_NTSC
comma
dot
id|gpiomask
op_assign
l_int|0x008007
comma
dot
id|audiomux
op_assign
(brace
l_int|0
comma
l_int|0x000001
comma
l_int|0
comma
l_int|0
comma
l_int|0
)brace
comma
dot
id|needs_tvaudio
op_assign
l_int|1
comma
dot
id|has_radio
op_assign
l_int|1
comma
)brace
comma
(brace
multiline_comment|/* Chris Fanning &lt;video4linux@haydon.net&gt; */
dot
id|name
op_assign
l_string|&quot;Tibet Systems &squot;Progress DVR&squot; CS16&quot;
comma
dot
id|video_inputs
op_assign
l_int|16
comma
dot
id|audio_inputs
op_assign
l_int|0
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
op_minus
l_int|1
comma
dot
id|muxsel
op_assign
(brace
l_int|2
comma
l_int|2
comma
l_int|2
comma
l_int|2
comma
l_int|2
comma
l_int|2
comma
l_int|2
comma
l_int|2
comma
l_int|2
comma
l_int|2
comma
l_int|2
comma
l_int|2
comma
l_int|2
comma
l_int|2
comma
l_int|2
comma
l_int|2
)brace
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|no_tda9875
op_assign
l_int|1
comma
dot
id|no_tda7432
op_assign
l_int|1
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
dot
id|muxsel_hook
op_assign
id|tibetCS16_muxsel
comma
)brace
comma
(brace
multiline_comment|/* Bill Brack &lt;wbrack@mmm.com.hk&gt; */
multiline_comment|/*&n;&t; * Note that, because of the card&squot;s wiring, the &quot;master&quot;&n;&t; * BT878A chip (i.e. the one which controls the analog switch&n;&t; * and must use this card type) is the 2nd one detected.  The&n;&t; * other 3 chips should use card type 0x85, whose description&n;&t; * follows this one.  There is a EEPROM on the card (which is&n;&t; * connected to the I2C of one of those other chips), but is&n;&t; * not currently handled.  There is also a facility for a&n;&t; * &quot;monitor&quot;, which is also not currently implemented.&n;&t; */
dot
id|name
op_assign
l_string|&quot;Kodicom 4400R (master)&quot;
comma
dot
id|video_inputs
op_assign
l_int|16
comma
dot
id|audio_inputs
op_assign
l_int|0
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
op_minus
l_int|1
comma
multiline_comment|/* GPIO bits 0-9 used for analog switch:&n;&t; *   00 - 03:&t;camera selector&n;&t; *   04 - 06:&t;channel (controller) selector&n;&t; *   07:&t;data (1-&gt;on, 0-&gt;off)&n;&t; *   08:&t;strobe&n;&t; *   09:&t;reset&n;&t; * bit 16 is input from sync separator for the channel&n;&t; */
dot
id|gpiomask
op_assign
l_int|0x0003ff
comma
dot
id|no_gpioirq
op_assign
l_int|1
comma
dot
id|muxsel
op_assign
(brace
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|3
)brace
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|no_tda7432
op_assign
l_int|1
comma
dot
id|no_tda9875
op_assign
l_int|1
comma
dot
id|muxsel_hook
op_assign
id|kodicom4400r_muxsel
comma
)brace
comma
(brace
multiline_comment|/* Bill Brack &lt;wbrack@mmm.com.hk&gt; */
multiline_comment|/* Note that, for reasons unknown, the &quot;master&quot; BT878A chip (i.e. the&n;&t; * one which controls the analog switch, and must use the card type)&n;&t; * is the 2nd one detected.  The other 3 chips should use this card&n;&t; * type&n;&t; */
dot
id|name
op_assign
l_string|&quot;Kodicom 4400R (slave)&quot;
comma
dot
id|video_inputs
op_assign
l_int|16
comma
dot
id|audio_inputs
op_assign
l_int|0
comma
dot
id|tuner
op_assign
op_minus
l_int|1
comma
dot
id|tuner_type
op_assign
op_minus
l_int|1
comma
dot
id|svhs
op_assign
op_minus
l_int|1
comma
dot
id|gpiomask
op_assign
l_int|0x010000
comma
dot
id|no_gpioirq
op_assign
l_int|1
comma
dot
id|muxsel
op_assign
(brace
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|3
)brace
comma
dot
id|pll
op_assign
id|PLL_28
comma
dot
id|no_msp34xx
op_assign
l_int|1
comma
dot
id|no_tda7432
op_assign
l_int|1
comma
dot
id|no_tda9875
op_assign
l_int|1
comma
dot
id|muxsel_hook
op_assign
id|kodicom4400r_muxsel
comma
)brace
)brace
suffix:semicolon
DECL|variable|bttv_num_tvcards
r_static
r_const
r_int
r_int
id|bttv_num_tvcards
op_assign
id|ARRAY_SIZE
c_func
(paren
id|bttv_tvcards
)paren
suffix:semicolon
multiline_comment|/* ----------------------------------------------------------------------- */
DECL|variable|eeprom_data
r_static
r_int
r_char
id|eeprom_data
(braket
l_int|256
)braket
suffix:semicolon
multiline_comment|/*&n; * identify card&n; */
DECL|function|bttv_idcard
r_void
id|__devinit
id|bttv_idcard
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
(brace
r_int
r_int
id|gpiobits
suffix:semicolon
r_int
id|i
comma
id|type
suffix:semicolon
r_int
r_int
id|tmp
suffix:semicolon
multiline_comment|/* read PCI subsystem ID */
id|pci_read_config_word
c_func
(paren
id|btv-&gt;c.pci
comma
id|PCI_SUBSYSTEM_ID
comma
op_amp
id|tmp
)paren
suffix:semicolon
id|btv-&gt;cardid
op_assign
id|tmp
op_lshift
l_int|16
suffix:semicolon
id|pci_read_config_word
c_func
(paren
id|btv-&gt;c.pci
comma
id|PCI_SUBSYSTEM_VENDOR_ID
comma
op_amp
id|tmp
)paren
suffix:semicolon
id|btv-&gt;cardid
op_or_assign
id|tmp
suffix:semicolon
r_if
c_cond
(paren
l_int|0
op_ne
id|btv-&gt;cardid
op_logical_and
l_int|0xffffffff
op_ne
id|btv-&gt;cardid
)paren
(brace
multiline_comment|/* look for the card */
r_for
c_loop
(paren
id|type
op_assign
op_minus
l_int|1
comma
id|i
op_assign
l_int|0
suffix:semicolon
id|cards
(braket
id|i
)braket
dot
id|id
op_ne
l_int|0
suffix:semicolon
id|i
op_increment
)paren
r_if
c_cond
(paren
id|cards
(braket
id|i
)braket
dot
id|id
op_eq
id|btv-&gt;cardid
)paren
id|type
op_assign
id|i
suffix:semicolon
r_if
c_cond
(paren
id|type
op_ne
op_minus
l_int|1
)paren
(brace
multiline_comment|/* found it */
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;bttv%d: detected: %s [card=%d], &quot;
l_string|&quot;PCI subsystem ID is %04x:%04x&bslash;n&quot;
comma
id|btv-&gt;c.nr
comma
id|cards
(braket
id|type
)braket
dot
id|name
comma
id|cards
(braket
id|type
)braket
dot
id|cardnr
comma
id|btv-&gt;cardid
op_amp
l_int|0xffff
comma
(paren
id|btv-&gt;cardid
op_rshift
l_int|16
)paren
op_amp
l_int|0xffff
)paren
suffix:semicolon
id|btv-&gt;c.type
op_assign
id|cards
(braket
id|type
)braket
dot
id|cardnr
suffix:semicolon
)brace
r_else
(brace
multiline_comment|/* 404 */
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;bttv%d: subsystem: %04x:%04x (UNKNOWN)&bslash;n&quot;
comma
id|btv-&gt;c.nr
comma
id|btv-&gt;cardid
op_amp
l_int|0xffff
comma
(paren
id|btv-&gt;cardid
op_rshift
l_int|16
)paren
op_amp
l_int|0xffff
)paren
suffix:semicolon
id|printk
c_func
(paren
id|KERN_DEBUG
l_string|&quot;please mail id, board name and &quot;
l_string|&quot;the correct card= insmod option to kraxel@bytesex.org&bslash;n&quot;
)paren
suffix:semicolon
)brace
)brace
multiline_comment|/* let the user override the autodetected type */
r_if
c_cond
(paren
id|card
(braket
id|btv-&gt;c.nr
)braket
OL
id|bttv_num_tvcards
)paren
id|btv-&gt;c.type
op_assign
id|card
(braket
id|btv-&gt;c.nr
)braket
suffix:semicolon
multiline_comment|/* print which card config we are using */
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;bttv%d: using: %s [card=%d,%s]&bslash;n&quot;
comma
id|btv-&gt;c.nr
comma
id|bttv_tvcards
(braket
id|btv-&gt;c.type
)braket
dot
id|name
comma
id|btv-&gt;c.type
comma
id|card
(braket
id|btv-&gt;c.nr
)braket
OL
id|bttv_num_tvcards
ques
c_cond
l_string|&quot;insmod option&quot;
suffix:colon
l_string|&quot;autodetected&quot;
)paren
suffix:semicolon
multiline_comment|/* overwrite gpio stuff ?? */
r_if
c_cond
(paren
id|UNSET
op_eq
id|audioall
op_logical_and
id|UNSET
op_eq
id|audiomux
(braket
l_int|0
)braket
)paren
r_return
suffix:semicolon
r_if
c_cond
(paren
id|UNSET
op_ne
id|audiomux
(braket
l_int|0
)braket
)paren
(brace
id|gpiobits
op_assign
l_int|0
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|5
suffix:semicolon
id|i
op_increment
)paren
(brace
id|bttv_tvcards
(braket
id|btv-&gt;c.type
)braket
dot
id|audiomux
(braket
id|i
)braket
op_assign
id|audiomux
(braket
id|i
)braket
suffix:semicolon
id|gpiobits
op_or_assign
id|audiomux
(braket
id|i
)braket
suffix:semicolon
)brace
)brace
r_else
(brace
id|gpiobits
op_assign
id|audioall
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|5
suffix:semicolon
id|i
op_increment
)paren
(brace
id|bttv_tvcards
(braket
id|btv-&gt;c.type
)braket
dot
id|audiomux
(braket
id|i
)braket
op_assign
id|audioall
suffix:semicolon
)brace
)brace
id|bttv_tvcards
(braket
id|btv-&gt;c.type
)braket
dot
id|gpiomask
op_assign
(paren
id|UNSET
op_ne
id|gpiomask
)paren
ques
c_cond
id|gpiomask
suffix:colon
id|gpiobits
suffix:semicolon
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;bttv%d: gpio config override: mask=0x%x, mux=&quot;
comma
id|btv-&gt;c.nr
comma
id|bttv_tvcards
(braket
id|btv-&gt;c.type
)braket
dot
id|gpiomask
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|5
suffix:semicolon
id|i
op_increment
)paren
(brace
id|printk
c_func
(paren
l_string|&quot;%s0x%x&quot;
comma
id|i
ques
c_cond
l_string|&quot;,&quot;
suffix:colon
l_string|&quot;&quot;
comma
id|bttv_tvcards
(braket
id|btv-&gt;c.type
)braket
dot
id|audiomux
(braket
id|i
)braket
)paren
suffix:semicolon
)brace
id|printk
c_func
(paren
l_string|&quot;&bslash;n&quot;
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * (most) board specific initialisations goes here&n; */
multiline_comment|/* Some Modular Technology cards have an eeprom, but no subsystem ID */
DECL|function|identify_by_eeprom
r_void
id|identify_by_eeprom
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
r_char
id|eeprom_data
(braket
l_int|256
)braket
)paren
(brace
r_int
id|type
op_assign
op_minus
l_int|1
suffix:semicolon
r_if
c_cond
(paren
l_int|0
op_eq
id|strncmp
c_func
(paren
id|eeprom_data
comma
l_string|&quot;GET MM20xPCTV&quot;
comma
l_int|13
)paren
)paren
id|type
op_assign
id|BTTV_MODTEC_205
suffix:semicolon
r_else
r_if
c_cond
(paren
l_int|0
op_eq
id|strncmp
c_func
(paren
id|eeprom_data
op_plus
l_int|20
comma
l_string|&quot;Picolo&quot;
comma
l_int|7
)paren
)paren
id|type
op_assign
id|BTTV_EURESYS_PICOLO
suffix:semicolon
r_else
r_if
c_cond
(paren
id|eeprom_data
(braket
l_int|0
)braket
op_eq
l_int|0x84
op_logical_and
id|eeprom_data
(braket
l_int|2
)braket
op_eq
l_int|0
)paren
id|type
op_assign
id|BTTV_HAUPPAUGE
suffix:semicolon
multiline_comment|/* old bt848 */
r_if
c_cond
(paren
op_minus
l_int|1
op_ne
id|type
)paren
(brace
id|btv-&gt;c.type
op_assign
id|type
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot;bttv%d: detected by eeprom: %s [card=%d]&bslash;n&quot;
comma
id|btv-&gt;c.nr
comma
id|bttv_tvcards
(braket
id|btv-&gt;c.type
)braket
dot
id|name
comma
id|btv-&gt;c.type
)paren
suffix:semicolon
)brace
)brace
DECL|function|flyvideo_gpio
r_static
r_void
id|flyvideo_gpio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
(brace
r_int
id|gpio
comma
id|has_remote
comma
id|has_radio
comma
id|is_capture_only
comma
id|is_lr90
comma
id|has_tda9820_tda9821
suffix:semicolon
r_int
id|tuner
op_assign
op_minus
l_int|1
comma
id|ttype
suffix:semicolon
id|gpio_inout
c_func
(paren
l_int|0xffffff
comma
l_int|0
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|8
)paren
suffix:semicolon
singleline_comment|// without this we would see the 0x1800 mask
id|gpio
op_assign
id|gpio_read
c_func
(paren
)paren
suffix:semicolon
multiline_comment|/* FIXME: must restore OUR_EN ??? */
singleline_comment|// all cards provide GPIO info, some have an additional eeprom
singleline_comment|// LR50: GPIO coding can be found lower right CP1 .. CP9
singleline_comment|//       CP9=GPIO23 .. CP1=GPIO15; when OPEN, the corresponding GPIO reads 1.
singleline_comment|//       GPIO14-12: n.c.
singleline_comment|// LR90: GP9=GPIO23 .. GP1=GPIO15 (right above the bt878)
singleline_comment|// lowest 3 bytes are remote control codes (no handshake needed)
singleline_comment|// xxxFFF: No remote control chip soldered
singleline_comment|// xxxF00(LR26/LR50), xxxFE0(LR90): Remote control chip (LVA001 or CF45) soldered
singleline_comment|// Note: Some bits are Audio_Mask !
id|ttype
op_assign
(paren
id|gpio
op_amp
l_int|0x0f0000
)paren
op_rshift
l_int|16
suffix:semicolon
r_switch
c_cond
(paren
id|ttype
)paren
(brace
r_case
l_int|0x0
suffix:colon
id|tuner
op_assign
l_int|2
suffix:semicolon
singleline_comment|// NTSC, e.g. TPI8NSR11P
r_break
suffix:semicolon
r_case
l_int|0x2
suffix:colon
id|tuner
op_assign
l_int|39
suffix:semicolon
singleline_comment|// LG NTSC (newer TAPC series) TAPC-H701P
r_break
suffix:semicolon
r_case
l_int|0x4
suffix:colon
id|tuner
op_assign
l_int|5
suffix:semicolon
singleline_comment|// Philips PAL TPI8PSB02P, TPI8PSB12P, TPI8PSB12D or FI1216, FM1216
r_break
suffix:semicolon
r_case
l_int|0x6
suffix:colon
id|tuner
op_assign
l_int|37
suffix:semicolon
singleline_comment|// LG PAL (newer TAPC series) TAPC-G702P
r_break
suffix:semicolon
r_case
l_int|0xC
suffix:colon
id|tuner
op_assign
l_int|3
suffix:semicolon
singleline_comment|// Philips SECAM(+PAL) FQ1216ME or FI1216MF
r_break
suffix:semicolon
r_default
suffix:colon
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;bttv%d: FlyVideo_gpio: unknown tuner type.&bslash;n&quot;
comma
id|btv-&gt;c.nr
)paren
suffix:semicolon
)brace
id|has_remote
op_assign
id|gpio
op_amp
l_int|0x800000
suffix:semicolon
id|has_radio
op_assign
id|gpio
op_amp
l_int|0x400000
suffix:semicolon
singleline_comment|//   unknown                   0x200000;
singleline_comment|//   unknown2                  0x100000;
id|is_capture_only
op_assign
op_logical_neg
(paren
id|gpio
op_amp
l_int|0x008000
)paren
suffix:semicolon
singleline_comment|//GPIO15
id|has_tda9820_tda9821
op_assign
op_logical_neg
(paren
id|gpio
op_amp
l_int|0x004000
)paren
suffix:semicolon
id|is_lr90
op_assign
op_logical_neg
(paren
id|gpio
op_amp
l_int|0x002000
)paren
suffix:semicolon
singleline_comment|// else LR26/LR50 (LR38/LR51 f. capture only)
singleline_comment|//&t;&t;        gpio &amp; 0x001000 // output bit for audio routing
r_if
c_cond
(paren
id|is_capture_only
)paren
(brace
id|tuner
op_assign
l_int|4
suffix:semicolon
)brace
singleline_comment|// No tuner present
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;bttv%d: FlyVideo Radio=%s RemoteControl=%s Tuner=%d gpio=0x%06x&bslash;n&quot;
comma
id|btv-&gt;c.nr
comma
id|has_radio
ques
c_cond
l_string|&quot;yes&quot;
suffix:colon
l_string|&quot;no &quot;
comma
id|has_remote
ques
c_cond
l_string|&quot;yes&quot;
suffix:colon
l_string|&quot;no &quot;
comma
id|tuner
comma
id|gpio
)paren
suffix:semicolon
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;bttv%d: FlyVideo  LR90=%s tda9821/tda9820=%s capture_only=%s&bslash;n&quot;
comma
id|btv-&gt;c.nr
comma
id|is_lr90
ques
c_cond
l_string|&quot;yes&quot;
suffix:colon
l_string|&quot;no &quot;
comma
id|has_tda9820_tda9821
ques
c_cond
l_string|&quot;yes&quot;
suffix:colon
l_string|&quot;no &quot;
comma
id|is_capture_only
ques
c_cond
l_string|&quot;yes&quot;
suffix:colon
l_string|&quot;no &quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|tuner
op_ne
op_minus
l_int|1
)paren
(brace
singleline_comment|// only set if known tuner autodetected, else let insmod option through
id|btv-&gt;tuner_type
op_assign
id|tuner
suffix:semicolon
)brace
id|btv-&gt;has_radio
op_assign
id|has_radio
suffix:semicolon
singleline_comment|// LR90 Audio Routing is done by 2 hef4052, so Audio_Mask has 4 bits: 0x001c80
singleline_comment|// LR26/LR50 only has 1 hef4052, Audio_Mask 0x000c00
singleline_comment|// Audio options: from tuner, from tda9821/tda9821(mono,stereo,sap), from tda9874, ext., mute
r_if
c_cond
(paren
id|has_tda9820_tda9821
)paren
(brace
id|btv-&gt;audio_hook
op_assign
id|lt9415_audio
suffix:semicolon
)brace
singleline_comment|//todo: if(has_tda9874) btv-&gt;audio_hook = fv2000s_audio;
)brace
DECL|variable|miro_tunermap
r_static
r_int
id|miro_tunermap
(braket
)braket
op_assign
(brace
l_int|0
comma
l_int|6
comma
l_int|2
comma
l_int|3
comma
l_int|4
comma
l_int|5
comma
l_int|6
comma
l_int|0
comma
l_int|3
comma
l_int|0
comma
l_int|4
comma
l_int|5
comma
l_int|5
comma
l_int|2
comma
l_int|16
comma
l_int|1
comma
l_int|14
comma
l_int|2
comma
l_int|17
comma
l_int|1
comma
l_int|4
comma
l_int|1
comma
l_int|4
comma
l_int|3
comma
l_int|1
comma
l_int|2
comma
l_int|16
comma
l_int|1
comma
l_int|4
comma
l_int|4
comma
l_int|4
comma
l_int|4
)brace
suffix:semicolon
DECL|variable|miro_fmtuner
r_static
r_int
id|miro_fmtuner
(braket
)braket
op_assign
(brace
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|1
comma
l_int|1
comma
l_int|1
comma
l_int|1
comma
l_int|1
comma
l_int|1
comma
l_int|1
comma
l_int|1
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|1
comma
l_int|0
comma
l_int|0
)brace
suffix:semicolon
DECL|function|miro_pinnacle_gpio
r_static
r_void
id|miro_pinnacle_gpio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
(brace
r_int
id|id
comma
id|msp
comma
id|gpio
suffix:semicolon
r_char
op_star
id|info
suffix:semicolon
id|gpio_inout
c_func
(paren
l_int|0xffffff
comma
l_int|0
)paren
suffix:semicolon
id|gpio
op_assign
id|gpio_read
c_func
(paren
)paren
suffix:semicolon
id|id
op_assign
(paren
(paren
id|gpio
op_rshift
l_int|10
)paren
op_amp
l_int|63
)paren
op_minus
l_int|1
suffix:semicolon
id|msp
op_assign
id|bttv_I2CRead
c_func
(paren
id|btv
comma
id|I2C_MSP3400
comma
l_string|&quot;MSP34xx&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|id
OL
l_int|32
)paren
(brace
id|btv-&gt;tuner_type
op_assign
id|miro_tunermap
(braket
id|id
)braket
suffix:semicolon
r_if
c_cond
(paren
l_int|0
op_eq
(paren
id|gpio
op_amp
l_int|0x20
)paren
)paren
(brace
id|btv-&gt;has_radio
op_assign
l_int|1
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|miro_fmtuner
(braket
id|id
)braket
)paren
(brace
id|btv-&gt;has_matchbox
op_assign
l_int|1
suffix:semicolon
id|btv-&gt;mbox_we
op_assign
(paren
l_int|1
op_lshift
l_int|6
)paren
suffix:semicolon
id|btv-&gt;mbox_most
op_assign
(paren
l_int|1
op_lshift
l_int|7
)paren
suffix:semicolon
id|btv-&gt;mbox_clk
op_assign
(paren
l_int|1
op_lshift
l_int|8
)paren
suffix:semicolon
id|btv-&gt;mbox_data
op_assign
(paren
l_int|1
op_lshift
l_int|9
)paren
suffix:semicolon
id|btv-&gt;mbox_mask
op_assign
(paren
l_int|1
op_lshift
l_int|6
)paren
op_or
(paren
l_int|1
op_lshift
l_int|7
)paren
op_or
(paren
l_int|1
op_lshift
l_int|8
)paren
op_or
(paren
l_int|1
op_lshift
l_int|9
)paren
suffix:semicolon
)brace
)brace
r_else
(brace
id|btv-&gt;has_radio
op_assign
l_int|0
suffix:semicolon
)brace
r_if
c_cond
(paren
op_minus
l_int|1
op_ne
id|msp
)paren
(brace
r_if
c_cond
(paren
id|btv-&gt;c.type
op_eq
id|BTTV_MIRO
)paren
id|btv-&gt;c.type
op_assign
id|BTTV_MIROPRO
suffix:semicolon
r_if
c_cond
(paren
id|btv-&gt;c.type
op_eq
id|BTTV_PINNACLE
)paren
id|btv-&gt;c.type
op_assign
id|BTTV_PINNACLEPRO
suffix:semicolon
)brace
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;bttv%d: miro: id=%d tuner=%d radio=%s stereo=%s&bslash;n&quot;
comma
id|btv-&gt;c.nr
comma
id|id
op_plus
l_int|1
comma
id|btv-&gt;tuner_type
comma
op_logical_neg
id|btv-&gt;has_radio
ques
c_cond
l_string|&quot;no&quot;
suffix:colon
(paren
id|btv-&gt;has_matchbox
ques
c_cond
l_string|&quot;matchbox&quot;
suffix:colon
l_string|&quot;fmtuner&quot;
)paren
comma
(paren
op_minus
l_int|1
op_eq
id|msp
)paren
ques
c_cond
l_string|&quot;no&quot;
suffix:colon
l_string|&quot;yes&quot;
)paren
suffix:semicolon
)brace
r_else
(brace
multiline_comment|/* new cards with microtune tuner */
id|id
op_assign
l_int|63
op_minus
id|id
suffix:semicolon
id|btv-&gt;has_radio
op_assign
l_int|0
suffix:semicolon
r_switch
c_cond
(paren
id|id
)paren
(brace
r_case
l_int|1
suffix:colon
id|info
op_assign
l_string|&quot;PAL / mono&quot;
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|2
suffix:colon
id|info
op_assign
l_string|&quot;PAL+SECAM / stereo&quot;
suffix:semicolon
id|btv-&gt;has_radio
op_assign
l_int|1
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|3
suffix:colon
id|info
op_assign
l_string|&quot;NTSC / stereo&quot;
suffix:semicolon
id|btv-&gt;has_radio
op_assign
l_int|1
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|4
suffix:colon
id|info
op_assign
l_string|&quot;PAL+SECAM / mono&quot;
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|5
suffix:colon
id|info
op_assign
l_string|&quot;NTSC / mono&quot;
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|6
suffix:colon
id|info
op_assign
l_string|&quot;NTSC / stereo&quot;
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|7
suffix:colon
id|info
op_assign
l_string|&quot;PAL / stereo&quot;
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
id|info
op_assign
l_string|&quot;oops: unknown card&quot;
suffix:semicolon
r_break
suffix:semicolon
)brace
r_if
c_cond
(paren
op_minus
l_int|1
op_ne
id|msp
)paren
id|btv-&gt;c.type
op_assign
id|BTTV_PINNACLEPRO
suffix:semicolon
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;bttv%d: pinnacle/mt: id=%d info=&bslash;&quot;%s&bslash;&quot; radio=%s&bslash;n&quot;
comma
id|btv-&gt;c.nr
comma
id|id
comma
id|info
comma
id|btv-&gt;has_radio
ques
c_cond
l_string|&quot;yes&quot;
suffix:colon
l_string|&quot;no&quot;
)paren
suffix:semicolon
id|btv-&gt;tuner_type
op_assign
l_int|33
suffix:semicolon
id|btv-&gt;pinnacle_id
op_assign
id|id
suffix:semicolon
)brace
)brace
multiline_comment|/* GPIO21   L: Buffer aktiv, H: Buffer inaktiv */
DECL|macro|LM1882_SYNC_DRIVE
mdefine_line|#define LM1882_SYNC_DRIVE     0x200000L
DECL|function|init_ids_eagle
r_static
r_void
id|init_ids_eagle
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
(brace
id|gpio_inout
c_func
(paren
l_int|0xffffff
comma
l_int|0xFFFF37
)paren
suffix:semicolon
id|gpio_write
c_func
(paren
l_int|0x200020
)paren
suffix:semicolon
multiline_comment|/* flash strobe inverter ?! */
id|gpio_write
c_func
(paren
l_int|0x200024
)paren
suffix:semicolon
multiline_comment|/* switch sync drive off */
id|gpio_bits
c_func
(paren
id|LM1882_SYNC_DRIVE
comma
id|LM1882_SYNC_DRIVE
)paren
suffix:semicolon
multiline_comment|/* set BT848 muxel to 2 */
id|btaor
c_func
(paren
(paren
l_int|2
)paren
op_lshift
l_int|5
comma
op_complement
(paren
l_int|2
op_lshift
l_int|5
)paren
comma
id|BT848_IFORM
)paren
suffix:semicolon
)brace
multiline_comment|/* Muxsel helper for the IDS Eagle.&n; * the eagles does not use the standard muxsel-bits but&n; * has its own multiplexer */
DECL|function|eagle_muxsel
r_static
r_void
id|eagle_muxsel
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
r_int
id|input
)paren
(brace
id|btaor
c_func
(paren
(paren
l_int|2
)paren
op_lshift
l_int|5
comma
op_complement
(paren
l_int|3
op_lshift
l_int|5
)paren
comma
id|BT848_IFORM
)paren
suffix:semicolon
id|gpio_bits
c_func
(paren
l_int|3
comma
id|bttv_tvcards
(braket
id|btv-&gt;c.type
)braket
dot
id|muxsel
(braket
id|input
op_amp
l_int|7
)braket
)paren
suffix:semicolon
macro_line|#if 0
multiline_comment|/* svhs */
multiline_comment|/* wake chroma ADC */
id|btand
c_func
(paren
op_complement
id|BT848_ADC_C_SLEEP
comma
id|BT848_ADC
)paren
suffix:semicolon
multiline_comment|/* set to YC video */
id|btor
c_func
(paren
id|BT848_CONTROL_COMP
comma
id|BT848_E_CONTROL
)paren
suffix:semicolon
id|btor
c_func
(paren
id|BT848_CONTROL_COMP
comma
id|BT848_O_CONTROL
)paren
suffix:semicolon
macro_line|#else
multiline_comment|/* composite */
multiline_comment|/* set chroma ADC to sleep */
id|btor
c_func
(paren
id|BT848_ADC_C_SLEEP
comma
id|BT848_ADC
)paren
suffix:semicolon
multiline_comment|/* set to composite video */
id|btand
c_func
(paren
op_complement
id|BT848_CONTROL_COMP
comma
id|BT848_E_CONTROL
)paren
suffix:semicolon
id|btand
c_func
(paren
op_complement
id|BT848_CONTROL_COMP
comma
id|BT848_O_CONTROL
)paren
suffix:semicolon
macro_line|#endif
multiline_comment|/* switch sync drive off */
id|gpio_bits
c_func
(paren
id|LM1882_SYNC_DRIVE
comma
id|LM1882_SYNC_DRIVE
)paren
suffix:semicolon
)brace
DECL|function|gvc1100_muxsel
r_static
r_void
id|gvc1100_muxsel
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
r_int
id|input
)paren
(brace
r_static
r_const
r_int
id|masks
(braket
)braket
op_assign
(brace
l_int|0x30
comma
l_int|0x01
comma
l_int|0x12
comma
l_int|0x23
)brace
suffix:semicolon
id|gpio_write
c_func
(paren
id|masks
(braket
id|input
op_mod
l_int|4
)braket
)paren
suffix:semicolon
)brace
multiline_comment|/* LMLBT4x initialization - to allow access to GPIO bits for sensors input and&n;   alarms output&n;&n;   GPIObit    | 10 | 9 | 8 | 7 | 6 | 5 | 4 | 3 | 2 | 1 | 0 |&n;   assignment | TI | O3|INx| O2| O1|IN4|IN3|IN2|IN1|   |   |&n;&n;   IN - sensor inputs, INx - sensor inputs and TI XORed together&n;   O1,O2,O3 - alarm outputs (relays)&n;&n;   OUT ENABLE   1    1   0  . 1  1   0   0 . 0   0   0    0   = 0x6C0&n;&n;*/
DECL|function|init_lmlbt4x
r_static
r_void
id|init_lmlbt4x
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
(brace
id|printk
c_func
(paren
id|KERN_DEBUG
l_string|&quot;LMLBT4x init&bslash;n&quot;
)paren
suffix:semicolon
id|btwrite
c_func
(paren
l_int|0x000000
comma
id|BT848_GPIO_REG_INP
)paren
suffix:semicolon
id|gpio_inout
c_func
(paren
l_int|0xffffff
comma
l_int|0x0006C0
)paren
suffix:semicolon
id|gpio_write
c_func
(paren
l_int|0x000000
)paren
suffix:semicolon
)brace
DECL|function|sigmaSQ_muxsel
r_static
r_void
id|sigmaSQ_muxsel
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
r_int
id|input
)paren
(brace
r_int
r_int
id|inmux
op_assign
id|input
op_mod
l_int|8
suffix:semicolon
id|gpio_inout
c_func
(paren
l_int|0xf
comma
l_int|0xf
)paren
suffix:semicolon
id|gpio_bits
c_func
(paren
l_int|0xf
comma
id|inmux
)paren
suffix:semicolon
)brace
DECL|function|sigmaSLC_muxsel
r_static
r_void
id|sigmaSLC_muxsel
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
r_int
id|input
)paren
(brace
r_int
r_int
id|inmux
op_assign
id|input
op_mod
l_int|4
suffix:semicolon
id|gpio_inout
c_func
(paren
l_int|3
op_lshift
l_int|9
comma
l_int|3
op_lshift
l_int|9
)paren
suffix:semicolon
id|gpio_bits
c_func
(paren
l_int|3
op_lshift
l_int|9
comma
id|inmux
op_lshift
l_int|9
)paren
suffix:semicolon
)brace
multiline_comment|/* ----------------------------------------------------------------------- */
DECL|function|bttv_reset_audio
r_static
r_void
id|bttv_reset_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
(brace
multiline_comment|/*&n;&t; * BT878A has a audio-reset register.&n;&t; * 1. This register is an audio reset function but it is in&n;&t; *    function-0 (video capture) address space.&n;&t; * 2. It is enough to do this once per power-up of the card.&n;&t; * 3. There is a typo in the Conexant doc -- it is not at&n;&t; *    0x5B, but at 0x058. (B is an odd-number, obviously a typo!).&n;&t; * --//Shrikumar 030609&n;&t; */
r_if
c_cond
(paren
id|btv-&gt;id
op_ne
l_int|878
)paren
r_return
suffix:semicolon
r_if
c_cond
(paren
id|bttv_debug
)paren
id|printk
c_func
(paren
l_string|&quot;bttv%d: BT878A ARESET&bslash;n&quot;
comma
id|btv-&gt;c.nr
)paren
suffix:semicolon
id|btwrite
c_func
(paren
(paren
l_int|1
op_lshift
l_int|7
)paren
comma
l_int|0x058
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|10
)paren
suffix:semicolon
id|btwrite
c_func
(paren
l_int|0
comma
l_int|0x058
)paren
suffix:semicolon
)brace
multiline_comment|/* initialization part one -- before registering i2c bus */
DECL|function|bttv_init_card1
r_void
id|__devinit
id|bttv_init_card1
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
(brace
r_switch
c_cond
(paren
id|btv-&gt;c.type
)paren
(brace
r_case
id|BTTV_HAUPPAUGE
suffix:colon
r_case
id|BTTV_HAUPPAUGE878
suffix:colon
id|boot_msp34xx
c_func
(paren
id|btv
comma
l_int|5
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|BTTV_VOODOOTV_FM
suffix:colon
id|boot_msp34xx
c_func
(paren
id|btv
comma
l_int|20
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|BTTV_AVERMEDIA98
suffix:colon
id|boot_msp34xx
c_func
(paren
id|btv
comma
l_int|11
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|BTTV_HAUPPAUGEPVR
suffix:colon
id|pvr_boot
c_func
(paren
id|btv
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|BTTV_TWINHAN_DST
suffix:colon
r_case
id|BTTV_AVDVBT_771
suffix:colon
id|btv-&gt;use_i2c_hw
op_assign
l_int|1
suffix:semicolon
r_break
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|bttv_tvcards
(braket
id|btv-&gt;c.type
)braket
dot
id|has_dvb
)paren
id|bttv_reset_audio
c_func
(paren
id|btv
)paren
suffix:semicolon
)brace
multiline_comment|/* initialization part two -- after registering i2c bus */
DECL|function|bttv_init_card2
r_void
id|__devinit
id|bttv_init_card2
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
(brace
r_int
id|tda9887
suffix:semicolon
id|btv-&gt;tuner_type
op_assign
op_minus
l_int|1
suffix:semicolon
r_if
c_cond
(paren
id|BTTV_UNKNOWN
op_eq
id|btv-&gt;c.type
)paren
(brace
id|bttv_readee
c_func
(paren
id|btv
comma
id|eeprom_data
comma
l_int|0xa0
)paren
suffix:semicolon
id|identify_by_eeprom
c_func
(paren
id|btv
comma
id|eeprom_data
)paren
suffix:semicolon
)brace
r_switch
c_cond
(paren
id|btv-&gt;c.type
)paren
(brace
r_case
id|BTTV_MIRO
suffix:colon
r_case
id|BTTV_MIROPRO
suffix:colon
r_case
id|BTTV_PINNACLE
suffix:colon
r_case
id|BTTV_PINNACLEPRO
suffix:colon
multiline_comment|/* miro/pinnacle */
id|miro_pinnacle_gpio
c_func
(paren
id|btv
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|BTTV_FLYVIDEO_98
suffix:colon
r_case
id|BTTV_MAXI
suffix:colon
r_case
id|BTTV_LIFE_FLYKIT
suffix:colon
r_case
id|BTTV_FLYVIDEO
suffix:colon
r_case
id|BTTV_TYPHOON_TVIEW
suffix:colon
r_case
id|BTTV_CHRONOS_VS2
suffix:colon
r_case
id|BTTV_FLYVIDEO_98FM
suffix:colon
r_case
id|BTTV_FLYVIDEO2000
suffix:colon
r_case
id|BTTV_FLYVIDEO98EZ
suffix:colon
r_case
id|BTTV_CONFERENCETV
suffix:colon
r_case
id|BTTV_LIFETEC_9415
suffix:colon
id|flyvideo_gpio
c_func
(paren
id|btv
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|BTTV_HAUPPAUGE
suffix:colon
r_case
id|BTTV_HAUPPAUGE878
suffix:colon
r_case
id|BTTV_HAUPPAUGEPVR
suffix:colon
multiline_comment|/* pick up some config infos from the eeprom */
id|bttv_readee
c_func
(paren
id|btv
comma
id|eeprom_data
comma
l_int|0xa0
)paren
suffix:semicolon
id|hauppauge_eeprom
c_func
(paren
id|btv
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|BTTV_AVERMEDIA98
suffix:colon
r_case
id|BTTV_AVPHONE98
suffix:colon
id|bttv_readee
c_func
(paren
id|btv
comma
id|eeprom_data
comma
l_int|0xa0
)paren
suffix:semicolon
id|avermedia_eeprom
c_func
(paren
id|btv
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|BTTV_PXC200
suffix:colon
id|init_PXC200
c_func
(paren
id|btv
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|BTTV_PICOLO_TETRA_CHIP
suffix:colon
id|picolo_tetra_init
c_func
(paren
id|btv
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|BTTV_VHX
suffix:colon
id|btv-&gt;has_radio
op_assign
l_int|1
suffix:semicolon
id|btv-&gt;has_matchbox
op_assign
l_int|1
suffix:semicolon
id|btv-&gt;mbox_we
op_assign
l_int|0x20
suffix:semicolon
id|btv-&gt;mbox_most
op_assign
l_int|0
suffix:semicolon
id|btv-&gt;mbox_clk
op_assign
l_int|0x08
suffix:semicolon
id|btv-&gt;mbox_data
op_assign
l_int|0x10
suffix:semicolon
id|btv-&gt;mbox_mask
op_assign
l_int|0x38
suffix:semicolon
r_break
suffix:semicolon
r_case
id|BTTV_VOBIS_BOOSTAR
suffix:colon
r_case
id|BTTV_TERRATV
suffix:colon
id|terratec_active_radio_upgrade
c_func
(paren
id|btv
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|BTTV_MAGICTVIEW061
suffix:colon
r_if
c_cond
(paren
id|btv-&gt;cardid
op_eq
l_int|0x3002144f
)paren
(brace
id|btv-&gt;has_radio
op_assign
l_int|1
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot;bttv%d: radio detected by subsystem id (CPH05x)&bslash;n&quot;
comma
id|btv-&gt;c.nr
)paren
suffix:semicolon
)brace
r_break
suffix:semicolon
r_case
id|BTTV_STB2
suffix:colon
r_if
c_cond
(paren
id|btv-&gt;cardid
op_eq
l_int|0x3060121a
)paren
(brace
multiline_comment|/* Fix up entry for 3DFX VoodooTV 100,&n;&t;&t;&t;   which is an OEM STB card variant. */
id|btv-&gt;has_radio
op_assign
l_int|0
suffix:semicolon
id|btv-&gt;tuner_type
op_assign
id|TUNER_TEMIC_NTSC
suffix:semicolon
)brace
r_break
suffix:semicolon
r_case
id|BTTV_OSPREY1x0
suffix:colon
r_case
id|BTTV_OSPREY1x0_848
suffix:colon
r_case
id|BTTV_OSPREY101_848
suffix:colon
r_case
id|BTTV_OSPREY1x1
suffix:colon
r_case
id|BTTV_OSPREY1x1_SVID
suffix:colon
r_case
id|BTTV_OSPREY2xx
suffix:colon
r_case
id|BTTV_OSPREY2x0_SVID
suffix:colon
r_case
id|BTTV_OSPREY2x0
suffix:colon
r_case
id|BTTV_OSPREY500
suffix:colon
r_case
id|BTTV_OSPREY540
suffix:colon
r_case
id|BTTV_OSPREY2000
suffix:colon
id|bttv_readee
c_func
(paren
id|btv
comma
id|eeprom_data
comma
l_int|0xa0
)paren
suffix:semicolon
id|osprey_eeprom
c_func
(paren
id|btv
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|BTTV_IDS_EAGLE
suffix:colon
id|init_ids_eagle
c_func
(paren
id|btv
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|BTTV_MODTEC_205
suffix:colon
id|bttv_readee
c_func
(paren
id|btv
comma
id|eeprom_data
comma
l_int|0xa0
)paren
suffix:semicolon
id|modtec_eeprom
c_func
(paren
id|btv
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|BTTV_LMLBT4
suffix:colon
id|init_lmlbt4x
c_func
(paren
id|btv
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|BTTV_TIBET_CS16
suffix:colon
id|tibetCS16_init
c_func
(paren
id|btv
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|BTTV_KODICOM_4400R
suffix:colon
id|kodicom4400r_init
c_func
(paren
id|btv
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
multiline_comment|/* pll configuration */
r_if
c_cond
(paren
op_logical_neg
(paren
id|btv-&gt;id
op_eq
l_int|848
op_logical_and
id|btv-&gt;revision
op_eq
l_int|0x11
)paren
)paren
(brace
multiline_comment|/* defaults from card list */
r_if
c_cond
(paren
id|PLL_28
op_eq
id|bttv_tvcards
(braket
id|btv-&gt;c.type
)braket
dot
id|pll
)paren
(brace
id|btv-&gt;pll.pll_ifreq
op_assign
l_int|28636363
suffix:semicolon
id|btv-&gt;pll.pll_crystal
op_assign
id|BT848_IFORM_XT0
suffix:semicolon
)brace
r_if
c_cond
(paren
id|PLL_35
op_eq
id|bttv_tvcards
(braket
id|btv-&gt;c.type
)braket
dot
id|pll
)paren
(brace
id|btv-&gt;pll.pll_ifreq
op_assign
l_int|35468950
suffix:semicolon
id|btv-&gt;pll.pll_crystal
op_assign
id|BT848_IFORM_XT1
suffix:semicolon
)brace
multiline_comment|/* insmod options can override */
r_switch
c_cond
(paren
id|pll
(braket
id|btv-&gt;c.nr
)braket
)paren
(brace
r_case
l_int|0
suffix:colon
multiline_comment|/* none */
id|btv-&gt;pll.pll_crystal
op_assign
l_int|0
suffix:semicolon
id|btv-&gt;pll.pll_ifreq
op_assign
l_int|0
suffix:semicolon
id|btv-&gt;pll.pll_ofreq
op_assign
l_int|0
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|1
suffix:colon
multiline_comment|/* 28 MHz */
r_case
l_int|28
suffix:colon
id|btv-&gt;pll.pll_ifreq
op_assign
l_int|28636363
suffix:semicolon
id|btv-&gt;pll.pll_ofreq
op_assign
l_int|0
suffix:semicolon
id|btv-&gt;pll.pll_crystal
op_assign
id|BT848_IFORM_XT0
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|2
suffix:colon
multiline_comment|/* 35 MHz */
r_case
l_int|35
suffix:colon
id|btv-&gt;pll.pll_ifreq
op_assign
l_int|35468950
suffix:semicolon
id|btv-&gt;pll.pll_ofreq
op_assign
l_int|0
suffix:semicolon
id|btv-&gt;pll.pll_crystal
op_assign
id|BT848_IFORM_XT1
suffix:semicolon
r_break
suffix:semicolon
)brace
)brace
id|btv-&gt;pll.pll_current
op_assign
op_minus
l_int|1
suffix:semicolon
id|bttv_reset_audio
c_func
(paren
id|btv
)paren
suffix:semicolon
multiline_comment|/* tuner configuration (from card list / autodetect / insmod option) */
r_if
c_cond
(paren
id|UNSET
op_ne
id|bttv_tvcards
(braket
id|btv-&gt;c.type
)braket
dot
id|tuner_type
)paren
r_if
c_cond
(paren
id|UNSET
op_eq
id|btv-&gt;tuner_type
)paren
(brace
id|btv-&gt;tuner_type
op_assign
id|bttv_tvcards
(braket
id|btv-&gt;c.type
)braket
dot
id|tuner_type
suffix:semicolon
)brace
r_if
c_cond
(paren
id|UNSET
op_ne
id|tuner
(braket
id|btv-&gt;c.nr
)braket
)paren
id|btv-&gt;tuner_type
op_assign
id|tuner
(braket
id|btv-&gt;c.nr
)braket
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot;bttv%d: using tuner=%d&bslash;n&quot;
comma
id|btv-&gt;c.nr
comma
id|btv-&gt;tuner_type
)paren
suffix:semicolon
r_if
c_cond
(paren
id|btv-&gt;pinnacle_id
op_ne
id|UNSET
)paren
id|bttv_call_i2c_clients
c_func
(paren
id|btv
comma
id|AUDC_CONFIG_PINNACLE
comma
op_amp
id|btv-&gt;pinnacle_id
)paren
suffix:semicolon
r_if
c_cond
(paren
id|btv-&gt;tuner_type
op_ne
id|UNSET
)paren
id|bttv_call_i2c_clients
c_func
(paren
id|btv
comma
id|TUNER_SET_TYPE
comma
op_amp
id|btv-&gt;tuner_type
)paren
suffix:semicolon
id|btv-&gt;svhs
op_assign
id|bttv_tvcards
(braket
id|btv-&gt;c.type
)braket
dot
id|svhs
suffix:semicolon
r_if
c_cond
(paren
id|svhs
(braket
id|btv-&gt;c.nr
)braket
op_ne
id|UNSET
)paren
id|btv-&gt;svhs
op_assign
id|svhs
(braket
id|btv-&gt;c.nr
)braket
suffix:semicolon
r_if
c_cond
(paren
id|remote
(braket
id|btv-&gt;c.nr
)braket
op_ne
id|UNSET
)paren
id|btv-&gt;has_remote
op_assign
id|remote
(braket
id|btv-&gt;c.nr
)braket
suffix:semicolon
r_if
c_cond
(paren
id|bttv_tvcards
(braket
id|btv-&gt;c.type
)braket
dot
id|has_radio
)paren
id|btv-&gt;has_radio
op_assign
l_int|1
suffix:semicolon
r_if
c_cond
(paren
id|bttv_tvcards
(braket
id|btv-&gt;c.type
)braket
dot
id|has_remote
)paren
id|btv-&gt;has_remote
op_assign
l_int|1
suffix:semicolon
r_if
c_cond
(paren
id|bttv_tvcards
(braket
id|btv-&gt;c.type
)braket
dot
id|no_gpioirq
)paren
id|btv-&gt;gpioirq
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|bttv_tvcards
(braket
id|btv-&gt;c.type
)braket
dot
id|audio_hook
)paren
id|btv-&gt;audio_hook
op_assign
id|bttv_tvcards
(braket
id|btv-&gt;c.type
)braket
dot
id|audio_hook
suffix:semicolon
r_if
c_cond
(paren
id|bttv_tvcards
(braket
id|btv-&gt;c.type
)braket
dot
id|digital_mode
op_eq
id|DIGITAL_MODE_CAMERA
)paren
(brace
multiline_comment|/* detect Bt832 chip for quartzsight digital camera */
r_if
c_cond
(paren
(paren
id|bttv_I2CRead
c_func
(paren
id|btv
comma
id|I2C_BT832_ALT1
comma
l_string|&quot;Bt832&quot;
)paren
op_ge
l_int|0
)paren
op_logical_or
(paren
id|bttv_I2CRead
c_func
(paren
id|btv
comma
id|I2C_BT832_ALT2
comma
l_string|&quot;Bt832&quot;
)paren
op_ge
l_int|0
)paren
)paren
id|boot_bt832
c_func
(paren
id|btv
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|autoload
)paren
r_return
suffix:semicolon
multiline_comment|/* try to detect audio/fader chips */
r_if
c_cond
(paren
op_logical_neg
id|bttv_tvcards
(braket
id|btv-&gt;c.type
)braket
dot
id|no_msp34xx
op_logical_and
id|bttv_I2CRead
c_func
(paren
id|btv
comma
id|I2C_MSP3400
comma
l_string|&quot;MSP34xx&quot;
)paren
op_ge
l_int|0
)paren
id|request_module
c_func
(paren
l_string|&quot;msp3400&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|bttv_tvcards
(braket
id|btv-&gt;c.type
)braket
dot
id|msp34xx_alt
op_logical_and
id|bttv_I2CRead
c_func
(paren
id|btv
comma
id|I2C_MSP3400_ALT
comma
l_string|&quot;MSP34xx (alternate address)&quot;
)paren
op_ge
l_int|0
)paren
id|request_module
c_func
(paren
l_string|&quot;msp3400&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|bttv_tvcards
(braket
id|btv-&gt;c.type
)braket
dot
id|no_tda9875
op_logical_and
id|bttv_I2CRead
c_func
(paren
id|btv
comma
id|I2C_TDA9875
comma
l_string|&quot;TDA9875&quot;
)paren
op_ge
l_int|0
)paren
id|request_module
c_func
(paren
l_string|&quot;tda9875&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|bttv_tvcards
(braket
id|btv-&gt;c.type
)braket
dot
id|no_tda7432
op_logical_and
id|bttv_I2CRead
c_func
(paren
id|btv
comma
id|I2C_TDA7432
comma
l_string|&quot;TDA7432&quot;
)paren
op_ge
l_int|0
)paren
id|request_module
c_func
(paren
l_string|&quot;tda7432&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|bttv_tvcards
(braket
id|btv-&gt;c.type
)braket
dot
id|needs_tvaudio
)paren
id|request_module
c_func
(paren
l_string|&quot;tvaudio&quot;
)paren
suffix:semicolon
multiline_comment|/* tuner modules */
id|tda9887
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|btv-&gt;pinnacle_id
op_ne
id|UNSET
)paren
id|tda9887
op_assign
l_int|1
suffix:semicolon
r_if
c_cond
(paren
l_int|0
op_eq
id|tda9887
op_logical_and
l_int|0
op_eq
id|bttv_tvcards
(braket
id|btv-&gt;c.type
)braket
dot
id|has_dvb
op_logical_and
id|bttv_I2CRead
c_func
(paren
id|btv
comma
id|I2C_TDA9887
comma
l_string|&quot;TDA9887&quot;
)paren
op_ge
l_int|0
)paren
id|tda9887
op_assign
l_int|1
suffix:semicolon
r_if
c_cond
(paren
(paren
id|btv-&gt;tuner_type
op_eq
id|TUNER_PHILIPS_FM1216ME_MK3
)paren
op_logical_or
(paren
id|btv-&gt;tuner_type
op_eq
id|TUNER_PHILIPS_FM1236_MK3
)paren
op_logical_or
(paren
id|btv-&gt;tuner_type
op_eq
id|TUNER_PHILIPS_FM1256_IH3
)paren
op_logical_or
id|tda9887
)paren
(brace
id|request_module
c_func
(paren
l_string|&quot;tda9887&quot;
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|btv-&gt;tuner_type
op_ne
id|UNSET
)paren
id|request_module
c_func
(paren
l_string|&quot;tuner&quot;
)paren
suffix:semicolon
)brace
multiline_comment|/* ----------------------------------------------------------------------- */
DECL|function|modtec_eeprom
r_static
r_void
id|modtec_eeprom
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
(brace
r_if
c_cond
(paren
id|strncmp
c_func
(paren
op_amp
(paren
id|eeprom_data
(braket
l_int|0x1e
)braket
)paren
comma
l_string|&quot;Temic 4066 FY5&quot;
comma
l_int|14
)paren
op_eq
l_int|0
)paren
(brace
id|btv-&gt;tuner_type
op_assign
id|TUNER_TEMIC_4066FY5_PAL_I
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot;bttv%d: Modtec: Tuner autodetected by eeprom: %s&bslash;n&quot;
comma
id|btv-&gt;c.nr
comma
op_amp
id|eeprom_data
(braket
l_int|0x1e
)braket
)paren
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|strncmp
c_func
(paren
op_amp
(paren
id|eeprom_data
(braket
l_int|0x1e
)braket
)paren
comma
l_string|&quot;Alps TSBB5&quot;
comma
l_int|10
)paren
op_eq
l_int|0
)paren
(brace
id|btv-&gt;tuner_type
op_assign
id|TUNER_ALPS_TSBB5_PAL_I
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot;bttv%d: Modtec: Tuner autodetected by eeprom: %s&bslash;n&quot;
comma
id|btv-&gt;c.nr
comma
op_amp
id|eeprom_data
(braket
l_int|0x1e
)braket
)paren
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|strncmp
c_func
(paren
op_amp
(paren
id|eeprom_data
(braket
l_int|0x1e
)braket
)paren
comma
l_string|&quot;Philips FM1246&quot;
comma
l_int|14
)paren
op_eq
l_int|0
)paren
(brace
id|btv-&gt;tuner_type
op_assign
id|TUNER_PHILIPS_NTSC
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot;bttv%d: Modtec: Tuner autodetected by eeprom: %s&bslash;n&quot;
comma
id|btv-&gt;c.nr
comma
op_amp
id|eeprom_data
(braket
l_int|0x1e
)braket
)paren
suffix:semicolon
)brace
r_else
(brace
id|printk
c_func
(paren
l_string|&quot;bttv%d: Modtec: Unknown TunerString: %s&bslash;n&quot;
comma
id|btv-&gt;c.nr
comma
op_amp
id|eeprom_data
(braket
l_int|0x1e
)braket
)paren
suffix:semicolon
)brace
)brace
DECL|function|hauppauge_eeprom
r_static
r_void
id|__devinit
id|hauppauge_eeprom
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
(brace
r_struct
id|tveeprom
id|tv
suffix:semicolon
id|tveeprom_hauppauge_analog
c_func
(paren
op_amp
id|tv
comma
id|eeprom_data
)paren
suffix:semicolon
id|btv-&gt;tuner_type
op_assign
id|tv.tuner_type
suffix:semicolon
id|btv-&gt;has_radio
op_assign
id|tv.has_radio
suffix:semicolon
)brace
DECL|function|terratec_active_radio_upgrade
r_static
r_int
id|terratec_active_radio_upgrade
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
(brace
r_int
id|freq
suffix:semicolon
id|btv-&gt;has_radio
op_assign
l_int|1
suffix:semicolon
id|btv-&gt;has_matchbox
op_assign
l_int|1
suffix:semicolon
id|btv-&gt;mbox_we
op_assign
l_int|0x10
suffix:semicolon
id|btv-&gt;mbox_most
op_assign
l_int|0x20
suffix:semicolon
id|btv-&gt;mbox_clk
op_assign
l_int|0x08
suffix:semicolon
id|btv-&gt;mbox_data
op_assign
l_int|0x04
suffix:semicolon
id|btv-&gt;mbox_mask
op_assign
l_int|0x3c
suffix:semicolon
id|btv-&gt;mbox_iow
op_assign
l_int|1
op_lshift
l_int|8
suffix:semicolon
id|btv-&gt;mbox_ior
op_assign
l_int|1
op_lshift
l_int|9
suffix:semicolon
id|btv-&gt;mbox_csel
op_assign
l_int|1
op_lshift
l_int|10
suffix:semicolon
id|freq
op_assign
l_int|88000
op_div
l_float|62.5
suffix:semicolon
id|tea5757_write
c_func
(paren
id|btv
comma
l_int|5
op_star
id|freq
op_plus
l_int|0x358
)paren
suffix:semicolon
singleline_comment|// write 0x1ed8
r_if
c_cond
(paren
l_int|0x1ed8
op_eq
id|tea5757_read
c_func
(paren
id|btv
)paren
)paren
(brace
id|printk
c_func
(paren
l_string|&quot;bttv%d: Terratec Active Radio Upgrade found.&bslash;n&quot;
comma
id|btv-&gt;c.nr
)paren
suffix:semicolon
id|btv-&gt;has_radio
op_assign
l_int|1
suffix:semicolon
id|btv-&gt;has_matchbox
op_assign
l_int|1
suffix:semicolon
)brace
r_else
(brace
id|btv-&gt;has_radio
op_assign
l_int|0
suffix:semicolon
id|btv-&gt;has_matchbox
op_assign
l_int|0
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/* ----------------------------------------------------------------------- */
multiline_comment|/*&n; * minimal bootstrap for the WinTV/PVR -- upload altera firmware.&n; *&n; * The hcwamc.rbf firmware file is on the Hauppauge driver CD.  Have&n; * a look at Pvr/pvr45xxx.EXE (self-extracting zip archive, can be&n; * unpacked with unzip).&n; */
DECL|macro|PVR_GPIO_DELAY
mdefine_line|#define PVR_GPIO_DELAY&t;&t;10
DECL|macro|BTTV_ALT_DATA
mdefine_line|#define BTTV_ALT_DATA&t;&t;0x000001
DECL|macro|BTTV_ALT_DCLK
mdefine_line|#define BTTV_ALT_DCLK&t;&t;0x100000
DECL|macro|BTTV_ALT_NCONFIG
mdefine_line|#define BTTV_ALT_NCONFIG&t;0x800000
DECL|function|pvr_altera_load
r_static
r_int
id|__devinit
id|pvr_altera_load
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
id|u8
op_star
id|micro
comma
id|u32
id|microlen
)paren
(brace
id|u32
id|n
suffix:semicolon
id|u8
id|bits
suffix:semicolon
r_int
id|i
suffix:semicolon
id|gpio_inout
c_func
(paren
l_int|0xffffff
comma
id|BTTV_ALT_DATA
op_or
id|BTTV_ALT_DCLK
op_or
id|BTTV_ALT_NCONFIG
)paren
suffix:semicolon
id|gpio_write
c_func
(paren
l_int|0
)paren
suffix:semicolon
id|udelay
c_func
(paren
id|PVR_GPIO_DELAY
)paren
suffix:semicolon
id|gpio_write
c_func
(paren
id|BTTV_ALT_NCONFIG
)paren
suffix:semicolon
id|udelay
c_func
(paren
id|PVR_GPIO_DELAY
)paren
suffix:semicolon
r_for
c_loop
(paren
id|n
op_assign
l_int|0
suffix:semicolon
id|n
OL
id|microlen
suffix:semicolon
id|n
op_increment
)paren
(brace
id|bits
op_assign
id|micro
(braket
id|n
)braket
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|8
suffix:semicolon
id|i
op_increment
)paren
(brace
id|gpio_bits
c_func
(paren
id|BTTV_ALT_DCLK
comma
l_int|0
)paren
suffix:semicolon
r_if
c_cond
(paren
id|bits
op_amp
l_int|0x01
)paren
id|gpio_bits
c_func
(paren
id|BTTV_ALT_DATA
comma
id|BTTV_ALT_DATA
)paren
suffix:semicolon
r_else
id|gpio_bits
c_func
(paren
id|BTTV_ALT_DATA
comma
l_int|0
)paren
suffix:semicolon
id|gpio_bits
c_func
(paren
id|BTTV_ALT_DCLK
comma
id|BTTV_ALT_DCLK
)paren
suffix:semicolon
id|bits
op_rshift_assign
l_int|1
suffix:semicolon
)brace
)brace
id|gpio_bits
c_func
(paren
id|BTTV_ALT_DCLK
comma
l_int|0
)paren
suffix:semicolon
id|udelay
c_func
(paren
id|PVR_GPIO_DELAY
)paren
suffix:semicolon
multiline_comment|/* begin Altera init loop (Not necessary,but doesn&squot;t hurt) */
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|30
suffix:semicolon
id|i
op_increment
)paren
(brace
id|gpio_bits
c_func
(paren
id|BTTV_ALT_DCLK
comma
l_int|0
)paren
suffix:semicolon
id|gpio_bits
c_func
(paren
id|BTTV_ALT_DCLK
comma
id|BTTV_ALT_DCLK
)paren
suffix:semicolon
)brace
id|gpio_bits
c_func
(paren
id|BTTV_ALT_DCLK
comma
l_int|0
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|pvr_boot
r_static
r_int
id|__devinit
id|pvr_boot
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
(brace
r_const
r_struct
id|firmware
op_star
id|fw_entry
suffix:semicolon
r_int
id|rc
suffix:semicolon
id|rc
op_assign
id|request_firmware
c_func
(paren
op_amp
id|fw_entry
comma
l_string|&quot;hcwamc.rbf&quot;
comma
op_amp
id|btv-&gt;c.pci-&gt;dev
)paren
suffix:semicolon
r_if
c_cond
(paren
id|rc
op_ne
l_int|0
)paren
(brace
id|printk
c_func
(paren
id|KERN_WARNING
l_string|&quot;bttv%d: no altera firmware [via hotplug]&bslash;n&quot;
comma
id|btv-&gt;c.nr
)paren
suffix:semicolon
r_return
id|rc
suffix:semicolon
)brace
id|rc
op_assign
id|pvr_altera_load
c_func
(paren
id|btv
comma
id|fw_entry-&gt;data
comma
id|fw_entry-&gt;size
)paren
suffix:semicolon
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;bttv%d: altera firmware upload %s&bslash;n&quot;
comma
id|btv-&gt;c.nr
comma
(paren
id|rc
OL
l_int|0
)paren
ques
c_cond
l_string|&quot;failed&quot;
suffix:colon
l_string|&quot;ok&quot;
)paren
suffix:semicolon
id|release_firmware
c_func
(paren
id|fw_entry
)paren
suffix:semicolon
r_return
id|rc
suffix:semicolon
)brace
multiline_comment|/* ----------------------------------------------------------------------- */
multiline_comment|/* some osprey specific stuff                                              */
DECL|function|osprey_eeprom
r_static
r_void
id|__devinit
id|osprey_eeprom
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
(brace
r_int
id|i
op_assign
l_int|0
suffix:semicolon
r_int
r_char
op_star
id|ee
op_assign
id|eeprom_data
suffix:semicolon
r_int
r_int
id|serial
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|btv-&gt;c.type
op_eq
l_int|0
)paren
(brace
multiline_comment|/* this might be an antique... check for MMAC label in eeprom */
r_if
c_cond
(paren
(paren
id|ee
(braket
l_int|0
)braket
op_eq
l_char|&squot;M&squot;
)paren
op_logical_and
(paren
id|ee
(braket
l_int|1
)braket
op_eq
l_char|&squot;M&squot;
)paren
op_logical_and
(paren
id|ee
(braket
l_int|2
)braket
op_eq
l_char|&squot;A&squot;
)paren
op_logical_and
(paren
id|ee
(braket
l_int|3
)braket
op_eq
l_char|&squot;C&squot;
)paren
)paren
(brace
r_int
r_char
id|checksum
op_assign
l_int|0
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|21
suffix:semicolon
id|i
op_increment
)paren
id|checksum
op_add_assign
id|ee
(braket
id|i
)braket
suffix:semicolon
r_if
c_cond
(paren
id|checksum
op_ne
id|ee
(braket
l_int|21
)braket
)paren
r_return
suffix:semicolon
id|btv-&gt;c.type
op_assign
id|BTTV_OSPREY1x0_848
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|12
suffix:semicolon
id|i
OL
l_int|21
suffix:semicolon
id|i
op_increment
)paren
id|serial
op_mul_assign
l_int|10
comma
id|serial
op_add_assign
id|ee
(braket
id|i
)braket
op_minus
l_char|&squot;0&squot;
suffix:semicolon
)brace
)brace
r_else
(brace
r_int
r_int
id|type
suffix:semicolon
r_int
id|offset
op_assign
l_int|4
op_star
l_int|16
suffix:semicolon
r_for
c_loop
(paren
suffix:semicolon
id|offset
OL
l_int|8
op_star
l_int|16
suffix:semicolon
id|offset
op_add_assign
l_int|16
)paren
(brace
r_int
r_int
id|checksum
op_assign
l_int|0
suffix:semicolon
multiline_comment|/* verify the checksum */
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|14
suffix:semicolon
id|i
op_increment
)paren
(brace
id|checksum
op_add_assign
id|ee
(braket
id|i
op_plus
id|offset
)braket
suffix:semicolon
)brace
id|checksum
op_assign
op_complement
id|checksum
suffix:semicolon
multiline_comment|/* no idea why */
r_if
c_cond
(paren
(paren
(paren
(paren
id|checksum
op_rshift
l_int|8
)paren
op_amp
l_int|0x0FF
)paren
op_eq
id|ee
(braket
id|offset
op_plus
l_int|14
)braket
)paren
op_logical_and
(paren
(paren
id|checksum
op_amp
l_int|0x0FF
)paren
op_eq
id|ee
(braket
id|offset
op_plus
l_int|15
)braket
)paren
)paren
(brace
r_break
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
id|offset
op_ge
l_int|8
op_star
l_int|16
)paren
r_return
suffix:semicolon
multiline_comment|/* found a valid descriptor */
id|type
op_assign
(paren
id|ee
(braket
id|offset
op_plus
l_int|4
)braket
op_lshift
l_int|8
)paren
op_or
(paren
id|ee
(braket
id|offset
op_plus
l_int|5
)braket
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|type
)paren
(brace
multiline_comment|/* 848 based */
r_case
l_int|0x0004
suffix:colon
id|btv-&gt;c.type
op_assign
id|BTTV_OSPREY1x0_848
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x0005
suffix:colon
id|btv-&gt;c.type
op_assign
id|BTTV_OSPREY101_848
suffix:semicolon
r_break
suffix:semicolon
multiline_comment|/* 878 based */
r_case
l_int|0x0012
suffix:colon
r_case
l_int|0x0013
suffix:colon
id|btv-&gt;c.type
op_assign
id|BTTV_OSPREY1x0
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x0014
suffix:colon
r_case
l_int|0x0015
suffix:colon
id|btv-&gt;c.type
op_assign
id|BTTV_OSPREY1x1
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x0016
suffix:colon
r_case
l_int|0x0017
suffix:colon
r_case
l_int|0x0020
suffix:colon
id|btv-&gt;c.type
op_assign
id|BTTV_OSPREY1x1_SVID
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x0018
suffix:colon
r_case
l_int|0x0019
suffix:colon
r_case
l_int|0x001E
suffix:colon
r_case
l_int|0x001F
suffix:colon
id|btv-&gt;c.type
op_assign
id|BTTV_OSPREY2xx
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x001A
suffix:colon
r_case
l_int|0x001B
suffix:colon
id|btv-&gt;c.type
op_assign
id|BTTV_OSPREY2x0_SVID
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x0040
suffix:colon
id|btv-&gt;c.type
op_assign
id|BTTV_OSPREY500
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x0050
suffix:colon
r_case
l_int|0x0056
suffix:colon
id|btv-&gt;c.type
op_assign
id|BTTV_OSPREY540
suffix:semicolon
multiline_comment|/* bttv_osprey_540_init(btv); */
r_break
suffix:semicolon
r_case
l_int|0x0060
suffix:colon
r_case
l_int|0x0070
suffix:colon
id|btv-&gt;c.type
op_assign
id|BTTV_OSPREY2x0
suffix:semicolon
singleline_comment|//enable output on select control lines
id|gpio_inout
c_func
(paren
l_int|0xffffff
comma
l_int|0x000303
)paren
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
multiline_comment|/* unknown...leave generic, but get serial # */
r_break
suffix:semicolon
)brace
id|serial
op_assign
(paren
id|ee
(braket
id|offset
op_plus
l_int|6
)braket
op_lshift
l_int|24
)paren
op_or
(paren
id|ee
(braket
id|offset
op_plus
l_int|7
)braket
op_lshift
l_int|16
)paren
op_or
(paren
id|ee
(braket
id|offset
op_plus
l_int|8
)braket
op_lshift
l_int|8
)paren
op_or
(paren
id|ee
(braket
id|offset
op_plus
l_int|9
)braket
)paren
suffix:semicolon
)brace
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;bttv%d: osprey eeprom: card=%d name=%s serial=%ld&bslash;n&quot;
comma
id|btv-&gt;c.nr
comma
id|btv-&gt;c.type
comma
id|bttv_tvcards
(braket
id|btv-&gt;c.type
)braket
dot
id|name
comma
id|serial
)paren
suffix:semicolon
)brace
multiline_comment|/* ----------------------------------------------------------------------- */
multiline_comment|/* AVermedia specific stuff, from  bktr_card.c                             */
DECL|variable|tuner_0_table
r_static
r_int
id|tuner_0_table
(braket
)braket
op_assign
(brace
id|TUNER_PHILIPS_NTSC
comma
id|TUNER_PHILIPS_PAL
multiline_comment|/* PAL-BG*/
comma
id|TUNER_PHILIPS_PAL
comma
id|TUNER_PHILIPS_PAL
multiline_comment|/* PAL-I*/
comma
id|TUNER_PHILIPS_PAL
comma
id|TUNER_PHILIPS_PAL
comma
id|TUNER_PHILIPS_SECAM
comma
id|TUNER_PHILIPS_SECAM
comma
id|TUNER_PHILIPS_SECAM
comma
id|TUNER_PHILIPS_PAL
comma
id|TUNER_PHILIPS_FM1216ME_MK3
)brace
suffix:semicolon
macro_line|#if 0
r_int
id|tuner_0_fm_table
(braket
)braket
op_assign
(brace
id|PHILIPS_FR1236_NTSC
comma
id|PHILIPS_FR1216_PAL
comma
id|PHILIPS_FR1216_PAL
comma
id|PHILIPS_FR1216_PAL
comma
id|PHILIPS_FR1216_PAL
comma
id|PHILIPS_FR1216_PAL
comma
id|PHILIPS_FR1236_SECAM
comma
id|PHILIPS_FR1236_SECAM
comma
id|PHILIPS_FR1236_SECAM
comma
id|PHILIPS_FR1216_PAL
)brace
suffix:semicolon
macro_line|#endif
DECL|variable|tuner_1_table
r_static
r_int
id|tuner_1_table
(braket
)braket
op_assign
(brace
id|TUNER_TEMIC_NTSC
comma
id|TUNER_TEMIC_PAL
comma
id|TUNER_TEMIC_PAL
comma
id|TUNER_TEMIC_PAL
comma
id|TUNER_TEMIC_PAL
comma
id|TUNER_TEMIC_PAL
comma
id|TUNER_TEMIC_4012FY5
comma
id|TUNER_TEMIC_4012FY5
comma
singleline_comment|//TUNER_TEMIC_SECAM
id|TUNER_TEMIC_4012FY5
comma
id|TUNER_TEMIC_PAL
)brace
suffix:semicolon
DECL|function|avermedia_eeprom
r_static
r_void
id|__devinit
id|avermedia_eeprom
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
(brace
r_int
id|tuner_make
comma
id|tuner_tv_fm
comma
id|tuner_format
comma
id|tuner
op_assign
l_int|0
suffix:semicolon
id|tuner_make
op_assign
(paren
id|eeprom_data
(braket
l_int|0x41
)braket
op_amp
l_int|0x7
)paren
suffix:semicolon
id|tuner_tv_fm
op_assign
(paren
id|eeprom_data
(braket
l_int|0x41
)braket
op_amp
l_int|0x18
)paren
op_rshift
l_int|3
suffix:semicolon
id|tuner_format
op_assign
(paren
id|eeprom_data
(braket
l_int|0x42
)braket
op_amp
l_int|0xf0
)paren
op_rshift
l_int|4
suffix:semicolon
id|btv-&gt;has_remote
op_assign
(paren
id|eeprom_data
(braket
l_int|0x42
)braket
op_amp
l_int|0x01
)paren
suffix:semicolon
r_if
c_cond
(paren
id|tuner_make
op_eq
l_int|0
op_logical_or
id|tuner_make
op_eq
l_int|2
)paren
r_if
c_cond
(paren
id|tuner_format
op_le
l_int|0x0a
)paren
(brace
id|tuner
op_assign
id|tuner_0_table
(braket
id|tuner_format
)braket
suffix:semicolon
)brace
r_if
c_cond
(paren
id|tuner_make
op_eq
l_int|1
)paren
r_if
c_cond
(paren
id|tuner_format
op_le
l_int|9
)paren
(brace
id|tuner
op_assign
id|tuner_1_table
(braket
id|tuner_format
)braket
suffix:semicolon
)brace
r_if
c_cond
(paren
id|tuner_make
op_eq
l_int|4
)paren
r_if
c_cond
(paren
id|tuner_format
op_eq
l_int|0x09
)paren
(brace
id|tuner
op_assign
id|TUNER_LG_NTSC_NEW_TAPC
suffix:semicolon
)brace
singleline_comment|// TAPC-G702P
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;bttv%d: Avermedia eeprom[0x%02x%02x]: tuner=&quot;
comma
id|btv-&gt;c.nr
comma
id|eeprom_data
(braket
l_int|0x41
)braket
comma
id|eeprom_data
(braket
l_int|0x42
)braket
)paren
suffix:semicolon
r_if
c_cond
(paren
id|tuner
)paren
(brace
id|btv-&gt;tuner_type
op_assign
id|tuner
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot;%d&quot;
comma
id|tuner
)paren
suffix:semicolon
)brace
r_else
id|printk
c_func
(paren
l_string|&quot;Unknown type&quot;
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot; radio:%s remote control:%s&bslash;n&quot;
comma
id|tuner_tv_fm
ques
c_cond
l_string|&quot;yes&quot;
suffix:colon
l_string|&quot;no&quot;
comma
id|btv-&gt;has_remote
ques
c_cond
l_string|&quot;yes&quot;
suffix:colon
l_string|&quot;no&quot;
)paren
suffix:semicolon
)brace
multiline_comment|/* used on Voodoo TV/FM (Voodoo 200), S0 wired to 0x10000 */
DECL|function|bttv_tda9880_setnorm
r_void
id|bttv_tda9880_setnorm
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
id|norm
)paren
(brace
singleline_comment|// fix up our card entry
r_if
c_cond
(paren
id|norm
op_eq
id|VIDEO_MODE_NTSC
)paren
(brace
id|bttv_tvcards
(braket
id|BTTV_VOODOOTV_FM
)braket
dot
id|audiomux
(braket
l_int|0
)braket
op_assign
l_int|0x957fff
suffix:semicolon
id|bttv_tvcards
(braket
id|BTTV_VOODOOTV_FM
)braket
dot
id|audiomux
(braket
l_int|4
)braket
op_assign
l_int|0x957fff
suffix:semicolon
id|dprintk
c_func
(paren
l_string|&quot;bttv_tda9880_setnorm to NTSC&bslash;n&quot;
)paren
suffix:semicolon
)brace
r_else
(brace
id|bttv_tvcards
(braket
id|BTTV_VOODOOTV_FM
)braket
dot
id|audiomux
(braket
l_int|0
)braket
op_assign
l_int|0x947fff
suffix:semicolon
id|bttv_tvcards
(braket
id|BTTV_VOODOOTV_FM
)braket
dot
id|audiomux
(braket
l_int|4
)braket
op_assign
l_int|0x947fff
suffix:semicolon
id|dprintk
c_func
(paren
l_string|&quot;bttv_tda9880_setnorm to PAL&bslash;n&quot;
)paren
suffix:semicolon
)brace
singleline_comment|// set GPIO according
id|gpio_bits
c_func
(paren
id|bttv_tvcards
(braket
id|btv-&gt;c.type
)braket
dot
id|gpiomask
comma
id|bttv_tvcards
(braket
id|btv-&gt;c.type
)braket
dot
id|audiomux
(braket
id|btv-&gt;audio
)braket
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * reset/enable the MSP on some Hauppauge cards&n; * Thanks to Ky&#xfffd;sti M&#xfffd;lkki (kmalkki@cc.hut.fi)!&n; *&n; * Hauppauge:  pin  5&n; * Voodoo:     pin 20&n; */
DECL|function|boot_msp34xx
r_static
r_void
id|__devinit
id|boot_msp34xx
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
id|pin
)paren
(brace
r_int
id|mask
op_assign
(paren
l_int|1
op_lshift
id|pin
)paren
suffix:semicolon
id|gpio_inout
c_func
(paren
id|mask
comma
id|mask
)paren
suffix:semicolon
id|gpio_bits
c_func
(paren
id|mask
comma
l_int|0
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|2500
)paren
suffix:semicolon
id|gpio_bits
c_func
(paren
id|mask
comma
id|mask
)paren
suffix:semicolon
r_if
c_cond
(paren
id|bttv_gpio
)paren
id|bttv_gpio_tracking
c_func
(paren
id|btv
comma
l_string|&quot;msp34xx&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|bttv_verbose
)paren
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;bttv%d: Hauppauge/Voodoo msp34xx: reset line &quot;
l_string|&quot;init [%d]&bslash;n&quot;
comma
id|btv-&gt;c.nr
comma
id|pin
)paren
suffix:semicolon
)brace
DECL|function|boot_bt832
r_static
r_void
id|__devinit
id|boot_bt832
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
(brace
macro_line|#if 0 /* not working yet */
r_int
id|resetbit
op_assign
l_int|0
suffix:semicolon
r_switch
c_cond
(paren
id|btv-&gt;c.type
)paren
(brace
r_case
id|BTTV_PXELVWPLTVPAK
suffix:colon
id|resetbit
op_assign
l_int|0x400000
suffix:semicolon
r_break
suffix:semicolon
r_case
id|BTTV_MODTEC_205
suffix:colon
id|resetbit
op_assign
l_int|1
op_lshift
l_int|9
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
id|BUG
c_func
(paren
)paren
suffix:semicolon
)brace
id|request_module
c_func
(paren
l_string|&quot;bt832&quot;
)paren
suffix:semicolon
id|bttv_call_i2c_clients
c_func
(paren
id|btv
comma
id|BT832_HEXDUMP
comma
l_int|NULL
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot;bttv%d: Reset Bt832 [line=0x%x]&bslash;n&quot;
comma
id|btv-&gt;c.nr
comma
id|resetbit
)paren
suffix:semicolon
id|gpio_write
c_func
(paren
l_int|0
)paren
suffix:semicolon
id|gpio_inout
c_func
(paren
id|resetbit
comma
id|resetbit
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|5
)paren
suffix:semicolon
id|gpio_bits
c_func
(paren
id|resetbit
comma
id|resetbit
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|5
)paren
suffix:semicolon
id|gpio_bits
c_func
(paren
id|resetbit
comma
l_int|0
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|5
)paren
suffix:semicolon
singleline_comment|// bt832 on pixelview changes from i2c 0x8a to 0x88 after
singleline_comment|// being reset as above. So we must follow by this:
id|bttv_call_i2c_clients
c_func
(paren
id|btv
comma
id|BT832_REATTACH
comma
l_int|NULL
)paren
suffix:semicolon
macro_line|#endif
)brace
multiline_comment|/* ----------------------------------------------------------------------- */
multiline_comment|/*  Imagenation L-Model PXC200 Framegrabber */
multiline_comment|/*  This is basically the same procedure as&n; *  used by Alessandro Rubini in his pxc200&n; *  driver, but using BTTV functions */
DECL|function|init_PXC200
r_static
r_void
id|__devinit
id|init_PXC200
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
(brace
r_static
r_int
id|vals
(braket
)braket
id|__devinitdata
op_assign
(brace
l_int|0x08
comma
l_int|0x09
comma
l_int|0x0a
comma
l_int|0x0b
comma
l_int|0x0d
comma
l_int|0x0d
comma
l_int|0x01
comma
l_int|0x02
comma
l_int|0x03
comma
l_int|0x04
comma
l_int|0x05
comma
l_int|0x06
comma
l_int|0x00
)brace
suffix:semicolon
r_int
r_int
id|i
suffix:semicolon
r_int
id|tmp
suffix:semicolon
id|u32
id|val
suffix:semicolon
multiline_comment|/* Initialise GPIO-connevted stuff */
id|gpio_inout
c_func
(paren
l_int|0xffffff
comma
(paren
l_int|1
op_lshift
l_int|13
)paren
)paren
suffix:semicolon
id|gpio_write
c_func
(paren
l_int|0
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|3
)paren
suffix:semicolon
id|gpio_write
c_func
(paren
l_int|1
op_lshift
l_int|13
)paren
suffix:semicolon
multiline_comment|/* GPIO inputs are pulled up, so no need to drive&n;&t; * reset pin any longer */
id|gpio_bits
c_func
(paren
l_int|0xffffff
comma
l_int|0
)paren
suffix:semicolon
r_if
c_cond
(paren
id|bttv_gpio
)paren
id|bttv_gpio_tracking
c_func
(paren
id|btv
comma
l_string|&quot;pxc200&quot;
)paren
suffix:semicolon
multiline_comment|/*  we could/should try and reset/control the AD pots? but&n;&t;    right now  we simply  turned off the crushing.  Without&n;&t;    this the AGC drifts drifts&n;&t;    remember the EN is reverse logic --&gt;&n;&t;    setting BT848_ADC_AGC_EN disable the AGC&n;&t;    tboult@eecs.lehigh.edu&n;&t;*/
id|btwrite
c_func
(paren
id|BT848_ADC_RESERVED
op_or
id|BT848_ADC_AGC_EN
comma
id|BT848_ADC
)paren
suffix:semicolon
multiline_comment|/*&t;Initialise MAX517 DAC */
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;Setting DAC reference voltage level ...&bslash;n&quot;
)paren
suffix:semicolon
id|bttv_I2CWrite
c_func
(paren
id|btv
comma
l_int|0x5E
comma
l_int|0
comma
l_int|0x80
comma
l_int|1
)paren
suffix:semicolon
multiline_comment|/*&t;Initialise 12C508 PIC */
multiline_comment|/*&t;The I2CWrite and I2CRead commmands are actually to the&n;&t; *&t;same chips - but the R/W bit is included in the address&n;&t; *&t;argument so the numbers are different */
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;Initialising 12C508 PIC chip ...&bslash;n&quot;
)paren
suffix:semicolon
multiline_comment|/* First of all, enable the clock line. This is used in the PXC200-F */
id|val
op_assign
id|btread
c_func
(paren
id|BT848_GPIO_DMA_CTL
)paren
suffix:semicolon
id|val
op_or_assign
id|BT848_GPIO_DMA_CTL_GPCLKMODE
suffix:semicolon
id|btwrite
c_func
(paren
id|val
comma
id|BT848_GPIO_DMA_CTL
)paren
suffix:semicolon
multiline_comment|/* Then, push to 0 the reset pin long enough to reset the *&n;&t; * device same as above for the reset line, but not the same&n;&t; * value sent to the GPIO-connected stuff&n;&t; * which one is the good one? */
id|gpio_inout
c_func
(paren
l_int|0xffffff
comma
(paren
l_int|1
op_lshift
l_int|2
)paren
)paren
suffix:semicolon
id|gpio_write
c_func
(paren
l_int|0
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|10
)paren
suffix:semicolon
id|gpio_write
c_func
(paren
l_int|1
op_lshift
l_int|2
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|ARRAY_SIZE
c_func
(paren
id|vals
)paren
suffix:semicolon
id|i
op_increment
)paren
(brace
id|tmp
op_assign
id|bttv_I2CWrite
c_func
(paren
id|btv
comma
l_int|0x1E
comma
l_int|0
comma
id|vals
(braket
id|i
)braket
comma
l_int|1
)paren
suffix:semicolon
r_if
c_cond
(paren
id|tmp
op_ne
op_minus
l_int|1
)paren
(brace
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;I2C Write(%2.2x) = %i&bslash;nI2C Read () = %2.2x&bslash;n&bslash;n&quot;
comma
id|vals
(braket
id|i
)braket
comma
id|tmp
comma
id|bttv_I2CRead
c_func
(paren
id|btv
comma
l_int|0x1F
comma
l_int|NULL
)paren
)paren
suffix:semicolon
)brace
)brace
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;PXC200 Initialised.&bslash;n&quot;
)paren
suffix:semicolon
)brace
multiline_comment|/* ----------------------------------------------------------------------- */
multiline_comment|/* Miro Pro radio stuff -- the tea5757 is connected to some GPIO ports     */
multiline_comment|/*&n; * Copyright (c) 1999 Csaba Halasz &lt;qgehali@uni-miskolc.hu&gt;&n; * This code is placed under the terms of the GNU General Public License&n; *&n; * Brutally hacked by Dan Sheridan &lt;dan.sheridan@contact.org.uk&gt; djs52 8/3/00&n; */
DECL|function|bus_low
r_static
r_void
id|bus_low
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
id|bit
)paren
(brace
r_if
c_cond
(paren
id|btv-&gt;mbox_ior
)paren
(brace
id|gpio_bits
c_func
(paren
id|btv-&gt;mbox_ior
op_or
id|btv-&gt;mbox_iow
op_or
id|btv-&gt;mbox_csel
comma
id|btv-&gt;mbox_ior
op_or
id|btv-&gt;mbox_iow
op_or
id|btv-&gt;mbox_csel
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|5
)paren
suffix:semicolon
)brace
id|gpio_bits
c_func
(paren
id|bit
comma
l_int|0
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|5
)paren
suffix:semicolon
r_if
c_cond
(paren
id|btv-&gt;mbox_ior
)paren
(brace
id|gpio_bits
c_func
(paren
id|btv-&gt;mbox_iow
op_or
id|btv-&gt;mbox_csel
comma
l_int|0
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|5
)paren
suffix:semicolon
)brace
)brace
DECL|function|bus_high
r_static
r_void
id|bus_high
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
id|bit
)paren
(brace
r_if
c_cond
(paren
id|btv-&gt;mbox_ior
)paren
(brace
id|gpio_bits
c_func
(paren
id|btv-&gt;mbox_ior
op_or
id|btv-&gt;mbox_iow
op_or
id|btv-&gt;mbox_csel
comma
id|btv-&gt;mbox_ior
op_or
id|btv-&gt;mbox_iow
op_or
id|btv-&gt;mbox_csel
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|5
)paren
suffix:semicolon
)brace
id|gpio_bits
c_func
(paren
id|bit
comma
id|bit
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|5
)paren
suffix:semicolon
r_if
c_cond
(paren
id|btv-&gt;mbox_ior
)paren
(brace
id|gpio_bits
c_func
(paren
id|btv-&gt;mbox_iow
op_or
id|btv-&gt;mbox_csel
comma
l_int|0
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|5
)paren
suffix:semicolon
)brace
)brace
DECL|function|bus_in
r_static
r_int
id|bus_in
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
id|bit
)paren
(brace
r_if
c_cond
(paren
id|btv-&gt;mbox_ior
)paren
(brace
id|gpio_bits
c_func
(paren
id|btv-&gt;mbox_ior
op_or
id|btv-&gt;mbox_iow
op_or
id|btv-&gt;mbox_csel
comma
id|btv-&gt;mbox_ior
op_or
id|btv-&gt;mbox_iow
op_or
id|btv-&gt;mbox_csel
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|5
)paren
suffix:semicolon
id|gpio_bits
c_func
(paren
id|btv-&gt;mbox_iow
op_or
id|btv-&gt;mbox_csel
comma
l_int|0
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|5
)paren
suffix:semicolon
)brace
r_return
id|gpio_read
c_func
(paren
)paren
op_amp
(paren
id|bit
)paren
suffix:semicolon
)brace
multiline_comment|/* TEA5757 register bits */
DECL|macro|TEA_FREQ
mdefine_line|#define TEA_FREQ&t;&t;0:14
DECL|macro|TEA_BUFFER
mdefine_line|#define TEA_BUFFER&t;&t;15:15
DECL|macro|TEA_SIGNAL_STRENGTH
mdefine_line|#define TEA_SIGNAL_STRENGTH&t;16:17
DECL|macro|TEA_PORT1
mdefine_line|#define TEA_PORT1&t;&t;18:18
DECL|macro|TEA_PORT0
mdefine_line|#define TEA_PORT0&t;&t;19:19
DECL|macro|TEA_BAND
mdefine_line|#define TEA_BAND&t;&t;20:21
DECL|macro|TEA_BAND_FM
mdefine_line|#define TEA_BAND_FM&t;&t;0
DECL|macro|TEA_BAND_MW
mdefine_line|#define TEA_BAND_MW&t;&t;1
DECL|macro|TEA_BAND_LW
mdefine_line|#define TEA_BAND_LW&t;&t;2
DECL|macro|TEA_BAND_SW
mdefine_line|#define TEA_BAND_SW&t;&t;3
DECL|macro|TEA_MONO
mdefine_line|#define TEA_MONO&t;&t;22:22
DECL|macro|TEA_ALLOW_STEREO
mdefine_line|#define TEA_ALLOW_STEREO&t;0
DECL|macro|TEA_FORCE_MONO
mdefine_line|#define TEA_FORCE_MONO&t;&t;1
DECL|macro|TEA_SEARCH_DIRECTION
mdefine_line|#define TEA_SEARCH_DIRECTION&t;23:23
DECL|macro|TEA_SEARCH_DOWN
mdefine_line|#define TEA_SEARCH_DOWN&t;&t;0
DECL|macro|TEA_SEARCH_UP
mdefine_line|#define TEA_SEARCH_UP&t;&t;1
DECL|macro|TEA_STATUS
mdefine_line|#define TEA_STATUS&t;&t;24:24
DECL|macro|TEA_STATUS_TUNED
mdefine_line|#define TEA_STATUS_TUNED&t;0
DECL|macro|TEA_STATUS_SEARCHING
mdefine_line|#define TEA_STATUS_SEARCHING&t;1
multiline_comment|/* Low-level stuff */
DECL|function|tea5757_read
r_static
r_int
id|tea5757_read
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
(brace
r_int
r_int
id|timeout
suffix:semicolon
r_int
id|value
op_assign
l_int|0
suffix:semicolon
r_int
id|i
suffix:semicolon
multiline_comment|/* better safe than sorry */
id|gpio_inout
c_func
(paren
id|btv-&gt;mbox_mask
comma
id|btv-&gt;mbox_clk
op_or
id|btv-&gt;mbox_we
)paren
suffix:semicolon
r_if
c_cond
(paren
id|btv-&gt;mbox_ior
)paren
(brace
id|gpio_bits
c_func
(paren
id|btv-&gt;mbox_ior
op_or
id|btv-&gt;mbox_iow
op_or
id|btv-&gt;mbox_csel
comma
id|btv-&gt;mbox_ior
op_or
id|btv-&gt;mbox_iow
op_or
id|btv-&gt;mbox_csel
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|5
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|bttv_gpio
)paren
id|bttv_gpio_tracking
c_func
(paren
id|btv
comma
l_string|&quot;tea5757 read&quot;
)paren
suffix:semicolon
id|bus_low
c_func
(paren
id|btv
comma
id|btv-&gt;mbox_we
)paren
suffix:semicolon
id|bus_low
c_func
(paren
id|btv
comma
id|btv-&gt;mbox_clk
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|10
)paren
suffix:semicolon
id|timeout
op_assign
id|jiffies
op_plus
id|HZ
suffix:semicolon
singleline_comment|// wait for DATA line to go low; error if it doesn&squot;t
r_while
c_loop
(paren
id|bus_in
c_func
(paren
id|btv
comma
id|btv-&gt;mbox_data
)paren
op_logical_and
id|time_before
c_func
(paren
id|jiffies
comma
id|timeout
)paren
)paren
id|schedule
c_func
(paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|bus_in
c_func
(paren
id|btv
comma
id|btv-&gt;mbox_data
)paren
)paren
(brace
id|printk
c_func
(paren
id|KERN_WARNING
l_string|&quot;bttv%d: tea5757: read timeout&bslash;n&quot;
comma
id|btv-&gt;c.nr
)paren
suffix:semicolon
r_return
op_minus
l_int|1
suffix:semicolon
)brace
id|dprintk
c_func
(paren
l_string|&quot;bttv%d: tea5757:&quot;
comma
id|btv-&gt;c.nr
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|24
suffix:semicolon
id|i
op_increment
)paren
(brace
id|udelay
c_func
(paren
l_int|5
)paren
suffix:semicolon
id|bus_high
c_func
(paren
id|btv
comma
id|btv-&gt;mbox_clk
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|5
)paren
suffix:semicolon
id|dprintk
c_func
(paren
l_string|&quot;%c&quot;
comma
(paren
id|bus_in
c_func
(paren
id|btv
comma
id|btv-&gt;mbox_most
)paren
op_eq
l_int|0
)paren
ques
c_cond
l_char|&squot;T&squot;
suffix:colon
l_char|&squot;-&squot;
)paren
suffix:semicolon
id|bus_low
c_func
(paren
id|btv
comma
id|btv-&gt;mbox_clk
)paren
suffix:semicolon
id|value
op_lshift_assign
l_int|1
suffix:semicolon
id|value
op_or_assign
(paren
id|bus_in
c_func
(paren
id|btv
comma
id|btv-&gt;mbox_data
)paren
op_eq
l_int|0
)paren
ques
c_cond
l_int|0
suffix:colon
l_int|1
suffix:semicolon
multiline_comment|/* MSB first */
id|dprintk
c_func
(paren
l_string|&quot;%c&quot;
comma
(paren
id|bus_in
c_func
(paren
id|btv
comma
id|btv-&gt;mbox_most
)paren
op_eq
l_int|0
)paren
ques
c_cond
l_char|&squot;S&squot;
suffix:colon
l_char|&squot;M&squot;
)paren
suffix:semicolon
)brace
id|dprintk
c_func
(paren
l_string|&quot;&bslash;nbttv%d: tea5757: read 0x%X&bslash;n&quot;
comma
id|btv-&gt;c.nr
comma
id|value
)paren
suffix:semicolon
r_return
id|value
suffix:semicolon
)brace
DECL|function|tea5757_write
r_static
r_int
id|tea5757_write
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
id|value
)paren
(brace
r_int
id|i
suffix:semicolon
r_int
id|reg
op_assign
id|value
suffix:semicolon
id|gpio_inout
c_func
(paren
id|btv-&gt;mbox_mask
comma
id|btv-&gt;mbox_clk
op_or
id|btv-&gt;mbox_we
op_or
id|btv-&gt;mbox_data
)paren
suffix:semicolon
r_if
c_cond
(paren
id|btv-&gt;mbox_ior
)paren
(brace
id|gpio_bits
c_func
(paren
id|btv-&gt;mbox_ior
op_or
id|btv-&gt;mbox_iow
op_or
id|btv-&gt;mbox_csel
comma
id|btv-&gt;mbox_ior
op_or
id|btv-&gt;mbox_iow
op_or
id|btv-&gt;mbox_csel
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|5
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|bttv_gpio
)paren
id|bttv_gpio_tracking
c_func
(paren
id|btv
comma
l_string|&quot;tea5757 write&quot;
)paren
suffix:semicolon
id|dprintk
c_func
(paren
l_string|&quot;bttv%d: tea5757: write 0x%X&bslash;n&quot;
comma
id|btv-&gt;c.nr
comma
id|value
)paren
suffix:semicolon
id|bus_low
c_func
(paren
id|btv
comma
id|btv-&gt;mbox_clk
)paren
suffix:semicolon
id|bus_high
c_func
(paren
id|btv
comma
id|btv-&gt;mbox_we
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|25
suffix:semicolon
id|i
op_increment
)paren
(brace
r_if
c_cond
(paren
id|reg
op_amp
l_int|0x1000000
)paren
id|bus_high
c_func
(paren
id|btv
comma
id|btv-&gt;mbox_data
)paren
suffix:semicolon
r_else
id|bus_low
c_func
(paren
id|btv
comma
id|btv-&gt;mbox_data
)paren
suffix:semicolon
id|reg
op_lshift_assign
l_int|1
suffix:semicolon
id|bus_high
c_func
(paren
id|btv
comma
id|btv-&gt;mbox_clk
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|10
)paren
suffix:semicolon
id|bus_low
c_func
(paren
id|btv
comma
id|btv-&gt;mbox_clk
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|10
)paren
suffix:semicolon
)brace
id|bus_low
c_func
(paren
id|btv
comma
id|btv-&gt;mbox_we
)paren
suffix:semicolon
multiline_comment|/* unmute !!! */
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|tea5757_set_freq
r_void
id|tea5757_set_freq
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
r_int
id|freq
)paren
(brace
id|dprintk
c_func
(paren
l_string|&quot;tea5757_set_freq %d&bslash;n&quot;
comma
id|freq
)paren
suffix:semicolon
id|tea5757_write
c_func
(paren
id|btv
comma
l_int|5
op_star
id|freq
op_plus
l_int|0x358
)paren
suffix:semicolon
multiline_comment|/* add 10.7MHz (see docs) */
macro_line|#if 0
multiline_comment|/* breaks Miro PCTV */
id|value
op_assign
id|tea5757_read
c_func
(paren
id|btv
)paren
suffix:semicolon
id|dprintk
c_func
(paren
l_string|&quot;bttv%d: tea5757 readback=0x%x&bslash;n&quot;
comma
id|btv-&gt;c.nr
comma
id|value
)paren
suffix:semicolon
macro_line|#endif
)brace
multiline_comment|/* ----------------------------------------------------------------------- */
multiline_comment|/* winview                                                                 */
DECL|function|winview_audio
r_void
id|winview_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
(brace
multiline_comment|/* PT2254A programming Jon Tombs, jon@gte.esi.us.es */
r_int
id|bits_out
comma
id|loops
comma
id|vol
comma
id|data
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|set
)paren
(brace
multiline_comment|/* Fixed by Leandro Lucarella &lt;luca@linuxmendoza.org.ar (07/31/01) */
id|v-&gt;flags
op_or_assign
id|VIDEO_AUDIO_VOLUME
suffix:semicolon
r_return
suffix:semicolon
)brace
multiline_comment|/* 32 levels logarithmic */
id|vol
op_assign
l_int|32
op_minus
(paren
(paren
id|v-&gt;volume
op_rshift
l_int|11
)paren
)paren
suffix:semicolon
multiline_comment|/* units */
id|bits_out
op_assign
(paren
id|PT2254_DBS_IN_2
op_rshift
(paren
id|vol
op_mod
l_int|5
)paren
)paren
suffix:semicolon
multiline_comment|/* tens */
id|bits_out
op_or_assign
(paren
id|PT2254_DBS_IN_10
op_rshift
(paren
id|vol
op_div
l_int|5
)paren
)paren
suffix:semicolon
id|bits_out
op_or_assign
id|PT2254_L_CHANNEL
op_or
id|PT2254_R_CHANNEL
suffix:semicolon
id|data
op_assign
id|gpio_read
c_func
(paren
)paren
suffix:semicolon
id|data
op_and_assign
op_complement
(paren
id|WINVIEW_PT2254_CLK
op_or
id|WINVIEW_PT2254_DATA
op_or
id|WINVIEW_PT2254_STROBE
)paren
suffix:semicolon
r_for
c_loop
(paren
id|loops
op_assign
l_int|17
suffix:semicolon
id|loops
op_ge
l_int|0
suffix:semicolon
id|loops
op_decrement
)paren
(brace
r_if
c_cond
(paren
id|bits_out
op_amp
(paren
l_int|1
op_lshift
id|loops
)paren
)paren
id|data
op_or_assign
id|WINVIEW_PT2254_DATA
suffix:semicolon
r_else
id|data
op_and_assign
op_complement
id|WINVIEW_PT2254_DATA
suffix:semicolon
id|gpio_write
c_func
(paren
id|data
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|5
)paren
suffix:semicolon
id|data
op_or_assign
id|WINVIEW_PT2254_CLK
suffix:semicolon
id|gpio_write
c_func
(paren
id|data
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|5
)paren
suffix:semicolon
id|data
op_and_assign
op_complement
id|WINVIEW_PT2254_CLK
suffix:semicolon
id|gpio_write
c_func
(paren
id|data
)paren
suffix:semicolon
)brace
id|data
op_or_assign
id|WINVIEW_PT2254_STROBE
suffix:semicolon
id|data
op_and_assign
op_complement
id|WINVIEW_PT2254_DATA
suffix:semicolon
id|gpio_write
c_func
(paren
id|data
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|10
)paren
suffix:semicolon
id|data
op_and_assign
op_complement
id|WINVIEW_PT2254_STROBE
suffix:semicolon
id|gpio_write
c_func
(paren
id|data
)paren
suffix:semicolon
)brace
multiline_comment|/* ----------------------------------------------------------------------- */
multiline_comment|/* mono/stereo control for various cards (which don&squot;t use i2c chips but    */
multiline_comment|/* connect something to the GPIO pins                                      */
r_static
r_void
DECL|function|gvbctv3pci_audio
id|gvbctv3pci_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
(brace
r_int
r_int
id|con
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|set
)paren
(brace
id|gpio_inout
c_func
(paren
l_int|0x300
comma
l_int|0x300
)paren
suffix:semicolon
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_LANG1
)paren
id|con
op_assign
l_int|0x000
suffix:semicolon
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_LANG2
)paren
id|con
op_assign
l_int|0x300
suffix:semicolon
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_STEREO
)paren
id|con
op_assign
l_int|0x200
suffix:semicolon
singleline_comment|//&t;&t;if (v-&gt;mode &amp; VIDEO_SOUND_MONO)
singleline_comment|//&t;&t;&t;con = 0x100;
id|gpio_bits
c_func
(paren
l_int|0x300
comma
id|con
)paren
suffix:semicolon
)brace
r_else
(brace
id|v-&gt;mode
op_assign
id|VIDEO_SOUND_STEREO
op_or
id|VIDEO_SOUND_LANG1
op_or
id|VIDEO_SOUND_LANG2
suffix:semicolon
)brace
)brace
r_static
r_void
DECL|function|gvbctv5pci_audio
id|gvbctv5pci_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
(brace
r_int
r_int
id|val
comma
id|con
suffix:semicolon
macro_line|#if BTTV_VERSION_CODE &gt; KERNEL_VERSION(0,8,0)
r_if
c_cond
(paren
id|btv-&gt;radio_user
)paren
r_return
suffix:semicolon
macro_line|#else
r_if
c_cond
(paren
id|btv-&gt;radio
)paren
r_return
suffix:semicolon
macro_line|#endif
id|val
op_assign
id|gpio_read
c_func
(paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|set
)paren
(brace
id|con
op_assign
l_int|0x000
suffix:semicolon
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_LANG2
)paren
(brace
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_LANG1
)paren
(brace
multiline_comment|/* LANG1 + LANG2 */
id|con
op_assign
l_int|0x100
suffix:semicolon
)brace
r_else
(brace
multiline_comment|/* LANG2 */
id|con
op_assign
l_int|0x300
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
id|con
op_ne
(paren
id|val
op_amp
l_int|0x300
)paren
)paren
(brace
id|gpio_bits
c_func
(paren
l_int|0x300
comma
id|con
)paren
suffix:semicolon
r_if
c_cond
(paren
id|bttv_gpio
)paren
id|bttv_gpio_tracking
c_func
(paren
id|btv
comma
l_string|&quot;gvbctv5pci&quot;
)paren
suffix:semicolon
)brace
)brace
r_else
(brace
r_switch
c_cond
(paren
id|val
op_amp
l_int|0x70
)paren
(brace
r_case
l_int|0x10
suffix:colon
id|v-&gt;mode
op_assign
id|VIDEO_SOUND_LANG1
op_or
id|VIDEO_SOUND_LANG2
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x30
suffix:colon
id|v-&gt;mode
op_assign
id|VIDEO_SOUND_LANG2
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x50
suffix:colon
id|v-&gt;mode
op_assign
id|VIDEO_SOUND_LANG1
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x60
suffix:colon
id|v-&gt;mode
op_assign
id|VIDEO_SOUND_STEREO
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x70
suffix:colon
id|v-&gt;mode
op_assign
id|VIDEO_SOUND_MONO
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
id|v-&gt;mode
op_assign
id|VIDEO_SOUND_MONO
op_or
id|VIDEO_SOUND_STEREO
op_or
id|VIDEO_SOUND_LANG1
op_or
id|VIDEO_SOUND_LANG2
suffix:semicolon
)brace
)brace
)brace
multiline_comment|/*&n; * Mario Medina Nussbaum &lt;medisoft@alohabbs.org.mx&gt;&n; *  I discover that on BT848_GPIO_DATA address a byte 0xcce enable stereo,&n; *  0xdde enables mono and 0xccd enables sap&n; *&n; * Petr Vandrovec &lt;VANDROVE@vc.cvut.cz&gt;&n; *  P.S.: At least mask in line above is wrong - GPIO pins 3,2 select&n; *  input/output sound connection, so both must be set for output mode.&n; *&n; * Looks like it&squot;s needed only for the &quot;tvphone&quot;, the &quot;tvphone 98&quot;&n; * handles this with a tda9840&n; *&n; */
r_static
r_void
DECL|function|avermedia_tvphone_audio
id|avermedia_tvphone_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
(brace
r_int
id|val
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|set
)paren
(brace
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_LANG2
)paren
multiline_comment|/* SAP */
id|val
op_assign
l_int|0x02
suffix:semicolon
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_STEREO
)paren
id|val
op_assign
l_int|0x01
suffix:semicolon
r_if
c_cond
(paren
id|val
)paren
(brace
id|gpio_bits
c_func
(paren
l_int|0x03
comma
id|val
)paren
suffix:semicolon
r_if
c_cond
(paren
id|bttv_gpio
)paren
id|bttv_gpio_tracking
c_func
(paren
id|btv
comma
l_string|&quot;avermedia&quot;
)paren
suffix:semicolon
)brace
)brace
r_else
(brace
id|v-&gt;mode
op_assign
id|VIDEO_SOUND_MONO
op_or
id|VIDEO_SOUND_STEREO
op_or
id|VIDEO_SOUND_LANG1
suffix:semicolon
r_return
suffix:semicolon
)brace
)brace
r_static
r_void
DECL|function|avermedia_tv_stereo_audio
id|avermedia_tv_stereo_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
(brace
r_int
id|val
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|set
)paren
(brace
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_LANG2
)paren
multiline_comment|/* SAP */
id|val
op_assign
l_int|0x01
suffix:semicolon
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_STEREO
)paren
multiline_comment|/* STEREO */
id|val
op_assign
l_int|0x02
suffix:semicolon
id|btaor
c_func
(paren
id|val
comma
op_complement
l_int|0x03
comma
id|BT848_GPIO_DATA
)paren
suffix:semicolon
r_if
c_cond
(paren
id|bttv_gpio
)paren
id|bttv_gpio_tracking
c_func
(paren
id|btv
comma
l_string|&quot;avermedia&quot;
)paren
suffix:semicolon
)brace
r_else
(brace
id|v-&gt;mode
op_assign
id|VIDEO_SOUND_MONO
op_or
id|VIDEO_SOUND_STEREO
op_or
id|VIDEO_SOUND_LANG1
op_or
id|VIDEO_SOUND_LANG2
suffix:semicolon
r_return
suffix:semicolon
)brace
)brace
multiline_comment|/* Lifetec 9415 handling */
r_static
r_void
DECL|function|lt9415_audio
id|lt9415_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
(brace
r_int
id|val
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|gpio_read
c_func
(paren
)paren
op_amp
l_int|0x4000
)paren
(brace
id|v-&gt;mode
op_assign
id|VIDEO_SOUND_MONO
suffix:semicolon
r_return
suffix:semicolon
)brace
r_if
c_cond
(paren
id|set
)paren
(brace
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_LANG2
)paren
multiline_comment|/* A2 SAP */
id|val
op_assign
l_int|0x0080
suffix:semicolon
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_STEREO
)paren
multiline_comment|/* A2 stereo */
id|val
op_assign
l_int|0x0880
suffix:semicolon
r_if
c_cond
(paren
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_LANG1
)paren
op_logical_or
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_MONO
)paren
)paren
id|val
op_assign
l_int|0
suffix:semicolon
id|gpio_bits
c_func
(paren
l_int|0x0880
comma
id|val
)paren
suffix:semicolon
r_if
c_cond
(paren
id|bttv_gpio
)paren
id|bttv_gpio_tracking
c_func
(paren
id|btv
comma
l_string|&quot;lt9415&quot;
)paren
suffix:semicolon
)brace
r_else
(brace
multiline_comment|/* autodetect doesn&squot;t work with this card :-( */
id|v-&gt;mode
op_assign
id|VIDEO_SOUND_MONO
op_or
id|VIDEO_SOUND_STEREO
op_or
id|VIDEO_SOUND_LANG1
op_or
id|VIDEO_SOUND_LANG2
suffix:semicolon
r_return
suffix:semicolon
)brace
)brace
singleline_comment|// TDA9821 on TerraTV+ Bt848, Bt878
r_static
r_void
DECL|function|terratv_audio
id|terratv_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
(brace
r_int
r_int
id|con
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|set
)paren
(brace
id|gpio_inout
c_func
(paren
l_int|0x180000
comma
l_int|0x180000
)paren
suffix:semicolon
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_LANG2
)paren
id|con
op_assign
l_int|0x080000
suffix:semicolon
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_STEREO
)paren
id|con
op_assign
l_int|0x180000
suffix:semicolon
id|gpio_bits
c_func
(paren
l_int|0x180000
comma
id|con
)paren
suffix:semicolon
r_if
c_cond
(paren
id|bttv_gpio
)paren
id|bttv_gpio_tracking
c_func
(paren
id|btv
comma
l_string|&quot;terratv&quot;
)paren
suffix:semicolon
)brace
r_else
(brace
id|v-&gt;mode
op_assign
id|VIDEO_SOUND_MONO
op_or
id|VIDEO_SOUND_STEREO
op_or
id|VIDEO_SOUND_LANG1
op_or
id|VIDEO_SOUND_LANG2
suffix:semicolon
)brace
)brace
r_static
r_void
DECL|function|winfast2000_audio
id|winfast2000_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
(brace
r_int
r_int
id|val
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|set
)paren
(brace
multiline_comment|/*btor (0xc32000, BT848_GPIO_OUT_EN);*/
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_MONO
)paren
multiline_comment|/* Mono */
id|val
op_assign
l_int|0x420000
suffix:semicolon
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_LANG1
)paren
multiline_comment|/* Mono */
id|val
op_assign
l_int|0x420000
suffix:semicolon
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_LANG2
)paren
multiline_comment|/* SAP */
id|val
op_assign
l_int|0x410000
suffix:semicolon
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_STEREO
)paren
multiline_comment|/* Stereo */
id|val
op_assign
l_int|0x020000
suffix:semicolon
r_if
c_cond
(paren
id|val
)paren
(brace
id|gpio_bits
c_func
(paren
l_int|0x430000
comma
id|val
)paren
suffix:semicolon
r_if
c_cond
(paren
id|bttv_gpio
)paren
id|bttv_gpio_tracking
c_func
(paren
id|btv
comma
l_string|&quot;winfast2000&quot;
)paren
suffix:semicolon
)brace
)brace
r_else
(brace
id|v-&gt;mode
op_assign
id|VIDEO_SOUND_MONO
op_or
id|VIDEO_SOUND_STEREO
op_or
id|VIDEO_SOUND_LANG1
op_or
id|VIDEO_SOUND_LANG2
suffix:semicolon
)brace
)brace
multiline_comment|/*&n; * Dariusz Kowalewski &lt;darekk@automex.pl&gt;&n; * sound control for Prolink PV-BT878P+9B (PixelView PlayTV Pro FM+NICAM&n; * revision 9B has on-board TDA9874A sound decoder).&n; *&n; * Note: There are card variants without tda9874a. Forcing the &quot;stereo sound route&quot;&n; *       will mute this cards.&n; */
r_static
r_void
DECL|function|pvbt878p9b_audio
id|pvbt878p9b_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
(brace
r_int
r_int
id|val
op_assign
l_int|0
suffix:semicolon
macro_line|#if BTTV_VERSION_CODE &gt; KERNEL_VERSION(0,8,0)
r_if
c_cond
(paren
id|btv-&gt;radio_user
)paren
r_return
suffix:semicolon
macro_line|#else
r_if
c_cond
(paren
id|btv-&gt;radio
)paren
r_return
suffix:semicolon
macro_line|#endif
r_if
c_cond
(paren
id|set
)paren
(brace
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_MONO
)paren
(brace
id|val
op_assign
l_int|0x01
suffix:semicolon
)brace
r_if
c_cond
(paren
(paren
id|v-&gt;mode
op_amp
(paren
id|VIDEO_SOUND_LANG1
op_or
id|VIDEO_SOUND_LANG2
)paren
)paren
op_logical_or
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_STEREO
)paren
)paren
(brace
id|val
op_assign
l_int|0x02
suffix:semicolon
)brace
r_if
c_cond
(paren
id|val
)paren
(brace
id|gpio_bits
c_func
(paren
l_int|0x03
comma
id|val
)paren
suffix:semicolon
r_if
c_cond
(paren
id|bttv_gpio
)paren
id|bttv_gpio_tracking
c_func
(paren
id|btv
comma
l_string|&quot;pvbt878p9b&quot;
)paren
suffix:semicolon
)brace
)brace
r_else
(brace
id|v-&gt;mode
op_assign
id|VIDEO_SOUND_MONO
op_or
id|VIDEO_SOUND_STEREO
op_or
id|VIDEO_SOUND_LANG1
op_or
id|VIDEO_SOUND_LANG2
suffix:semicolon
)brace
)brace
multiline_comment|/*&n; * Dariusz Kowalewski &lt;darekk@automex.pl&gt;&n; * sound control for FlyVideo 2000S (with tda9874 decoder)&n; * based on pvbt878p9b_audio() - this is not tested, please fix!!!&n; */
r_static
r_void
DECL|function|fv2000s_audio
id|fv2000s_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
(brace
r_int
r_int
id|val
op_assign
l_int|0xffff
suffix:semicolon
macro_line|#if BTTV_VERSION_CODE &gt; KERNEL_VERSION(0,8,0)
r_if
c_cond
(paren
id|btv-&gt;radio_user
)paren
r_return
suffix:semicolon
macro_line|#else
r_if
c_cond
(paren
id|btv-&gt;radio
)paren
r_return
suffix:semicolon
macro_line|#endif
r_if
c_cond
(paren
id|set
)paren
(brace
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_MONO
)paren
(brace
id|val
op_assign
l_int|0x0000
suffix:semicolon
)brace
r_if
c_cond
(paren
(paren
id|v-&gt;mode
op_amp
(paren
id|VIDEO_SOUND_LANG1
op_or
id|VIDEO_SOUND_LANG2
)paren
)paren
op_logical_or
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_STEREO
)paren
)paren
(brace
id|val
op_assign
l_int|0x1080
suffix:semicolon
singleline_comment|//-dk-???: 0x0880, 0x0080, 0x1800 ...
)brace
r_if
c_cond
(paren
id|val
op_ne
l_int|0xffff
)paren
(brace
id|gpio_bits
c_func
(paren
l_int|0x1800
comma
id|val
)paren
suffix:semicolon
r_if
c_cond
(paren
id|bttv_gpio
)paren
id|bttv_gpio_tracking
c_func
(paren
id|btv
comma
l_string|&quot;fv2000s&quot;
)paren
suffix:semicolon
)brace
)brace
r_else
(brace
id|v-&gt;mode
op_assign
id|VIDEO_SOUND_MONO
op_or
id|VIDEO_SOUND_STEREO
op_or
id|VIDEO_SOUND_LANG1
op_or
id|VIDEO_SOUND_LANG2
suffix:semicolon
)brace
)brace
multiline_comment|/*&n; * sound control for Canopus WinDVR PCI&n; * Masaki Suzuki &lt;masaki@btree.org&gt;&n; */
r_static
r_void
DECL|function|windvr_audio
id|windvr_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
(brace
r_int
r_int
id|val
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|set
)paren
(brace
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_MONO
)paren
id|val
op_assign
l_int|0x040000
suffix:semicolon
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_LANG1
)paren
id|val
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_LANG2
)paren
id|val
op_assign
l_int|0x100000
suffix:semicolon
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_STEREO
)paren
id|val
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|val
)paren
(brace
id|gpio_bits
c_func
(paren
l_int|0x140000
comma
id|val
)paren
suffix:semicolon
r_if
c_cond
(paren
id|bttv_gpio
)paren
id|bttv_gpio_tracking
c_func
(paren
id|btv
comma
l_string|&quot;windvr&quot;
)paren
suffix:semicolon
)brace
)brace
r_else
(brace
id|v-&gt;mode
op_assign
id|VIDEO_SOUND_MONO
op_or
id|VIDEO_SOUND_STEREO
op_or
id|VIDEO_SOUND_LANG1
op_or
id|VIDEO_SOUND_LANG2
suffix:semicolon
)brace
)brace
multiline_comment|/*&n; * sound control for AD-TVK503&n; * Hiroshi Takekawa &lt;sian@big.or.jp&gt;&n; */
r_static
r_void
DECL|function|adtvk503_audio
id|adtvk503_audio
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_struct
id|video_audio
op_star
id|v
comma
r_int
id|set
)paren
(brace
r_int
r_int
id|con
op_assign
l_int|0xffffff
suffix:semicolon
singleline_comment|//btaor(0x1e0000, ~0x1e0000, BT848_GPIO_OUT_EN);
r_if
c_cond
(paren
id|set
)paren
(brace
singleline_comment|//btor(***, BT848_GPIO_OUT_EN);
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_LANG1
)paren
id|con
op_assign
l_int|0x00000000
suffix:semicolon
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_LANG2
)paren
id|con
op_assign
l_int|0x00180000
suffix:semicolon
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_STEREO
)paren
id|con
op_assign
l_int|0x00000000
suffix:semicolon
r_if
c_cond
(paren
id|v-&gt;mode
op_amp
id|VIDEO_SOUND_MONO
)paren
id|con
op_assign
l_int|0x00060000
suffix:semicolon
r_if
c_cond
(paren
id|con
op_ne
l_int|0xffffff
)paren
(brace
id|gpio_bits
c_func
(paren
l_int|0x1e0000
comma
id|con
)paren
suffix:semicolon
r_if
c_cond
(paren
id|bttv_gpio
)paren
id|bttv_gpio_tracking
c_func
(paren
id|btv
comma
l_string|&quot;adtvk503&quot;
)paren
suffix:semicolon
)brace
)brace
r_else
(brace
id|v-&gt;mode
op_assign
id|VIDEO_SOUND_MONO
op_or
id|VIDEO_SOUND_STEREO
op_or
id|VIDEO_SOUND_LANG1
op_or
id|VIDEO_SOUND_LANG2
suffix:semicolon
)brace
)brace
multiline_comment|/* RemoteVision MX (rv605) muxsel helper [Miguel Freitas]&n; *&n; * This is needed because rv605 don&squot;t use a normal multiplex, but a crosspoint&n; * switch instead (CD22M3494E). This IC can have multiple active connections&n; * between Xn (input) and Yn (output) pins. We need to clear any existing&n; * connection prior to establish a new one, pulsing the STROBE pin.&n; *&n; * The board hardwire Y0 (xpoint) to MUX1 and MUXOUT to Yin.&n; * GPIO pins are wired as:&n; *  GPIO[0:3] - AX[0:3] (xpoint) - P1[0:3] (microcontroler)&n; *  GPIO[4:6] - AY[0:2] (xpoint) - P1[4:6] (microcontroler)&n; *  GPIO[7]   - DATA (xpoint)    - P1[7] (microcontroler)&n; *  GPIO[8]   -                  - P3[5] (microcontroler)&n; *  GPIO[9]   - RESET (xpoint)   - P3[6] (microcontroler)&n; *  GPIO[10]  - STROBE (xpoint)  - P3[7] (microcontroler)&n; *  GPINTR    -                  - P3[4] (microcontroler)&n; *&n; * The microcontroler is a 80C32 like. It should be possible to change xpoint&n; * configuration either directly (as we are doing) or using the microcontroler&n; * which is also wired to I2C interface. I have no further info on the&n; * microcontroler features, one would need to disassembly the firmware.&n; * note: the vendor refused to give any information on this product, all&n; *       that stuff was found using a multimeter! :)&n; */
DECL|function|rv605_muxsel
r_static
r_void
id|rv605_muxsel
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
r_int
id|input
)paren
(brace
multiline_comment|/* reset all conections */
id|gpio_bits
c_func
(paren
l_int|0x200
comma
l_int|0x200
)paren
suffix:semicolon
id|mdelay
c_func
(paren
l_int|1
)paren
suffix:semicolon
id|gpio_bits
c_func
(paren
l_int|0x200
comma
l_int|0x000
)paren
suffix:semicolon
id|mdelay
c_func
(paren
l_int|1
)paren
suffix:semicolon
multiline_comment|/* create a new conection */
id|gpio_bits
c_func
(paren
l_int|0x480
comma
l_int|0x080
)paren
suffix:semicolon
id|gpio_bits
c_func
(paren
l_int|0x480
comma
l_int|0x480
)paren
suffix:semicolon
id|mdelay
c_func
(paren
l_int|1
)paren
suffix:semicolon
id|gpio_bits
c_func
(paren
l_int|0x480
comma
l_int|0x080
)paren
suffix:semicolon
id|mdelay
c_func
(paren
l_int|1
)paren
suffix:semicolon
)brace
multiline_comment|/* Tibet Systems &squot;Progress DVR&squot; CS16 muxsel helper [Chris Fanning]&n; *&n; * The CS16 (available on eBay cheap) is a PCI board with four Fusion&n; * 878A chips, a PCI bridge, an Atmel microcontroller, four sync seperator&n; * chips, ten eight input analog multiplexors, a not chip and a few&n; * other components.&n; *&n; * 16 inputs on a secondary bracket are provided and can be selected&n; * from each of the four capture chips.  Two of the eight input&n; * multiplexors are used to select from any of the 16 input signals.&n; *&n; * Unsupported hardware capabilities:&n; *  . A video output monitor on the secondary bracket can be selected from&n; *    one of the 878A chips.&n; *  . Another passthrough but I haven&squot;t spent any time investigating it.&n; *  . Digital I/O (logic level connected to GPIO) is available from an&n; *    onboard header.&n; *&n; * The on chip input mux should always be set to 2.&n; * GPIO[16:19] - Video input selection&n; * GPIO[0:3]   - Video output monitor select (only available from one 878A)&n; * GPIO[?:?]   - Digital I/O.&n; *&n; * There is an ATMEL microcontroller with an 8031 core on board.  I have not&n; * determined what function (if any) it provides.  With the microcontroller&n; * and sync seperator chips a guess is that it might have to do with video&n; * switching and maybe some digital I/O.&n; */
DECL|function|tibetCS16_muxsel
r_static
r_void
id|tibetCS16_muxsel
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
r_int
id|input
)paren
(brace
multiline_comment|/* video mux */
id|gpio_bits
c_func
(paren
l_int|0x0f0000
comma
id|input
op_lshift
l_int|16
)paren
suffix:semicolon
)brace
DECL|function|tibetCS16_init
r_static
r_void
id|tibetCS16_init
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
(brace
multiline_comment|/* enable gpio bits, mask obtained via btSpy */
id|gpio_inout
c_func
(paren
l_int|0xffffff
comma
l_int|0x0f7fff
)paren
suffix:semicolon
id|gpio_write
c_func
(paren
l_int|0x0f7fff
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * The following routines for the Kodicom-4400r get a little mind-twisting.&n; * There is a &quot;master&quot; controller and three &quot;slave&quot; controllers, together&n; * an analog switch which connects any of 16 cameras to any of the BT87A&squot;s.&n; * The analog switch is controlled by the &quot;master&quot;, but the detection order&n; * of the four BT878A chips is in an order which I just don&squot;t understand.&n; * The &quot;master&quot; is actually the second controller to be detected.  The&n; * logic on the board uses logical numbers for the 4 controlers, but&n; * those numbers are different from the detection sequence.  When working&n; * with the analog switch, we need to &quot;map&quot; from the detection sequence&n; * over to the board&squot;s logical controller number.  This mapping sequence&n; * is {3, 0, 2, 1}, i.e. the first controller to be detected is logical&n; * unit 3, the second (which is the master) is logical unit 0, etc.&n; * We need to maintain the status of the analog switch (which of the 16&n; * cameras is connected to which of the 4 controllers).  Rather than&n; * add to the bttv structure for this, we use the data reserved for&n; * the mbox (unused for this card type).&n; */
multiline_comment|/*&n; * First a routine to set the analog switch, which controls which camera&n; * is routed to which controller.  The switch comprises an X-address&n; * (gpio bits 0-3, representing the camera, ranging from 0-15), and a&n; * Y-address (gpio bits 4-6, representing the controller, ranging from 0-3).&n; * A data value (gpio bit 7) of &squot;1&squot; enables the switch, and &squot;0&squot; disables&n; * the switch.  A STROBE bit (gpio bit 8) latches the data value into the&n; * specified address.  The idea is to set the address and data, then bring&n; * STROBE high, and finally bring STROBE back to low.&n; */
DECL|function|kodicom4400r_write
r_static
r_void
id|kodicom4400r_write
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
r_char
id|xaddr
comma
r_int
r_char
id|yaddr
comma
r_int
r_char
id|data
)paren
(brace
r_int
r_int
id|udata
suffix:semicolon
id|udata
op_assign
(paren
id|data
op_lshift
l_int|7
)paren
op_or
(paren
(paren
id|yaddr
op_amp
l_int|3
)paren
op_lshift
l_int|4
)paren
op_or
(paren
id|xaddr
op_amp
l_int|0xf
)paren
suffix:semicolon
id|gpio_bits
c_func
(paren
l_int|0x1ff
comma
id|udata
)paren
suffix:semicolon
multiline_comment|/* write ADDR and DAT */
id|gpio_bits
c_func
(paren
l_int|0x1ff
comma
id|udata
op_or
(paren
l_int|1
op_lshift
l_int|8
)paren
)paren
suffix:semicolon
multiline_comment|/* strobe high */
id|gpio_bits
c_func
(paren
l_int|0x1ff
comma
id|udata
)paren
suffix:semicolon
multiline_comment|/* strobe low */
)brace
multiline_comment|/*&n; * Next the mux select.  Both the &quot;master&quot; and &quot;slave&quot; &squot;cards&squot; (controllers)&n; * use this routine.  The routine finds the &quot;master&quot; for the card, maps&n; * the controller number from the detected position over to the logical&n; * number, writes the appropriate data to the analog switch, and housekeeps&n; * the local copy of the switch information.  The parameter &squot;input&squot; is the&n; * requested camera number (0 - 15).&n; */
DECL|function|kodicom4400r_muxsel
r_static
r_void
id|kodicom4400r_muxsel
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
r_int
id|input
)paren
(brace
r_char
op_star
id|sw_status
suffix:semicolon
r_int
id|xaddr
comma
id|yaddr
suffix:semicolon
r_struct
id|bttv
op_star
id|mctlr
suffix:semicolon
r_static
r_int
r_char
id|map
(braket
l_int|4
)braket
op_assign
(brace
l_int|3
comma
l_int|0
comma
l_int|2
comma
l_int|1
)brace
suffix:semicolon
id|mctlr
op_assign
id|master
(braket
id|btv-&gt;c.nr
)braket
suffix:semicolon
r_if
c_cond
(paren
id|mctlr
op_eq
l_int|NULL
)paren
(brace
multiline_comment|/* ignore if master not yet detected */
r_return
suffix:semicolon
)brace
id|yaddr
op_assign
(paren
id|btv-&gt;c.nr
op_minus
id|mctlr-&gt;c.nr
op_plus
l_int|1
)paren
op_amp
l_int|3
suffix:semicolon
multiline_comment|/* the &squot;&amp;&squot; is for safety */
id|yaddr
op_assign
id|map
(braket
id|yaddr
)braket
suffix:semicolon
id|sw_status
op_assign
(paren
r_char
op_star
)paren
(paren
op_amp
id|mctlr-&gt;mbox_we
)paren
suffix:semicolon
id|xaddr
op_assign
id|input
op_amp
l_int|0xf
suffix:semicolon
multiline_comment|/* Check if the controller/camera pair has changed, else ignore */
r_if
c_cond
(paren
id|sw_status
(braket
id|yaddr
)braket
op_ne
id|xaddr
)paren
(brace
multiline_comment|/* &quot;open&quot; the old switch, &quot;close&quot; the new one, save the new */
id|kodicom4400r_write
c_func
(paren
id|mctlr
comma
id|sw_status
(braket
id|yaddr
)braket
comma
id|yaddr
comma
l_int|0
)paren
suffix:semicolon
id|sw_status
(braket
id|yaddr
)braket
op_assign
id|xaddr
suffix:semicolon
id|kodicom4400r_write
c_func
(paren
id|mctlr
comma
id|xaddr
comma
id|yaddr
comma
l_int|1
)paren
suffix:semicolon
)brace
)brace
multiline_comment|/*&n; * During initialisation, we need to reset the analog switch.  We&n; * also preset the switch to map the 4 connectors on the card to the&n; * *user&squot;s* (see above description of kodicom4400r_muxsel) channels&n; * 0 through 3&n; */
DECL|function|kodicom4400r_init
r_static
r_void
id|kodicom4400r_init
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
(brace
r_char
op_star
id|sw_status
op_assign
(paren
r_char
op_star
)paren
(paren
op_amp
id|btv-&gt;mbox_we
)paren
suffix:semicolon
r_int
id|ix
suffix:semicolon
id|gpio_inout
c_func
(paren
l_int|0x0003ff
comma
l_int|0x0003ff
)paren
suffix:semicolon
id|gpio_write
c_func
(paren
l_int|1
op_lshift
l_int|9
)paren
suffix:semicolon
multiline_comment|/* reset MUX */
id|gpio_write
c_func
(paren
l_int|0
)paren
suffix:semicolon
multiline_comment|/* Preset camera 0 to the 4 controllers */
r_for
c_loop
(paren
id|ix
op_assign
l_int|0
suffix:semicolon
id|ix
OL
l_int|4
suffix:semicolon
id|ix
op_increment
)paren
(brace
id|sw_status
(braket
id|ix
)braket
op_assign
id|ix
suffix:semicolon
id|kodicom4400r_write
c_func
(paren
id|btv
comma
id|ix
comma
id|ix
comma
l_int|1
)paren
suffix:semicolon
)brace
multiline_comment|/*&n;&t; * Since this is the &quot;master&quot;, we need to set up the&n;&t; * other three controller chips&squot; pointers to this structure&n;&t; * for later use in the muxsel routine.&n;&t; */
r_if
c_cond
(paren
(paren
id|btv-&gt;c.nr
OL
l_int|1
)paren
op_logical_or
(paren
id|btv-&gt;c.nr
OG
id|BTTV_MAX
op_minus
l_int|3
)paren
)paren
r_return
suffix:semicolon
id|master
(braket
id|btv-&gt;c.nr
op_minus
l_int|1
)braket
op_assign
id|btv
suffix:semicolon
id|master
(braket
id|btv-&gt;c.nr
)braket
op_assign
id|btv
suffix:semicolon
id|master
(braket
id|btv-&gt;c.nr
op_plus
l_int|1
)braket
op_assign
id|btv
suffix:semicolon
id|master
(braket
id|btv-&gt;c.nr
op_plus
l_int|2
)braket
op_assign
id|btv
suffix:semicolon
)brace
singleline_comment|// The Grandtec X-Guard framegrabber card uses two Dual 4-channel
singleline_comment|// video multiplexers to provide up to 16 video inputs. These
singleline_comment|// multiplexers are controlled by the lower 8 GPIO pins of the
singleline_comment|// bt878. The multiplexers probably Pericom PI5V331Q or similar.
singleline_comment|// xxx0 is pin xxx of multiplexer U5,
singleline_comment|// yyy1 is pin yyy of multiplexer U2
DECL|macro|ENA0
mdefine_line|#define ENA0    0x01
DECL|macro|ENB0
mdefine_line|#define ENB0    0x02
DECL|macro|ENA1
mdefine_line|#define ENA1    0x04
DECL|macro|ENB1
mdefine_line|#define ENB1    0x08
DECL|macro|IN10
mdefine_line|#define IN10    0x10
DECL|macro|IN00
mdefine_line|#define IN00    0x20
DECL|macro|IN11
mdefine_line|#define IN11    0x40
DECL|macro|IN01
mdefine_line|#define IN01    0x80
DECL|function|xguard_muxsel
r_static
r_void
id|xguard_muxsel
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
r_int
id|input
)paren
(brace
r_static
r_const
r_int
id|masks
(braket
)braket
op_assign
(brace
id|ENB0
comma
id|ENB0
op_or
id|IN00
comma
id|ENB0
op_or
id|IN10
comma
id|ENB0
op_or
id|IN00
op_or
id|IN10
comma
id|ENA0
comma
id|ENA0
op_or
id|IN00
comma
id|ENA0
op_or
id|IN10
comma
id|ENA0
op_or
id|IN00
op_or
id|IN10
comma
id|ENB1
comma
id|ENB1
op_or
id|IN01
comma
id|ENB1
op_or
id|IN11
comma
id|ENB1
op_or
id|IN01
op_or
id|IN11
comma
id|ENA1
comma
id|ENA1
op_or
id|IN01
comma
id|ENA1
op_or
id|IN11
comma
id|ENA1
op_or
id|IN01
op_or
id|IN11
comma
)brace
suffix:semicolon
id|gpio_write
c_func
(paren
id|masks
(braket
id|input
op_mod
l_int|16
)braket
)paren
suffix:semicolon
)brace
DECL|function|picolo_tetra_init
r_static
r_void
id|picolo_tetra_init
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
(brace
multiline_comment|/*This is the video input redirection fonctionality : I DID NOT USED IT. */
id|btwrite
(paren
l_int|0x08
op_lshift
l_int|16
comma
id|BT848_GPIO_DATA
)paren
suffix:semicolon
multiline_comment|/*GPIO[19] [==&gt; 4053 B+C] set to 1 */
id|btwrite
(paren
l_int|0x04
op_lshift
l_int|16
comma
id|BT848_GPIO_DATA
)paren
suffix:semicolon
multiline_comment|/*GPIO[18] [==&gt; 4053 A]  set to 1*/
)brace
DECL|function|picolo_tetra_muxsel
r_static
r_void
id|picolo_tetra_muxsel
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
r_int
id|input
)paren
(brace
id|dprintk
(paren
id|KERN_DEBUG
l_string|&quot;bttv%d : picolo_tetra_muxsel =&gt;  input = %d&bslash;n&quot;
comma
id|btv-&gt;c.nr
comma
id|input
)paren
suffix:semicolon
multiline_comment|/*Just set the right path in the analog multiplexers : channel 1 -&gt; 4 ==&gt; Analog Mux ==&gt; MUX0*/
multiline_comment|/*GPIO[20]&amp;GPIO[21] used to choose the right input*/
id|btwrite
(paren
id|input
op_lshift
l_int|20
comma
id|BT848_GPIO_DATA
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * ivc120_muxsel [Added by Alan Garfield &lt;alan@fromorbit.com&gt;]&n; *&n; * The IVC120G security card has 4 i2c controlled TDA8540 matrix&n; * swichers to provide 16 channels to MUX0. The TDA8540&squot;s have&n; * 4 indepedant outputs and as such the IVC120G also has the&n; * optional &quot;Monitor Out&quot; bus. This allows the card to be looking&n; * at one input while the monitor is looking at another.&n; *&n; * Since I&squot;ve couldn&squot;t be bothered figuring out how to add an&n; * independant muxsel for the monitor bus, I&squot;ve just set it to&n; * whatever the card is looking at.&n; *&n; *  OUT0 of the TDA8540&squot;s is connected to MUX0         (0x03)&n; *  OUT1 of the TDA8540&squot;s is connected to &quot;Monitor Out&quot;        (0x0C)&n; *&n; *  TDA8540_ALT3 IN0-3 = Channel 13 - 16       (0x03)&n; *  TDA8540_ALT4 IN0-3 = Channel 1 - 4         (0x03)&n; *  TDA8540_ALT5 IN0-3 = Channel 5 - 8         (0x03)&n; *  TDA8540_ALT6 IN0-3 = Channel 9 - 12                (0x03)&n; *&n; */
multiline_comment|/* All 7 possible sub-ids for the TDA8540 Matrix Switcher */
DECL|macro|I2C_TDA8540
mdefine_line|#define I2C_TDA8540        0x90
DECL|macro|I2C_TDA8540_ALT1
mdefine_line|#define I2C_TDA8540_ALT1   0x92
DECL|macro|I2C_TDA8540_ALT2
mdefine_line|#define I2C_TDA8540_ALT2   0x94
DECL|macro|I2C_TDA8540_ALT3
mdefine_line|#define I2C_TDA8540_ALT3   0x96
DECL|macro|I2C_TDA8540_ALT4
mdefine_line|#define I2C_TDA8540_ALT4   0x98
DECL|macro|I2C_TDA8540_ALT5
mdefine_line|#define I2C_TDA8540_ALT5   0x9a
DECL|macro|I2C_TDA8540_ALT6
mdefine_line|#define I2C_TDA8540_ALT6   0x9c
DECL|function|ivc120_muxsel
r_static
r_void
id|ivc120_muxsel
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
r_int
id|input
)paren
(brace
singleline_comment|// Simple maths
r_int
id|key
op_assign
id|input
op_mod
l_int|4
suffix:semicolon
r_int
id|matrix
op_assign
id|input
op_div
l_int|4
suffix:semicolon
id|dprintk
c_func
(paren
l_string|&quot;bttv%d: ivc120_muxsel: Input - %02d | TDA - %02d | In - %02d&bslash;n&quot;
comma
id|btv-&gt;c.nr
comma
id|input
comma
id|matrix
comma
id|key
)paren
suffix:semicolon
singleline_comment|// Handles the input selection on the TDA8540&squot;s
id|bttv_I2CWrite
c_func
(paren
id|btv
comma
id|I2C_TDA8540_ALT3
comma
l_int|0x00
comma
(paren
(paren
id|matrix
op_eq
l_int|3
)paren
ques
c_cond
(paren
id|key
op_or
id|key
op_lshift
l_int|2
)paren
suffix:colon
l_int|0x00
)paren
comma
l_int|1
)paren
suffix:semicolon
id|bttv_I2CWrite
c_func
(paren
id|btv
comma
id|I2C_TDA8540_ALT4
comma
l_int|0x00
comma
(paren
(paren
id|matrix
op_eq
l_int|0
)paren
ques
c_cond
(paren
id|key
op_or
id|key
op_lshift
l_int|2
)paren
suffix:colon
l_int|0x00
)paren
comma
l_int|1
)paren
suffix:semicolon
id|bttv_I2CWrite
c_func
(paren
id|btv
comma
id|I2C_TDA8540_ALT5
comma
l_int|0x00
comma
(paren
(paren
id|matrix
op_eq
l_int|1
)paren
ques
c_cond
(paren
id|key
op_or
id|key
op_lshift
l_int|2
)paren
suffix:colon
l_int|0x00
)paren
comma
l_int|1
)paren
suffix:semicolon
id|bttv_I2CWrite
c_func
(paren
id|btv
comma
id|I2C_TDA8540_ALT6
comma
l_int|0x00
comma
(paren
(paren
id|matrix
op_eq
l_int|2
)paren
ques
c_cond
(paren
id|key
op_or
id|key
op_lshift
l_int|2
)paren
suffix:colon
l_int|0x00
)paren
comma
l_int|1
)paren
suffix:semicolon
singleline_comment|// Handles the output enables on the TDA8540&squot;s
id|bttv_I2CWrite
c_func
(paren
id|btv
comma
id|I2C_TDA8540_ALT3
comma
l_int|0x02
comma
(paren
(paren
id|matrix
op_eq
l_int|3
)paren
ques
c_cond
l_int|0x03
suffix:colon
l_int|0x00
)paren
comma
l_int|1
)paren
suffix:semicolon
singleline_comment|// 13 - 16
id|bttv_I2CWrite
c_func
(paren
id|btv
comma
id|I2C_TDA8540_ALT4
comma
l_int|0x02
comma
(paren
(paren
id|matrix
op_eq
l_int|0
)paren
ques
c_cond
l_int|0x03
suffix:colon
l_int|0x00
)paren
comma
l_int|1
)paren
suffix:semicolon
singleline_comment|// 1-4
id|bttv_I2CWrite
c_func
(paren
id|btv
comma
id|I2C_TDA8540_ALT5
comma
l_int|0x02
comma
(paren
(paren
id|matrix
op_eq
l_int|1
)paren
ques
c_cond
l_int|0x03
suffix:colon
l_int|0x00
)paren
comma
l_int|1
)paren
suffix:semicolon
singleline_comment|// 5-8
id|bttv_I2CWrite
c_func
(paren
id|btv
comma
id|I2C_TDA8540_ALT6
comma
l_int|0x02
comma
(paren
(paren
id|matrix
op_eq
l_int|2
)paren
ques
c_cond
l_int|0x03
suffix:colon
l_int|0x00
)paren
comma
l_int|1
)paren
suffix:semicolon
singleline_comment|// 9-12
singleline_comment|// Selects MUX0 for input on the 878
id|btaor
c_func
(paren
(paren
l_int|0
)paren
op_lshift
l_int|5
comma
op_complement
(paren
l_int|3
op_lshift
l_int|5
)paren
comma
id|BT848_IFORM
)paren
suffix:semicolon
)brace
multiline_comment|/* PXC200 muxsel helper&n; * luke@syseng.anu.edu.au&n; * another transplant&n; * from Alessandro Rubini (rubini@linux.it)&n; *&n; * There are 4 kinds of cards:&n; * PXC200L which is bt848&n; * PXC200F which is bt848 with PIC controlling mux&n; * PXC200AL which is bt878&n; * PXC200AF which is bt878 with PIC controlling mux&n; */
DECL|macro|PX_CFG_PXC200F
mdefine_line|#define PX_CFG_PXC200F 0x01
DECL|macro|PX_FLAG_PXC200A
mdefine_line|#define PX_FLAG_PXC200A  0x00001000 /* a pxc200A is bt-878 based */
DECL|macro|PX_I2C_PIC
mdefine_line|#define PX_I2C_PIC       0x0f
DECL|macro|PX_PXC200A_CARDID
mdefine_line|#define PX_PXC200A_CARDID 0x200a1295
DECL|macro|PX_I2C_CMD_CFG
mdefine_line|#define PX_I2C_CMD_CFG   0x00
DECL|function|PXC200_muxsel
r_static
r_void
id|PXC200_muxsel
c_func
(paren
r_struct
id|bttv
op_star
id|btv
comma
r_int
r_int
id|input
)paren
(brace
r_int
id|rc
suffix:semicolon
r_int
id|mux
suffix:semicolon
r_int
id|bitmask
suffix:semicolon
r_int
r_char
id|buf
(braket
l_int|2
)braket
suffix:semicolon
multiline_comment|/* Read PIC config to determine if this is a PXC200F */
multiline_comment|/* PX_I2C_CMD_CFG*/
id|buf
(braket
l_int|0
)braket
op_assign
l_int|0
suffix:semicolon
id|buf
(braket
l_int|1
)braket
op_assign
l_int|0
suffix:semicolon
id|rc
op_assign
id|bttv_I2CWrite
c_func
(paren
id|btv
comma
(paren
id|PX_I2C_PIC
op_lshift
l_int|1
)paren
comma
id|buf
(braket
l_int|0
)braket
comma
id|buf
(braket
l_int|1
)braket
comma
l_int|1
)paren
suffix:semicolon
r_if
c_cond
(paren
id|rc
)paren
(brace
id|printk
c_func
(paren
id|KERN_DEBUG
l_string|&quot;bttv%d: PXC200_muxsel: pic cfg write failed:%d&bslash;n&quot;
comma
id|btv-&gt;c.nr
comma
id|rc
)paren
suffix:semicolon
multiline_comment|/* not PXC ? do nothing */
r_return
suffix:semicolon
)brace
id|rc
op_assign
id|bttv_I2CRead
c_func
(paren
id|btv
comma
(paren
id|PX_I2C_PIC
op_lshift
l_int|1
)paren
comma
l_int|NULL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
(paren
id|rc
op_amp
id|PX_CFG_PXC200F
)paren
)paren
(brace
id|printk
c_func
(paren
id|KERN_DEBUG
l_string|&quot;bttv%d: PXC200_muxsel: not PXC200F rc:%d &bslash;n&quot;
comma
id|btv-&gt;c.nr
comma
id|rc
)paren
suffix:semicolon
r_return
suffix:semicolon
)brace
multiline_comment|/* The multiplexer in the 200F is handled by the GPIO port */
multiline_comment|/* get correct mapping between inputs  */
multiline_comment|/*  mux = bttv_tvcards[btv-&gt;type].muxsel[input] &amp; 3; */
multiline_comment|/* ** not needed!?   */
id|mux
op_assign
id|input
suffix:semicolon
multiline_comment|/* make sure output pins are enabled */
multiline_comment|/* bitmask=0x30f; */
id|bitmask
op_assign
l_int|0x302
suffix:semicolon
multiline_comment|/* check whether we have a PXC200A */
r_if
c_cond
(paren
id|btv-&gt;cardid
op_eq
id|PX_PXC200A_CARDID
)paren
(brace
id|bitmask
op_xor_assign
l_int|0x180
suffix:semicolon
multiline_comment|/* use 7 and 9, not 8 and 9 */
id|bitmask
op_or_assign
l_int|7
op_lshift
l_int|4
suffix:semicolon
multiline_comment|/* the DAC */
)brace
id|btwrite
c_func
(paren
id|bitmask
comma
id|BT848_GPIO_OUT_EN
)paren
suffix:semicolon
id|bitmask
op_assign
id|btread
c_func
(paren
id|BT848_GPIO_DATA
)paren
suffix:semicolon
r_if
c_cond
(paren
id|btv-&gt;cardid
op_eq
id|PX_PXC200A_CARDID
)paren
id|bitmask
op_assign
(paren
id|bitmask
op_amp
op_complement
l_int|0x280
)paren
op_or
(paren
(paren
id|mux
op_amp
l_int|2
)paren
op_lshift
l_int|8
)paren
op_or
(paren
(paren
id|mux
op_amp
l_int|1
)paren
op_lshift
l_int|7
)paren
suffix:semicolon
r_else
multiline_comment|/* older device */
id|bitmask
op_assign
(paren
id|bitmask
op_amp
op_complement
l_int|0x300
)paren
op_or
(paren
(paren
id|mux
op_amp
l_int|3
)paren
op_lshift
l_int|8
)paren
suffix:semicolon
id|btwrite
c_func
(paren
id|bitmask
comma
id|BT848_GPIO_DATA
)paren
suffix:semicolon
multiline_comment|/*&n;&t; * Was &quot;to be safe, set the bt848 to input 0&quot;&n;&t; * Actually, since it&squot;s ok at load time, better not messing&n;&t; * with these bits (on PXC200AF you need to set mux 2 here)&n;&t; *&n;&t; * needed because bttv-driver sets mux before calling this function&n;&t; */
r_if
c_cond
(paren
id|btv-&gt;cardid
op_eq
id|PX_PXC200A_CARDID
)paren
id|btaor
c_func
(paren
l_int|2
op_lshift
l_int|5
comma
op_complement
id|BT848_IFORM_MUXSEL
comma
id|BT848_IFORM
)paren
suffix:semicolon
r_else
multiline_comment|/* older device */
id|btand
c_func
(paren
op_complement
id|BT848_IFORM_MUXSEL
comma
id|BT848_IFORM
)paren
suffix:semicolon
id|printk
c_func
(paren
id|KERN_DEBUG
l_string|&quot;bttv%d: setting input channel to:%d&bslash;n&quot;
comma
id|btv-&gt;c.nr
comma
(paren
r_int
)paren
id|mux
)paren
suffix:semicolon
)brace
multiline_comment|/* ----------------------------------------------------------------------- */
multiline_comment|/* motherboard chipset specific stuff                                      */
DECL|function|bttv_check_chipset
r_void
id|__devinit
id|bttv_check_chipset
c_func
(paren
r_void
)paren
(brace
r_int
id|pcipci_fail
op_assign
l_int|0
suffix:semicolon
r_struct
id|pci_dev
op_star
id|dev
op_assign
l_int|NULL
suffix:semicolon
r_if
c_cond
(paren
id|pci_pci_problems
op_amp
id|PCIPCI_FAIL
)paren
id|pcipci_fail
op_assign
l_int|1
suffix:semicolon
r_if
c_cond
(paren
id|pci_pci_problems
op_amp
(paren
id|PCIPCI_TRITON
op_or
id|PCIPCI_NATOMA
op_or
id|PCIPCI_VIAETBF
)paren
)paren
id|triton1
op_assign
l_int|1
suffix:semicolon
r_if
c_cond
(paren
id|pci_pci_problems
op_amp
id|PCIPCI_VSFX
)paren
id|vsfx
op_assign
l_int|1
suffix:semicolon
macro_line|#ifdef PCIPCI_ALIMAGIK
r_if
c_cond
(paren
id|pci_pci_problems
op_amp
id|PCIPCI_ALIMAGIK
)paren
id|latency
op_assign
l_int|0x0A
suffix:semicolon
macro_line|#endif
macro_line|#if 0
multiline_comment|/* print which chipset we have */
r_while
c_loop
(paren
(paren
id|dev
op_assign
id|pci_find_class
c_func
(paren
id|PCI_CLASS_BRIDGE_HOST
op_lshift
l_int|8
comma
id|dev
)paren
)paren
)paren
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;bttv: Host bridge is %s&bslash;n&quot;
comma
id|pci_name
c_func
(paren
id|dev
)paren
)paren
suffix:semicolon
macro_line|#endif
multiline_comment|/* print warnings about any quirks found */
r_if
c_cond
(paren
id|triton1
)paren
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;bttv: Host bridge needs ETBF enabled.&bslash;n&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|vsfx
)paren
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;bttv: Host bridge needs VSFX enabled.&bslash;n&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|pcipci_fail
)paren
(brace
id|printk
c_func
(paren
id|KERN_WARNING
l_string|&quot;bttv: BT848 and your chipset may not work together.&bslash;n&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|UNSET
op_eq
id|no_overlay
)paren
(brace
id|printk
c_func
(paren
id|KERN_WARNING
l_string|&quot;bttv: going to disable overlay.&bslash;n&quot;
)paren
suffix:semicolon
id|no_overlay
op_assign
l_int|1
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
id|UNSET
op_ne
id|latency
)paren
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;bttv: pci latency fixup [%d]&bslash;n&quot;
comma
id|latency
)paren
suffix:semicolon
r_while
c_loop
(paren
(paren
id|dev
op_assign
id|pci_find_device
c_func
(paren
id|PCI_VENDOR_ID_INTEL
comma
id|PCI_DEVICE_ID_INTEL_82441
comma
id|dev
)paren
)paren
)paren
(brace
r_int
r_char
id|b
suffix:semicolon
id|pci_read_config_byte
c_func
(paren
id|dev
comma
l_int|0x53
comma
op_amp
id|b
)paren
suffix:semicolon
r_if
c_cond
(paren
id|bttv_debug
)paren
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;bttv: Host bridge: 82441FX Natoma, &quot;
l_string|&quot;bufcon=0x%02x&bslash;n&quot;
comma
id|b
)paren
suffix:semicolon
)brace
)brace
DECL|function|bttv_handle_chipset
r_int
id|__devinit
id|bttv_handle_chipset
c_func
(paren
r_struct
id|bttv
op_star
id|btv
)paren
(brace
r_int
r_char
id|command
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|triton1
op_logical_and
op_logical_neg
id|vsfx
op_logical_and
id|UNSET
op_eq
id|latency
)paren
r_return
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|bttv_verbose
)paren
(brace
r_if
c_cond
(paren
id|triton1
)paren
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;bttv%d: enabling ETBF (430FX/VP3 compatibilty)&bslash;n&quot;
comma
id|btv-&gt;c.nr
)paren
suffix:semicolon
r_if
c_cond
(paren
id|vsfx
op_logical_and
id|btv-&gt;id
op_ge
l_int|878
)paren
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;bttv%d: enabling VSFX&bslash;n&quot;
comma
id|btv-&gt;c.nr
)paren
suffix:semicolon
r_if
c_cond
(paren
id|UNSET
op_ne
id|latency
)paren
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;bttv%d: setting pci timer to %d&bslash;n&quot;
comma
id|btv-&gt;c.nr
comma
id|latency
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|btv-&gt;id
OL
l_int|878
)paren
(brace
multiline_comment|/* bt848 (mis)uses a bit in the irq mask for etbf */
r_if
c_cond
(paren
id|triton1
)paren
id|btv-&gt;triton1
op_assign
id|BT848_INT_ETBF
suffix:semicolon
)brace
r_else
(brace
multiline_comment|/* bt878 has a bit in the pci config space for it */
id|pci_read_config_byte
c_func
(paren
id|btv-&gt;c.pci
comma
id|BT878_DEVCTRL
comma
op_amp
id|command
)paren
suffix:semicolon
r_if
c_cond
(paren
id|triton1
)paren
id|command
op_or_assign
id|BT878_EN_TBFX
suffix:semicolon
r_if
c_cond
(paren
id|vsfx
)paren
id|command
op_or_assign
id|BT878_EN_VSFX
suffix:semicolon
id|pci_write_config_byte
c_func
(paren
id|btv-&gt;c.pci
comma
id|BT878_DEVCTRL
comma
id|command
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|UNSET
op_ne
id|latency
)paren
id|pci_write_config_byte
c_func
(paren
id|btv-&gt;c.pci
comma
id|PCI_LATENCY_TIMER
comma
id|latency
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/*&n; * Local variables:&n; * c-basic-offset: 8&n; * End:&n; */
eof
