multiline_comment|/*&n; * tveeprom - eeprom decoder for tvcard configuration eeproms&n; *&n; * Data and decoding routines shamelessly borrowed from bttv-cards.c&n; * eeprom access routine shamelessly borrowed from bttv-if.c&n; * which are:&n;&n;    Copyright (C) 1996,97,98 Ralph  Metzler (rjkm@thp.uni-koeln.de)&n;                           &amp; Marcus Metzler (mocm@thp.uni-koeln.de)&n;    (c) 1999-2001 Gerd Knorr &lt;kraxel@goldbach.in-berlin.de&gt;&n;&n; * Adjustments to fit a more general model and all bugs:&n;&n; &t;Copyright (C) 2003 John Klar &lt;linpvr at projectplasma.com&gt;&n;&n; * This program is free software; you can redistribute it and/or modify&n; * it under the terms of the GNU General Public License as published by&n; * the Free Software Foundation; either version 2 of the License, or&n; * (at your option) any later version.&n; *&n; * This program is distributed in the hope that it will be useful,&n; * but WITHOUT ANY WARRANTY; without even the implied warranty of&n; * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the&n; * GNU General Public License for more details.&n; *&n; * You should have received a copy of the GNU General Public License&n; * along with this program; if not, write to the Free Software&n; * Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.&n; */
macro_line|#include &lt;linux/module.h&gt;
macro_line|#include &lt;linux/errno.h&gt;
macro_line|#include &lt;linux/kernel.h&gt;
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;linux/types.h&gt;
macro_line|#include &lt;linux/videodev.h&gt;
macro_line|#include &lt;linux/i2c.h&gt;
macro_line|#include &lt;media/tuner.h&gt;
macro_line|#include &lt;media/tveeprom.h&gt;
id|MODULE_DESCRIPTION
c_func
(paren
l_string|&quot;i2c Hauppauge eeprom decoder driver&quot;
)paren
suffix:semicolon
id|MODULE_AUTHOR
c_func
(paren
l_string|&quot;John Klar&quot;
)paren
suffix:semicolon
id|MODULE_LICENSE
c_func
(paren
l_string|&quot;GPL&quot;
)paren
suffix:semicolon
DECL|variable|debug
r_static
r_int
id|debug
op_assign
l_int|0
suffix:semicolon
id|module_param
c_func
(paren
id|debug
comma
r_int
comma
l_int|0644
)paren
suffix:semicolon
id|MODULE_PARM_DESC
c_func
(paren
id|debug
comma
l_string|&quot;Debug level (0-2)&quot;
)paren
suffix:semicolon
DECL|macro|STRM
mdefine_line|#define STRM(array,i) (i &lt; sizeof(array)/sizeof(char*) ? array[i] : &quot;unknown&quot;)
DECL|macro|dprintk
mdefine_line|#define dprintk(num, args...) &bslash;&n;&t;do { &bslash;&n;&t;&t;if (debug &gt;= num) &bslash;&n;&t;&t;&t;printk(KERN_INFO &quot;tveeprom: &quot; args); &bslash;&n;&t;} while (0)
DECL|macro|TVEEPROM_KERN_ERR
mdefine_line|#define TVEEPROM_KERN_ERR(args...) printk(KERN_ERR &quot;tveeprom: &quot; args);
DECL|macro|TVEEPROM_KERN_INFO
mdefine_line|#define TVEEPROM_KERN_INFO(args...) printk(KERN_INFO &quot;tveeprom: &quot; args);
multiline_comment|/* ----------------------------------------------------------------------- */
multiline_comment|/* some hauppauge specific stuff                                           */
DECL|struct|HAUPPAUGE_TUNER_FMT
r_static
r_struct
id|HAUPPAUGE_TUNER_FMT
(brace
DECL|member|id
r_int
id|id
suffix:semicolon
DECL|member|name
r_char
op_star
id|name
suffix:semicolon
)brace
DECL|variable|hauppauge_tuner_fmt
id|hauppauge_tuner_fmt
(braket
)braket
op_assign
(brace
(brace
l_int|0x00000000
comma
l_string|&quot;unknown1&quot;
)brace
comma
(brace
l_int|0x00000000
comma
l_string|&quot;unknown2&quot;
)brace
comma
(brace
l_int|0x00000007
comma
l_string|&quot;PAL(B/G)&quot;
)brace
comma
(brace
l_int|0x00001000
comma
l_string|&quot;NTSC(M)&quot;
)brace
comma
(brace
l_int|0x00000010
comma
l_string|&quot;PAL(I)&quot;
)brace
comma
(brace
l_int|0x00400000
comma
l_string|&quot;SECAM(L/L&#xfffd;)&quot;
)brace
comma
(brace
l_int|0x00000e00
comma
l_string|&quot;PAL(D/K)&quot;
)brace
comma
(brace
l_int|0x03000000
comma
l_string|&quot;ATSC Digital&quot;
)brace
comma
)brace
suffix:semicolon
multiline_comment|/* This is the full list of possible tuners. Many thanks to Hauppauge for&n;   supplying this information. Note that many tuners where only used for&n;   testing and never made it to the outside world. So you will only see&n;   a subset in actual produced cards. */
DECL|struct|HAUPPAUGE_TUNER
r_static
r_struct
id|HAUPPAUGE_TUNER
(brace
DECL|member|id
r_int
id|id
suffix:semicolon
DECL|member|name
r_char
op_star
id|name
suffix:semicolon
)brace
DECL|variable|hauppauge_tuner
id|hauppauge_tuner
(braket
)braket
op_assign
(brace
multiline_comment|/* 0-9 */
(brace
id|TUNER_ABSENT
comma
l_string|&quot;None&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;External&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Unspecified&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_PAL
comma
l_string|&quot;Philips FI1216&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_SECAM
comma
l_string|&quot;Philips FI1216MF&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_NTSC
comma
l_string|&quot;Philips FI1236&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_PAL_I
comma
l_string|&quot;Philips FI1246&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_PAL_DK
comma
l_string|&quot;Philips FI1256&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_PAL
comma
l_string|&quot;Philips FI1216 MK2&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_SECAM
comma
l_string|&quot;Philips FI1216MF MK2&quot;
)brace
comma
multiline_comment|/* 10-19 */
(brace
id|TUNER_PHILIPS_NTSC
comma
l_string|&quot;Philips FI1236 MK2&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_PAL_I
comma
l_string|&quot;Philips FI1246 MK2&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_PAL_DK
comma
l_string|&quot;Philips FI1256 MK2&quot;
)brace
comma
(brace
id|TUNER_TEMIC_NTSC
comma
l_string|&quot;Temic 4032FY5&quot;
)brace
comma
(brace
id|TUNER_TEMIC_PAL
comma
l_string|&quot;Temic 4002FH5&quot;
)brace
comma
(brace
id|TUNER_TEMIC_PAL_I
comma
l_string|&quot;Temic 4062FY5&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_PAL
comma
l_string|&quot;Philips FR1216 MK2&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_SECAM
comma
l_string|&quot;Philips FR1216MF MK2&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_NTSC
comma
l_string|&quot;Philips FR1236 MK2&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_PAL_I
comma
l_string|&quot;Philips FR1246 MK2&quot;
)brace
comma
multiline_comment|/* 20-29 */
(brace
id|TUNER_PHILIPS_PAL_DK
comma
l_string|&quot;Philips FR1256 MK2&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_PAL
comma
l_string|&quot;Philips FM1216&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_SECAM
comma
l_string|&quot;Philips FM1216MF&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_NTSC
comma
l_string|&quot;Philips FM1236&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_PAL_I
comma
l_string|&quot;Philips FM1246&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_PAL_DK
comma
l_string|&quot;Philips FM1256&quot;
)brace
comma
(brace
id|TUNER_TEMIC_4036FY5_NTSC
comma
l_string|&quot;Temic 4036FY5&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Samsung TCPN9082D&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Samsung TCPM9092P&quot;
)brace
comma
(brace
id|TUNER_TEMIC_4006FH5_PAL
comma
l_string|&quot;Temic 4006FH5&quot;
)brace
comma
multiline_comment|/* 30-39 */
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Samsung TCPN9085D&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Samsung TCPB9085P&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Samsung TCPL9091P&quot;
)brace
comma
(brace
id|TUNER_TEMIC_4039FR5_NTSC
comma
l_string|&quot;Temic 4039FR5&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_FQ1216ME
comma
l_string|&quot;Philips FQ1216 ME&quot;
)brace
comma
(brace
id|TUNER_TEMIC_4066FY5_PAL_I
comma
l_string|&quot;Temic 4066FY5&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_NTSC
comma
l_string|&quot;Philips TD1536&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_NTSC
comma
l_string|&quot;Philips TD1536D&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_NTSC
comma
l_string|&quot;Philips FMR1236&quot;
)brace
comma
multiline_comment|/* mono radio */
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Philips FI1256MP&quot;
)brace
comma
multiline_comment|/* 40-49 */
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Samsung TCPQ9091P&quot;
)brace
comma
(brace
id|TUNER_TEMIC_4006FN5_MULTI_PAL
comma
l_string|&quot;Temic 4006FN5&quot;
)brace
comma
(brace
id|TUNER_TEMIC_4009FR5_PAL
comma
l_string|&quot;Temic 4009FR5&quot;
)brace
comma
(brace
id|TUNER_TEMIC_4046FM5
comma
l_string|&quot;Temic 4046FM5&quot;
)brace
comma
(brace
id|TUNER_TEMIC_4009FN5_MULTI_PAL_FM
comma
l_string|&quot;Temic 4009FN5&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Philips TD1536D FH 44&quot;
)brace
comma
(brace
id|TUNER_LG_NTSC_FM
comma
l_string|&quot;LG TP18NSR01F&quot;
)brace
comma
(brace
id|TUNER_LG_PAL_FM
comma
l_string|&quot;LG TP18PSB01D&quot;
)brace
comma
(brace
id|TUNER_LG_PAL
comma
l_string|&quot;LG TP18PSB11D&quot;
)brace
comma
(brace
id|TUNER_LG_PAL_I_FM
comma
l_string|&quot;LG TAPC-I001D&quot;
)brace
comma
multiline_comment|/* 50-59 */
(brace
id|TUNER_LG_PAL_I
comma
l_string|&quot;LG TAPC-I701D&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Temic 4042FI5&quot;
)brace
comma
(brace
id|TUNER_MICROTUNE_4049FM5
comma
l_string|&quot;Microtune 4049 FM5&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;LG TPI8NSR11F&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Microtune 4049 FM5 Alt I2C&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Philips FQ1216ME MK3&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Philips FI1236 MK3&quot;
)brace
comma
(brace
id|TUNER_PHILIPS_FM1216ME_MK3
comma
l_string|&quot;Philips FM1216 ME MK3&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Philips FM1236 MK3&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Philips FM1216MP MK3&quot;
)brace
comma
multiline_comment|/* 60-69 */
(brace
id|TUNER_ABSENT
comma
l_string|&quot;LG S001D MK3&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;LG M001D MK3&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;LG S701D MK3&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;LG M701D MK3&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Temic 4146FM5&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Temic 4136FY5&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Temic 4106FH5&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Philips FQ1216LMP MK3&quot;
)brace
comma
(brace
id|TUNER_LG_NTSC_TAPE
comma
l_string|&quot;LG TAPE H001F MK3&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;LG TAPE H701F MK3&quot;
)brace
comma
multiline_comment|/* 70-79 */
(brace
id|TUNER_ABSENT
comma
l_string|&quot;LG TALN H200T&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;LG TALN H250T&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;LG TALN M200T&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;LG TALN Z200T&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;LG TALN S200T&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Thompson DTT7595&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Thompson DTT7592&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Silicon TDA8275C1 8290&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Silicon TDA8275C1 8290 FM&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Thompson DTT757&quot;
)brace
comma
multiline_comment|/* 80-89 */
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Philips FQ1216LME MK3&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;LG TAPC G701D&quot;
)brace
comma
(brace
id|TUNER_LG_NTSC_NEW_TAPC
comma
l_string|&quot;LG TAPC H791F&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;TCL 2002MB 3&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;TCL 2002MI 3&quot;
)brace
comma
(brace
id|TUNER_TCL_2002N
comma
l_string|&quot;TCL 2002N 6A&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Philips FQ1236 MK3&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Samsung TCPN 2121P30A&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Samsung TCPE 4121P30A&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;TCL MFPE05 2&quot;
)brace
comma
multiline_comment|/* 90-99 */
(brace
id|TUNER_ABSENT
comma
l_string|&quot;LG TALN H202T&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Philips FQ1216AME MK4&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Philips FQ1236A MK4&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Philips FQ1286A MK4&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Philips FQ1216ME MK5&quot;
)brace
comma
(brace
id|TUNER_ABSENT
comma
l_string|&quot;Philips FQ1236 MK5&quot;
)brace
comma
)brace
suffix:semicolon
DECL|variable|sndtype
r_static
r_char
op_star
id|sndtype
(braket
)braket
op_assign
(brace
l_string|&quot;None&quot;
comma
l_string|&quot;TEA6300&quot;
comma
l_string|&quot;TEA6320&quot;
comma
l_string|&quot;TDA9850&quot;
comma
l_string|&quot;MSP3400C&quot;
comma
l_string|&quot;MSP3410D&quot;
comma
l_string|&quot;MSP3415&quot;
comma
l_string|&quot;MSP3430&quot;
comma
l_string|&quot;MSP3438&quot;
comma
l_string|&quot;CS5331&quot;
comma
l_string|&quot;MSP3435&quot;
comma
l_string|&quot;MSP3440&quot;
comma
l_string|&quot;MSP3445&quot;
comma
l_string|&quot;MSP3411&quot;
comma
l_string|&quot;MSP3416&quot;
comma
l_string|&quot;MSP3425&quot;
comma
l_string|&quot;Type 0x10&quot;
comma
l_string|&quot;Type 0x11&quot;
comma
l_string|&quot;Type 0x12&quot;
comma
l_string|&quot;Type 0x13&quot;
comma
l_string|&quot;Type 0x14&quot;
comma
l_string|&quot;Type 0x15&quot;
comma
l_string|&quot;Type 0x16&quot;
comma
l_string|&quot;Type 0x17&quot;
comma
l_string|&quot;Type 0x18&quot;
comma
l_string|&quot;MSP4418&quot;
comma
l_string|&quot;Type 0x1a&quot;
comma
l_string|&quot;MSP4448&quot;
comma
l_string|&quot;Type 0x1c&quot;
comma
l_string|&quot;Type 0x1d&quot;
comma
l_string|&quot;Type 0x1e&quot;
comma
l_string|&quot;Type 0x1f&quot;
comma
)brace
suffix:semicolon
DECL|function|hasRadioTuner
r_static
r_int
id|hasRadioTuner
c_func
(paren
r_int
id|tunerType
)paren
(brace
r_switch
c_cond
(paren
id|tunerType
)paren
(brace
r_case
l_int|18
suffix:colon
singleline_comment|//PNPEnv_TUNER_FR1236_MK2:
r_case
l_int|23
suffix:colon
singleline_comment|//PNPEnv_TUNER_FM1236:
r_case
l_int|38
suffix:colon
singleline_comment|//PNPEnv_TUNER_FMR1236:
r_case
l_int|16
suffix:colon
singleline_comment|//PNPEnv_TUNER_FR1216_MK2:
r_case
l_int|19
suffix:colon
singleline_comment|//PNPEnv_TUNER_FR1246_MK2:
r_case
l_int|21
suffix:colon
singleline_comment|//PNPEnv_TUNER_FM1216:
r_case
l_int|24
suffix:colon
singleline_comment|//PNPEnv_TUNER_FM1246:
r_case
l_int|17
suffix:colon
singleline_comment|//PNPEnv_TUNER_FR1216MF_MK2:
r_case
l_int|22
suffix:colon
singleline_comment|//PNPEnv_TUNER_FM1216MF:
r_case
l_int|20
suffix:colon
singleline_comment|//PNPEnv_TUNER_FR1256_MK2:
r_case
l_int|25
suffix:colon
singleline_comment|//PNPEnv_TUNER_FM1256:
r_case
l_int|33
suffix:colon
singleline_comment|//PNPEnv_TUNER_4039FR5:
r_case
l_int|42
suffix:colon
singleline_comment|//PNPEnv_TUNER_4009FR5:
r_case
l_int|52
suffix:colon
singleline_comment|//PNPEnv_TUNER_4049FM5:
r_case
l_int|54
suffix:colon
singleline_comment|//PNPEnv_TUNER_4049FM5_AltI2C:
r_case
l_int|44
suffix:colon
singleline_comment|//PNPEnv_TUNER_4009FN5:
r_case
l_int|31
suffix:colon
singleline_comment|//PNPEnv_TUNER_TCPB9085P:
r_case
l_int|30
suffix:colon
singleline_comment|//PNPEnv_TUNER_TCPN9085D:
r_case
l_int|46
suffix:colon
singleline_comment|//PNPEnv_TUNER_TP18NSR01F:
r_case
l_int|47
suffix:colon
singleline_comment|//PNPEnv_TUNER_TP18PSB01D:
r_case
l_int|49
suffix:colon
singleline_comment|//PNPEnv_TUNER_TAPC_I001D:
r_case
l_int|60
suffix:colon
singleline_comment|//PNPEnv_TUNER_TAPE_S001D_MK3:
r_case
l_int|57
suffix:colon
singleline_comment|//PNPEnv_TUNER_FM1216ME_MK3:
r_case
l_int|59
suffix:colon
singleline_comment|//PNPEnv_TUNER_FM1216MP_MK3:
r_case
l_int|58
suffix:colon
singleline_comment|//PNPEnv_TUNER_FM1236_MK3:
r_case
l_int|68
suffix:colon
singleline_comment|//PNPEnv_TUNER_TAPE_H001F_MK3:
r_case
l_int|61
suffix:colon
singleline_comment|//PNPEnv_TUNER_TAPE_M001D_MK3:
r_case
l_int|78
suffix:colon
singleline_comment|//PNPEnv_TUNER_TDA8275C1_8290_FM:
r_case
l_int|89
suffix:colon
singleline_comment|//PNPEnv_TUNER_TCL_MFPE05_2:
r_return
l_int|1
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|tveeprom_hauppauge_analog
r_void
id|tveeprom_hauppauge_analog
c_func
(paren
r_struct
id|tveeprom
op_star
id|tvee
comma
r_int
r_char
op_star
id|eeprom_data
)paren
(brace
multiline_comment|/* ----------------------------------------------&n;&t;** The hauppauge eeprom format is tagged&n;&t;**&n;&t;** if packet[0] == 0x84, then packet[0..1] == length&n;&t;** else length = packet[0] &amp; 3f;&n;&t;** if packet[0] &amp; f8 == f8, then EOD and packet[1] == checksum&n;&t;**&n;&t;** In our (ivtv) case we&squot;re interested in the following:&n;&t;** tuner type: tag [00].05 or [0a].01 (index into hauppauge_tuners)&n;&t;** tuner fmts: tag [00].04 or [0a].00 (bitmask index into hauppauge_fmts)&n;&t;** radio:      tag [00].{last} or [0e].00  (bitmask.  bit2=FM)&n;&t;** audio proc: tag [02].01 or [05].00 (lower nibble indexes lut?)&n;&n;&t;** Fun info:&n;&t;** model:      tag [00].07-08 or [06].00-01&n;&t;** revision:   tag [00].09-0b or [06].04-06&n;&t;** serial#:    tag [01].05-07 or [04].04-06&n;&n;&t;** # of inputs/outputs ???&n;&t;*/
r_int
id|i
comma
id|j
comma
id|len
comma
id|done
comma
id|tag
comma
id|tuner
op_assign
l_int|0
comma
id|t_format
op_assign
l_int|0
suffix:semicolon
r_char
op_star
id|t_name
op_assign
l_int|NULL
comma
op_star
id|t_fmt_name
op_assign
l_int|NULL
suffix:semicolon
id|dprintk
c_func
(paren
l_int|1
comma
l_string|&quot;%s&bslash;n&quot;
comma
id|__FUNCTION__
)paren
suffix:semicolon
id|tvee-&gt;revision
op_assign
id|done
op_assign
id|len
op_assign
l_int|0
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
op_logical_neg
id|done
op_logical_and
id|i
OL
l_int|256
suffix:semicolon
id|i
op_add_assign
id|len
)paren
(brace
id|dprintk
c_func
(paren
l_int|2
comma
l_string|&quot;processing pos = %02x (%02x, %02x)&bslash;n&quot;
comma
id|i
comma
id|eeprom_data
(braket
id|i
)braket
comma
id|eeprom_data
(braket
id|i
op_plus
l_int|1
)braket
)paren
suffix:semicolon
r_if
c_cond
(paren
id|eeprom_data
(braket
id|i
)braket
op_eq
l_int|0x84
)paren
(brace
id|len
op_assign
id|eeprom_data
(braket
id|i
op_plus
l_int|1
)braket
op_plus
(paren
id|eeprom_data
(braket
id|i
op_plus
l_int|2
)braket
op_lshift
l_int|8
)paren
suffix:semicolon
id|i
op_add_assign
l_int|3
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
(paren
id|eeprom_data
(braket
id|i
)braket
op_amp
l_int|0xf0
)paren
op_eq
l_int|0x70
)paren
(brace
r_if
c_cond
(paren
(paren
id|eeprom_data
(braket
id|i
)braket
op_amp
l_int|0x08
)paren
)paren
(brace
multiline_comment|/* verify checksum! */
id|done
op_assign
l_int|1
suffix:semicolon
r_break
suffix:semicolon
)brace
id|len
op_assign
id|eeprom_data
(braket
id|i
)braket
op_amp
l_int|0x07
suffix:semicolon
op_increment
id|i
suffix:semicolon
)brace
r_else
(brace
id|TVEEPROM_KERN_ERR
c_func
(paren
l_string|&quot;Encountered bad packet header [%02x]. &quot;
l_string|&quot;Corrupt or not a Hauppauge eeprom.&bslash;n&quot;
comma
id|eeprom_data
(braket
id|i
)braket
)paren
suffix:semicolon
r_return
suffix:semicolon
)brace
id|dprintk
c_func
(paren
l_int|1
comma
l_string|&quot;%3d [%02x] &quot;
comma
id|len
comma
id|eeprom_data
(braket
id|i
)braket
)paren
suffix:semicolon
r_for
c_loop
(paren
id|j
op_assign
l_int|1
suffix:semicolon
id|j
OL
id|len
suffix:semicolon
id|j
op_increment
)paren
(brace
id|dprintk
c_func
(paren
l_int|1
comma
l_string|&quot;%02x &quot;
comma
id|eeprom_data
(braket
id|i
op_plus
id|j
)braket
)paren
suffix:semicolon
)brace
id|dprintk
c_func
(paren
l_int|1
comma
l_string|&quot;&bslash;n&quot;
)paren
suffix:semicolon
multiline_comment|/* process by tag */
id|tag
op_assign
id|eeprom_data
(braket
id|i
)braket
suffix:semicolon
r_switch
c_cond
(paren
id|tag
)paren
(brace
r_case
l_int|0x00
suffix:colon
id|tuner
op_assign
id|eeprom_data
(braket
id|i
op_plus
l_int|6
)braket
suffix:semicolon
id|t_format
op_assign
id|eeprom_data
(braket
id|i
op_plus
l_int|5
)braket
suffix:semicolon
id|tvee-&gt;has_radio
op_assign
id|eeprom_data
(braket
id|i
op_plus
id|len
op_minus
l_int|1
)braket
suffix:semicolon
id|tvee-&gt;model
op_assign
id|eeprom_data
(braket
id|i
op_plus
l_int|8
)braket
op_plus
(paren
id|eeprom_data
(braket
id|i
op_plus
l_int|9
)braket
op_lshift
l_int|8
)paren
suffix:semicolon
id|tvee-&gt;revision
op_assign
id|eeprom_data
(braket
id|i
op_plus
l_int|10
)braket
op_plus
(paren
id|eeprom_data
(braket
id|i
op_plus
l_int|11
)braket
op_lshift
l_int|8
)paren
op_plus
(paren
id|eeprom_data
(braket
id|i
op_plus
l_int|12
)braket
op_lshift
l_int|16
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x01
suffix:colon
id|tvee-&gt;serial_number
op_assign
id|eeprom_data
(braket
id|i
op_plus
l_int|6
)braket
op_plus
(paren
id|eeprom_data
(braket
id|i
op_plus
l_int|7
)braket
op_lshift
l_int|8
)paren
op_plus
(paren
id|eeprom_data
(braket
id|i
op_plus
l_int|8
)braket
op_lshift
l_int|16
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x02
suffix:colon
id|tvee-&gt;audio_processor
op_assign
id|eeprom_data
(braket
id|i
op_plus
l_int|2
)braket
op_amp
l_int|0x0f
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x04
suffix:colon
id|tvee-&gt;serial_number
op_assign
id|eeprom_data
(braket
id|i
op_plus
l_int|5
)braket
op_plus
(paren
id|eeprom_data
(braket
id|i
op_plus
l_int|6
)braket
op_lshift
l_int|8
)paren
op_plus
(paren
id|eeprom_data
(braket
id|i
op_plus
l_int|7
)braket
op_lshift
l_int|16
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x05
suffix:colon
id|tvee-&gt;audio_processor
op_assign
id|eeprom_data
(braket
id|i
op_plus
l_int|1
)braket
op_amp
l_int|0x0f
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x06
suffix:colon
id|tvee-&gt;model
op_assign
id|eeprom_data
(braket
id|i
op_plus
l_int|1
)braket
op_plus
(paren
id|eeprom_data
(braket
id|i
op_plus
l_int|2
)braket
op_lshift
l_int|8
)paren
suffix:semicolon
id|tvee-&gt;revision
op_assign
id|eeprom_data
(braket
id|i
op_plus
l_int|5
)braket
op_plus
(paren
id|eeprom_data
(braket
id|i
op_plus
l_int|6
)braket
op_lshift
l_int|8
)paren
op_plus
(paren
id|eeprom_data
(braket
id|i
op_plus
l_int|7
)braket
op_lshift
l_int|16
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x0a
suffix:colon
id|tuner
op_assign
id|eeprom_data
(braket
id|i
op_plus
l_int|2
)braket
suffix:semicolon
id|t_format
op_assign
id|eeprom_data
(braket
id|i
op_plus
l_int|1
)braket
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x0e
suffix:colon
id|tvee-&gt;has_radio
op_assign
id|eeprom_data
(braket
id|i
op_plus
l_int|1
)braket
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
id|dprintk
c_func
(paren
l_int|1
comma
l_string|&quot;Not sure what to do with tag [%02x]&bslash;n&quot;
comma
id|tag
)paren
suffix:semicolon
multiline_comment|/* dump the rest of the packet? */
)brace
)brace
r_if
c_cond
(paren
op_logical_neg
id|done
)paren
(brace
id|TVEEPROM_KERN_ERR
c_func
(paren
l_string|&quot;Ran out of data!&bslash;n&quot;
)paren
suffix:semicolon
r_return
suffix:semicolon
)brace
r_if
c_cond
(paren
id|tvee-&gt;revision
op_ne
l_int|0
)paren
(brace
id|tvee-&gt;rev_str
(braket
l_int|0
)braket
op_assign
l_int|32
op_plus
(paren
(paren
id|tvee-&gt;revision
op_rshift
l_int|18
)paren
op_amp
l_int|0x3f
)paren
suffix:semicolon
id|tvee-&gt;rev_str
(braket
l_int|1
)braket
op_assign
l_int|32
op_plus
(paren
(paren
id|tvee-&gt;revision
op_rshift
l_int|12
)paren
op_amp
l_int|0x3f
)paren
suffix:semicolon
id|tvee-&gt;rev_str
(braket
l_int|2
)braket
op_assign
l_int|32
op_plus
(paren
(paren
id|tvee-&gt;revision
op_rshift
l_int|6
)paren
op_amp
l_int|0x3f
)paren
suffix:semicolon
id|tvee-&gt;rev_str
(braket
l_int|3
)braket
op_assign
l_int|32
op_plus
(paren
id|tvee-&gt;revision
op_amp
l_int|0x3f
)paren
suffix:semicolon
id|tvee-&gt;rev_str
(braket
l_int|4
)braket
op_assign
l_int|0
suffix:semicolon
)brace
r_if
c_cond
(paren
id|hasRadioTuner
c_func
(paren
id|tuner
)paren
op_logical_and
op_logical_neg
id|tvee-&gt;has_radio
)paren
(brace
id|TVEEPROM_KERN_INFO
c_func
(paren
l_string|&quot;The eeprom says no radio is present, but the tuner type&bslash;n&quot;
)paren
suffix:semicolon
id|TVEEPROM_KERN_INFO
c_func
(paren
l_string|&quot;indicates otherwise. I will assume that radio is present.&bslash;n&quot;
)paren
suffix:semicolon
id|tvee-&gt;has_radio
op_assign
l_int|1
suffix:semicolon
)brace
r_if
c_cond
(paren
id|tuner
OL
r_sizeof
(paren
id|hauppauge_tuner
)paren
op_div
r_sizeof
(paren
r_struct
id|HAUPPAUGE_TUNER
)paren
)paren
(brace
id|tvee-&gt;tuner_type
op_assign
id|hauppauge_tuner
(braket
id|tuner
)braket
dot
id|id
suffix:semicolon
id|t_name
op_assign
id|hauppauge_tuner
(braket
id|tuner
)braket
dot
id|name
suffix:semicolon
)brace
r_else
(brace
id|t_name
op_assign
l_string|&quot;&lt;unknown&gt;&quot;
suffix:semicolon
)brace
id|tvee-&gt;tuner_formats
op_assign
l_int|0
suffix:semicolon
id|t_fmt_name
op_assign
l_string|&quot;&lt;none&gt;&quot;
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|8
suffix:semicolon
id|i
op_increment
)paren
(brace
r_if
c_cond
(paren
id|t_format
op_amp
(paren
l_int|1
op_lshift
id|i
)paren
)paren
(brace
id|tvee-&gt;tuner_formats
op_or_assign
id|hauppauge_tuner_fmt
(braket
id|i
)braket
dot
id|id
suffix:semicolon
multiline_comment|/* yuck */
id|t_fmt_name
op_assign
id|hauppauge_tuner_fmt
(braket
id|i
)braket
dot
id|name
suffix:semicolon
)brace
)brace
macro_line|#if 0
r_if
c_cond
(paren
id|t_format
OL
r_sizeof
(paren
id|hauppauge_tuner_fmt
)paren
op_div
r_sizeof
(paren
r_struct
id|HAUPPAUGE_TUNER_FMT
)paren
)paren
(brace
id|tvee-&gt;tuner_formats
op_assign
id|hauppauge_tuner_fmt
(braket
id|t_format
)braket
dot
id|id
suffix:semicolon
id|t_fmt_name
op_assign
id|hauppauge_tuner_fmt
(braket
id|t_format
)braket
dot
id|name
suffix:semicolon
)brace
r_else
(brace
id|t_fmt_name
op_assign
l_string|&quot;&lt;unknown&gt;&quot;
suffix:semicolon
)brace
macro_line|#endif
id|TVEEPROM_KERN_INFO
c_func
(paren
l_string|&quot;Hauppauge: model = %d, rev = %s, serial# = %d&bslash;n&quot;
comma
id|tvee-&gt;model
comma
id|tvee-&gt;rev_str
comma
id|tvee-&gt;serial_number
)paren
suffix:semicolon
id|TVEEPROM_KERN_INFO
c_func
(paren
l_string|&quot;tuner = %s (idx = %d, type = %d)&bslash;n&quot;
comma
id|t_name
comma
id|tuner
comma
id|tvee-&gt;tuner_type
)paren
suffix:semicolon
id|TVEEPROM_KERN_INFO
c_func
(paren
l_string|&quot;tuner fmt = %s (eeprom = 0x%02x, v4l2 = 0x%08x)&bslash;n&quot;
comma
id|t_fmt_name
comma
id|t_format
comma
id|tvee-&gt;tuner_formats
)paren
suffix:semicolon
id|TVEEPROM_KERN_INFO
c_func
(paren
l_string|&quot;audio_processor = %s (type = %d)&bslash;n&quot;
comma
id|STRM
c_func
(paren
id|sndtype
comma
id|tvee-&gt;audio_processor
)paren
comma
id|tvee-&gt;audio_processor
)paren
suffix:semicolon
)brace
DECL|variable|tveeprom_hauppauge_analog
id|EXPORT_SYMBOL
c_func
(paren
id|tveeprom_hauppauge_analog
)paren
suffix:semicolon
multiline_comment|/* ----------------------------------------------------------------------- */
multiline_comment|/* generic helper functions                                                */
DECL|function|tveeprom_read
r_int
id|tveeprom_read
c_func
(paren
r_struct
id|i2c_client
op_star
id|c
comma
r_int
r_char
op_star
id|eedata
comma
r_int
id|len
)paren
(brace
r_int
r_char
id|buf
suffix:semicolon
r_int
id|err
suffix:semicolon
id|dprintk
c_func
(paren
l_int|1
comma
l_string|&quot;%s&bslash;n&quot;
comma
id|__FUNCTION__
)paren
suffix:semicolon
id|buf
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
l_int|1
op_ne
(paren
id|err
op_assign
id|i2c_master_send
c_func
(paren
id|c
comma
op_amp
id|buf
comma
l_int|1
)paren
)paren
)paren
(brace
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;tveeprom(%s): Huh, no eeprom present (err=%d)?&bslash;n&quot;
comma
id|c-&gt;name
comma
id|err
)paren
suffix:semicolon
r_return
op_minus
l_int|1
suffix:semicolon
)brace
r_if
c_cond
(paren
id|len
op_ne
(paren
id|err
op_assign
id|i2c_master_recv
c_func
(paren
id|c
comma
id|eedata
comma
id|len
)paren
)paren
)paren
(brace
id|printk
c_func
(paren
id|KERN_WARNING
l_string|&quot;tveeprom(%s): i2c eeprom read error (err=%d)&bslash;n&quot;
comma
id|c-&gt;name
comma
id|err
)paren
suffix:semicolon
r_return
op_minus
l_int|1
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
DECL|variable|tveeprom_read
id|EXPORT_SYMBOL
c_func
(paren
id|tveeprom_read
)paren
suffix:semicolon
DECL|function|tveeprom_dump
r_int
id|tveeprom_dump
c_func
(paren
r_int
r_char
op_star
id|eedata
comma
r_int
id|len
)paren
(brace
r_int
id|i
suffix:semicolon
id|dprintk
c_func
(paren
l_int|1
comma
l_string|&quot;%s&bslash;n&quot;
comma
id|__FUNCTION__
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|len
suffix:semicolon
id|i
op_increment
)paren
(brace
r_if
c_cond
(paren
l_int|0
op_eq
(paren
id|i
op_mod
l_int|16
)paren
)paren
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;tveeprom: %02x:&quot;
comma
id|i
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot; %02x&quot;
comma
id|eedata
(braket
id|i
)braket
)paren
suffix:semicolon
r_if
c_cond
(paren
l_int|15
op_eq
(paren
id|i
op_mod
l_int|16
)paren
)paren
id|printk
c_func
(paren
l_string|&quot;&bslash;n&quot;
)paren
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
DECL|variable|tveeprom_dump
id|EXPORT_SYMBOL
c_func
(paren
id|tveeprom_dump
)paren
suffix:semicolon
multiline_comment|/* ----------------------------------------------------------------------- */
multiline_comment|/* needed for ivtv.sf.net at the moment.  Should go away in the long       */
multiline_comment|/* run, just call the exported tveeprom_* directly, there is no point in   */
multiline_comment|/* using the indirect way via i2c_driver-&gt;command()                        */
macro_line|#ifndef I2C_DRIVERID_TVEEPROM
DECL|macro|I2C_DRIVERID_TVEEPROM
macro_line|# define I2C_DRIVERID_TVEEPROM I2C_DRIVERID_EXP2
macro_line|#endif
DECL|variable|normal_i2c
r_static
r_int
r_int
id|normal_i2c
(braket
)braket
op_assign
(brace
l_int|0xa0
op_rshift
l_int|1
comma
id|I2C_CLIENT_END
comma
)brace
suffix:semicolon
DECL|variable|normal_i2c_range
r_static
r_int
r_int
id|normal_i2c_range
(braket
)braket
op_assign
(brace
id|I2C_CLIENT_END
)brace
suffix:semicolon
id|I2C_CLIENT_INSMOD
suffix:semicolon
DECL|variable|i2c_driver_tveeprom
r_struct
id|i2c_driver
id|i2c_driver_tveeprom
suffix:semicolon
r_static
r_int
DECL|function|tveeprom_command
id|tveeprom_command
c_func
(paren
r_struct
id|i2c_client
op_star
id|client
comma
r_int
r_int
id|cmd
comma
r_void
op_star
id|arg
)paren
(brace
r_struct
id|tveeprom
id|eeprom
suffix:semicolon
id|u32
op_star
id|eeprom_props
op_assign
id|arg
suffix:semicolon
id|u8
op_star
id|buf
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
l_int|0
suffix:colon
id|buf
op_assign
id|kmalloc
c_func
(paren
l_int|256
comma
id|GFP_KERNEL
)paren
suffix:semicolon
id|memset
c_func
(paren
id|buf
comma
l_int|0
comma
l_int|256
)paren
suffix:semicolon
id|tveeprom_read
c_func
(paren
id|client
comma
id|buf
comma
l_int|256
)paren
suffix:semicolon
id|tveeprom_hauppauge_analog
c_func
(paren
op_amp
id|eeprom
comma
id|buf
)paren
suffix:semicolon
id|kfree
c_func
(paren
id|buf
)paren
suffix:semicolon
id|eeprom_props
(braket
l_int|0
)braket
op_assign
id|eeprom.tuner_type
suffix:semicolon
id|eeprom_props
(braket
l_int|1
)braket
op_assign
id|eeprom.tuner_formats
suffix:semicolon
id|eeprom_props
(braket
l_int|2
)braket
op_assign
id|eeprom.model
suffix:semicolon
id|eeprom_props
(braket
l_int|3
)braket
op_assign
id|eeprom.revision
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
r_return
op_minus
id|EINVAL
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
r_static
r_int
DECL|function|tveeprom_detect_client
id|tveeprom_detect_client
c_func
(paren
r_struct
id|i2c_adapter
op_star
id|adapter
comma
r_int
id|address
comma
r_int
id|kind
)paren
(brace
r_struct
id|i2c_client
op_star
id|client
suffix:semicolon
id|dprintk
c_func
(paren
l_int|1
comma
l_string|&quot;%s: id 0x%x @ 0x%x&bslash;n&quot;
comma
id|__FUNCTION__
comma
id|adapter-&gt;id
comma
id|address
op_lshift
l_int|1
)paren
suffix:semicolon
id|client
op_assign
id|kmalloc
c_func
(paren
r_sizeof
(paren
r_struct
id|i2c_client
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
l_int|NULL
op_eq
id|client
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
id|memset
c_func
(paren
id|client
comma
l_int|0
comma
r_sizeof
(paren
r_struct
id|i2c_client
)paren
)paren
suffix:semicolon
id|client-&gt;addr
op_assign
id|address
suffix:semicolon
id|client-&gt;adapter
op_assign
id|adapter
suffix:semicolon
id|client-&gt;driver
op_assign
op_amp
id|i2c_driver_tveeprom
suffix:semicolon
id|client-&gt;flags
op_assign
id|I2C_CLIENT_ALLOW_USE
suffix:semicolon
id|snprintf
c_func
(paren
id|client-&gt;name
comma
r_sizeof
(paren
id|client-&gt;name
)paren
comma
l_string|&quot;tveeprom&quot;
)paren
suffix:semicolon
id|i2c_attach_client
c_func
(paren
id|client
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
r_static
r_int
DECL|function|tveeprom_attach_adapter
id|tveeprom_attach_adapter
(paren
r_struct
id|i2c_adapter
op_star
id|adapter
)paren
(brace
id|dprintk
c_func
(paren
l_int|1
comma
l_string|&quot;%s: id 0x%x&bslash;n&quot;
comma
id|__FUNCTION__
comma
id|adapter-&gt;id
)paren
suffix:semicolon
r_if
c_cond
(paren
id|adapter-&gt;id
op_ne
(paren
id|I2C_ALGO_BIT
op_or
id|I2C_HW_B_BT848
)paren
)paren
r_return
l_int|0
suffix:semicolon
r_return
id|i2c_probe
c_func
(paren
id|adapter
comma
op_amp
id|addr_data
comma
id|tveeprom_detect_client
)paren
suffix:semicolon
)brace
r_static
r_int
DECL|function|tveeprom_detach_client
id|tveeprom_detach_client
(paren
r_struct
id|i2c_client
op_star
id|client
)paren
(brace
r_int
id|err
suffix:semicolon
id|err
op_assign
id|i2c_detach_client
c_func
(paren
id|client
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
r_return
id|err
suffix:semicolon
id|kfree
c_func
(paren
id|client
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|variable|i2c_driver_tveeprom
r_struct
id|i2c_driver
id|i2c_driver_tveeprom
op_assign
(brace
dot
id|owner
op_assign
id|THIS_MODULE
comma
dot
id|name
op_assign
l_string|&quot;tveeprom&quot;
comma
dot
id|id
op_assign
id|I2C_DRIVERID_TVEEPROM
comma
dot
id|flags
op_assign
id|I2C_DF_NOTIFY
comma
dot
id|attach_adapter
op_assign
id|tveeprom_attach_adapter
comma
dot
id|detach_client
op_assign
id|tveeprom_detach_client
comma
dot
id|command
op_assign
id|tveeprom_command
comma
)brace
suffix:semicolon
DECL|function|tveeprom_init
r_static
r_int
id|__init
id|tveeprom_init
c_func
(paren
r_void
)paren
(brace
r_return
id|i2c_add_driver
c_func
(paren
op_amp
id|i2c_driver_tveeprom
)paren
suffix:semicolon
)brace
DECL|function|tveeprom_exit
r_static
r_void
id|__exit
id|tveeprom_exit
c_func
(paren
r_void
)paren
(brace
id|i2c_del_driver
c_func
(paren
op_amp
id|i2c_driver_tveeprom
)paren
suffix:semicolon
)brace
DECL|variable|tveeprom_init
id|module_init
c_func
(paren
id|tveeprom_init
)paren
suffix:semicolon
DECL|variable|tveeprom_exit
id|module_exit
c_func
(paren
id|tveeprom_exit
)paren
suffix:semicolon
multiline_comment|/*&n; * Local variables:&n; * c-basic-offset: 8&n; * End:&n; */
eof
