multiline_comment|/*&n; * Bt8xx based DVB adapter driver &n; *&n; * Copyright (C) 2002,2003 Florian Schirmer &lt;jolt@tuxbox.org&gt;&n; *&n; * This program is free software; you can redistribute it and/or modify&n; * it under the terms of the GNU General Public License as published by&n; * the Free Software Foundation; either version 2 of the License, or&n; * (at your option) any later version.&n; *&n; * This program is distributed in the hope that it will be useful,&n; * but WITHOUT ANY WARRANTY; without even the implied warranty of&n; * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the&n; * GNU General Public License for more details.&n; *&n; * You should have received a copy of the GNU General Public License&n; * along with this program; if not, write to the Free Software&n; * Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.&n; *&n; */
macro_line|#include &lt;linux/bitops.h&gt;
macro_line|#include &lt;linux/module.h&gt;
macro_line|#include &lt;linux/moduleparam.h&gt;
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;linux/device.h&gt;
macro_line|#include &lt;linux/delay.h&gt;
macro_line|#include &lt;linux/slab.h&gt;
macro_line|#include &lt;linux/i2c.h&gt;
macro_line|#include &quot;dmxdev.h&quot;
macro_line|#include &quot;dvbdev.h&quot;
macro_line|#include &quot;dvb_demux.h&quot;
macro_line|#include &quot;dvb_frontend.h&quot;
macro_line|#include &quot;dvb-bt8xx.h&quot;
macro_line|#include &quot;bt878.h&quot;
DECL|variable|debug
r_static
r_int
id|debug
suffix:semicolon
id|module_param
c_func
(paren
id|debug
comma
r_int
comma
l_int|0644
)paren
suffix:semicolon
id|MODULE_PARM_DESC
c_func
(paren
id|debug
comma
l_string|&quot;Turn on/off debugging (default:off).&quot;
)paren
suffix:semicolon
DECL|macro|dprintk
mdefine_line|#define dprintk( args... ) &bslash;&n;&t;do { &bslash;&n;&t;&t;if (debug) printk(KERN_DEBUG args); &bslash;&n;&t;} while (0)
DECL|function|dvb_bt8xx_task
r_static
r_void
id|dvb_bt8xx_task
c_func
(paren
r_int
r_int
id|data
)paren
(brace
r_struct
id|dvb_bt8xx_card
op_star
id|card
op_assign
(paren
r_struct
id|dvb_bt8xx_card
op_star
)paren
id|data
suffix:semicolon
singleline_comment|//printk(&quot;%d &quot;, card-&gt;bt-&gt;finished_block);
r_while
c_loop
(paren
id|card-&gt;bt-&gt;last_block
op_ne
id|card-&gt;bt-&gt;finished_block
)paren
(brace
(paren
id|card-&gt;bt-&gt;TS_Size
ques
c_cond
id|dvb_dmx_swfilter_204
suffix:colon
id|dvb_dmx_swfilter
)paren
(paren
op_amp
id|card-&gt;demux
comma
op_amp
id|card-&gt;bt-&gt;buf_cpu
(braket
id|card-&gt;bt-&gt;last_block
op_star
id|card-&gt;bt-&gt;block_bytes
)braket
comma
id|card-&gt;bt-&gt;block_bytes
)paren
suffix:semicolon
id|card-&gt;bt-&gt;last_block
op_assign
(paren
id|card-&gt;bt-&gt;last_block
op_plus
l_int|1
)paren
op_mod
id|card-&gt;bt-&gt;block_count
suffix:semicolon
)brace
)brace
DECL|function|dvb_bt8xx_start_feed
r_static
r_int
id|dvb_bt8xx_start_feed
c_func
(paren
r_struct
id|dvb_demux_feed
op_star
id|dvbdmxfeed
)paren
(brace
r_struct
id|dvb_demux
op_star
id|dvbdmx
op_assign
id|dvbdmxfeed-&gt;demux
suffix:semicolon
r_struct
id|dvb_bt8xx_card
op_star
id|card
op_assign
id|dvbdmx-&gt;priv
suffix:semicolon
id|dprintk
c_func
(paren
l_string|&quot;dvb_bt8xx: start_feed&bslash;n&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|dvbdmx-&gt;dmx.frontend
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
r_if
c_cond
(paren
id|card-&gt;active
)paren
r_return
l_int|0
suffix:semicolon
id|card-&gt;active
op_assign
l_int|1
suffix:semicolon
singleline_comment|//&t;bt878_start(card-&gt;bt, card-&gt;gpio_mode);
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|dvb_bt8xx_stop_feed
r_static
r_int
id|dvb_bt8xx_stop_feed
c_func
(paren
r_struct
id|dvb_demux_feed
op_star
id|dvbdmxfeed
)paren
(brace
r_struct
id|dvb_demux
op_star
id|dvbdmx
op_assign
id|dvbdmxfeed-&gt;demux
suffix:semicolon
r_struct
id|dvb_bt8xx_card
op_star
id|card
op_assign
id|dvbdmx-&gt;priv
suffix:semicolon
id|dprintk
c_func
(paren
l_string|&quot;dvb_bt8xx: stop_feed&bslash;n&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|dvbdmx-&gt;dmx.frontend
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|card-&gt;active
)paren
r_return
l_int|0
suffix:semicolon
singleline_comment|//&t;bt878_stop(card-&gt;bt);
id|card-&gt;active
op_assign
l_int|0
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|is_pci_slot_eq
r_static
r_int
id|is_pci_slot_eq
c_func
(paren
r_struct
id|pci_dev
op_star
id|adev
comma
r_struct
id|pci_dev
op_star
id|bdev
)paren
(brace
r_if
c_cond
(paren
(paren
id|adev-&gt;subsystem_vendor
op_eq
id|bdev-&gt;subsystem_vendor
)paren
op_logical_and
(paren
id|adev-&gt;subsystem_device
op_eq
id|bdev-&gt;subsystem_device
)paren
op_logical_and
(paren
id|adev-&gt;bus-&gt;number
op_eq
id|bdev-&gt;bus-&gt;number
)paren
op_logical_and
(paren
id|PCI_SLOT
c_func
(paren
id|adev-&gt;devfn
)paren
op_eq
id|PCI_SLOT
c_func
(paren
id|bdev-&gt;devfn
)paren
)paren
)paren
r_return
l_int|1
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|dvb_bt8xx_878_match
r_static
r_struct
id|bt878
id|__init
op_star
id|dvb_bt8xx_878_match
c_func
(paren
r_int
r_int
id|bttv_nr
comma
r_struct
id|pci_dev
op_star
id|bttv_pci_dev
)paren
(brace
r_int
r_int
id|card_nr
suffix:semicolon
multiline_comment|/* Hmm, n squared. Hope n is small */
r_for
c_loop
(paren
id|card_nr
op_assign
l_int|0
suffix:semicolon
id|card_nr
OL
id|bt878_num
suffix:semicolon
id|card_nr
op_increment
)paren
(brace
r_if
c_cond
(paren
id|is_pci_slot_eq
c_func
(paren
id|bt878
(braket
id|card_nr
)braket
dot
id|dev
comma
id|bttv_pci_dev
)paren
)paren
r_return
op_amp
id|bt878
(braket
id|card_nr
)braket
suffix:semicolon
)brace
r_return
l_int|NULL
suffix:semicolon
)brace
DECL|function|dvb_bt8xx_load_card
r_static
r_int
id|__init
id|dvb_bt8xx_load_card
c_func
(paren
r_struct
id|dvb_bt8xx_card
op_star
id|card
)paren
(brace
r_int
id|result
suffix:semicolon
r_if
c_cond
(paren
(paren
id|result
op_assign
id|dvb_register_adapter
c_func
(paren
op_amp
id|card-&gt;dvb_adapter
comma
id|card-&gt;card_name
comma
id|THIS_MODULE
)paren
)paren
OL
l_int|0
)paren
(brace
id|printk
c_func
(paren
l_string|&quot;dvb_bt8xx: dvb_register_adapter failed (errno = %d)&bslash;n&quot;
comma
id|result
)paren
suffix:semicolon
r_return
id|result
suffix:semicolon
)brace
id|card-&gt;bt-&gt;adapter
op_assign
id|card-&gt;i2c_adapter
suffix:semicolon
id|memset
c_func
(paren
op_amp
id|card-&gt;demux
comma
l_int|0
comma
r_sizeof
(paren
r_struct
id|dvb_demux
)paren
)paren
suffix:semicolon
id|card-&gt;demux.dmx.capabilities
op_assign
id|DMX_TS_FILTERING
op_or
id|DMX_SECTION_FILTERING
op_or
id|DMX_MEMORY_BASED_FILTERING
suffix:semicolon
id|card-&gt;demux.priv
op_assign
id|card
suffix:semicolon
id|card-&gt;demux.filternum
op_assign
l_int|256
suffix:semicolon
id|card-&gt;demux.feednum
op_assign
l_int|256
suffix:semicolon
id|card-&gt;demux.start_feed
op_assign
id|dvb_bt8xx_start_feed
suffix:semicolon
id|card-&gt;demux.stop_feed
op_assign
id|dvb_bt8xx_stop_feed
suffix:semicolon
id|card-&gt;demux.write_to_decoder
op_assign
l_int|NULL
suffix:semicolon
r_if
c_cond
(paren
(paren
id|result
op_assign
id|dvb_dmx_init
c_func
(paren
op_amp
id|card-&gt;demux
)paren
)paren
OL
l_int|0
)paren
(brace
id|printk
c_func
(paren
l_string|&quot;dvb_bt8xx: dvb_dmx_init failed (errno = %d)&bslash;n&quot;
comma
id|result
)paren
suffix:semicolon
id|dvb_unregister_adapter
c_func
(paren
id|card-&gt;dvb_adapter
)paren
suffix:semicolon
r_return
id|result
suffix:semicolon
)brace
id|card-&gt;dmxdev.filternum
op_assign
l_int|256
suffix:semicolon
id|card-&gt;dmxdev.demux
op_assign
op_amp
id|card-&gt;demux.dmx
suffix:semicolon
id|card-&gt;dmxdev.capabilities
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
(paren
id|result
op_assign
id|dvb_dmxdev_init
c_func
(paren
op_amp
id|card-&gt;dmxdev
comma
id|card-&gt;dvb_adapter
)paren
)paren
OL
l_int|0
)paren
(brace
id|printk
c_func
(paren
l_string|&quot;dvb_bt8xx: dvb_dmxdev_init failed (errno = %d)&bslash;n&quot;
comma
id|result
)paren
suffix:semicolon
id|dvb_dmx_release
c_func
(paren
op_amp
id|card-&gt;demux
)paren
suffix:semicolon
id|dvb_unregister_adapter
c_func
(paren
id|card-&gt;dvb_adapter
)paren
suffix:semicolon
r_return
id|result
suffix:semicolon
)brace
id|card-&gt;fe_hw.source
op_assign
id|DMX_FRONTEND_0
suffix:semicolon
r_if
c_cond
(paren
(paren
id|result
op_assign
id|card-&gt;demux.dmx
dot
id|add_frontend
c_func
(paren
op_amp
id|card-&gt;demux.dmx
comma
op_amp
id|card-&gt;fe_hw
)paren
)paren
OL
l_int|0
)paren
(brace
id|printk
c_func
(paren
l_string|&quot;dvb_bt8xx: dvb_dmx_init failed (errno = %d)&bslash;n&quot;
comma
id|result
)paren
suffix:semicolon
id|dvb_dmxdev_release
c_func
(paren
op_amp
id|card-&gt;dmxdev
)paren
suffix:semicolon
id|dvb_dmx_release
c_func
(paren
op_amp
id|card-&gt;demux
)paren
suffix:semicolon
id|dvb_unregister_adapter
c_func
(paren
id|card-&gt;dvb_adapter
)paren
suffix:semicolon
r_return
id|result
suffix:semicolon
)brace
id|card-&gt;fe_mem.source
op_assign
id|DMX_MEMORY_FE
suffix:semicolon
r_if
c_cond
(paren
(paren
id|result
op_assign
id|card-&gt;demux.dmx
dot
id|add_frontend
c_func
(paren
op_amp
id|card-&gt;demux.dmx
comma
op_amp
id|card-&gt;fe_mem
)paren
)paren
OL
l_int|0
)paren
(brace
id|printk
c_func
(paren
l_string|&quot;dvb_bt8xx: dvb_dmx_init failed (errno = %d)&bslash;n&quot;
comma
id|result
)paren
suffix:semicolon
id|card-&gt;demux.dmx
dot
id|remove_frontend
c_func
(paren
op_amp
id|card-&gt;demux.dmx
comma
op_amp
id|card-&gt;fe_hw
)paren
suffix:semicolon
id|dvb_dmxdev_release
c_func
(paren
op_amp
id|card-&gt;dmxdev
)paren
suffix:semicolon
id|dvb_dmx_release
c_func
(paren
op_amp
id|card-&gt;demux
)paren
suffix:semicolon
id|dvb_unregister_adapter
c_func
(paren
id|card-&gt;dvb_adapter
)paren
suffix:semicolon
r_return
id|result
suffix:semicolon
)brace
r_if
c_cond
(paren
(paren
id|result
op_assign
id|card-&gt;demux.dmx
dot
id|connect_frontend
c_func
(paren
op_amp
id|card-&gt;demux.dmx
comma
op_amp
id|card-&gt;fe_hw
)paren
)paren
OL
l_int|0
)paren
(brace
id|printk
c_func
(paren
l_string|&quot;dvb_bt8xx: dvb_dmx_init failed (errno = %d)&bslash;n&quot;
comma
id|result
)paren
suffix:semicolon
id|card-&gt;demux.dmx
dot
id|remove_frontend
c_func
(paren
op_amp
id|card-&gt;demux.dmx
comma
op_amp
id|card-&gt;fe_mem
)paren
suffix:semicolon
id|card-&gt;demux.dmx
dot
id|remove_frontend
c_func
(paren
op_amp
id|card-&gt;demux.dmx
comma
op_amp
id|card-&gt;fe_hw
)paren
suffix:semicolon
id|dvb_dmxdev_release
c_func
(paren
op_amp
id|card-&gt;dmxdev
)paren
suffix:semicolon
id|dvb_dmx_release
c_func
(paren
op_amp
id|card-&gt;demux
)paren
suffix:semicolon
id|dvb_unregister_adapter
c_func
(paren
id|card-&gt;dvb_adapter
)paren
suffix:semicolon
r_return
id|result
suffix:semicolon
)brace
id|dvb_net_init
c_func
(paren
id|card-&gt;dvb_adapter
comma
op_amp
id|card-&gt;dvbnet
comma
op_amp
id|card-&gt;demux.dmx
)paren
suffix:semicolon
id|tasklet_init
c_func
(paren
op_amp
id|card-&gt;bt-&gt;tasklet
comma
id|dvb_bt8xx_task
comma
(paren
r_int
r_int
)paren
id|card
)paren
suffix:semicolon
id|bt878_start
c_func
(paren
id|card-&gt;bt
comma
id|card-&gt;gpio_mode
comma
id|card-&gt;op_sync_orin
comma
id|card-&gt;irq_err_ignore
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|dvb_bt8xx_probe
r_static
r_int
id|dvb_bt8xx_probe
c_func
(paren
r_struct
id|device
op_star
id|dev
)paren
(brace
r_struct
id|bttv_sub_device
op_star
id|sub
op_assign
id|to_bttv_sub_dev
c_func
(paren
id|dev
)paren
suffix:semicolon
r_struct
id|dvb_bt8xx_card
op_star
id|card
suffix:semicolon
r_struct
id|pci_dev
op_star
id|bttv_pci_dev
suffix:semicolon
r_int
id|ret
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
(paren
id|card
op_assign
id|kmalloc
c_func
(paren
r_sizeof
(paren
r_struct
id|dvb_bt8xx_card
)paren
comma
id|GFP_KERNEL
)paren
)paren
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
id|memset
c_func
(paren
id|card
comma
l_int|0
comma
r_sizeof
(paren
op_star
id|card
)paren
)paren
suffix:semicolon
id|card-&gt;bttv_nr
op_assign
id|sub-&gt;core-&gt;nr
suffix:semicolon
id|strncpy
c_func
(paren
id|card-&gt;card_name
comma
id|sub-&gt;core-&gt;name
comma
r_sizeof
(paren
id|sub-&gt;core-&gt;name
)paren
)paren
suffix:semicolon
id|card-&gt;i2c_adapter
op_assign
op_amp
id|sub-&gt;core-&gt;i2c_adap
suffix:semicolon
r_switch
c_cond
(paren
id|sub-&gt;core-&gt;type
)paren
(brace
r_case
id|BTTV_PINNACLESAT
suffix:colon
id|card-&gt;gpio_mode
op_assign
l_int|0x0400C060
suffix:semicolon
id|card-&gt;op_sync_orin
op_assign
l_int|0
suffix:semicolon
id|card-&gt;irq_err_ignore
op_assign
l_int|0
suffix:semicolon
multiline_comment|/* 26, 15, 14, 6, 5 &n;&t;&t; * A_PWRDN  DA_DPM DA_SBR DA_IOM_DA&n;&t;&t;&t;&t; * DA_APP(parallel) */
r_break
suffix:semicolon
r_case
id|BTTV_NEBULA_DIGITV
suffix:colon
r_case
id|BTTV_AVDVBT_761
suffix:colon
id|card-&gt;gpio_mode
op_assign
(paren
l_int|1
op_lshift
l_int|26
)paren
op_or
(paren
l_int|1
op_lshift
l_int|14
)paren
op_or
(paren
l_int|1
op_lshift
l_int|5
)paren
suffix:semicolon
id|card-&gt;op_sync_orin
op_assign
l_int|0
suffix:semicolon
id|card-&gt;irq_err_ignore
op_assign
l_int|0
suffix:semicolon
multiline_comment|/* A_PWRDN DA_SBR DA_APP (high speed serial) */
r_break
suffix:semicolon
r_case
id|BTTV_AVDVBT_771
suffix:colon
singleline_comment|//case 0x07711461:
id|card-&gt;gpio_mode
op_assign
l_int|0x0400402B
suffix:semicolon
id|card-&gt;op_sync_orin
op_assign
id|BT878_RISC_SYNC_MASK
suffix:semicolon
id|card-&gt;irq_err_ignore
op_assign
l_int|0
suffix:semicolon
multiline_comment|/* A_PWRDN DA_SBR  DA_APP[0] PKTP=10 RISC_ENABLE FIFO_ENABLE*/
r_break
suffix:semicolon
r_case
id|BTTV_TWINHAN_DST
suffix:colon
id|card-&gt;gpio_mode
op_assign
l_int|0x2204f2c
suffix:semicolon
id|card-&gt;op_sync_orin
op_assign
id|BT878_RISC_SYNC_MASK
suffix:semicolon
id|card-&gt;irq_err_ignore
op_assign
id|BT878_APABORT
op_or
id|BT878_ARIPERR
op_or
id|BT878_APPERR
op_or
id|BT878_AFBUS
suffix:semicolon
multiline_comment|/* 25,21,14,11,10,9,8,3,2 then&n;&t;&t;&t;&t; * 0x33 = 5,4,1,0&n;&t;&t;&t;&t; * A_SEL=SML, DA_MLB, DA_SBR, &n;&t;&t;&t;&t; * DA_SDR=f, fifo trigger = 32 DWORDS&n;&t;&t;&t;&t; * IOM = 0 == audio A/D&n;&t;&t;&t;&t; * DPM = 0 == digital audio mode&n;&t;&t;&t;&t; * == async data parallel port&n;&t;&t;&t;&t; * then 0x33 (13 is set by start_capture)&n;&t;&t;&t;&t; * DA_APP = async data parallel port, &n;&t;&t;&t;&t; * ACAP_EN = 1,&n;&t;&t;&t;&t; * RISC+FIFO ENABLE */
r_break
suffix:semicolon
r_default
suffix:colon
id|printk
c_func
(paren
id|KERN_WARNING
l_string|&quot;dvb_bt8xx: Unknown bttv card type: %d.&bslash;n&quot;
comma
id|sub-&gt;core-&gt;type
)paren
suffix:semicolon
id|kfree
c_func
(paren
id|card
)paren
suffix:semicolon
r_return
op_minus
id|ENODEV
suffix:semicolon
)brace
id|dprintk
c_func
(paren
l_string|&quot;dvb_bt8xx: identified card%d as %s&bslash;n&quot;
comma
id|card-&gt;bttv_nr
comma
id|card-&gt;card_name
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
(paren
id|bttv_pci_dev
op_assign
id|bttv_get_pcidev
c_func
(paren
id|card-&gt;bttv_nr
)paren
)paren
)paren
(brace
id|printk
c_func
(paren
l_string|&quot;dvb_bt8xx: no pci device for card %d&bslash;n&quot;
comma
id|card-&gt;bttv_nr
)paren
suffix:semicolon
id|kfree
c_func
(paren
id|card
)paren
suffix:semicolon
r_return
op_minus
id|EFAULT
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
(paren
id|card-&gt;bt
op_assign
id|dvb_bt8xx_878_match
c_func
(paren
id|card-&gt;bttv_nr
comma
id|bttv_pci_dev
)paren
)paren
)paren
(brace
id|printk
c_func
(paren
l_string|&quot;dvb_bt8xx: unable to determine DMA core of card %d&bslash;n&quot;
comma
id|card-&gt;bttv_nr
)paren
suffix:semicolon
id|kfree
c_func
(paren
id|card
)paren
suffix:semicolon
r_return
op_minus
id|EFAULT
suffix:semicolon
)brace
id|init_MUTEX
c_func
(paren
op_amp
id|card-&gt;bt-&gt;gpio_lock
)paren
suffix:semicolon
id|card-&gt;bt-&gt;bttv_nr
op_assign
id|sub-&gt;core-&gt;nr
suffix:semicolon
r_if
c_cond
(paren
(paren
id|ret
op_assign
id|dvb_bt8xx_load_card
c_func
(paren
id|card
)paren
)paren
)paren
(brace
id|kfree
c_func
(paren
id|card
)paren
suffix:semicolon
r_return
id|ret
suffix:semicolon
)brace
id|dev_set_drvdata
c_func
(paren
id|dev
comma
id|card
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|dvb_bt8xx_remove
r_static
r_int
id|dvb_bt8xx_remove
c_func
(paren
r_struct
id|device
op_star
id|dev
)paren
(brace
r_struct
id|dvb_bt8xx_card
op_star
id|card
op_assign
id|dev_get_drvdata
c_func
(paren
id|dev
)paren
suffix:semicolon
id|dprintk
c_func
(paren
l_string|&quot;dvb_bt8xx: unloading card%d&bslash;n&quot;
comma
id|card-&gt;bttv_nr
)paren
suffix:semicolon
id|bt878_stop
c_func
(paren
id|card-&gt;bt
)paren
suffix:semicolon
id|tasklet_kill
c_func
(paren
op_amp
id|card-&gt;bt-&gt;tasklet
)paren
suffix:semicolon
id|dvb_net_release
c_func
(paren
op_amp
id|card-&gt;dvbnet
)paren
suffix:semicolon
id|card-&gt;demux.dmx
dot
id|remove_frontend
c_func
(paren
op_amp
id|card-&gt;demux.dmx
comma
op_amp
id|card-&gt;fe_mem
)paren
suffix:semicolon
id|card-&gt;demux.dmx
dot
id|remove_frontend
c_func
(paren
op_amp
id|card-&gt;demux.dmx
comma
op_amp
id|card-&gt;fe_hw
)paren
suffix:semicolon
id|dvb_dmxdev_release
c_func
(paren
op_amp
id|card-&gt;dmxdev
)paren
suffix:semicolon
id|dvb_dmx_release
c_func
(paren
op_amp
id|card-&gt;demux
)paren
suffix:semicolon
id|dvb_unregister_adapter
c_func
(paren
id|card-&gt;dvb_adapter
)paren
suffix:semicolon
id|list_del
c_func
(paren
op_amp
id|card-&gt;list
)paren
suffix:semicolon
id|kfree
c_func
(paren
id|card
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|dvb_bt8xx_i2c_info
r_static
r_void
id|dvb_bt8xx_i2c_info
c_func
(paren
r_struct
id|bttv_sub_device
op_star
id|sub
comma
r_struct
id|i2c_client
op_star
id|client
comma
r_int
id|attach
)paren
(brace
r_struct
id|dvb_bt8xx_card
op_star
id|card
op_assign
id|dev_get_drvdata
c_func
(paren
op_amp
id|sub-&gt;dev
)paren
suffix:semicolon
r_if
c_cond
(paren
id|attach
)paren
(brace
id|printk
c_func
(paren
l_string|&quot;xxx attach&bslash;n&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|client-&gt;driver-&gt;command
)paren
id|client-&gt;driver
op_member_access_from_pointer
id|command
c_func
(paren
id|client
comma
id|FE_REGISTER
comma
id|card-&gt;dvb_adapter
)paren
suffix:semicolon
)brace
r_else
(brace
id|printk
c_func
(paren
l_string|&quot;xxx detach&bslash;n&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|client-&gt;driver-&gt;command
)paren
id|client-&gt;driver
op_member_access_from_pointer
id|command
c_func
(paren
id|client
comma
id|FE_UNREGISTER
comma
id|card-&gt;dvb_adapter
)paren
suffix:semicolon
)brace
)brace
DECL|variable|driver
r_static
r_struct
id|bttv_sub_driver
id|driver
op_assign
(brace
dot
id|drv
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;dvb-bt8xx&quot;
comma
dot
id|probe
op_assign
id|dvb_bt8xx_probe
comma
dot
id|remove
op_assign
id|dvb_bt8xx_remove
comma
multiline_comment|/* FIXME:&n;&t;&t; * .shutdown&t;= dvb_bt8xx_shutdown,&n;&t;&t; * .suspend&t;= dvb_bt8xx_suspend,&n;&t;&t; * .resume&t;= dvb_bt8xx_resume,&n;&t;&t; */
)brace
comma
dot
id|i2c_info
op_assign
id|dvb_bt8xx_i2c_info
comma
)brace
suffix:semicolon
DECL|function|dvb_bt8xx_init
r_static
r_int
id|__init
id|dvb_bt8xx_init
c_func
(paren
r_void
)paren
(brace
r_return
id|bttv_sub_register
c_func
(paren
op_amp
id|driver
comma
l_string|&quot;dvb&quot;
)paren
suffix:semicolon
)brace
DECL|function|dvb_bt8xx_exit
r_static
r_void
id|__exit
id|dvb_bt8xx_exit
c_func
(paren
r_void
)paren
(brace
id|bttv_sub_unregister
c_func
(paren
op_amp
id|driver
)paren
suffix:semicolon
)brace
DECL|variable|dvb_bt8xx_init
id|module_init
c_func
(paren
id|dvb_bt8xx_init
)paren
suffix:semicolon
DECL|variable|dvb_bt8xx_exit
id|module_exit
c_func
(paren
id|dvb_bt8xx_exit
)paren
suffix:semicolon
id|MODULE_DESCRIPTION
c_func
(paren
l_string|&quot;Bt8xx based DVB adapter driver&quot;
)paren
suffix:semicolon
id|MODULE_AUTHOR
c_func
(paren
l_string|&quot;Florian Schirmer &lt;jolt@tuxbox.org&gt;&quot;
)paren
suffix:semicolon
id|MODULE_LICENSE
c_func
(paren
l_string|&quot;GPL&quot;
)paren
suffix:semicolon
eof
