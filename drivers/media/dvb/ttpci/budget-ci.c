multiline_comment|/*&n; * budget-ci.c: driver for the SAA7146 based Budget DVB cards &n; *&n; * Compiled from various sources by Michael Hunold &lt;michael@mihu.de&gt; &n; *&n; *     msp430 IR support contributed by Jack Thomasson &lt;jkt@Helius.COM&gt;&n; *     partially based on the Siemens DVB driver by Ralph+Marcus Metzler&n; *&n; * CI interface support (c) 2004 Andrew de Quincey &lt;adq_dvb@lidskialf.net&gt;&n; *&n; * This program is free software; you can redistribute it and/or&n; * modify it under the terms of the GNU General Public License&n; * as published by the Free Software Foundation; either version 2&n; * of the License, or (at your option) any later version.&n; * &n; *&n; * This program is distributed in the hope that it will be useful,&n; * but WITHOUT ANY WARRANTY; without even the implied warranty of&n; * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the&n; * GNU General Public License for more details.&n; * &n; *&n; * You should have received a copy of the GNU General Public License&n; * along with this program; if not, write to the Free Software&n; * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.&n; * Or, point your browser to http://www.gnu.org/copyleft/gpl.html&n; * &n; *&n; * the project&squot;s page is at http://www.linuxtv.org/dvb/&n; */
macro_line|#include &quot;budget.h&quot;
macro_line|#include &lt;linux/module.h&gt;
macro_line|#include &lt;linux/errno.h&gt;
macro_line|#include &lt;linux/slab.h&gt;
macro_line|#include &lt;linux/interrupt.h&gt;
macro_line|#include &lt;linux/input.h&gt;
macro_line|#include &lt;linux/spinlock.h&gt;
macro_line|#include &quot;dvb_ca_en50221.h&quot;
DECL|macro|DEBIADDR_IR
mdefine_line|#define DEBIADDR_IR&t;&t;0x1234
DECL|macro|DEBIADDR_CICONTROL
mdefine_line|#define DEBIADDR_CICONTROL&t;0x0000
DECL|macro|DEBIADDR_CIVERSION
mdefine_line|#define DEBIADDR_CIVERSION&t;0x4000
DECL|macro|DEBIADDR_IO
mdefine_line|#define DEBIADDR_IO&t;&t;0x1000
DECL|macro|DEBIADDR_ATTR
mdefine_line|#define DEBIADDR_ATTR&t;&t;0x3000
DECL|macro|CICONTROL_RESET
mdefine_line|#define CICONTROL_RESET&t;&t;0x01
DECL|macro|CICONTROL_ENABLETS
mdefine_line|#define CICONTROL_ENABLETS&t;0x02
DECL|macro|CICONTROL_CAMDETECT
mdefine_line|#define CICONTROL_CAMDETECT&t;0x08
DECL|macro|DEBICICTL
mdefine_line|#define DEBICICTL&t;&t;0x00420000
DECL|macro|DEBICICAM
mdefine_line|#define DEBICICAM&t;&t;0x02420000
DECL|macro|SLOTSTATUS_NONE
mdefine_line|#define SLOTSTATUS_NONE&t;&t;1
DECL|macro|SLOTSTATUS_PRESENT
mdefine_line|#define SLOTSTATUS_PRESENT&t;2
DECL|macro|SLOTSTATUS_RESET
mdefine_line|#define SLOTSTATUS_RESET&t;4
DECL|macro|SLOTSTATUS_READY
mdefine_line|#define SLOTSTATUS_READY&t;8
DECL|macro|SLOTSTATUS_OCCUPIED
mdefine_line|#define SLOTSTATUS_OCCUPIED&t;(SLOTSTATUS_PRESENT|SLOTSTATUS_RESET|SLOTSTATUS_READY)
DECL|struct|budget_ci
r_struct
id|budget_ci
(brace
DECL|member|budget
r_struct
id|budget
id|budget
suffix:semicolon
DECL|member|input_dev
r_struct
id|input_dev
id|input_dev
suffix:semicolon
DECL|member|msp430_irq_tasklet
r_struct
id|tasklet_struct
id|msp430_irq_tasklet
suffix:semicolon
DECL|member|ciintf_irq_tasklet
r_struct
id|tasklet_struct
id|ciintf_irq_tasklet
suffix:semicolon
DECL|member|debilock
id|spinlock_t
id|debilock
suffix:semicolon
DECL|member|slot_status
r_int
id|slot_status
suffix:semicolon
DECL|member|ca
r_struct
id|dvb_ca_en50221
id|ca
suffix:semicolon
DECL|member|ir_dev_name
r_char
id|ir_dev_name
(braket
l_int|50
)braket
suffix:semicolon
)brace
suffix:semicolon
DECL|function|budget_debiread
r_static
id|u32
id|budget_debiread
(paren
r_struct
id|budget_ci
op_star
id|budget_ci
comma
id|u32
id|config
comma
r_int
id|addr
comma
r_int
id|count
)paren
(brace
r_struct
id|saa7146_dev
op_star
id|saa
op_assign
id|budget_ci-&gt;budget.dev
suffix:semicolon
id|u32
id|result
op_assign
l_int|0
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
r_if
c_cond
(paren
id|count
OG
l_int|4
op_logical_or
id|count
op_le
l_int|0
)paren
r_return
l_int|0
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|budget_ci-&gt;debilock
comma
id|flags
)paren
suffix:semicolon
r_if
c_cond
(paren
id|saa7146_wait_for_debi_done
c_func
(paren
id|saa
)paren
OL
l_int|0
)paren
(brace
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|budget_ci-&gt;debilock
comma
id|flags
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
id|saa7146_write
(paren
id|saa
comma
id|DEBI_COMMAND
comma
(paren
id|count
op_lshift
l_int|17
)paren
op_or
l_int|0x10000
op_or
(paren
id|addr
op_amp
l_int|0xffff
)paren
)paren
suffix:semicolon
id|saa7146_write
c_func
(paren
id|saa
comma
id|DEBI_CONFIG
comma
id|config
)paren
suffix:semicolon
id|saa7146_write
c_func
(paren
id|saa
comma
id|DEBI_PAGE
comma
l_int|0
)paren
suffix:semicolon
id|saa7146_write
c_func
(paren
id|saa
comma
id|MC2
comma
(paren
l_int|2
op_lshift
l_int|16
)paren
op_or
l_int|2
)paren
suffix:semicolon
id|saa7146_wait_for_debi_done
c_func
(paren
id|saa
)paren
suffix:semicolon
id|result
op_assign
id|saa7146_read
c_func
(paren
id|saa
comma
l_int|0x88
)paren
suffix:semicolon
id|result
op_and_assign
(paren
l_int|0xffffffffUL
op_rshift
(paren
(paren
l_int|4
op_minus
id|count
)paren
op_star
l_int|8
)paren
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|budget_ci-&gt;debilock
comma
id|flags
)paren
suffix:semicolon
r_return
id|result
suffix:semicolon
)brace
DECL|function|budget_debiwrite
r_static
id|u8
id|budget_debiwrite
(paren
r_struct
id|budget_ci
op_star
id|budget_ci
comma
id|u32
id|config
comma
r_int
id|addr
comma
r_int
id|count
comma
id|u32
id|value
)paren
(brace
r_struct
id|saa7146_dev
op_star
id|saa
op_assign
id|budget_ci-&gt;budget.dev
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
r_if
c_cond
(paren
id|count
OG
l_int|4
op_logical_or
id|count
op_le
l_int|0
)paren
r_return
l_int|0
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|budget_ci-&gt;debilock
comma
id|flags
)paren
suffix:semicolon
r_if
c_cond
(paren
id|saa7146_wait_for_debi_done
c_func
(paren
id|saa
)paren
OL
l_int|0
)paren
(brace
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|budget_ci-&gt;debilock
comma
id|flags
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
id|saa7146_write
(paren
id|saa
comma
id|DEBI_COMMAND
comma
(paren
id|count
op_lshift
l_int|17
)paren
op_or
l_int|0x00000
op_or
(paren
id|addr
op_amp
l_int|0xffff
)paren
)paren
suffix:semicolon
id|saa7146_write
c_func
(paren
id|saa
comma
id|DEBI_CONFIG
comma
id|config
)paren
suffix:semicolon
id|saa7146_write
c_func
(paren
id|saa
comma
id|DEBI_PAGE
comma
l_int|0
)paren
suffix:semicolon
id|saa7146_write
c_func
(paren
id|saa
comma
id|DEBI_AD
comma
id|value
)paren
suffix:semicolon
id|saa7146_write
c_func
(paren
id|saa
comma
id|MC2
comma
(paren
l_int|2
op_lshift
l_int|16
)paren
op_or
l_int|2
)paren
suffix:semicolon
id|saa7146_wait_for_debi_done
c_func
(paren
id|saa
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|budget_ci-&gt;debilock
comma
id|flags
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/* from reading the following remotes:&n;   Zenith Universal 7 / TV Mode 807 / VCR Mode 837&n;   Hauppauge (from NOVA-CI-s box product)&n;   i&squot;ve taken a &quot;middle of the road&quot; approach and note the differences&n;*/
DECL|variable|key_map
r_static
id|u16
id|key_map
(braket
l_int|64
)braket
op_assign
(brace
multiline_comment|/* 0x0X */
id|KEY_0
comma
id|KEY_1
comma
id|KEY_2
comma
id|KEY_3
comma
id|KEY_4
comma
id|KEY_5
comma
id|KEY_6
comma
id|KEY_7
comma
id|KEY_8
comma
id|KEY_9
comma
id|KEY_ENTER
comma
id|KEY_RED
comma
id|KEY_POWER
comma
multiline_comment|/* RADIO on Hauppauge */
id|KEY_MUTE
comma
l_int|0
comma
id|KEY_A
comma
multiline_comment|/* TV on Hauppauge */
multiline_comment|/* 0x1X */
id|KEY_VOLUMEUP
comma
id|KEY_VOLUMEDOWN
comma
l_int|0
comma
l_int|0
comma
id|KEY_B
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
id|KEY_UP
comma
id|KEY_DOWN
comma
id|KEY_OPTION
comma
multiline_comment|/* RESERVED on Hauppauge */
id|KEY_BREAK
comma
multiline_comment|/* 0x2X */
id|KEY_CHANNELUP
comma
id|KEY_CHANNELDOWN
comma
id|KEY_PREVIOUS
comma
multiline_comment|/* Prev. Ch on Zenith, SOURCE on Hauppauge */
l_int|0
comma
id|KEY_RESTART
comma
id|KEY_OK
comma
id|KEY_CYCLEWINDOWS
comma
multiline_comment|/* MINIMIZE on Hauppauge */
l_int|0
comma
id|KEY_ENTER
comma
multiline_comment|/* VCR mode on Zenith */
id|KEY_PAUSE
comma
l_int|0
comma
id|KEY_RIGHT
comma
id|KEY_LEFT
comma
l_int|0
comma
id|KEY_MENU
comma
multiline_comment|/* FULL SCREEN on Hauppauge */
l_int|0
comma
multiline_comment|/* 0x3X */
id|KEY_SLOW
comma
id|KEY_PREVIOUS
comma
multiline_comment|/* VCR mode on Zenith */
id|KEY_REWIND
comma
l_int|0
comma
id|KEY_FASTFORWARD
comma
id|KEY_PLAY
comma
id|KEY_STOP
comma
id|KEY_RECORD
comma
id|KEY_TUNER
comma
multiline_comment|/* TV/VCR on Zenith */
l_int|0
comma
id|KEY_C
comma
l_int|0
comma
id|KEY_EXIT
comma
id|KEY_POWER2
comma
id|KEY_TUNER
comma
multiline_comment|/* VCR mode on Zenith */
l_int|0
comma
)brace
suffix:semicolon
DECL|function|msp430_ir_debounce
r_static
r_void
id|msp430_ir_debounce
(paren
r_int
r_int
id|data
)paren
(brace
r_struct
id|input_dev
op_star
id|dev
op_assign
(paren
r_struct
id|input_dev
op_star
)paren
id|data
suffix:semicolon
r_if
c_cond
(paren
id|dev-&gt;rep
(braket
l_int|0
)braket
op_eq
l_int|0
op_logical_or
id|dev-&gt;rep
(braket
l_int|0
)braket
op_eq
op_complement
l_int|0
)paren
(brace
id|input_event
c_func
(paren
id|dev
comma
id|EV_KEY
comma
id|key_map
(braket
id|dev-&gt;repeat_key
)braket
comma
op_logical_neg
op_logical_neg
l_int|0
)paren
suffix:semicolon
r_return
suffix:semicolon
)brace
id|dev-&gt;rep
(braket
l_int|0
)braket
op_assign
l_int|0
suffix:semicolon
id|dev-&gt;timer.expires
op_assign
id|jiffies
op_plus
id|HZ
op_star
l_int|350
op_div
l_int|1000
suffix:semicolon
id|add_timer
c_func
(paren
op_amp
id|dev-&gt;timer
)paren
suffix:semicolon
id|input_event
c_func
(paren
id|dev
comma
id|EV_KEY
comma
id|key_map
(braket
id|dev-&gt;repeat_key
)braket
comma
l_int|2
)paren
suffix:semicolon
multiline_comment|/* REPEAT */
)brace
DECL|function|msp430_ir_interrupt
r_static
r_void
id|msp430_ir_interrupt
(paren
r_int
r_int
id|data
)paren
(brace
r_struct
id|budget_ci
op_star
id|budget_ci
op_assign
(paren
r_struct
id|budget_ci
op_star
)paren
id|data
suffix:semicolon
r_struct
id|input_dev
op_star
id|dev
op_assign
op_amp
id|budget_ci-&gt;input_dev
suffix:semicolon
r_int
r_int
id|code
op_assign
id|budget_debiread
c_func
(paren
id|budget_ci
comma
id|DEBINOSWAP
comma
id|DEBIADDR_IR
comma
l_int|2
)paren
op_rshift
l_int|8
suffix:semicolon
r_if
c_cond
(paren
id|code
op_amp
l_int|0x40
)paren
(brace
id|code
op_and_assign
l_int|0x3f
suffix:semicolon
r_if
c_cond
(paren
id|timer_pending
c_func
(paren
op_amp
id|dev-&gt;timer
)paren
)paren
(brace
r_if
c_cond
(paren
id|code
op_eq
id|dev-&gt;repeat_key
)paren
(brace
op_increment
id|dev-&gt;rep
(braket
l_int|0
)braket
suffix:semicolon
r_return
suffix:semicolon
)brace
id|del_timer
c_func
(paren
op_amp
id|dev-&gt;timer
)paren
suffix:semicolon
id|input_event
c_func
(paren
id|dev
comma
id|EV_KEY
comma
id|key_map
(braket
id|dev-&gt;repeat_key
)braket
comma
op_logical_neg
op_logical_neg
l_int|0
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|key_map
(braket
id|code
)braket
)paren
(brace
id|printk
(paren
l_string|&quot;DVB (%s): no key for %02x!&bslash;n&quot;
comma
id|__FUNCTION__
comma
id|code
)paren
suffix:semicolon
r_return
suffix:semicolon
)brace
multiline_comment|/* initialize debounce and repeat */
id|dev-&gt;repeat_key
op_assign
id|code
suffix:semicolon
multiline_comment|/* Zenith remote _always_ sends 2 sequences */
id|dev-&gt;rep
(braket
l_int|0
)braket
op_assign
op_complement
l_int|0
suffix:semicolon
multiline_comment|/* 350 milliseconds */
id|dev-&gt;timer.expires
op_assign
id|jiffies
op_plus
id|HZ
op_star
l_int|350
op_div
l_int|1000
suffix:semicolon
multiline_comment|/* MAKE */
id|input_event
c_func
(paren
id|dev
comma
id|EV_KEY
comma
id|key_map
(braket
id|code
)braket
comma
op_logical_neg
l_int|0
)paren
suffix:semicolon
id|add_timer
c_func
(paren
op_amp
id|dev-&gt;timer
)paren
suffix:semicolon
)brace
)brace
DECL|function|msp430_ir_init
r_static
r_int
id|msp430_ir_init
(paren
r_struct
id|budget_ci
op_star
id|budget_ci
)paren
(brace
r_struct
id|saa7146_dev
op_star
id|saa
op_assign
id|budget_ci-&gt;budget.dev
suffix:semicolon
r_int
id|i
suffix:semicolon
id|memset
c_func
(paren
op_amp
id|budget_ci-&gt;input_dev
comma
l_int|0
comma
r_sizeof
(paren
r_struct
id|input_dev
)paren
)paren
suffix:semicolon
id|sprintf
(paren
id|budget_ci-&gt;ir_dev_name
comma
l_string|&quot;Budget-CI dvb ir receiver %s&quot;
comma
id|saa-&gt;name
)paren
suffix:semicolon
id|budget_ci-&gt;input_dev.name
op_assign
id|budget_ci-&gt;ir_dev_name
suffix:semicolon
id|set_bit
c_func
(paren
id|EV_KEY
comma
id|budget_ci-&gt;input_dev.evbit
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
r_sizeof
(paren
id|key_map
)paren
op_div
r_sizeof
(paren
op_star
id|key_map
)paren
suffix:semicolon
id|i
op_increment
)paren
r_if
c_cond
(paren
id|key_map
(braket
id|i
)braket
)paren
id|set_bit
c_func
(paren
id|key_map
(braket
id|i
)braket
comma
id|budget_ci-&gt;input_dev.keybit
)paren
suffix:semicolon
id|input_register_device
c_func
(paren
op_amp
id|budget_ci-&gt;input_dev
)paren
suffix:semicolon
id|budget_ci-&gt;input_dev.timer.function
op_assign
id|msp430_ir_debounce
suffix:semicolon
id|saa7146_write
c_func
(paren
id|saa
comma
id|IER
comma
id|saa7146_read
c_func
(paren
id|saa
comma
id|IER
)paren
op_or
id|MASK_06
)paren
suffix:semicolon
id|saa7146_setgpio
c_func
(paren
id|saa
comma
l_int|3
comma
id|SAA7146_GPIO_IRQHI
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|msp430_ir_deinit
r_static
r_void
id|msp430_ir_deinit
(paren
r_struct
id|budget_ci
op_star
id|budget_ci
)paren
(brace
r_struct
id|saa7146_dev
op_star
id|saa
op_assign
id|budget_ci-&gt;budget.dev
suffix:semicolon
r_struct
id|input_dev
op_star
id|dev
op_assign
op_amp
id|budget_ci-&gt;input_dev
suffix:semicolon
id|saa7146_write
c_func
(paren
id|saa
comma
id|IER
comma
id|saa7146_read
c_func
(paren
id|saa
comma
id|IER
)paren
op_amp
op_complement
id|MASK_06
)paren
suffix:semicolon
id|saa7146_setgpio
c_func
(paren
id|saa
comma
l_int|3
comma
id|SAA7146_GPIO_INPUT
)paren
suffix:semicolon
r_if
c_cond
(paren
id|del_timer
c_func
(paren
op_amp
id|dev-&gt;timer
)paren
)paren
id|input_event
c_func
(paren
id|dev
comma
id|EV_KEY
comma
id|key_map
(braket
id|dev-&gt;repeat_key
)braket
comma
op_logical_neg
op_logical_neg
l_int|0
)paren
suffix:semicolon
id|input_unregister_device
c_func
(paren
id|dev
)paren
suffix:semicolon
)brace
DECL|function|ciintf_read_attribute_mem
r_static
r_int
id|ciintf_read_attribute_mem
c_func
(paren
r_struct
id|dvb_ca_en50221
op_star
id|ca
comma
r_int
id|slot
comma
r_int
id|address
)paren
(brace
r_struct
id|budget_ci
op_star
id|budget_ci
op_assign
(paren
r_struct
id|budget_ci
op_star
)paren
id|ca-&gt;data
suffix:semicolon
r_if
c_cond
(paren
id|slot
op_ne
l_int|0
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
r_return
id|budget_debiread
c_func
(paren
id|budget_ci
comma
id|DEBICICAM
comma
id|DEBIADDR_ATTR
op_or
(paren
id|address
op_amp
l_int|0xfff
)paren
comma
l_int|1
)paren
suffix:semicolon
)brace
DECL|function|ciintf_write_attribute_mem
r_static
r_int
id|ciintf_write_attribute_mem
c_func
(paren
r_struct
id|dvb_ca_en50221
op_star
id|ca
comma
r_int
id|slot
comma
r_int
id|address
comma
id|u8
id|value
)paren
(brace
r_struct
id|budget_ci
op_star
id|budget_ci
op_assign
(paren
r_struct
id|budget_ci
op_star
)paren
id|ca-&gt;data
suffix:semicolon
r_if
c_cond
(paren
id|slot
op_ne
l_int|0
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
r_return
id|budget_debiwrite
c_func
(paren
id|budget_ci
comma
id|DEBICICAM
comma
id|DEBIADDR_ATTR
op_or
(paren
id|address
op_amp
l_int|0xfff
)paren
comma
l_int|1
comma
id|value
)paren
suffix:semicolon
)brace
DECL|function|ciintf_read_cam_control
r_static
r_int
id|ciintf_read_cam_control
c_func
(paren
r_struct
id|dvb_ca_en50221
op_star
id|ca
comma
r_int
id|slot
comma
id|u8
id|address
)paren
(brace
r_struct
id|budget_ci
op_star
id|budget_ci
op_assign
(paren
r_struct
id|budget_ci
op_star
)paren
id|ca-&gt;data
suffix:semicolon
r_if
c_cond
(paren
id|slot
op_ne
l_int|0
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
r_return
id|budget_debiread
c_func
(paren
id|budget_ci
comma
id|DEBICICAM
comma
id|DEBIADDR_IO
op_or
(paren
id|address
op_amp
l_int|3
)paren
comma
l_int|1
)paren
suffix:semicolon
)brace
DECL|function|ciintf_write_cam_control
r_static
r_int
id|ciintf_write_cam_control
c_func
(paren
r_struct
id|dvb_ca_en50221
op_star
id|ca
comma
r_int
id|slot
comma
id|u8
id|address
comma
id|u8
id|value
)paren
(brace
r_struct
id|budget_ci
op_star
id|budget_ci
op_assign
(paren
r_struct
id|budget_ci
op_star
)paren
id|ca-&gt;data
suffix:semicolon
r_if
c_cond
(paren
id|slot
op_ne
l_int|0
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
r_return
id|budget_debiwrite
c_func
(paren
id|budget_ci
comma
id|DEBICICAM
comma
id|DEBIADDR_IO
op_or
(paren
id|address
op_amp
l_int|3
)paren
comma
l_int|1
comma
id|value
)paren
suffix:semicolon
)brace
DECL|function|ciintf_slot_reset
r_static
r_int
id|ciintf_slot_reset
c_func
(paren
r_struct
id|dvb_ca_en50221
op_star
id|ca
comma
r_int
id|slot
)paren
(brace
r_struct
id|budget_ci
op_star
id|budget_ci
op_assign
(paren
r_struct
id|budget_ci
op_star
)paren
id|ca-&gt;data
suffix:semicolon
r_struct
id|saa7146_dev
op_star
id|saa
op_assign
id|budget_ci-&gt;budget.dev
suffix:semicolon
r_if
c_cond
(paren
id|slot
op_ne
l_int|0
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
singleline_comment|// trigger on RISING edge during reset so we know when READY is re-asserted
id|saa7146_setgpio
c_func
(paren
id|saa
comma
l_int|0
comma
id|SAA7146_GPIO_IRQHI
)paren
suffix:semicolon
id|budget_ci-&gt;slot_status
op_assign
id|SLOTSTATUS_RESET
suffix:semicolon
id|budget_debiwrite
c_func
(paren
id|budget_ci
comma
id|DEBICICTL
comma
id|DEBIADDR_CICONTROL
comma
l_int|1
comma
l_int|0
)paren
suffix:semicolon
id|msleep
c_func
(paren
l_int|1
)paren
suffix:semicolon
id|budget_debiwrite
c_func
(paren
id|budget_ci
comma
id|DEBICICTL
comma
id|DEBIADDR_CICONTROL
comma
l_int|1
comma
id|CICONTROL_RESET
)paren
suffix:semicolon
id|saa7146_setgpio
c_func
(paren
id|saa
comma
l_int|1
comma
id|SAA7146_GPIO_OUTHI
)paren
suffix:semicolon
id|ttpci_budget_set_video_port
c_func
(paren
id|saa
comma
id|BUDGET_VIDEO_PORTB
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|ciintf_slot_shutdown
r_static
r_int
id|ciintf_slot_shutdown
c_func
(paren
r_struct
id|dvb_ca_en50221
op_star
id|ca
comma
r_int
id|slot
)paren
(brace
r_struct
id|budget_ci
op_star
id|budget_ci
op_assign
(paren
r_struct
id|budget_ci
op_star
)paren
id|ca-&gt;data
suffix:semicolon
r_struct
id|saa7146_dev
op_star
id|saa
op_assign
id|budget_ci-&gt;budget.dev
suffix:semicolon
r_if
c_cond
(paren
id|slot
op_ne
l_int|0
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
id|saa7146_setgpio
c_func
(paren
id|saa
comma
l_int|1
comma
id|SAA7146_GPIO_OUTHI
)paren
suffix:semicolon
id|ttpci_budget_set_video_port
c_func
(paren
id|saa
comma
id|BUDGET_VIDEO_PORTB
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|ciintf_slot_ts_enable
r_static
r_int
id|ciintf_slot_ts_enable
c_func
(paren
r_struct
id|dvb_ca_en50221
op_star
id|ca
comma
r_int
id|slot
)paren
(brace
r_struct
id|budget_ci
op_star
id|budget_ci
op_assign
(paren
r_struct
id|budget_ci
op_star
)paren
id|ca-&gt;data
suffix:semicolon
r_struct
id|saa7146_dev
op_star
id|saa
op_assign
id|budget_ci-&gt;budget.dev
suffix:semicolon
r_int
id|tmp
suffix:semicolon
r_if
c_cond
(paren
id|slot
op_ne
l_int|0
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
id|saa7146_setgpio
c_func
(paren
id|saa
comma
l_int|1
comma
id|SAA7146_GPIO_OUTLO
)paren
suffix:semicolon
id|tmp
op_assign
id|budget_debiread
c_func
(paren
id|budget_ci
comma
id|DEBICICTL
comma
id|DEBIADDR_CICONTROL
comma
l_int|1
)paren
suffix:semicolon
id|budget_debiwrite
c_func
(paren
id|budget_ci
comma
id|DEBICICTL
comma
id|DEBIADDR_CICONTROL
comma
l_int|1
comma
id|tmp
op_or
id|CICONTROL_ENABLETS
)paren
suffix:semicolon
id|ttpci_budget_set_video_port
c_func
(paren
id|saa
comma
id|BUDGET_VIDEO_PORTA
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|ciintf_interrupt
r_static
r_void
id|ciintf_interrupt
(paren
r_int
r_int
id|data
)paren
(brace
r_struct
id|budget_ci
op_star
id|budget_ci
op_assign
(paren
r_struct
id|budget_ci
op_star
)paren
id|data
suffix:semicolon
r_struct
id|saa7146_dev
op_star
id|saa
op_assign
id|budget_ci-&gt;budget.dev
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
singleline_comment|// ensure we don&squot;t get spurious IRQs during initialisation
r_if
c_cond
(paren
op_logical_neg
id|budget_ci-&gt;budget.ci_present
)paren
r_return
suffix:semicolon
singleline_comment|// read the CAM status
id|flags
op_assign
id|budget_debiread
c_func
(paren
id|budget_ci
comma
id|DEBICICTL
comma
id|DEBIADDR_CICONTROL
comma
l_int|1
)paren
suffix:semicolon
r_if
c_cond
(paren
id|flags
op_amp
id|CICONTROL_CAMDETECT
)paren
(brace
singleline_comment|// GPIO should be set to trigger on falling edge if a CAM is present
id|saa7146_setgpio
c_func
(paren
id|saa
comma
l_int|0
comma
id|SAA7146_GPIO_IRQLO
)paren
suffix:semicolon
r_if
c_cond
(paren
id|budget_ci-&gt;slot_status
op_amp
id|SLOTSTATUS_NONE
)paren
(brace
singleline_comment|// CAM insertion IRQ
id|budget_ci-&gt;slot_status
op_assign
id|SLOTSTATUS_PRESENT
suffix:semicolon
id|dvb_ca_en50221_camchange_irq
c_func
(paren
op_amp
id|budget_ci-&gt;ca
comma
l_int|0
comma
id|DVB_CA_EN50221_CAMCHANGE_INSERTED
)paren
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|budget_ci-&gt;slot_status
op_amp
id|SLOTSTATUS_RESET
)paren
(brace
singleline_comment|// CAM ready (reset completed)
id|budget_ci-&gt;slot_status
op_assign
id|SLOTSTATUS_READY
suffix:semicolon
id|dvb_ca_en50221_camready_irq
c_func
(paren
op_amp
id|budget_ci-&gt;ca
comma
l_int|0
)paren
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|budget_ci-&gt;slot_status
op_amp
id|SLOTSTATUS_READY
)paren
(brace
singleline_comment|// FR/DA IRQ
id|dvb_ca_en50221_frda_irq
c_func
(paren
op_amp
id|budget_ci-&gt;ca
comma
l_int|0
)paren
suffix:semicolon
)brace
)brace
r_else
(brace
singleline_comment|// trigger on rising edge if a CAM is not present - when a CAM is inserted, we
singleline_comment|// only want to get the IRQ when it sets READY. If we trigger on the falling edge,
singleline_comment|// the CAM might not actually be ready yet.
id|saa7146_setgpio
c_func
(paren
id|saa
comma
l_int|0
comma
id|SAA7146_GPIO_IRQHI
)paren
suffix:semicolon
singleline_comment|// generate a CAM removal IRQ if we haven&squot;t already
r_if
c_cond
(paren
id|budget_ci-&gt;slot_status
op_amp
id|SLOTSTATUS_OCCUPIED
)paren
(brace
singleline_comment|// CAM removal IRQ
id|budget_ci-&gt;slot_status
op_assign
id|SLOTSTATUS_NONE
suffix:semicolon
id|dvb_ca_en50221_camchange_irq
c_func
(paren
op_amp
id|budget_ci-&gt;ca
comma
l_int|0
comma
id|DVB_CA_EN50221_CAMCHANGE_REMOVED
)paren
suffix:semicolon
)brace
)brace
)brace
DECL|function|ciintf_init
r_static
r_int
id|ciintf_init
c_func
(paren
r_struct
id|budget_ci
op_star
id|budget_ci
)paren
(brace
r_struct
id|saa7146_dev
op_star
id|saa
op_assign
id|budget_ci-&gt;budget.dev
suffix:semicolon
r_int
id|flags
suffix:semicolon
r_int
id|result
suffix:semicolon
id|memset
c_func
(paren
op_amp
id|budget_ci-&gt;ca
comma
l_int|0
comma
r_sizeof
(paren
r_struct
id|dvb_ca_en50221
)paren
)paren
suffix:semicolon
singleline_comment|// enable DEBI pins
id|saa7146_write
c_func
(paren
id|saa
comma
id|MC1
comma
id|saa7146_read
c_func
(paren
id|saa
comma
id|MC1
)paren
op_or
(paren
l_int|0x800
op_lshift
l_int|16
)paren
op_or
l_int|0x800
)paren
suffix:semicolon
singleline_comment|// test if it is there
r_if
c_cond
(paren
(paren
id|budget_debiread
c_func
(paren
id|budget_ci
comma
id|DEBICICTL
comma
id|DEBIADDR_CIVERSION
comma
l_int|1
)paren
op_amp
l_int|0xa0
)paren
op_ne
l_int|0xa0
)paren
(brace
id|result
op_assign
op_minus
id|ENODEV
suffix:semicolon
r_goto
id|error
suffix:semicolon
)brace
singleline_comment|// determine whether a CAM is present or not
id|flags
op_assign
id|budget_debiread
c_func
(paren
id|budget_ci
comma
id|DEBICICTL
comma
id|DEBIADDR_CICONTROL
comma
l_int|1
)paren
suffix:semicolon
id|budget_ci-&gt;slot_status
op_assign
id|SLOTSTATUS_NONE
suffix:semicolon
r_if
c_cond
(paren
id|flags
op_amp
id|CICONTROL_CAMDETECT
)paren
id|budget_ci-&gt;slot_status
op_assign
id|SLOTSTATUS_PRESENT
suffix:semicolon
singleline_comment|// register CI interface
id|budget_ci-&gt;ca.read_attribute_mem
op_assign
id|ciintf_read_attribute_mem
suffix:semicolon
id|budget_ci-&gt;ca.write_attribute_mem
op_assign
id|ciintf_write_attribute_mem
suffix:semicolon
id|budget_ci-&gt;ca.read_cam_control
op_assign
id|ciintf_read_cam_control
suffix:semicolon
id|budget_ci-&gt;ca.write_cam_control
op_assign
id|ciintf_write_cam_control
suffix:semicolon
id|budget_ci-&gt;ca.slot_reset
op_assign
id|ciintf_slot_reset
suffix:semicolon
id|budget_ci-&gt;ca.slot_shutdown
op_assign
id|ciintf_slot_shutdown
suffix:semicolon
id|budget_ci-&gt;ca.slot_ts_enable
op_assign
id|ciintf_slot_ts_enable
suffix:semicolon
id|budget_ci-&gt;ca.data
op_assign
id|budget_ci
suffix:semicolon
r_if
c_cond
(paren
(paren
id|result
op_assign
id|dvb_ca_en50221_init
c_func
(paren
id|budget_ci-&gt;budget.dvb_adapter
comma
op_amp
id|budget_ci-&gt;ca
comma
id|DVB_CA_EN50221_FLAG_IRQ_CAMCHANGE
op_or
id|DVB_CA_EN50221_FLAG_IRQ_FR
op_or
id|DVB_CA_EN50221_FLAG_IRQ_DA
comma
l_int|1
)paren
)paren
op_ne
l_int|0
)paren
(brace
id|printk
c_func
(paren
l_string|&quot;budget_ci: CI interface detected, but initialisation failed.&bslash;n&quot;
)paren
suffix:semicolon
r_goto
id|error
suffix:semicolon
)brace
singleline_comment|// Setup CI slot IRQ
id|tasklet_init
(paren
op_amp
id|budget_ci-&gt;ciintf_irq_tasklet
comma
id|ciintf_interrupt
comma
(paren
r_int
r_int
)paren
id|budget_ci
)paren
suffix:semicolon
r_if
c_cond
(paren
id|budget_ci-&gt;slot_status
op_ne
id|SLOTSTATUS_NONE
)paren
(brace
id|saa7146_setgpio
c_func
(paren
id|saa
comma
l_int|0
comma
id|SAA7146_GPIO_IRQLO
)paren
suffix:semicolon
)brace
r_else
(brace
id|saa7146_setgpio
c_func
(paren
id|saa
comma
l_int|0
comma
id|SAA7146_GPIO_IRQHI
)paren
suffix:semicolon
)brace
id|saa7146_write
c_func
(paren
id|saa
comma
id|IER
comma
id|saa7146_read
c_func
(paren
id|saa
comma
id|IER
)paren
op_or
id|MASK_03
)paren
suffix:semicolon
id|budget_debiwrite
c_func
(paren
id|budget_ci
comma
id|DEBICICTL
comma
id|DEBIADDR_CICONTROL
comma
l_int|1
comma
id|CICONTROL_RESET
)paren
suffix:semicolon
singleline_comment|// success!
id|printk
c_func
(paren
l_string|&quot;budget_ci: CI interface initialised&bslash;n&quot;
)paren
suffix:semicolon
id|budget_ci-&gt;budget.ci_present
op_assign
l_int|1
suffix:semicolon
singleline_comment|// forge a fake CI IRQ so the CAM state is setup correctly
id|flags
op_assign
id|DVB_CA_EN50221_CAMCHANGE_REMOVED
suffix:semicolon
r_if
c_cond
(paren
id|budget_ci-&gt;slot_status
op_ne
id|SLOTSTATUS_NONE
)paren
id|flags
op_assign
id|DVB_CA_EN50221_CAMCHANGE_INSERTED
suffix:semicolon
id|dvb_ca_en50221_camchange_irq
c_func
(paren
op_amp
id|budget_ci-&gt;ca
comma
l_int|0
comma
id|flags
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
id|error
suffix:colon
id|saa7146_write
c_func
(paren
id|saa
comma
id|MC1
comma
id|saa7146_read
c_func
(paren
id|saa
comma
id|MC1
)paren
op_or
(paren
l_int|0x800
op_lshift
l_int|16
)paren
)paren
suffix:semicolon
r_return
id|result
suffix:semicolon
)brace
DECL|function|ciintf_deinit
r_static
r_void
id|ciintf_deinit
c_func
(paren
r_struct
id|budget_ci
op_star
id|budget_ci
)paren
(brace
r_struct
id|saa7146_dev
op_star
id|saa
op_assign
id|budget_ci-&gt;budget.dev
suffix:semicolon
singleline_comment|// disable CI interrupts
id|saa7146_write
c_func
(paren
id|saa
comma
id|IER
comma
id|saa7146_read
c_func
(paren
id|saa
comma
id|IER
)paren
op_amp
op_complement
id|MASK_03
)paren
suffix:semicolon
id|saa7146_setgpio
c_func
(paren
id|saa
comma
l_int|0
comma
id|SAA7146_GPIO_INPUT
)paren
suffix:semicolon
id|tasklet_kill
c_func
(paren
op_amp
id|budget_ci-&gt;ciintf_irq_tasklet
)paren
suffix:semicolon
id|budget_debiwrite
c_func
(paren
id|budget_ci
comma
id|DEBICICTL
comma
id|DEBIADDR_CICONTROL
comma
l_int|1
comma
l_int|0
)paren
suffix:semicolon
id|msleep
c_func
(paren
l_int|1
)paren
suffix:semicolon
id|budget_debiwrite
c_func
(paren
id|budget_ci
comma
id|DEBICICTL
comma
id|DEBIADDR_CICONTROL
comma
l_int|1
comma
id|CICONTROL_RESET
)paren
suffix:semicolon
singleline_comment|// disable TS data stream to CI interface
id|saa7146_setgpio
c_func
(paren
id|saa
comma
l_int|1
comma
id|SAA7146_GPIO_INPUT
)paren
suffix:semicolon
singleline_comment|// release the CA device
id|dvb_ca_en50221_release
c_func
(paren
op_amp
id|budget_ci-&gt;ca
)paren
suffix:semicolon
singleline_comment|// disable DEBI pins
id|saa7146_write
c_func
(paren
id|saa
comma
id|MC1
comma
id|saa7146_read
c_func
(paren
id|saa
comma
id|MC1
)paren
op_or
(paren
l_int|0x800
op_lshift
l_int|16
)paren
)paren
suffix:semicolon
)brace
DECL|function|budget_ci_irq
r_static
r_void
id|budget_ci_irq
(paren
r_struct
id|saa7146_dev
op_star
id|dev
comma
id|u32
op_star
id|isr
)paren
(brace
r_struct
id|budget_ci
op_star
id|budget_ci
op_assign
(paren
r_struct
id|budget_ci
op_star
)paren
id|dev-&gt;ext_priv
suffix:semicolon
id|dprintk
c_func
(paren
l_int|8
comma
l_string|&quot;dev: %p, budget_ci: %p&bslash;n&quot;
comma
id|dev
comma
id|budget_ci
)paren
suffix:semicolon
r_if
c_cond
(paren
op_star
id|isr
op_amp
id|MASK_06
)paren
id|tasklet_schedule
(paren
op_amp
id|budget_ci-&gt;msp430_irq_tasklet
)paren
suffix:semicolon
r_if
c_cond
(paren
op_star
id|isr
op_amp
id|MASK_10
)paren
id|ttpci_budget_irq10_handler
(paren
id|dev
comma
id|isr
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
op_star
id|isr
op_amp
id|MASK_03
)paren
op_logical_and
(paren
id|budget_ci-&gt;budget.ci_present
)paren
)paren
id|tasklet_schedule
(paren
op_amp
id|budget_ci-&gt;ciintf_irq_tasklet
)paren
suffix:semicolon
)brace
DECL|function|budget_ci_attach
r_static
r_int
id|budget_ci_attach
(paren
r_struct
id|saa7146_dev
op_star
id|dev
comma
r_struct
id|saa7146_pci_extension_data
op_star
id|info
)paren
(brace
r_struct
id|budget_ci
op_star
id|budget_ci
suffix:semicolon
r_int
id|err
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
(paren
id|budget_ci
op_assign
id|kmalloc
(paren
r_sizeof
(paren
r_struct
id|budget_ci
)paren
comma
id|GFP_KERNEL
)paren
)paren
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
id|dprintk
c_func
(paren
l_int|2
comma
l_string|&quot;budget_ci: %p&bslash;n&quot;
comma
id|budget_ci
)paren
suffix:semicolon
id|spin_lock_init
c_func
(paren
op_amp
id|budget_ci-&gt;debilock
)paren
suffix:semicolon
id|budget_ci-&gt;budget.ci_present
op_assign
l_int|0
suffix:semicolon
id|dev-&gt;ext_priv
op_assign
id|budget_ci
suffix:semicolon
r_if
c_cond
(paren
(paren
id|err
op_assign
id|ttpci_budget_init
(paren
op_amp
id|budget_ci-&gt;budget
comma
id|dev
comma
id|info
)paren
)paren
)paren
(brace
id|kfree
(paren
id|budget_ci
)paren
suffix:semicolon
r_return
id|err
suffix:semicolon
)brace
id|tasklet_init
(paren
op_amp
id|budget_ci-&gt;msp430_irq_tasklet
comma
id|msp430_ir_interrupt
comma
(paren
r_int
r_int
)paren
id|budget_ci
)paren
suffix:semicolon
id|msp430_ir_init
(paren
id|budget_ci
)paren
suffix:semicolon
id|ciintf_init
c_func
(paren
id|budget_ci
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|budget_ci_detach
r_static
r_int
id|budget_ci_detach
(paren
r_struct
id|saa7146_dev
op_star
id|dev
)paren
(brace
r_struct
id|budget_ci
op_star
id|budget_ci
op_assign
(paren
r_struct
id|budget_ci
op_star
)paren
id|dev-&gt;ext_priv
suffix:semicolon
r_struct
id|saa7146_dev
op_star
id|saa
op_assign
id|budget_ci-&gt;budget.dev
suffix:semicolon
r_int
id|err
suffix:semicolon
r_if
c_cond
(paren
id|budget_ci-&gt;budget.ci_present
)paren
id|ciintf_deinit
c_func
(paren
id|budget_ci
)paren
suffix:semicolon
id|err
op_assign
id|ttpci_budget_deinit
(paren
op_amp
id|budget_ci-&gt;budget
)paren
suffix:semicolon
id|tasklet_kill
(paren
op_amp
id|budget_ci-&gt;msp430_irq_tasklet
)paren
suffix:semicolon
id|msp430_ir_deinit
(paren
id|budget_ci
)paren
suffix:semicolon
singleline_comment|// disable frontend and CI interface
id|saa7146_setgpio
c_func
(paren
id|saa
comma
l_int|2
comma
id|SAA7146_GPIO_INPUT
)paren
suffix:semicolon
id|kfree
(paren
id|budget_ci
)paren
suffix:semicolon
r_return
id|err
suffix:semicolon
)brace
DECL|variable|budget_extension
r_static
r_struct
id|saa7146_extension
id|budget_extension
suffix:semicolon
id|MAKE_BUDGET_INFO
c_func
(paren
id|ttbci
comma
l_string|&quot;TT-Budget/WinTV-NOVA-CI PCI&quot;
comma
id|BUDGET_TT_HW_DISEQC
)paren
suffix:semicolon
id|MAKE_BUDGET_INFO
c_func
(paren
id|ttbt2
comma
l_string|&quot;TT-Budget/WinTV-NOVA-T  PCI&quot;
comma
id|BUDGET_TT
)paren
suffix:semicolon
DECL|variable|pci_tbl
r_static
r_struct
id|pci_device_id
id|pci_tbl
(braket
)braket
op_assign
(brace
id|MAKE_EXTENSION_PCI
c_func
(paren
id|ttbci
comma
l_int|0x13c2
comma
l_int|0x100c
)paren
comma
id|MAKE_EXTENSION_PCI
c_func
(paren
id|ttbci
comma
l_int|0x13c2
comma
l_int|0x100f
)paren
comma
id|MAKE_EXTENSION_PCI
c_func
(paren
id|ttbt2
comma
l_int|0x13c2
comma
l_int|0x1011
)paren
comma
(brace
dot
id|vendor
op_assign
l_int|0
comma
)brace
)brace
suffix:semicolon
id|MODULE_DEVICE_TABLE
c_func
(paren
id|pci
comma
id|pci_tbl
)paren
suffix:semicolon
DECL|variable|budget_extension
r_static
r_struct
id|saa7146_extension
id|budget_extension
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;budget_ci dvb&bslash;0&quot;
comma
dot
id|flags
op_assign
l_int|0
comma
dot
id|module
op_assign
id|THIS_MODULE
comma
dot
id|pci_tbl
op_assign
op_amp
id|pci_tbl
(braket
l_int|0
)braket
comma
dot
id|attach
op_assign
id|budget_ci_attach
comma
dot
id|detach
op_assign
id|budget_ci_detach
comma
dot
id|irq_mask
op_assign
id|MASK_03
op_or
id|MASK_06
op_or
id|MASK_10
comma
dot
id|irq_func
op_assign
id|budget_ci_irq
comma
)brace
suffix:semicolon
DECL|function|budget_ci_init
r_static
r_int
id|__init
id|budget_ci_init
c_func
(paren
r_void
)paren
(brace
r_return
id|saa7146_register_extension
c_func
(paren
op_amp
id|budget_extension
)paren
suffix:semicolon
)brace
DECL|function|budget_ci_exit
r_static
r_void
id|__exit
id|budget_ci_exit
c_func
(paren
r_void
)paren
(brace
id|saa7146_unregister_extension
c_func
(paren
op_amp
id|budget_extension
)paren
suffix:semicolon
)brace
DECL|variable|budget_ci_init
id|module_init
c_func
(paren
id|budget_ci_init
)paren
suffix:semicolon
DECL|variable|budget_ci_exit
id|module_exit
c_func
(paren
id|budget_ci_exit
)paren
suffix:semicolon
id|MODULE_LICENSE
c_func
(paren
l_string|&quot;GPL&quot;
)paren
suffix:semicolon
id|MODULE_AUTHOR
c_func
(paren
l_string|&quot;Michael Hunold, Jack Thomasson, Andrew de Quincey, others&quot;
)paren
suffix:semicolon
id|MODULE_DESCRIPTION
c_func
(paren
l_string|&quot;driver for the SAA7146 based so-called &quot;
l_string|&quot;budget PCI DVB cards w/ CI-module produced by &quot;
l_string|&quot;Siemens, Technotrend, Hauppauge&quot;
)paren
suffix:semicolon
eof
