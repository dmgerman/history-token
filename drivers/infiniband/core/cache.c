multiline_comment|/*&n; * Copyright (c) 2004 Topspin Communications.  All rights reserved.&n; *&n; * This software is available to you under a choice of one of two&n; * licenses.  You may choose to be licensed under the terms of the GNU&n; * General Public License (GPL) Version 2, available from the file&n; * COPYING in the main directory of this source tree, or the&n; * OpenIB.org BSD license below:&n; *&n; *     Redistribution and use in source and binary forms, with or&n; *     without modification, are permitted provided that the following&n; *     conditions are met:&n; *&n; *      - Redistributions of source code must retain the above&n; *        copyright notice, this list of conditions and the following&n; *        disclaimer.&n; *&n; *      - Redistributions in binary form must reproduce the above&n; *        copyright notice, this list of conditions and the following&n; *        disclaimer in the documentation and/or other materials&n; *        provided with the distribution.&n; *&n; * THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND,&n; * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF&n; * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND&n; * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS&n; * BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN&n; * ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN&n; * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE&n; * SOFTWARE.&n; *&n; * $Id: cache.c 1349 2004-12-16 21:09:43Z roland $&n; */
macro_line|#include &lt;linux/version.h&gt;
macro_line|#include &lt;linux/module.h&gt;
macro_line|#include &lt;linux/errno.h&gt;
macro_line|#include &lt;linux/slab.h&gt;
macro_line|#include &lt;ib_cache.h&gt;
macro_line|#include &quot;core_priv.h&quot;
DECL|struct|ib_pkey_cache
r_struct
id|ib_pkey_cache
(brace
DECL|member|table_len
r_int
id|table_len
suffix:semicolon
DECL|member|table
id|u16
id|table
(braket
l_int|0
)braket
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|ib_gid_cache
r_struct
id|ib_gid_cache
(brace
DECL|member|table_len
r_int
id|table_len
suffix:semicolon
DECL|member|table
r_union
id|ib_gid
id|table
(braket
l_int|0
)braket
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|ib_update_work
r_struct
id|ib_update_work
(brace
DECL|member|work
r_struct
id|work_struct
id|work
suffix:semicolon
DECL|member|device
r_struct
id|ib_device
op_star
id|device
suffix:semicolon
DECL|member|port_num
id|u8
id|port_num
suffix:semicolon
)brace
suffix:semicolon
DECL|function|start_port
r_static
r_inline
r_int
id|start_port
c_func
(paren
r_struct
id|ib_device
op_star
id|device
)paren
(brace
r_return
id|device-&gt;node_type
op_eq
id|IB_NODE_SWITCH
ques
c_cond
l_int|0
suffix:colon
l_int|1
suffix:semicolon
)brace
DECL|function|end_port
r_static
r_inline
r_int
id|end_port
c_func
(paren
r_struct
id|ib_device
op_star
id|device
)paren
(brace
r_return
id|device-&gt;node_type
op_eq
id|IB_NODE_SWITCH
ques
c_cond
l_int|0
suffix:colon
id|device-&gt;phys_port_cnt
suffix:semicolon
)brace
DECL|function|ib_get_cached_gid
r_int
id|ib_get_cached_gid
c_func
(paren
r_struct
id|ib_device
op_star
id|device
comma
id|u8
id|port_num
comma
r_int
id|index
comma
r_union
id|ib_gid
op_star
id|gid
)paren
(brace
r_struct
id|ib_gid_cache
op_star
id|cache
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
r_int
id|ret
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|port_num
template_param
id|end_port
c_func
(paren
id|device
)paren
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
id|read_lock_irqsave
c_func
(paren
op_amp
id|device-&gt;cache.lock
comma
id|flags
)paren
suffix:semicolon
id|cache
op_assign
id|device-&gt;cache.gid_cache
(braket
id|port_num
op_minus
id|start_port
c_func
(paren
id|device
)paren
)braket
suffix:semicolon
r_if
c_cond
(paren
id|index
OL
l_int|0
op_logical_or
id|index
op_ge
id|cache-&gt;table_len
)paren
id|ret
op_assign
op_minus
id|EINVAL
suffix:semicolon
r_else
op_star
id|gid
op_assign
id|cache-&gt;table
(braket
id|index
)braket
suffix:semicolon
id|read_unlock_irqrestore
c_func
(paren
op_amp
id|device-&gt;cache.lock
comma
id|flags
)paren
suffix:semicolon
r_return
id|ret
suffix:semicolon
)brace
DECL|variable|ib_get_cached_gid
id|EXPORT_SYMBOL
c_func
(paren
id|ib_get_cached_gid
)paren
suffix:semicolon
DECL|function|ib_find_cached_gid
r_int
id|ib_find_cached_gid
c_func
(paren
r_struct
id|ib_device
op_star
id|device
comma
r_union
id|ib_gid
op_star
id|gid
comma
id|u8
op_star
id|port_num
comma
id|u16
op_star
id|index
)paren
(brace
r_struct
id|ib_gid_cache
op_star
id|cache
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
r_int
id|p
comma
id|i
suffix:semicolon
r_int
id|ret
op_assign
op_minus
id|ENOENT
suffix:semicolon
op_star
id|port_num
op_assign
op_minus
l_int|1
suffix:semicolon
r_if
c_cond
(paren
id|index
)paren
op_star
id|index
op_assign
op_minus
l_int|1
suffix:semicolon
id|read_lock_irqsave
c_func
(paren
op_amp
id|device-&gt;cache.lock
comma
id|flags
)paren
suffix:semicolon
r_for
c_loop
(paren
id|p
op_assign
l_int|0
suffix:semicolon
id|p
op_le
id|end_port
c_func
(paren
id|device
)paren
op_minus
id|start_port
c_func
(paren
id|device
)paren
suffix:semicolon
op_increment
id|p
)paren
(brace
id|cache
op_assign
id|device-&gt;cache.gid_cache
(braket
id|p
)braket
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|cache-&gt;table_len
suffix:semicolon
op_increment
id|i
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
id|memcmp
c_func
(paren
id|gid
comma
op_amp
id|cache-&gt;table
(braket
id|i
)braket
comma
r_sizeof
op_star
id|gid
)paren
)paren
(brace
op_star
id|port_num
op_assign
id|p
op_plus
id|start_port
c_func
(paren
id|device
)paren
suffix:semicolon
r_if
c_cond
(paren
id|index
)paren
op_star
id|index
op_assign
id|i
suffix:semicolon
id|ret
op_assign
l_int|0
suffix:semicolon
r_goto
id|found
suffix:semicolon
)brace
)brace
)brace
id|found
suffix:colon
id|read_unlock_irqrestore
c_func
(paren
op_amp
id|device-&gt;cache.lock
comma
id|flags
)paren
suffix:semicolon
r_return
id|ret
suffix:semicolon
)brace
DECL|variable|ib_find_cached_gid
id|EXPORT_SYMBOL
c_func
(paren
id|ib_find_cached_gid
)paren
suffix:semicolon
DECL|function|ib_get_cached_pkey
r_int
id|ib_get_cached_pkey
c_func
(paren
r_struct
id|ib_device
op_star
id|device
comma
id|u8
id|port_num
comma
r_int
id|index
comma
id|u16
op_star
id|pkey
)paren
(brace
r_struct
id|ib_pkey_cache
op_star
id|cache
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
r_int
id|ret
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|port_num
template_param
id|end_port
c_func
(paren
id|device
)paren
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
id|read_lock_irqsave
c_func
(paren
op_amp
id|device-&gt;cache.lock
comma
id|flags
)paren
suffix:semicolon
id|cache
op_assign
id|device-&gt;cache.pkey_cache
(braket
id|port_num
op_minus
id|start_port
c_func
(paren
id|device
)paren
)braket
suffix:semicolon
r_if
c_cond
(paren
id|index
OL
l_int|0
op_logical_or
id|index
op_ge
id|cache-&gt;table_len
)paren
id|ret
op_assign
op_minus
id|EINVAL
suffix:semicolon
r_else
op_star
id|pkey
op_assign
id|cache-&gt;table
(braket
id|index
)braket
suffix:semicolon
id|read_unlock_irqrestore
c_func
(paren
op_amp
id|device-&gt;cache.lock
comma
id|flags
)paren
suffix:semicolon
r_return
id|ret
suffix:semicolon
)brace
DECL|variable|ib_get_cached_pkey
id|EXPORT_SYMBOL
c_func
(paren
id|ib_get_cached_pkey
)paren
suffix:semicolon
DECL|function|ib_find_cached_pkey
r_int
id|ib_find_cached_pkey
c_func
(paren
r_struct
id|ib_device
op_star
id|device
comma
id|u8
id|port_num
comma
id|u16
id|pkey
comma
id|u16
op_star
id|index
)paren
(brace
r_struct
id|ib_pkey_cache
op_star
id|cache
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
r_int
id|i
suffix:semicolon
r_int
id|ret
op_assign
op_minus
id|ENOENT
suffix:semicolon
r_if
c_cond
(paren
id|port_num
template_param
id|end_port
c_func
(paren
id|device
)paren
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
id|read_lock_irqsave
c_func
(paren
op_amp
id|device-&gt;cache.lock
comma
id|flags
)paren
suffix:semicolon
id|cache
op_assign
id|device-&gt;cache.pkey_cache
(braket
id|port_num
op_minus
id|start_port
c_func
(paren
id|device
)paren
)braket
suffix:semicolon
op_star
id|index
op_assign
op_minus
l_int|1
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|cache-&gt;table_len
suffix:semicolon
op_increment
id|i
)paren
r_if
c_cond
(paren
(paren
id|cache-&gt;table
(braket
id|i
)braket
op_amp
l_int|0x7fff
)paren
op_eq
(paren
id|pkey
op_amp
l_int|0x7fff
)paren
)paren
(brace
op_star
id|index
op_assign
id|i
suffix:semicolon
id|ret
op_assign
l_int|0
suffix:semicolon
r_break
suffix:semicolon
)brace
id|read_unlock_irqrestore
c_func
(paren
op_amp
id|device-&gt;cache.lock
comma
id|flags
)paren
suffix:semicolon
r_return
id|ret
suffix:semicolon
)brace
DECL|variable|ib_find_cached_pkey
id|EXPORT_SYMBOL
c_func
(paren
id|ib_find_cached_pkey
)paren
suffix:semicolon
DECL|function|ib_cache_update
r_static
r_void
id|ib_cache_update
c_func
(paren
r_struct
id|ib_device
op_star
id|device
comma
id|u8
id|port
)paren
(brace
r_struct
id|ib_port_attr
op_star
id|tprops
op_assign
l_int|NULL
suffix:semicolon
r_struct
id|ib_pkey_cache
op_star
id|pkey_cache
op_assign
l_int|NULL
comma
op_star
id|old_pkey_cache
suffix:semicolon
r_struct
id|ib_gid_cache
op_star
id|gid_cache
op_assign
l_int|NULL
comma
op_star
id|old_gid_cache
suffix:semicolon
r_int
id|i
suffix:semicolon
r_int
id|ret
suffix:semicolon
id|tprops
op_assign
id|kmalloc
c_func
(paren
r_sizeof
op_star
id|tprops
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|tprops
)paren
r_return
suffix:semicolon
id|ret
op_assign
id|ib_query_port
c_func
(paren
id|device
comma
id|port
comma
id|tprops
)paren
suffix:semicolon
r_if
c_cond
(paren
id|ret
)paren
(brace
id|printk
c_func
(paren
id|KERN_WARNING
l_string|&quot;ib_query_port failed (%d) for %s&bslash;n&quot;
comma
id|ret
comma
id|device-&gt;name
)paren
suffix:semicolon
r_goto
id|err
suffix:semicolon
)brace
id|pkey_cache
op_assign
id|kmalloc
c_func
(paren
r_sizeof
op_star
id|pkey_cache
op_plus
id|tprops-&gt;pkey_tbl_len
op_star
r_sizeof
op_star
id|pkey_cache-&gt;table
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|pkey_cache
)paren
r_goto
id|err
suffix:semicolon
id|pkey_cache-&gt;table_len
op_assign
id|tprops-&gt;pkey_tbl_len
suffix:semicolon
id|gid_cache
op_assign
id|kmalloc
c_func
(paren
r_sizeof
op_star
id|gid_cache
op_plus
id|tprops-&gt;gid_tbl_len
op_star
r_sizeof
op_star
id|gid_cache-&gt;table
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|gid_cache
)paren
r_goto
id|err
suffix:semicolon
id|gid_cache-&gt;table_len
op_assign
id|tprops-&gt;gid_tbl_len
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|pkey_cache-&gt;table_len
suffix:semicolon
op_increment
id|i
)paren
(brace
id|ret
op_assign
id|ib_query_pkey
c_func
(paren
id|device
comma
id|port
comma
id|i
comma
id|pkey_cache-&gt;table
op_plus
id|i
)paren
suffix:semicolon
r_if
c_cond
(paren
id|ret
)paren
(brace
id|printk
c_func
(paren
id|KERN_WARNING
l_string|&quot;ib_query_pkey failed (%d) for %s (index %d)&bslash;n&quot;
comma
id|ret
comma
id|device-&gt;name
comma
id|i
)paren
suffix:semicolon
r_goto
id|err
suffix:semicolon
)brace
)brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|gid_cache-&gt;table_len
suffix:semicolon
op_increment
id|i
)paren
(brace
id|ret
op_assign
id|ib_query_gid
c_func
(paren
id|device
comma
id|port
comma
id|i
comma
id|gid_cache-&gt;table
op_plus
id|i
)paren
suffix:semicolon
r_if
c_cond
(paren
id|ret
)paren
(brace
id|printk
c_func
(paren
id|KERN_WARNING
l_string|&quot;ib_query_gid failed (%d) for %s (index %d)&bslash;n&quot;
comma
id|ret
comma
id|device-&gt;name
comma
id|i
)paren
suffix:semicolon
r_goto
id|err
suffix:semicolon
)brace
)brace
id|write_lock_irq
c_func
(paren
op_amp
id|device-&gt;cache.lock
)paren
suffix:semicolon
id|old_pkey_cache
op_assign
id|device-&gt;cache.pkey_cache
(braket
id|port
op_minus
id|start_port
c_func
(paren
id|device
)paren
)braket
suffix:semicolon
id|old_gid_cache
op_assign
id|device-&gt;cache.gid_cache
(braket
id|port
op_minus
id|start_port
c_func
(paren
id|device
)paren
)braket
suffix:semicolon
id|device-&gt;cache.pkey_cache
(braket
id|port
op_minus
id|start_port
c_func
(paren
id|device
)paren
)braket
op_assign
id|pkey_cache
suffix:semicolon
id|device-&gt;cache.gid_cache
(braket
id|port
op_minus
id|start_port
c_func
(paren
id|device
)paren
)braket
op_assign
id|gid_cache
suffix:semicolon
id|write_unlock_irq
c_func
(paren
op_amp
id|device-&gt;cache.lock
)paren
suffix:semicolon
id|kfree
c_func
(paren
id|old_pkey_cache
)paren
suffix:semicolon
id|kfree
c_func
(paren
id|old_gid_cache
)paren
suffix:semicolon
id|kfree
c_func
(paren
id|tprops
)paren
suffix:semicolon
r_return
suffix:semicolon
id|err
suffix:colon
id|kfree
c_func
(paren
id|pkey_cache
)paren
suffix:semicolon
id|kfree
c_func
(paren
id|gid_cache
)paren
suffix:semicolon
id|kfree
c_func
(paren
id|tprops
)paren
suffix:semicolon
)brace
DECL|function|ib_cache_task
r_static
r_void
id|ib_cache_task
c_func
(paren
r_void
op_star
id|work_ptr
)paren
(brace
r_struct
id|ib_update_work
op_star
id|work
op_assign
id|work_ptr
suffix:semicolon
id|ib_cache_update
c_func
(paren
id|work-&gt;device
comma
id|work-&gt;port_num
)paren
suffix:semicolon
id|kfree
c_func
(paren
id|work
)paren
suffix:semicolon
)brace
DECL|function|ib_cache_event
r_static
r_void
id|ib_cache_event
c_func
(paren
r_struct
id|ib_event_handler
op_star
id|handler
comma
r_struct
id|ib_event
op_star
id|event
)paren
(brace
r_struct
id|ib_update_work
op_star
id|work
suffix:semicolon
r_if
c_cond
(paren
id|event-&gt;event
op_eq
id|IB_EVENT_PORT_ERR
op_logical_or
id|event-&gt;event
op_eq
id|IB_EVENT_PORT_ACTIVE
op_logical_or
id|event-&gt;event
op_eq
id|IB_EVENT_LID_CHANGE
op_logical_or
id|event-&gt;event
op_eq
id|IB_EVENT_PKEY_CHANGE
op_logical_or
id|event-&gt;event
op_eq
id|IB_EVENT_SM_CHANGE
)paren
(brace
id|work
op_assign
id|kmalloc
c_func
(paren
r_sizeof
op_star
id|work
comma
id|GFP_ATOMIC
)paren
suffix:semicolon
r_if
c_cond
(paren
id|work
)paren
(brace
id|INIT_WORK
c_func
(paren
op_amp
id|work-&gt;work
comma
id|ib_cache_task
comma
id|work
)paren
suffix:semicolon
id|work-&gt;device
op_assign
id|event-&gt;device
suffix:semicolon
id|work-&gt;port_num
op_assign
id|event-&gt;element.port_num
suffix:semicolon
id|schedule_work
c_func
(paren
op_amp
id|work-&gt;work
)paren
suffix:semicolon
)brace
)brace
)brace
DECL|function|ib_cache_setup_one
r_static
r_void
id|ib_cache_setup_one
c_func
(paren
r_struct
id|ib_device
op_star
id|device
)paren
(brace
r_int
id|p
suffix:semicolon
id|rwlock_init
c_func
(paren
op_amp
id|device-&gt;cache.lock
)paren
suffix:semicolon
id|device-&gt;cache.pkey_cache
op_assign
id|kmalloc
c_func
(paren
r_sizeof
op_star
id|device-&gt;cache.pkey_cache
op_star
(paren
id|end_port
c_func
(paren
id|device
)paren
op_minus
id|start_port
c_func
(paren
id|device
)paren
op_plus
l_int|1
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
id|device-&gt;cache.gid_cache
op_assign
id|kmalloc
c_func
(paren
r_sizeof
op_star
id|device-&gt;cache.pkey_cache
op_star
(paren
id|end_port
c_func
(paren
id|device
)paren
op_minus
id|start_port
c_func
(paren
id|device
)paren
op_plus
l_int|1
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|device-&gt;cache.pkey_cache
op_logical_or
op_logical_neg
id|device-&gt;cache.gid_cache
)paren
(brace
id|printk
c_func
(paren
id|KERN_WARNING
l_string|&quot;Couldn&squot;t allocate cache &quot;
l_string|&quot;for %s&bslash;n&quot;
comma
id|device-&gt;name
)paren
suffix:semicolon
r_goto
id|err
suffix:semicolon
)brace
r_for
c_loop
(paren
id|p
op_assign
l_int|0
suffix:semicolon
id|p
op_le
id|end_port
c_func
(paren
id|device
)paren
op_minus
id|start_port
c_func
(paren
id|device
)paren
suffix:semicolon
op_increment
id|p
)paren
(brace
id|device-&gt;cache.pkey_cache
(braket
id|p
)braket
op_assign
l_int|NULL
suffix:semicolon
id|device-&gt;cache.gid_cache
(braket
id|p
)braket
op_assign
l_int|NULL
suffix:semicolon
id|ib_cache_update
c_func
(paren
id|device
comma
id|p
op_plus
id|start_port
c_func
(paren
id|device
)paren
)paren
suffix:semicolon
)brace
id|INIT_IB_EVENT_HANDLER
c_func
(paren
op_amp
id|device-&gt;cache.event_handler
comma
id|device
comma
id|ib_cache_event
)paren
suffix:semicolon
r_if
c_cond
(paren
id|ib_register_event_handler
c_func
(paren
op_amp
id|device-&gt;cache.event_handler
)paren
)paren
r_goto
id|err_cache
suffix:semicolon
r_return
suffix:semicolon
id|err_cache
suffix:colon
r_for
c_loop
(paren
id|p
op_assign
l_int|0
suffix:semicolon
id|p
op_le
id|end_port
c_func
(paren
id|device
)paren
op_minus
id|start_port
c_func
(paren
id|device
)paren
suffix:semicolon
op_increment
id|p
)paren
(brace
id|kfree
c_func
(paren
id|device-&gt;cache.pkey_cache
(braket
id|p
)braket
)paren
suffix:semicolon
id|kfree
c_func
(paren
id|device-&gt;cache.gid_cache
(braket
id|p
)braket
)paren
suffix:semicolon
)brace
id|err
suffix:colon
id|kfree
c_func
(paren
id|device-&gt;cache.pkey_cache
)paren
suffix:semicolon
id|kfree
c_func
(paren
id|device-&gt;cache.gid_cache
)paren
suffix:semicolon
)brace
DECL|function|ib_cache_cleanup_one
r_static
r_void
id|ib_cache_cleanup_one
c_func
(paren
r_struct
id|ib_device
op_star
id|device
)paren
(brace
r_int
id|p
suffix:semicolon
id|ib_unregister_event_handler
c_func
(paren
op_amp
id|device-&gt;cache.event_handler
)paren
suffix:semicolon
id|flush_scheduled_work
c_func
(paren
)paren
suffix:semicolon
r_for
c_loop
(paren
id|p
op_assign
l_int|0
suffix:semicolon
id|p
op_le
id|end_port
c_func
(paren
id|device
)paren
op_minus
id|start_port
c_func
(paren
id|device
)paren
suffix:semicolon
op_increment
id|p
)paren
(brace
id|kfree
c_func
(paren
id|device-&gt;cache.pkey_cache
(braket
id|p
)braket
)paren
suffix:semicolon
id|kfree
c_func
(paren
id|device-&gt;cache.gid_cache
(braket
id|p
)braket
)paren
suffix:semicolon
)brace
id|kfree
c_func
(paren
id|device-&gt;cache.pkey_cache
)paren
suffix:semicolon
id|kfree
c_func
(paren
id|device-&gt;cache.gid_cache
)paren
suffix:semicolon
)brace
DECL|variable|cache_client
r_static
r_struct
id|ib_client
id|cache_client
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;cache&quot;
comma
dot
id|add
op_assign
id|ib_cache_setup_one
comma
dot
id|remove
op_assign
id|ib_cache_cleanup_one
)brace
suffix:semicolon
DECL|function|ib_cache_setup
r_int
id|__init
id|ib_cache_setup
c_func
(paren
r_void
)paren
(brace
r_return
id|ib_register_client
c_func
(paren
op_amp
id|cache_client
)paren
suffix:semicolon
)brace
DECL|function|ib_cache_cleanup
r_void
id|__exit
id|ib_cache_cleanup
c_func
(paren
r_void
)paren
(brace
id|ib_unregister_client
c_func
(paren
op_amp
id|cache_client
)paren
suffix:semicolon
)brace
eof
