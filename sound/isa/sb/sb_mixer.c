multiline_comment|/*&n; *  Copyright (c) by Jaroslav Kysela &lt;perex@suse.cz&gt;&n; *  Routines for Sound Blaster mixer control&n; *&n; *&n; *   This program is free software; you can redistribute it and/or modify&n; *   it under the terms of the GNU General Public License as published by&n; *   the Free Software Foundation; either version 2 of the License, or&n; *   (at your option) any later version.&n; *&n; *   This program is distributed in the hope that it will be useful,&n; *   but WITHOUT ANY WARRANTY; without even the implied warranty of&n; *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the&n; *   GNU General Public License for more details.&n; *&n; *   You should have received a copy of the GNU General Public License&n; *   along with this program; if not, write to the Free Software&n; *   Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA&n; *&n; */
macro_line|#include &lt;sound/driver.h&gt;
macro_line|#include &lt;asm/io.h&gt;
macro_line|#include &lt;linux/delay.h&gt;
macro_line|#include &lt;linux/time.h&gt;
macro_line|#include &lt;sound/core.h&gt;
macro_line|#include &lt;sound/sb.h&gt;
macro_line|#include &lt;sound/control.h&gt;
DECL|macro|chip_t
mdefine_line|#define chip_t sb_t
DECL|macro|IO_DEBUG
macro_line|#undef IO_DEBUG
DECL|function|snd_sbmixer_write
r_void
id|snd_sbmixer_write
c_func
(paren
id|sb_t
op_star
id|chip
comma
r_int
r_char
id|reg
comma
r_int
r_char
id|data
)paren
(brace
id|outb
c_func
(paren
id|reg
comma
id|SBP
c_func
(paren
id|chip
comma
id|MIXER_ADDR
)paren
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|10
)paren
suffix:semicolon
id|outb
c_func
(paren
id|data
comma
id|SBP
c_func
(paren
id|chip
comma
id|MIXER_DATA
)paren
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|10
)paren
suffix:semicolon
macro_line|#ifdef IO_DEBUG
id|snd_printk
c_func
(paren
l_string|&quot;mixer_write 0x%x 0x%x&bslash;n&quot;
comma
id|reg
comma
id|data
)paren
suffix:semicolon
macro_line|#endif
)brace
DECL|function|snd_sbmixer_read
r_int
r_char
id|snd_sbmixer_read
c_func
(paren
id|sb_t
op_star
id|chip
comma
r_int
r_char
id|reg
)paren
(brace
r_int
r_char
id|result
suffix:semicolon
id|outb
c_func
(paren
id|reg
comma
id|SBP
c_func
(paren
id|chip
comma
id|MIXER_ADDR
)paren
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|10
)paren
suffix:semicolon
id|result
op_assign
id|inb
c_func
(paren
id|SBP
c_func
(paren
id|chip
comma
id|MIXER_DATA
)paren
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|10
)paren
suffix:semicolon
macro_line|#ifdef IO_DEBUG
id|snd_printk
c_func
(paren
l_string|&quot;mixer_read 0x%x 0x%x&bslash;n&quot;
comma
id|reg
comma
id|result
)paren
suffix:semicolon
macro_line|#endif
r_return
id|result
suffix:semicolon
)brace
multiline_comment|/*&n; * Single channel mixer element&n; */
DECL|function|snd_sbmixer_info_single
r_static
r_int
id|snd_sbmixer_info_single
c_func
(paren
id|snd_kcontrol_t
op_star
id|kcontrol
comma
id|snd_ctl_elem_info_t
op_star
id|uinfo
)paren
(brace
r_int
id|mask
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|24
)paren
op_amp
l_int|0xff
suffix:semicolon
id|uinfo-&gt;type
op_assign
id|mask
op_eq
l_int|1
ques
c_cond
id|SNDRV_CTL_ELEM_TYPE_BOOLEAN
suffix:colon
id|SNDRV_CTL_ELEM_TYPE_INTEGER
suffix:semicolon
id|uinfo-&gt;count
op_assign
l_int|1
suffix:semicolon
id|uinfo-&gt;value.integer.min
op_assign
l_int|0
suffix:semicolon
id|uinfo-&gt;value.integer.max
op_assign
id|mask
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|snd_sbmixer_get_single
r_static
r_int
id|snd_sbmixer_get_single
c_func
(paren
id|snd_kcontrol_t
op_star
id|kcontrol
comma
id|snd_ctl_elem_value_t
op_star
id|ucontrol
)paren
(brace
id|sb_t
op_star
id|sb
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
r_int
id|reg
op_assign
id|kcontrol-&gt;private_value
op_amp
l_int|0xff
suffix:semicolon
r_int
id|shift
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|16
)paren
op_amp
l_int|0xff
suffix:semicolon
r_int
id|mask
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|24
)paren
op_amp
l_int|0xff
suffix:semicolon
r_int
r_char
id|val
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|sb-&gt;mixer_lock
comma
id|flags
)paren
suffix:semicolon
id|val
op_assign
(paren
id|snd_sbmixer_read
c_func
(paren
id|sb
comma
id|reg
)paren
op_rshift
id|shift
)paren
op_amp
id|mask
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|sb-&gt;mixer_lock
comma
id|flags
)paren
suffix:semicolon
id|ucontrol-&gt;value.integer.value
(braket
l_int|0
)braket
op_assign
id|val
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|snd_sbmixer_put_single
r_static
r_int
id|snd_sbmixer_put_single
c_func
(paren
id|snd_kcontrol_t
op_star
id|kcontrol
comma
id|snd_ctl_elem_value_t
op_star
id|ucontrol
)paren
(brace
id|sb_t
op_star
id|sb
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
r_int
id|reg
op_assign
id|kcontrol-&gt;private_value
op_amp
l_int|0xff
suffix:semicolon
r_int
id|shift
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|16
)paren
op_amp
l_int|0x07
suffix:semicolon
r_int
id|mask
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|24
)paren
op_amp
l_int|0xff
suffix:semicolon
r_int
id|change
suffix:semicolon
r_int
r_char
id|val
comma
id|oval
suffix:semicolon
id|val
op_assign
(paren
id|ucontrol-&gt;value.integer.value
(braket
l_int|0
)braket
op_amp
id|mask
)paren
op_lshift
id|shift
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|sb-&gt;mixer_lock
comma
id|flags
)paren
suffix:semicolon
id|oval
op_assign
id|snd_sbmixer_read
c_func
(paren
id|sb
comma
id|reg
)paren
suffix:semicolon
id|val
op_assign
(paren
id|oval
op_amp
op_complement
(paren
id|mask
op_lshift
id|shift
)paren
)paren
op_or
id|val
suffix:semicolon
id|change
op_assign
id|val
op_ne
id|oval
suffix:semicolon
r_if
c_cond
(paren
id|change
)paren
id|snd_sbmixer_write
c_func
(paren
id|sb
comma
id|reg
comma
id|val
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|sb-&gt;mixer_lock
comma
id|flags
)paren
suffix:semicolon
r_return
id|change
suffix:semicolon
)brace
multiline_comment|/*&n; * Double channel mixer element&n; */
DECL|function|snd_sbmixer_info_double
r_static
r_int
id|snd_sbmixer_info_double
c_func
(paren
id|snd_kcontrol_t
op_star
id|kcontrol
comma
id|snd_ctl_elem_info_t
op_star
id|uinfo
)paren
(brace
r_int
id|mask
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|24
)paren
op_amp
l_int|0xff
suffix:semicolon
id|uinfo-&gt;type
op_assign
id|mask
op_eq
l_int|1
ques
c_cond
id|SNDRV_CTL_ELEM_TYPE_BOOLEAN
suffix:colon
id|SNDRV_CTL_ELEM_TYPE_INTEGER
suffix:semicolon
id|uinfo-&gt;count
op_assign
l_int|2
suffix:semicolon
id|uinfo-&gt;value.integer.min
op_assign
l_int|0
suffix:semicolon
id|uinfo-&gt;value.integer.max
op_assign
id|mask
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|snd_sbmixer_get_double
r_static
r_int
id|snd_sbmixer_get_double
c_func
(paren
id|snd_kcontrol_t
op_star
id|kcontrol
comma
id|snd_ctl_elem_value_t
op_star
id|ucontrol
)paren
(brace
id|sb_t
op_star
id|sb
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
r_int
id|left_reg
op_assign
id|kcontrol-&gt;private_value
op_amp
l_int|0xff
suffix:semicolon
r_int
id|right_reg
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|8
)paren
op_amp
l_int|0xff
suffix:semicolon
r_int
id|left_shift
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|16
)paren
op_amp
l_int|0x07
suffix:semicolon
r_int
id|right_shift
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|19
)paren
op_amp
l_int|0x07
suffix:semicolon
r_int
id|mask
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|24
)paren
op_amp
l_int|0xff
suffix:semicolon
r_int
r_char
id|left
comma
id|right
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|sb-&gt;mixer_lock
comma
id|flags
)paren
suffix:semicolon
id|left
op_assign
(paren
id|snd_sbmixer_read
c_func
(paren
id|sb
comma
id|left_reg
)paren
op_rshift
id|left_shift
)paren
op_amp
id|mask
suffix:semicolon
id|right
op_assign
(paren
id|snd_sbmixer_read
c_func
(paren
id|sb
comma
id|right_reg
)paren
op_rshift
id|right_shift
)paren
op_amp
id|mask
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|sb-&gt;mixer_lock
comma
id|flags
)paren
suffix:semicolon
id|ucontrol-&gt;value.integer.value
(braket
l_int|0
)braket
op_assign
id|left
suffix:semicolon
id|ucontrol-&gt;value.integer.value
(braket
l_int|1
)braket
op_assign
id|right
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|snd_sbmixer_put_double
r_static
r_int
id|snd_sbmixer_put_double
c_func
(paren
id|snd_kcontrol_t
op_star
id|kcontrol
comma
id|snd_ctl_elem_value_t
op_star
id|ucontrol
)paren
(brace
id|sb_t
op_star
id|sb
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
r_int
id|left_reg
op_assign
id|kcontrol-&gt;private_value
op_amp
l_int|0xff
suffix:semicolon
r_int
id|right_reg
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|8
)paren
op_amp
l_int|0xff
suffix:semicolon
r_int
id|left_shift
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|16
)paren
op_amp
l_int|0x07
suffix:semicolon
r_int
id|right_shift
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|19
)paren
op_amp
l_int|0x07
suffix:semicolon
r_int
id|mask
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|24
)paren
op_amp
l_int|0xff
suffix:semicolon
r_int
id|change
suffix:semicolon
r_int
r_char
id|left
comma
id|right
comma
id|oleft
comma
id|oright
suffix:semicolon
id|left
op_assign
(paren
id|ucontrol-&gt;value.integer.value
(braket
l_int|0
)braket
op_amp
id|mask
)paren
op_lshift
id|left_shift
suffix:semicolon
id|right
op_assign
(paren
id|ucontrol-&gt;value.integer.value
(braket
l_int|1
)braket
op_amp
id|mask
)paren
op_lshift
id|right_shift
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|sb-&gt;mixer_lock
comma
id|flags
)paren
suffix:semicolon
r_if
c_cond
(paren
id|left_reg
op_eq
id|right_reg
)paren
(brace
id|oleft
op_assign
id|snd_sbmixer_read
c_func
(paren
id|sb
comma
id|left_reg
)paren
suffix:semicolon
id|left
op_assign
(paren
id|oleft
op_amp
op_complement
(paren
(paren
id|mask
op_lshift
id|left_shift
)paren
op_or
(paren
id|mask
op_lshift
id|right_shift
)paren
)paren
)paren
op_or
id|left
op_or
id|right
suffix:semicolon
id|change
op_assign
id|left
op_ne
id|oleft
suffix:semicolon
r_if
c_cond
(paren
id|change
)paren
id|snd_sbmixer_write
c_func
(paren
id|sb
comma
id|left_reg
comma
id|left
)paren
suffix:semicolon
)brace
r_else
(brace
id|oleft
op_assign
id|snd_sbmixer_read
c_func
(paren
id|sb
comma
id|left_reg
)paren
suffix:semicolon
id|oright
op_assign
id|snd_sbmixer_read
c_func
(paren
id|sb
comma
id|right_reg
)paren
suffix:semicolon
id|left
op_assign
(paren
id|oleft
op_amp
op_complement
(paren
id|mask
op_lshift
id|left_shift
)paren
)paren
op_or
id|left
suffix:semicolon
id|right
op_assign
(paren
id|oright
op_amp
op_complement
(paren
id|mask
op_lshift
id|right_shift
)paren
)paren
op_or
id|right
suffix:semicolon
id|change
op_assign
id|left
op_ne
id|oleft
op_logical_or
id|right
op_ne
id|oright
suffix:semicolon
r_if
c_cond
(paren
id|change
)paren
(brace
id|snd_sbmixer_write
c_func
(paren
id|sb
comma
id|left_reg
comma
id|left
)paren
suffix:semicolon
id|snd_sbmixer_write
c_func
(paren
id|sb
comma
id|right_reg
comma
id|right
)paren
suffix:semicolon
)brace
)brace
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|sb-&gt;mixer_lock
comma
id|flags
)paren
suffix:semicolon
r_return
id|change
suffix:semicolon
)brace
multiline_comment|/*&n; * DT-019x / ALS-007 capture/input switch&n; */
DECL|function|snd_dt019x_input_sw_info
r_static
r_int
id|snd_dt019x_input_sw_info
c_func
(paren
id|snd_kcontrol_t
op_star
id|kcontrol
comma
id|snd_ctl_elem_info_t
op_star
id|uinfo
)paren
(brace
r_static
r_char
op_star
id|texts
(braket
l_int|5
)braket
op_assign
(brace
l_string|&quot;CD&quot;
comma
l_string|&quot;Mic&quot;
comma
l_string|&quot;Line&quot;
comma
l_string|&quot;Synth&quot;
comma
l_string|&quot;Master&quot;
)brace
suffix:semicolon
id|uinfo-&gt;type
op_assign
id|SNDRV_CTL_ELEM_TYPE_ENUMERATED
suffix:semicolon
id|uinfo-&gt;count
op_assign
l_int|1
suffix:semicolon
id|uinfo-&gt;value.enumerated.items
op_assign
l_int|5
suffix:semicolon
r_if
c_cond
(paren
id|uinfo-&gt;value.enumerated.item
OG
l_int|4
)paren
id|uinfo-&gt;value.enumerated.item
op_assign
l_int|4
suffix:semicolon
id|strcpy
c_func
(paren
id|uinfo-&gt;value.enumerated.name
comma
id|texts
(braket
id|uinfo-&gt;value.enumerated.item
)braket
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|snd_dt019x_input_sw_get
r_static
r_int
id|snd_dt019x_input_sw_get
c_func
(paren
id|snd_kcontrol_t
op_star
id|kcontrol
comma
id|snd_ctl_elem_value_t
op_star
id|ucontrol
)paren
(brace
id|sb_t
op_star
id|sb
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
r_int
r_char
id|oval
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|sb-&gt;mixer_lock
comma
id|flags
)paren
suffix:semicolon
id|oval
op_assign
id|snd_sbmixer_read
c_func
(paren
id|sb
comma
id|SB_DT019X_CAPTURE_SW
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|sb-&gt;mixer_lock
comma
id|flags
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|oval
op_amp
l_int|0x07
)paren
(brace
r_case
id|SB_DT019X_CAP_CD
suffix:colon
id|ucontrol-&gt;value.enumerated.item
(braket
l_int|0
)braket
op_assign
l_int|0
suffix:semicolon
r_break
suffix:semicolon
r_case
id|SB_DT019X_CAP_MIC
suffix:colon
id|ucontrol-&gt;value.enumerated.item
(braket
l_int|0
)braket
op_assign
l_int|1
suffix:semicolon
r_break
suffix:semicolon
r_case
id|SB_DT019X_CAP_LINE
suffix:colon
id|ucontrol-&gt;value.enumerated.item
(braket
l_int|0
)braket
op_assign
l_int|2
suffix:semicolon
r_break
suffix:semicolon
r_case
id|SB_DT019X_CAP_MAIN
suffix:colon
id|ucontrol-&gt;value.enumerated.item
(braket
l_int|0
)braket
op_assign
l_int|4
suffix:semicolon
r_break
suffix:semicolon
multiline_comment|/* To record the synth on these cards you must record the main.   */
multiline_comment|/* Thus SB_DT019X_CAP_SYNTH == SB_DT019X_CAP_MAIN and would cause */
multiline_comment|/* duplicate case labels if left uncommented. */
multiline_comment|/* case SB_DT019X_CAP_SYNTH:&n;&t; *&t;ucontrol-&gt;value.enumerated.item[0] = 3;&n;&t; *&t;break;&n;&t; */
r_default
suffix:colon
id|ucontrol-&gt;value.enumerated.item
(braket
l_int|0
)braket
op_assign
l_int|4
suffix:semicolon
r_break
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|snd_dt019x_input_sw_put
r_static
r_int
id|snd_dt019x_input_sw_put
c_func
(paren
id|snd_kcontrol_t
op_star
id|kcontrol
comma
id|snd_ctl_elem_value_t
op_star
id|ucontrol
)paren
(brace
id|sb_t
op_star
id|sb
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
r_int
id|change
suffix:semicolon
r_int
r_char
id|nval
comma
id|oval
suffix:semicolon
r_if
c_cond
(paren
id|ucontrol-&gt;value.enumerated.item
(braket
l_int|0
)braket
OG
l_int|4
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
r_switch
c_cond
(paren
id|ucontrol-&gt;value.enumerated.item
(braket
l_int|0
)braket
)paren
(brace
r_case
l_int|0
suffix:colon
id|nval
op_assign
id|SB_DT019X_CAP_CD
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|1
suffix:colon
id|nval
op_assign
id|SB_DT019X_CAP_MIC
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|2
suffix:colon
id|nval
op_assign
id|SB_DT019X_CAP_LINE
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|3
suffix:colon
id|nval
op_assign
id|SB_DT019X_CAP_SYNTH
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|4
suffix:colon
id|nval
op_assign
id|SB_DT019X_CAP_MAIN
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
id|nval
op_assign
id|SB_DT019X_CAP_MAIN
suffix:semicolon
)brace
id|spin_lock_irqsave
c_func
(paren
op_amp
id|sb-&gt;mixer_lock
comma
id|flags
)paren
suffix:semicolon
id|oval
op_assign
id|snd_sbmixer_read
c_func
(paren
id|sb
comma
id|SB_DT019X_CAPTURE_SW
)paren
suffix:semicolon
id|change
op_assign
id|nval
op_ne
id|oval
suffix:semicolon
r_if
c_cond
(paren
id|change
)paren
id|snd_sbmixer_write
c_func
(paren
id|sb
comma
id|SB_DT019X_CAPTURE_SW
comma
id|nval
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|sb-&gt;mixer_lock
comma
id|flags
)paren
suffix:semicolon
r_return
id|change
suffix:semicolon
)brace
multiline_comment|/*&n; * SBPRO input multiplexer&n; */
DECL|function|snd_sb8mixer_info_mux
r_static
r_int
id|snd_sb8mixer_info_mux
c_func
(paren
id|snd_kcontrol_t
op_star
id|kcontrol
comma
id|snd_ctl_elem_info_t
op_star
id|uinfo
)paren
(brace
r_static
r_char
op_star
id|texts
(braket
l_int|3
)braket
op_assign
(brace
l_string|&quot;Mic&quot;
comma
l_string|&quot;CD&quot;
comma
l_string|&quot;Line&quot;
)brace
suffix:semicolon
id|uinfo-&gt;type
op_assign
id|SNDRV_CTL_ELEM_TYPE_ENUMERATED
suffix:semicolon
id|uinfo-&gt;count
op_assign
l_int|1
suffix:semicolon
id|uinfo-&gt;value.enumerated.items
op_assign
l_int|3
suffix:semicolon
r_if
c_cond
(paren
id|uinfo-&gt;value.enumerated.item
OG
l_int|2
)paren
id|uinfo-&gt;value.enumerated.item
op_assign
l_int|2
suffix:semicolon
id|strcpy
c_func
(paren
id|uinfo-&gt;value.enumerated.name
comma
id|texts
(braket
id|uinfo-&gt;value.enumerated.item
)braket
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|snd_sb8mixer_get_mux
r_static
r_int
id|snd_sb8mixer_get_mux
c_func
(paren
id|snd_kcontrol_t
op_star
id|kcontrol
comma
id|snd_ctl_elem_value_t
op_star
id|ucontrol
)paren
(brace
id|sb_t
op_star
id|sb
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
r_int
r_char
id|oval
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|sb-&gt;mixer_lock
comma
id|flags
)paren
suffix:semicolon
id|oval
op_assign
id|snd_sbmixer_read
c_func
(paren
id|sb
comma
id|SB_DSP_CAPTURE_SOURCE
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|sb-&gt;mixer_lock
comma
id|flags
)paren
suffix:semicolon
r_switch
c_cond
(paren
(paren
id|oval
op_rshift
l_int|0x01
)paren
op_amp
l_int|0x03
)paren
(brace
r_case
id|SB_DSP_MIXS_CD
suffix:colon
id|ucontrol-&gt;value.enumerated.item
(braket
l_int|0
)braket
op_assign
l_int|1
suffix:semicolon
r_break
suffix:semicolon
r_case
id|SB_DSP_MIXS_LINE
suffix:colon
id|ucontrol-&gt;value.enumerated.item
(braket
l_int|0
)braket
op_assign
l_int|2
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
id|ucontrol-&gt;value.enumerated.item
(braket
l_int|0
)braket
op_assign
l_int|0
suffix:semicolon
r_break
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|snd_sb8mixer_put_mux
r_static
r_int
id|snd_sb8mixer_put_mux
c_func
(paren
id|snd_kcontrol_t
op_star
id|kcontrol
comma
id|snd_ctl_elem_value_t
op_star
id|ucontrol
)paren
(brace
id|sb_t
op_star
id|sb
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
r_int
id|change
suffix:semicolon
r_int
r_char
id|nval
comma
id|oval
suffix:semicolon
r_if
c_cond
(paren
id|ucontrol-&gt;value.enumerated.item
(braket
l_int|0
)braket
OG
l_int|2
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
r_switch
c_cond
(paren
id|ucontrol-&gt;value.enumerated.item
(braket
l_int|0
)braket
)paren
(brace
r_case
l_int|1
suffix:colon
id|nval
op_assign
id|SB_DSP_MIXS_CD
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|2
suffix:colon
id|nval
op_assign
id|SB_DSP_MIXS_LINE
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
id|nval
op_assign
id|SB_DSP_MIXS_MIC
suffix:semicolon
)brace
id|nval
op_lshift_assign
l_int|1
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|sb-&gt;mixer_lock
comma
id|flags
)paren
suffix:semicolon
id|oval
op_assign
id|snd_sbmixer_read
c_func
(paren
id|sb
comma
id|SB_DSP_CAPTURE_SOURCE
)paren
suffix:semicolon
id|nval
op_or_assign
id|oval
op_amp
op_complement
l_int|0x06
suffix:semicolon
id|change
op_assign
id|nval
op_ne
id|oval
suffix:semicolon
r_if
c_cond
(paren
id|change
)paren
id|snd_sbmixer_write
c_func
(paren
id|sb
comma
id|SB_DSP_CAPTURE_SOURCE
comma
id|nval
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|sb-&gt;mixer_lock
comma
id|flags
)paren
suffix:semicolon
r_return
id|change
suffix:semicolon
)brace
multiline_comment|/*&n; * SB16 input switch&n; */
DECL|function|snd_sb16mixer_info_input_sw
r_static
r_int
id|snd_sb16mixer_info_input_sw
c_func
(paren
id|snd_kcontrol_t
op_star
id|kcontrol
comma
id|snd_ctl_elem_info_t
op_star
id|uinfo
)paren
(brace
id|uinfo-&gt;type
op_assign
id|SNDRV_CTL_ELEM_TYPE_BOOLEAN
suffix:semicolon
id|uinfo-&gt;count
op_assign
l_int|4
suffix:semicolon
id|uinfo-&gt;value.integer.min
op_assign
l_int|0
suffix:semicolon
id|uinfo-&gt;value.integer.max
op_assign
l_int|1
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|snd_sb16mixer_get_input_sw
r_static
r_int
id|snd_sb16mixer_get_input_sw
c_func
(paren
id|snd_kcontrol_t
op_star
id|kcontrol
comma
id|snd_ctl_elem_value_t
op_star
id|ucontrol
)paren
(brace
id|sb_t
op_star
id|sb
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
r_int
id|reg1
op_assign
id|kcontrol-&gt;private_value
op_amp
l_int|0xff
suffix:semicolon
r_int
id|reg2
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|8
)paren
op_amp
l_int|0xff
suffix:semicolon
r_int
id|left_shift
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|16
)paren
op_amp
l_int|0x0f
suffix:semicolon
r_int
id|right_shift
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|24
)paren
op_amp
l_int|0x0f
suffix:semicolon
r_int
r_char
id|val1
comma
id|val2
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|sb-&gt;mixer_lock
comma
id|flags
)paren
suffix:semicolon
id|val1
op_assign
id|snd_sbmixer_read
c_func
(paren
id|sb
comma
id|reg1
)paren
suffix:semicolon
id|val2
op_assign
id|snd_sbmixer_read
c_func
(paren
id|sb
comma
id|reg2
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|sb-&gt;mixer_lock
comma
id|flags
)paren
suffix:semicolon
id|ucontrol-&gt;value.integer.value
(braket
l_int|0
)braket
op_assign
(paren
id|val1
op_rshift
id|left_shift
)paren
op_amp
l_int|0x01
suffix:semicolon
id|ucontrol-&gt;value.integer.value
(braket
l_int|1
)braket
op_assign
(paren
id|val2
op_rshift
id|left_shift
)paren
op_amp
l_int|0x01
suffix:semicolon
id|ucontrol-&gt;value.integer.value
(braket
l_int|2
)braket
op_assign
(paren
id|val1
op_rshift
id|right_shift
)paren
op_amp
l_int|0x01
suffix:semicolon
id|ucontrol-&gt;value.integer.value
(braket
l_int|3
)braket
op_assign
(paren
id|val2
op_rshift
id|right_shift
)paren
op_amp
l_int|0x01
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|snd_sb16mixer_put_input_sw
r_static
r_int
id|snd_sb16mixer_put_input_sw
c_func
(paren
id|snd_kcontrol_t
op_star
id|kcontrol
comma
id|snd_ctl_elem_value_t
op_star
id|ucontrol
)paren
(brace
id|sb_t
op_star
id|sb
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
r_int
id|reg1
op_assign
id|kcontrol-&gt;private_value
op_amp
l_int|0xff
suffix:semicolon
r_int
id|reg2
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|8
)paren
op_amp
l_int|0xff
suffix:semicolon
r_int
id|left_shift
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|16
)paren
op_amp
l_int|0x0f
suffix:semicolon
r_int
id|right_shift
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|24
)paren
op_amp
l_int|0x0f
suffix:semicolon
r_int
id|change
suffix:semicolon
r_int
r_char
id|val1
comma
id|val2
comma
id|oval1
comma
id|oval2
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|sb-&gt;mixer_lock
comma
id|flags
)paren
suffix:semicolon
id|oval1
op_assign
id|snd_sbmixer_read
c_func
(paren
id|sb
comma
id|reg1
)paren
suffix:semicolon
id|oval2
op_assign
id|snd_sbmixer_read
c_func
(paren
id|sb
comma
id|reg2
)paren
suffix:semicolon
id|val1
op_assign
id|oval1
op_amp
op_complement
(paren
(paren
l_int|1
op_lshift
id|left_shift
)paren
op_or
(paren
l_int|1
op_lshift
id|right_shift
)paren
)paren
suffix:semicolon
id|val2
op_assign
id|oval2
op_amp
op_complement
(paren
(paren
l_int|1
op_lshift
id|left_shift
)paren
op_or
(paren
l_int|1
op_lshift
id|right_shift
)paren
)paren
suffix:semicolon
id|val1
op_or_assign
(paren
id|ucontrol-&gt;value.integer.value
(braket
l_int|0
)braket
op_amp
l_int|1
)paren
op_lshift
id|left_shift
suffix:semicolon
id|val2
op_or_assign
(paren
id|ucontrol-&gt;value.integer.value
(braket
l_int|1
)braket
op_amp
l_int|1
)paren
op_lshift
id|left_shift
suffix:semicolon
id|val1
op_or_assign
(paren
id|ucontrol-&gt;value.integer.value
(braket
l_int|2
)braket
op_amp
l_int|1
)paren
op_lshift
id|right_shift
suffix:semicolon
id|val2
op_or_assign
(paren
id|ucontrol-&gt;value.integer.value
(braket
l_int|3
)braket
op_amp
l_int|1
)paren
op_lshift
id|right_shift
suffix:semicolon
id|change
op_assign
id|val1
op_ne
id|oval1
op_logical_or
id|val2
op_ne
id|oval2
suffix:semicolon
r_if
c_cond
(paren
id|change
)paren
(brace
id|snd_sbmixer_write
c_func
(paren
id|sb
comma
id|reg1
comma
id|val1
)paren
suffix:semicolon
id|snd_sbmixer_write
c_func
(paren
id|sb
comma
id|reg2
comma
id|val2
)paren
suffix:semicolon
)brace
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|sb-&gt;mixer_lock
comma
id|flags
)paren
suffix:semicolon
r_return
id|change
suffix:semicolon
)brace
multiline_comment|/*&n; */
multiline_comment|/*&n; */
DECL|function|snd_sbmixer_add_ctl
r_int
id|snd_sbmixer_add_ctl
c_func
(paren
id|sb_t
op_star
id|chip
comma
r_const
r_char
op_star
id|name
comma
r_int
id|index
comma
r_int
id|type
comma
r_int
r_int
id|value
)paren
(brace
r_static
id|snd_kcontrol_new_t
id|newctls
(braket
)braket
op_assign
(brace
(braket
id|SB_MIX_SINGLE
)braket
op_assign
(brace
dot
id|iface
op_assign
id|SNDRV_CTL_ELEM_IFACE_MIXER
comma
dot
id|info
op_assign
id|snd_sbmixer_info_single
comma
dot
id|get
op_assign
id|snd_sbmixer_get_single
comma
dot
id|put
op_assign
id|snd_sbmixer_put_single
comma
)brace
comma
(braket
id|SB_MIX_DOUBLE
)braket
op_assign
(brace
dot
id|iface
op_assign
id|SNDRV_CTL_ELEM_IFACE_MIXER
comma
dot
id|info
op_assign
id|snd_sbmixer_info_double
comma
dot
id|get
op_assign
id|snd_sbmixer_get_double
comma
dot
id|put
op_assign
id|snd_sbmixer_put_double
comma
)brace
comma
(braket
id|SB_MIX_INPUT_SW
)braket
op_assign
(brace
dot
id|iface
op_assign
id|SNDRV_CTL_ELEM_IFACE_MIXER
comma
dot
id|info
op_assign
id|snd_sb16mixer_info_input_sw
comma
dot
id|get
op_assign
id|snd_sb16mixer_get_input_sw
comma
dot
id|put
op_assign
id|snd_sb16mixer_put_input_sw
comma
)brace
comma
(braket
id|SB_MIX_CAPTURE_PRO
)braket
op_assign
(brace
dot
id|iface
op_assign
id|SNDRV_CTL_ELEM_IFACE_MIXER
comma
dot
id|info
op_assign
id|snd_sb8mixer_info_mux
comma
dot
id|get
op_assign
id|snd_sb8mixer_get_mux
comma
dot
id|put
op_assign
id|snd_sb8mixer_put_mux
comma
)brace
comma
(braket
id|SB_MIX_CAPTURE_DT019X
)braket
op_assign
(brace
dot
id|iface
op_assign
id|SNDRV_CTL_ELEM_IFACE_MIXER
comma
dot
id|info
op_assign
id|snd_dt019x_input_sw_info
comma
dot
id|get
op_assign
id|snd_dt019x_input_sw_get
comma
dot
id|put
op_assign
id|snd_dt019x_input_sw_put
comma
)brace
comma
)brace
suffix:semicolon
id|snd_kcontrol_t
op_star
id|ctl
suffix:semicolon
r_int
id|err
suffix:semicolon
id|ctl
op_assign
id|snd_ctl_new1
c_func
(paren
op_amp
id|newctls
(braket
id|type
)braket
comma
id|chip
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|ctl
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
id|strncpy
c_func
(paren
id|ctl-&gt;id.name
comma
id|name
comma
r_sizeof
(paren
id|ctl-&gt;id.name
)paren
op_minus
l_int|1
)paren
suffix:semicolon
id|ctl-&gt;id.index
op_assign
id|index
suffix:semicolon
id|ctl-&gt;private_value
op_assign
id|value
suffix:semicolon
r_if
c_cond
(paren
(paren
id|err
op_assign
id|snd_ctl_add
c_func
(paren
id|chip-&gt;card
comma
id|ctl
)paren
)paren
OL
l_int|0
)paren
(brace
id|snd_ctl_free_one
c_func
(paren
id|ctl
)paren
suffix:semicolon
r_return
id|err
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/*&n; * SB 2.0 specific mixer elements&n; */
DECL|variable|snd_sb20_ctl_master_play_vol
r_static
r_struct
id|sbmix_elem
id|snd_sb20_ctl_master_play_vol
op_assign
id|SB_SINGLE
c_func
(paren
l_string|&quot;Master Playback Volume&quot;
comma
id|SB_DSP20_MASTER_DEV
comma
l_int|1
comma
l_int|7
)paren
suffix:semicolon
DECL|variable|snd_sb20_ctl_pcm_play_vol
r_static
r_struct
id|sbmix_elem
id|snd_sb20_ctl_pcm_play_vol
op_assign
id|SB_SINGLE
c_func
(paren
l_string|&quot;PCM Playback Volume&quot;
comma
id|SB_DSP20_PCM_DEV
comma
l_int|1
comma
l_int|3
)paren
suffix:semicolon
DECL|variable|snd_sb20_ctl_synth_play_vol
r_static
r_struct
id|sbmix_elem
id|snd_sb20_ctl_synth_play_vol
op_assign
id|SB_SINGLE
c_func
(paren
l_string|&quot;Synth Playback Volume&quot;
comma
id|SB_DSP20_FM_DEV
comma
l_int|1
comma
l_int|7
)paren
suffix:semicolon
DECL|variable|snd_sb20_ctl_cd_play_vol
r_static
r_struct
id|sbmix_elem
id|snd_sb20_ctl_cd_play_vol
op_assign
id|SB_SINGLE
c_func
(paren
l_string|&quot;CD Playback Volume&quot;
comma
id|SB_DSP20_CD_DEV
comma
l_int|1
comma
l_int|7
)paren
suffix:semicolon
DECL|variable|snd_sb20_controls
r_static
r_struct
id|sbmix_elem
op_star
id|snd_sb20_controls
(braket
)braket
op_assign
(brace
op_amp
id|snd_sb20_ctl_master_play_vol
comma
op_amp
id|snd_sb20_ctl_pcm_play_vol
comma
op_amp
id|snd_sb20_ctl_synth_play_vol
comma
op_amp
id|snd_sb20_ctl_cd_play_vol
)brace
suffix:semicolon
DECL|variable|snd_sb20_init_values
r_static
r_int
r_char
id|snd_sb20_init_values
(braket
)braket
(braket
l_int|2
)braket
op_assign
(brace
(brace
id|SB_DSP20_MASTER_DEV
comma
l_int|0
)brace
comma
(brace
id|SB_DSP20_FM_DEV
comma
l_int|0
)brace
comma
)brace
suffix:semicolon
multiline_comment|/*&n; * SB Pro specific mixer elements&n; */
DECL|variable|snd_sbpro_ctl_master_play_vol
r_static
r_struct
id|sbmix_elem
id|snd_sbpro_ctl_master_play_vol
op_assign
id|SB_DOUBLE
c_func
(paren
l_string|&quot;Master Playback Volume&quot;
comma
id|SB_DSP_MASTER_DEV
comma
id|SB_DSP_MASTER_DEV
comma
l_int|5
comma
l_int|1
comma
l_int|7
)paren
suffix:semicolon
DECL|variable|snd_sbpro_ctl_pcm_play_vol
r_static
r_struct
id|sbmix_elem
id|snd_sbpro_ctl_pcm_play_vol
op_assign
id|SB_DOUBLE
c_func
(paren
l_string|&quot;PCM Playback Volume&quot;
comma
id|SB_DSP_PCM_DEV
comma
id|SB_DSP_PCM_DEV
comma
l_int|5
comma
l_int|1
comma
l_int|7
)paren
suffix:semicolon
DECL|variable|snd_sbpro_ctl_pcm_play_filter
r_static
r_struct
id|sbmix_elem
id|snd_sbpro_ctl_pcm_play_filter
op_assign
id|SB_SINGLE
c_func
(paren
l_string|&quot;PCM Playback Filter&quot;
comma
id|SB_DSP_PLAYBACK_FILT
comma
l_int|5
comma
l_int|1
)paren
suffix:semicolon
DECL|variable|snd_sbpro_ctl_synth_play_vol
r_static
r_struct
id|sbmix_elem
id|snd_sbpro_ctl_synth_play_vol
op_assign
id|SB_DOUBLE
c_func
(paren
l_string|&quot;Synth Playback Volume&quot;
comma
id|SB_DSP_FM_DEV
comma
id|SB_DSP_FM_DEV
comma
l_int|5
comma
l_int|1
comma
l_int|7
)paren
suffix:semicolon
DECL|variable|snd_sbpro_ctl_cd_play_vol
r_static
r_struct
id|sbmix_elem
id|snd_sbpro_ctl_cd_play_vol
op_assign
id|SB_DOUBLE
c_func
(paren
l_string|&quot;CD Playback Volume&quot;
comma
id|SB_DSP_CD_DEV
comma
id|SB_DSP_CD_DEV
comma
l_int|5
comma
l_int|1
comma
l_int|7
)paren
suffix:semicolon
DECL|variable|snd_sbpro_ctl_line_play_vol
r_static
r_struct
id|sbmix_elem
id|snd_sbpro_ctl_line_play_vol
op_assign
id|SB_DOUBLE
c_func
(paren
l_string|&quot;Line Playback Volume&quot;
comma
id|SB_DSP_LINE_DEV
comma
id|SB_DSP_LINE_DEV
comma
l_int|5
comma
l_int|1
comma
l_int|7
)paren
suffix:semicolon
DECL|variable|snd_sbpro_ctl_mic_play_vol
r_static
r_struct
id|sbmix_elem
id|snd_sbpro_ctl_mic_play_vol
op_assign
id|SB_SINGLE
c_func
(paren
l_string|&quot;Mic Playback Volume&quot;
comma
id|SB_DSP_MIC_DEV
comma
l_int|1
comma
l_int|3
)paren
suffix:semicolon
DECL|variable|snd_sbpro_ctl_capture_source
r_static
r_struct
id|sbmix_elem
id|snd_sbpro_ctl_capture_source
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;Capture Source&quot;
comma
dot
id|type
op_assign
id|SB_MIX_CAPTURE_PRO
)brace
suffix:semicolon
DECL|variable|snd_sbpro_ctl_capture_filter
r_static
r_struct
id|sbmix_elem
id|snd_sbpro_ctl_capture_filter
op_assign
id|SB_SINGLE
c_func
(paren
l_string|&quot;Capture Filter&quot;
comma
id|SB_DSP_CAPTURE_FILT
comma
l_int|5
comma
l_int|1
)paren
suffix:semicolon
DECL|variable|snd_sbpro_ctl_capture_low_filter
r_static
r_struct
id|sbmix_elem
id|snd_sbpro_ctl_capture_low_filter
op_assign
id|SB_SINGLE
c_func
(paren
l_string|&quot;Capture Low-Pass Filter&quot;
comma
id|SB_DSP_CAPTURE_FILT
comma
l_int|3
comma
l_int|1
)paren
suffix:semicolon
DECL|variable|snd_sbpro_controls
r_static
r_struct
id|sbmix_elem
op_star
id|snd_sbpro_controls
(braket
)braket
op_assign
(brace
op_amp
id|snd_sbpro_ctl_master_play_vol
comma
op_amp
id|snd_sbpro_ctl_pcm_play_vol
comma
op_amp
id|snd_sbpro_ctl_pcm_play_filter
comma
op_amp
id|snd_sbpro_ctl_synth_play_vol
comma
op_amp
id|snd_sbpro_ctl_cd_play_vol
comma
op_amp
id|snd_sbpro_ctl_line_play_vol
comma
op_amp
id|snd_sbpro_ctl_mic_play_vol
comma
op_amp
id|snd_sbpro_ctl_capture_source
comma
op_amp
id|snd_sbpro_ctl_capture_filter
comma
op_amp
id|snd_sbpro_ctl_capture_low_filter
)brace
suffix:semicolon
DECL|variable|snd_sbpro_init_values
r_static
r_int
r_char
id|snd_sbpro_init_values
(braket
)braket
(braket
l_int|2
)braket
op_assign
(brace
(brace
id|SB_DSP_MASTER_DEV
comma
l_int|0
)brace
comma
(brace
id|SB_DSP_PCM_DEV
comma
l_int|0
)brace
comma
(brace
id|SB_DSP_FM_DEV
comma
l_int|0
)brace
comma
)brace
suffix:semicolon
multiline_comment|/*&n; * SB16 specific mixer elements&n; */
DECL|variable|snd_sb16_ctl_master_play_vol
r_static
r_struct
id|sbmix_elem
id|snd_sb16_ctl_master_play_vol
op_assign
id|SB_DOUBLE
c_func
(paren
l_string|&quot;Master Playback Volume&quot;
comma
id|SB_DSP4_MASTER_DEV
comma
(paren
id|SB_DSP4_MASTER_DEV
op_plus
l_int|1
)paren
comma
l_int|3
comma
l_int|3
comma
l_int|31
)paren
suffix:semicolon
DECL|variable|snd_sb16_ctl_3d_enhance_switch
r_static
r_struct
id|sbmix_elem
id|snd_sb16_ctl_3d_enhance_switch
op_assign
id|SB_SINGLE
c_func
(paren
l_string|&quot;3D Enhancement Switch&quot;
comma
id|SB_DSP4_3DSE
comma
l_int|0
comma
l_int|1
)paren
suffix:semicolon
DECL|variable|snd_sb16_ctl_tone_bass
r_static
r_struct
id|sbmix_elem
id|snd_sb16_ctl_tone_bass
op_assign
id|SB_DOUBLE
c_func
(paren
l_string|&quot;Tone Control - Bass&quot;
comma
id|SB_DSP4_BASS_DEV
comma
(paren
id|SB_DSP4_BASS_DEV
op_plus
l_int|1
)paren
comma
l_int|4
comma
l_int|4
comma
l_int|15
)paren
suffix:semicolon
DECL|variable|snd_sb16_ctl_tone_treble
r_static
r_struct
id|sbmix_elem
id|snd_sb16_ctl_tone_treble
op_assign
id|SB_DOUBLE
c_func
(paren
l_string|&quot;Tone Control - Treble&quot;
comma
id|SB_DSP4_TREBLE_DEV
comma
(paren
id|SB_DSP4_TREBLE_DEV
op_plus
l_int|1
)paren
comma
l_int|4
comma
l_int|4
comma
l_int|15
)paren
suffix:semicolon
DECL|variable|snd_sb16_ctl_pcm_play_vol
r_static
r_struct
id|sbmix_elem
id|snd_sb16_ctl_pcm_play_vol
op_assign
id|SB_DOUBLE
c_func
(paren
l_string|&quot;PCM Playback Volume&quot;
comma
id|SB_DSP4_PCM_DEV
comma
(paren
id|SB_DSP4_PCM_DEV
op_plus
l_int|1
)paren
comma
l_int|3
comma
l_int|3
comma
l_int|31
)paren
suffix:semicolon
DECL|variable|snd_sb16_ctl_synth_capture_route
r_static
r_struct
id|sbmix_elem
id|snd_sb16_ctl_synth_capture_route
op_assign
id|SB16_INPUT_SW
c_func
(paren
l_string|&quot;Synth Capture Route&quot;
comma
id|SB_DSP4_INPUT_LEFT
comma
id|SB_DSP4_INPUT_RIGHT
comma
l_int|6
comma
l_int|5
)paren
suffix:semicolon
DECL|variable|snd_sb16_ctl_synth_play_vol
r_static
r_struct
id|sbmix_elem
id|snd_sb16_ctl_synth_play_vol
op_assign
id|SB_DOUBLE
c_func
(paren
l_string|&quot;Synth Playback Volume&quot;
comma
id|SB_DSP4_SYNTH_DEV
comma
(paren
id|SB_DSP4_SYNTH_DEV
op_plus
l_int|1
)paren
comma
l_int|3
comma
l_int|3
comma
l_int|31
)paren
suffix:semicolon
DECL|variable|snd_sb16_ctl_cd_capture_route
r_static
r_struct
id|sbmix_elem
id|snd_sb16_ctl_cd_capture_route
op_assign
id|SB16_INPUT_SW
c_func
(paren
l_string|&quot;CD Capture Route&quot;
comma
id|SB_DSP4_INPUT_LEFT
comma
id|SB_DSP4_INPUT_RIGHT
comma
l_int|2
comma
l_int|1
)paren
suffix:semicolon
DECL|variable|snd_sb16_ctl_cd_play_switch
r_static
r_struct
id|sbmix_elem
id|snd_sb16_ctl_cd_play_switch
op_assign
id|SB_DOUBLE
c_func
(paren
l_string|&quot;CD Playback Switch&quot;
comma
id|SB_DSP4_OUTPUT_SW
comma
id|SB_DSP4_OUTPUT_SW
comma
l_int|2
comma
l_int|1
comma
l_int|1
)paren
suffix:semicolon
DECL|variable|snd_sb16_ctl_cd_play_vol
r_static
r_struct
id|sbmix_elem
id|snd_sb16_ctl_cd_play_vol
op_assign
id|SB_DOUBLE
c_func
(paren
l_string|&quot;CD Playback Volume&quot;
comma
id|SB_DSP4_CD_DEV
comma
(paren
id|SB_DSP4_CD_DEV
op_plus
l_int|1
)paren
comma
l_int|3
comma
l_int|3
comma
l_int|31
)paren
suffix:semicolon
DECL|variable|snd_sb16_ctl_line_capture_route
r_static
r_struct
id|sbmix_elem
id|snd_sb16_ctl_line_capture_route
op_assign
id|SB16_INPUT_SW
c_func
(paren
l_string|&quot;Line Capture Route&quot;
comma
id|SB_DSP4_INPUT_LEFT
comma
id|SB_DSP4_INPUT_RIGHT
comma
l_int|4
comma
l_int|3
)paren
suffix:semicolon
DECL|variable|snd_sb16_ctl_line_play_switch
r_static
r_struct
id|sbmix_elem
id|snd_sb16_ctl_line_play_switch
op_assign
id|SB_DOUBLE
c_func
(paren
l_string|&quot;Line Playback Switch&quot;
comma
id|SB_DSP4_OUTPUT_SW
comma
id|SB_DSP4_OUTPUT_SW
comma
l_int|4
comma
l_int|3
comma
l_int|1
)paren
suffix:semicolon
DECL|variable|snd_sb16_ctl_line_play_vol
r_static
r_struct
id|sbmix_elem
id|snd_sb16_ctl_line_play_vol
op_assign
id|SB_DOUBLE
c_func
(paren
l_string|&quot;Line Playback Volume&quot;
comma
id|SB_DSP4_LINE_DEV
comma
(paren
id|SB_DSP4_LINE_DEV
op_plus
l_int|1
)paren
comma
l_int|3
comma
l_int|3
comma
l_int|31
)paren
suffix:semicolon
DECL|variable|snd_sb16_ctl_mic_capture_route
r_static
r_struct
id|sbmix_elem
id|snd_sb16_ctl_mic_capture_route
op_assign
id|SB16_INPUT_SW
c_func
(paren
l_string|&quot;Mic Capture Route&quot;
comma
id|SB_DSP4_INPUT_LEFT
comma
id|SB_DSP4_INPUT_RIGHT
comma
l_int|0
comma
l_int|0
)paren
suffix:semicolon
DECL|variable|snd_sb16_ctl_mic_play_switch
r_static
r_struct
id|sbmix_elem
id|snd_sb16_ctl_mic_play_switch
op_assign
id|SB_SINGLE
c_func
(paren
l_string|&quot;Mic Playback Switch&quot;
comma
id|SB_DSP4_OUTPUT_SW
comma
l_int|0
comma
l_int|1
)paren
suffix:semicolon
DECL|variable|snd_sb16_ctl_mic_play_vol
r_static
r_struct
id|sbmix_elem
id|snd_sb16_ctl_mic_play_vol
op_assign
id|SB_SINGLE
c_func
(paren
l_string|&quot;Mic Playback Volume&quot;
comma
id|SB_DSP4_MIC_DEV
comma
l_int|3
comma
l_int|31
)paren
suffix:semicolon
DECL|variable|snd_sb16_ctl_pc_speaker_vol
r_static
r_struct
id|sbmix_elem
id|snd_sb16_ctl_pc_speaker_vol
op_assign
id|SB_SINGLE
c_func
(paren
l_string|&quot;PC Speaker Volume&quot;
comma
id|SB_DSP4_SPEAKER_DEV
comma
l_int|6
comma
l_int|3
)paren
suffix:semicolon
DECL|variable|snd_sb16_ctl_capture_vol
r_static
r_struct
id|sbmix_elem
id|snd_sb16_ctl_capture_vol
op_assign
id|SB_DOUBLE
c_func
(paren
l_string|&quot;Capture Volume&quot;
comma
id|SB_DSP4_IGAIN_DEV
comma
(paren
id|SB_DSP4_IGAIN_DEV
op_plus
l_int|1
)paren
comma
l_int|6
comma
l_int|6
comma
l_int|3
)paren
suffix:semicolon
DECL|variable|snd_sb16_ctl_play_vol
r_static
r_struct
id|sbmix_elem
id|snd_sb16_ctl_play_vol
op_assign
id|SB_DOUBLE
c_func
(paren
l_string|&quot;Playback Volume&quot;
comma
id|SB_DSP4_OGAIN_DEV
comma
(paren
id|SB_DSP4_OGAIN_DEV
op_plus
l_int|1
)paren
comma
l_int|6
comma
l_int|6
comma
l_int|3
)paren
suffix:semicolon
DECL|variable|snd_sb16_ctl_auto_mic_gain
r_static
r_struct
id|sbmix_elem
id|snd_sb16_ctl_auto_mic_gain
op_assign
id|SB_SINGLE
c_func
(paren
l_string|&quot;Mic Auto Gain&quot;
comma
id|SB_DSP4_MIC_AGC
comma
l_int|0
comma
l_int|1
)paren
suffix:semicolon
DECL|variable|snd_sb16_controls
r_static
r_struct
id|sbmix_elem
op_star
id|snd_sb16_controls
(braket
)braket
op_assign
(brace
op_amp
id|snd_sb16_ctl_master_play_vol
comma
op_amp
id|snd_sb16_ctl_3d_enhance_switch
comma
op_amp
id|snd_sb16_ctl_tone_bass
comma
op_amp
id|snd_sb16_ctl_tone_treble
comma
op_amp
id|snd_sb16_ctl_pcm_play_vol
comma
op_amp
id|snd_sb16_ctl_synth_capture_route
comma
op_amp
id|snd_sb16_ctl_synth_play_vol
comma
op_amp
id|snd_sb16_ctl_cd_capture_route
comma
op_amp
id|snd_sb16_ctl_cd_play_switch
comma
op_amp
id|snd_sb16_ctl_cd_play_vol
comma
op_amp
id|snd_sb16_ctl_line_capture_route
comma
op_amp
id|snd_sb16_ctl_line_play_switch
comma
op_amp
id|snd_sb16_ctl_line_play_vol
comma
op_amp
id|snd_sb16_ctl_mic_capture_route
comma
op_amp
id|snd_sb16_ctl_mic_play_switch
comma
op_amp
id|snd_sb16_ctl_mic_play_vol
comma
op_amp
id|snd_sb16_ctl_pc_speaker_vol
comma
op_amp
id|snd_sb16_ctl_capture_vol
comma
op_amp
id|snd_sb16_ctl_play_vol
comma
op_amp
id|snd_sb16_ctl_auto_mic_gain
)brace
suffix:semicolon
DECL|variable|snd_sb16_init_values
r_static
r_int
r_char
id|snd_sb16_init_values
(braket
)braket
(braket
l_int|2
)braket
op_assign
(brace
(brace
id|SB_DSP4_MASTER_DEV
op_plus
l_int|0
comma
l_int|0
)brace
comma
(brace
id|SB_DSP4_MASTER_DEV
op_plus
l_int|1
comma
l_int|0
)brace
comma
(brace
id|SB_DSP4_PCM_DEV
op_plus
l_int|0
comma
l_int|0
)brace
comma
(brace
id|SB_DSP4_PCM_DEV
op_plus
l_int|1
comma
l_int|0
)brace
comma
(brace
id|SB_DSP4_SYNTH_DEV
op_plus
l_int|0
comma
l_int|0
)brace
comma
(brace
id|SB_DSP4_SYNTH_DEV
op_plus
l_int|1
comma
l_int|0
)brace
comma
(brace
id|SB_DSP4_INPUT_LEFT
comma
l_int|0
)brace
comma
(brace
id|SB_DSP4_INPUT_RIGHT
comma
l_int|0
)brace
comma
(brace
id|SB_DSP4_OUTPUT_SW
comma
l_int|0
)brace
comma
(brace
id|SB_DSP4_SPEAKER_DEV
comma
l_int|0
)brace
comma
)brace
suffix:semicolon
multiline_comment|/*&n; * DT019x specific mixer elements&n; */
DECL|variable|snd_dt019x_ctl_master_play_vol
r_static
r_struct
id|sbmix_elem
id|snd_dt019x_ctl_master_play_vol
op_assign
id|SB_DOUBLE
c_func
(paren
l_string|&quot;Master Playback Volume&quot;
comma
id|SB_DT019X_MASTER_DEV
comma
id|SB_DT019X_MASTER_DEV
comma
l_int|4
comma
l_int|0
comma
l_int|15
)paren
suffix:semicolon
DECL|variable|snd_dt019x_ctl_pcm_play_vol
r_static
r_struct
id|sbmix_elem
id|snd_dt019x_ctl_pcm_play_vol
op_assign
id|SB_DOUBLE
c_func
(paren
l_string|&quot;PCM Playback Volume&quot;
comma
id|SB_DT019X_PCM_DEV
comma
id|SB_DT019X_PCM_DEV
comma
l_int|4
comma
l_int|0
comma
l_int|15
)paren
suffix:semicolon
DECL|variable|snd_dt019x_ctl_synth_play_vol
r_static
r_struct
id|sbmix_elem
id|snd_dt019x_ctl_synth_play_vol
op_assign
id|SB_DOUBLE
c_func
(paren
l_string|&quot;Synth Playback Volume&quot;
comma
id|SB_DT019X_SYNTH_DEV
comma
id|SB_DT019X_SYNTH_DEV
comma
l_int|4
comma
l_int|0
comma
l_int|15
)paren
suffix:semicolon
DECL|variable|snd_dt019x_ctl_cd_play_vol
r_static
r_struct
id|sbmix_elem
id|snd_dt019x_ctl_cd_play_vol
op_assign
id|SB_DOUBLE
c_func
(paren
l_string|&quot;CD Playback Volume&quot;
comma
id|SB_DT019X_CD_DEV
comma
id|SB_DT019X_CD_DEV
comma
l_int|4
comma
l_int|0
comma
l_int|15
)paren
suffix:semicolon
DECL|variable|snd_dt019x_ctl_mic_play_vol
r_static
r_struct
id|sbmix_elem
id|snd_dt019x_ctl_mic_play_vol
op_assign
id|SB_SINGLE
c_func
(paren
l_string|&quot;Mic Playback Volume&quot;
comma
id|SB_DT019X_MIC_DEV
comma
l_int|4
comma
l_int|7
)paren
suffix:semicolon
DECL|variable|snd_dt019x_ctl_pc_speaker_vol
r_static
r_struct
id|sbmix_elem
id|snd_dt019x_ctl_pc_speaker_vol
op_assign
id|SB_SINGLE
c_func
(paren
l_string|&quot;PC Speaker Volume&quot;
comma
id|SB_DT019X_SPKR_DEV
comma
l_int|0
comma
l_int|7
)paren
suffix:semicolon
DECL|variable|snd_dt019x_ctl_line_play_vol
r_static
r_struct
id|sbmix_elem
id|snd_dt019x_ctl_line_play_vol
op_assign
id|SB_DOUBLE
c_func
(paren
l_string|&quot;Line Playback Volume&quot;
comma
id|SB_DT019X_LINE_DEV
comma
id|SB_DT019X_LINE_DEV
comma
l_int|4
comma
l_int|0
comma
l_int|15
)paren
suffix:semicolon
DECL|variable|snd_dt019x_ctl_pcm_play_switch
r_static
r_struct
id|sbmix_elem
id|snd_dt019x_ctl_pcm_play_switch
op_assign
id|SB_DOUBLE
c_func
(paren
l_string|&quot;PCM Playback Switch&quot;
comma
id|SB_DT019X_OUTPUT_SW2
comma
id|SB_DT019X_OUTPUT_SW2
comma
l_int|2
comma
l_int|1
comma
l_int|1
)paren
suffix:semicolon
DECL|variable|snd_dt019x_ctl_synth_play_switch
r_static
r_struct
id|sbmix_elem
id|snd_dt019x_ctl_synth_play_switch
op_assign
id|SB_DOUBLE
c_func
(paren
l_string|&quot;Synth Playback Switch&quot;
comma
id|SB_DT019X_OUTPUT_SW2
comma
id|SB_DT019X_OUTPUT_SW2
comma
l_int|4
comma
l_int|3
comma
l_int|1
)paren
suffix:semicolon
DECL|variable|snd_dt019x_ctl_capture_source
r_static
r_struct
id|sbmix_elem
id|snd_dt019x_ctl_capture_source
op_assign
(brace
dot
id|name
op_assign
l_string|&quot;Capture Source&quot;
comma
dot
id|type
op_assign
id|SB_MIX_CAPTURE_DT019X
)brace
suffix:semicolon
DECL|variable|snd_dt019x_controls
r_static
r_struct
id|sbmix_elem
op_star
id|snd_dt019x_controls
(braket
)braket
op_assign
(brace
op_amp
id|snd_dt019x_ctl_master_play_vol
comma
op_amp
id|snd_dt019x_ctl_pcm_play_vol
comma
op_amp
id|snd_dt019x_ctl_synth_play_vol
comma
op_amp
id|snd_dt019x_ctl_cd_play_vol
comma
op_amp
id|snd_dt019x_ctl_mic_play_vol
comma
op_amp
id|snd_dt019x_ctl_pc_speaker_vol
comma
op_amp
id|snd_dt019x_ctl_line_play_vol
comma
op_amp
id|snd_sb16_ctl_mic_play_switch
comma
op_amp
id|snd_sb16_ctl_cd_play_switch
comma
op_amp
id|snd_sb16_ctl_line_play_switch
comma
op_amp
id|snd_dt019x_ctl_pcm_play_switch
comma
op_amp
id|snd_dt019x_ctl_synth_play_switch
comma
op_amp
id|snd_dt019x_ctl_capture_source
)brace
suffix:semicolon
DECL|variable|snd_dt019x_init_values
r_static
r_int
r_char
id|snd_dt019x_init_values
(braket
)braket
(braket
l_int|2
)braket
op_assign
(brace
(brace
id|SB_DT019X_MASTER_DEV
comma
l_int|0
)brace
comma
(brace
id|SB_DT019X_PCM_DEV
comma
l_int|0
)brace
comma
(brace
id|SB_DT019X_SYNTH_DEV
comma
l_int|0
)brace
comma
(brace
id|SB_DT019X_CD_DEV
comma
l_int|0
)brace
comma
(brace
id|SB_DT019X_MIC_DEV
comma
l_int|0
)brace
comma
multiline_comment|/* Includes PC-speaker in high nibble */
(brace
id|SB_DT019X_LINE_DEV
comma
l_int|0
)brace
comma
(brace
id|SB_DSP4_OUTPUT_SW
comma
l_int|0
)brace
comma
(brace
id|SB_DT019X_OUTPUT_SW2
comma
l_int|0
)brace
comma
(brace
id|SB_DT019X_CAPTURE_SW
comma
l_int|0x06
)brace
comma
)brace
suffix:semicolon
multiline_comment|/*&n; * ALS4000 specific mixer elements&n; */
multiline_comment|/* FIXME: SB_ALS4000_MONO_IO_CTRL needs output select ctrl ! */
DECL|variable|snd_als4000_ctl_mono_output_switch
r_static
r_struct
id|sbmix_elem
id|snd_als4000_ctl_mono_output_switch
op_assign
id|SB_SINGLE
c_func
(paren
l_string|&quot;Mono Output Switch&quot;
comma
id|SB_ALS4000_MONO_IO_CTRL
comma
l_int|5
comma
l_int|1
)paren
suffix:semicolon
multiline_comment|/* FIXME: mono input switch also available on DT019X ? */
DECL|variable|snd_als4000_ctl_mono_input_switch
r_static
r_struct
id|sbmix_elem
id|snd_als4000_ctl_mono_input_switch
op_assign
id|SB_SINGLE
c_func
(paren
l_string|&quot;Mono Input Switch&quot;
comma
id|SB_DT019X_OUTPUT_SW2
comma
l_int|0
comma
l_int|1
)paren
suffix:semicolon
DECL|variable|snd_als4000_ctl_mic_20db_boost
r_static
r_struct
id|sbmix_elem
id|snd_als4000_ctl_mic_20db_boost
op_assign
id|SB_SINGLE
c_func
(paren
l_string|&quot;Mic Boost (+20dB)&quot;
comma
id|SB_ALS4000_MIC_IN_GAIN
comma
l_int|0
comma
l_int|0x03
)paren
suffix:semicolon
DECL|variable|snd_als4000_ctl_mixer_out_to_in
r_static
r_struct
id|sbmix_elem
id|snd_als4000_ctl_mixer_out_to_in
op_assign
id|SB_SINGLE
c_func
(paren
l_string|&quot;Mixer Out To In&quot;
comma
id|SB_ALS4000_MIC_IN_GAIN
comma
l_int|7
comma
l_int|0x01
)paren
suffix:semicolon
multiline_comment|/* FIXME: 3D needs much more sophisticated controls, many more features ! */
DECL|variable|snd_als4000_ctl_3d_output_switch
r_static
r_struct
id|sbmix_elem
id|snd_als4000_ctl_3d_output_switch
op_assign
id|SB_SINGLE
c_func
(paren
l_string|&quot;3D Output Switch&quot;
comma
id|SB_ALS4000_3D_SND_FX
comma
l_int|6
comma
l_int|0x01
)paren
suffix:semicolon
DECL|variable|snd_als4000_ctl_3d_output_ratio
r_static
r_struct
id|sbmix_elem
id|snd_als4000_ctl_3d_output_ratio
op_assign
id|SB_SINGLE
c_func
(paren
l_string|&quot;3D Output Ratio&quot;
comma
id|SB_ALS4000_3D_SND_FX
comma
l_int|0
comma
l_int|0x07
)paren
suffix:semicolon
DECL|variable|snd_als4000_ctl_3d_poweroff_switch
r_static
r_struct
id|sbmix_elem
id|snd_als4000_ctl_3d_poweroff_switch
op_assign
id|SB_SINGLE
c_func
(paren
l_string|&quot;3D PowerOff Switch&quot;
comma
id|SB_ALS4000_3D_TIME_DELAY
comma
l_int|4
comma
l_int|0x01
)paren
suffix:semicolon
DECL|variable|snd_als4000_ctl_3d_delay
r_static
r_struct
id|sbmix_elem
id|snd_als4000_ctl_3d_delay
op_assign
id|SB_SINGLE
c_func
(paren
l_string|&quot;3D Delay&quot;
comma
id|SB_ALS4000_3D_TIME_DELAY
comma
l_int|0
comma
l_int|0x0f
)paren
suffix:semicolon
macro_line|#if NOT_AVAILABLE
DECL|variable|snd_als4000_ctl_fmdac
r_static
r_struct
id|sbmix_elem
id|snd_als4000_ctl_fmdac
op_assign
id|SB_SINGLE
c_func
(paren
l_string|&quot;FMDAC Switch (Option ?)&quot;
comma
id|SB_ALS4000_FMDAC
comma
l_int|0
comma
l_int|0x01
)paren
suffix:semicolon
DECL|variable|snd_als4000_ctl_qsound
r_static
r_struct
id|sbmix_elem
id|snd_als4000_ctl_qsound
op_assign
id|SB_SINGLE
c_func
(paren
l_string|&quot;QSound Mode&quot;
comma
id|SB_ALS4000_QSOUND
comma
l_int|1
comma
l_int|0x1f
)paren
suffix:semicolon
macro_line|#endif
DECL|variable|snd_als4000_controls
r_static
r_struct
id|sbmix_elem
op_star
id|snd_als4000_controls
(braket
)braket
op_assign
(brace
op_amp
id|snd_sb16_ctl_master_play_vol
comma
op_amp
id|snd_dt019x_ctl_pcm_play_switch
comma
op_amp
id|snd_sb16_ctl_pcm_play_vol
comma
op_amp
id|snd_sb16_ctl_synth_capture_route
comma
op_amp
id|snd_dt019x_ctl_synth_play_switch
comma
op_amp
id|snd_sb16_ctl_synth_play_vol
comma
op_amp
id|snd_sb16_ctl_cd_capture_route
comma
op_amp
id|snd_sb16_ctl_cd_play_switch
comma
op_amp
id|snd_sb16_ctl_cd_play_vol
comma
op_amp
id|snd_sb16_ctl_line_capture_route
comma
op_amp
id|snd_sb16_ctl_line_play_switch
comma
op_amp
id|snd_sb16_ctl_line_play_vol
comma
op_amp
id|snd_sb16_ctl_mic_capture_route
comma
op_amp
id|snd_als4000_ctl_mic_20db_boost
comma
op_amp
id|snd_sb16_ctl_auto_mic_gain
comma
op_amp
id|snd_sb16_ctl_mic_play_switch
comma
op_amp
id|snd_sb16_ctl_mic_play_vol
comma
op_amp
id|snd_sb16_ctl_pc_speaker_vol
comma
op_amp
id|snd_sb16_ctl_capture_vol
comma
op_amp
id|snd_sb16_ctl_play_vol
comma
op_amp
id|snd_als4000_ctl_mono_output_switch
comma
op_amp
id|snd_als4000_ctl_mono_input_switch
comma
op_amp
id|snd_als4000_ctl_mixer_out_to_in
comma
op_amp
id|snd_als4000_ctl_3d_output_switch
comma
op_amp
id|snd_als4000_ctl_3d_output_ratio
comma
op_amp
id|snd_als4000_ctl_3d_delay
comma
op_amp
id|snd_als4000_ctl_3d_poweroff_switch
comma
macro_line|#if NOT_AVAILABLE
op_amp
id|snd_als4000_ctl_fmdac
comma
op_amp
id|snd_als4000_ctl_qsound
comma
macro_line|#endif
)brace
suffix:semicolon
DECL|variable|snd_als4000_init_values
r_static
r_int
r_char
id|snd_als4000_init_values
(braket
)braket
(braket
l_int|2
)braket
op_assign
(brace
(brace
id|SB_DSP4_MASTER_DEV
op_plus
l_int|0
comma
l_int|0
)brace
comma
(brace
id|SB_DSP4_MASTER_DEV
op_plus
l_int|1
comma
l_int|0
)brace
comma
(brace
id|SB_DSP4_PCM_DEV
op_plus
l_int|0
comma
l_int|0
)brace
comma
(brace
id|SB_DSP4_PCM_DEV
op_plus
l_int|1
comma
l_int|0
)brace
comma
(brace
id|SB_DSP4_SYNTH_DEV
op_plus
l_int|0
comma
l_int|0
)brace
comma
(brace
id|SB_DSP4_SYNTH_DEV
op_plus
l_int|1
comma
l_int|0
)brace
comma
(brace
id|SB_DSP4_SPEAKER_DEV
comma
l_int|0
)brace
comma
(brace
id|SB_DSP4_OUTPUT_SW
comma
l_int|0
)brace
comma
(brace
id|SB_DSP4_INPUT_LEFT
comma
l_int|0
)brace
comma
(brace
id|SB_DSP4_INPUT_RIGHT
comma
l_int|0
)brace
comma
(brace
id|SB_DT019X_OUTPUT_SW2
comma
l_int|0
)brace
comma
(brace
id|SB_ALS4000_MIC_IN_GAIN
comma
l_int|0
)brace
comma
)brace
suffix:semicolon
multiline_comment|/*&n; */
DECL|function|snd_sbmixer_init
r_static
r_int
id|snd_sbmixer_init
c_func
(paren
id|sb_t
op_star
id|chip
comma
r_struct
id|sbmix_elem
op_star
op_star
id|controls
comma
r_int
id|controls_count
comma
r_int
r_char
id|map
(braket
)braket
(braket
l_int|2
)braket
comma
r_int
id|map_count
comma
r_char
op_star
id|name
)paren
(brace
r_int
r_int
id|flags
suffix:semicolon
id|snd_card_t
op_star
id|card
op_assign
id|chip-&gt;card
suffix:semicolon
r_int
id|idx
comma
id|err
suffix:semicolon
multiline_comment|/* mixer reset */
id|spin_lock_irqsave
c_func
(paren
op_amp
id|chip-&gt;mixer_lock
comma
id|flags
)paren
suffix:semicolon
id|snd_sbmixer_write
c_func
(paren
id|chip
comma
l_int|0x00
comma
l_int|0x00
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|chip-&gt;mixer_lock
comma
id|flags
)paren
suffix:semicolon
multiline_comment|/* mute and zero volume channels */
r_for
c_loop
(paren
id|idx
op_assign
l_int|0
suffix:semicolon
id|idx
OL
id|map_count
suffix:semicolon
id|idx
op_increment
)paren
(brace
id|spin_lock_irqsave
c_func
(paren
op_amp
id|chip-&gt;mixer_lock
comma
id|flags
)paren
suffix:semicolon
id|snd_sbmixer_write
c_func
(paren
id|chip
comma
id|map
(braket
id|idx
)braket
(braket
l_int|0
)braket
comma
id|map
(braket
id|idx
)braket
(braket
l_int|1
)braket
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|chip-&gt;mixer_lock
comma
id|flags
)paren
suffix:semicolon
)brace
r_for
c_loop
(paren
id|idx
op_assign
l_int|0
suffix:semicolon
id|idx
OL
id|controls_count
suffix:semicolon
id|idx
op_increment
)paren
(brace
r_if
c_cond
(paren
(paren
id|err
op_assign
id|snd_sbmixer_add_ctl_elem
c_func
(paren
id|chip
comma
id|controls
(braket
id|idx
)braket
)paren
)paren
OL
l_int|0
)paren
r_return
id|err
suffix:semicolon
)brace
id|snd_component_add
c_func
(paren
id|card
comma
id|name
)paren
suffix:semicolon
id|strcpy
c_func
(paren
id|card-&gt;mixername
comma
id|name
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|snd_sbmixer_new
r_int
id|snd_sbmixer_new
c_func
(paren
id|sb_t
op_star
id|chip
)paren
(brace
id|snd_card_t
op_star
id|card
suffix:semicolon
r_int
id|err
suffix:semicolon
id|snd_assert
c_func
(paren
id|chip
op_ne
l_int|NULL
op_logical_and
id|chip-&gt;card
op_ne
l_int|NULL
comma
r_return
op_minus
id|EINVAL
)paren
suffix:semicolon
id|card
op_assign
id|chip-&gt;card
suffix:semicolon
r_switch
c_cond
(paren
id|chip-&gt;hardware
)paren
(brace
r_case
id|SB_HW_10
suffix:colon
r_return
l_int|0
suffix:semicolon
multiline_comment|/* no mixer chip on SB1.x */
r_case
id|SB_HW_20
suffix:colon
r_case
id|SB_HW_201
suffix:colon
r_if
c_cond
(paren
(paren
id|err
op_assign
id|snd_sbmixer_init
c_func
(paren
id|chip
comma
id|snd_sb20_controls
comma
id|ARRAY_SIZE
c_func
(paren
id|snd_sb20_controls
)paren
comma
id|snd_sb20_init_values
comma
id|ARRAY_SIZE
c_func
(paren
id|snd_sb20_init_values
)paren
comma
l_string|&quot;CTL1335&quot;
)paren
)paren
OL
l_int|0
)paren
r_return
id|err
suffix:semicolon
r_break
suffix:semicolon
r_case
id|SB_HW_PRO
suffix:colon
r_if
c_cond
(paren
(paren
id|err
op_assign
id|snd_sbmixer_init
c_func
(paren
id|chip
comma
id|snd_sbpro_controls
comma
id|ARRAY_SIZE
c_func
(paren
id|snd_sbpro_controls
)paren
comma
id|snd_sbpro_init_values
comma
id|ARRAY_SIZE
c_func
(paren
id|snd_sbpro_init_values
)paren
comma
l_string|&quot;CTL1345&quot;
)paren
)paren
OL
l_int|0
)paren
r_return
id|err
suffix:semicolon
r_break
suffix:semicolon
r_case
id|SB_HW_16
suffix:colon
r_case
id|SB_HW_ALS100
suffix:colon
r_if
c_cond
(paren
(paren
id|err
op_assign
id|snd_sbmixer_init
c_func
(paren
id|chip
comma
id|snd_sb16_controls
comma
id|ARRAY_SIZE
c_func
(paren
id|snd_sb16_controls
)paren
comma
id|snd_sb16_init_values
comma
id|ARRAY_SIZE
c_func
(paren
id|snd_sb16_init_values
)paren
comma
l_string|&quot;CTL1745&quot;
)paren
)paren
OL
l_int|0
)paren
r_return
id|err
suffix:semicolon
r_break
suffix:semicolon
r_case
id|SB_HW_ALS4000
suffix:colon
r_if
c_cond
(paren
(paren
id|err
op_assign
id|snd_sbmixer_init
c_func
(paren
id|chip
comma
id|snd_als4000_controls
comma
id|ARRAY_SIZE
c_func
(paren
id|snd_als4000_controls
)paren
comma
id|snd_als4000_init_values
comma
id|ARRAY_SIZE
c_func
(paren
id|snd_als4000_init_values
)paren
comma
l_string|&quot;ALS4000&quot;
)paren
)paren
OL
l_int|0
)paren
r_return
id|err
suffix:semicolon
r_break
suffix:semicolon
r_case
id|SB_HW_DT019X
suffix:colon
r_if
c_cond
(paren
(paren
id|err
op_assign
id|snd_sbmixer_init
c_func
(paren
id|chip
comma
id|snd_dt019x_controls
comma
id|ARRAY_SIZE
c_func
(paren
id|snd_dt019x_controls
)paren
comma
id|snd_dt019x_init_values
comma
id|ARRAY_SIZE
c_func
(paren
id|snd_dt019x_init_values
)paren
comma
l_string|&quot;DT019X&quot;
)paren
)paren
OL
l_int|0
)paren
r_break
suffix:semicolon
r_default
suffix:colon
id|strcpy
c_func
(paren
id|card-&gt;mixername
comma
l_string|&quot;???&quot;
)paren
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
eof
