multiline_comment|/*&n; *  Copyright (c) by Jaroslav Kysela &lt;perex@suse.cz&gt;&n; *  I/O routines for GF1/InterWave synthesizer chips&n; *&n; *&n; *   This program is free software; you can redistribute it and/or modify&n; *   it under the terms of the GNU General Public License as published by&n; *   the Free Software Foundation; either version 2 of the License, or&n; *   (at your option) any later version.&n; *&n; *   This program is distributed in the hope that it will be useful,&n; *   but WITHOUT ANY WARRANTY; without even the implied warranty of&n; *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the&n; *   GNU General Public License for more details.&n; *&n; *   You should have received a copy of the GNU General Public License&n; *   along with this program; if not, write to the Free Software&n; *   Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA&n; *&n; */
DECL|macro|__NO_VERSION__
mdefine_line|#define __NO_VERSION__
macro_line|#include &lt;sound/driver.h&gt;
macro_line|#include &lt;linux/delay.h&gt;
macro_line|#include &lt;linux/time.h&gt;
macro_line|#include &lt;sound/core.h&gt;
macro_line|#include &lt;sound/gus.h&gt;
DECL|function|snd_gf1_delay
r_void
id|snd_gf1_delay
c_func
(paren
id|snd_gus_card_t
op_star
id|gus
)paren
(brace
r_int
id|i
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|6
suffix:semicolon
id|i
op_increment
)paren
(brace
id|mb
c_func
(paren
)paren
suffix:semicolon
id|inb
c_func
(paren
id|GUSP
c_func
(paren
id|gus
comma
id|DRAM
)paren
)paren
suffix:semicolon
)brace
)brace
multiline_comment|/*&n; *  =======================================================================&n; */
multiline_comment|/*&n; *  ok.. stop of control registers (wave &amp; ramp) need some special things..&n; *       big UltraClick (tm) elimination...&n; */
DECL|function|__snd_gf1_ctrl_stop
r_static
r_inline
r_void
id|__snd_gf1_ctrl_stop
c_func
(paren
id|snd_gus_card_t
op_star
id|gus
comma
r_int
r_char
id|reg
)paren
(brace
r_int
r_char
id|value
suffix:semicolon
id|outb
c_func
(paren
id|reg
op_or
l_int|0x80
comma
id|gus-&gt;gf1.reg_regsel
)paren
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
id|value
op_assign
id|inb
c_func
(paren
id|gus-&gt;gf1.reg_data8
)paren
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
id|outb
c_func
(paren
id|reg
comma
id|gus-&gt;gf1.reg_regsel
)paren
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
id|outb
c_func
(paren
(paren
id|value
op_or
l_int|0x03
)paren
op_amp
op_complement
(paren
l_int|0x80
op_or
l_int|0x20
)paren
comma
id|gus-&gt;gf1.reg_data8
)paren
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
)brace
DECL|function|__snd_gf1_write8
r_static
r_inline
r_void
id|__snd_gf1_write8
c_func
(paren
id|snd_gus_card_t
op_star
id|gus
comma
r_int
r_char
id|reg
comma
r_int
r_char
id|data
)paren
(brace
id|outb
c_func
(paren
id|reg
comma
id|gus-&gt;gf1.reg_regsel
)paren
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
id|outb
c_func
(paren
id|data
comma
id|gus-&gt;gf1.reg_data8
)paren
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
)brace
DECL|function|__snd_gf1_look8
r_static
r_inline
r_int
r_char
id|__snd_gf1_look8
c_func
(paren
id|snd_gus_card_t
op_star
id|gus
comma
r_int
r_char
id|reg
)paren
(brace
id|outb
c_func
(paren
id|reg
comma
id|gus-&gt;gf1.reg_regsel
)paren
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
r_return
id|inb
c_func
(paren
id|gus-&gt;gf1.reg_data8
)paren
suffix:semicolon
)brace
DECL|function|__snd_gf1_write16
r_static
r_inline
r_void
id|__snd_gf1_write16
c_func
(paren
id|snd_gus_card_t
op_star
id|gus
comma
r_int
r_char
id|reg
comma
r_int
r_int
id|data
)paren
(brace
id|outb
c_func
(paren
id|reg
comma
id|gus-&gt;gf1.reg_regsel
)paren
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
id|outw
c_func
(paren
(paren
r_int
r_int
)paren
id|data
comma
id|gus-&gt;gf1.reg_data16
)paren
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
)brace
DECL|function|__snd_gf1_look16
r_static
r_inline
r_int
r_int
id|__snd_gf1_look16
c_func
(paren
id|snd_gus_card_t
op_star
id|gus
comma
r_int
r_char
id|reg
)paren
(brace
id|outb
c_func
(paren
id|reg
comma
id|gus-&gt;gf1.reg_regsel
)paren
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
r_return
id|inw
c_func
(paren
id|gus-&gt;gf1.reg_data16
)paren
suffix:semicolon
)brace
DECL|function|__snd_gf1_adlib_write
r_static
r_inline
r_void
id|__snd_gf1_adlib_write
c_func
(paren
id|snd_gus_card_t
op_star
id|gus
comma
r_int
r_char
id|reg
comma
r_int
r_char
id|data
)paren
(brace
id|outb
c_func
(paren
id|reg
comma
id|gus-&gt;gf1.reg_timerctrl
)paren
suffix:semicolon
id|inb
c_func
(paren
id|gus-&gt;gf1.reg_timerctrl
)paren
suffix:semicolon
id|inb
c_func
(paren
id|gus-&gt;gf1.reg_timerctrl
)paren
suffix:semicolon
id|outb
c_func
(paren
id|data
comma
id|gus-&gt;gf1.reg_timerdata
)paren
suffix:semicolon
id|inb
c_func
(paren
id|gus-&gt;gf1.reg_timerctrl
)paren
suffix:semicolon
id|inb
c_func
(paren
id|gus-&gt;gf1.reg_timerctrl
)paren
suffix:semicolon
)brace
DECL|function|__snd_gf1_write_addr
r_static
r_inline
r_void
id|__snd_gf1_write_addr
c_func
(paren
id|snd_gus_card_t
op_star
id|gus
comma
r_int
r_char
id|reg
comma
r_int
r_int
id|addr
comma
r_int
id|w_16bit
)paren
(brace
r_if
c_cond
(paren
id|gus-&gt;gf1.enh_mode
)paren
(brace
r_if
c_cond
(paren
id|w_16bit
)paren
id|addr
op_assign
(paren
(paren
id|addr
op_rshift
l_int|1
)paren
op_amp
op_complement
l_int|0x0000000f
)paren
op_or
(paren
id|addr
op_amp
l_int|0x0000000f
)paren
suffix:semicolon
id|__snd_gf1_write8
c_func
(paren
id|gus
comma
id|SNDRV_GF1_VB_UPPER_ADDRESS
comma
(paren
r_int
r_char
)paren
(paren
(paren
id|addr
op_rshift
l_int|26
)paren
op_amp
l_int|0x03
)paren
)paren
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|w_16bit
)paren
id|addr
op_assign
(paren
id|addr
op_amp
l_int|0x00c0000f
)paren
op_or
(paren
(paren
id|addr
op_amp
l_int|0x003ffff0
)paren
op_rshift
l_int|1
)paren
suffix:semicolon
id|__snd_gf1_write16
c_func
(paren
id|gus
comma
id|reg
comma
(paren
r_int
r_int
)paren
(paren
id|addr
op_rshift
l_int|11
)paren
)paren
suffix:semicolon
id|__snd_gf1_write16
c_func
(paren
id|gus
comma
id|reg
op_plus
l_int|1
comma
(paren
r_int
r_int
)paren
(paren
id|addr
op_lshift
l_int|5
)paren
)paren
suffix:semicolon
)brace
DECL|function|__snd_gf1_read_addr
r_static
r_inline
r_int
r_int
id|__snd_gf1_read_addr
c_func
(paren
id|snd_gus_card_t
op_star
id|gus
comma
r_int
r_char
id|reg
comma
r_int
id|w_16bit
)paren
(brace
r_int
r_int
id|res
suffix:semicolon
id|res
op_assign
(paren
(paren
r_int
r_int
)paren
id|__snd_gf1_look16
c_func
(paren
id|gus
comma
id|reg
op_or
l_int|0x80
)paren
op_lshift
l_int|11
)paren
op_amp
l_int|0xfff800
suffix:semicolon
id|res
op_or_assign
(paren
(paren
r_int
r_int
)paren
id|__snd_gf1_look16
c_func
(paren
id|gus
comma
(paren
id|reg
op_plus
l_int|1
)paren
op_or
l_int|0x80
)paren
op_rshift
l_int|5
)paren
op_amp
l_int|0x0007ff
suffix:semicolon
r_if
c_cond
(paren
id|gus-&gt;gf1.enh_mode
)paren
(brace
id|res
op_or_assign
(paren
r_int
r_int
)paren
id|__snd_gf1_look8
c_func
(paren
id|gus
comma
id|SNDRV_GF1_VB_UPPER_ADDRESS
op_or
l_int|0x80
)paren
op_lshift
l_int|26
suffix:semicolon
r_if
c_cond
(paren
id|w_16bit
)paren
id|res
op_assign
(paren
(paren
id|res
op_lshift
l_int|1
)paren
op_amp
l_int|0xffffffe0
)paren
op_or
(paren
id|res
op_amp
l_int|0x0000000f
)paren
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|w_16bit
)paren
id|res
op_assign
(paren
(paren
id|res
op_amp
l_int|0x001ffff0
)paren
op_lshift
l_int|1
)paren
op_or
(paren
id|res
op_amp
l_int|0x00c0000f
)paren
suffix:semicolon
r_return
id|res
suffix:semicolon
)brace
multiline_comment|/*&n; *  =======================================================================&n; */
DECL|function|snd_gf1_ctrl_stop
r_void
id|snd_gf1_ctrl_stop
c_func
(paren
id|snd_gus_card_t
op_star
id|gus
comma
r_int
r_char
id|reg
)paren
(brace
id|__snd_gf1_ctrl_stop
c_func
(paren
id|gus
comma
id|reg
)paren
suffix:semicolon
)brace
DECL|function|snd_gf1_write8
r_void
id|snd_gf1_write8
c_func
(paren
id|snd_gus_card_t
op_star
id|gus
comma
r_int
r_char
id|reg
comma
r_int
r_char
id|data
)paren
(brace
id|__snd_gf1_write8
c_func
(paren
id|gus
comma
id|reg
comma
id|data
)paren
suffix:semicolon
)brace
DECL|function|snd_gf1_look8
r_int
r_char
id|snd_gf1_look8
c_func
(paren
id|snd_gus_card_t
op_star
id|gus
comma
r_int
r_char
id|reg
)paren
(brace
r_return
id|__snd_gf1_look8
c_func
(paren
id|gus
comma
id|reg
)paren
suffix:semicolon
)brace
DECL|function|snd_gf1_write16
r_void
id|snd_gf1_write16
c_func
(paren
id|snd_gus_card_t
op_star
id|gus
comma
r_int
r_char
id|reg
comma
r_int
r_int
id|data
)paren
(brace
id|__snd_gf1_write16
c_func
(paren
id|gus
comma
id|reg
comma
id|data
)paren
suffix:semicolon
)brace
DECL|function|snd_gf1_look16
r_int
r_int
id|snd_gf1_look16
c_func
(paren
id|snd_gus_card_t
op_star
id|gus
comma
r_int
r_char
id|reg
)paren
(brace
r_return
id|__snd_gf1_look16
c_func
(paren
id|gus
comma
id|reg
)paren
suffix:semicolon
)brace
DECL|function|snd_gf1_adlib_write
r_void
id|snd_gf1_adlib_write
c_func
(paren
id|snd_gus_card_t
op_star
id|gus
comma
r_int
r_char
id|reg
comma
r_int
r_char
id|data
)paren
(brace
id|__snd_gf1_adlib_write
c_func
(paren
id|gus
comma
id|reg
comma
id|data
)paren
suffix:semicolon
)brace
DECL|function|snd_gf1_write_addr
r_void
id|snd_gf1_write_addr
c_func
(paren
id|snd_gus_card_t
op_star
id|gus
comma
r_int
r_char
id|reg
comma
r_int
r_int
id|addr
comma
r_int
id|w_16bit
)paren
(brace
id|__snd_gf1_write_addr
c_func
(paren
id|gus
comma
id|reg
comma
id|addr
comma
id|w_16bit
)paren
suffix:semicolon
)brace
DECL|function|snd_gf1_read_addr
r_int
r_int
id|snd_gf1_read_addr
c_func
(paren
id|snd_gus_card_t
op_star
id|gus
comma
r_int
r_char
id|reg
comma
r_int
id|w_16bit
)paren
(brace
r_return
id|__snd_gf1_read_addr
c_func
(paren
id|gus
comma
id|reg
comma
id|w_16bit
)paren
suffix:semicolon
)brace
multiline_comment|/*&n;&n; */
DECL|function|snd_gf1_i_ctrl_stop
r_void
id|snd_gf1_i_ctrl_stop
c_func
(paren
id|snd_gus_card_t
op_star
id|gus
comma
r_int
r_char
id|reg
)paren
(brace
r_int
r_int
id|flags
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|gus-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
id|__snd_gf1_ctrl_stop
c_func
(paren
id|gus
comma
id|reg
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|gus-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
)brace
DECL|function|snd_gf1_i_write8
r_void
id|snd_gf1_i_write8
c_func
(paren
id|snd_gus_card_t
op_star
id|gus
comma
r_int
r_char
id|reg
comma
r_int
r_char
id|data
)paren
(brace
r_int
r_int
id|flags
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|gus-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
id|__snd_gf1_write8
c_func
(paren
id|gus
comma
id|reg
comma
id|data
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|gus-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
)brace
DECL|function|snd_gf1_i_look8
r_int
r_char
id|snd_gf1_i_look8
c_func
(paren
id|snd_gus_card_t
op_star
id|gus
comma
r_int
r_char
id|reg
)paren
(brace
r_int
r_int
id|flags
suffix:semicolon
r_int
r_char
id|res
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|gus-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
id|res
op_assign
id|__snd_gf1_look8
c_func
(paren
id|gus
comma
id|reg
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|gus-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
r_return
id|res
suffix:semicolon
)brace
DECL|function|snd_gf1_i_write16
r_void
id|snd_gf1_i_write16
c_func
(paren
id|snd_gus_card_t
op_star
id|gus
comma
r_int
r_char
id|reg
comma
r_int
r_int
id|data
)paren
(brace
r_int
r_int
id|flags
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|gus-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
id|__snd_gf1_write16
c_func
(paren
id|gus
comma
id|reg
comma
id|data
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|gus-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
)brace
DECL|function|snd_gf1_i_look16
r_int
r_int
id|snd_gf1_i_look16
c_func
(paren
id|snd_gus_card_t
op_star
id|gus
comma
r_int
r_char
id|reg
)paren
(brace
r_int
r_int
id|flags
suffix:semicolon
r_int
r_int
id|res
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|gus-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
id|res
op_assign
id|__snd_gf1_look16
c_func
(paren
id|gus
comma
id|reg
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|gus-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
r_return
id|res
suffix:semicolon
)brace
DECL|function|snd_gf1_i_adlib_write
r_void
id|snd_gf1_i_adlib_write
c_func
(paren
id|snd_gus_card_t
op_star
id|gus
comma
r_int
r_char
id|reg
comma
r_int
r_char
id|data
)paren
(brace
r_int
r_int
id|flags
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|gus-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
id|__snd_gf1_adlib_write
c_func
(paren
id|gus
comma
id|reg
comma
id|data
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|gus-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
)brace
DECL|function|snd_gf1_i_write_addr
r_void
id|snd_gf1_i_write_addr
c_func
(paren
id|snd_gus_card_t
op_star
id|gus
comma
r_int
r_char
id|reg
comma
r_int
r_int
id|addr
comma
r_int
id|w_16bit
)paren
(brace
r_int
r_int
id|flags
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|gus-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
id|__snd_gf1_write_addr
c_func
(paren
id|gus
comma
id|reg
comma
id|addr
comma
id|w_16bit
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|gus-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
)brace
DECL|function|snd_gf1_i_read_addr
r_int
r_int
id|snd_gf1_i_read_addr
c_func
(paren
id|snd_gus_card_t
op_star
id|gus
comma
r_int
r_char
id|reg
comma
r_int
id|w_16bit
)paren
(brace
r_int
r_int
id|res
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|gus-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
id|res
op_assign
id|__snd_gf1_read_addr
c_func
(paren
id|gus
comma
id|reg
comma
id|w_16bit
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|gus-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
r_return
id|res
suffix:semicolon
)brace
multiline_comment|/*&n;&n; */
DECL|function|snd_gf1_dram_addr
r_void
id|snd_gf1_dram_addr
c_func
(paren
id|snd_gus_card_t
op_star
id|gus
comma
r_int
r_int
id|addr
)paren
(brace
id|outb
c_func
(paren
l_int|0x43
comma
id|gus-&gt;gf1.reg_regsel
)paren
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
id|outw
c_func
(paren
(paren
r_int
r_int
)paren
id|addr
comma
id|gus-&gt;gf1.reg_data16
)paren
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
id|outb
c_func
(paren
l_int|0x44
comma
id|gus-&gt;gf1.reg_regsel
)paren
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
id|outb
c_func
(paren
(paren
r_int
r_char
)paren
(paren
id|addr
op_rshift
l_int|16
)paren
comma
id|gus-&gt;gf1.reg_data8
)paren
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
)brace
DECL|function|snd_gf1_poke
r_void
id|snd_gf1_poke
c_func
(paren
id|snd_gus_card_t
op_star
id|gus
comma
r_int
r_int
id|addr
comma
r_int
r_char
id|data
)paren
(brace
r_int
r_int
id|flags
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|gus-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
id|outb
c_func
(paren
id|SNDRV_GF1_GW_DRAM_IO_LOW
comma
id|gus-&gt;gf1.reg_regsel
)paren
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
id|outw
c_func
(paren
(paren
r_int
r_int
)paren
id|addr
comma
id|gus-&gt;gf1.reg_data16
)paren
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
id|outb
c_func
(paren
id|SNDRV_GF1_GB_DRAM_IO_HIGH
comma
id|gus-&gt;gf1.reg_regsel
)paren
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
id|outb
c_func
(paren
(paren
r_int
r_char
)paren
(paren
id|addr
op_rshift
l_int|16
)paren
comma
id|gus-&gt;gf1.reg_data8
)paren
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
id|outb
c_func
(paren
id|data
comma
id|gus-&gt;gf1.reg_dram
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|gus-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
)brace
DECL|function|snd_gf1_peek
r_int
r_char
id|snd_gf1_peek
c_func
(paren
id|snd_gus_card_t
op_star
id|gus
comma
r_int
r_int
id|addr
)paren
(brace
r_int
r_int
id|flags
suffix:semicolon
r_int
r_char
id|res
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|gus-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
id|outb
c_func
(paren
id|SNDRV_GF1_GW_DRAM_IO_LOW
comma
id|gus-&gt;gf1.reg_regsel
)paren
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
id|outw
c_func
(paren
(paren
r_int
r_int
)paren
id|addr
comma
id|gus-&gt;gf1.reg_data16
)paren
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
id|outb
c_func
(paren
id|SNDRV_GF1_GB_DRAM_IO_HIGH
comma
id|gus-&gt;gf1.reg_regsel
)paren
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
id|outb
c_func
(paren
(paren
r_int
r_char
)paren
(paren
id|addr
op_rshift
l_int|16
)paren
comma
id|gus-&gt;gf1.reg_data8
)paren
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
id|res
op_assign
id|inb
c_func
(paren
id|gus-&gt;gf1.reg_dram
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|gus-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
r_return
id|res
suffix:semicolon
)brace
DECL|function|snd_gf1_pokew
r_void
id|snd_gf1_pokew
c_func
(paren
id|snd_gus_card_t
op_star
id|gus
comma
r_int
r_int
id|addr
comma
r_int
r_int
id|data
)paren
(brace
r_int
r_int
id|flags
suffix:semicolon
macro_line|#ifdef CONFIG_SND_DEBUG
r_if
c_cond
(paren
op_logical_neg
id|gus-&gt;interwave
)paren
id|snd_printk
c_func
(paren
l_string|&quot;snd_gf1_pokew - GF1!!!&bslash;n&quot;
)paren
suffix:semicolon
macro_line|#endif
id|spin_lock_irqsave
c_func
(paren
op_amp
id|gus-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
id|outb
c_func
(paren
id|SNDRV_GF1_GW_DRAM_IO_LOW
comma
id|gus-&gt;gf1.reg_regsel
)paren
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
id|outw
c_func
(paren
(paren
r_int
r_int
)paren
id|addr
comma
id|gus-&gt;gf1.reg_data16
)paren
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
id|outb
c_func
(paren
id|SNDRV_GF1_GB_DRAM_IO_HIGH
comma
id|gus-&gt;gf1.reg_regsel
)paren
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
id|outb
c_func
(paren
(paren
r_int
r_char
)paren
(paren
id|addr
op_rshift
l_int|16
)paren
comma
id|gus-&gt;gf1.reg_data8
)paren
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
id|outb
c_func
(paren
id|SNDRV_GF1_GW_DRAM_IO16
comma
id|gus-&gt;gf1.reg_regsel
)paren
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
id|outw
c_func
(paren
id|data
comma
id|gus-&gt;gf1.reg_data16
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|gus-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
)brace
DECL|function|snd_gf1_peekw
r_int
r_int
id|snd_gf1_peekw
c_func
(paren
id|snd_gus_card_t
op_star
id|gus
comma
r_int
r_int
id|addr
)paren
(brace
r_int
r_int
id|flags
suffix:semicolon
r_int
r_int
id|res
suffix:semicolon
macro_line|#ifdef CONFIG_SND_DEBUG
r_if
c_cond
(paren
op_logical_neg
id|gus-&gt;interwave
)paren
id|snd_printk
c_func
(paren
l_string|&quot;snd_gf1_peekw - GF1!!!&bslash;n&quot;
)paren
suffix:semicolon
macro_line|#endif
id|spin_lock_irqsave
c_func
(paren
op_amp
id|gus-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
id|outb
c_func
(paren
id|SNDRV_GF1_GW_DRAM_IO_LOW
comma
id|gus-&gt;gf1.reg_regsel
)paren
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
id|outw
c_func
(paren
(paren
r_int
r_int
)paren
id|addr
comma
id|gus-&gt;gf1.reg_data16
)paren
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
id|outb
c_func
(paren
id|SNDRV_GF1_GB_DRAM_IO_HIGH
comma
id|gus-&gt;gf1.reg_regsel
)paren
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
id|outb
c_func
(paren
(paren
r_int
r_char
)paren
(paren
id|addr
op_rshift
l_int|16
)paren
comma
id|gus-&gt;gf1.reg_data8
)paren
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
id|outb
c_func
(paren
id|SNDRV_GF1_GW_DRAM_IO16
comma
id|gus-&gt;gf1.reg_regsel
)paren
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
id|res
op_assign
id|inw
c_func
(paren
id|gus-&gt;gf1.reg_data16
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|gus-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
r_return
id|res
suffix:semicolon
)brace
DECL|function|snd_gf1_dram_setmem
r_void
id|snd_gf1_dram_setmem
c_func
(paren
id|snd_gus_card_t
op_star
id|gus
comma
r_int
r_int
id|addr
comma
r_int
r_int
id|value
comma
r_int
r_int
id|count
)paren
(brace
r_int
r_int
id|port
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
macro_line|#ifdef CONFIG_SND_DEBUG
r_if
c_cond
(paren
op_logical_neg
id|gus-&gt;interwave
)paren
id|snd_printk
c_func
(paren
l_string|&quot;snd_gf1_dram_setmem - GF1!!!&bslash;n&quot;
)paren
suffix:semicolon
macro_line|#endif
id|addr
op_and_assign
op_complement
l_int|1
suffix:semicolon
id|count
op_rshift_assign
l_int|1
suffix:semicolon
id|port
op_assign
id|GUSP
c_func
(paren
id|gus
comma
id|GF1DATALOW
)paren
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|gus-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
id|outb
c_func
(paren
id|SNDRV_GF1_GW_DRAM_IO_LOW
comma
id|gus-&gt;gf1.reg_regsel
)paren
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
id|outw
c_func
(paren
(paren
r_int
r_int
)paren
id|addr
comma
id|gus-&gt;gf1.reg_data16
)paren
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
id|outb
c_func
(paren
id|SNDRV_GF1_GB_DRAM_IO_HIGH
comma
id|gus-&gt;gf1.reg_regsel
)paren
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
id|outb
c_func
(paren
(paren
r_int
r_char
)paren
(paren
id|addr
op_rshift
l_int|16
)paren
comma
id|gus-&gt;gf1.reg_data8
)paren
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
id|outb
c_func
(paren
id|SNDRV_GF1_GW_DRAM_IO16
comma
id|gus-&gt;gf1.reg_regsel
)paren
suffix:semicolon
r_while
c_loop
(paren
id|count
op_decrement
)paren
id|outw
c_func
(paren
id|value
comma
id|port
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|gus-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
)brace
multiline_comment|/*&n;&n; */
DECL|function|snd_gf1_select_active_voices
r_void
id|snd_gf1_select_active_voices
c_func
(paren
id|snd_gus_card_t
op_star
id|gus
)paren
(brace
r_int
r_int
id|voices
suffix:semicolon
r_static
r_int
r_int
id|voices_tbl
(braket
l_int|32
op_minus
l_int|14
op_plus
l_int|1
)braket
op_assign
(brace
l_int|44100
comma
l_int|41160
comma
l_int|38587
comma
l_int|36317
comma
l_int|34300
comma
l_int|32494
comma
l_int|30870
comma
l_int|29400
comma
l_int|28063
comma
l_int|26843
comma
l_int|25725
comma
l_int|24696
comma
l_int|23746
comma
l_int|22866
comma
l_int|22050
comma
l_int|21289
comma
l_int|20580
comma
l_int|19916
comma
l_int|19293
)brace
suffix:semicolon
id|voices
op_assign
id|gus-&gt;gf1.active_voices
suffix:semicolon
r_if
c_cond
(paren
id|voices
OG
l_int|32
)paren
id|voices
op_assign
l_int|32
suffix:semicolon
r_if
c_cond
(paren
id|voices
OL
l_int|14
)paren
id|voices
op_assign
l_int|14
suffix:semicolon
r_if
c_cond
(paren
id|gus-&gt;gf1.enh_mode
)paren
id|voices
op_assign
l_int|32
suffix:semicolon
id|gus-&gt;gf1.active_voices
op_assign
id|voices
suffix:semicolon
id|gus-&gt;gf1.playback_freq
op_assign
id|gus-&gt;gf1.enh_mode
ques
c_cond
l_int|44100
suffix:colon
id|voices_tbl
(braket
id|voices
op_minus
l_int|14
)braket
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|gus-&gt;gf1.enh_mode
)paren
(brace
id|snd_gf1_i_write8
c_func
(paren
id|gus
comma
id|SNDRV_GF1_GB_ACTIVE_VOICES
comma
l_int|0xc0
op_or
(paren
id|voices
op_minus
l_int|1
)paren
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|100
)paren
suffix:semicolon
)brace
)brace
macro_line|#ifdef CONFIG_SND_DEBUG
DECL|function|snd_gf1_print_voice_registers
r_void
id|snd_gf1_print_voice_registers
c_func
(paren
id|snd_gus_card_t
op_star
id|gus
)paren
(brace
r_int
r_char
id|mode
suffix:semicolon
r_int
id|voice
comma
id|ctrl
suffix:semicolon
id|voice
op_assign
id|gus-&gt;gf1.active_voice
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot; -%i- GF1  voice ctrl, ramp ctrl  = 0x%x, 0x%x&bslash;n&quot;
comma
id|voice
comma
id|ctrl
op_assign
id|snd_gf1_i_read8
c_func
(paren
id|gus
comma
l_int|0
)paren
comma
id|snd_gf1_i_read8
c_func
(paren
id|gus
comma
l_int|0x0d
)paren
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot; -%i- GF1  frequency              = 0x%x&bslash;n&quot;
comma
id|voice
comma
id|snd_gf1_i_read16
c_func
(paren
id|gus
comma
l_int|1
)paren
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot; -%i- GF1  loop start, end        = 0x%x (0x%x), 0x%x (0x%x)&bslash;n&quot;
comma
id|voice
comma
id|snd_gf1_i_read_addr
c_func
(paren
id|gus
comma
l_int|2
comma
id|ctrl
op_amp
l_int|4
)paren
comma
id|snd_gf1_i_read_addr
c_func
(paren
id|gus
comma
l_int|2
comma
(paren
id|ctrl
op_amp
l_int|4
)paren
op_xor
l_int|4
)paren
comma
id|snd_gf1_i_read_addr
c_func
(paren
id|gus
comma
l_int|4
comma
id|ctrl
op_amp
l_int|4
)paren
comma
id|snd_gf1_i_read_addr
c_func
(paren
id|gus
comma
l_int|4
comma
(paren
id|ctrl
op_amp
l_int|4
)paren
op_xor
l_int|4
)paren
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot; -%i- GF1  ramp start, end, rate  = 0x%x, 0x%x, 0x%x&bslash;n&quot;
comma
id|voice
comma
id|snd_gf1_i_read8
c_func
(paren
id|gus
comma
l_int|7
)paren
comma
id|snd_gf1_i_read8
c_func
(paren
id|gus
comma
l_int|8
)paren
comma
id|snd_gf1_i_read8
c_func
(paren
id|gus
comma
l_int|6
)paren
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot; -%i- GF1  volume                 = 0x%x&bslash;n&quot;
comma
id|voice
comma
id|snd_gf1_i_read16
c_func
(paren
id|gus
comma
l_int|9
)paren
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot; -%i- GF1  position               = 0x%x (0x%x)&bslash;n&quot;
comma
id|voice
comma
id|snd_gf1_i_read_addr
c_func
(paren
id|gus
comma
l_int|0x0a
comma
id|ctrl
op_amp
l_int|4
)paren
comma
id|snd_gf1_i_read_addr
c_func
(paren
id|gus
comma
l_int|0x0a
comma
(paren
id|ctrl
op_amp
l_int|4
)paren
op_xor
l_int|4
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|gus-&gt;interwave
op_logical_and
id|snd_gf1_i_read8
c_func
(paren
id|gus
comma
l_int|0x19
)paren
op_amp
l_int|0x01
)paren
(brace
multiline_comment|/* enhanced mode */
id|mode
op_assign
id|snd_gf1_i_read8
c_func
(paren
id|gus
comma
l_int|0x15
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot; -%i- GFA1 mode                   = 0x%x&bslash;n&quot;
comma
id|voice
comma
id|mode
)paren
suffix:semicolon
r_if
c_cond
(paren
id|mode
op_amp
l_int|0x01
)paren
(brace
multiline_comment|/* Effect processor */
id|printk
c_func
(paren
l_string|&quot; -%i- GFA1 effect address         = 0x%x&bslash;n&quot;
comma
id|voice
comma
id|snd_gf1_i_read_addr
c_func
(paren
id|gus
comma
l_int|0x11
comma
id|ctrl
op_amp
l_int|4
)paren
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot; -%i- GFA1 effect volume          = 0x%x&bslash;n&quot;
comma
id|voice
comma
id|snd_gf1_i_read16
c_func
(paren
id|gus
comma
l_int|0x16
)paren
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot; -%i- GFA1 effect volume final    = 0x%x&bslash;n&quot;
comma
id|voice
comma
id|snd_gf1_i_read16
c_func
(paren
id|gus
comma
l_int|0x1d
)paren
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot; -%i- GFA1 effect acumulator      = 0x%x&bslash;n&quot;
comma
id|voice
comma
id|snd_gf1_i_read8
c_func
(paren
id|gus
comma
l_int|0x14
)paren
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|mode
op_amp
l_int|0x20
)paren
(brace
id|printk
c_func
(paren
l_string|&quot; -%i- GFA1 left offset            = 0x%x (%i)&bslash;n&quot;
comma
id|voice
comma
id|snd_gf1_i_read16
c_func
(paren
id|gus
comma
l_int|0x13
)paren
comma
id|snd_gf1_i_read16
c_func
(paren
id|gus
comma
l_int|0x13
)paren
op_rshift
l_int|4
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot; -%i- GFA1 left offset final      = 0x%x (%i)&bslash;n&quot;
comma
id|voice
comma
id|snd_gf1_i_read16
c_func
(paren
id|gus
comma
l_int|0x1c
)paren
comma
id|snd_gf1_i_read16
c_func
(paren
id|gus
comma
l_int|0x1c
)paren
op_rshift
l_int|4
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot; -%i- GFA1 right offset           = 0x%x (%i)&bslash;n&quot;
comma
id|voice
comma
id|snd_gf1_i_read16
c_func
(paren
id|gus
comma
l_int|0x0c
)paren
comma
id|snd_gf1_i_read16
c_func
(paren
id|gus
comma
l_int|0x0c
)paren
op_rshift
l_int|4
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot; -%i- GFA1 right offset final     = 0x%x (%i)&bslash;n&quot;
comma
id|voice
comma
id|snd_gf1_i_read16
c_func
(paren
id|gus
comma
l_int|0x1b
)paren
comma
id|snd_gf1_i_read16
c_func
(paren
id|gus
comma
l_int|0x1b
)paren
op_rshift
l_int|4
)paren
suffix:semicolon
)brace
r_else
id|printk
c_func
(paren
l_string|&quot; -%i- GF1  pan                    = 0x%x&bslash;n&quot;
comma
id|voice
comma
id|snd_gf1_i_read8
c_func
(paren
id|gus
comma
l_int|0x0c
)paren
)paren
suffix:semicolon
)brace
r_else
id|printk
c_func
(paren
l_string|&quot; -%i- GF1  pan                    = 0x%x&bslash;n&quot;
comma
id|voice
comma
id|snd_gf1_i_read8
c_func
(paren
id|gus
comma
l_int|0x0c
)paren
)paren
suffix:semicolon
)brace
DECL|function|snd_gf1_print_global_registers
r_void
id|snd_gf1_print_global_registers
c_func
(paren
id|snd_gus_card_t
op_star
id|gus
)paren
(brace
r_int
r_char
id|global_mode
op_assign
l_int|0x00
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot; -G- GF1 active voices            = 0x%x&bslash;n&quot;
comma
id|snd_gf1_i_look8
c_func
(paren
id|gus
comma
id|SNDRV_GF1_GB_ACTIVE_VOICES
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|gus-&gt;interwave
)paren
(brace
id|global_mode
op_assign
id|snd_gf1_i_read8
c_func
(paren
id|gus
comma
id|SNDRV_GF1_GB_GLOBAL_MODE
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot; -G- GF1 global mode              = 0x%x&bslash;n&quot;
comma
id|global_mode
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|global_mode
op_amp
l_int|0x02
)paren
multiline_comment|/* LFO enabled? */
id|printk
c_func
(paren
l_string|&quot; -G- GF1 LFO base                 = 0x%x&bslash;n&quot;
comma
id|snd_gf1_i_look16
c_func
(paren
id|gus
comma
id|SNDRV_GF1_GW_LFO_BASE
)paren
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot; -G- GF1 voices IRQ read          = 0x%x&bslash;n&quot;
comma
id|snd_gf1_i_look8
c_func
(paren
id|gus
comma
id|SNDRV_GF1_GB_VOICES_IRQ_READ
)paren
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot; -G- GF1 DRAM DMA control         = 0x%x&bslash;n&quot;
comma
id|snd_gf1_i_look8
c_func
(paren
id|gus
comma
id|SNDRV_GF1_GB_DRAM_DMA_CONTROL
)paren
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot; -G- GF1 DRAM DMA high/low        = 0x%x/0x%x&bslash;n&quot;
comma
id|snd_gf1_i_look8
c_func
(paren
id|gus
comma
id|SNDRV_GF1_GB_DRAM_DMA_HIGH
)paren
comma
id|snd_gf1_i_read16
c_func
(paren
id|gus
comma
id|SNDRV_GF1_GW_DRAM_DMA_LOW
)paren
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot; -G- GF1 DRAM IO high/low         = 0x%x/0x%x&bslash;n&quot;
comma
id|snd_gf1_i_look8
c_func
(paren
id|gus
comma
id|SNDRV_GF1_GB_DRAM_IO_HIGH
)paren
comma
id|snd_gf1_i_read16
c_func
(paren
id|gus
comma
id|SNDRV_GF1_GW_DRAM_IO_LOW
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|gus-&gt;interwave
)paren
id|printk
c_func
(paren
l_string|&quot; -G- GF1 record DMA control       = 0x%x&bslash;n&quot;
comma
id|snd_gf1_i_look8
c_func
(paren
id|gus
comma
id|SNDRV_GF1_GB_REC_DMA_CONTROL
)paren
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot; -G- GF1 DRAM IO 16               = 0x%x&bslash;n&quot;
comma
id|snd_gf1_i_look16
c_func
(paren
id|gus
comma
id|SNDRV_GF1_GW_DRAM_IO16
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|gus-&gt;gf1.enh_mode
)paren
(brace
id|printk
c_func
(paren
l_string|&quot; -G- GFA1 memory config           = 0x%x&bslash;n&quot;
comma
id|snd_gf1_i_look16
c_func
(paren
id|gus
comma
id|SNDRV_GF1_GW_MEMORY_CONFIG
)paren
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot; -G- GFA1 memory control          = 0x%x&bslash;n&quot;
comma
id|snd_gf1_i_look8
c_func
(paren
id|gus
comma
id|SNDRV_GF1_GB_MEMORY_CONTROL
)paren
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot; -G- GFA1 FIFO record base        = 0x%x&bslash;n&quot;
comma
id|snd_gf1_i_look16
c_func
(paren
id|gus
comma
id|SNDRV_GF1_GW_FIFO_RECORD_BASE_ADDR
)paren
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot; -G- GFA1 FIFO playback base      = 0x%x&bslash;n&quot;
comma
id|snd_gf1_i_look16
c_func
(paren
id|gus
comma
id|SNDRV_GF1_GW_FIFO_PLAY_BASE_ADDR
)paren
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot; -G- GFA1 interleave control      = 0x%x&bslash;n&quot;
comma
id|snd_gf1_i_look16
c_func
(paren
id|gus
comma
id|SNDRV_GF1_GW_INTERLEAVE
)paren
)paren
suffix:semicolon
)brace
)brace
DECL|function|snd_gf1_print_setup_registers
r_void
id|snd_gf1_print_setup_registers
c_func
(paren
id|snd_gus_card_t
op_star
id|gus
)paren
(brace
id|printk
c_func
(paren
l_string|&quot; -S- mix control                  = 0x%x&bslash;n&quot;
comma
id|inb
c_func
(paren
id|GUSP
c_func
(paren
id|gus
comma
id|MIXCNTRLREG
)paren
)paren
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot; -S- IRQ status                   = 0x%x&bslash;n&quot;
comma
id|inb
c_func
(paren
id|GUSP
c_func
(paren
id|gus
comma
id|IRQSTAT
)paren
)paren
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot; -S- timer control                = 0x%x&bslash;n&quot;
comma
id|inb
c_func
(paren
id|GUSP
c_func
(paren
id|gus
comma
id|TIMERCNTRL
)paren
)paren
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot; -S- timer data                   = 0x%x&bslash;n&quot;
comma
id|inb
c_func
(paren
id|GUSP
c_func
(paren
id|gus
comma
id|TIMERDATA
)paren
)paren
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot; -S- status read                  = 0x%x&bslash;n&quot;
comma
id|inb
c_func
(paren
id|GUSP
c_func
(paren
id|gus
comma
id|REGCNTRLS
)paren
)paren
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot; -S- Sound Blaster control        = 0x%x&bslash;n&quot;
comma
id|snd_gf1_i_look8
c_func
(paren
id|gus
comma
id|SNDRV_GF1_GB_SOUND_BLASTER_CONTROL
)paren
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot; -S- AdLib timer 1/2              = 0x%x/0x%x&bslash;n&quot;
comma
id|snd_gf1_i_look8
c_func
(paren
id|gus
comma
id|SNDRV_GF1_GB_ADLIB_TIMER_1
)paren
comma
id|snd_gf1_i_look8
c_func
(paren
id|gus
comma
id|SNDRV_GF1_GB_ADLIB_TIMER_2
)paren
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot; -S- reset                        = 0x%x&bslash;n&quot;
comma
id|snd_gf1_i_look8
c_func
(paren
id|gus
comma
id|SNDRV_GF1_GB_RESET
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|gus-&gt;interwave
)paren
(brace
id|printk
c_func
(paren
l_string|&quot; -S- compatibility                = 0x%x&bslash;n&quot;
comma
id|snd_gf1_i_look8
c_func
(paren
id|gus
comma
id|SNDRV_GF1_GB_COMPATIBILITY
)paren
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot; -S- decode control               = 0x%x&bslash;n&quot;
comma
id|snd_gf1_i_look8
c_func
(paren
id|gus
comma
id|SNDRV_GF1_GB_DECODE_CONTROL
)paren
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot; -S- version number               = 0x%x&bslash;n&quot;
comma
id|snd_gf1_i_look8
c_func
(paren
id|gus
comma
id|SNDRV_GF1_GB_VERSION_NUMBER
)paren
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot; -S- MPU-401 emul. control A/B    = 0x%x/0x%x&bslash;n&quot;
comma
id|snd_gf1_i_look8
c_func
(paren
id|gus
comma
id|SNDRV_GF1_GB_MPU401_CONTROL_A
)paren
comma
id|snd_gf1_i_look8
c_func
(paren
id|gus
comma
id|SNDRV_GF1_GB_MPU401_CONTROL_B
)paren
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot; -S- emulation IRQ                = 0x%x&bslash;n&quot;
comma
id|snd_gf1_i_look8
c_func
(paren
id|gus
comma
id|SNDRV_GF1_GB_EMULATION_IRQ
)paren
)paren
suffix:semicolon
)brace
)brace
DECL|function|snd_gf1_peek_print_block
r_void
id|snd_gf1_peek_print_block
c_func
(paren
id|snd_gus_card_t
op_star
id|gus
comma
r_int
r_int
id|addr
comma
r_int
id|count
comma
r_int
id|w_16bit
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
id|w_16bit
)paren
(brace
r_while
c_loop
(paren
id|count
op_decrement
OG
l_int|0
)paren
id|printk
c_func
(paren
id|count
OG
l_int|0
ques
c_cond
l_string|&quot;%02x:&quot;
suffix:colon
l_string|&quot;%02x&quot;
comma
id|snd_gf1_peek
c_func
(paren
id|gus
comma
id|addr
op_increment
)paren
)paren
suffix:semicolon
)brace
r_else
(brace
r_while
c_loop
(paren
id|count
op_decrement
OG
l_int|0
)paren
(brace
id|printk
c_func
(paren
id|count
OG
l_int|0
ques
c_cond
l_string|&quot;%04x:&quot;
suffix:colon
l_string|&quot;%04x&quot;
comma
id|snd_gf1_peek
c_func
(paren
id|gus
comma
id|addr
)paren
op_or
(paren
id|snd_gf1_peek
c_func
(paren
id|gus
comma
id|addr
op_plus
l_int|1
)paren
op_lshift
l_int|8
)paren
)paren
suffix:semicolon
id|addr
op_add_assign
l_int|2
suffix:semicolon
)brace
)brace
)brace
macro_line|#endif
eof
