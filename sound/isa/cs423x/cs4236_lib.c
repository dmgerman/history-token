multiline_comment|/*&n; *  Copyright (c) by Jaroslav Kysela &lt;perex@suse.cz&gt;&n; *  Routines for control of CS4235/4236B/4237B/4238B/4239 chips&n; *&n; *  Note:&n; *     -----&n; *&n; *  Bugs:&n; *     -----&n; *&n; *   This program is free software; you can redistribute it and/or modify&n; *   it under the terms of the GNU General Public License as published by&n; *   the Free Software Foundation; either version 2 of the License, or&n; *   (at your option) any later version.&n; *&n; *   This program is distributed in the hope that it will be useful,&n; *   but WITHOUT ANY WARRANTY; without even the implied warranty of&n; *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the&n; *   GNU General Public License for more details.&n; *&n; *   You should have received a copy of the GNU General Public License&n; *   along with this program; if not, write to the Free Software&n; *   Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA&n; *&n; */
multiline_comment|/*&n; *  Indirect control registers (CS4236B+)&n; * &n; *  C0&n; *     D8: WSS reset (all chips)&n; *&n; *  C1 (all chips except CS4236)&n; *     D7-D5: version &n; *     D4-D0: chip id&n; *             11101 - CS4235&n; *             01011 - CS4236B&n; *             01000 - CS4237B&n; *             01001 - CS4238B&n; *             11110 - CS4239&n; *&n; *  C2&n; *     D7-D4: 3D Space (CS4235,CS4237B,CS4238B,CS4239)&n; *     D3-D0: 3D Center (CS4237B); 3D Volume (CS4238B)&n; * &n; *  C3&n; *     D7: 3D Enable (CS4237B)&n; *     D6: 3D Mono Enable (CS4237B)&n; *     D5: 3D Serial Output (CS4237B,CS4238B)&n; *     D4: 3D Enable (CS4235,CS4238B,CS4239)&n; *&n; *  C4&n; *     D7: consumer serial port enable (CS4237B,CS4238B)&n; *     D6: channels status block reset (CS4237B,CS4238B)&n; *     D5: user bit in sub-frame of digital audio data (CS4237B,CS4238B)&n; *     D4: validity bit bit in sub-frame of digital audio data (CS4237B,CS4238B)&n; * &n; *  C5  lower channel status (digital serial data description) (CS4237B,CS4238B)&n; *     D7-D6: first two bits of category code&n; *     D5: lock&n; *     D4-D3: pre-emphasis (0 = none, 1 = 50/15us)&n; *     D2: copy/copyright (0 = copy inhibited)&n; *     D1: 0 = digital audio / 1 = non-digital audio&n; *     &n; *  C6  upper channel status (digital serial data description) (CS4237B,CS4238B)&n; *     D7-D6: sample frequency (0 = 44.1kHz)&n; *     D5: generation status (0 = no indication, 1 = original/commercially precaptureed data)&n; *     D4-D0: category code (upper bits)&n; *&n; *  C7  reserved (must write 0)&n; *&n; *  C8  wavetable control&n; *     D7: volume control interrupt enable (CS4235,CS4239)&n; *     D6: hardware volume control format (CS4235,CS4239)&n; *     D3: wavetable serial port enable (all chips)&n; *     D2: DSP serial port switch (all chips)&n; *     D1: disable MCLK (all chips)&n; *     D0: force BRESET low (all chips)&n; *&n; */
macro_line|#include &lt;sound/driver.h&gt;
macro_line|#include &lt;asm/io.h&gt;
macro_line|#include &lt;linux/delay.h&gt;
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;linux/time.h&gt;
macro_line|#include &lt;linux/wait.h&gt;
macro_line|#include &lt;sound/core.h&gt;
macro_line|#include &lt;sound/cs4231.h&gt;
macro_line|#include &lt;sound/asoundef.h&gt;
id|MODULE_AUTHOR
c_func
(paren
l_string|&quot;Jaroslav Kysela &lt;perex@suse.cz&gt;&quot;
)paren
suffix:semicolon
id|MODULE_DESCRIPTION
c_func
(paren
l_string|&quot;Routines for control of CS4235/4236B/4237B/4238B/4239 chips&quot;
)paren
suffix:semicolon
id|MODULE_LICENSE
c_func
(paren
l_string|&quot;GPL&quot;
)paren
suffix:semicolon
DECL|macro|chip_t
mdefine_line|#define chip_t cs4231_t
multiline_comment|/*&n; *&n; */
DECL|variable|snd_cs4236_ext_map
r_static
r_int
r_char
id|snd_cs4236_ext_map
(braket
l_int|18
)braket
op_assign
(brace
multiline_comment|/* CS4236_LEFT_LINE */
l_int|0xff
comma
multiline_comment|/* CS4236_RIGHT_LINE */
l_int|0xff
comma
multiline_comment|/* CS4236_LEFT_MIC */
l_int|0xdf
comma
multiline_comment|/* CS4236_RIGHT_MIC */
l_int|0xdf
comma
multiline_comment|/* CS4236_LEFT_MIX_CTRL */
l_int|0xe0
op_or
l_int|0x18
comma
multiline_comment|/* CS4236_RIGHT_MIX_CTRL */
l_int|0xe0
comma
multiline_comment|/* CS4236_LEFT_FM */
l_int|0xbf
comma
multiline_comment|/* CS4236_RIGHT_FM */
l_int|0xbf
comma
multiline_comment|/* CS4236_LEFT_DSP */
l_int|0xbf
comma
multiline_comment|/* CS4236_RIGHT_DSP */
l_int|0xbf
comma
multiline_comment|/* CS4236_RIGHT_LOOPBACK */
l_int|0xbf
comma
multiline_comment|/* CS4236_DAC_MUTE */
l_int|0xe0
comma
multiline_comment|/* CS4236_ADC_RATE */
l_int|0x01
comma
multiline_comment|/* 48kHz */
multiline_comment|/* CS4236_DAC_RATE */
l_int|0x01
comma
multiline_comment|/* 48kHz */
multiline_comment|/* CS4236_LEFT_MASTER */
l_int|0xbf
comma
multiline_comment|/* CS4236_RIGHT_MASTER */
l_int|0xbf
comma
multiline_comment|/* CS4236_LEFT_WAVE */
l_int|0xbf
comma
multiline_comment|/* CS4236_RIGHT_WAVE */
l_int|0xbf
)brace
suffix:semicolon
multiline_comment|/*&n; *&n; */
DECL|function|snd_cs4236_ctrl_out
r_static
r_void
id|snd_cs4236_ctrl_out
c_func
(paren
id|cs4231_t
op_star
id|chip
comma
r_int
r_char
id|reg
comma
r_int
r_char
id|val
)paren
(brace
id|outb
c_func
(paren
id|reg
comma
id|chip-&gt;cport
op_plus
l_int|3
)paren
suffix:semicolon
id|outb
c_func
(paren
id|chip-&gt;cimage
(braket
id|reg
)braket
op_assign
id|val
comma
id|chip-&gt;cport
op_plus
l_int|4
)paren
suffix:semicolon
)brace
DECL|function|snd_cs4236_ctrl_in
r_static
r_int
r_char
id|snd_cs4236_ctrl_in
c_func
(paren
id|cs4231_t
op_star
id|chip
comma
r_int
r_char
id|reg
)paren
(brace
id|outb
c_func
(paren
id|reg
comma
id|chip-&gt;cport
op_plus
l_int|3
)paren
suffix:semicolon
r_return
id|inb
c_func
(paren
id|chip-&gt;cport
op_plus
l_int|4
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; *  PCM&n; */
DECL|macro|CLOCKS
mdefine_line|#define CLOCKS 8
DECL|variable|clocks
r_static
id|ratnum_t
id|clocks
(braket
id|CLOCKS
)braket
op_assign
(brace
(brace
dot
id|num
op_assign
l_int|16934400
comma
dot
id|den_min
op_assign
l_int|353
comma
dot
id|den_max
op_assign
l_int|353
comma
dot
id|den_step
op_assign
l_int|1
)brace
comma
(brace
dot
id|num
op_assign
l_int|16934400
comma
dot
id|den_min
op_assign
l_int|529
comma
dot
id|den_max
op_assign
l_int|529
comma
dot
id|den_step
op_assign
l_int|1
)brace
comma
(brace
dot
id|num
op_assign
l_int|16934400
comma
dot
id|den_min
op_assign
l_int|617
comma
dot
id|den_max
op_assign
l_int|617
comma
dot
id|den_step
op_assign
l_int|1
)brace
comma
(brace
dot
id|num
op_assign
l_int|16934400
comma
dot
id|den_min
op_assign
l_int|1058
comma
dot
id|den_max
op_assign
l_int|1058
comma
dot
id|den_step
op_assign
l_int|1
)brace
comma
(brace
dot
id|num
op_assign
l_int|16934400
comma
dot
id|den_min
op_assign
l_int|1764
comma
dot
id|den_max
op_assign
l_int|1764
comma
dot
id|den_step
op_assign
l_int|1
)brace
comma
(brace
dot
id|num
op_assign
l_int|16934400
comma
dot
id|den_min
op_assign
l_int|2117
comma
dot
id|den_max
op_assign
l_int|2117
comma
dot
id|den_step
op_assign
l_int|1
)brace
comma
(brace
dot
id|num
op_assign
l_int|16934400
comma
dot
id|den_min
op_assign
l_int|2558
comma
dot
id|den_max
op_assign
l_int|2558
comma
dot
id|den_step
op_assign
l_int|1
)brace
comma
(brace
dot
id|num
op_assign
l_int|16934400
op_div
l_int|16
comma
dot
id|den_min
op_assign
l_int|21
comma
dot
id|den_max
op_assign
l_int|192
comma
dot
id|den_step
op_assign
l_int|1
)brace
)brace
suffix:semicolon
DECL|variable|hw_constraints_clocks
r_static
id|snd_pcm_hw_constraint_ratnums_t
id|hw_constraints_clocks
op_assign
(brace
dot
id|nrats
op_assign
id|CLOCKS
comma
dot
id|rats
op_assign
id|clocks
comma
)brace
suffix:semicolon
DECL|function|snd_cs4236_xrate
r_static
r_int
id|snd_cs4236_xrate
c_func
(paren
id|snd_pcm_runtime_t
op_star
id|runtime
)paren
(brace
r_return
id|snd_pcm_hw_constraint_ratnums
c_func
(paren
id|runtime
comma
l_int|0
comma
id|SNDRV_PCM_HW_PARAM_RATE
comma
op_amp
id|hw_constraints_clocks
)paren
suffix:semicolon
)brace
DECL|function|divisor_to_rate_register
r_static
r_int
r_char
id|divisor_to_rate_register
c_func
(paren
r_int
r_int
id|divisor
)paren
(brace
r_switch
c_cond
(paren
id|divisor
)paren
(brace
r_case
l_int|353
suffix:colon
r_return
l_int|1
suffix:semicolon
r_case
l_int|529
suffix:colon
r_return
l_int|2
suffix:semicolon
r_case
l_int|617
suffix:colon
r_return
l_int|3
suffix:semicolon
r_case
l_int|1058
suffix:colon
r_return
l_int|4
suffix:semicolon
r_case
l_int|1764
suffix:colon
r_return
l_int|5
suffix:semicolon
r_case
l_int|2117
suffix:colon
r_return
l_int|6
suffix:semicolon
r_case
l_int|2558
suffix:colon
r_return
l_int|7
suffix:semicolon
r_default
suffix:colon
id|snd_runtime_check
c_func
(paren
id|divisor
op_ge
l_int|21
op_logical_and
id|divisor
op_le
l_int|192
comma
r_return
l_int|192
)paren
suffix:semicolon
r_return
id|divisor
suffix:semicolon
)brace
)brace
DECL|function|snd_cs4236_playback_format
r_static
r_void
id|snd_cs4236_playback_format
c_func
(paren
id|cs4231_t
op_star
id|chip
comma
id|snd_pcm_hw_params_t
op_star
id|params
comma
r_int
r_char
id|pdfr
)paren
(brace
r_int
r_int
id|flags
suffix:semicolon
r_int
r_char
id|rate
op_assign
id|divisor_to_rate_register
c_func
(paren
id|params-&gt;rate_den
)paren
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|chip-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
multiline_comment|/* set fast playback format change and clean playback FIFO */
id|snd_cs4231_out
c_func
(paren
id|chip
comma
id|CS4231_ALT_FEATURE_1
comma
id|chip-&gt;image
(braket
id|CS4231_ALT_FEATURE_1
)braket
op_or
l_int|0x10
)paren
suffix:semicolon
id|snd_cs4231_out
c_func
(paren
id|chip
comma
id|CS4231_PLAYBK_FORMAT
comma
id|pdfr
op_amp
l_int|0xf0
)paren
suffix:semicolon
id|snd_cs4231_out
c_func
(paren
id|chip
comma
id|CS4231_ALT_FEATURE_1
comma
id|chip-&gt;image
(braket
id|CS4231_ALT_FEATURE_1
)braket
op_amp
op_complement
l_int|0x10
)paren
suffix:semicolon
id|snd_cs4236_ext_out
c_func
(paren
id|chip
comma
id|CS4236_DAC_RATE
comma
id|rate
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|chip-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
)brace
DECL|function|snd_cs4236_capture_format
r_static
r_void
id|snd_cs4236_capture_format
c_func
(paren
id|cs4231_t
op_star
id|chip
comma
id|snd_pcm_hw_params_t
op_star
id|params
comma
r_int
r_char
id|cdfr
)paren
(brace
r_int
r_int
id|flags
suffix:semicolon
r_int
r_char
id|rate
op_assign
id|divisor_to_rate_register
c_func
(paren
id|params-&gt;rate_den
)paren
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|chip-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
multiline_comment|/* set fast capture format change and clean capture FIFO */
id|snd_cs4231_out
c_func
(paren
id|chip
comma
id|CS4231_ALT_FEATURE_1
comma
id|chip-&gt;image
(braket
id|CS4231_ALT_FEATURE_1
)braket
op_or
l_int|0x20
)paren
suffix:semicolon
id|snd_cs4231_out
c_func
(paren
id|chip
comma
id|CS4231_REC_FORMAT
comma
id|cdfr
op_amp
l_int|0xf0
)paren
suffix:semicolon
id|snd_cs4231_out
c_func
(paren
id|chip
comma
id|CS4231_ALT_FEATURE_1
comma
id|chip-&gt;image
(braket
id|CS4231_ALT_FEATURE_1
)braket
op_amp
op_complement
l_int|0x20
)paren
suffix:semicolon
id|snd_cs4236_ext_out
c_func
(paren
id|chip
comma
id|CS4236_ADC_RATE
comma
id|rate
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|chip-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
)brace
macro_line|#ifdef CONFIG_PM
DECL|function|snd_cs4236_suspend
r_static
r_void
id|snd_cs4236_suspend
c_func
(paren
id|cs4231_t
op_star
id|chip
)paren
(brace
r_int
id|reg
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|chip-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
r_for
c_loop
(paren
id|reg
op_assign
l_int|0
suffix:semicolon
id|reg
OL
l_int|32
suffix:semicolon
id|reg
op_increment
)paren
id|chip-&gt;image
(braket
id|reg
)braket
op_assign
id|snd_cs4231_in
c_func
(paren
id|chip
comma
id|reg
)paren
suffix:semicolon
r_for
c_loop
(paren
id|reg
op_assign
l_int|0
suffix:semicolon
id|reg
OL
l_int|18
suffix:semicolon
id|reg
op_increment
)paren
id|chip-&gt;eimage
(braket
id|reg
)braket
op_assign
id|snd_cs4236_ext_in
c_func
(paren
id|chip
comma
id|CS4236_I23VAL
c_func
(paren
id|reg
)paren
)paren
suffix:semicolon
r_for
c_loop
(paren
id|reg
op_assign
l_int|2
suffix:semicolon
id|reg
OL
l_int|9
suffix:semicolon
id|reg
op_increment
)paren
id|chip-&gt;cimage
(braket
id|reg
)braket
op_assign
id|snd_cs4236_ctrl_in
c_func
(paren
id|chip
comma
id|reg
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|chip-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
)brace
DECL|function|snd_cs4236_resume
r_static
r_void
id|snd_cs4236_resume
c_func
(paren
id|cs4231_t
op_star
id|chip
)paren
(brace
r_int
id|reg
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
id|snd_cs4231_mce_up
c_func
(paren
id|chip
)paren
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|chip-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
r_for
c_loop
(paren
id|reg
op_assign
l_int|0
suffix:semicolon
id|reg
OL
l_int|32
suffix:semicolon
id|reg
op_increment
)paren
(brace
r_switch
c_cond
(paren
id|reg
)paren
(brace
r_case
id|CS4236_EXT_REG
suffix:colon
r_case
id|CS4231_VERSION
suffix:colon
r_case
l_int|27
suffix:colon
multiline_comment|/* why? CS4235 - master left */
r_case
l_int|29
suffix:colon
multiline_comment|/* why? CS4235 - master right */
r_break
suffix:semicolon
r_default
suffix:colon
id|snd_cs4231_out
c_func
(paren
id|chip
comma
id|reg
comma
id|chip-&gt;image
(braket
id|reg
)braket
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
)brace
r_for
c_loop
(paren
id|reg
op_assign
l_int|0
suffix:semicolon
id|reg
OL
l_int|18
suffix:semicolon
id|reg
op_increment
)paren
id|snd_cs4236_ext_out
c_func
(paren
id|chip
comma
id|CS4236_I23VAL
c_func
(paren
id|reg
)paren
comma
id|chip-&gt;eimage
(braket
id|reg
)braket
)paren
suffix:semicolon
r_for
c_loop
(paren
id|reg
op_assign
l_int|2
suffix:semicolon
id|reg
OL
l_int|9
suffix:semicolon
id|reg
op_increment
)paren
(brace
r_switch
c_cond
(paren
id|reg
)paren
(brace
r_case
l_int|7
suffix:colon
r_break
suffix:semicolon
r_default
suffix:colon
id|snd_cs4236_ctrl_out
c_func
(paren
id|chip
comma
id|reg
comma
id|chip-&gt;cimage
(braket
id|reg
)braket
)paren
suffix:semicolon
)brace
)brace
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|chip-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
id|snd_cs4231_mce_down
c_func
(paren
id|chip
)paren
suffix:semicolon
)brace
macro_line|#endif /* CONFIG_PM */
DECL|function|snd_cs4236_create
r_int
id|snd_cs4236_create
c_func
(paren
id|snd_card_t
op_star
id|card
comma
r_int
r_int
id|port
comma
r_int
r_int
id|cport
comma
r_int
id|irq
comma
r_int
id|dma1
comma
r_int
id|dma2
comma
r_int
r_int
id|hardware
comma
r_int
r_int
id|hwshare
comma
id|cs4231_t
op_star
op_star
id|rchip
)paren
(brace
id|cs4231_t
op_star
id|chip
suffix:semicolon
r_int
r_char
id|ver1
comma
id|ver2
suffix:semicolon
r_int
r_int
id|reg
suffix:semicolon
r_int
id|err
suffix:semicolon
op_star
id|rchip
op_assign
l_int|NULL
suffix:semicolon
r_if
c_cond
(paren
id|hardware
op_eq
id|CS4231_HW_DETECT
)paren
id|hardware
op_assign
id|CS4231_HW_DETECT3
suffix:semicolon
r_if
c_cond
(paren
id|cport
OL
l_int|0x100
)paren
(brace
id|snd_printk
c_func
(paren
l_string|&quot;please, specify control port for CS4236+ chips&bslash;n&quot;
)paren
suffix:semicolon
r_return
op_minus
id|ENODEV
suffix:semicolon
)brace
r_if
c_cond
(paren
(paren
id|err
op_assign
id|snd_cs4231_create
c_func
(paren
id|card
comma
id|port
comma
id|cport
comma
id|irq
comma
id|dma1
comma
id|dma2
comma
id|hardware
comma
id|hwshare
comma
op_amp
id|chip
)paren
)paren
OL
l_int|0
)paren
r_return
id|err
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
(paren
id|chip-&gt;hardware
op_amp
id|CS4231_HW_CS4236B_MASK
)paren
)paren
(brace
id|snd_printk
c_func
(paren
l_string|&quot;CS4236+: MODE3 and extended registers not available, hardware=0x%x&bslash;n&quot;
comma
id|chip-&gt;hardware
)paren
suffix:semicolon
id|snd_device_free
c_func
(paren
id|card
comma
id|chip
)paren
suffix:semicolon
r_return
op_minus
id|ENODEV
suffix:semicolon
)brace
macro_line|#if 0
(brace
r_int
id|idx
suffix:semicolon
r_for
c_loop
(paren
id|idx
op_assign
l_int|0
suffix:semicolon
id|idx
OL
l_int|8
suffix:semicolon
id|idx
op_increment
)paren
id|snd_printk
c_func
(paren
l_string|&quot;CD%i = 0x%x&bslash;n&quot;
comma
id|idx
comma
id|inb
c_func
(paren
id|chip-&gt;cport
op_plus
id|idx
)paren
)paren
suffix:semicolon
r_for
c_loop
(paren
id|idx
op_assign
l_int|0
suffix:semicolon
id|idx
OL
l_int|9
suffix:semicolon
id|idx
op_increment
)paren
id|snd_printk
c_func
(paren
l_string|&quot;C%i = 0x%x&bslash;n&quot;
comma
id|idx
comma
id|snd_cs4236_ctrl_in
c_func
(paren
id|chip
comma
id|idx
)paren
)paren
suffix:semicolon
)brace
macro_line|#endif
id|ver1
op_assign
id|snd_cs4236_ctrl_in
c_func
(paren
id|chip
comma
l_int|1
)paren
suffix:semicolon
id|ver2
op_assign
id|snd_cs4236_ext_in
c_func
(paren
id|chip
comma
id|CS4236_VERSION
)paren
suffix:semicolon
id|snd_printdd
c_func
(paren
l_string|&quot;CS4236: [0x%lx] C1 (version) = 0x%x, ext = 0x%x&bslash;n&quot;
comma
id|cport
comma
id|ver1
comma
id|ver2
)paren
suffix:semicolon
r_if
c_cond
(paren
id|ver1
op_ne
id|ver2
)paren
(brace
id|snd_printk
c_func
(paren
l_string|&quot;CS4236+ chip detected, but control port 0x%lx is not valid&bslash;n&quot;
comma
id|cport
)paren
suffix:semicolon
id|snd_device_free
c_func
(paren
id|card
comma
id|chip
)paren
suffix:semicolon
r_return
op_minus
id|ENODEV
suffix:semicolon
)brace
id|snd_cs4236_ctrl_out
c_func
(paren
id|chip
comma
l_int|0
comma
l_int|0x00
)paren
suffix:semicolon
id|snd_cs4236_ctrl_out
c_func
(paren
id|chip
comma
l_int|2
comma
l_int|0xff
)paren
suffix:semicolon
id|snd_cs4236_ctrl_out
c_func
(paren
id|chip
comma
l_int|3
comma
l_int|0x00
)paren
suffix:semicolon
id|snd_cs4236_ctrl_out
c_func
(paren
id|chip
comma
l_int|4
comma
l_int|0x80
)paren
suffix:semicolon
id|snd_cs4236_ctrl_out
c_func
(paren
id|chip
comma
l_int|5
comma
(paren
(paren
id|IEC958_AES1_CON_PCM_CODER
op_amp
l_int|3
)paren
op_lshift
l_int|6
)paren
op_or
id|IEC958_AES0_CON_EMPHASIS_NONE
)paren
suffix:semicolon
id|snd_cs4236_ctrl_out
c_func
(paren
id|chip
comma
l_int|6
comma
id|IEC958_AES1_CON_PCM_CODER
op_rshift
l_int|2
)paren
suffix:semicolon
id|snd_cs4236_ctrl_out
c_func
(paren
id|chip
comma
l_int|7
comma
l_int|0x00
)paren
suffix:semicolon
multiline_comment|/* 0x8c for C8 is valid for Turtle Beach Malibu - the IEC-958 output */
multiline_comment|/* is working with this setup, other hardware should have */
multiline_comment|/* different signal paths and this value should be selectable */
multiline_comment|/* in the future */
id|snd_cs4236_ctrl_out
c_func
(paren
id|chip
comma
l_int|8
comma
l_int|0x8c
)paren
suffix:semicolon
id|chip-&gt;rate_constraint
op_assign
id|snd_cs4236_xrate
suffix:semicolon
id|chip-&gt;set_playback_format
op_assign
id|snd_cs4236_playback_format
suffix:semicolon
id|chip-&gt;set_capture_format
op_assign
id|snd_cs4236_capture_format
suffix:semicolon
macro_line|#ifdef CONFIG_PM
id|chip-&gt;suspend
op_assign
id|snd_cs4236_suspend
suffix:semicolon
id|chip-&gt;resume
op_assign
id|snd_cs4236_resume
suffix:semicolon
macro_line|#endif
multiline_comment|/* initialize extended registers */
r_for
c_loop
(paren
id|reg
op_assign
l_int|0
suffix:semicolon
id|reg
OL
r_sizeof
(paren
id|snd_cs4236_ext_map
)paren
suffix:semicolon
id|reg
op_increment
)paren
id|snd_cs4236_ext_out
c_func
(paren
id|chip
comma
id|CS4236_I23VAL
c_func
(paren
id|reg
)paren
comma
id|snd_cs4236_ext_map
(braket
id|reg
)braket
)paren
suffix:semicolon
multiline_comment|/* initialize compatible but more featured registers */
id|snd_cs4231_out
c_func
(paren
id|chip
comma
id|CS4231_LEFT_INPUT
comma
l_int|0x40
)paren
suffix:semicolon
id|snd_cs4231_out
c_func
(paren
id|chip
comma
id|CS4231_RIGHT_INPUT
comma
l_int|0x40
)paren
suffix:semicolon
id|snd_cs4231_out
c_func
(paren
id|chip
comma
id|CS4231_AUX1_LEFT_INPUT
comma
l_int|0xff
)paren
suffix:semicolon
id|snd_cs4231_out
c_func
(paren
id|chip
comma
id|CS4231_AUX1_RIGHT_INPUT
comma
l_int|0xff
)paren
suffix:semicolon
id|snd_cs4231_out
c_func
(paren
id|chip
comma
id|CS4231_AUX2_LEFT_INPUT
comma
l_int|0xdf
)paren
suffix:semicolon
id|snd_cs4231_out
c_func
(paren
id|chip
comma
id|CS4231_AUX2_RIGHT_INPUT
comma
l_int|0xdf
)paren
suffix:semicolon
id|snd_cs4231_out
c_func
(paren
id|chip
comma
id|CS4231_RIGHT_LINE_IN
comma
l_int|0xff
)paren
suffix:semicolon
id|snd_cs4231_out
c_func
(paren
id|chip
comma
id|CS4231_LEFT_LINE_IN
comma
l_int|0xff
)paren
suffix:semicolon
id|snd_cs4231_out
c_func
(paren
id|chip
comma
id|CS4231_RIGHT_LINE_IN
comma
l_int|0xff
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|chip-&gt;hardware
)paren
(brace
r_case
id|CS4231_HW_CS4235
suffix:colon
r_case
id|CS4231_HW_CS4239
suffix:colon
id|snd_cs4231_out
c_func
(paren
id|chip
comma
id|CS4235_LEFT_MASTER
comma
l_int|0xff
)paren
suffix:semicolon
id|snd_cs4231_out
c_func
(paren
id|chip
comma
id|CS4235_RIGHT_MASTER
comma
l_int|0xff
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
op_star
id|rchip
op_assign
id|chip
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|snd_cs4236_pcm
r_int
id|snd_cs4236_pcm
c_func
(paren
id|cs4231_t
op_star
id|chip
comma
r_int
id|device
comma
id|snd_pcm_t
op_star
op_star
id|rpcm
)paren
(brace
id|snd_pcm_t
op_star
id|pcm
suffix:semicolon
r_int
id|err
suffix:semicolon
r_if
c_cond
(paren
(paren
id|err
op_assign
id|snd_cs4231_pcm
c_func
(paren
id|chip
comma
id|device
comma
op_amp
id|pcm
)paren
)paren
OL
l_int|0
)paren
r_return
id|err
suffix:semicolon
id|pcm-&gt;info_flags
op_and_assign
op_complement
id|SNDRV_PCM_INFO_JOINT_DUPLEX
suffix:semicolon
r_if
c_cond
(paren
id|rpcm
)paren
op_star
id|rpcm
op_assign
id|pcm
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/*&n; *  MIXER&n; */
DECL|macro|CS4236_SINGLE
mdefine_line|#define CS4236_SINGLE(xname, xindex, reg, shift, mask, invert) &bslash;&n;{ .iface = SNDRV_CTL_ELEM_IFACE_MIXER, .name = xname, .index = xindex, &bslash;&n;  .info = snd_cs4236_info_single, &bslash;&n;  .get = snd_cs4236_get_single, .put = snd_cs4236_put_single, &bslash;&n;  .private_value = reg | (shift &lt;&lt; 8) | (mask &lt;&lt; 16) | (invert &lt;&lt; 24) }
DECL|function|snd_cs4236_info_single
r_static
r_int
id|snd_cs4236_info_single
c_func
(paren
id|snd_kcontrol_t
op_star
id|kcontrol
comma
id|snd_ctl_elem_info_t
op_star
id|uinfo
)paren
(brace
r_int
id|mask
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|16
)paren
op_amp
l_int|0xff
suffix:semicolon
id|uinfo-&gt;type
op_assign
id|mask
op_eq
l_int|1
ques
c_cond
id|SNDRV_CTL_ELEM_TYPE_BOOLEAN
suffix:colon
id|SNDRV_CTL_ELEM_TYPE_INTEGER
suffix:semicolon
id|uinfo-&gt;count
op_assign
l_int|1
suffix:semicolon
id|uinfo-&gt;value.integer.min
op_assign
l_int|0
suffix:semicolon
id|uinfo-&gt;value.integer.max
op_assign
id|mask
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|snd_cs4236_get_single
r_static
r_int
id|snd_cs4236_get_single
c_func
(paren
id|snd_kcontrol_t
op_star
id|kcontrol
comma
id|snd_ctl_elem_value_t
op_star
id|ucontrol
)paren
(brace
id|cs4231_t
op_star
id|chip
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
r_int
id|reg
op_assign
id|kcontrol-&gt;private_value
op_amp
l_int|0xff
suffix:semicolon
r_int
id|shift
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|8
)paren
op_amp
l_int|0xff
suffix:semicolon
r_int
id|mask
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|16
)paren
op_amp
l_int|0xff
suffix:semicolon
r_int
id|invert
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|24
)paren
op_amp
l_int|0xff
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|chip-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
id|ucontrol-&gt;value.integer.value
(braket
l_int|0
)braket
op_assign
(paren
id|chip-&gt;eimage
(braket
id|CS4236_REG
c_func
(paren
id|reg
)paren
)braket
op_rshift
id|shift
)paren
op_amp
id|mask
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|chip-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
r_if
c_cond
(paren
id|invert
)paren
id|ucontrol-&gt;value.integer.value
(braket
l_int|0
)braket
op_assign
id|mask
op_minus
id|ucontrol-&gt;value.integer.value
(braket
l_int|0
)braket
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|snd_cs4236_put_single
r_static
r_int
id|snd_cs4236_put_single
c_func
(paren
id|snd_kcontrol_t
op_star
id|kcontrol
comma
id|snd_ctl_elem_value_t
op_star
id|ucontrol
)paren
(brace
id|cs4231_t
op_star
id|chip
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
r_int
id|reg
op_assign
id|kcontrol-&gt;private_value
op_amp
l_int|0xff
suffix:semicolon
r_int
id|shift
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|8
)paren
op_amp
l_int|0xff
suffix:semicolon
r_int
id|mask
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|16
)paren
op_amp
l_int|0xff
suffix:semicolon
r_int
id|invert
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|24
)paren
op_amp
l_int|0xff
suffix:semicolon
r_int
id|change
suffix:semicolon
r_int
r_int
id|val
suffix:semicolon
id|val
op_assign
(paren
id|ucontrol-&gt;value.integer.value
(braket
l_int|0
)braket
op_amp
id|mask
)paren
suffix:semicolon
r_if
c_cond
(paren
id|invert
)paren
id|val
op_assign
id|mask
op_minus
id|val
suffix:semicolon
id|val
op_lshift_assign
id|shift
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|chip-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
id|val
op_assign
(paren
id|chip-&gt;eimage
(braket
id|CS4236_REG
c_func
(paren
id|reg
)paren
)braket
op_amp
op_complement
(paren
id|mask
op_lshift
id|shift
)paren
)paren
op_or
id|val
suffix:semicolon
id|change
op_assign
id|val
op_ne
id|chip-&gt;eimage
(braket
id|CS4236_REG
c_func
(paren
id|reg
)paren
)braket
suffix:semicolon
id|snd_cs4236_ext_out
c_func
(paren
id|chip
comma
id|reg
comma
id|val
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|chip-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
r_return
id|change
suffix:semicolon
)brace
DECL|macro|CS4236_SINGLEC
mdefine_line|#define CS4236_SINGLEC(xname, xindex, reg, shift, mask, invert) &bslash;&n;{ .iface = SNDRV_CTL_ELEM_IFACE_MIXER, .name = xname, .index = xindex, &bslash;&n;  .info = snd_cs4236_info_single, &bslash;&n;  .get = snd_cs4236_get_singlec, .put = snd_cs4236_put_singlec, &bslash;&n;  .private_value = reg | (shift &lt;&lt; 8) | (mask &lt;&lt; 16) | (invert &lt;&lt; 24) }
DECL|function|snd_cs4236_get_singlec
r_static
r_int
id|snd_cs4236_get_singlec
c_func
(paren
id|snd_kcontrol_t
op_star
id|kcontrol
comma
id|snd_ctl_elem_value_t
op_star
id|ucontrol
)paren
(brace
id|cs4231_t
op_star
id|chip
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
r_int
id|reg
op_assign
id|kcontrol-&gt;private_value
op_amp
l_int|0xff
suffix:semicolon
r_int
id|shift
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|8
)paren
op_amp
l_int|0xff
suffix:semicolon
r_int
id|mask
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|16
)paren
op_amp
l_int|0xff
suffix:semicolon
r_int
id|invert
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|24
)paren
op_amp
l_int|0xff
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|chip-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
id|ucontrol-&gt;value.integer.value
(braket
l_int|0
)braket
op_assign
(paren
id|chip-&gt;cimage
(braket
id|reg
)braket
op_rshift
id|shift
)paren
op_amp
id|mask
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|chip-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
r_if
c_cond
(paren
id|invert
)paren
id|ucontrol-&gt;value.integer.value
(braket
l_int|0
)braket
op_assign
id|mask
op_minus
id|ucontrol-&gt;value.integer.value
(braket
l_int|0
)braket
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|snd_cs4236_put_singlec
r_static
r_int
id|snd_cs4236_put_singlec
c_func
(paren
id|snd_kcontrol_t
op_star
id|kcontrol
comma
id|snd_ctl_elem_value_t
op_star
id|ucontrol
)paren
(brace
id|cs4231_t
op_star
id|chip
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
r_int
id|reg
op_assign
id|kcontrol-&gt;private_value
op_amp
l_int|0xff
suffix:semicolon
r_int
id|shift
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|8
)paren
op_amp
l_int|0xff
suffix:semicolon
r_int
id|mask
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|16
)paren
op_amp
l_int|0xff
suffix:semicolon
r_int
id|invert
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|24
)paren
op_amp
l_int|0xff
suffix:semicolon
r_int
id|change
suffix:semicolon
r_int
r_int
id|val
suffix:semicolon
id|val
op_assign
(paren
id|ucontrol-&gt;value.integer.value
(braket
l_int|0
)braket
op_amp
id|mask
)paren
suffix:semicolon
r_if
c_cond
(paren
id|invert
)paren
id|val
op_assign
id|mask
op_minus
id|val
suffix:semicolon
id|val
op_lshift_assign
id|shift
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|chip-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
id|val
op_assign
(paren
id|chip-&gt;cimage
(braket
id|reg
)braket
op_amp
op_complement
(paren
id|mask
op_lshift
id|shift
)paren
)paren
op_or
id|val
suffix:semicolon
id|change
op_assign
id|val
op_ne
id|chip-&gt;cimage
(braket
id|reg
)braket
suffix:semicolon
id|snd_cs4236_ctrl_out
c_func
(paren
id|chip
comma
id|reg
comma
id|val
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|chip-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
r_return
id|change
suffix:semicolon
)brace
DECL|macro|CS4236_DOUBLE
mdefine_line|#define CS4236_DOUBLE(xname, xindex, left_reg, right_reg, shift_left, shift_right, mask, invert) &bslash;&n;{ .iface = SNDRV_CTL_ELEM_IFACE_MIXER, .name = xname, .index = xindex, &bslash;&n;  .info = snd_cs4236_info_double, &bslash;&n;  .get = snd_cs4236_get_double, .put = snd_cs4236_put_double, &bslash;&n;  .private_value = left_reg | (right_reg &lt;&lt; 8) | (shift_left &lt;&lt; 16) | (shift_right &lt;&lt; 19) | (mask &lt;&lt; 24) | (invert &lt;&lt; 22) }
DECL|function|snd_cs4236_info_double
r_static
r_int
id|snd_cs4236_info_double
c_func
(paren
id|snd_kcontrol_t
op_star
id|kcontrol
comma
id|snd_ctl_elem_info_t
op_star
id|uinfo
)paren
(brace
r_int
id|mask
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|24
)paren
op_amp
l_int|0xff
suffix:semicolon
id|uinfo-&gt;type
op_assign
id|mask
op_eq
l_int|1
ques
c_cond
id|SNDRV_CTL_ELEM_TYPE_BOOLEAN
suffix:colon
id|SNDRV_CTL_ELEM_TYPE_INTEGER
suffix:semicolon
id|uinfo-&gt;count
op_assign
l_int|2
suffix:semicolon
id|uinfo-&gt;value.integer.min
op_assign
l_int|0
suffix:semicolon
id|uinfo-&gt;value.integer.max
op_assign
id|mask
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|snd_cs4236_get_double
r_static
r_int
id|snd_cs4236_get_double
c_func
(paren
id|snd_kcontrol_t
op_star
id|kcontrol
comma
id|snd_ctl_elem_value_t
op_star
id|ucontrol
)paren
(brace
id|cs4231_t
op_star
id|chip
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
r_int
id|left_reg
op_assign
id|kcontrol-&gt;private_value
op_amp
l_int|0xff
suffix:semicolon
r_int
id|right_reg
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|8
)paren
op_amp
l_int|0xff
suffix:semicolon
r_int
id|shift_left
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|16
)paren
op_amp
l_int|0x07
suffix:semicolon
r_int
id|shift_right
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|19
)paren
op_amp
l_int|0x07
suffix:semicolon
r_int
id|mask
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|24
)paren
op_amp
l_int|0xff
suffix:semicolon
r_int
id|invert
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|22
)paren
op_amp
l_int|1
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|chip-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
id|ucontrol-&gt;value.integer.value
(braket
l_int|0
)braket
op_assign
(paren
id|chip-&gt;eimage
(braket
id|CS4236_REG
c_func
(paren
id|left_reg
)paren
)braket
op_rshift
id|shift_left
)paren
op_amp
id|mask
suffix:semicolon
id|ucontrol-&gt;value.integer.value
(braket
l_int|1
)braket
op_assign
(paren
id|chip-&gt;eimage
(braket
id|CS4236_REG
c_func
(paren
id|right_reg
)paren
)braket
op_rshift
id|shift_right
)paren
op_amp
id|mask
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|chip-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
r_if
c_cond
(paren
id|invert
)paren
(brace
id|ucontrol-&gt;value.integer.value
(braket
l_int|0
)braket
op_assign
id|mask
op_minus
id|ucontrol-&gt;value.integer.value
(braket
l_int|0
)braket
suffix:semicolon
id|ucontrol-&gt;value.integer.value
(braket
l_int|1
)braket
op_assign
id|mask
op_minus
id|ucontrol-&gt;value.integer.value
(braket
l_int|1
)braket
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|snd_cs4236_put_double
r_static
r_int
id|snd_cs4236_put_double
c_func
(paren
id|snd_kcontrol_t
op_star
id|kcontrol
comma
id|snd_ctl_elem_value_t
op_star
id|ucontrol
)paren
(brace
id|cs4231_t
op_star
id|chip
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
r_int
id|left_reg
op_assign
id|kcontrol-&gt;private_value
op_amp
l_int|0xff
suffix:semicolon
r_int
id|right_reg
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|8
)paren
op_amp
l_int|0xff
suffix:semicolon
r_int
id|shift_left
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|16
)paren
op_amp
l_int|0x07
suffix:semicolon
r_int
id|shift_right
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|19
)paren
op_amp
l_int|0x07
suffix:semicolon
r_int
id|mask
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|24
)paren
op_amp
l_int|0xff
suffix:semicolon
r_int
id|invert
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|22
)paren
op_amp
l_int|1
suffix:semicolon
r_int
id|change
suffix:semicolon
r_int
r_int
id|val1
comma
id|val2
suffix:semicolon
id|val1
op_assign
id|ucontrol-&gt;value.integer.value
(braket
l_int|0
)braket
op_amp
id|mask
suffix:semicolon
id|val2
op_assign
id|ucontrol-&gt;value.integer.value
(braket
l_int|1
)braket
op_amp
id|mask
suffix:semicolon
r_if
c_cond
(paren
id|invert
)paren
(brace
id|val1
op_assign
id|mask
op_minus
id|val1
suffix:semicolon
id|val2
op_assign
id|mask
op_minus
id|val2
suffix:semicolon
)brace
id|val1
op_lshift_assign
id|shift_left
suffix:semicolon
id|val2
op_lshift_assign
id|shift_right
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|chip-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
r_if
c_cond
(paren
id|left_reg
op_ne
id|right_reg
)paren
(brace
id|val1
op_assign
(paren
id|chip-&gt;eimage
(braket
id|CS4236_REG
c_func
(paren
id|left_reg
)paren
)braket
op_amp
op_complement
(paren
id|mask
op_lshift
id|shift_left
)paren
)paren
op_or
id|val1
suffix:semicolon
id|val2
op_assign
(paren
id|chip-&gt;eimage
(braket
id|CS4236_REG
c_func
(paren
id|right_reg
)paren
)braket
op_amp
op_complement
(paren
id|mask
op_lshift
id|shift_right
)paren
)paren
op_or
id|val2
suffix:semicolon
id|change
op_assign
id|val1
op_ne
id|chip-&gt;eimage
(braket
id|CS4236_REG
c_func
(paren
id|left_reg
)paren
)braket
op_logical_or
id|val2
op_ne
id|chip-&gt;eimage
(braket
id|CS4236_REG
c_func
(paren
id|right_reg
)paren
)braket
suffix:semicolon
id|snd_cs4236_ext_out
c_func
(paren
id|chip
comma
id|left_reg
comma
id|val1
)paren
suffix:semicolon
id|snd_cs4236_ext_out
c_func
(paren
id|chip
comma
id|right_reg
comma
id|val2
)paren
suffix:semicolon
)brace
r_else
(brace
id|val1
op_assign
(paren
id|chip-&gt;eimage
(braket
id|CS4236_REG
c_func
(paren
id|left_reg
)paren
)braket
op_amp
op_complement
(paren
(paren
id|mask
op_lshift
id|shift_left
)paren
op_or
(paren
id|mask
op_lshift
id|shift_right
)paren
)paren
)paren
op_or
id|val1
op_or
id|val2
suffix:semicolon
id|change
op_assign
id|val1
op_ne
id|chip-&gt;eimage
(braket
id|CS4236_REG
c_func
(paren
id|left_reg
)paren
)braket
suffix:semicolon
id|snd_cs4236_ext_out
c_func
(paren
id|chip
comma
id|left_reg
comma
id|val1
)paren
suffix:semicolon
)brace
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|chip-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
r_return
id|change
suffix:semicolon
)brace
DECL|macro|CS4236_DOUBLE1
mdefine_line|#define CS4236_DOUBLE1(xname, xindex, left_reg, right_reg, shift_left, shift_right, mask, invert) &bslash;&n;{ .iface = SNDRV_CTL_ELEM_IFACE_MIXER, .name = xname, .index = xindex, &bslash;&n;  .info = snd_cs4236_info_double, &bslash;&n;  .get = snd_cs4236_get_double1, .put = snd_cs4236_put_double1, &bslash;&n;  .private_value = left_reg | (right_reg &lt;&lt; 8) | (shift_left &lt;&lt; 16) | (shift_right &lt;&lt; 19) | (mask &lt;&lt; 24) | (invert &lt;&lt; 22) }
DECL|function|snd_cs4236_get_double1
r_static
r_int
id|snd_cs4236_get_double1
c_func
(paren
id|snd_kcontrol_t
op_star
id|kcontrol
comma
id|snd_ctl_elem_value_t
op_star
id|ucontrol
)paren
(brace
id|cs4231_t
op_star
id|chip
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
r_int
id|left_reg
op_assign
id|kcontrol-&gt;private_value
op_amp
l_int|0xff
suffix:semicolon
r_int
id|right_reg
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|8
)paren
op_amp
l_int|0xff
suffix:semicolon
r_int
id|shift_left
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|16
)paren
op_amp
l_int|0x07
suffix:semicolon
r_int
id|shift_right
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|19
)paren
op_amp
l_int|0x07
suffix:semicolon
r_int
id|mask
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|24
)paren
op_amp
l_int|0xff
suffix:semicolon
r_int
id|invert
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|22
)paren
op_amp
l_int|1
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|chip-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
id|ucontrol-&gt;value.integer.value
(braket
l_int|0
)braket
op_assign
(paren
id|chip-&gt;image
(braket
id|left_reg
)braket
op_rshift
id|shift_left
)paren
op_amp
id|mask
suffix:semicolon
id|ucontrol-&gt;value.integer.value
(braket
l_int|1
)braket
op_assign
(paren
id|chip-&gt;eimage
(braket
id|CS4236_REG
c_func
(paren
id|right_reg
)paren
)braket
op_rshift
id|shift_right
)paren
op_amp
id|mask
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|chip-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
r_if
c_cond
(paren
id|invert
)paren
(brace
id|ucontrol-&gt;value.integer.value
(braket
l_int|0
)braket
op_assign
id|mask
op_minus
id|ucontrol-&gt;value.integer.value
(braket
l_int|0
)braket
suffix:semicolon
id|ucontrol-&gt;value.integer.value
(braket
l_int|1
)braket
op_assign
id|mask
op_minus
id|ucontrol-&gt;value.integer.value
(braket
l_int|1
)braket
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|snd_cs4236_put_double1
r_static
r_int
id|snd_cs4236_put_double1
c_func
(paren
id|snd_kcontrol_t
op_star
id|kcontrol
comma
id|snd_ctl_elem_value_t
op_star
id|ucontrol
)paren
(brace
id|cs4231_t
op_star
id|chip
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
r_int
id|left_reg
op_assign
id|kcontrol-&gt;private_value
op_amp
l_int|0xff
suffix:semicolon
r_int
id|right_reg
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|8
)paren
op_amp
l_int|0xff
suffix:semicolon
r_int
id|shift_left
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|16
)paren
op_amp
l_int|0x07
suffix:semicolon
r_int
id|shift_right
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|19
)paren
op_amp
l_int|0x07
suffix:semicolon
r_int
id|mask
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|24
)paren
op_amp
l_int|0xff
suffix:semicolon
r_int
id|invert
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|22
)paren
op_amp
l_int|1
suffix:semicolon
r_int
id|change
suffix:semicolon
r_int
r_int
id|val1
comma
id|val2
suffix:semicolon
id|val1
op_assign
id|ucontrol-&gt;value.integer.value
(braket
l_int|0
)braket
op_amp
id|mask
suffix:semicolon
id|val2
op_assign
id|ucontrol-&gt;value.integer.value
(braket
l_int|1
)braket
op_amp
id|mask
suffix:semicolon
r_if
c_cond
(paren
id|invert
)paren
(brace
id|val1
op_assign
id|mask
op_minus
id|val1
suffix:semicolon
id|val2
op_assign
id|mask
op_minus
id|val2
suffix:semicolon
)brace
id|val1
op_lshift_assign
id|shift_left
suffix:semicolon
id|val2
op_lshift_assign
id|shift_right
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|chip-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
id|val1
op_assign
(paren
id|chip-&gt;image
(braket
id|left_reg
)braket
op_amp
op_complement
(paren
id|mask
op_lshift
id|shift_left
)paren
)paren
op_or
id|val1
suffix:semicolon
id|val2
op_assign
(paren
id|chip-&gt;eimage
(braket
id|CS4236_REG
c_func
(paren
id|right_reg
)paren
)braket
op_amp
op_complement
(paren
id|mask
op_lshift
id|shift_right
)paren
)paren
op_or
id|val2
suffix:semicolon
id|change
op_assign
id|val1
op_ne
id|chip-&gt;image
(braket
id|left_reg
)braket
op_logical_or
id|val2
op_ne
id|chip-&gt;eimage
(braket
id|CS4236_REG
c_func
(paren
id|right_reg
)paren
)braket
suffix:semicolon
id|snd_cs4231_out
c_func
(paren
id|chip
comma
id|left_reg
comma
id|val1
)paren
suffix:semicolon
id|snd_cs4236_ext_out
c_func
(paren
id|chip
comma
id|right_reg
comma
id|val2
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|chip-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
r_return
id|change
suffix:semicolon
)brace
DECL|macro|CS4236_MASTER_DIGITAL
mdefine_line|#define CS4236_MASTER_DIGITAL(xname, xindex) &bslash;&n;{ .iface = SNDRV_CTL_ELEM_IFACE_MIXER, .name = xname, .index = xindex, &bslash;&n;  .info = snd_cs4236_info_double, &bslash;&n;  .get = snd_cs4236_get_master_digital, .put = snd_cs4236_put_master_digital, &bslash;&n;  .private_value = 71 &lt;&lt; 24 }
DECL|function|snd_cs4236_mixer_master_digital_invert_volume
r_static
r_inline
r_int
id|snd_cs4236_mixer_master_digital_invert_volume
c_func
(paren
r_int
id|vol
)paren
(brace
r_return
(paren
id|vol
OL
l_int|64
)paren
ques
c_cond
l_int|63
op_minus
id|vol
suffix:colon
l_int|64
op_plus
(paren
l_int|71
op_minus
id|vol
)paren
suffix:semicolon
)brace
DECL|function|snd_cs4236_get_master_digital
r_static
r_int
id|snd_cs4236_get_master_digital
c_func
(paren
id|snd_kcontrol_t
op_star
id|kcontrol
comma
id|snd_ctl_elem_value_t
op_star
id|ucontrol
)paren
(brace
id|cs4231_t
op_star
id|chip
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|chip-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
id|ucontrol-&gt;value.integer.value
(braket
l_int|0
)braket
op_assign
id|snd_cs4236_mixer_master_digital_invert_volume
c_func
(paren
id|chip-&gt;eimage
(braket
id|CS4236_REG
c_func
(paren
id|CS4236_LEFT_MASTER
)paren
)braket
op_amp
l_int|0x7f
)paren
suffix:semicolon
id|ucontrol-&gt;value.integer.value
(braket
l_int|1
)braket
op_assign
id|snd_cs4236_mixer_master_digital_invert_volume
c_func
(paren
id|chip-&gt;eimage
(braket
id|CS4236_REG
c_func
(paren
id|CS4236_RIGHT_MASTER
)paren
)braket
op_amp
l_int|0x7f
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|chip-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|snd_cs4236_put_master_digital
r_static
r_int
id|snd_cs4236_put_master_digital
c_func
(paren
id|snd_kcontrol_t
op_star
id|kcontrol
comma
id|snd_ctl_elem_value_t
op_star
id|ucontrol
)paren
(brace
id|cs4231_t
op_star
id|chip
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
r_int
id|change
suffix:semicolon
r_int
r_int
id|val1
comma
id|val2
suffix:semicolon
id|val1
op_assign
id|snd_cs4236_mixer_master_digital_invert_volume
c_func
(paren
id|ucontrol-&gt;value.integer.value
(braket
l_int|0
)braket
op_amp
l_int|0x7f
)paren
suffix:semicolon
id|val2
op_assign
id|snd_cs4236_mixer_master_digital_invert_volume
c_func
(paren
id|ucontrol-&gt;value.integer.value
(braket
l_int|1
)braket
op_amp
l_int|0x7f
)paren
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|chip-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
id|val1
op_assign
(paren
id|chip-&gt;eimage
(braket
id|CS4236_REG
c_func
(paren
id|CS4236_LEFT_MASTER
)paren
)braket
op_amp
op_complement
l_int|0x7f
)paren
op_or
id|val1
suffix:semicolon
id|val2
op_assign
(paren
id|chip-&gt;eimage
(braket
id|CS4236_REG
c_func
(paren
id|CS4236_RIGHT_MASTER
)paren
)braket
op_amp
op_complement
l_int|0x7f
)paren
op_or
id|val2
suffix:semicolon
id|change
op_assign
id|val1
op_ne
id|chip-&gt;eimage
(braket
id|CS4236_REG
c_func
(paren
id|CS4236_LEFT_MASTER
)paren
)braket
op_logical_or
id|val2
op_ne
id|chip-&gt;eimage
(braket
id|CS4236_REG
c_func
(paren
id|CS4236_RIGHT_MASTER
)paren
)braket
suffix:semicolon
id|snd_cs4236_ext_out
c_func
(paren
id|chip
comma
id|CS4236_LEFT_MASTER
comma
id|val1
)paren
suffix:semicolon
id|snd_cs4236_ext_out
c_func
(paren
id|chip
comma
id|CS4236_RIGHT_MASTER
comma
id|val1
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|chip-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
r_return
id|change
suffix:semicolon
)brace
DECL|macro|CS4235_OUTPUT_ACCU
mdefine_line|#define CS4235_OUTPUT_ACCU(xname, xindex) &bslash;&n;{ .iface = SNDRV_CTL_ELEM_IFACE_MIXER, .name = xname, .index = xindex, &bslash;&n;  .info = snd_cs4236_info_double, &bslash;&n;  .get = snd_cs4235_get_output_accu, .put = snd_cs4235_put_output_accu, &bslash;&n;  .private_value = 3 &lt;&lt; 24 }
DECL|function|snd_cs4235_mixer_output_accu_get_volume
r_static
r_inline
r_int
id|snd_cs4235_mixer_output_accu_get_volume
c_func
(paren
r_int
id|vol
)paren
(brace
r_switch
c_cond
(paren
(paren
id|vol
op_rshift
l_int|5
)paren
op_amp
l_int|3
)paren
(brace
r_case
l_int|0
suffix:colon
r_return
l_int|1
suffix:semicolon
r_case
l_int|1
suffix:colon
r_return
l_int|3
suffix:semicolon
r_case
l_int|2
suffix:colon
r_return
l_int|2
suffix:semicolon
r_case
l_int|3
suffix:colon
r_return
l_int|0
suffix:semicolon
)brace
r_return
l_int|3
suffix:semicolon
)brace
DECL|function|snd_cs4235_mixer_output_accu_set_volume
r_static
r_inline
r_int
id|snd_cs4235_mixer_output_accu_set_volume
c_func
(paren
r_int
id|vol
)paren
(brace
r_switch
c_cond
(paren
id|vol
op_amp
l_int|3
)paren
(brace
r_case
l_int|0
suffix:colon
r_return
l_int|3
op_lshift
l_int|5
suffix:semicolon
r_case
l_int|1
suffix:colon
r_return
l_int|0
op_lshift
l_int|5
suffix:semicolon
r_case
l_int|2
suffix:colon
r_return
l_int|2
op_lshift
l_int|5
suffix:semicolon
r_case
l_int|3
suffix:colon
r_return
l_int|1
op_lshift
l_int|5
suffix:semicolon
)brace
r_return
l_int|1
op_lshift
l_int|5
suffix:semicolon
)brace
DECL|function|snd_cs4235_get_output_accu
r_static
r_int
id|snd_cs4235_get_output_accu
c_func
(paren
id|snd_kcontrol_t
op_star
id|kcontrol
comma
id|snd_ctl_elem_value_t
op_star
id|ucontrol
)paren
(brace
id|cs4231_t
op_star
id|chip
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|chip-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
id|ucontrol-&gt;value.integer.value
(braket
l_int|0
)braket
op_assign
id|snd_cs4235_mixer_output_accu_get_volume
c_func
(paren
id|chip-&gt;image
(braket
id|CS4235_LEFT_MASTER
)braket
)paren
suffix:semicolon
id|ucontrol-&gt;value.integer.value
(braket
l_int|1
)braket
op_assign
id|snd_cs4235_mixer_output_accu_get_volume
c_func
(paren
id|chip-&gt;image
(braket
id|CS4235_RIGHT_MASTER
)braket
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|chip-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|snd_cs4235_put_output_accu
r_static
r_int
id|snd_cs4235_put_output_accu
c_func
(paren
id|snd_kcontrol_t
op_star
id|kcontrol
comma
id|snd_ctl_elem_value_t
op_star
id|ucontrol
)paren
(brace
id|cs4231_t
op_star
id|chip
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
r_int
id|change
suffix:semicolon
r_int
r_int
id|val1
comma
id|val2
suffix:semicolon
id|val1
op_assign
id|snd_cs4235_mixer_output_accu_set_volume
c_func
(paren
id|ucontrol-&gt;value.integer.value
(braket
l_int|0
)braket
)paren
suffix:semicolon
id|val2
op_assign
id|snd_cs4235_mixer_output_accu_set_volume
c_func
(paren
id|ucontrol-&gt;value.integer.value
(braket
l_int|1
)braket
)paren
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|chip-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
id|val1
op_assign
(paren
id|chip-&gt;image
(braket
id|CS4235_LEFT_MASTER
)braket
op_amp
op_complement
(paren
l_int|3
op_lshift
l_int|5
)paren
)paren
op_or
id|val1
suffix:semicolon
id|val2
op_assign
(paren
id|chip-&gt;image
(braket
id|CS4235_RIGHT_MASTER
)braket
op_amp
op_complement
(paren
l_int|3
op_lshift
l_int|5
)paren
)paren
op_or
id|val2
suffix:semicolon
id|change
op_assign
id|val1
op_ne
id|chip-&gt;image
(braket
id|CS4235_LEFT_MASTER
)braket
op_logical_or
id|val2
op_ne
id|chip-&gt;image
(braket
id|CS4235_RIGHT_MASTER
)braket
suffix:semicolon
id|snd_cs4231_out
c_func
(paren
id|chip
comma
id|CS4235_LEFT_MASTER
comma
id|val1
)paren
suffix:semicolon
id|snd_cs4231_out
c_func
(paren
id|chip
comma
id|CS4235_RIGHT_MASTER
comma
id|val2
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|chip-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
r_return
id|change
suffix:semicolon
)brace
DECL|macro|CS4236_CONTROLS
mdefine_line|#define CS4236_CONTROLS (sizeof(snd_cs4236_controls)/sizeof(snd_kcontrol_new_t))
DECL|variable|snd_cs4236_controls
r_static
id|snd_kcontrol_new_t
id|snd_cs4236_controls
(braket
)braket
op_assign
(brace
id|CS4236_DOUBLE
c_func
(paren
l_string|&quot;Master Digital Playback Switch&quot;
comma
l_int|0
comma
id|CS4236_LEFT_MASTER
comma
id|CS4236_RIGHT_MASTER
comma
l_int|7
comma
l_int|7
comma
l_int|1
comma
l_int|1
)paren
comma
id|CS4236_DOUBLE
c_func
(paren
l_string|&quot;Master Digital Capture Switch&quot;
comma
l_int|0
comma
id|CS4236_DAC_MUTE
comma
id|CS4236_DAC_MUTE
comma
l_int|7
comma
l_int|6
comma
l_int|1
comma
l_int|1
)paren
comma
id|CS4236_MASTER_DIGITAL
c_func
(paren
l_string|&quot;Master Digital Volume&quot;
comma
l_int|0
)paren
comma
id|CS4236_DOUBLE
c_func
(paren
l_string|&quot;Capture Boost Volume&quot;
comma
l_int|0
comma
id|CS4236_LEFT_MIX_CTRL
comma
id|CS4236_RIGHT_MIX_CTRL
comma
l_int|5
comma
l_int|5
comma
l_int|3
comma
l_int|1
)paren
comma
id|CS4231_DOUBLE
c_func
(paren
l_string|&quot;PCM Playback Switch&quot;
comma
l_int|0
comma
id|CS4231_LEFT_OUTPUT
comma
id|CS4231_RIGHT_OUTPUT
comma
l_int|7
comma
l_int|7
comma
l_int|1
comma
l_int|1
)paren
comma
id|CS4231_DOUBLE
c_func
(paren
l_string|&quot;PCM Playback Volume&quot;
comma
l_int|0
comma
id|CS4231_LEFT_OUTPUT
comma
id|CS4231_RIGHT_OUTPUT
comma
l_int|0
comma
l_int|0
comma
l_int|63
comma
l_int|1
)paren
comma
id|CS4236_DOUBLE
c_func
(paren
l_string|&quot;DSP Playback Switch&quot;
comma
l_int|0
comma
id|CS4236_LEFT_DSP
comma
id|CS4236_RIGHT_DSP
comma
l_int|7
comma
l_int|7
comma
l_int|1
comma
l_int|1
)paren
comma
id|CS4236_DOUBLE
c_func
(paren
l_string|&quot;DSP Playback Volume&quot;
comma
l_int|0
comma
id|CS4236_LEFT_DSP
comma
id|CS4236_RIGHT_DSP
comma
l_int|0
comma
l_int|0
comma
l_int|63
comma
l_int|1
)paren
comma
id|CS4236_DOUBLE
c_func
(paren
l_string|&quot;FM Playback Switch&quot;
comma
l_int|0
comma
id|CS4236_LEFT_FM
comma
id|CS4236_RIGHT_FM
comma
l_int|7
comma
l_int|7
comma
l_int|1
comma
l_int|1
)paren
comma
id|CS4236_DOUBLE
c_func
(paren
l_string|&quot;FM Playback Volume&quot;
comma
l_int|0
comma
id|CS4236_LEFT_FM
comma
id|CS4236_RIGHT_FM
comma
l_int|0
comma
l_int|0
comma
l_int|63
comma
l_int|1
)paren
comma
id|CS4236_DOUBLE
c_func
(paren
l_string|&quot;Wavetable Playback Switch&quot;
comma
l_int|0
comma
id|CS4236_LEFT_WAVE
comma
id|CS4236_RIGHT_WAVE
comma
l_int|7
comma
l_int|7
comma
l_int|1
comma
l_int|1
)paren
comma
id|CS4236_DOUBLE
c_func
(paren
l_string|&quot;Wavetable Playback Volume&quot;
comma
l_int|0
comma
id|CS4236_LEFT_WAVE
comma
id|CS4236_RIGHT_WAVE
comma
l_int|0
comma
l_int|0
comma
l_int|63
comma
l_int|1
)paren
comma
id|CS4231_DOUBLE
c_func
(paren
l_string|&quot;Synth Playback Switch&quot;
comma
l_int|0
comma
id|CS4231_LEFT_LINE_IN
comma
id|CS4231_RIGHT_LINE_IN
comma
l_int|7
comma
l_int|7
comma
l_int|1
comma
l_int|1
)paren
comma
id|CS4231_DOUBLE
c_func
(paren
l_string|&quot;Synth Volume&quot;
comma
l_int|0
comma
id|CS4231_LEFT_LINE_IN
comma
id|CS4231_RIGHT_LINE_IN
comma
l_int|0
comma
l_int|0
comma
l_int|31
comma
l_int|1
)paren
comma
id|CS4231_DOUBLE
c_func
(paren
l_string|&quot;Synth Capture Switch&quot;
comma
l_int|0
comma
id|CS4231_LEFT_LINE_IN
comma
id|CS4231_RIGHT_LINE_IN
comma
l_int|6
comma
l_int|6
comma
l_int|1
comma
l_int|1
)paren
comma
id|CS4231_DOUBLE
c_func
(paren
l_string|&quot;Synth Capture Bypass&quot;
comma
l_int|0
comma
id|CS4231_LEFT_LINE_IN
comma
id|CS4231_RIGHT_LINE_IN
comma
l_int|5
comma
l_int|5
comma
l_int|1
comma
l_int|1
)paren
comma
id|CS4236_DOUBLE
c_func
(paren
l_string|&quot;Mic Playback Switch&quot;
comma
l_int|0
comma
id|CS4236_LEFT_MIC
comma
id|CS4236_RIGHT_MIC
comma
l_int|6
comma
l_int|6
comma
l_int|1
comma
l_int|1
)paren
comma
id|CS4236_DOUBLE
c_func
(paren
l_string|&quot;Mic Capture Switch&quot;
comma
l_int|0
comma
id|CS4236_LEFT_MIC
comma
id|CS4236_RIGHT_MIC
comma
l_int|7
comma
l_int|7
comma
l_int|1
comma
l_int|1
)paren
comma
id|CS4236_DOUBLE
c_func
(paren
l_string|&quot;Mic Volume&quot;
comma
l_int|0
comma
id|CS4236_LEFT_MIC
comma
id|CS4236_RIGHT_MIC
comma
l_int|0
comma
l_int|0
comma
l_int|31
comma
l_int|1
)paren
comma
id|CS4236_DOUBLE
c_func
(paren
l_string|&quot;Mic Playback Boost&quot;
comma
l_int|0
comma
id|CS4236_LEFT_MIC
comma
id|CS4236_RIGHT_MIC
comma
l_int|5
comma
l_int|5
comma
l_int|1
comma
l_int|0
)paren
comma
id|CS4231_DOUBLE
c_func
(paren
l_string|&quot;Line Playback Switch&quot;
comma
l_int|0
comma
id|CS4231_AUX1_LEFT_INPUT
comma
id|CS4231_AUX1_RIGHT_INPUT
comma
l_int|7
comma
l_int|7
comma
l_int|1
comma
l_int|1
)paren
comma
id|CS4231_DOUBLE
c_func
(paren
l_string|&quot;Line Volume&quot;
comma
l_int|0
comma
id|CS4231_AUX1_LEFT_INPUT
comma
id|CS4231_AUX1_RIGHT_INPUT
comma
l_int|0
comma
l_int|0
comma
l_int|31
comma
l_int|1
)paren
comma
id|CS4231_DOUBLE
c_func
(paren
l_string|&quot;Line Capture Switch&quot;
comma
l_int|0
comma
id|CS4231_AUX1_LEFT_INPUT
comma
id|CS4231_AUX1_RIGHT_INPUT
comma
l_int|6
comma
l_int|6
comma
l_int|1
comma
l_int|1
)paren
comma
id|CS4231_DOUBLE
c_func
(paren
l_string|&quot;Line Capture Bypass&quot;
comma
l_int|0
comma
id|CS4231_AUX1_LEFT_INPUT
comma
id|CS4231_AUX1_RIGHT_INPUT
comma
l_int|5
comma
l_int|5
comma
l_int|1
comma
l_int|1
)paren
comma
id|CS4231_DOUBLE
c_func
(paren
l_string|&quot;CD Playback Switch&quot;
comma
l_int|0
comma
id|CS4231_AUX2_LEFT_INPUT
comma
id|CS4231_AUX2_RIGHT_INPUT
comma
l_int|7
comma
l_int|7
comma
l_int|1
comma
l_int|1
)paren
comma
id|CS4231_DOUBLE
c_func
(paren
l_string|&quot;CD Volume&quot;
comma
l_int|0
comma
id|CS4231_AUX2_LEFT_INPUT
comma
id|CS4231_AUX2_RIGHT_INPUT
comma
l_int|0
comma
l_int|0
comma
l_int|31
comma
l_int|1
)paren
comma
id|CS4231_DOUBLE
c_func
(paren
l_string|&quot;CD Capture Switch&quot;
comma
l_int|0
comma
id|CS4231_AUX2_LEFT_INPUT
comma
id|CS4231_AUX2_RIGHT_INPUT
comma
l_int|6
comma
l_int|6
comma
l_int|1
comma
l_int|1
)paren
comma
id|CS4236_DOUBLE1
c_func
(paren
l_string|&quot;Mono Output Playback Switch&quot;
comma
l_int|0
comma
id|CS4231_MONO_CTRL
comma
id|CS4236_RIGHT_MIX_CTRL
comma
l_int|6
comma
l_int|7
comma
l_int|1
comma
l_int|1
)paren
comma
id|CS4236_DOUBLE1
c_func
(paren
l_string|&quot;Mono Playback Switch&quot;
comma
l_int|0
comma
id|CS4231_MONO_CTRL
comma
id|CS4236_LEFT_MIX_CTRL
comma
l_int|7
comma
l_int|7
comma
l_int|1
comma
l_int|1
)paren
comma
id|CS4231_SINGLE
c_func
(paren
l_string|&quot;Mono Playback Volume&quot;
comma
l_int|0
comma
id|CS4231_MONO_CTRL
comma
l_int|0
comma
l_int|15
comma
l_int|1
)paren
comma
id|CS4231_SINGLE
c_func
(paren
l_string|&quot;Mono Playback Bypass&quot;
comma
l_int|0
comma
id|CS4231_MONO_CTRL
comma
l_int|5
comma
l_int|1
comma
l_int|0
)paren
comma
id|CS4231_DOUBLE
c_func
(paren
l_string|&quot;Capture Volume&quot;
comma
l_int|0
comma
id|CS4231_LEFT_INPUT
comma
id|CS4231_RIGHT_INPUT
comma
l_int|0
comma
l_int|0
comma
l_int|15
comma
l_int|0
)paren
comma
id|CS4231_DOUBLE
c_func
(paren
l_string|&quot;Analog Loopback Capture Switch&quot;
comma
l_int|0
comma
id|CS4231_LEFT_INPUT
comma
id|CS4231_RIGHT_INPUT
comma
l_int|7
comma
l_int|7
comma
l_int|1
comma
l_int|0
)paren
comma
id|CS4231_SINGLE
c_func
(paren
l_string|&quot;Digital Loopback Playback Switch&quot;
comma
l_int|0
comma
id|CS4231_LOOPBACK
comma
l_int|0
comma
l_int|1
comma
l_int|0
)paren
comma
id|CS4236_DOUBLE1
c_func
(paren
l_string|&quot;Digital Loopback Playback Volume&quot;
comma
l_int|0
comma
id|CS4231_LOOPBACK
comma
id|CS4236_RIGHT_LOOPBACK
comma
l_int|2
comma
l_int|0
comma
l_int|63
comma
l_int|1
)paren
)brace
suffix:semicolon
DECL|macro|CS4235_CONTROLS
mdefine_line|#define CS4235_CONTROLS (sizeof(snd_cs4235_controls)/sizeof(snd_kcontrol_new_t))
DECL|variable|snd_cs4235_controls
r_static
id|snd_kcontrol_new_t
id|snd_cs4235_controls
(braket
)braket
op_assign
(brace
id|CS4231_DOUBLE
c_func
(paren
l_string|&quot;Master Switch&quot;
comma
l_int|0
comma
id|CS4235_LEFT_MASTER
comma
id|CS4235_RIGHT_MASTER
comma
l_int|7
comma
l_int|7
comma
l_int|1
comma
l_int|1
)paren
comma
id|CS4231_DOUBLE
c_func
(paren
l_string|&quot;Master Volume&quot;
comma
l_int|0
comma
id|CS4235_LEFT_MASTER
comma
id|CS4235_RIGHT_MASTER
comma
l_int|0
comma
l_int|0
comma
l_int|31
comma
l_int|1
)paren
comma
id|CS4235_OUTPUT_ACCU
c_func
(paren
l_string|&quot;Playback Volume&quot;
comma
l_int|0
)paren
comma
id|CS4236_DOUBLE
c_func
(paren
l_string|&quot;Master Digital Playback Switch&quot;
comma
l_int|0
comma
id|CS4236_LEFT_MASTER
comma
id|CS4236_RIGHT_MASTER
comma
l_int|7
comma
l_int|7
comma
l_int|1
comma
l_int|1
)paren
comma
id|CS4236_DOUBLE
c_func
(paren
l_string|&quot;Master Digital Capture Switch&quot;
comma
l_int|0
comma
id|CS4236_DAC_MUTE
comma
id|CS4236_DAC_MUTE
comma
l_int|7
comma
l_int|6
comma
l_int|1
comma
l_int|1
)paren
comma
id|CS4236_MASTER_DIGITAL
c_func
(paren
l_string|&quot;Master Digital Volume&quot;
comma
l_int|0
)paren
comma
id|CS4231_DOUBLE
c_func
(paren
l_string|&quot;Master Digital Playback Switch&quot;
comma
l_int|1
comma
id|CS4231_LEFT_LINE_IN
comma
id|CS4231_RIGHT_LINE_IN
comma
l_int|7
comma
l_int|7
comma
l_int|1
comma
l_int|1
)paren
comma
id|CS4231_DOUBLE
c_func
(paren
l_string|&quot;Master Digital Capture Switch&quot;
comma
l_int|1
comma
id|CS4231_LEFT_LINE_IN
comma
id|CS4231_RIGHT_LINE_IN
comma
l_int|6
comma
l_int|6
comma
l_int|1
comma
l_int|1
)paren
comma
id|CS4231_DOUBLE
c_func
(paren
l_string|&quot;Master Digital Volume&quot;
comma
l_int|1
comma
id|CS4231_LEFT_LINE_IN
comma
id|CS4231_RIGHT_LINE_IN
comma
l_int|0
comma
l_int|0
comma
l_int|31
comma
l_int|1
)paren
comma
id|CS4236_DOUBLE
c_func
(paren
l_string|&quot;Capture Volume&quot;
comma
l_int|0
comma
id|CS4236_LEFT_MIX_CTRL
comma
id|CS4236_RIGHT_MIX_CTRL
comma
l_int|5
comma
l_int|5
comma
l_int|3
comma
l_int|1
)paren
comma
id|CS4231_DOUBLE
c_func
(paren
l_string|&quot;PCM Switch&quot;
comma
l_int|0
comma
id|CS4231_LEFT_OUTPUT
comma
id|CS4231_RIGHT_OUTPUT
comma
l_int|7
comma
l_int|7
comma
l_int|1
comma
l_int|1
)paren
comma
id|CS4231_DOUBLE
c_func
(paren
l_string|&quot;PCM Volume&quot;
comma
l_int|0
comma
id|CS4231_LEFT_OUTPUT
comma
id|CS4231_RIGHT_OUTPUT
comma
l_int|0
comma
l_int|0
comma
l_int|63
comma
l_int|1
)paren
comma
id|CS4236_DOUBLE
c_func
(paren
l_string|&quot;DSP Switch&quot;
comma
l_int|0
comma
id|CS4236_LEFT_DSP
comma
id|CS4236_RIGHT_DSP
comma
l_int|7
comma
l_int|7
comma
l_int|1
comma
l_int|1
)paren
comma
id|CS4236_DOUBLE
c_func
(paren
l_string|&quot;FM Switch&quot;
comma
l_int|0
comma
id|CS4236_LEFT_FM
comma
id|CS4236_RIGHT_FM
comma
l_int|7
comma
l_int|7
comma
l_int|1
comma
l_int|1
)paren
comma
id|CS4236_DOUBLE
c_func
(paren
l_string|&quot;Wavetable Switch&quot;
comma
l_int|0
comma
id|CS4236_LEFT_WAVE
comma
id|CS4236_RIGHT_WAVE
comma
l_int|7
comma
l_int|7
comma
l_int|1
comma
l_int|1
)paren
comma
id|CS4236_DOUBLE
c_func
(paren
l_string|&quot;Mic Capture Switch&quot;
comma
l_int|0
comma
id|CS4236_LEFT_MIC
comma
id|CS4236_RIGHT_MIC
comma
l_int|7
comma
l_int|7
comma
l_int|1
comma
l_int|1
)paren
comma
id|CS4236_DOUBLE
c_func
(paren
l_string|&quot;Mic Playback Switch&quot;
comma
l_int|0
comma
id|CS4236_LEFT_MIC
comma
id|CS4236_RIGHT_MIC
comma
l_int|6
comma
l_int|6
comma
l_int|1
comma
l_int|1
)paren
comma
id|CS4236_SINGLE
c_func
(paren
l_string|&quot;Mic Volume&quot;
comma
l_int|0
comma
id|CS4236_LEFT_MIC
comma
l_int|0
comma
l_int|31
comma
l_int|1
)paren
comma
id|CS4236_SINGLE
c_func
(paren
l_string|&quot;Mic Playback Boost&quot;
comma
l_int|0
comma
id|CS4236_LEFT_MIC
comma
l_int|5
comma
l_int|1
comma
l_int|0
)paren
comma
id|CS4231_DOUBLE
c_func
(paren
l_string|&quot;Aux Playback Switch&quot;
comma
l_int|0
comma
id|CS4231_AUX1_LEFT_INPUT
comma
id|CS4231_AUX1_RIGHT_INPUT
comma
l_int|7
comma
l_int|7
comma
l_int|1
comma
l_int|1
)paren
comma
id|CS4231_DOUBLE
c_func
(paren
l_string|&quot;Aux Capture Switch&quot;
comma
l_int|0
comma
id|CS4231_AUX1_LEFT_INPUT
comma
id|CS4231_AUX1_RIGHT_INPUT
comma
l_int|6
comma
l_int|6
comma
l_int|1
comma
l_int|1
)paren
comma
id|CS4231_DOUBLE
c_func
(paren
l_string|&quot;Aux Volume&quot;
comma
l_int|0
comma
id|CS4231_AUX1_LEFT_INPUT
comma
id|CS4231_AUX1_RIGHT_INPUT
comma
l_int|0
comma
l_int|0
comma
l_int|31
comma
l_int|1
)paren
comma
id|CS4231_DOUBLE
c_func
(paren
l_string|&quot;Aux Playback Switch&quot;
comma
l_int|1
comma
id|CS4231_AUX2_LEFT_INPUT
comma
id|CS4231_AUX2_RIGHT_INPUT
comma
l_int|7
comma
l_int|7
comma
l_int|1
comma
l_int|1
)paren
comma
id|CS4231_DOUBLE
c_func
(paren
l_string|&quot;Aux Capture Switch&quot;
comma
l_int|1
comma
id|CS4231_AUX2_LEFT_INPUT
comma
id|CS4231_AUX2_RIGHT_INPUT
comma
l_int|6
comma
l_int|6
comma
l_int|1
comma
l_int|1
)paren
comma
id|CS4231_DOUBLE
c_func
(paren
l_string|&quot;Aux Volume&quot;
comma
l_int|1
comma
id|CS4231_AUX2_LEFT_INPUT
comma
id|CS4231_AUX2_RIGHT_INPUT
comma
l_int|0
comma
l_int|0
comma
l_int|31
comma
l_int|1
)paren
comma
id|CS4236_DOUBLE1
c_func
(paren
l_string|&quot;Master Mono Switch&quot;
comma
l_int|0
comma
id|CS4231_MONO_CTRL
comma
id|CS4236_RIGHT_MIX_CTRL
comma
l_int|6
comma
l_int|7
comma
l_int|1
comma
l_int|1
)paren
comma
id|CS4236_DOUBLE1
c_func
(paren
l_string|&quot;Mono Switch&quot;
comma
l_int|0
comma
id|CS4231_MONO_CTRL
comma
id|CS4236_LEFT_MIX_CTRL
comma
l_int|7
comma
l_int|7
comma
l_int|1
comma
l_int|1
)paren
comma
id|CS4231_SINGLE
c_func
(paren
l_string|&quot;Mono Volume&quot;
comma
l_int|0
comma
id|CS4231_MONO_CTRL
comma
l_int|0
comma
l_int|15
comma
l_int|1
)paren
comma
id|CS4231_DOUBLE
c_func
(paren
l_string|&quot;Analog Loopback Switch&quot;
comma
l_int|0
comma
id|CS4231_LEFT_INPUT
comma
id|CS4231_RIGHT_INPUT
comma
l_int|7
comma
l_int|7
comma
l_int|1
comma
l_int|0
)paren
comma
)brace
suffix:semicolon
DECL|macro|CS4236_IEC958_ENABLE
mdefine_line|#define CS4236_IEC958_ENABLE(xname, xindex) &bslash;&n;{ .iface = SNDRV_CTL_ELEM_IFACE_MIXER, .name = xname, .index = xindex, &bslash;&n;  .info = snd_cs4236_info_single, &bslash;&n;  .get = snd_cs4236_get_iec958_switch, .put = snd_cs4236_put_iec958_switch, &bslash;&n;  .private_value = 1 &lt;&lt; 16 }
DECL|function|snd_cs4236_get_iec958_switch
r_static
r_int
id|snd_cs4236_get_iec958_switch
c_func
(paren
id|snd_kcontrol_t
op_star
id|kcontrol
comma
id|snd_ctl_elem_value_t
op_star
id|ucontrol
)paren
(brace
id|cs4231_t
op_star
id|chip
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|chip-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
id|ucontrol-&gt;value.integer.value
(braket
l_int|0
)braket
op_assign
id|chip-&gt;image
(braket
id|CS4231_ALT_FEATURE_1
)braket
op_amp
l_int|0x02
ques
c_cond
l_int|1
suffix:colon
l_int|0
suffix:semicolon
macro_line|#if 0
id|printk
c_func
(paren
l_string|&quot;get valid: ALT = 0x%x, C3 = 0x%x, C4 = 0x%x, C5 = 0x%x, C6 = 0x%x, C8 = 0x%x&bslash;n&quot;
comma
id|snd_cs4231_in
c_func
(paren
id|chip
comma
id|CS4231_ALT_FEATURE_1
)paren
comma
id|snd_cs4236_ctrl_in
c_func
(paren
id|chip
comma
l_int|3
)paren
comma
id|snd_cs4236_ctrl_in
c_func
(paren
id|chip
comma
l_int|4
)paren
comma
id|snd_cs4236_ctrl_in
c_func
(paren
id|chip
comma
l_int|5
)paren
comma
id|snd_cs4236_ctrl_in
c_func
(paren
id|chip
comma
l_int|6
)paren
comma
id|snd_cs4236_ctrl_in
c_func
(paren
id|chip
comma
l_int|8
)paren
)paren
suffix:semicolon
macro_line|#endif
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|chip-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|snd_cs4236_put_iec958_switch
r_static
r_int
id|snd_cs4236_put_iec958_switch
c_func
(paren
id|snd_kcontrol_t
op_star
id|kcontrol
comma
id|snd_ctl_elem_value_t
op_star
id|ucontrol
)paren
(brace
id|cs4231_t
op_star
id|chip
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
r_int
id|change
suffix:semicolon
r_int
r_int
id|enable
comma
id|val
suffix:semicolon
id|enable
op_assign
id|ucontrol-&gt;value.integer.value
(braket
l_int|0
)braket
op_amp
l_int|1
suffix:semicolon
id|down
c_func
(paren
op_amp
id|chip-&gt;mce_mutex
)paren
suffix:semicolon
id|snd_cs4231_mce_up
c_func
(paren
id|chip
)paren
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|chip-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
id|val
op_assign
(paren
id|chip-&gt;image
(braket
id|CS4231_ALT_FEATURE_1
)braket
op_amp
op_complement
l_int|0x0e
)paren
op_or
(paren
l_int|0
op_lshift
l_int|2
)paren
op_or
(paren
id|enable
op_lshift
l_int|1
)paren
suffix:semicolon
id|change
op_assign
id|val
op_ne
id|chip-&gt;image
(braket
id|CS4231_ALT_FEATURE_1
)braket
suffix:semicolon
id|snd_cs4231_out
c_func
(paren
id|chip
comma
id|CS4231_ALT_FEATURE_1
comma
id|val
)paren
suffix:semicolon
id|val
op_assign
id|snd_cs4236_ctrl_in
c_func
(paren
id|chip
comma
l_int|4
)paren
op_or
l_int|0xc0
suffix:semicolon
id|snd_cs4236_ctrl_out
c_func
(paren
id|chip
comma
l_int|4
comma
id|val
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|100
)paren
suffix:semicolon
id|val
op_and_assign
op_complement
l_int|0x40
suffix:semicolon
id|snd_cs4236_ctrl_out
c_func
(paren
id|chip
comma
l_int|4
comma
id|val
)paren
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|chip-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
id|snd_cs4231_mce_down
c_func
(paren
id|chip
)paren
suffix:semicolon
id|up
c_func
(paren
op_amp
id|chip-&gt;mce_mutex
)paren
suffix:semicolon
macro_line|#if 0
id|printk
c_func
(paren
l_string|&quot;set valid: ALT = 0x%x, C3 = 0x%x, C4 = 0x%x, C5 = 0x%x, C6 = 0x%x, C8 = 0x%x&bslash;n&quot;
comma
id|snd_cs4231_in
c_func
(paren
id|chip
comma
id|CS4231_ALT_FEATURE_1
)paren
comma
id|snd_cs4236_ctrl_in
c_func
(paren
id|chip
comma
l_int|3
)paren
comma
id|snd_cs4236_ctrl_in
c_func
(paren
id|chip
comma
l_int|4
)paren
comma
id|snd_cs4236_ctrl_in
c_func
(paren
id|chip
comma
l_int|5
)paren
comma
id|snd_cs4236_ctrl_in
c_func
(paren
id|chip
comma
l_int|6
)paren
comma
id|snd_cs4236_ctrl_in
c_func
(paren
id|chip
comma
l_int|8
)paren
)paren
suffix:semicolon
macro_line|#endif
r_return
id|change
suffix:semicolon
)brace
DECL|macro|CS4236_IEC958_CONTROLS
mdefine_line|#define CS4236_IEC958_CONTROLS (sizeof(snd_cs4236_iec958_controls)/sizeof(snd_kcontrol_new_t))
DECL|variable|snd_cs4236_iec958_controls
r_static
id|snd_kcontrol_new_t
id|snd_cs4236_iec958_controls
(braket
)braket
op_assign
(brace
id|CS4236_IEC958_ENABLE
c_func
(paren
l_string|&quot;IEC958 Output Enable&quot;
comma
l_int|0
)paren
comma
id|CS4236_SINGLEC
c_func
(paren
l_string|&quot;IEC958 Output Validity&quot;
comma
l_int|0
comma
l_int|4
comma
l_int|4
comma
l_int|1
comma
l_int|0
)paren
comma
id|CS4236_SINGLEC
c_func
(paren
l_string|&quot;IEC958 Output User&quot;
comma
l_int|0
comma
l_int|4
comma
l_int|5
comma
l_int|1
comma
l_int|0
)paren
comma
id|CS4236_SINGLEC
c_func
(paren
l_string|&quot;IEC958 Output CSBR&quot;
comma
l_int|0
comma
l_int|4
comma
l_int|6
comma
l_int|1
comma
l_int|0
)paren
comma
id|CS4236_SINGLEC
c_func
(paren
l_string|&quot;IEC958 Output Channel Status Low&quot;
comma
l_int|0
comma
l_int|5
comma
l_int|1
comma
l_int|127
comma
l_int|0
)paren
comma
id|CS4236_SINGLEC
c_func
(paren
l_string|&quot;IEC958 Output Channel Status High&quot;
comma
l_int|0
comma
l_int|6
comma
l_int|0
comma
l_int|255
comma
l_int|0
)paren
)brace
suffix:semicolon
DECL|macro|CS4236_3D_CONTROLS_CS4235
mdefine_line|#define CS4236_3D_CONTROLS_CS4235 (sizeof(snd_cs4236_3d_controls_cs4235)/sizeof(snd_kcontrol_new_t))
DECL|variable|snd_cs4236_3d_controls_cs4235
r_static
id|snd_kcontrol_new_t
id|snd_cs4236_3d_controls_cs4235
(braket
)braket
op_assign
(brace
id|CS4236_SINGLEC
c_func
(paren
l_string|&quot;3D Control - Switch&quot;
comma
l_int|0
comma
l_int|3
comma
l_int|4
comma
l_int|1
comma
l_int|0
)paren
comma
id|CS4236_SINGLEC
c_func
(paren
l_string|&quot;3D Control - Space&quot;
comma
l_int|0
comma
l_int|2
comma
l_int|4
comma
l_int|15
comma
l_int|1
)paren
)brace
suffix:semicolon
DECL|macro|CS4236_3D_CONTROLS_CS4237
mdefine_line|#define CS4236_3D_CONTROLS_CS4237 (sizeof(snd_cs4236_3d_controls_cs4237)/sizeof(snd_kcontrol_new_t))
DECL|variable|snd_cs4236_3d_controls_cs4237
r_static
id|snd_kcontrol_new_t
id|snd_cs4236_3d_controls_cs4237
(braket
)braket
op_assign
(brace
id|CS4236_SINGLEC
c_func
(paren
l_string|&quot;3D Control - Switch&quot;
comma
l_int|0
comma
l_int|3
comma
l_int|7
comma
l_int|1
comma
l_int|0
)paren
comma
id|CS4236_SINGLEC
c_func
(paren
l_string|&quot;3D Control - Space&quot;
comma
l_int|0
comma
l_int|2
comma
l_int|4
comma
l_int|15
comma
l_int|1
)paren
comma
id|CS4236_SINGLEC
c_func
(paren
l_string|&quot;3D Control - Center&quot;
comma
l_int|0
comma
l_int|2
comma
l_int|0
comma
l_int|15
comma
l_int|1
)paren
comma
id|CS4236_SINGLEC
c_func
(paren
l_string|&quot;3D Control - Mono&quot;
comma
l_int|0
comma
l_int|3
comma
l_int|6
comma
l_int|1
comma
l_int|0
)paren
comma
id|CS4236_SINGLEC
c_func
(paren
l_string|&quot;3D Control - IEC958&quot;
comma
l_int|0
comma
l_int|3
comma
l_int|5
comma
l_int|1
comma
l_int|0
)paren
)brace
suffix:semicolon
DECL|macro|CS4236_3D_CONTROLS_CS4238
mdefine_line|#define CS4236_3D_CONTROLS_CS4238 (sizeof(snd_cs4236_3d_controls_cs4238)/sizeof(snd_kcontrol_new_t))
DECL|variable|snd_cs4236_3d_controls_cs4238
r_static
id|snd_kcontrol_new_t
id|snd_cs4236_3d_controls_cs4238
(braket
)braket
op_assign
(brace
id|CS4236_SINGLEC
c_func
(paren
l_string|&quot;3D Control - Switch&quot;
comma
l_int|0
comma
l_int|3
comma
l_int|4
comma
l_int|1
comma
l_int|0
)paren
comma
id|CS4236_SINGLEC
c_func
(paren
l_string|&quot;3D Control - Space&quot;
comma
l_int|0
comma
l_int|2
comma
l_int|4
comma
l_int|15
comma
l_int|1
)paren
comma
id|CS4236_SINGLEC
c_func
(paren
l_string|&quot;3D Control - Volume&quot;
comma
l_int|0
comma
l_int|2
comma
l_int|0
comma
l_int|15
comma
l_int|1
)paren
comma
id|CS4236_SINGLEC
c_func
(paren
l_string|&quot;3D Control - IEC958&quot;
comma
l_int|0
comma
l_int|3
comma
l_int|5
comma
l_int|1
comma
l_int|0
)paren
)brace
suffix:semicolon
DECL|function|snd_cs4236_mixer
r_int
id|snd_cs4236_mixer
c_func
(paren
id|cs4231_t
op_star
id|chip
)paren
(brace
id|snd_card_t
op_star
id|card
suffix:semicolon
r_int
r_int
id|idx
comma
id|count
suffix:semicolon
r_int
id|err
suffix:semicolon
id|snd_kcontrol_new_t
op_star
id|kcontrol
suffix:semicolon
id|snd_assert
c_func
(paren
id|chip
op_ne
l_int|NULL
op_logical_and
id|chip-&gt;card
op_ne
l_int|NULL
comma
r_return
op_minus
id|EINVAL
)paren
suffix:semicolon
id|card
op_assign
id|chip-&gt;card
suffix:semicolon
id|strcpy
c_func
(paren
id|card-&gt;mixername
comma
id|snd_cs4231_chip_id
c_func
(paren
id|chip
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|chip-&gt;hardware
op_eq
id|CS4231_HW_CS4235
op_logical_or
id|chip-&gt;hardware
op_eq
id|CS4231_HW_CS4239
)paren
(brace
r_for
c_loop
(paren
id|idx
op_assign
l_int|0
suffix:semicolon
id|idx
OL
id|CS4235_CONTROLS
suffix:semicolon
id|idx
op_increment
)paren
(brace
r_if
c_cond
(paren
(paren
id|err
op_assign
id|snd_ctl_add
c_func
(paren
id|card
comma
id|snd_ctl_new1
c_func
(paren
op_amp
id|snd_cs4235_controls
(braket
id|idx
)braket
comma
id|chip
)paren
)paren
)paren
OL
l_int|0
)paren
r_return
id|err
suffix:semicolon
)brace
)brace
r_else
(brace
r_for
c_loop
(paren
id|idx
op_assign
l_int|0
suffix:semicolon
id|idx
OL
id|CS4236_CONTROLS
suffix:semicolon
id|idx
op_increment
)paren
(brace
r_if
c_cond
(paren
(paren
id|err
op_assign
id|snd_ctl_add
c_func
(paren
id|card
comma
id|snd_ctl_new1
c_func
(paren
op_amp
id|snd_cs4236_controls
(braket
id|idx
)braket
comma
id|chip
)paren
)paren
)paren
OL
l_int|0
)paren
r_return
id|err
suffix:semicolon
)brace
)brace
r_switch
c_cond
(paren
id|chip-&gt;hardware
)paren
(brace
r_case
id|CS4231_HW_CS4235
suffix:colon
r_case
id|CS4231_HW_CS4239
suffix:colon
id|count
op_assign
id|CS4236_3D_CONTROLS_CS4235
suffix:semicolon
id|kcontrol
op_assign
id|snd_cs4236_3d_controls_cs4235
suffix:semicolon
r_break
suffix:semicolon
r_case
id|CS4231_HW_CS4237B
suffix:colon
id|count
op_assign
id|CS4236_3D_CONTROLS_CS4237
suffix:semicolon
id|kcontrol
op_assign
id|snd_cs4236_3d_controls_cs4237
suffix:semicolon
r_break
suffix:semicolon
r_case
id|CS4231_HW_CS4238B
suffix:colon
id|count
op_assign
id|CS4236_3D_CONTROLS_CS4238
suffix:semicolon
id|kcontrol
op_assign
id|snd_cs4236_3d_controls_cs4238
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
id|count
op_assign
l_int|0
suffix:semicolon
id|kcontrol
op_assign
l_int|NULL
suffix:semicolon
)brace
r_for
c_loop
(paren
id|idx
op_assign
l_int|0
suffix:semicolon
id|idx
OL
id|count
suffix:semicolon
id|idx
op_increment
comma
id|kcontrol
op_increment
)paren
(brace
r_if
c_cond
(paren
(paren
id|err
op_assign
id|snd_ctl_add
c_func
(paren
id|card
comma
id|snd_ctl_new1
c_func
(paren
id|kcontrol
comma
id|chip
)paren
)paren
)paren
OL
l_int|0
)paren
r_return
id|err
suffix:semicolon
)brace
r_if
c_cond
(paren
id|chip-&gt;hardware
op_eq
id|CS4231_HW_CS4237B
op_logical_or
id|chip-&gt;hardware
op_eq
id|CS4231_HW_CS4238B
)paren
(brace
r_for
c_loop
(paren
id|idx
op_assign
l_int|0
suffix:semicolon
id|idx
OL
id|CS4236_IEC958_CONTROLS
suffix:semicolon
id|idx
op_increment
)paren
(brace
r_if
c_cond
(paren
(paren
id|err
op_assign
id|snd_ctl_add
c_func
(paren
id|card
comma
id|snd_ctl_new1
c_func
(paren
op_amp
id|snd_cs4236_iec958_controls
(braket
id|idx
)braket
comma
id|chip
)paren
)paren
)paren
OL
l_int|0
)paren
r_return
id|err
suffix:semicolon
)brace
)brace
r_return
l_int|0
suffix:semicolon
)brace
DECL|variable|snd_cs4236_create
id|EXPORT_SYMBOL
c_func
(paren
id|snd_cs4236_create
)paren
suffix:semicolon
DECL|variable|snd_cs4236_pcm
id|EXPORT_SYMBOL
c_func
(paren
id|snd_cs4236_pcm
)paren
suffix:semicolon
DECL|variable|snd_cs4236_mixer
id|EXPORT_SYMBOL
c_func
(paren
id|snd_cs4236_mixer
)paren
suffix:semicolon
multiline_comment|/*&n; *  INIT part&n; */
DECL|function|alsa_cs4236_init
r_static
r_int
id|__init
id|alsa_cs4236_init
c_func
(paren
r_void
)paren
(brace
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|alsa_cs4236_exit
r_static
r_void
id|__exit
id|alsa_cs4236_exit
c_func
(paren
r_void
)paren
(brace
)brace
id|module_init
c_func
(paren
id|alsa_cs4236_init
)paren
id|module_exit
c_func
(paren
id|alsa_cs4236_exit
)paren
eof
