multiline_comment|/*&n; * Driver for Digigram VX soundcards&n; *&n; * DSP commands&n; *&n; * Copyright (c) 2002 by Takashi Iwai &lt;tiwai@suse.de&gt;&n; *&n; *   This program is free software; you can redistribute it and/or modify&n; *   it under the terms of the GNU General Public License as published by&n; *   the Free Software Foundation; either version 2 of the License, or&n; *   (at your option) any later version.&n; *&n; *   This program is distributed in the hope that it will be useful,&n; *   but WITHOUT ANY WARRANTY; without even the implied warranty of&n; *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the&n; *   GNU General Public License for more details.&n; *&n; *   You should have received a copy of the GNU General Public License&n; *   along with this program; if not, write to the Free Software&n; *   Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA&n; */
macro_line|#include &lt;sound/driver.h&gt;
macro_line|#include &lt;sound/core.h&gt;
macro_line|#include &lt;sound/pcm.h&gt;
macro_line|#include &lt;sound/vx_core.h&gt;
macro_line|#include &quot;vx_cmd.h&quot;
multiline_comment|/*&n; * Array of DSP commands&n; */
DECL|variable|vx_dsp_cmds
r_static
r_struct
id|vx_cmd_info
id|vx_dsp_cmds
(braket
)braket
op_assign
(brace
(braket
id|CMD_VERSION
)braket
op_assign
(brace
l_int|0x010000
comma
l_int|2
comma
id|RMH_SSIZE_FIXED
comma
l_int|1
)brace
comma
(braket
id|CMD_SUPPORTED
)braket
op_assign
(brace
l_int|0x020000
comma
l_int|1
comma
id|RMH_SSIZE_FIXED
comma
l_int|2
)brace
comma
(braket
id|CMD_TEST_IT
)braket
op_assign
(brace
l_int|0x040000
comma
l_int|1
comma
id|RMH_SSIZE_FIXED
comma
l_int|1
)brace
comma
(braket
id|CMD_SEND_IRQA
)braket
op_assign
(brace
l_int|0x070001
comma
l_int|1
comma
id|RMH_SSIZE_FIXED
comma
l_int|0
)brace
comma
(braket
id|CMD_IBL
)braket
op_assign
(brace
l_int|0x080000
comma
l_int|1
comma
id|RMH_SSIZE_FIXED
comma
l_int|4
)brace
comma
(braket
id|CMD_ASYNC
)braket
op_assign
(brace
l_int|0x0A0000
comma
l_int|1
comma
id|RMH_SSIZE_ARG
comma
l_int|0
)brace
comma
(braket
id|CMD_RES_PIPE
)braket
op_assign
(brace
l_int|0x400000
comma
l_int|1
comma
id|RMH_SSIZE_FIXED
comma
l_int|0
)brace
comma
(braket
id|CMD_FREE_PIPE
)braket
op_assign
(brace
l_int|0x410000
comma
l_int|1
comma
id|RMH_SSIZE_FIXED
comma
l_int|0
)brace
comma
(braket
id|CMD_CONF_PIPE
)braket
op_assign
(brace
l_int|0x42A101
comma
l_int|2
comma
id|RMH_SSIZE_FIXED
comma
l_int|0
)brace
comma
(braket
id|CMD_ABORT_CONF_PIPE
)braket
op_assign
(brace
l_int|0x42A100
comma
l_int|2
comma
id|RMH_SSIZE_FIXED
comma
l_int|0
)brace
comma
(braket
id|CMD_PARAM_OUTPUT_PIPE
)braket
op_assign
(brace
l_int|0x43A000
comma
l_int|2
comma
id|RMH_SSIZE_FIXED
comma
l_int|0
)brace
comma
(braket
id|CMD_STOP_PIPE
)braket
op_assign
(brace
l_int|0x470004
comma
l_int|1
comma
id|RMH_SSIZE_FIXED
comma
l_int|0
)brace
comma
(braket
id|CMD_PIPE_STATE
)braket
op_assign
(brace
l_int|0x480000
comma
l_int|1
comma
id|RMH_SSIZE_FIXED
comma
l_int|1
)brace
comma
(braket
id|CMD_PIPE_SPL_COUNT
)braket
op_assign
(brace
l_int|0x49A000
comma
l_int|2
comma
id|RMH_SSIZE_FIXED
comma
l_int|2
)brace
comma
(braket
id|CMD_CAN_START_PIPE
)braket
op_assign
(brace
l_int|0x4b0000
comma
l_int|1
comma
id|RMH_SSIZE_FIXED
comma
l_int|1
)brace
comma
(braket
id|CMD_SIZE_HBUFFER
)braket
op_assign
(brace
l_int|0x4C0000
comma
l_int|1
comma
id|RMH_SSIZE_FIXED
comma
l_int|1
)brace
comma
(braket
id|CMD_START_STREAM
)braket
op_assign
(brace
l_int|0x80A000
comma
l_int|2
comma
id|RMH_SSIZE_FIXED
comma
l_int|0
)brace
comma
(braket
id|CMD_START_ONE_STREAM
)braket
op_assign
(brace
l_int|0x800000
comma
l_int|1
comma
id|RMH_SSIZE_FIXED
comma
l_int|0
)brace
comma
(braket
id|CMD_PAUSE_STREAM
)braket
op_assign
(brace
l_int|0x81A000
comma
l_int|2
comma
id|RMH_SSIZE_FIXED
comma
l_int|0
)brace
comma
(braket
id|CMD_PAUSE_ONE_STREAM
)braket
op_assign
(brace
l_int|0x810000
comma
l_int|1
comma
id|RMH_SSIZE_FIXED
comma
l_int|0
)brace
comma
(braket
id|CMD_STREAM_OUT_LEVEL_ADJUST
)braket
op_assign
(brace
l_int|0x828000
comma
l_int|2
comma
id|RMH_SSIZE_FIXED
comma
l_int|0
)brace
comma
(braket
id|CMD_STOP_STREAM
)braket
op_assign
(brace
l_int|0x830000
comma
l_int|1
comma
id|RMH_SSIZE_FIXED
comma
l_int|0
)brace
comma
(braket
id|CMD_FORMAT_STREAM_OUT
)braket
op_assign
(brace
l_int|0x868000
comma
l_int|1
comma
id|RMH_SSIZE_FIXED
comma
l_int|0
)brace
comma
(braket
id|CMD_FORMAT_STREAM_IN
)braket
op_assign
(brace
l_int|0x878800
comma
l_int|1
comma
id|RMH_SSIZE_FIXED
comma
l_int|0
)brace
comma
(braket
id|CMD_GET_STREAM_STATE
)braket
op_assign
(brace
l_int|0x890001
comma
l_int|2
comma
id|RMH_SSIZE_FIXED
comma
l_int|1
)brace
comma
(braket
id|CMD_DROP_BYTES_AWAY
)braket
op_assign
(brace
l_int|0x8A8000
comma
l_int|2
comma
id|RMH_SSIZE_FIXED
comma
l_int|0
)brace
comma
(braket
id|CMD_GET_REMAINING_BYTES
)braket
op_assign
(brace
l_int|0x8D0800
comma
l_int|1
comma
id|RMH_SSIZE_FIXED
comma
l_int|2
)brace
comma
(braket
id|CMD_CONNECT_AUDIO
)braket
op_assign
(brace
l_int|0xC10000
comma
l_int|1
comma
id|RMH_SSIZE_FIXED
comma
l_int|0
)brace
comma
(braket
id|CMD_AUDIO_LEVEL_ADJUST
)braket
op_assign
(brace
l_int|0xC2A000
comma
l_int|3
comma
id|RMH_SSIZE_FIXED
comma
l_int|0
)brace
comma
(braket
id|CMD_AUDIO_VU_PIC_METER
)braket
op_assign
(brace
l_int|0xC3A003
comma
l_int|2
comma
id|RMH_SSIZE_FIXED
comma
l_int|1
)brace
comma
(braket
id|CMD_GET_AUDIO_LEVELS
)braket
op_assign
(brace
l_int|0xC4A000
comma
l_int|2
comma
id|RMH_SSIZE_FIXED
comma
l_int|0
)brace
comma
(braket
id|CMD_GET_NOTIFY_EVENT
)braket
op_assign
(brace
l_int|0x4D0000
comma
l_int|1
comma
id|RMH_SSIZE_ARG
comma
l_int|0
)brace
comma
(braket
id|CMD_INFO_NOTIFIED
)braket
op_assign
(brace
l_int|0x0B0000
comma
l_int|1
comma
id|RMH_SSIZE_FIXED
comma
l_int|2
)brace
comma
(braket
id|CMD_ACCESS_IO_FCT
)braket
op_assign
(brace
l_int|0x098000
comma
l_int|1
comma
id|RMH_SSIZE_ARG
comma
l_int|0
)brace
comma
(braket
id|CMD_STATUS_R_BUFFERS
)braket
op_assign
(brace
l_int|0x440000
comma
l_int|1
comma
id|RMH_SSIZE_ARG
comma
l_int|0
)brace
comma
(braket
id|CMD_UPDATE_R_BUFFERS
)braket
op_assign
(brace
l_int|0x848000
comma
l_int|4
comma
id|RMH_SSIZE_FIXED
comma
l_int|0
)brace
comma
(braket
id|CMD_LOAD_EFFECT_CONTEXT
)braket
op_assign
(brace
l_int|0x0c8000
comma
l_int|3
comma
id|RMH_SSIZE_FIXED
comma
l_int|1
)brace
comma
(braket
id|CMD_EFFECT_ONE_PIPE
)braket
op_assign
(brace
l_int|0x458000
comma
l_int|0
comma
id|RMH_SSIZE_FIXED
comma
l_int|0
)brace
comma
(braket
id|CMD_MODIFY_CLOCK
)braket
op_assign
(brace
l_int|0x0d0000
comma
l_int|1
comma
id|RMH_SSIZE_FIXED
comma
l_int|0
)brace
comma
(braket
id|CMD_STREAM1_OUT_SET_N_LEVELS
)braket
op_assign
(brace
l_int|0x858000
comma
l_int|3
comma
id|RMH_SSIZE_FIXED
comma
l_int|0
)brace
comma
(braket
id|CMD_PURGE_STREAM_DCMDS
)braket
op_assign
(brace
l_int|0x8b8000
comma
l_int|3
comma
id|RMH_SSIZE_FIXED
comma
l_int|0
)brace
comma
(braket
id|CMD_NOTIFY_PIPE_TIME
)braket
op_assign
(brace
l_int|0x4e0000
comma
l_int|1
comma
id|RMH_SSIZE_FIXED
comma
l_int|0
)brace
comma
(braket
id|CMD_LOAD_EFFECT_CONTEXT_PACKET
)braket
op_assign
(brace
l_int|0x0c8000
comma
l_int|1
comma
id|RMH_SSIZE_FIXED
comma
l_int|0
)brace
comma
(braket
id|CMD_RELIC_R_BUFFER
)braket
op_assign
(brace
l_int|0x8e0800
comma
l_int|1
comma
id|RMH_SSIZE_FIXED
comma
l_int|1
)brace
comma
(braket
id|CMD_RESYNC_AUDIO_INPUTS
)braket
op_assign
(brace
l_int|0x0e0000
comma
l_int|1
comma
id|RMH_SSIZE_FIXED
comma
l_int|0
)brace
comma
(braket
id|CMD_NOTIFY_STREAM_TIME
)braket
op_assign
(brace
l_int|0x8f0000
comma
l_int|1
comma
id|RMH_SSIZE_FIXED
comma
l_int|0
)brace
comma
(braket
id|CMD_STREAM_SAMPLE_COUNT
)braket
op_assign
(brace
l_int|0x900000
comma
l_int|1
comma
id|RMH_SSIZE_FIXED
comma
l_int|2
)brace
comma
(braket
id|CMD_CONFIG_TIME_CODE
)braket
op_assign
(brace
l_int|0x050000
comma
l_int|2
comma
id|RMH_SSIZE_FIXED
comma
l_int|0
)brace
comma
(braket
id|CMD_GET_TIME_CODE
)braket
op_assign
(brace
l_int|0x060000
comma
l_int|1
comma
id|RMH_SSIZE_FIXED
comma
l_int|5
)brace
comma
(braket
id|CMD_MANAGE_SIGNAL
)braket
op_assign
(brace
l_int|0x0f0000
comma
l_int|1
comma
id|RMH_SSIZE_FIXED
comma
l_int|0
)brace
comma
(braket
id|CMD_PARAMETER_STREAM_OUT
)braket
op_assign
(brace
l_int|0x91A000
comma
l_int|3
comma
id|RMH_SSIZE_FIXED
comma
l_int|0
)brace
comma
(braket
id|CMD_READ_BOARD_FREQ
)braket
op_assign
(brace
l_int|0x030000
comma
l_int|1
comma
id|RMH_SSIZE_FIXED
comma
l_int|2
)brace
comma
(braket
id|CMD_GET_STREAM_LEVELS
)braket
op_assign
(brace
l_int|0x8c0000
comma
l_int|1
comma
id|RMH_SSIZE_FIXED
comma
l_int|3
)brace
comma
(braket
id|CMD_PURGE_PIPE_DCMDS
)braket
op_assign
(brace
l_int|0x4f8000
comma
l_int|3
comma
id|RMH_SSIZE_FIXED
comma
l_int|0
)brace
comma
singleline_comment|// [CMD_SET_STREAM_OUT_EFFECTS] =&t;{ 0x888000, 34, RMH_SSIZE_FIXED, 0 },
singleline_comment|// [CMD_GET_STREAM_OUT_EFFECTS] =&t;{ 0x928000, 2, RMH_SSIZE_FIXED, 32 },
(braket
id|CMD_CONNECT_MONITORING
)braket
op_assign
(brace
l_int|0xC00000
comma
l_int|1
comma
id|RMH_SSIZE_FIXED
comma
l_int|0
)brace
comma
(braket
id|CMD_STREAM2_OUT_SET_N_LEVELS
)braket
op_assign
(brace
l_int|0x938000
comma
l_int|3
comma
id|RMH_SSIZE_FIXED
comma
l_int|0
)brace
comma
(braket
id|CMD_CANCEL_R_BUFFERS
)braket
op_assign
(brace
l_int|0x948000
comma
l_int|4
comma
id|RMH_SSIZE_FIXED
comma
l_int|0
)brace
comma
(braket
id|CMD_NOTIFY_END_OF_BUFFER
)braket
op_assign
(brace
l_int|0x950000
comma
l_int|1
comma
id|RMH_SSIZE_FIXED
comma
l_int|0
)brace
comma
(braket
id|CMD_GET_STREAM_VU_METER
)braket
op_assign
(brace
l_int|0x95A000
comma
l_int|2
comma
id|RMH_SSIZE_ARG
comma
l_int|0
)brace
comma
)brace
suffix:semicolon
multiline_comment|/**&n; * vx_init_rmh - initialize the RMH instance&n; * @rmh: the rmh pointer to be initialized&n; * @cmd: the rmh command to be set&n; */
DECL|function|vx_init_rmh
r_void
id|vx_init_rmh
c_func
(paren
r_struct
id|vx_rmh
op_star
id|rmh
comma
r_int
r_int
id|cmd
)paren
(brace
id|snd_assert
c_func
(paren
id|cmd
OL
id|CMD_LAST_INDEX
comma
r_return
)paren
suffix:semicolon
id|rmh-&gt;LgCmd
op_assign
id|vx_dsp_cmds
(braket
id|cmd
)braket
dot
id|length
suffix:semicolon
id|rmh-&gt;LgStat
op_assign
id|vx_dsp_cmds
(braket
id|cmd
)braket
dot
id|st_length
suffix:semicolon
id|rmh-&gt;DspStat
op_assign
id|vx_dsp_cmds
(braket
id|cmd
)braket
dot
id|st_type
suffix:semicolon
id|rmh-&gt;Cmd
(braket
l_int|0
)braket
op_assign
id|vx_dsp_cmds
(braket
id|cmd
)braket
dot
id|opcode
suffix:semicolon
)brace
eof
