multiline_comment|/*&n; * OPL4 MIDI synthesizer functions&n; *&n; * Copyright (c) 2003 by Clemens Ladisch &lt;clemens@ladisch.de&gt;&n; * All rights reserved.&n; *&n; * Redistribution and use in source and binary forms, with or without&n; * modification, are permitted provided that the following conditions&n; * are met:&n; * 1. Redistributions of source code must retain the above copyright&n; *    notice, this list of conditions, and the following disclaimer,&n; *    without modification.&n; * 2. The name of the author may not be used to endorse or promote products&n; *    derived from this software without specific prior written permission.&n; *&n; * Alternatively, this software may be distributed and/or modified under the&n; * terms of the GNU General Public License as published by the Free Software&n; * Foundation; either version 2 of the License, or (at your option) any later&n; * version.&n; *&n; * THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS&squot;&squot; AND&n; * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE&n; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE&n; * ARE DISCLAIMED. IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE FOR&n; * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL&n; * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS&n; * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)&n; * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT&n; * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY&n; * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF&n; * SUCH DAMAGE.&n; */
macro_line|#include &quot;opl4_local.h&quot;
macro_line|#include &lt;linux/delay.h&gt;
macro_line|#include &lt;asm/io.h&gt;
macro_line|#include &lt;sound/asoundef.h&gt;
multiline_comment|/* GM2 controllers */
macro_line|#ifndef MIDI_CTL_RELEASE_TIME
DECL|macro|MIDI_CTL_RELEASE_TIME
mdefine_line|#define MIDI_CTL_RELEASE_TIME&t;0x48
DECL|macro|MIDI_CTL_ATTACK_TIME
mdefine_line|#define MIDI_CTL_ATTACK_TIME&t;0x49
DECL|macro|MIDI_CTL_DECAY_TIME
mdefine_line|#define MIDI_CTL_DECAY_TIME&t;0x4b
DECL|macro|MIDI_CTL_VIBRATO_RATE
mdefine_line|#define MIDI_CTL_VIBRATO_RATE&t;0x4c
DECL|macro|MIDI_CTL_VIBRATO_DEPTH
mdefine_line|#define MIDI_CTL_VIBRATO_DEPTH&t;0x4d
DECL|macro|MIDI_CTL_VIBRATO_DELAY
mdefine_line|#define MIDI_CTL_VIBRATO_DELAY&t;0x4e
macro_line|#endif
multiline_comment|/*&n; * This table maps 100/128 cents to F_NUMBER.&n; */
DECL|variable|snd_opl4_pitch_map
r_static
r_const
id|s16
id|snd_opl4_pitch_map
(braket
l_int|0x600
)braket
op_assign
(brace
l_int|0x000
comma
l_int|0x000
comma
l_int|0x001
comma
l_int|0x001
comma
l_int|0x002
comma
l_int|0x002
comma
l_int|0x003
comma
l_int|0x003
comma
l_int|0x004
comma
l_int|0x004
comma
l_int|0x005
comma
l_int|0x005
comma
l_int|0x006
comma
l_int|0x006
comma
l_int|0x006
comma
l_int|0x007
comma
l_int|0x007
comma
l_int|0x008
comma
l_int|0x008
comma
l_int|0x009
comma
l_int|0x009
comma
l_int|0x00a
comma
l_int|0x00a
comma
l_int|0x00b
comma
l_int|0x00b
comma
l_int|0x00c
comma
l_int|0x00c
comma
l_int|0x00d
comma
l_int|0x00d
comma
l_int|0x00d
comma
l_int|0x00e
comma
l_int|0x00e
comma
l_int|0x00f
comma
l_int|0x00f
comma
l_int|0x010
comma
l_int|0x010
comma
l_int|0x011
comma
l_int|0x011
comma
l_int|0x012
comma
l_int|0x012
comma
l_int|0x013
comma
l_int|0x013
comma
l_int|0x014
comma
l_int|0x014
comma
l_int|0x015
comma
l_int|0x015
comma
l_int|0x015
comma
l_int|0x016
comma
l_int|0x016
comma
l_int|0x017
comma
l_int|0x017
comma
l_int|0x018
comma
l_int|0x018
comma
l_int|0x019
comma
l_int|0x019
comma
l_int|0x01a
comma
l_int|0x01a
comma
l_int|0x01b
comma
l_int|0x01b
comma
l_int|0x01c
comma
l_int|0x01c
comma
l_int|0x01d
comma
l_int|0x01d
comma
l_int|0x01e
comma
l_int|0x01e
comma
l_int|0x01e
comma
l_int|0x01f
comma
l_int|0x01f
comma
l_int|0x020
comma
l_int|0x020
comma
l_int|0x021
comma
l_int|0x021
comma
l_int|0x022
comma
l_int|0x022
comma
l_int|0x023
comma
l_int|0x023
comma
l_int|0x024
comma
l_int|0x024
comma
l_int|0x025
comma
l_int|0x025
comma
l_int|0x026
comma
l_int|0x026
comma
l_int|0x027
comma
l_int|0x027
comma
l_int|0x028
comma
l_int|0x028
comma
l_int|0x029
comma
l_int|0x029
comma
l_int|0x029
comma
l_int|0x02a
comma
l_int|0x02a
comma
l_int|0x02b
comma
l_int|0x02b
comma
l_int|0x02c
comma
l_int|0x02c
comma
l_int|0x02d
comma
l_int|0x02d
comma
l_int|0x02e
comma
l_int|0x02e
comma
l_int|0x02f
comma
l_int|0x02f
comma
l_int|0x030
comma
l_int|0x030
comma
l_int|0x031
comma
l_int|0x031
comma
l_int|0x032
comma
l_int|0x032
comma
l_int|0x033
comma
l_int|0x033
comma
l_int|0x034
comma
l_int|0x034
comma
l_int|0x035
comma
l_int|0x035
comma
l_int|0x036
comma
l_int|0x036
comma
l_int|0x037
comma
l_int|0x037
comma
l_int|0x038
comma
l_int|0x038
comma
l_int|0x038
comma
l_int|0x039
comma
l_int|0x039
comma
l_int|0x03a
comma
l_int|0x03a
comma
l_int|0x03b
comma
l_int|0x03b
comma
l_int|0x03c
comma
l_int|0x03c
comma
l_int|0x03d
comma
l_int|0x03d
comma
l_int|0x03e
comma
l_int|0x03e
comma
l_int|0x03f
comma
l_int|0x03f
comma
l_int|0x040
comma
l_int|0x040
comma
l_int|0x041
comma
l_int|0x041
comma
l_int|0x042
comma
l_int|0x042
comma
l_int|0x043
comma
l_int|0x043
comma
l_int|0x044
comma
l_int|0x044
comma
l_int|0x045
comma
l_int|0x045
comma
l_int|0x046
comma
l_int|0x046
comma
l_int|0x047
comma
l_int|0x047
comma
l_int|0x048
comma
l_int|0x048
comma
l_int|0x049
comma
l_int|0x049
comma
l_int|0x04a
comma
l_int|0x04a
comma
l_int|0x04b
comma
l_int|0x04b
comma
l_int|0x04c
comma
l_int|0x04c
comma
l_int|0x04d
comma
l_int|0x04d
comma
l_int|0x04e
comma
l_int|0x04e
comma
l_int|0x04f
comma
l_int|0x04f
comma
l_int|0x050
comma
l_int|0x050
comma
l_int|0x051
comma
l_int|0x051
comma
l_int|0x052
comma
l_int|0x052
comma
l_int|0x053
comma
l_int|0x053
comma
l_int|0x054
comma
l_int|0x054
comma
l_int|0x055
comma
l_int|0x055
comma
l_int|0x056
comma
l_int|0x056
comma
l_int|0x057
comma
l_int|0x057
comma
l_int|0x058
comma
l_int|0x058
comma
l_int|0x059
comma
l_int|0x059
comma
l_int|0x05a
comma
l_int|0x05a
comma
l_int|0x05b
comma
l_int|0x05b
comma
l_int|0x05c
comma
l_int|0x05c
comma
l_int|0x05d
comma
l_int|0x05d
comma
l_int|0x05e
comma
l_int|0x05e
comma
l_int|0x05f
comma
l_int|0x05f
comma
l_int|0x060
comma
l_int|0x060
comma
l_int|0x061
comma
l_int|0x061
comma
l_int|0x062
comma
l_int|0x062
comma
l_int|0x063
comma
l_int|0x063
comma
l_int|0x064
comma
l_int|0x064
comma
l_int|0x065
comma
l_int|0x065
comma
l_int|0x066
comma
l_int|0x066
comma
l_int|0x067
comma
l_int|0x067
comma
l_int|0x068
comma
l_int|0x068
comma
l_int|0x069
comma
l_int|0x069
comma
l_int|0x06a
comma
l_int|0x06a
comma
l_int|0x06b
comma
l_int|0x06b
comma
l_int|0x06c
comma
l_int|0x06c
comma
l_int|0x06d
comma
l_int|0x06d
comma
l_int|0x06e
comma
l_int|0x06e
comma
l_int|0x06f
comma
l_int|0x06f
comma
l_int|0x070
comma
l_int|0x071
comma
l_int|0x071
comma
l_int|0x072
comma
l_int|0x072
comma
l_int|0x073
comma
l_int|0x073
comma
l_int|0x074
comma
l_int|0x074
comma
l_int|0x075
comma
l_int|0x075
comma
l_int|0x076
comma
l_int|0x076
comma
l_int|0x077
comma
l_int|0x077
comma
l_int|0x078
comma
l_int|0x078
comma
l_int|0x079
comma
l_int|0x079
comma
l_int|0x07a
comma
l_int|0x07a
comma
l_int|0x07b
comma
l_int|0x07b
comma
l_int|0x07c
comma
l_int|0x07c
comma
l_int|0x07d
comma
l_int|0x07d
comma
l_int|0x07e
comma
l_int|0x07e
comma
l_int|0x07f
comma
l_int|0x07f
comma
l_int|0x080
comma
l_int|0x081
comma
l_int|0x081
comma
l_int|0x082
comma
l_int|0x082
comma
l_int|0x083
comma
l_int|0x083
comma
l_int|0x084
comma
l_int|0x084
comma
l_int|0x085
comma
l_int|0x085
comma
l_int|0x086
comma
l_int|0x086
comma
l_int|0x087
comma
l_int|0x087
comma
l_int|0x088
comma
l_int|0x088
comma
l_int|0x089
comma
l_int|0x089
comma
l_int|0x08a
comma
l_int|0x08a
comma
l_int|0x08b
comma
l_int|0x08b
comma
l_int|0x08c
comma
l_int|0x08d
comma
l_int|0x08d
comma
l_int|0x08e
comma
l_int|0x08e
comma
l_int|0x08f
comma
l_int|0x08f
comma
l_int|0x090
comma
l_int|0x090
comma
l_int|0x091
comma
l_int|0x091
comma
l_int|0x092
comma
l_int|0x092
comma
l_int|0x093
comma
l_int|0x093
comma
l_int|0x094
comma
l_int|0x094
comma
l_int|0x095
comma
l_int|0x096
comma
l_int|0x096
comma
l_int|0x097
comma
l_int|0x097
comma
l_int|0x098
comma
l_int|0x098
comma
l_int|0x099
comma
l_int|0x099
comma
l_int|0x09a
comma
l_int|0x09a
comma
l_int|0x09b
comma
l_int|0x09b
comma
l_int|0x09c
comma
l_int|0x09c
comma
l_int|0x09d
comma
l_int|0x09d
comma
l_int|0x09e
comma
l_int|0x09f
comma
l_int|0x09f
comma
l_int|0x0a0
comma
l_int|0x0a0
comma
l_int|0x0a1
comma
l_int|0x0a1
comma
l_int|0x0a2
comma
l_int|0x0a2
comma
l_int|0x0a3
comma
l_int|0x0a3
comma
l_int|0x0a4
comma
l_int|0x0a4
comma
l_int|0x0a5
comma
l_int|0x0a6
comma
l_int|0x0a6
comma
l_int|0x0a7
comma
l_int|0x0a7
comma
l_int|0x0a8
comma
l_int|0x0a8
comma
l_int|0x0a9
comma
l_int|0x0a9
comma
l_int|0x0aa
comma
l_int|0x0aa
comma
l_int|0x0ab
comma
l_int|0x0ab
comma
l_int|0x0ac
comma
l_int|0x0ad
comma
l_int|0x0ad
comma
l_int|0x0ae
comma
l_int|0x0ae
comma
l_int|0x0af
comma
l_int|0x0af
comma
l_int|0x0b0
comma
l_int|0x0b0
comma
l_int|0x0b1
comma
l_int|0x0b1
comma
l_int|0x0b2
comma
l_int|0x0b2
comma
l_int|0x0b3
comma
l_int|0x0b4
comma
l_int|0x0b4
comma
l_int|0x0b5
comma
l_int|0x0b5
comma
l_int|0x0b6
comma
l_int|0x0b6
comma
l_int|0x0b7
comma
l_int|0x0b7
comma
l_int|0x0b8
comma
l_int|0x0b8
comma
l_int|0x0b9
comma
l_int|0x0ba
comma
l_int|0x0ba
comma
l_int|0x0bb
comma
l_int|0x0bb
comma
l_int|0x0bc
comma
l_int|0x0bc
comma
l_int|0x0bd
comma
l_int|0x0bd
comma
l_int|0x0be
comma
l_int|0x0be
comma
l_int|0x0bf
comma
l_int|0x0c0
comma
l_int|0x0c0
comma
l_int|0x0c1
comma
l_int|0x0c1
comma
l_int|0x0c2
comma
l_int|0x0c2
comma
l_int|0x0c3
comma
l_int|0x0c3
comma
l_int|0x0c4
comma
l_int|0x0c4
comma
l_int|0x0c5
comma
l_int|0x0c6
comma
l_int|0x0c6
comma
l_int|0x0c7
comma
l_int|0x0c7
comma
l_int|0x0c8
comma
l_int|0x0c8
comma
l_int|0x0c9
comma
l_int|0x0c9
comma
l_int|0x0ca
comma
l_int|0x0cb
comma
l_int|0x0cb
comma
l_int|0x0cc
comma
l_int|0x0cc
comma
l_int|0x0cd
comma
l_int|0x0cd
comma
l_int|0x0ce
comma
l_int|0x0ce
comma
l_int|0x0cf
comma
l_int|0x0d0
comma
l_int|0x0d0
comma
l_int|0x0d1
comma
l_int|0x0d1
comma
l_int|0x0d2
comma
l_int|0x0d2
comma
l_int|0x0d3
comma
l_int|0x0d3
comma
l_int|0x0d4
comma
l_int|0x0d5
comma
l_int|0x0d5
comma
l_int|0x0d6
comma
l_int|0x0d6
comma
l_int|0x0d7
comma
l_int|0x0d7
comma
l_int|0x0d8
comma
l_int|0x0d8
comma
l_int|0x0d9
comma
l_int|0x0da
comma
l_int|0x0da
comma
l_int|0x0db
comma
l_int|0x0db
comma
l_int|0x0dc
comma
l_int|0x0dc
comma
l_int|0x0dd
comma
l_int|0x0de
comma
l_int|0x0de
comma
l_int|0x0df
comma
l_int|0x0df
comma
l_int|0x0e0
comma
l_int|0x0e0
comma
l_int|0x0e1
comma
l_int|0x0e1
comma
l_int|0x0e2
comma
l_int|0x0e3
comma
l_int|0x0e3
comma
l_int|0x0e4
comma
l_int|0x0e4
comma
l_int|0x0e5
comma
l_int|0x0e5
comma
l_int|0x0e6
comma
l_int|0x0e7
comma
l_int|0x0e7
comma
l_int|0x0e8
comma
l_int|0x0e8
comma
l_int|0x0e9
comma
l_int|0x0e9
comma
l_int|0x0ea
comma
l_int|0x0eb
comma
l_int|0x0eb
comma
l_int|0x0ec
comma
l_int|0x0ec
comma
l_int|0x0ed
comma
l_int|0x0ed
comma
l_int|0x0ee
comma
l_int|0x0ef
comma
l_int|0x0ef
comma
l_int|0x0f0
comma
l_int|0x0f0
comma
l_int|0x0f1
comma
l_int|0x0f1
comma
l_int|0x0f2
comma
l_int|0x0f3
comma
l_int|0x0f3
comma
l_int|0x0f4
comma
l_int|0x0f4
comma
l_int|0x0f5
comma
l_int|0x0f5
comma
l_int|0x0f6
comma
l_int|0x0f7
comma
l_int|0x0f7
comma
l_int|0x0f8
comma
l_int|0x0f8
comma
l_int|0x0f9
comma
l_int|0x0f9
comma
l_int|0x0fa
comma
l_int|0x0fb
comma
l_int|0x0fb
comma
l_int|0x0fc
comma
l_int|0x0fc
comma
l_int|0x0fd
comma
l_int|0x0fd
comma
l_int|0x0fe
comma
l_int|0x0ff
comma
l_int|0x0ff
comma
l_int|0x100
comma
l_int|0x100
comma
l_int|0x101
comma
l_int|0x101
comma
l_int|0x102
comma
l_int|0x103
comma
l_int|0x103
comma
l_int|0x104
comma
l_int|0x104
comma
l_int|0x105
comma
l_int|0x106
comma
l_int|0x106
comma
l_int|0x107
comma
l_int|0x107
comma
l_int|0x108
comma
l_int|0x108
comma
l_int|0x109
comma
l_int|0x10a
comma
l_int|0x10a
comma
l_int|0x10b
comma
l_int|0x10b
comma
l_int|0x10c
comma
l_int|0x10c
comma
l_int|0x10d
comma
l_int|0x10e
comma
l_int|0x10e
comma
l_int|0x10f
comma
l_int|0x10f
comma
l_int|0x110
comma
l_int|0x111
comma
l_int|0x111
comma
l_int|0x112
comma
l_int|0x112
comma
l_int|0x113
comma
l_int|0x114
comma
l_int|0x114
comma
l_int|0x115
comma
l_int|0x115
comma
l_int|0x116
comma
l_int|0x116
comma
l_int|0x117
comma
l_int|0x118
comma
l_int|0x118
comma
l_int|0x119
comma
l_int|0x119
comma
l_int|0x11a
comma
l_int|0x11b
comma
l_int|0x11b
comma
l_int|0x11c
comma
l_int|0x11c
comma
l_int|0x11d
comma
l_int|0x11e
comma
l_int|0x11e
comma
l_int|0x11f
comma
l_int|0x11f
comma
l_int|0x120
comma
l_int|0x120
comma
l_int|0x121
comma
l_int|0x122
comma
l_int|0x122
comma
l_int|0x123
comma
l_int|0x123
comma
l_int|0x124
comma
l_int|0x125
comma
l_int|0x125
comma
l_int|0x126
comma
l_int|0x126
comma
l_int|0x127
comma
l_int|0x128
comma
l_int|0x128
comma
l_int|0x129
comma
l_int|0x129
comma
l_int|0x12a
comma
l_int|0x12b
comma
l_int|0x12b
comma
l_int|0x12c
comma
l_int|0x12c
comma
l_int|0x12d
comma
l_int|0x12e
comma
l_int|0x12e
comma
l_int|0x12f
comma
l_int|0x12f
comma
l_int|0x130
comma
l_int|0x131
comma
l_int|0x131
comma
l_int|0x132
comma
l_int|0x132
comma
l_int|0x133
comma
l_int|0x134
comma
l_int|0x134
comma
l_int|0x135
comma
l_int|0x135
comma
l_int|0x136
comma
l_int|0x137
comma
l_int|0x137
comma
l_int|0x138
comma
l_int|0x138
comma
l_int|0x139
comma
l_int|0x13a
comma
l_int|0x13a
comma
l_int|0x13b
comma
l_int|0x13b
comma
l_int|0x13c
comma
l_int|0x13d
comma
l_int|0x13d
comma
l_int|0x13e
comma
l_int|0x13e
comma
l_int|0x13f
comma
l_int|0x140
comma
l_int|0x140
comma
l_int|0x141
comma
l_int|0x141
comma
l_int|0x142
comma
l_int|0x143
comma
l_int|0x143
comma
l_int|0x144
comma
l_int|0x144
comma
l_int|0x145
comma
l_int|0x146
comma
l_int|0x146
comma
l_int|0x147
comma
l_int|0x148
comma
l_int|0x148
comma
l_int|0x149
comma
l_int|0x149
comma
l_int|0x14a
comma
l_int|0x14b
comma
l_int|0x14b
comma
l_int|0x14c
comma
l_int|0x14c
comma
l_int|0x14d
comma
l_int|0x14e
comma
l_int|0x14e
comma
l_int|0x14f
comma
l_int|0x14f
comma
l_int|0x150
comma
l_int|0x151
comma
l_int|0x151
comma
l_int|0x152
comma
l_int|0x153
comma
l_int|0x153
comma
l_int|0x154
comma
l_int|0x154
comma
l_int|0x155
comma
l_int|0x156
comma
l_int|0x156
comma
l_int|0x157
comma
l_int|0x157
comma
l_int|0x158
comma
l_int|0x159
comma
l_int|0x159
comma
l_int|0x15a
comma
l_int|0x15b
comma
l_int|0x15b
comma
l_int|0x15c
comma
l_int|0x15c
comma
l_int|0x15d
comma
l_int|0x15e
comma
l_int|0x15e
comma
l_int|0x15f
comma
l_int|0x160
comma
l_int|0x160
comma
l_int|0x161
comma
l_int|0x161
comma
l_int|0x162
comma
l_int|0x163
comma
l_int|0x163
comma
l_int|0x164
comma
l_int|0x165
comma
l_int|0x165
comma
l_int|0x166
comma
l_int|0x166
comma
l_int|0x167
comma
l_int|0x168
comma
l_int|0x168
comma
l_int|0x169
comma
l_int|0x16a
comma
l_int|0x16a
comma
l_int|0x16b
comma
l_int|0x16b
comma
l_int|0x16c
comma
l_int|0x16d
comma
l_int|0x16d
comma
l_int|0x16e
comma
l_int|0x16f
comma
l_int|0x16f
comma
l_int|0x170
comma
l_int|0x170
comma
l_int|0x171
comma
l_int|0x172
comma
l_int|0x172
comma
l_int|0x173
comma
l_int|0x174
comma
l_int|0x174
comma
l_int|0x175
comma
l_int|0x175
comma
l_int|0x176
comma
l_int|0x177
comma
l_int|0x177
comma
l_int|0x178
comma
l_int|0x179
comma
l_int|0x179
comma
l_int|0x17a
comma
l_int|0x17a
comma
l_int|0x17b
comma
l_int|0x17c
comma
l_int|0x17c
comma
l_int|0x17d
comma
l_int|0x17e
comma
l_int|0x17e
comma
l_int|0x17f
comma
l_int|0x180
comma
l_int|0x180
comma
l_int|0x181
comma
l_int|0x181
comma
l_int|0x182
comma
l_int|0x183
comma
l_int|0x183
comma
l_int|0x184
comma
l_int|0x185
comma
l_int|0x185
comma
l_int|0x186
comma
l_int|0x187
comma
l_int|0x187
comma
l_int|0x188
comma
l_int|0x188
comma
l_int|0x189
comma
l_int|0x18a
comma
l_int|0x18a
comma
l_int|0x18b
comma
l_int|0x18c
comma
l_int|0x18c
comma
l_int|0x18d
comma
l_int|0x18e
comma
l_int|0x18e
comma
l_int|0x18f
comma
l_int|0x190
comma
l_int|0x190
comma
l_int|0x191
comma
l_int|0x191
comma
l_int|0x192
comma
l_int|0x193
comma
l_int|0x193
comma
l_int|0x194
comma
l_int|0x195
comma
l_int|0x195
comma
l_int|0x196
comma
l_int|0x197
comma
l_int|0x197
comma
l_int|0x198
comma
l_int|0x199
comma
l_int|0x199
comma
l_int|0x19a
comma
l_int|0x19a
comma
l_int|0x19b
comma
l_int|0x19c
comma
l_int|0x19c
comma
l_int|0x19d
comma
l_int|0x19e
comma
l_int|0x19e
comma
l_int|0x19f
comma
l_int|0x1a0
comma
l_int|0x1a0
comma
l_int|0x1a1
comma
l_int|0x1a2
comma
l_int|0x1a2
comma
l_int|0x1a3
comma
l_int|0x1a4
comma
l_int|0x1a4
comma
l_int|0x1a5
comma
l_int|0x1a6
comma
l_int|0x1a6
comma
l_int|0x1a7
comma
l_int|0x1a8
comma
l_int|0x1a8
comma
l_int|0x1a9
comma
l_int|0x1a9
comma
l_int|0x1aa
comma
l_int|0x1ab
comma
l_int|0x1ab
comma
l_int|0x1ac
comma
l_int|0x1ad
comma
l_int|0x1ad
comma
l_int|0x1ae
comma
l_int|0x1af
comma
l_int|0x1af
comma
l_int|0x1b0
comma
l_int|0x1b1
comma
l_int|0x1b1
comma
l_int|0x1b2
comma
l_int|0x1b3
comma
l_int|0x1b3
comma
l_int|0x1b4
comma
l_int|0x1b5
comma
l_int|0x1b5
comma
l_int|0x1b6
comma
l_int|0x1b7
comma
l_int|0x1b7
comma
l_int|0x1b8
comma
l_int|0x1b9
comma
l_int|0x1b9
comma
l_int|0x1ba
comma
l_int|0x1bb
comma
l_int|0x1bb
comma
l_int|0x1bc
comma
l_int|0x1bd
comma
l_int|0x1bd
comma
l_int|0x1be
comma
l_int|0x1bf
comma
l_int|0x1bf
comma
l_int|0x1c0
comma
l_int|0x1c1
comma
l_int|0x1c1
comma
l_int|0x1c2
comma
l_int|0x1c3
comma
l_int|0x1c3
comma
l_int|0x1c4
comma
l_int|0x1c5
comma
l_int|0x1c5
comma
l_int|0x1c6
comma
l_int|0x1c7
comma
l_int|0x1c7
comma
l_int|0x1c8
comma
l_int|0x1c9
comma
l_int|0x1c9
comma
l_int|0x1ca
comma
l_int|0x1cb
comma
l_int|0x1cb
comma
l_int|0x1cc
comma
l_int|0x1cd
comma
l_int|0x1cd
comma
l_int|0x1ce
comma
l_int|0x1cf
comma
l_int|0x1cf
comma
l_int|0x1d0
comma
l_int|0x1d1
comma
l_int|0x1d1
comma
l_int|0x1d2
comma
l_int|0x1d3
comma
l_int|0x1d3
comma
l_int|0x1d4
comma
l_int|0x1d5
comma
l_int|0x1d5
comma
l_int|0x1d6
comma
l_int|0x1d7
comma
l_int|0x1d7
comma
l_int|0x1d8
comma
l_int|0x1d9
comma
l_int|0x1d9
comma
l_int|0x1da
comma
l_int|0x1db
comma
l_int|0x1db
comma
l_int|0x1dc
comma
l_int|0x1dd
comma
l_int|0x1dd
comma
l_int|0x1de
comma
l_int|0x1df
comma
l_int|0x1df
comma
l_int|0x1e0
comma
l_int|0x1e1
comma
l_int|0x1e1
comma
l_int|0x1e2
comma
l_int|0x1e3
comma
l_int|0x1e4
comma
l_int|0x1e4
comma
l_int|0x1e5
comma
l_int|0x1e6
comma
l_int|0x1e6
comma
l_int|0x1e7
comma
l_int|0x1e8
comma
l_int|0x1e8
comma
l_int|0x1e9
comma
l_int|0x1ea
comma
l_int|0x1ea
comma
l_int|0x1eb
comma
l_int|0x1ec
comma
l_int|0x1ec
comma
l_int|0x1ed
comma
l_int|0x1ee
comma
l_int|0x1ee
comma
l_int|0x1ef
comma
l_int|0x1f0
comma
l_int|0x1f0
comma
l_int|0x1f1
comma
l_int|0x1f2
comma
l_int|0x1f3
comma
l_int|0x1f3
comma
l_int|0x1f4
comma
l_int|0x1f5
comma
l_int|0x1f5
comma
l_int|0x1f6
comma
l_int|0x1f7
comma
l_int|0x1f7
comma
l_int|0x1f8
comma
l_int|0x1f9
comma
l_int|0x1f9
comma
l_int|0x1fa
comma
l_int|0x1fb
comma
l_int|0x1fb
comma
l_int|0x1fc
comma
l_int|0x1fd
comma
l_int|0x1fe
comma
l_int|0x1fe
comma
l_int|0x1ff
comma
l_int|0x200
comma
l_int|0x200
comma
l_int|0x201
comma
l_int|0x202
comma
l_int|0x202
comma
l_int|0x203
comma
l_int|0x204
comma
l_int|0x205
comma
l_int|0x205
comma
l_int|0x206
comma
l_int|0x207
comma
l_int|0x207
comma
l_int|0x208
comma
l_int|0x209
comma
l_int|0x209
comma
l_int|0x20a
comma
l_int|0x20b
comma
l_int|0x20b
comma
l_int|0x20c
comma
l_int|0x20d
comma
l_int|0x20e
comma
l_int|0x20e
comma
l_int|0x20f
comma
l_int|0x210
comma
l_int|0x210
comma
l_int|0x211
comma
l_int|0x212
comma
l_int|0x212
comma
l_int|0x213
comma
l_int|0x214
comma
l_int|0x215
comma
l_int|0x215
comma
l_int|0x216
comma
l_int|0x217
comma
l_int|0x217
comma
l_int|0x218
comma
l_int|0x219
comma
l_int|0x21a
comma
l_int|0x21a
comma
l_int|0x21b
comma
l_int|0x21c
comma
l_int|0x21c
comma
l_int|0x21d
comma
l_int|0x21e
comma
l_int|0x21e
comma
l_int|0x21f
comma
l_int|0x220
comma
l_int|0x221
comma
l_int|0x221
comma
l_int|0x222
comma
l_int|0x223
comma
l_int|0x223
comma
l_int|0x224
comma
l_int|0x225
comma
l_int|0x226
comma
l_int|0x226
comma
l_int|0x227
comma
l_int|0x228
comma
l_int|0x228
comma
l_int|0x229
comma
l_int|0x22a
comma
l_int|0x22b
comma
l_int|0x22b
comma
l_int|0x22c
comma
l_int|0x22d
comma
l_int|0x22d
comma
l_int|0x22e
comma
l_int|0x22f
comma
l_int|0x230
comma
l_int|0x230
comma
l_int|0x231
comma
l_int|0x232
comma
l_int|0x232
comma
l_int|0x233
comma
l_int|0x234
comma
l_int|0x235
comma
l_int|0x235
comma
l_int|0x236
comma
l_int|0x237
comma
l_int|0x237
comma
l_int|0x238
comma
l_int|0x239
comma
l_int|0x23a
comma
l_int|0x23a
comma
l_int|0x23b
comma
l_int|0x23c
comma
l_int|0x23c
comma
l_int|0x23d
comma
l_int|0x23e
comma
l_int|0x23f
comma
l_int|0x23f
comma
l_int|0x240
comma
l_int|0x241
comma
l_int|0x241
comma
l_int|0x242
comma
l_int|0x243
comma
l_int|0x244
comma
l_int|0x244
comma
l_int|0x245
comma
l_int|0x246
comma
l_int|0x247
comma
l_int|0x247
comma
l_int|0x248
comma
l_int|0x249
comma
l_int|0x249
comma
l_int|0x24a
comma
l_int|0x24b
comma
l_int|0x24c
comma
l_int|0x24c
comma
l_int|0x24d
comma
l_int|0x24e
comma
l_int|0x24f
comma
l_int|0x24f
comma
l_int|0x250
comma
l_int|0x251
comma
l_int|0x251
comma
l_int|0x252
comma
l_int|0x253
comma
l_int|0x254
comma
l_int|0x254
comma
l_int|0x255
comma
l_int|0x256
comma
l_int|0x257
comma
l_int|0x257
comma
l_int|0x258
comma
l_int|0x259
comma
l_int|0x259
comma
l_int|0x25a
comma
l_int|0x25b
comma
l_int|0x25c
comma
l_int|0x25c
comma
l_int|0x25d
comma
l_int|0x25e
comma
l_int|0x25f
comma
l_int|0x25f
comma
l_int|0x260
comma
l_int|0x261
comma
l_int|0x262
comma
l_int|0x262
comma
l_int|0x263
comma
l_int|0x264
comma
l_int|0x265
comma
l_int|0x265
comma
l_int|0x266
comma
l_int|0x267
comma
l_int|0x267
comma
l_int|0x268
comma
l_int|0x269
comma
l_int|0x26a
comma
l_int|0x26a
comma
l_int|0x26b
comma
l_int|0x26c
comma
l_int|0x26d
comma
l_int|0x26d
comma
l_int|0x26e
comma
l_int|0x26f
comma
l_int|0x270
comma
l_int|0x270
comma
l_int|0x271
comma
l_int|0x272
comma
l_int|0x273
comma
l_int|0x273
comma
l_int|0x274
comma
l_int|0x275
comma
l_int|0x276
comma
l_int|0x276
comma
l_int|0x277
comma
l_int|0x278
comma
l_int|0x279
comma
l_int|0x279
comma
l_int|0x27a
comma
l_int|0x27b
comma
l_int|0x27c
comma
l_int|0x27c
comma
l_int|0x27d
comma
l_int|0x27e
comma
l_int|0x27f
comma
l_int|0x27f
comma
l_int|0x280
comma
l_int|0x281
comma
l_int|0x282
comma
l_int|0x282
comma
l_int|0x283
comma
l_int|0x284
comma
l_int|0x285
comma
l_int|0x285
comma
l_int|0x286
comma
l_int|0x287
comma
l_int|0x288
comma
l_int|0x288
comma
l_int|0x289
comma
l_int|0x28a
comma
l_int|0x28b
comma
l_int|0x28b
comma
l_int|0x28c
comma
l_int|0x28d
comma
l_int|0x28e
comma
l_int|0x28e
comma
l_int|0x28f
comma
l_int|0x290
comma
l_int|0x291
comma
l_int|0x291
comma
l_int|0x292
comma
l_int|0x293
comma
l_int|0x294
comma
l_int|0x294
comma
l_int|0x295
comma
l_int|0x296
comma
l_int|0x297
comma
l_int|0x298
comma
l_int|0x298
comma
l_int|0x299
comma
l_int|0x29a
comma
l_int|0x29b
comma
l_int|0x29b
comma
l_int|0x29c
comma
l_int|0x29d
comma
l_int|0x29e
comma
l_int|0x29e
comma
l_int|0x29f
comma
l_int|0x2a0
comma
l_int|0x2a1
comma
l_int|0x2a1
comma
l_int|0x2a2
comma
l_int|0x2a3
comma
l_int|0x2a4
comma
l_int|0x2a5
comma
l_int|0x2a5
comma
l_int|0x2a6
comma
l_int|0x2a7
comma
l_int|0x2a8
comma
l_int|0x2a8
comma
l_int|0x2a9
comma
l_int|0x2aa
comma
l_int|0x2ab
comma
l_int|0x2ab
comma
l_int|0x2ac
comma
l_int|0x2ad
comma
l_int|0x2ae
comma
l_int|0x2af
comma
l_int|0x2af
comma
l_int|0x2b0
comma
l_int|0x2b1
comma
l_int|0x2b2
comma
l_int|0x2b2
comma
l_int|0x2b3
comma
l_int|0x2b4
comma
l_int|0x2b5
comma
l_int|0x2b5
comma
l_int|0x2b6
comma
l_int|0x2b7
comma
l_int|0x2b8
comma
l_int|0x2b9
comma
l_int|0x2b9
comma
l_int|0x2ba
comma
l_int|0x2bb
comma
l_int|0x2bc
comma
l_int|0x2bc
comma
l_int|0x2bd
comma
l_int|0x2be
comma
l_int|0x2bf
comma
l_int|0x2c0
comma
l_int|0x2c0
comma
l_int|0x2c1
comma
l_int|0x2c2
comma
l_int|0x2c3
comma
l_int|0x2c4
comma
l_int|0x2c4
comma
l_int|0x2c5
comma
l_int|0x2c6
comma
l_int|0x2c7
comma
l_int|0x2c7
comma
l_int|0x2c8
comma
l_int|0x2c9
comma
l_int|0x2ca
comma
l_int|0x2cb
comma
l_int|0x2cb
comma
l_int|0x2cc
comma
l_int|0x2cd
comma
l_int|0x2ce
comma
l_int|0x2ce
comma
l_int|0x2cf
comma
l_int|0x2d0
comma
l_int|0x2d1
comma
l_int|0x2d2
comma
l_int|0x2d2
comma
l_int|0x2d3
comma
l_int|0x2d4
comma
l_int|0x2d5
comma
l_int|0x2d6
comma
l_int|0x2d6
comma
l_int|0x2d7
comma
l_int|0x2d8
comma
l_int|0x2d9
comma
l_int|0x2da
comma
l_int|0x2da
comma
l_int|0x2db
comma
l_int|0x2dc
comma
l_int|0x2dd
comma
l_int|0x2dd
comma
l_int|0x2de
comma
l_int|0x2df
comma
l_int|0x2e0
comma
l_int|0x2e1
comma
l_int|0x2e1
comma
l_int|0x2e2
comma
l_int|0x2e3
comma
l_int|0x2e4
comma
l_int|0x2e5
comma
l_int|0x2e5
comma
l_int|0x2e6
comma
l_int|0x2e7
comma
l_int|0x2e8
comma
l_int|0x2e9
comma
l_int|0x2e9
comma
l_int|0x2ea
comma
l_int|0x2eb
comma
l_int|0x2ec
comma
l_int|0x2ed
comma
l_int|0x2ed
comma
l_int|0x2ee
comma
l_int|0x2ef
comma
l_int|0x2f0
comma
l_int|0x2f1
comma
l_int|0x2f1
comma
l_int|0x2f2
comma
l_int|0x2f3
comma
l_int|0x2f4
comma
l_int|0x2f5
comma
l_int|0x2f5
comma
l_int|0x2f6
comma
l_int|0x2f7
comma
l_int|0x2f8
comma
l_int|0x2f9
comma
l_int|0x2f9
comma
l_int|0x2fa
comma
l_int|0x2fb
comma
l_int|0x2fc
comma
l_int|0x2fd
comma
l_int|0x2fd
comma
l_int|0x2fe
comma
l_int|0x2ff
comma
l_int|0x300
comma
l_int|0x301
comma
l_int|0x302
comma
l_int|0x302
comma
l_int|0x303
comma
l_int|0x304
comma
l_int|0x305
comma
l_int|0x306
comma
l_int|0x306
comma
l_int|0x307
comma
l_int|0x308
comma
l_int|0x309
comma
l_int|0x30a
comma
l_int|0x30a
comma
l_int|0x30b
comma
l_int|0x30c
comma
l_int|0x30d
comma
l_int|0x30e
comma
l_int|0x30f
comma
l_int|0x30f
comma
l_int|0x310
comma
l_int|0x311
comma
l_int|0x312
comma
l_int|0x313
comma
l_int|0x313
comma
l_int|0x314
comma
l_int|0x315
comma
l_int|0x316
comma
l_int|0x317
comma
l_int|0x318
comma
l_int|0x318
comma
l_int|0x319
comma
l_int|0x31a
comma
l_int|0x31b
comma
l_int|0x31c
comma
l_int|0x31c
comma
l_int|0x31d
comma
l_int|0x31e
comma
l_int|0x31f
comma
l_int|0x320
comma
l_int|0x321
comma
l_int|0x321
comma
l_int|0x322
comma
l_int|0x323
comma
l_int|0x324
comma
l_int|0x325
comma
l_int|0x326
comma
l_int|0x326
comma
l_int|0x327
comma
l_int|0x328
comma
l_int|0x329
comma
l_int|0x32a
comma
l_int|0x32a
comma
l_int|0x32b
comma
l_int|0x32c
comma
l_int|0x32d
comma
l_int|0x32e
comma
l_int|0x32f
comma
l_int|0x32f
comma
l_int|0x330
comma
l_int|0x331
comma
l_int|0x332
comma
l_int|0x333
comma
l_int|0x334
comma
l_int|0x334
comma
l_int|0x335
comma
l_int|0x336
comma
l_int|0x337
comma
l_int|0x338
comma
l_int|0x339
comma
l_int|0x339
comma
l_int|0x33a
comma
l_int|0x33b
comma
l_int|0x33c
comma
l_int|0x33d
comma
l_int|0x33e
comma
l_int|0x33e
comma
l_int|0x33f
comma
l_int|0x340
comma
l_int|0x341
comma
l_int|0x342
comma
l_int|0x343
comma
l_int|0x343
comma
l_int|0x344
comma
l_int|0x345
comma
l_int|0x346
comma
l_int|0x347
comma
l_int|0x348
comma
l_int|0x349
comma
l_int|0x349
comma
l_int|0x34a
comma
l_int|0x34b
comma
l_int|0x34c
comma
l_int|0x34d
comma
l_int|0x34e
comma
l_int|0x34e
comma
l_int|0x34f
comma
l_int|0x350
comma
l_int|0x351
comma
l_int|0x352
comma
l_int|0x353
comma
l_int|0x353
comma
l_int|0x354
comma
l_int|0x355
comma
l_int|0x356
comma
l_int|0x357
comma
l_int|0x358
comma
l_int|0x359
comma
l_int|0x359
comma
l_int|0x35a
comma
l_int|0x35b
comma
l_int|0x35c
comma
l_int|0x35d
comma
l_int|0x35e
comma
l_int|0x35f
comma
l_int|0x35f
comma
l_int|0x360
comma
l_int|0x361
comma
l_int|0x362
comma
l_int|0x363
comma
l_int|0x364
comma
l_int|0x364
comma
l_int|0x365
comma
l_int|0x366
comma
l_int|0x367
comma
l_int|0x368
comma
l_int|0x369
comma
l_int|0x36a
comma
l_int|0x36a
comma
l_int|0x36b
comma
l_int|0x36c
comma
l_int|0x36d
comma
l_int|0x36e
comma
l_int|0x36f
comma
l_int|0x370
comma
l_int|0x370
comma
l_int|0x371
comma
l_int|0x372
comma
l_int|0x373
comma
l_int|0x374
comma
l_int|0x375
comma
l_int|0x376
comma
l_int|0x377
comma
l_int|0x377
comma
l_int|0x378
comma
l_int|0x379
comma
l_int|0x37a
comma
l_int|0x37b
comma
l_int|0x37c
comma
l_int|0x37d
comma
l_int|0x37d
comma
l_int|0x37e
comma
l_int|0x37f
comma
l_int|0x380
comma
l_int|0x381
comma
l_int|0x382
comma
l_int|0x383
comma
l_int|0x383
comma
l_int|0x384
comma
l_int|0x385
comma
l_int|0x386
comma
l_int|0x387
comma
l_int|0x388
comma
l_int|0x389
comma
l_int|0x38a
comma
l_int|0x38a
comma
l_int|0x38b
comma
l_int|0x38c
comma
l_int|0x38d
comma
l_int|0x38e
comma
l_int|0x38f
comma
l_int|0x390
comma
l_int|0x391
comma
l_int|0x391
comma
l_int|0x392
comma
l_int|0x393
comma
l_int|0x394
comma
l_int|0x395
comma
l_int|0x396
comma
l_int|0x397
comma
l_int|0x398
comma
l_int|0x398
comma
l_int|0x399
comma
l_int|0x39a
comma
l_int|0x39b
comma
l_int|0x39c
comma
l_int|0x39d
comma
l_int|0x39e
comma
l_int|0x39f
comma
l_int|0x39f
comma
l_int|0x3a0
comma
l_int|0x3a1
comma
l_int|0x3a2
comma
l_int|0x3a3
comma
l_int|0x3a4
comma
l_int|0x3a5
comma
l_int|0x3a6
comma
l_int|0x3a7
comma
l_int|0x3a7
comma
l_int|0x3a8
comma
l_int|0x3a9
comma
l_int|0x3aa
comma
l_int|0x3ab
comma
l_int|0x3ac
comma
l_int|0x3ad
comma
l_int|0x3ae
comma
l_int|0x3ae
comma
l_int|0x3af
comma
l_int|0x3b0
comma
l_int|0x3b1
comma
l_int|0x3b2
comma
l_int|0x3b3
comma
l_int|0x3b4
comma
l_int|0x3b5
comma
l_int|0x3b6
comma
l_int|0x3b6
comma
l_int|0x3b7
comma
l_int|0x3b8
comma
l_int|0x3b9
comma
l_int|0x3ba
comma
l_int|0x3bb
comma
l_int|0x3bc
comma
l_int|0x3bd
comma
l_int|0x3be
comma
l_int|0x3bf
comma
l_int|0x3bf
comma
l_int|0x3c0
comma
l_int|0x3c1
comma
l_int|0x3c2
comma
l_int|0x3c3
comma
l_int|0x3c4
comma
l_int|0x3c5
comma
l_int|0x3c6
comma
l_int|0x3c7
comma
l_int|0x3c7
comma
l_int|0x3c8
comma
l_int|0x3c9
comma
l_int|0x3ca
comma
l_int|0x3cb
comma
l_int|0x3cc
comma
l_int|0x3cd
comma
l_int|0x3ce
comma
l_int|0x3cf
comma
l_int|0x3d0
comma
l_int|0x3d1
comma
l_int|0x3d1
comma
l_int|0x3d2
comma
l_int|0x3d3
comma
l_int|0x3d4
comma
l_int|0x3d5
comma
l_int|0x3d6
comma
l_int|0x3d7
comma
l_int|0x3d8
comma
l_int|0x3d9
comma
l_int|0x3da
comma
l_int|0x3da
comma
l_int|0x3db
comma
l_int|0x3dc
comma
l_int|0x3dd
comma
l_int|0x3de
comma
l_int|0x3df
comma
l_int|0x3e0
comma
l_int|0x3e1
comma
l_int|0x3e2
comma
l_int|0x3e3
comma
l_int|0x3e4
comma
l_int|0x3e4
comma
l_int|0x3e5
comma
l_int|0x3e6
comma
l_int|0x3e7
comma
l_int|0x3e8
comma
l_int|0x3e9
comma
l_int|0x3ea
comma
l_int|0x3eb
comma
l_int|0x3ec
comma
l_int|0x3ed
comma
l_int|0x3ee
comma
l_int|0x3ef
comma
l_int|0x3ef
comma
l_int|0x3f0
comma
l_int|0x3f1
comma
l_int|0x3f2
comma
l_int|0x3f3
comma
l_int|0x3f4
comma
l_int|0x3f5
comma
l_int|0x3f6
comma
l_int|0x3f7
comma
l_int|0x3f8
comma
l_int|0x3f9
comma
l_int|0x3fa
comma
l_int|0x3fa
comma
l_int|0x3fb
comma
l_int|0x3fc
comma
l_int|0x3fd
comma
l_int|0x3fe
comma
l_int|0x3ff
)brace
suffix:semicolon
multiline_comment|/*&n; * Attenuation according to GM recommendations, in -0.375 dB units.&n; * table[v] = 40 * log(v / 127) / -0.375&n; */
DECL|variable|snd_opl4_volume_table
r_static
r_int
r_char
id|snd_opl4_volume_table
(braket
l_int|128
)braket
op_assign
(brace
l_int|255
comma
l_int|224
comma
l_int|192
comma
l_int|173
comma
l_int|160
comma
l_int|150
comma
l_int|141
comma
l_int|134
comma
l_int|128
comma
l_int|122
comma
l_int|117
comma
l_int|113
comma
l_int|109
comma
l_int|105
comma
l_int|102
comma
l_int|99
comma
l_int|96
comma
l_int|93
comma
l_int|90
comma
l_int|88
comma
l_int|85
comma
l_int|83
comma
l_int|81
comma
l_int|79
comma
l_int|77
comma
l_int|75
comma
l_int|73
comma
l_int|71
comma
l_int|70
comma
l_int|68
comma
l_int|67
comma
l_int|65
comma
l_int|64
comma
l_int|62
comma
l_int|61
comma
l_int|59
comma
l_int|58
comma
l_int|57
comma
l_int|56
comma
l_int|54
comma
l_int|53
comma
l_int|52
comma
l_int|51
comma
l_int|50
comma
l_int|49
comma
l_int|48
comma
l_int|47
comma
l_int|46
comma
l_int|45
comma
l_int|44
comma
l_int|43
comma
l_int|42
comma
l_int|41
comma
l_int|40
comma
l_int|39
comma
l_int|39
comma
l_int|38
comma
l_int|37
comma
l_int|36
comma
l_int|35
comma
l_int|34
comma
l_int|34
comma
l_int|33
comma
l_int|32
comma
l_int|31
comma
l_int|31
comma
l_int|30
comma
l_int|29
comma
l_int|29
comma
l_int|28
comma
l_int|27
comma
l_int|27
comma
l_int|26
comma
l_int|25
comma
l_int|25
comma
l_int|24
comma
l_int|24
comma
l_int|23
comma
l_int|22
comma
l_int|22
comma
l_int|21
comma
l_int|21
comma
l_int|20
comma
l_int|19
comma
l_int|19
comma
l_int|18
comma
l_int|18
comma
l_int|17
comma
l_int|17
comma
l_int|16
comma
l_int|16
comma
l_int|15
comma
l_int|15
comma
l_int|14
comma
l_int|14
comma
l_int|13
comma
l_int|13
comma
l_int|12
comma
l_int|12
comma
l_int|11
comma
l_int|11
comma
l_int|10
comma
l_int|10
comma
l_int|9
comma
l_int|9
comma
l_int|9
comma
l_int|8
comma
l_int|8
comma
l_int|7
comma
l_int|7
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|5
comma
l_int|5
comma
l_int|4
comma
l_int|4
comma
l_int|4
comma
l_int|3
comma
l_int|3
comma
l_int|2
comma
l_int|2
comma
l_int|2
comma
l_int|1
comma
l_int|1
comma
l_int|0
comma
l_int|0
comma
l_int|0
)brace
suffix:semicolon
DECL|function|snd_opl4_write_mask
r_static
r_void
id|snd_opl4_write_mask
c_func
(paren
id|opl4_t
op_star
id|opl4
comma
id|u8
id|reg
comma
id|u8
id|mask
comma
id|u8
id|value
)paren
(brace
id|snd_opl4_write
c_func
(paren
id|opl4
comma
id|reg
comma
(paren
(paren
id|snd_opl4_read
c_func
(paren
id|opl4
comma
id|reg
)paren
)paren
op_amp
op_complement
id|mask
)paren
op_or
(paren
id|value
op_amp
id|mask
)paren
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * Initializes all voices.&n; */
DECL|function|snd_opl4_synth_reset
r_void
id|snd_opl4_synth_reset
c_func
(paren
id|opl4_t
op_star
id|opl4
)paren
(brace
r_int
id|i
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|OPL4_MAX_VOICES
suffix:semicolon
id|i
op_increment
)paren
id|snd_opl4_write
c_func
(paren
id|opl4
comma
id|OPL4_REG_MISC
op_plus
id|i
comma
id|OPL4_DAMP_BIT
)paren
suffix:semicolon
id|spin_lock_init
c_func
(paren
op_amp
id|opl4-&gt;voices_lock
)paren
suffix:semicolon
id|INIT_LIST_HEAD
c_func
(paren
op_amp
id|opl4-&gt;off_voices
)paren
suffix:semicolon
id|INIT_LIST_HEAD
c_func
(paren
op_amp
id|opl4-&gt;on_voices
)paren
suffix:semicolon
id|memset
c_func
(paren
id|opl4-&gt;voices
comma
l_int|0
comma
r_sizeof
(paren
id|opl4-&gt;voices
)paren
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|OPL4_MAX_VOICES
suffix:semicolon
id|i
op_increment
)paren
(brace
id|opl4-&gt;voices
(braket
id|i
)braket
dot
id|number
op_assign
id|i
suffix:semicolon
id|list_add_tail
c_func
(paren
op_amp
id|opl4-&gt;voices
(braket
id|i
)braket
dot
id|list
comma
op_amp
id|opl4-&gt;off_voices
)paren
suffix:semicolon
)brace
id|snd_midi_channel_set_clear
c_func
(paren
id|opl4-&gt;chset
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * Shuts down all voices.&n; */
DECL|function|snd_opl4_synth_shutdown
r_void
id|snd_opl4_synth_shutdown
c_func
(paren
id|opl4_t
op_star
id|opl4
)paren
(brace
r_int
id|i
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|OPL4_MAX_VOICES
suffix:semicolon
id|i
op_increment
)paren
id|snd_opl4_write_mask
c_func
(paren
id|opl4
comma
id|OPL4_REG_MISC
op_plus
id|i
comma
id|OPL4_KEY_ON_BIT
comma
l_int|0
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * Executes the callback for all voices playing the specified note.&n; */
DECL|function|snd_opl4_do_for_note
r_static
r_void
id|snd_opl4_do_for_note
c_func
(paren
id|opl4_t
op_star
id|opl4
comma
r_int
id|note
comma
id|snd_midi_channel_t
op_star
id|chan
comma
r_void
(paren
op_star
id|func
)paren
(paren
id|opl4_t
op_star
id|opl4
comma
id|opl4_voice_t
op_star
id|voice
)paren
)paren
(brace
r_int
id|i
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
id|opl4_voice_t
op_star
id|voice
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|opl4-&gt;voices_lock
comma
id|flags
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|OPL4_MAX_VOICES
suffix:semicolon
id|i
op_increment
)paren
(brace
id|voice
op_assign
op_amp
id|opl4-&gt;voices
(braket
id|i
)braket
suffix:semicolon
r_if
c_cond
(paren
id|voice-&gt;chan
op_eq
id|chan
op_logical_and
id|voice-&gt;note
op_eq
id|note
)paren
(brace
id|func
c_func
(paren
id|opl4
comma
id|voice
)paren
suffix:semicolon
)brace
)brace
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|opl4-&gt;voices_lock
comma
id|flags
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * Executes the callback for all voices of to the specified channel.&n; */
DECL|function|snd_opl4_do_for_channel
r_static
r_void
id|snd_opl4_do_for_channel
c_func
(paren
id|opl4_t
op_star
id|opl4
comma
id|snd_midi_channel_t
op_star
id|chan
comma
r_void
(paren
op_star
id|func
)paren
(paren
id|opl4_t
op_star
id|opl4
comma
id|opl4_voice_t
op_star
id|voice
)paren
)paren
(brace
r_int
id|i
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
id|opl4_voice_t
op_star
id|voice
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|opl4-&gt;voices_lock
comma
id|flags
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|OPL4_MAX_VOICES
suffix:semicolon
id|i
op_increment
)paren
(brace
id|voice
op_assign
op_amp
id|opl4-&gt;voices
(braket
id|i
)braket
suffix:semicolon
r_if
c_cond
(paren
id|voice-&gt;chan
op_eq
id|chan
)paren
(brace
id|func
c_func
(paren
id|opl4
comma
id|voice
)paren
suffix:semicolon
)brace
)brace
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|opl4-&gt;voices_lock
comma
id|flags
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * Executes the callback for all active voices.&n; */
DECL|function|snd_opl4_do_for_all
r_static
r_void
id|snd_opl4_do_for_all
c_func
(paren
id|opl4_t
op_star
id|opl4
comma
r_void
(paren
op_star
id|func
)paren
(paren
id|opl4_t
op_star
id|opl4
comma
id|opl4_voice_t
op_star
id|voice
)paren
)paren
(brace
r_int
id|i
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
id|opl4_voice_t
op_star
id|voice
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|opl4-&gt;voices_lock
comma
id|flags
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|OPL4_MAX_VOICES
suffix:semicolon
id|i
op_increment
)paren
(brace
id|voice
op_assign
op_amp
id|opl4-&gt;voices
(braket
id|i
)braket
suffix:semicolon
r_if
c_cond
(paren
id|voice-&gt;chan
)paren
id|func
c_func
(paren
id|opl4
comma
id|voice
)paren
suffix:semicolon
)brace
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|opl4-&gt;voices_lock
comma
id|flags
)paren
suffix:semicolon
)brace
DECL|function|snd_opl4_update_volume
r_static
r_void
id|snd_opl4_update_volume
c_func
(paren
id|opl4_t
op_star
id|opl4
comma
id|opl4_voice_t
op_star
id|voice
)paren
(brace
r_int
id|att
suffix:semicolon
id|att
op_assign
id|voice-&gt;sound-&gt;tone_attenuate
suffix:semicolon
id|att
op_add_assign
id|snd_opl4_volume_table
(braket
id|opl4-&gt;chset-&gt;gs_master_volume
op_amp
l_int|0x7f
)braket
suffix:semicolon
id|att
op_add_assign
id|snd_opl4_volume_table
(braket
id|voice-&gt;chan-&gt;gm_volume
op_amp
l_int|0x7f
)braket
suffix:semicolon
id|att
op_add_assign
id|snd_opl4_volume_table
(braket
id|voice-&gt;chan-&gt;gm_expression
op_amp
l_int|0x7f
)braket
suffix:semicolon
id|att
op_add_assign
id|snd_opl4_volume_table
(braket
id|voice-&gt;velocity
)braket
suffix:semicolon
id|att
op_assign
l_int|0x7f
op_minus
(paren
l_int|0x7f
op_minus
id|att
)paren
op_star
(paren
id|voice-&gt;sound-&gt;volume_factor
)paren
op_div
l_int|0xfe
op_minus
id|volume_boost
suffix:semicolon
r_if
c_cond
(paren
id|att
OL
l_int|0
)paren
id|att
op_assign
l_int|0
suffix:semicolon
r_else
r_if
c_cond
(paren
id|att
OG
l_int|0x7e
)paren
id|att
op_assign
l_int|0x7e
suffix:semicolon
id|snd_opl4_write
c_func
(paren
id|opl4
comma
id|OPL4_REG_LEVEL
op_plus
id|voice-&gt;number
comma
id|att
op_lshift
l_int|1
)paren
suffix:semicolon
)brace
DECL|function|snd_opl4_update_pan
r_static
r_void
id|snd_opl4_update_pan
c_func
(paren
id|opl4_t
op_star
id|opl4
comma
id|opl4_voice_t
op_star
id|voice
)paren
(brace
r_int
id|pan
op_assign
id|voice-&gt;sound-&gt;panpot
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|voice-&gt;chan-&gt;drum_channel
)paren
id|pan
op_add_assign
(paren
id|voice-&gt;chan-&gt;control
(braket
id|MIDI_CTL_MSB_PAN
)braket
op_minus
l_int|0x40
)paren
op_rshift
l_int|3
suffix:semicolon
r_if
c_cond
(paren
id|pan
OL
op_minus
l_int|7
)paren
id|pan
op_assign
op_minus
l_int|7
suffix:semicolon
r_else
r_if
c_cond
(paren
id|pan
OG
l_int|7
)paren
id|pan
op_assign
l_int|7
suffix:semicolon
id|voice-&gt;reg_misc
op_assign
(paren
id|voice-&gt;reg_misc
op_amp
op_complement
id|OPL4_PAN_POT_MASK
)paren
op_or
(paren
id|pan
op_amp
id|OPL4_PAN_POT_MASK
)paren
suffix:semicolon
id|snd_opl4_write
c_func
(paren
id|opl4
comma
id|OPL4_REG_MISC
op_plus
id|voice-&gt;number
comma
id|voice-&gt;reg_misc
)paren
suffix:semicolon
)brace
DECL|function|snd_opl4_update_vibrato_depth
r_static
r_void
id|snd_opl4_update_vibrato_depth
c_func
(paren
id|opl4_t
op_star
id|opl4
comma
id|opl4_voice_t
op_star
id|voice
)paren
(brace
r_int
id|depth
suffix:semicolon
r_if
c_cond
(paren
id|voice-&gt;chan-&gt;drum_channel
)paren
r_return
suffix:semicolon
id|depth
op_assign
(paren
l_int|7
op_minus
id|voice-&gt;sound-&gt;vibrato
)paren
op_star
(paren
id|voice-&gt;chan-&gt;control
(braket
id|MIDI_CTL_VIBRATO_DEPTH
)braket
op_amp
l_int|0x7f
)paren
suffix:semicolon
id|depth
op_assign
(paren
id|depth
op_rshift
l_int|7
)paren
op_plus
id|voice-&gt;sound-&gt;vibrato
suffix:semicolon
id|snd_opl4_write_mask
c_func
(paren
id|opl4
comma
id|OPL4_REG_LFO_VIBRATO
op_plus
id|voice-&gt;number
comma
id|OPL4_VIBRATO_DEPTH_MASK
comma
id|depth
)paren
suffix:semicolon
)brace
DECL|function|snd_opl4_update_pitch
r_static
r_void
id|snd_opl4_update_pitch
c_func
(paren
id|opl4_t
op_star
id|opl4
comma
id|opl4_voice_t
op_star
id|voice
)paren
(brace
id|snd_midi_channel_t
op_star
id|chan
op_assign
id|voice-&gt;chan
suffix:semicolon
r_int
id|note
comma
id|pitch
comma
id|octave
suffix:semicolon
id|note
op_assign
id|chan-&gt;drum_channel
ques
c_cond
l_int|60
suffix:colon
id|voice-&gt;note
suffix:semicolon
multiline_comment|/*&n;&t; * pitch is in 100/128 cents, so 0x80 is one semitone and&n;&t; * 0x600 is one octave.&n;&t; */
id|pitch
op_assign
(paren
(paren
id|note
op_minus
l_int|60
)paren
op_lshift
l_int|7
)paren
op_star
id|voice-&gt;sound-&gt;key_scaling
op_div
l_int|100
op_plus
(paren
l_int|60
op_lshift
l_int|7
)paren
suffix:semicolon
id|pitch
op_add_assign
id|voice-&gt;sound-&gt;pitch_offset
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|chan-&gt;drum_channel
)paren
id|pitch
op_add_assign
id|chan-&gt;gm_rpn_coarse_tuning
suffix:semicolon
id|pitch
op_add_assign
id|chan-&gt;gm_rpn_fine_tuning
op_rshift
l_int|7
suffix:semicolon
id|pitch
op_add_assign
id|chan-&gt;midi_pitchbend
op_star
id|chan-&gt;gm_rpn_pitch_bend_range
op_div
l_int|0x2000
suffix:semicolon
r_if
c_cond
(paren
id|pitch
OL
l_int|0
)paren
id|pitch
op_assign
l_int|0
suffix:semicolon
r_else
r_if
c_cond
(paren
id|pitch
op_ge
l_int|0x6000
)paren
id|pitch
op_assign
l_int|0x5fff
suffix:semicolon
id|octave
op_assign
id|pitch
op_div
l_int|0x600
op_minus
l_int|8
suffix:semicolon
id|pitch
op_assign
id|snd_opl4_pitch_map
(braket
id|pitch
op_mod
l_int|0x600
)braket
suffix:semicolon
id|snd_opl4_write
c_func
(paren
id|opl4
comma
id|OPL4_REG_OCTAVE
op_plus
id|voice-&gt;number
comma
(paren
id|octave
op_lshift
l_int|4
)paren
op_or
(paren
(paren
id|pitch
op_rshift
l_int|7
)paren
op_amp
id|OPL4_F_NUMBER_HIGH_MASK
)paren
)paren
suffix:semicolon
id|voice-&gt;reg_f_number
op_assign
(paren
id|voice-&gt;reg_f_number
op_amp
id|OPL4_TONE_NUMBER_BIT8
)paren
op_or
(paren
(paren
id|pitch
op_lshift
l_int|1
)paren
op_amp
id|OPL4_F_NUMBER_LOW_MASK
)paren
suffix:semicolon
id|snd_opl4_write
c_func
(paren
id|opl4
comma
id|OPL4_REG_F_NUMBER
op_plus
id|voice-&gt;number
comma
id|voice-&gt;reg_f_number
)paren
suffix:semicolon
)brace
DECL|function|snd_opl4_update_tone_parameters
r_static
r_void
id|snd_opl4_update_tone_parameters
c_func
(paren
id|opl4_t
op_star
id|opl4
comma
id|opl4_voice_t
op_star
id|voice
)paren
(brace
id|snd_opl4_write
c_func
(paren
id|opl4
comma
id|OPL4_REG_LFO_VIBRATO
op_plus
id|voice-&gt;number
comma
id|voice-&gt;sound-&gt;reg_lfo_vibrato
)paren
suffix:semicolon
id|snd_opl4_write
c_func
(paren
id|opl4
comma
id|OPL4_REG_ATTACK_DECAY1
op_plus
id|voice-&gt;number
comma
id|voice-&gt;sound-&gt;reg_attack_decay1
)paren
suffix:semicolon
id|snd_opl4_write
c_func
(paren
id|opl4
comma
id|OPL4_REG_LEVEL_DECAY2
op_plus
id|voice-&gt;number
comma
id|voice-&gt;sound-&gt;reg_level_decay2
)paren
suffix:semicolon
id|snd_opl4_write
c_func
(paren
id|opl4
comma
id|OPL4_REG_RELEASE_CORRECTION
op_plus
id|voice-&gt;number
comma
id|voice-&gt;sound-&gt;reg_release_correction
)paren
suffix:semicolon
id|snd_opl4_write
c_func
(paren
id|opl4
comma
id|OPL4_REG_TREMOLO
op_plus
id|voice-&gt;number
comma
id|voice-&gt;sound-&gt;reg_tremolo
)paren
suffix:semicolon
)brace
multiline_comment|/* allocate one voice */
DECL|function|snd_opl4_get_voice
r_static
id|opl4_voice_t
op_star
id|snd_opl4_get_voice
c_func
(paren
id|opl4_t
op_star
id|opl4
)paren
(brace
multiline_comment|/* first, try to get the oldest key-off voice */
r_if
c_cond
(paren
op_logical_neg
id|list_empty
c_func
(paren
op_amp
id|opl4-&gt;off_voices
)paren
)paren
r_return
id|list_entry
c_func
(paren
id|opl4-&gt;off_voices.next
comma
id|opl4_voice_t
comma
id|list
)paren
suffix:semicolon
multiline_comment|/* then get the oldest key-on voice */
id|snd_assert
c_func
(paren
op_logical_neg
id|list_empty
c_func
(paren
op_amp
id|opl4-&gt;on_voices
)paren
comma
)paren
suffix:semicolon
r_return
id|list_entry
c_func
(paren
id|opl4-&gt;on_voices.next
comma
id|opl4_voice_t
comma
id|list
)paren
suffix:semicolon
)brace
DECL|function|snd_opl4_wait_for_wave_headers
r_static
r_void
id|snd_opl4_wait_for_wave_headers
c_func
(paren
id|opl4_t
op_star
id|opl4
)paren
(brace
r_int
id|timeout
op_assign
l_int|200
suffix:semicolon
r_while
c_loop
(paren
(paren
id|inb
c_func
(paren
id|opl4-&gt;fm_port
)paren
op_amp
id|OPL4_STATUS_LOAD
)paren
op_logical_and
op_decrement
id|timeout
OG
l_int|0
)paren
id|udelay
c_func
(paren
l_int|10
)paren
suffix:semicolon
)brace
DECL|function|snd_opl4_note_on
r_void
id|snd_opl4_note_on
c_func
(paren
r_void
op_star
id|private_data
comma
r_int
id|note
comma
r_int
id|vel
comma
id|snd_midi_channel_t
op_star
id|chan
)paren
(brace
id|opl4_t
op_star
id|opl4
op_assign
id|snd_magic_cast
c_func
(paren
id|opl4_t
comma
id|private_data
comma
r_return
)paren
suffix:semicolon
r_const
id|opl4_region_ptr_t
op_star
id|regions
suffix:semicolon
id|opl4_voice_t
op_star
id|voice
(braket
l_int|2
)braket
suffix:semicolon
r_const
id|opl4_sound_t
op_star
id|sound
(braket
l_int|2
)braket
suffix:semicolon
r_int
id|voices
op_assign
l_int|0
comma
id|i
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
multiline_comment|/* determine the number of voices and voice parameters */
id|i
op_assign
id|chan-&gt;drum_channel
ques
c_cond
l_int|0x80
suffix:colon
(paren
id|chan-&gt;midi_program
op_amp
l_int|0x7f
)paren
suffix:semicolon
id|regions
op_assign
op_amp
id|snd_yrw801_regions
(braket
id|i
)braket
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|regions-&gt;count
suffix:semicolon
id|i
op_increment
)paren
(brace
r_if
c_cond
(paren
id|note
op_ge
id|regions-&gt;regions
(braket
id|i
)braket
dot
id|key_min
op_logical_and
id|note
op_le
id|regions-&gt;regions
(braket
id|i
)braket
dot
id|key_max
)paren
(brace
id|sound
(braket
id|voices
)braket
op_assign
op_amp
id|regions-&gt;regions
(braket
id|i
)braket
dot
id|sound
suffix:semicolon
r_if
c_cond
(paren
op_increment
id|voices
op_ge
l_int|2
)paren
r_break
suffix:semicolon
)brace
)brace
multiline_comment|/* allocate and initialize the needed voices */
id|spin_lock_irqsave
c_func
(paren
op_amp
id|opl4-&gt;voices_lock
comma
id|flags
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|voices
suffix:semicolon
id|i
op_increment
)paren
(brace
id|voice
(braket
id|i
)braket
op_assign
id|snd_opl4_get_voice
c_func
(paren
id|opl4
)paren
suffix:semicolon
id|list_del
c_func
(paren
op_amp
id|voice
(braket
id|i
)braket
op_member_access_from_pointer
id|list
)paren
suffix:semicolon
id|list_add_tail
c_func
(paren
op_amp
id|voice
(braket
id|i
)braket
op_member_access_from_pointer
id|list
comma
op_amp
id|opl4-&gt;on_voices
)paren
suffix:semicolon
id|voice
(braket
id|i
)braket
op_member_access_from_pointer
id|chan
op_assign
id|chan
suffix:semicolon
id|voice
(braket
id|i
)braket
op_member_access_from_pointer
id|note
op_assign
id|note
suffix:semicolon
id|voice
(braket
id|i
)braket
op_member_access_from_pointer
id|velocity
op_assign
id|vel
op_amp
l_int|0x7f
suffix:semicolon
id|voice
(braket
id|i
)braket
op_member_access_from_pointer
id|sound
op_assign
id|sound
(braket
id|i
)braket
suffix:semicolon
)brace
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|opl4-&gt;voices_lock
comma
id|flags
)paren
suffix:semicolon
multiline_comment|/* set tone number (triggers header loading) */
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|voices
suffix:semicolon
id|i
op_increment
)paren
(brace
id|voice
(braket
id|i
)braket
op_member_access_from_pointer
id|reg_f_number
op_assign
(paren
id|sound
(braket
id|i
)braket
op_member_access_from_pointer
id|tone
op_rshift
l_int|8
)paren
op_amp
id|OPL4_TONE_NUMBER_BIT8
suffix:semicolon
id|snd_opl4_write
c_func
(paren
id|opl4
comma
id|OPL4_REG_F_NUMBER
op_plus
id|voice
(braket
id|i
)braket
op_member_access_from_pointer
id|number
comma
id|voice
(braket
id|i
)braket
op_member_access_from_pointer
id|reg_f_number
)paren
suffix:semicolon
id|snd_opl4_write
c_func
(paren
id|opl4
comma
id|OPL4_REG_TONE_NUMBER
op_plus
id|voice
(braket
id|i
)braket
op_member_access_from_pointer
id|number
comma
id|sound
(braket
id|i
)braket
op_member_access_from_pointer
id|tone
op_amp
l_int|0xff
)paren
suffix:semicolon
)brace
multiline_comment|/* set parameters which can be set while loading */
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|voices
suffix:semicolon
id|i
op_increment
)paren
(brace
id|voice
(braket
id|i
)braket
op_member_access_from_pointer
id|reg_misc
op_assign
id|OPL4_LFO_RESET_BIT
suffix:semicolon
id|snd_opl4_update_pan
c_func
(paren
id|opl4
comma
id|voice
(braket
id|i
)braket
)paren
suffix:semicolon
id|snd_opl4_update_pitch
c_func
(paren
id|opl4
comma
id|voice
(braket
id|i
)braket
)paren
suffix:semicolon
id|snd_opl4_update_volume
c_func
(paren
id|opl4
comma
id|voice
(braket
id|i
)braket
)paren
suffix:semicolon
)brace
multiline_comment|/* wait for completion of loading */
id|snd_opl4_wait_for_wave_headers
c_func
(paren
id|opl4
)paren
suffix:semicolon
multiline_comment|/* set remaining parameters */
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|voices
suffix:semicolon
id|i
op_increment
)paren
(brace
id|snd_opl4_update_tone_parameters
c_func
(paren
id|opl4
comma
id|voice
(braket
id|i
)braket
)paren
suffix:semicolon
id|snd_opl4_update_vibrato_depth
c_func
(paren
id|opl4
comma
id|voice
(braket
id|i
)braket
)paren
suffix:semicolon
)brace
multiline_comment|/* finally, switch on all voices */
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|voices
suffix:semicolon
id|i
op_increment
)paren
(brace
id|voice
(braket
id|i
)braket
op_member_access_from_pointer
id|reg_misc
op_assign
(paren
id|voice
(braket
id|i
)braket
op_member_access_from_pointer
id|reg_misc
op_amp
l_int|0x1f
)paren
op_or
id|OPL4_KEY_ON_BIT
suffix:semicolon
id|snd_opl4_write
c_func
(paren
id|opl4
comma
id|OPL4_REG_MISC
op_plus
id|voice
(braket
id|i
)braket
op_member_access_from_pointer
id|number
comma
id|voice
(braket
id|i
)braket
op_member_access_from_pointer
id|reg_misc
)paren
suffix:semicolon
)brace
)brace
DECL|function|snd_opl4_voice_off
r_static
r_void
id|snd_opl4_voice_off
c_func
(paren
id|opl4_t
op_star
id|opl4
comma
id|opl4_voice_t
op_star
id|voice
)paren
(brace
id|list_del
c_func
(paren
op_amp
id|voice-&gt;list
)paren
suffix:semicolon
id|list_add_tail
c_func
(paren
op_amp
id|voice-&gt;list
comma
op_amp
id|opl4-&gt;off_voices
)paren
suffix:semicolon
id|voice-&gt;reg_misc
op_and_assign
op_complement
id|OPL4_KEY_ON_BIT
suffix:semicolon
id|snd_opl4_write
c_func
(paren
id|opl4
comma
id|OPL4_REG_MISC
op_plus
id|voice-&gt;number
comma
id|voice-&gt;reg_misc
)paren
suffix:semicolon
)brace
DECL|function|snd_opl4_note_off
r_void
id|snd_opl4_note_off
c_func
(paren
r_void
op_star
id|private_data
comma
r_int
id|note
comma
r_int
id|vel
comma
id|snd_midi_channel_t
op_star
id|chan
)paren
(brace
id|opl4_t
op_star
id|opl4
op_assign
id|snd_magic_cast
c_func
(paren
id|opl4_t
comma
id|private_data
comma
r_return
)paren
suffix:semicolon
id|snd_opl4_do_for_note
c_func
(paren
id|opl4
comma
id|note
comma
id|chan
comma
id|snd_opl4_voice_off
)paren
suffix:semicolon
)brace
DECL|function|snd_opl4_terminate_voice
r_static
r_void
id|snd_opl4_terminate_voice
c_func
(paren
id|opl4_t
op_star
id|opl4
comma
id|opl4_voice_t
op_star
id|voice
)paren
(brace
id|list_del
c_func
(paren
op_amp
id|voice-&gt;list
)paren
suffix:semicolon
id|list_add_tail
c_func
(paren
op_amp
id|voice-&gt;list
comma
op_amp
id|opl4-&gt;off_voices
)paren
suffix:semicolon
id|voice-&gt;reg_misc
op_assign
(paren
id|voice-&gt;reg_misc
op_amp
op_complement
id|OPL4_KEY_ON_BIT
)paren
op_or
id|OPL4_DAMP_BIT
suffix:semicolon
id|snd_opl4_write
c_func
(paren
id|opl4
comma
id|OPL4_REG_MISC
op_plus
id|voice-&gt;number
comma
id|voice-&gt;reg_misc
)paren
suffix:semicolon
)brace
DECL|function|snd_opl4_terminate_note
r_void
id|snd_opl4_terminate_note
c_func
(paren
r_void
op_star
id|private_data
comma
r_int
id|note
comma
id|snd_midi_channel_t
op_star
id|chan
)paren
(brace
id|opl4_t
op_star
id|opl4
op_assign
id|snd_magic_cast
c_func
(paren
id|opl4_t
comma
id|private_data
comma
r_return
)paren
suffix:semicolon
id|snd_opl4_do_for_note
c_func
(paren
id|opl4
comma
id|note
comma
id|chan
comma
id|snd_opl4_terminate_voice
)paren
suffix:semicolon
)brace
DECL|function|snd_opl4_control
r_void
id|snd_opl4_control
c_func
(paren
r_void
op_star
id|private_data
comma
r_int
id|type
comma
id|snd_midi_channel_t
op_star
id|chan
)paren
(brace
id|opl4_t
op_star
id|opl4
op_assign
id|snd_magic_cast
c_func
(paren
id|opl4_t
comma
id|private_data
comma
r_return
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|type
)paren
(brace
r_case
id|MIDI_CTL_MSB_MODWHEEL
suffix:colon
id|chan-&gt;control
(braket
id|MIDI_CTL_VIBRATO_DEPTH
)braket
op_assign
id|chan-&gt;control
(braket
id|MIDI_CTL_MSB_MODWHEEL
)braket
suffix:semicolon
id|snd_opl4_do_for_channel
c_func
(paren
id|opl4
comma
id|chan
comma
id|snd_opl4_update_vibrato_depth
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|MIDI_CTL_MSB_MAIN_VOLUME
suffix:colon
id|snd_opl4_do_for_channel
c_func
(paren
id|opl4
comma
id|chan
comma
id|snd_opl4_update_volume
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|MIDI_CTL_MSB_PAN
suffix:colon
id|snd_opl4_do_for_channel
c_func
(paren
id|opl4
comma
id|chan
comma
id|snd_opl4_update_pan
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|MIDI_CTL_MSB_EXPRESSION
suffix:colon
id|snd_opl4_do_for_channel
c_func
(paren
id|opl4
comma
id|chan
comma
id|snd_opl4_update_volume
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|MIDI_CTL_VIBRATO_RATE
suffix:colon
multiline_comment|/* not yet supported */
r_break
suffix:semicolon
r_case
id|MIDI_CTL_VIBRATO_DEPTH
suffix:colon
id|snd_opl4_do_for_channel
c_func
(paren
id|opl4
comma
id|chan
comma
id|snd_opl4_update_vibrato_depth
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|MIDI_CTL_VIBRATO_DELAY
suffix:colon
multiline_comment|/* not yet supported */
r_break
suffix:semicolon
r_case
id|MIDI_CTL_E1_REVERB_DEPTH
suffix:colon
multiline_comment|/*&n;&t;&t; * Each OPL4 voice has a bit called &quot;Pseudo-Reverb&quot;, but&n;&t;&t; * IMHO _not_ using it enhances the listening experience.&n;&t;&t; */
r_break
suffix:semicolon
r_case
id|MIDI_CTL_PITCHBEND
suffix:colon
id|snd_opl4_do_for_channel
c_func
(paren
id|opl4
comma
id|chan
comma
id|snd_opl4_update_pitch
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
)brace
DECL|function|snd_opl4_sysex
r_void
id|snd_opl4_sysex
c_func
(paren
r_void
op_star
id|private_data
comma
r_int
r_char
op_star
id|buf
comma
r_int
id|len
comma
r_int
id|parsed
comma
id|snd_midi_channel_set_t
op_star
id|chset
)paren
(brace
id|opl4_t
op_star
id|opl4
op_assign
id|snd_magic_cast
c_func
(paren
id|opl4_t
comma
id|private_data
comma
r_return
)paren
suffix:semicolon
r_if
c_cond
(paren
id|parsed
op_eq
id|SNDRV_MIDI_SYSEX_GS_MASTER_VOLUME
)paren
id|snd_opl4_do_for_all
c_func
(paren
id|opl4
comma
id|snd_opl4_update_volume
)paren
suffix:semicolon
)brace
eof
