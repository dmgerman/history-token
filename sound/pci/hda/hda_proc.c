multiline_comment|/*&n; * Universal Interface for Intel High Definition Audio Codec&n; * &n; * Generic proc interface&n; *&n; * Copyright (c) 2004 Takashi Iwai &lt;tiwai@suse.de&gt;&n; *&n; *&n; *  This driver is free software; you can redistribute it and/or modify&n; *  it under the terms of the GNU General Public License as published by&n; *  the Free Software Foundation; either version 2 of the License, or&n; *  (at your option) any later version.&n; *&n; *  This driver is distributed in the hope that it will be useful,&n; *  but WITHOUT ANY WARRANTY; without even the implied warranty of&n; *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the&n; *  GNU General Public License for more details.&n; *&n; *  You should have received a copy of the GNU General Public License&n; *  along with this program; if not, write to the Free Software&n; *  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA&n; */
macro_line|#include &lt;sound/driver.h&gt;
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;linux/pci.h&gt;
macro_line|#include &lt;sound/core.h&gt;
macro_line|#include &quot;hda_codec.h&quot;
DECL|function|get_wid_type_name
r_static
r_const
r_char
op_star
id|get_wid_type_name
c_func
(paren
r_int
r_int
id|wid_value
)paren
(brace
r_static
r_char
op_star
id|names
(braket
l_int|16
)braket
op_assign
(brace
(braket
id|AC_WID_AUD_OUT
)braket
op_assign
l_string|&quot;Audio Output&quot;
comma
(braket
id|AC_WID_AUD_IN
)braket
op_assign
l_string|&quot;Audio Input&quot;
comma
(braket
id|AC_WID_AUD_MIX
)braket
op_assign
l_string|&quot;Audio Mixer&quot;
comma
(braket
id|AC_WID_AUD_SEL
)braket
op_assign
l_string|&quot;Audio Selector&quot;
comma
(braket
id|AC_WID_PIN
)braket
op_assign
l_string|&quot;Pin Complex&quot;
comma
(braket
id|AC_WID_POWER
)braket
op_assign
l_string|&quot;Power Widget&quot;
comma
(braket
id|AC_WID_VOL_KNB
)braket
op_assign
l_string|&quot;Volume Knob Widget&quot;
comma
(braket
id|AC_WID_BEEP
)braket
op_assign
l_string|&quot;Beep Generator Widget&quot;
comma
(braket
id|AC_WID_VENDOR
)braket
op_assign
l_string|&quot;Vendor Defined Widget&quot;
comma
)brace
suffix:semicolon
id|wid_value
op_and_assign
l_int|0xf
suffix:semicolon
r_if
c_cond
(paren
id|names
(braket
id|wid_value
)braket
)paren
r_return
id|names
(braket
id|wid_value
)braket
suffix:semicolon
r_else
r_return
l_string|&quot;UNKOWN Widget&quot;
suffix:semicolon
)brace
DECL|function|print_amp_caps
r_static
r_void
id|print_amp_caps
c_func
(paren
id|snd_info_buffer_t
op_star
id|buffer
comma
r_struct
id|hda_codec
op_star
id|codec
comma
id|hda_nid_t
id|nid
comma
r_int
id|dir
)paren
(brace
r_int
r_int
id|caps
suffix:semicolon
r_if
c_cond
(paren
id|dir
op_eq
id|HDA_OUTPUT
)paren
id|caps
op_assign
id|snd_hda_param_read
c_func
(paren
id|codec
comma
id|nid
comma
id|AC_PAR_AMP_OUT_CAP
)paren
suffix:semicolon
r_else
id|caps
op_assign
id|snd_hda_param_read
c_func
(paren
id|codec
comma
id|nid
comma
id|AC_PAR_AMP_IN_CAP
)paren
suffix:semicolon
r_if
c_cond
(paren
id|caps
op_eq
op_minus
l_int|1
op_logical_or
id|caps
op_eq
l_int|0
)paren
(brace
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot;N/A&bslash;n&quot;
)paren
suffix:semicolon
r_return
suffix:semicolon
)brace
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot;ofs=0x%02x, nsteps=0x%02x, stepsize=0x%02x, mute=%x&bslash;n&quot;
comma
id|caps
op_amp
id|AC_AMPCAP_OFFSET
comma
(paren
id|caps
op_amp
id|AC_AMPCAP_NUM_STEPS
)paren
op_rshift
id|AC_AMPCAP_NUM_STEPS_SHIFT
comma
(paren
id|caps
op_amp
id|AC_AMPCAP_STEP_SIZE
)paren
op_rshift
id|AC_AMPCAP_STEP_SIZE_SHIFT
comma
(paren
id|caps
op_amp
id|AC_AMPCAP_MUTE
)paren
op_rshift
id|AC_AMPCAP_MUTE_SHIFT
)paren
suffix:semicolon
)brace
DECL|function|print_amp_vals
r_static
r_void
id|print_amp_vals
c_func
(paren
id|snd_info_buffer_t
op_star
id|buffer
comma
r_struct
id|hda_codec
op_star
id|codec
comma
id|hda_nid_t
id|nid
comma
r_int
id|dir
comma
r_int
id|stereo
)paren
(brace
r_int
r_int
id|val
suffix:semicolon
r_if
c_cond
(paren
id|stereo
)paren
(brace
id|val
op_assign
id|snd_hda_codec_read
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_GET_AMP_GAIN_MUTE
comma
id|AC_AMP_GET_LEFT
op_or
(paren
id|dir
op_eq
id|HDA_OUTPUT
ques
c_cond
id|AC_AMP_GET_OUTPUT
suffix:colon
id|AC_AMP_GET_INPUT
)paren
)paren
suffix:semicolon
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot;0x%02x &quot;
comma
id|val
)paren
suffix:semicolon
)brace
id|val
op_assign
id|snd_hda_codec_read
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_GET_AMP_GAIN_MUTE
comma
id|AC_AMP_GET_RIGHT
op_or
(paren
id|dir
op_eq
id|HDA_OUTPUT
ques
c_cond
id|AC_AMP_GET_OUTPUT
suffix:colon
id|AC_AMP_GET_INPUT
)paren
)paren
suffix:semicolon
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot;0x%02x&bslash;n&quot;
comma
id|val
)paren
suffix:semicolon
)brace
DECL|function|print_pcm_caps
r_static
r_void
id|print_pcm_caps
c_func
(paren
id|snd_info_buffer_t
op_star
id|buffer
comma
r_struct
id|hda_codec
op_star
id|codec
comma
id|hda_nid_t
id|nid
)paren
(brace
r_int
r_int
id|pcm
op_assign
id|snd_hda_param_read
c_func
(paren
id|codec
comma
id|nid
comma
id|AC_PAR_PCM
)paren
suffix:semicolon
r_int
r_int
id|stream
op_assign
id|snd_hda_param_read
c_func
(paren
id|codec
comma
id|nid
comma
id|AC_PAR_STREAM
)paren
suffix:semicolon
r_if
c_cond
(paren
id|pcm
op_eq
op_minus
l_int|1
op_logical_or
id|stream
op_eq
op_minus
l_int|1
)paren
(brace
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot;N/A&bslash;n&quot;
)paren
suffix:semicolon
r_return
suffix:semicolon
)brace
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot;rates 0x%03x, bits 0x%02x, types 0x%x&bslash;n&quot;
comma
id|pcm
op_amp
id|AC_SUPPCM_RATES
comma
(paren
id|pcm
op_rshift
l_int|16
)paren
op_amp
l_int|0xff
comma
id|stream
op_amp
l_int|0xf
)paren
suffix:semicolon
)brace
DECL|function|get_jack_location
r_static
r_const
r_char
op_star
id|get_jack_location
c_func
(paren
id|u32
id|cfg
)paren
(brace
r_static
r_char
op_star
id|bases
(braket
l_int|7
)braket
op_assign
(brace
l_string|&quot;N/A&quot;
comma
l_string|&quot;Rear&quot;
comma
l_string|&quot;Front&quot;
comma
l_string|&quot;Left&quot;
comma
l_string|&quot;Right&quot;
comma
l_string|&quot;Top&quot;
comma
l_string|&quot;Bottom&quot;
comma
)brace
suffix:semicolon
r_static
r_int
r_char
id|specials_idx
(braket
)braket
op_assign
(brace
l_int|0x07
comma
l_int|0x08
comma
l_int|0x17
comma
l_int|0x18
comma
l_int|0x19
comma
l_int|0x37
comma
l_int|0x38
)brace
suffix:semicolon
r_static
r_char
op_star
id|specials
(braket
)braket
op_assign
(brace
l_string|&quot;Rear Panel&quot;
comma
l_string|&quot;Drive Bar&quot;
comma
l_string|&quot;Riser&quot;
comma
l_string|&quot;HDMI&quot;
comma
l_string|&quot;ATAPI&quot;
comma
l_string|&quot;Mobile-In&quot;
comma
l_string|&quot;Mobile-Out&quot;
)brace
suffix:semicolon
r_int
id|i
suffix:semicolon
id|cfg
op_assign
(paren
id|cfg
op_amp
id|AC_DEFCFG_LOCATION
)paren
op_rshift
id|AC_DEFCFG_LOCATION_SHIFT
suffix:semicolon
r_if
c_cond
(paren
(paren
id|cfg
op_amp
l_int|0x0f
)paren
OL
l_int|7
)paren
r_return
id|bases
(braket
id|cfg
op_amp
l_int|0x0f
)braket
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|ARRAY_SIZE
c_func
(paren
id|specials_idx
)paren
suffix:semicolon
id|i
op_increment
)paren
(brace
r_if
c_cond
(paren
id|cfg
op_eq
id|specials_idx
(braket
id|i
)braket
)paren
r_return
id|specials
(braket
id|i
)braket
suffix:semicolon
)brace
r_return
l_string|&quot;UNKNOWN&quot;
suffix:semicolon
)brace
DECL|function|get_jack_connection
r_static
r_const
r_char
op_star
id|get_jack_connection
c_func
(paren
id|u32
id|cfg
)paren
(brace
r_static
r_char
op_star
id|names
(braket
l_int|16
)braket
op_assign
(brace
l_string|&quot;Unknown&quot;
comma
l_string|&quot;1/8&quot;
comma
l_string|&quot;1/4&quot;
comma
l_string|&quot;ATAPI&quot;
comma
l_string|&quot;RCA&quot;
comma
l_string|&quot;Optical&quot;
comma
l_string|&quot;Digital&quot;
comma
l_string|&quot;Analog&quot;
comma
l_string|&quot;DIN&quot;
comma
l_string|&quot;XLR&quot;
comma
l_string|&quot;RJ11&quot;
comma
l_string|&quot;Comb&quot;
comma
l_int|NULL
comma
l_int|NULL
comma
l_int|NULL
comma
l_string|&quot;Other&quot;
)brace
suffix:semicolon
id|cfg
op_assign
(paren
id|cfg
op_amp
id|AC_DEFCFG_CONN_TYPE
)paren
op_rshift
id|AC_DEFCFG_CONN_TYPE_SHIFT
suffix:semicolon
r_if
c_cond
(paren
id|names
(braket
id|cfg
)braket
)paren
r_return
id|names
(braket
id|cfg
)braket
suffix:semicolon
r_else
r_return
l_string|&quot;UNKNOWN&quot;
suffix:semicolon
)brace
DECL|function|get_jack_color
r_static
r_const
r_char
op_star
id|get_jack_color
c_func
(paren
id|u32
id|cfg
)paren
(brace
r_static
r_char
op_star
id|names
(braket
l_int|16
)braket
op_assign
(brace
l_string|&quot;Unknown&quot;
comma
l_string|&quot;Black&quot;
comma
l_string|&quot;Grey&quot;
comma
l_string|&quot;Blue&quot;
comma
l_string|&quot;Green&quot;
comma
l_string|&quot;Red&quot;
comma
l_string|&quot;Orange&quot;
comma
l_string|&quot;Yellow&quot;
comma
l_string|&quot;Purple&quot;
comma
l_string|&quot;Pink&quot;
comma
l_int|NULL
comma
l_int|NULL
comma
l_int|NULL
comma
l_int|NULL
comma
l_string|&quot;White&quot;
comma
l_string|&quot;Other&quot;
comma
)brace
suffix:semicolon
id|cfg
op_assign
(paren
id|cfg
op_amp
id|AC_DEFCFG_COLOR
)paren
op_rshift
id|AC_DEFCFG_COLOR_SHIFT
suffix:semicolon
r_if
c_cond
(paren
id|names
(braket
id|cfg
)braket
)paren
r_return
id|names
(braket
id|cfg
)braket
suffix:semicolon
r_else
r_return
l_string|&quot;UNKNOWN&quot;
suffix:semicolon
)brace
DECL|function|print_pin_caps
r_static
r_void
id|print_pin_caps
c_func
(paren
id|snd_info_buffer_t
op_star
id|buffer
comma
r_struct
id|hda_codec
op_star
id|codec
comma
id|hda_nid_t
id|nid
)paren
(brace
r_static
r_char
op_star
id|jack_types
(braket
l_int|16
)braket
op_assign
(brace
l_string|&quot;Line Out&quot;
comma
l_string|&quot;Speaker&quot;
comma
l_string|&quot;HP Out&quot;
comma
l_string|&quot;CD&quot;
comma
l_string|&quot;SPDIF Out&quot;
comma
l_string|&quot;Digital Out&quot;
comma
l_string|&quot;Modem Line&quot;
comma
l_string|&quot;Modem Hand&quot;
comma
l_string|&quot;Line In&quot;
comma
l_string|&quot;Aux&quot;
comma
l_string|&quot;Mic&quot;
comma
l_string|&quot;Telephony&quot;
comma
l_string|&quot;SPDIF In&quot;
comma
l_string|&quot;Digitial In&quot;
comma
l_string|&quot;Reserved&quot;
comma
l_string|&quot;Other&quot;
)brace
suffix:semicolon
r_static
r_char
op_star
id|jack_locations
(braket
l_int|4
)braket
op_assign
(brace
l_string|&quot;Ext&quot;
comma
l_string|&quot;Int&quot;
comma
l_string|&quot;Sep&quot;
comma
l_string|&quot;Oth&quot;
)brace
suffix:semicolon
r_int
r_int
id|caps
suffix:semicolon
id|caps
op_assign
id|snd_hda_param_read
c_func
(paren
id|codec
comma
id|nid
comma
id|AC_PAR_PIN_CAP
)paren
suffix:semicolon
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot;  Pincap 0x08%x:&quot;
comma
id|caps
)paren
suffix:semicolon
r_if
c_cond
(paren
id|caps
op_amp
id|AC_PINCAP_IN
)paren
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot; IN&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|caps
op_amp
id|AC_PINCAP_OUT
)paren
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot; OUT&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|caps
op_amp
id|AC_PINCAP_HP_DRV
)paren
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot; HP&quot;
)paren
suffix:semicolon
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot;&bslash;n&quot;
)paren
suffix:semicolon
id|caps
op_assign
id|snd_hda_codec_read
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_GET_CONFIG_DEFAULT
comma
l_int|0
)paren
suffix:semicolon
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot;  Pin Default 0x%08x: %s at %s %s&bslash;n&quot;
comma
id|caps
comma
id|jack_types
(braket
(paren
id|caps
op_amp
id|AC_DEFCFG_DEVICE
)paren
op_rshift
id|AC_DEFCFG_DEVICE_SHIFT
)braket
comma
id|jack_locations
(braket
(paren
id|caps
op_rshift
(paren
id|AC_DEFCFG_LOCATION_SHIFT
op_plus
l_int|4
)paren
)paren
op_amp
l_int|3
)braket
comma
id|get_jack_location
c_func
(paren
id|caps
)paren
)paren
suffix:semicolon
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot;    Conn = %s, Color = %s&bslash;n&quot;
comma
id|get_jack_connection
c_func
(paren
id|caps
)paren
comma
id|get_jack_color
c_func
(paren
id|caps
)paren
)paren
suffix:semicolon
)brace
DECL|function|print_codec_info
r_static
r_void
id|print_codec_info
c_func
(paren
id|snd_info_entry_t
op_star
id|entry
comma
id|snd_info_buffer_t
op_star
id|buffer
)paren
(brace
r_struct
id|hda_codec
op_star
id|codec
op_assign
id|entry-&gt;private_data
suffix:semicolon
r_char
id|buf
(braket
l_int|32
)braket
suffix:semicolon
id|hda_nid_t
id|nid
suffix:semicolon
r_int
id|i
comma
id|nodes
suffix:semicolon
id|snd_hda_get_codec_name
c_func
(paren
id|codec
comma
id|buf
comma
r_sizeof
(paren
id|buf
)paren
)paren
suffix:semicolon
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot;Codec: %s&bslash;n&quot;
comma
id|buf
)paren
suffix:semicolon
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot;Address: %d&bslash;n&quot;
comma
id|codec-&gt;addr
)paren
suffix:semicolon
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot;Vendor Id: 0x%x&bslash;n&quot;
comma
id|codec-&gt;vendor_id
)paren
suffix:semicolon
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot;Subsystem Id: 0x%x&bslash;n&quot;
comma
id|codec-&gt;subsystem_id
)paren
suffix:semicolon
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot;Revision Id: 0x%x&bslash;n&quot;
comma
id|codec-&gt;revision_id
)paren
suffix:semicolon
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot;Default PCM: &quot;
)paren
suffix:semicolon
id|print_pcm_caps
c_func
(paren
id|buffer
comma
id|codec
comma
id|codec-&gt;afg
)paren
suffix:semicolon
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot;Default Amp-In caps: &quot;
)paren
suffix:semicolon
id|print_amp_caps
c_func
(paren
id|buffer
comma
id|codec
comma
id|codec-&gt;afg
comma
id|HDA_INPUT
)paren
suffix:semicolon
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot;Default Amp-Out caps: &quot;
)paren
suffix:semicolon
id|print_amp_caps
c_func
(paren
id|buffer
comma
id|codec
comma
id|codec-&gt;afg
comma
id|HDA_OUTPUT
)paren
suffix:semicolon
id|nodes
op_assign
id|snd_hda_get_sub_nodes
c_func
(paren
id|codec
comma
id|codec-&gt;afg
comma
op_amp
id|nid
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|nid
op_logical_or
id|nodes
OL
l_int|0
)paren
(brace
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot;Invalid AFG subtree&bslash;n&quot;
)paren
suffix:semicolon
r_return
suffix:semicolon
)brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|nodes
suffix:semicolon
id|i
op_increment
comma
id|nid
op_increment
)paren
(brace
r_int
r_int
id|wid_caps
op_assign
id|snd_hda_param_read
c_func
(paren
id|codec
comma
id|nid
comma
id|AC_PAR_AUDIO_WIDGET_CAP
)paren
suffix:semicolon
r_int
r_int
id|wid_type
op_assign
(paren
id|wid_caps
op_amp
id|AC_WCAP_TYPE
)paren
op_rshift
id|AC_WCAP_TYPE_SHIFT
suffix:semicolon
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot;Node 0x%02x [%s] wcaps 0x%x:&quot;
comma
id|nid
comma
id|get_wid_type_name
c_func
(paren
id|wid_type
)paren
comma
id|wid_caps
)paren
suffix:semicolon
r_if
c_cond
(paren
id|wid_caps
op_amp
id|AC_WCAP_STEREO
)paren
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot; Stereo&quot;
)paren
suffix:semicolon
r_else
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot; Mono&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|wid_caps
op_amp
id|AC_WCAP_DIGITAL
)paren
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot; Digital&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|wid_caps
op_amp
id|AC_WCAP_IN_AMP
)paren
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot; Amp-In&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|wid_caps
op_amp
id|AC_WCAP_OUT_AMP
)paren
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot; Amp-Out&quot;
)paren
suffix:semicolon
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot;&bslash;n&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|wid_caps
op_amp
id|AC_WCAP_IN_AMP
)paren
(brace
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot;  Amp-In caps: &quot;
)paren
suffix:semicolon
id|print_amp_caps
c_func
(paren
id|buffer
comma
id|codec
comma
id|nid
comma
id|HDA_INPUT
)paren
suffix:semicolon
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot;  Amp-In vals: &quot;
)paren
suffix:semicolon
id|print_amp_vals
c_func
(paren
id|buffer
comma
id|codec
comma
id|nid
comma
id|HDA_INPUT
comma
id|wid_caps
op_amp
id|AC_WCAP_STEREO
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|wid_caps
op_amp
id|AC_WCAP_OUT_AMP
)paren
(brace
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot;  Amp-Out caps: &quot;
)paren
suffix:semicolon
id|print_amp_caps
c_func
(paren
id|buffer
comma
id|codec
comma
id|nid
comma
id|HDA_OUTPUT
)paren
suffix:semicolon
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot;  Amp-Out vals: &quot;
)paren
suffix:semicolon
id|print_amp_vals
c_func
(paren
id|buffer
comma
id|codec
comma
id|nid
comma
id|HDA_OUTPUT
comma
id|wid_caps
op_amp
id|AC_WCAP_STEREO
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|wid_type
op_eq
id|AC_WID_PIN
)paren
(brace
r_int
r_int
id|pinctls
suffix:semicolon
id|print_pin_caps
c_func
(paren
id|buffer
comma
id|codec
comma
id|nid
)paren
suffix:semicolon
id|pinctls
op_assign
id|snd_hda_codec_read
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_GET_PIN_WIDGET_CONTROL
comma
l_int|0
)paren
suffix:semicolon
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot;  Pin-ctls: 0x%02x:&quot;
comma
id|pinctls
)paren
suffix:semicolon
r_if
c_cond
(paren
id|pinctls
op_amp
id|AC_PINCTL_IN_EN
)paren
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot; IN&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|pinctls
op_amp
id|AC_PINCTL_OUT_EN
)paren
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot; OUT&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|pinctls
op_amp
id|AC_PINCTL_HP_EN
)paren
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot; HP&quot;
)paren
suffix:semicolon
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot;&bslash;n&quot;
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
(paren
id|wid_type
op_eq
id|AC_WID_AUD_OUT
op_logical_or
id|wid_type
op_eq
id|AC_WID_AUD_IN
)paren
op_logical_and
(paren
id|wid_caps
op_amp
id|AC_WCAP_FORMAT_OVRD
)paren
)paren
(brace
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot;  PCM: &quot;
)paren
suffix:semicolon
id|print_pcm_caps
c_func
(paren
id|buffer
comma
id|codec
comma
id|nid
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|wid_caps
op_amp
id|AC_WCAP_CONN_LIST
)paren
(brace
id|hda_nid_t
id|conn
(braket
id|HDA_MAX_CONNECTIONS
)braket
suffix:semicolon
r_int
id|c
comma
id|conn_len
suffix:semicolon
id|conn_len
op_assign
id|snd_hda_get_connections
c_func
(paren
id|codec
comma
id|nid
comma
id|conn
comma
id|HDA_MAX_CONNECTIONS
)paren
suffix:semicolon
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot;  Connection: %d&bslash;n&quot;
comma
id|conn_len
)paren
suffix:semicolon
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot;    &quot;
)paren
suffix:semicolon
r_for
c_loop
(paren
id|c
op_assign
l_int|0
suffix:semicolon
id|c
OL
id|conn_len
suffix:semicolon
id|c
op_increment
)paren
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot; 0x%02x&quot;
comma
id|conn
(braket
id|c
)braket
)paren
suffix:semicolon
id|snd_iprintf
c_func
(paren
id|buffer
comma
l_string|&quot;&bslash;n&quot;
)paren
suffix:semicolon
)brace
)brace
)brace
multiline_comment|/*&n; * create a proc read&n; */
DECL|function|snd_hda_codec_proc_new
r_int
id|snd_hda_codec_proc_new
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
r_char
id|name
(braket
l_int|32
)braket
suffix:semicolon
id|snd_info_entry_t
op_star
id|entry
suffix:semicolon
r_int
id|err
suffix:semicolon
id|snprintf
c_func
(paren
id|name
comma
r_sizeof
(paren
id|name
)paren
comma
l_string|&quot;codec#%d&quot;
comma
id|codec-&gt;addr
)paren
suffix:semicolon
id|err
op_assign
id|snd_card_proc_new
c_func
(paren
id|codec-&gt;bus-&gt;card
comma
id|name
comma
op_amp
id|entry
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
r_return
id|err
suffix:semicolon
id|snd_info_set_text_ops
c_func
(paren
id|entry
comma
id|codec
comma
l_int|32
op_star
l_int|1024
comma
id|print_codec_info
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
eof
