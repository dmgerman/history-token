multiline_comment|/*&n; *  Copyright (c) by Jaroslav Kysela &lt;perex@suse.cz&gt;&n; *                   Creative Labs, Inc.&n; *  Routines for effect processor FX8010&n; *&n; *  BUGS:&n; *    --&n; *&n; *  TODO:&n; *    --&n; *&n; *   This program is free software; you can redistribute it and/or modify&n; *   it under the terms of the GNU General Public License as published by&n; *   the Free Software Foundation; either version 2 of the License, or&n; *   (at your option) any later version.&n; *&n; *   This program is distributed in the hope that it will be useful,&n; *   but WITHOUT ANY WARRANTY; without even the implied warranty of&n; *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the&n; *   GNU General Public License for more details.&n; *&n; *   You should have received a copy of the GNU General Public License&n; *   along with this program; if not, write to the Free Software&n; *   Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA&n; *&n; */
DECL|macro|__NO_VERSION__
mdefine_line|#define __NO_VERSION__
macro_line|#include &lt;sound/driver.h&gt;
macro_line|#include &lt;linux/delay.h&gt;
macro_line|#include &lt;linux/slab.h&gt;
macro_line|#include &lt;sound/core.h&gt;
macro_line|#include &lt;sound/emu10k1.h&gt;
DECL|macro|chip_t
mdefine_line|#define chip_t emu10k1_t
macro_line|#if 0&t;&t;/* for testing purposes - digital out -&gt; capture */
mdefine_line|#define EMU10K1_CAPTURE_DIGITAL_OUT
macro_line|#endif
macro_line|#if 0&t;&t;/* for testing purposes - set S/PDIF to AC3 output */
mdefine_line|#define EMU10K1_SET_AC3_IEC958
macro_line|#endif
macro_line|#if 0&t;&t;/* for testing purposes - feed the front signal to Center/LFE outputs */
mdefine_line|#define EMU10K1_CENTER_LFE_FROM_FRONT
macro_line|#endif
multiline_comment|/*&n; *  Tables&n; */
DECL|variable|fxbuses
r_static
r_char
op_star
id|fxbuses
(braket
l_int|16
)braket
op_assign
(brace
multiline_comment|/* 0x00 */
l_string|&quot;PCM Left&quot;
comma
multiline_comment|/* 0x01 */
l_string|&quot;PCM Right&quot;
comma
multiline_comment|/* 0x02 */
l_string|&quot;PCM Surround Left&quot;
comma
multiline_comment|/* 0x03 */
l_string|&quot;PCM Surround Right&quot;
comma
multiline_comment|/* 0x04 */
l_string|&quot;MIDI Left&quot;
comma
multiline_comment|/* 0x05 */
l_string|&quot;MIDI Right&quot;
comma
multiline_comment|/* 0x06 */
l_string|&quot;Center&quot;
comma
multiline_comment|/* 0x07 */
l_string|&quot;LFE&quot;
comma
multiline_comment|/* 0x08 */
l_int|NULL
comma
multiline_comment|/* 0x09 */
l_int|NULL
comma
multiline_comment|/* 0x0a */
l_int|NULL
comma
multiline_comment|/* 0x0b */
l_int|NULL
comma
multiline_comment|/* 0x0c */
l_string|&quot;MIDI Reverb&quot;
comma
multiline_comment|/* 0x0d */
l_string|&quot;MIDI Chorus&quot;
comma
multiline_comment|/* 0x0e */
l_int|NULL
comma
multiline_comment|/* 0x0f */
l_int|NULL
)brace
suffix:semicolon
DECL|variable|creative_ins
r_static
r_char
op_star
id|creative_ins
(braket
l_int|16
)braket
op_assign
(brace
multiline_comment|/* 0x00 */
l_string|&quot;AC97 Left&quot;
comma
multiline_comment|/* 0x01 */
l_string|&quot;AC97 Right&quot;
comma
multiline_comment|/* 0x02 */
l_string|&quot;TTL IEC958 Left&quot;
comma
multiline_comment|/* 0x03 */
l_string|&quot;TTL IEC958 Right&quot;
comma
multiline_comment|/* 0x04 */
l_string|&quot;Zoom Video Left&quot;
comma
multiline_comment|/* 0x05 */
l_string|&quot;Zoom Video Right&quot;
comma
multiline_comment|/* 0x06 */
l_string|&quot;Optical IEC958 Left&quot;
comma
multiline_comment|/* 0x07 */
l_string|&quot;Optical IEC958 Right&quot;
comma
multiline_comment|/* 0x08 */
l_string|&quot;Line/Mic 1 Left&quot;
comma
multiline_comment|/* 0x09 */
l_string|&quot;Line/Mic 1 Right&quot;
comma
multiline_comment|/* 0x0a */
l_string|&quot;Coaxial IEC958 Left&quot;
comma
multiline_comment|/* 0x0b */
l_string|&quot;Coaxial IEC958 Right&quot;
comma
multiline_comment|/* 0x0c */
l_string|&quot;Line/Mic 2 Left&quot;
comma
multiline_comment|/* 0x0d */
l_string|&quot;Line/Mic 2 Right&quot;
comma
multiline_comment|/* 0x0e */
l_int|NULL
comma
multiline_comment|/* 0x0f */
l_int|NULL
)brace
suffix:semicolon
DECL|variable|audigy_ins
r_static
r_char
op_star
id|audigy_ins
(braket
l_int|16
)braket
op_assign
(brace
multiline_comment|/* 0x00 */
l_string|&quot;AC97 Left&quot;
comma
multiline_comment|/* 0x01 */
l_string|&quot;AC97 Right&quot;
comma
multiline_comment|/* 0x02 */
l_string|&quot;Audigy CD Left&quot;
comma
multiline_comment|/* 0x03 */
l_string|&quot;Audigy CD Right&quot;
comma
multiline_comment|/* 0x04 */
l_int|NULL
comma
multiline_comment|/* 0x05 */
l_int|NULL
comma
multiline_comment|/* 0x06 */
l_int|NULL
comma
multiline_comment|/* 0x07 */
l_int|NULL
comma
multiline_comment|/* 0x08 */
l_string|&quot;Line/Mic 2 Left&quot;
comma
multiline_comment|/* 0x09 */
l_string|&quot;Line/Mic 2 Right&quot;
comma
multiline_comment|/* 0x0a */
l_int|NULL
comma
multiline_comment|/* 0x0b */
l_int|NULL
comma
multiline_comment|/* 0x0c */
l_string|&quot;Aux2 Left&quot;
comma
multiline_comment|/* 0x0d */
l_string|&quot;Aux2 Right&quot;
comma
multiline_comment|/* 0x0e */
l_int|NULL
comma
multiline_comment|/* 0x0f */
l_int|NULL
)brace
suffix:semicolon
DECL|variable|creative_outs
r_static
r_char
op_star
id|creative_outs
(braket
l_int|32
)braket
op_assign
(brace
multiline_comment|/* 0x00 */
l_string|&quot;AC97 Left&quot;
comma
multiline_comment|/* 0x01 */
l_string|&quot;AC97 Right&quot;
comma
multiline_comment|/* 0x02 */
l_string|&quot;Optical IEC958 Left&quot;
comma
multiline_comment|/* 0x03 */
l_string|&quot;Optical IEC958 Right&quot;
comma
multiline_comment|/* 0x04 */
l_string|&quot;Center&quot;
comma
multiline_comment|/* 0x05 */
l_string|&quot;LFE&quot;
comma
multiline_comment|/* 0x06 */
l_string|&quot;Headphone Left&quot;
comma
multiline_comment|/* 0x07 */
l_string|&quot;Headphone Right&quot;
comma
multiline_comment|/* 0x08 */
l_string|&quot;Surround Left&quot;
comma
multiline_comment|/* 0x09 */
l_string|&quot;Surround Right&quot;
comma
multiline_comment|/* 0x0a */
l_string|&quot;PCM Capture Left&quot;
comma
multiline_comment|/* 0x0b */
l_string|&quot;PCM Capture Right&quot;
comma
multiline_comment|/* 0x0c */
l_string|&quot;MIC Capture&quot;
comma
multiline_comment|/* 0x0d */
l_int|NULL
comma
multiline_comment|/* 0x0e */
l_int|NULL
comma
multiline_comment|/* 0x0f */
l_int|NULL
comma
multiline_comment|/* 0x10 */
l_int|NULL
comma
multiline_comment|/* 0x11 */
l_string|&quot;Analog Center&quot;
comma
multiline_comment|/* 0x12 */
l_string|&quot;Analog LFE&quot;
comma
multiline_comment|/* 0x13 */
l_int|NULL
comma
multiline_comment|/* 0x14 */
l_int|NULL
comma
multiline_comment|/* 0x15 */
l_int|NULL
comma
multiline_comment|/* 0x16 */
l_int|NULL
comma
multiline_comment|/* 0x17 */
l_int|NULL
comma
multiline_comment|/* 0x18 */
l_int|NULL
comma
multiline_comment|/* 0x19 */
l_int|NULL
comma
multiline_comment|/* 0x1a */
l_int|NULL
comma
multiline_comment|/* 0x1b */
l_int|NULL
comma
multiline_comment|/* 0x1c */
l_int|NULL
comma
multiline_comment|/* 0x1d */
l_int|NULL
comma
multiline_comment|/* 0x1e */
l_int|NULL
comma
multiline_comment|/* 0x1f */
l_int|NULL
comma
)brace
suffix:semicolon
DECL|variable|audigy_outs
r_static
r_char
op_star
id|audigy_outs
(braket
l_int|32
)braket
op_assign
(brace
multiline_comment|/* 0x00 */
l_string|&quot;Digital Front Left&quot;
comma
multiline_comment|/* 0x01 */
l_string|&quot;Digital Front Right&quot;
comma
multiline_comment|/* 0x02 */
l_string|&quot;Digital Center&quot;
comma
multiline_comment|/* 0x03 */
l_string|&quot;Digital LEF&quot;
comma
multiline_comment|/* 0x04 */
l_string|&quot;Headphone Left&quot;
comma
multiline_comment|/* 0x05 */
l_string|&quot;Headphone Right&quot;
comma
multiline_comment|/* 0x06 */
l_string|&quot;Digital Rear Left&quot;
comma
multiline_comment|/* 0x07 */
l_string|&quot;Digital Rear Right&quot;
comma
multiline_comment|/* 0x08 */
l_string|&quot;Front Left&quot;
comma
multiline_comment|/* 0x09 */
l_string|&quot;Front Right&quot;
comma
multiline_comment|/* 0x0a */
l_string|&quot;Center&quot;
comma
multiline_comment|/* 0x0b */
l_string|&quot;LFE&quot;
comma
multiline_comment|/* 0x0c */
l_int|NULL
comma
multiline_comment|/* 0x0d */
l_int|NULL
comma
multiline_comment|/* 0x0e */
l_string|&quot;Rear Left&quot;
comma
multiline_comment|/* 0x0f */
l_string|&quot;Rear Right&quot;
comma
multiline_comment|/* 0x10 */
l_string|&quot;AC97 Front Left&quot;
comma
multiline_comment|/* 0x11 */
l_string|&quot;AC97 Front Right&quot;
comma
multiline_comment|/* 0x12 */
l_string|&quot;ADC Caputre Left&quot;
comma
multiline_comment|/* 0x13 */
l_string|&quot;ADC Capture Right&quot;
comma
multiline_comment|/* 0x14 */
l_int|NULL
comma
multiline_comment|/* 0x15 */
l_int|NULL
comma
multiline_comment|/* 0x16 */
l_int|NULL
comma
multiline_comment|/* 0x17 */
l_int|NULL
comma
multiline_comment|/* 0x18 */
l_int|NULL
comma
multiline_comment|/* 0x19 */
l_int|NULL
comma
multiline_comment|/* 0x1a */
l_int|NULL
comma
multiline_comment|/* 0x1b */
l_int|NULL
comma
multiline_comment|/* 0x1c */
l_int|NULL
comma
multiline_comment|/* 0x1d */
l_int|NULL
comma
multiline_comment|/* 0x1e */
l_int|NULL
comma
multiline_comment|/* 0x1f */
l_int|NULL
comma
)brace
suffix:semicolon
DECL|variable|bass_table
r_static
r_const
id|u32
id|bass_table
(braket
l_int|41
)braket
(braket
l_int|5
)braket
op_assign
(brace
(brace
l_int|0x3e4f844f
comma
l_int|0x84ed4cc3
comma
l_int|0x3cc69927
comma
l_int|0x7b03553a
comma
l_int|0xc4da8486
)brace
comma
(brace
l_int|0x3e69a17a
comma
l_int|0x84c280fb
comma
l_int|0x3cd77cd4
comma
l_int|0x7b2f2a6f
comma
l_int|0xc4b08d1d
)brace
comma
(brace
l_int|0x3e82ff42
comma
l_int|0x849991d5
comma
l_int|0x3ce7466b
comma
l_int|0x7b5917c6
comma
l_int|0xc48863ee
)brace
comma
(brace
l_int|0x3e9bab3c
comma
l_int|0x847267f0
comma
l_int|0x3cf5ffe8
comma
l_int|0x7b813560
comma
l_int|0xc461f22c
)brace
comma
(brace
l_int|0x3eb3b275
comma
l_int|0x844ced29
comma
l_int|0x3d03b295
comma
l_int|0x7ba79a1c
comma
l_int|0xc43d223b
)brace
comma
(brace
l_int|0x3ecb2174
comma
l_int|0x84290c8b
comma
l_int|0x3d106714
comma
l_int|0x7bcc5ba3
comma
l_int|0xc419dfa5
)brace
comma
(brace
l_int|0x3ee2044b
comma
l_int|0x8406b244
comma
l_int|0x3d1c2561
comma
l_int|0x7bef8e77
comma
l_int|0xc3f8170f
)brace
comma
(brace
l_int|0x3ef86698
comma
l_int|0x83e5cb96
comma
l_int|0x3d26f4d8
comma
l_int|0x7c114600
comma
l_int|0xc3d7b625
)brace
comma
(brace
l_int|0x3f0e5390
comma
l_int|0x83c646c9
comma
l_int|0x3d30dc39
comma
l_int|0x7c319498
comma
l_int|0xc3b8ab97
)brace
comma
(brace
l_int|0x3f23d60b
comma
l_int|0x83a81321
comma
l_int|0x3d39e1af
comma
l_int|0x7c508b9c
comma
l_int|0xc39ae704
)brace
comma
(brace
l_int|0x3f38f884
comma
l_int|0x838b20d2
comma
l_int|0x3d420ad2
comma
l_int|0x7c6e3b75
comma
l_int|0xc37e58f1
)brace
comma
(brace
l_int|0x3f4dc52c
comma
l_int|0x836f60ef
comma
l_int|0x3d495cab
comma
l_int|0x7c8ab3a6
comma
l_int|0xc362f2be
)brace
comma
(brace
l_int|0x3f6245e8
comma
l_int|0x8354c565
comma
l_int|0x3d4fdbb8
comma
l_int|0x7ca602d6
comma
l_int|0xc348a69b
)brace
comma
(brace
l_int|0x3f76845f
comma
l_int|0x833b40ec
comma
l_int|0x3d558bf0
comma
l_int|0x7cc036df
comma
l_int|0xc32f677c
)brace
comma
(brace
l_int|0x3f8a8a03
comma
l_int|0x8322c6fb
comma
l_int|0x3d5a70c4
comma
l_int|0x7cd95cd7
comma
l_int|0xc317290b
)brace
comma
(brace
l_int|0x3f9e6014
comma
l_int|0x830b4bc3
comma
l_int|0x3d5e8d25
comma
l_int|0x7cf1811a
comma
l_int|0xc2ffdfa5
)brace
comma
(brace
l_int|0x3fb20fae
comma
l_int|0x82f4c420
comma
l_int|0x3d61e37f
comma
l_int|0x7d08af56
comma
l_int|0xc2e9804a
)brace
comma
(brace
l_int|0x3fc5a1cc
comma
l_int|0x82df2592
comma
l_int|0x3d6475c3
comma
l_int|0x7d1ef294
comma
l_int|0xc2d40096
)brace
comma
(brace
l_int|0x3fd91f55
comma
l_int|0x82ca6632
comma
l_int|0x3d664564
comma
l_int|0x7d345541
comma
l_int|0xc2bf56b9
)brace
comma
(brace
l_int|0x3fec9120
comma
l_int|0x82b67cac
comma
l_int|0x3d675356
comma
l_int|0x7d48e138
comma
l_int|0xc2ab796e
)brace
comma
(brace
l_int|0x401374c7
comma
l_int|0x8291088a
comma
l_int|0x3d672b93
comma
l_int|0x7d6f99c3
comma
l_int|0xc28601f2
)brace
comma
(brace
l_int|0x4026f857
comma
l_int|0x827f6dd7
comma
l_int|0x3d65f559
comma
l_int|0x7d81d77c
comma
l_int|0xc27457a3
)brace
comma
(brace
l_int|0x403a939f
comma
l_int|0x826e88c5
comma
l_int|0x3d63fc63
comma
l_int|0x7d9360d4
comma
l_int|0xc2635996
)brace
comma
(brace
l_int|0x404e4faf
comma
l_int|0x825e5266
comma
l_int|0x3d613f32
comma
l_int|0x7da43d42
comma
l_int|0xc25300c6
)brace
comma
(brace
l_int|0x406235ba
comma
l_int|0x824ec434
comma
l_int|0x3d5dbbc3
comma
l_int|0x7db473d7
comma
l_int|0xc243468e
)brace
comma
(brace
l_int|0x40764f1f
comma
l_int|0x823fd80c
comma
l_int|0x3d596f8f
comma
l_int|0x7dc40b44
comma
l_int|0xc23424a2
)brace
comma
(brace
l_int|0x408aa576
comma
l_int|0x82318824
comma
l_int|0x3d545787
comma
l_int|0x7dd309e2
comma
l_int|0xc2259509
)brace
comma
(brace
l_int|0x409f4296
comma
l_int|0x8223cf0b
comma
l_int|0x3d4e7012
comma
l_int|0x7de175b5
comma
l_int|0xc2179218
)brace
comma
(brace
l_int|0x40b430a0
comma
l_int|0x8216a7a1
comma
l_int|0x3d47b505
comma
l_int|0x7def5475
comma
l_int|0xc20a1670
)brace
comma
(brace
l_int|0x40c97a0a
comma
l_int|0x820a0d12
comma
l_int|0x3d4021a1
comma
l_int|0x7dfcab8d
comma
l_int|0xc1fd1cf5
)brace
comma
(brace
l_int|0x40df29a6
comma
l_int|0x81fdfad6
comma
l_int|0x3d37b08d
comma
l_int|0x7e098028
comma
l_int|0xc1f0a0ca
)brace
comma
(brace
l_int|0x40f54ab1
comma
l_int|0x81f26ca9
comma
l_int|0x3d2e5bd1
comma
l_int|0x7e15d72b
comma
l_int|0xc1e49d52
)brace
comma
(brace
l_int|0x410be8da
comma
l_int|0x81e75e89
comma
l_int|0x3d241cce
comma
l_int|0x7e21b544
comma
l_int|0xc1d90e24
)brace
comma
(brace
l_int|0x41231051
comma
l_int|0x81dcccb3
comma
l_int|0x3d18ec37
comma
l_int|0x7e2d1ee6
comma
l_int|0xc1cdef10
)brace
comma
(brace
l_int|0x413acdd0
comma
l_int|0x81d2b39e
comma
l_int|0x3d0cc20a
comma
l_int|0x7e38184e
comma
l_int|0xc1c33c13
)brace
comma
(brace
l_int|0x41532ea7
comma
l_int|0x81c90ffb
comma
l_int|0x3cff9585
comma
l_int|0x7e42a58b
comma
l_int|0xc1b8f15a
)brace
comma
(brace
l_int|0x416c40cd
comma
l_int|0x81bfdeb2
comma
l_int|0x3cf15d21
comma
l_int|0x7e4cca7c
comma
l_int|0xc1af0b3f
)brace
comma
(brace
l_int|0x418612ea
comma
l_int|0x81b71cdc
comma
l_int|0x3ce20e85
comma
l_int|0x7e568ad3
comma
l_int|0xc1a58640
)brace
comma
(brace
l_int|0x41a0b465
comma
l_int|0x81aec7c5
comma
l_int|0x3cd19e7c
comma
l_int|0x7e5fea1e
comma
l_int|0xc19c5f03
)brace
comma
(brace
l_int|0x41bc3573
comma
l_int|0x81a6dcea
comma
l_int|0x3cc000e9
comma
l_int|0x7e68ebc2
comma
l_int|0xc1939250
)brace
)brace
suffix:semicolon
DECL|variable|treble_table
r_static
r_const
id|u32
id|treble_table
(braket
l_int|41
)braket
(braket
l_int|5
)braket
op_assign
(brace
(brace
l_int|0x0125cba9
comma
l_int|0xfed5debd
comma
l_int|0x00599b6c
comma
l_int|0x0d2506da
comma
l_int|0xfa85b354
)brace
comma
(brace
l_int|0x0142f67e
comma
l_int|0xfeb03163
comma
l_int|0x0066cd0f
comma
l_int|0x0d14c69d
comma
l_int|0xfa914473
)brace
comma
(brace
l_int|0x016328bd
comma
l_int|0xfe860158
comma
l_int|0x0075b7f2
comma
l_int|0x0d03eb27
comma
l_int|0xfa9d32d2
)brace
comma
(brace
l_int|0x0186b438
comma
l_int|0xfe56c982
comma
l_int|0x00869234
comma
l_int|0x0cf27048
comma
l_int|0xfaa97fca
)brace
comma
(brace
l_int|0x01adf358
comma
l_int|0xfe21f5fe
comma
l_int|0x00999842
comma
l_int|0x0ce051c2
comma
l_int|0xfab62ca5
)brace
comma
(brace
l_int|0x01d949fa
comma
l_int|0xfde6e287
comma
l_int|0x00af0d8d
comma
l_int|0x0ccd8b4a
comma
l_int|0xfac33aa7
)brace
comma
(brace
l_int|0x02092669
comma
l_int|0xfda4d8bf
comma
l_int|0x00c73d4c
comma
l_int|0x0cba1884
comma
l_int|0xfad0ab07
)brace
comma
(brace
l_int|0x023e0268
comma
l_int|0xfd5b0e4a
comma
l_int|0x00e27b54
comma
l_int|0x0ca5f509
comma
l_int|0xfade7ef2
)brace
comma
(brace
l_int|0x0278645c
comma
l_int|0xfd08a2b0
comma
l_int|0x01012509
comma
l_int|0x0c911c63
comma
l_int|0xfaecb788
)brace
comma
(brace
l_int|0x02b8e091
comma
l_int|0xfcac9d1a
comma
l_int|0x0123a262
comma
l_int|0x0c7b8a14
comma
l_int|0xfafb55df
)brace
comma
(brace
l_int|0x03001a9a
comma
l_int|0xfc45e9ce
comma
l_int|0x014a6709
comma
l_int|0x0c65398f
comma
l_int|0xfb0a5aff
)brace
comma
(brace
l_int|0x034ec6d7
comma
l_int|0xfbd3576b
comma
l_int|0x0175f397
comma
l_int|0x0c4e2643
comma
l_int|0xfb19c7e4
)brace
comma
(brace
l_int|0x03a5ac15
comma
l_int|0xfb5393ee
comma
l_int|0x01a6d6ed
comma
l_int|0x0c364b94
comma
l_int|0xfb299d7c
)brace
comma
(brace
l_int|0x0405a562
comma
l_int|0xfac52968
comma
l_int|0x01ddafae
comma
l_int|0x0c1da4e2
comma
l_int|0xfb39dca5
)brace
comma
(brace
l_int|0x046fa3fe
comma
l_int|0xfa267a66
comma
l_int|0x021b2ddd
comma
l_int|0x0c042d8d
comma
l_int|0xfb4a8631
)brace
comma
(brace
l_int|0x04e4b17f
comma
l_int|0xf975be0f
comma
l_int|0x0260149f
comma
l_int|0x0be9e0f2
comma
l_int|0xfb5b9ae0
)brace
comma
(brace
l_int|0x0565f220
comma
l_int|0xf8b0fbe5
comma
l_int|0x02ad3c29
comma
l_int|0x0bceba73
comma
l_int|0xfb6d1b60
)brace
comma
(brace
l_int|0x05f4a745
comma
l_int|0xf7d60722
comma
l_int|0x030393d4
comma
l_int|0x0bb2b578
comma
l_int|0xfb7f084d
)brace
comma
(brace
l_int|0x06923236
comma
l_int|0xf6e279bd
comma
l_int|0x03642465
comma
l_int|0x0b95cd75
comma
l_int|0xfb916233
)brace
comma
(brace
l_int|0x07401713
comma
l_int|0xf5d3aef9
comma
l_int|0x03d01283
comma
l_int|0x0b77fded
comma
l_int|0xfba42984
)brace
comma
(brace
l_int|0x08000000
comma
l_int|0xf4a6bd88
comma
l_int|0x0448a161
comma
l_int|0x0b594278
comma
l_int|0xfbb75e9f
)brace
comma
(brace
l_int|0x08d3c097
comma
l_int|0xf3587131
comma
l_int|0x04cf35a4
comma
l_int|0x0b3996c9
comma
l_int|0xfbcb01cb
)brace
comma
(brace
l_int|0x09bd59a2
comma
l_int|0xf1e543f9
comma
l_int|0x05655880
comma
l_int|0x0b18f6b2
comma
l_int|0xfbdf1333
)brace
comma
(brace
l_int|0x0abefd0f
comma
l_int|0xf04956ca
comma
l_int|0x060cbb12
comma
l_int|0x0af75e2c
comma
l_int|0xfbf392e8
)brace
comma
(brace
l_int|0x0bdb123e
comma
l_int|0xee806984
comma
l_int|0x06c739fe
comma
l_int|0x0ad4c962
comma
l_int|0xfc0880dd
)brace
comma
(brace
l_int|0x0d143a94
comma
l_int|0xec85d287
comma
l_int|0x0796e150
comma
l_int|0x0ab134b0
comma
l_int|0xfc1ddce5
)brace
comma
(brace
l_int|0x0e6d5664
comma
l_int|0xea547598
comma
l_int|0x087df0a0
comma
l_int|0x0a8c9cb6
comma
l_int|0xfc33a6ad
)brace
comma
(brace
l_int|0x0fe98a2a
comma
l_int|0xe7e6ba35
comma
l_int|0x097edf83
comma
l_int|0x0a66fe5b
comma
l_int|0xfc49ddc2
)brace
comma
(brace
l_int|0x118c4421
comma
l_int|0xe536813a
comma
l_int|0x0a9c6248
comma
l_int|0x0a4056d7
comma
l_int|0xfc608185
)brace
comma
(brace
l_int|0x1359422e
comma
l_int|0xe23d19eb
comma
l_int|0x0bd96efb
comma
l_int|0x0a18a3bf
comma
l_int|0xfc77912c
)brace
comma
(brace
l_int|0x1554982b
comma
l_int|0xdef33645
comma
l_int|0x0d3942bd
comma
l_int|0x09efe312
comma
l_int|0xfc8f0bc1
)brace
comma
(brace
l_int|0x1782b68a
comma
l_int|0xdb50deb1
comma
l_int|0x0ebf676d
comma
l_int|0x09c6133f
comma
l_int|0xfca6f019
)brace
comma
(brace
l_int|0x19e8715d
comma
l_int|0xd74d64fd
comma
l_int|0x106fb999
comma
l_int|0x099b3337
comma
l_int|0xfcbf3cd6
)brace
comma
(brace
l_int|0x1c8b07b8
comma
l_int|0xd2df56ab
comma
l_int|0x124e6ec8
comma
l_int|0x096f4274
comma
l_int|0xfcd7f060
)brace
comma
(brace
l_int|0x1f702b6d
comma
l_int|0xcdfc6e92
comma
l_int|0x14601c10
comma
l_int|0x0942410b
comma
l_int|0xfcf108e5
)brace
comma
(brace
l_int|0x229e0933
comma
l_int|0xc89985cd
comma
l_int|0x16a9bcfa
comma
l_int|0x09142fb5
comma
l_int|0xfd0a8451
)brace
comma
(brace
l_int|0x261b5118
comma
l_int|0xc2aa8409
comma
l_int|0x1930bab6
comma
l_int|0x08e50fdc
comma
l_int|0xfd24604d
)brace
comma
(brace
l_int|0x29ef3f5d
comma
l_int|0xbc224f28
comma
l_int|0x1bfaf396
comma
l_int|0x08b4e3aa
comma
l_int|0xfd3e9a3b
)brace
comma
(brace
l_int|0x2e21a59b
comma
l_int|0xb4f2ba46
comma
l_int|0x1f0ec2d6
comma
l_int|0x0883ae15
comma
l_int|0xfd592f33
)brace
comma
(brace
l_int|0x32baf44b
comma
l_int|0xad0c7429
comma
l_int|0x227308a3
comma
l_int|0x085172eb
comma
l_int|0xfd741bfd
)brace
comma
(brace
l_int|0x37c4448b
comma
l_int|0xa45ef51d
comma
l_int|0x262f3267
comma
l_int|0x081e36dc
comma
l_int|0xfd8f5d14
)brace
)brace
suffix:semicolon
DECL|variable|db_table
r_static
r_const
id|u32
id|db_table
(braket
l_int|101
)braket
op_assign
(brace
l_int|0x00000000
comma
l_int|0x01571f82
comma
l_int|0x01674b41
comma
l_int|0x01783a1b
comma
l_int|0x0189f540
comma
l_int|0x019c8651
comma
l_int|0x01aff763
comma
l_int|0x01c45306
comma
l_int|0x01d9a446
comma
l_int|0x01eff6b8
comma
l_int|0x0207567a
comma
l_int|0x021fd03d
comma
l_int|0x0239714c
comma
l_int|0x02544792
comma
l_int|0x027061a1
comma
l_int|0x028dcebb
comma
l_int|0x02ac9edc
comma
l_int|0x02cce2bf
comma
l_int|0x02eeabe8
comma
l_int|0x03120cb0
comma
l_int|0x0337184e
comma
l_int|0x035de2df
comma
l_int|0x03868173
comma
l_int|0x03b10a18
comma
l_int|0x03dd93e9
comma
l_int|0x040c3713
comma
l_int|0x043d0cea
comma
l_int|0x04702ff3
comma
l_int|0x04a5bbf2
comma
l_int|0x04ddcdfb
comma
l_int|0x0518847f
comma
l_int|0x0555ff62
comma
l_int|0x05966005
comma
l_int|0x05d9c95d
comma
l_int|0x06206005
comma
l_int|0x066a4a52
comma
l_int|0x06b7b067
comma
l_int|0x0708bc4c
comma
l_int|0x075d9a01
comma
l_int|0x07b6779d
comma
l_int|0x08138561
comma
l_int|0x0874f5d5
comma
l_int|0x08dafde1
comma
l_int|0x0945d4ed
comma
l_int|0x09b5b4fd
comma
l_int|0x0a2adad1
comma
l_int|0x0aa58605
comma
l_int|0x0b25f936
comma
l_int|0x0bac7a24
comma
l_int|0x0c3951d8
comma
l_int|0x0ccccccc
comma
l_int|0x0d673b17
comma
l_int|0x0e08f093
comma
l_int|0x0eb24510
comma
l_int|0x0f639481
comma
l_int|0x101d3f2d
comma
l_int|0x10dfa9e6
comma
l_int|0x11ab3e3f
comma
l_int|0x12806ac3
comma
l_int|0x135fa333
comma
l_int|0x144960c5
comma
l_int|0x153e2266
comma
l_int|0x163e6cfe
comma
l_int|0x174acbb7
comma
l_int|0x1863d04d
comma
l_int|0x198a1357
comma
l_int|0x1abe349f
comma
l_int|0x1c00db77
comma
l_int|0x1d52b712
comma
l_int|0x1eb47ee6
comma
l_int|0x2026f30f
comma
l_int|0x21aadcb6
comma
l_int|0x23410e7e
comma
l_int|0x24ea64f9
comma
l_int|0x26a7c71d
comma
l_int|0x287a26c4
comma
l_int|0x2a62812c
comma
l_int|0x2c61df84
comma
l_int|0x2e795779
comma
l_int|0x30aa0bcf
comma
l_int|0x32f52cfe
comma
l_int|0x355bf9d8
comma
l_int|0x37dfc033
comma
l_int|0x3a81dda4
comma
l_int|0x3d43c038
comma
l_int|0x4026e73c
comma
l_int|0x432ce40f
comma
l_int|0x46575af8
comma
l_int|0x49a8040f
comma
l_int|0x4d20ac2a
comma
l_int|0x50c335d3
comma
l_int|0x54919a57
comma
l_int|0x588dead1
comma
l_int|0x5cba514a
comma
l_int|0x611911ea
comma
l_int|0x65ac8c2f
comma
l_int|0x6a773c39
comma
l_int|0x6f7bbc23
comma
l_int|0x74bcc56c
comma
l_int|0x7a3d3272
comma
l_int|0x7fffffff
comma
)brace
suffix:semicolon
DECL|variable|onoff_table
r_static
r_const
id|u32
id|onoff_table
(braket
l_int|2
)braket
op_assign
(brace
l_int|0x00000000
comma
l_int|0x00000001
)brace
suffix:semicolon
multiline_comment|/*&n; */
DECL|function|snd_enter_user
r_static
r_inline
id|mm_segment_t
id|snd_enter_user
c_func
(paren
r_void
)paren
(brace
id|mm_segment_t
id|fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|get_ds
c_func
(paren
)paren
)paren
suffix:semicolon
r_return
id|fs
suffix:semicolon
)brace
DECL|function|snd_leave_user
r_static
r_inline
r_void
id|snd_leave_user
c_func
(paren
id|mm_segment_t
id|fs
)paren
(brace
id|set_fs
c_func
(paren
id|fs
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; *   controls&n; */
DECL|function|snd_emu10k1_gpr_ctl_info
r_static
r_int
id|snd_emu10k1_gpr_ctl_info
c_func
(paren
id|snd_kcontrol_t
op_star
id|kcontrol
comma
id|snd_ctl_elem_info_t
op_star
id|uinfo
)paren
(brace
id|snd_emu10k1_fx8010_ctl_t
op_star
id|ctl
op_assign
(paren
id|snd_emu10k1_fx8010_ctl_t
op_star
)paren
id|kcontrol-&gt;private_value
suffix:semicolon
r_if
c_cond
(paren
id|ctl-&gt;min
op_eq
l_int|0
op_logical_and
id|ctl-&gt;max
op_eq
l_int|1
)paren
id|uinfo-&gt;type
op_assign
id|SNDRV_CTL_ELEM_TYPE_BOOLEAN
suffix:semicolon
r_else
id|uinfo-&gt;type
op_assign
id|SNDRV_CTL_ELEM_TYPE_INTEGER
suffix:semicolon
id|uinfo-&gt;count
op_assign
id|ctl-&gt;vcount
suffix:semicolon
id|uinfo-&gt;value.integer.min
op_assign
id|ctl-&gt;min
suffix:semicolon
id|uinfo-&gt;value.integer.max
op_assign
id|ctl-&gt;max
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|snd_emu10k1_gpr_ctl_get
r_static
r_int
id|snd_emu10k1_gpr_ctl_get
c_func
(paren
id|snd_kcontrol_t
op_star
id|kcontrol
comma
id|snd_ctl_elem_value_t
op_star
id|ucontrol
)paren
(brace
id|emu10k1_t
op_star
id|emu
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
id|snd_emu10k1_fx8010_ctl_t
op_star
id|ctl
op_assign
(paren
id|snd_emu10k1_fx8010_ctl_t
op_star
)paren
id|kcontrol-&gt;private_value
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
r_int
id|i
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|emu-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|ctl-&gt;vcount
suffix:semicolon
id|i
op_increment
)paren
id|ucontrol-&gt;value.integer.value
(braket
id|i
)braket
op_assign
id|ctl-&gt;value
(braket
id|i
)braket
suffix:semicolon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|emu-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|snd_emu10k1_gpr_ctl_put
r_static
r_int
id|snd_emu10k1_gpr_ctl_put
c_func
(paren
id|snd_kcontrol_t
op_star
id|kcontrol
comma
id|snd_ctl_elem_value_t
op_star
id|ucontrol
)paren
(brace
id|emu10k1_t
op_star
id|emu
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
id|snd_emu10k1_fx8010_ctl_t
op_star
id|ctl
op_assign
(paren
id|snd_emu10k1_fx8010_ctl_t
op_star
)paren
id|kcontrol-&gt;private_value
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
r_int
r_int
id|nval
comma
id|val
suffix:semicolon
r_int
id|i
comma
id|j
comma
id|change
op_assign
l_int|0
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|emu-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|ctl-&gt;vcount
suffix:semicolon
id|i
op_increment
)paren
(brace
id|nval
op_assign
id|ucontrol-&gt;value.integer.value
(braket
id|i
)braket
suffix:semicolon
r_if
c_cond
(paren
id|nval
OL
id|ctl-&gt;min
)paren
id|nval
op_assign
id|ctl-&gt;min
suffix:semicolon
r_if
c_cond
(paren
id|nval
OG
id|ctl-&gt;max
)paren
id|nval
op_assign
id|ctl-&gt;max
suffix:semicolon
r_if
c_cond
(paren
id|nval
op_ne
id|ctl-&gt;value
(braket
id|i
)braket
)paren
id|change
op_assign
l_int|1
suffix:semicolon
id|val
op_assign
id|ctl-&gt;value
(braket
id|i
)braket
op_assign
id|nval
suffix:semicolon
r_switch
c_cond
(paren
id|ctl-&gt;translation
)paren
(brace
r_case
id|EMU10K1_GPR_TRANSLATION_NONE
suffix:colon
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|emu-&gt;gpr_base
op_plus
id|ctl-&gt;gpr
(braket
id|i
)braket
comma
l_int|0
comma
id|val
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|EMU10K1_GPR_TRANSLATION_TABLE100
suffix:colon
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|emu-&gt;gpr_base
op_plus
id|ctl-&gt;gpr
(braket
id|i
)braket
comma
l_int|0
comma
id|db_table
(braket
id|val
)braket
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|EMU10K1_GRP_TRANSLATION_BASS
suffix:colon
id|snd_runtime_check
c_func
(paren
(paren
id|ctl-&gt;count
op_mod
l_int|5
)paren
op_eq
l_int|0
op_logical_and
(paren
id|ctl-&gt;count
op_div
l_int|5
)paren
op_eq
id|ctl-&gt;vcount
comma
id|change
op_assign
op_minus
id|EIO
suffix:semicolon
r_goto
id|__error
)paren
suffix:semicolon
r_for
c_loop
(paren
id|j
op_assign
l_int|0
suffix:semicolon
id|j
OL
l_int|5
suffix:semicolon
id|j
op_increment
)paren
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|emu-&gt;gpr_base
op_plus
id|ctl-&gt;gpr
(braket
id|j
op_star
id|ctl-&gt;vcount
op_plus
id|i
)braket
comma
l_int|0
comma
id|bass_table
(braket
id|val
)braket
(braket
id|j
)braket
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|EMU10K1_GRP_TRANSLATION_TREBLE
suffix:colon
id|snd_runtime_check
c_func
(paren
(paren
id|ctl-&gt;count
op_mod
l_int|5
)paren
op_eq
l_int|0
op_logical_and
(paren
id|ctl-&gt;count
op_div
l_int|5
)paren
op_eq
id|ctl-&gt;vcount
comma
id|change
op_assign
op_minus
id|EIO
suffix:semicolon
r_goto
id|__error
)paren
suffix:semicolon
r_for
c_loop
(paren
id|j
op_assign
l_int|0
suffix:semicolon
id|j
OL
l_int|5
suffix:semicolon
id|j
op_increment
)paren
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|emu-&gt;gpr_base
op_plus
id|ctl-&gt;gpr
(braket
id|j
op_star
id|ctl-&gt;vcount
op_plus
id|i
)braket
comma
l_int|0
comma
id|treble_table
(braket
id|val
)braket
(braket
id|j
)braket
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|EMU10K1_GPR_TRANSLATION_ONOFF
suffix:colon
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|emu-&gt;gpr_base
op_plus
id|ctl-&gt;gpr
(braket
id|i
)braket
comma
l_int|0
comma
id|onoff_table
(braket
id|val
)braket
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
)brace
id|__error
suffix:colon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|emu-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
r_return
id|change
suffix:semicolon
)brace
multiline_comment|/*&n; *   Interrupt handler&n; */
DECL|function|snd_emu10k1_fx8010_interrupt
r_static
r_void
id|snd_emu10k1_fx8010_interrupt
c_func
(paren
id|emu10k1_t
op_star
id|emu
)paren
(brace
id|snd_emu10k1_fx8010_irq_t
op_star
id|irq
comma
op_star
id|nirq
suffix:semicolon
id|irq
op_assign
id|emu-&gt;fx8010.irq_handlers
suffix:semicolon
r_while
c_loop
(paren
id|irq
)paren
(brace
id|nirq
op_assign
id|irq-&gt;next
suffix:semicolon
multiline_comment|/* irq ptr can be removed from list */
r_if
c_cond
(paren
id|snd_emu10k1_ptr_read
c_func
(paren
id|emu
comma
id|emu-&gt;gpr_base
op_plus
id|irq-&gt;gpr_running
comma
l_int|0
)paren
op_amp
l_int|0xffff0000
)paren
(brace
r_if
c_cond
(paren
id|irq-&gt;handler
)paren
id|irq
op_member_access_from_pointer
id|handler
c_func
(paren
id|emu
comma
id|irq-&gt;private_data
)paren
suffix:semicolon
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|emu-&gt;gpr_base
op_plus
id|irq-&gt;gpr_running
comma
l_int|0
comma
l_int|1
)paren
suffix:semicolon
)brace
id|irq
op_assign
id|nirq
suffix:semicolon
)brace
)brace
DECL|function|snd_emu10k1_fx8010_register_irq_handler
r_static
r_int
id|snd_emu10k1_fx8010_register_irq_handler
c_func
(paren
id|emu10k1_t
op_star
id|emu
comma
id|snd_fx8010_irq_handler_t
op_star
id|handler
comma
r_int
r_char
id|gpr_running
comma
r_void
op_star
id|private_data
comma
id|snd_emu10k1_fx8010_irq_t
op_star
op_star
id|r_irq
)paren
(brace
id|snd_emu10k1_fx8010_irq_t
op_star
id|irq
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
id|snd_runtime_check
c_func
(paren
id|emu
comma
r_return
op_minus
id|EINVAL
)paren
suffix:semicolon
id|snd_runtime_check
c_func
(paren
id|handler
comma
r_return
op_minus
id|EINVAL
)paren
suffix:semicolon
id|irq
op_assign
id|kmalloc
c_func
(paren
r_sizeof
(paren
op_star
id|irq
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
id|irq
op_eq
l_int|NULL
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
id|irq-&gt;handler
op_assign
id|handler
suffix:semicolon
id|irq-&gt;gpr_running
op_assign
id|gpr_running
suffix:semicolon
id|irq-&gt;private_data
op_assign
id|private_data
suffix:semicolon
id|irq-&gt;next
op_assign
l_int|NULL
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|emu-&gt;fx8010.irq_lock
comma
id|flags
)paren
suffix:semicolon
r_if
c_cond
(paren
id|emu-&gt;fx8010.irq_handlers
op_eq
l_int|NULL
)paren
(brace
id|emu-&gt;fx8010.irq_handlers
op_assign
id|irq
suffix:semicolon
id|emu-&gt;dsp_interrupt
op_assign
id|snd_emu10k1_fx8010_interrupt
suffix:semicolon
id|snd_emu10k1_intr_enable
c_func
(paren
id|emu
comma
id|INTE_FXDSPENABLE
)paren
suffix:semicolon
)brace
r_else
(brace
id|irq-&gt;next
op_assign
id|emu-&gt;fx8010.irq_handlers
suffix:semicolon
id|emu-&gt;fx8010.irq_handlers
op_assign
id|irq
suffix:semicolon
)brace
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|emu-&gt;fx8010.irq_lock
comma
id|flags
)paren
suffix:semicolon
r_if
c_cond
(paren
id|r_irq
)paren
op_star
id|r_irq
op_assign
id|irq
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|snd_emu10k1_fx8010_unregister_irq_handler
r_static
r_int
id|snd_emu10k1_fx8010_unregister_irq_handler
c_func
(paren
id|emu10k1_t
op_star
id|emu
comma
id|snd_emu10k1_fx8010_irq_t
op_star
id|irq
)paren
(brace
id|snd_emu10k1_fx8010_irq_t
op_star
id|tmp
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
id|snd_runtime_check
c_func
(paren
id|irq
comma
r_return
op_minus
id|EINVAL
)paren
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|emu-&gt;fx8010.irq_lock
comma
id|flags
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|tmp
op_assign
id|emu-&gt;fx8010.irq_handlers
)paren
op_eq
id|irq
)paren
(brace
id|emu-&gt;fx8010.irq_handlers
op_assign
id|tmp-&gt;next
suffix:semicolon
r_if
c_cond
(paren
id|emu-&gt;fx8010.irq_handlers
op_eq
l_int|NULL
)paren
(brace
id|snd_emu10k1_intr_disable
c_func
(paren
id|emu
comma
id|INTE_FXDSPENABLE
)paren
suffix:semicolon
id|emu-&gt;dsp_interrupt
op_assign
l_int|NULL
suffix:semicolon
)brace
)brace
r_else
(brace
r_while
c_loop
(paren
id|tmp
op_logical_and
id|tmp-&gt;next
op_ne
id|irq
)paren
id|tmp
op_assign
id|tmp-&gt;next
suffix:semicolon
r_if
c_cond
(paren
id|tmp
)paren
id|tmp-&gt;next
op_assign
id|tmp-&gt;next-&gt;next
suffix:semicolon
)brace
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|emu-&gt;fx8010.irq_lock
comma
id|flags
)paren
suffix:semicolon
id|kfree
c_func
(paren
id|irq
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/*&n; *   PCM streams&n; */
DECL|macro|INITIAL_TRAM_SHIFT
mdefine_line|#define INITIAL_TRAM_SHIFT     14
DECL|macro|INITIAL_TRAM_POS
mdefine_line|#define INITIAL_TRAM_POS(size) ((((size) / 2) - INITIAL_TRAM_SHIFT) - 1)
DECL|function|snd_emu10k1_fx8010_playback_irq
r_static
r_void
id|snd_emu10k1_fx8010_playback_irq
c_func
(paren
id|emu10k1_t
op_star
id|emu
comma
r_void
op_star
id|private_data
)paren
(brace
id|snd_pcm_substream_t
op_star
id|substream
op_assign
id|snd_magic_cast
c_func
(paren
id|snd_pcm_substream_t
comma
id|private_data
comma
r_return
)paren
suffix:semicolon
id|snd_pcm_period_elapsed
c_func
(paren
id|substream
)paren
suffix:semicolon
)brace
DECL|function|snd_emu10k1_fx8010_playback_tram_poke1
r_static
r_void
id|snd_emu10k1_fx8010_playback_tram_poke1
c_func
(paren
r_int
r_int
op_star
id|dst_left
comma
r_int
r_int
op_star
id|dst_right
comma
r_int
r_int
op_star
id|src
comma
r_int
r_int
id|count
comma
r_int
r_int
id|tram_shift
)paren
(brace
singleline_comment|// printk(&quot;tram_poke1: dst_left = 0x%p, dst_right = 0x%p, src = 0x%p, count = 0x%x&bslash;n&quot;, dst_left, dst_right, src, count);
r_if
c_cond
(paren
(paren
id|tram_shift
op_amp
l_int|1
)paren
op_eq
l_int|0
)paren
(brace
r_while
c_loop
(paren
id|count
op_decrement
)paren
(brace
op_star
id|dst_left
op_decrement
op_assign
op_star
id|src
op_increment
suffix:semicolon
op_star
id|dst_right
op_decrement
op_assign
op_star
id|src
op_increment
suffix:semicolon
)brace
)brace
r_else
(brace
r_while
c_loop
(paren
id|count
op_decrement
)paren
(brace
op_star
id|dst_right
op_decrement
op_assign
op_star
id|src
op_increment
suffix:semicolon
op_star
id|dst_left
op_decrement
op_assign
op_star
id|src
op_increment
suffix:semicolon
)brace
)brace
)brace
DECL|function|snd_emu10k1_fx8010_playback_tram_poke
r_static
r_void
id|snd_emu10k1_fx8010_playback_tram_poke
c_func
(paren
id|emu10k1_t
op_star
id|emu
comma
r_int
r_int
op_star
id|tram_pos
comma
r_int
r_int
op_star
id|tram_shift
comma
r_int
r_int
id|tram_size
comma
r_int
r_int
op_star
id|src
comma
r_int
r_int
id|frames
)paren
(brace
r_int
r_int
id|count
suffix:semicolon
r_while
c_loop
(paren
id|frames
OG
op_star
id|tram_pos
)paren
(brace
id|count
op_assign
op_star
id|tram_pos
op_plus
l_int|1
suffix:semicolon
id|snd_emu10k1_fx8010_playback_tram_poke1
c_func
(paren
(paren
r_int
r_int
op_star
)paren
id|emu-&gt;fx8010.etram_pages
op_plus
op_star
id|tram_pos
comma
(paren
r_int
r_int
op_star
)paren
id|emu-&gt;fx8010.etram_pages
op_plus
op_star
id|tram_pos
op_plus
id|tram_size
op_div
l_int|2
comma
id|src
comma
id|count
comma
op_star
id|tram_shift
)paren
suffix:semicolon
id|src
op_add_assign
id|count
op_star
l_int|2
suffix:semicolon
id|frames
op_sub_assign
id|count
suffix:semicolon
op_star
id|tram_pos
op_assign
(paren
id|tram_size
op_div
l_int|2
)paren
op_minus
l_int|1
suffix:semicolon
(paren
op_star
id|tram_shift
)paren
op_increment
suffix:semicolon
)brace
id|snd_emu10k1_fx8010_playback_tram_poke1
c_func
(paren
(paren
r_int
r_int
op_star
)paren
id|emu-&gt;fx8010.etram_pages
op_plus
op_star
id|tram_pos
comma
(paren
r_int
r_int
op_star
)paren
id|emu-&gt;fx8010.etram_pages
op_plus
op_star
id|tram_pos
op_plus
id|tram_size
op_div
l_int|2
comma
id|src
comma
id|frames
comma
op_star
id|tram_shift
op_increment
)paren
suffix:semicolon
op_star
id|tram_pos
op_sub_assign
id|frames
suffix:semicolon
)brace
DECL|function|snd_emu10k1_fx8010_playback_transfer
r_static
r_int
id|snd_emu10k1_fx8010_playback_transfer
c_func
(paren
id|snd_pcm_substream_t
op_star
id|substream
comma
id|snd_pcm_uframes_t
id|frames
)paren
(brace
id|emu10k1_t
op_star
id|emu
op_assign
id|snd_pcm_substream_chip
c_func
(paren
id|substream
)paren
suffix:semicolon
id|snd_pcm_runtime_t
op_star
id|runtime
op_assign
id|substream-&gt;runtime
suffix:semicolon
id|snd_emu10k1_fx8010_pcm_t
op_star
id|pcm
op_assign
op_amp
id|emu-&gt;fx8010.pcm
(braket
id|substream-&gt;number
)braket
suffix:semicolon
id|snd_pcm_uframes_t
id|appl_ptr
op_assign
id|runtime-&gt;control-&gt;appl_ptr
suffix:semicolon
id|snd_pcm_sframes_t
id|diff
op_assign
id|appl_ptr
op_minus
id|pcm-&gt;appl_ptr
suffix:semicolon
id|snd_pcm_uframes_t
id|buffer_size
op_assign
id|pcm-&gt;buffer_size
op_div
l_int|2
suffix:semicolon
r_if
c_cond
(paren
id|diff
)paren
(brace
r_if
c_cond
(paren
id|diff
OL
op_minus
(paren
id|snd_pcm_sframes_t
)paren
(paren
id|runtime-&gt;boundary
op_div
l_int|2
)paren
)paren
id|diff
op_add_assign
id|runtime-&gt;boundary
suffix:semicolon
id|pcm-&gt;sw_ready
op_add_assign
id|diff
suffix:semicolon
)brace
id|pcm-&gt;sw_ready
op_add_assign
id|frames
suffix:semicolon
id|pcm-&gt;appl_ptr
op_assign
id|appl_ptr
op_plus
id|frames
suffix:semicolon
r_while
c_loop
(paren
id|pcm-&gt;hw_ready
template_param
l_int|0
)paren
(brace
r_int
id|hw_to_end
op_assign
id|buffer_size
op_minus
id|pcm-&gt;hw_data
suffix:semicolon
r_int
id|sw_to_end
op_assign
(paren
id|runtime-&gt;buffer_size
op_lshift
l_int|2
)paren
op_minus
id|pcm-&gt;sw_data
suffix:semicolon
r_int
id|tframes
op_assign
id|buffer_size
op_minus
id|pcm-&gt;hw_ready
suffix:semicolon
r_if
c_cond
(paren
id|pcm-&gt;sw_ready
OL
id|tframes
)paren
id|tframes
op_assign
id|pcm-&gt;sw_ready
suffix:semicolon
r_if
c_cond
(paren
id|hw_to_end
OL
id|tframes
)paren
id|tframes
op_assign
id|hw_to_end
suffix:semicolon
r_if
c_cond
(paren
id|sw_to_end
OL
id|tframes
)paren
id|tframes
op_assign
id|sw_to_end
suffix:semicolon
id|snd_emu10k1_fx8010_playback_tram_poke
c_func
(paren
id|emu
comma
op_amp
id|pcm-&gt;tram_pos
comma
op_amp
id|pcm-&gt;tram_shift
comma
id|pcm-&gt;buffer_size
comma
(paren
r_int
r_int
op_star
)paren
(paren
id|runtime-&gt;dma_area
op_plus
(paren
id|pcm-&gt;sw_data
op_lshift
l_int|2
)paren
)paren
comma
id|tframes
)paren
suffix:semicolon
id|pcm-&gt;hw_data
op_add_assign
id|tframes
suffix:semicolon
r_if
c_cond
(paren
id|pcm-&gt;hw_data
op_eq
id|buffer_size
)paren
id|pcm-&gt;hw_data
op_assign
l_int|0
suffix:semicolon
id|pcm-&gt;sw_data
op_add_assign
id|tframes
suffix:semicolon
r_if
c_cond
(paren
id|pcm-&gt;sw_data
op_eq
id|runtime-&gt;buffer_size
)paren
id|pcm-&gt;sw_data
op_assign
l_int|0
suffix:semicolon
id|pcm-&gt;hw_ready
op_add_assign
id|tframes
suffix:semicolon
id|pcm-&gt;sw_ready
op_sub_assign
id|tframes
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|snd_emu10k1_fx8010_playback_hw_params
r_static
r_int
id|snd_emu10k1_fx8010_playback_hw_params
c_func
(paren
id|snd_pcm_substream_t
op_star
id|substream
comma
id|snd_pcm_hw_params_t
op_star
id|hw_params
)paren
(brace
r_return
id|snd_pcm_lib_malloc_pages
c_func
(paren
id|substream
comma
id|params_buffer_bytes
c_func
(paren
id|hw_params
)paren
)paren
suffix:semicolon
)brace
DECL|function|snd_emu10k1_fx8010_playback_hw_free
r_static
r_int
id|snd_emu10k1_fx8010_playback_hw_free
c_func
(paren
id|snd_pcm_substream_t
op_star
id|substream
)paren
(brace
id|emu10k1_t
op_star
id|emu
op_assign
id|snd_pcm_substream_chip
c_func
(paren
id|substream
)paren
suffix:semicolon
id|snd_emu10k1_fx8010_pcm_t
op_star
id|pcm
op_assign
op_amp
id|emu-&gt;fx8010.pcm
(braket
id|substream-&gt;number
)braket
suffix:semicolon
r_int
id|i
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|pcm-&gt;channels
suffix:semicolon
id|i
op_increment
)paren
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|TANKMEMADDRREGBASE
op_plus
l_int|0x80
op_plus
id|pcm-&gt;etram
(braket
id|i
)braket
comma
l_int|0
comma
l_int|0
)paren
suffix:semicolon
id|snd_pcm_lib_free_pages
c_func
(paren
id|substream
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|snd_emu10k1_fx8010_playback_prepare
r_static
r_int
id|snd_emu10k1_fx8010_playback_prepare
c_func
(paren
id|snd_pcm_substream_t
op_star
id|substream
)paren
(brace
id|emu10k1_t
op_star
id|emu
op_assign
id|snd_pcm_substream_chip
c_func
(paren
id|substream
)paren
suffix:semicolon
id|snd_pcm_runtime_t
op_star
id|runtime
op_assign
id|substream-&gt;runtime
suffix:semicolon
id|snd_emu10k1_fx8010_pcm_t
op_star
id|pcm
op_assign
op_amp
id|emu-&gt;fx8010.pcm
(braket
id|substream-&gt;number
)braket
suffix:semicolon
r_int
id|i
suffix:semicolon
singleline_comment|// printk(&quot;prepare: etram_pages = 0x%p, dma_area = 0x%x, buffer_size = 0x%x (0x%x)&bslash;n&quot;, emu-&gt;fx8010.etram_pages, runtime-&gt;dma_area, runtime-&gt;buffer_size, runtime-&gt;buffer_size &lt;&lt; 2);
id|pcm-&gt;sw_data
op_assign
id|pcm-&gt;sw_io
op_assign
id|pcm-&gt;sw_ready
op_assign
l_int|0
suffix:semicolon
id|pcm-&gt;hw_data
op_assign
id|pcm-&gt;hw_io
op_assign
id|pcm-&gt;hw_ready
op_assign
l_int|0
suffix:semicolon
id|pcm-&gt;tram_pos
op_assign
id|INITIAL_TRAM_POS
c_func
(paren
id|pcm-&gt;buffer_size
)paren
suffix:semicolon
id|pcm-&gt;tram_shift
op_assign
l_int|0
suffix:semicolon
id|pcm-&gt;appl_ptr
op_assign
l_int|0
suffix:semicolon
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|emu-&gt;gpr_base
op_plus
id|pcm-&gt;gpr_running
comma
l_int|0
comma
l_int|0
)paren
suffix:semicolon
multiline_comment|/* reset */
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|emu-&gt;gpr_base
op_plus
id|pcm-&gt;gpr_trigger
comma
l_int|0
comma
l_int|0
)paren
suffix:semicolon
multiline_comment|/* reset */
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|emu-&gt;gpr_base
op_plus
id|pcm-&gt;gpr_size
comma
l_int|0
comma
id|runtime-&gt;buffer_size
)paren
suffix:semicolon
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|emu-&gt;gpr_base
op_plus
id|pcm-&gt;gpr_ptr
comma
l_int|0
comma
l_int|0
)paren
suffix:semicolon
multiline_comment|/* reset ptr number */
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|emu-&gt;gpr_base
op_plus
id|pcm-&gt;gpr_count
comma
l_int|0
comma
id|runtime-&gt;period_size
)paren
suffix:semicolon
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|emu-&gt;gpr_base
op_plus
id|pcm-&gt;gpr_tmpcount
comma
l_int|0
comma
id|runtime-&gt;period_size
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|pcm-&gt;channels
suffix:semicolon
id|i
op_increment
)paren
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|TANKMEMADDRREGBASE
op_plus
l_int|0x80
op_plus
id|pcm-&gt;etram
(braket
id|i
)braket
comma
l_int|0
comma
(paren
id|TANKMEMADDRREG_READ
op_or
id|TANKMEMADDRREG_ALIGN
)paren
op_plus
id|i
op_star
(paren
id|runtime-&gt;buffer_size
op_div
id|pcm-&gt;channels
)paren
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|snd_emu10k1_fx8010_playback_trigger
r_static
r_int
id|snd_emu10k1_fx8010_playback_trigger
c_func
(paren
id|snd_pcm_substream_t
op_star
id|substream
comma
r_int
id|cmd
)paren
(brace
id|emu10k1_t
op_star
id|emu
op_assign
id|snd_pcm_substream_chip
c_func
(paren
id|substream
)paren
suffix:semicolon
id|snd_emu10k1_fx8010_pcm_t
op_star
id|pcm
op_assign
op_amp
id|emu-&gt;fx8010.pcm
(braket
id|substream-&gt;number
)braket
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
r_int
id|result
op_assign
l_int|0
suffix:semicolon
id|spin_lock_irqsave
c_func
(paren
op_amp
id|emu-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|SNDRV_PCM_TRIGGER_START
suffix:colon
multiline_comment|/* follow thru */
r_case
id|SNDRV_PCM_TRIGGER_PAUSE_RELEASE
suffix:colon
macro_line|#ifdef EMU10K1_SET_AC3_IEC958
(brace
r_int
id|i
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|3
suffix:semicolon
id|i
op_increment
)paren
(brace
r_int
r_int
id|bits
suffix:semicolon
id|bits
op_assign
id|SPCS_CLKACCY_1000PPM
op_or
id|SPCS_SAMPLERATE_48
op_or
id|SPCS_CHANNELNUM_LEFT
op_or
id|SPCS_SOURCENUM_UNSPEC
op_or
id|SPCS_GENERATIONSTATUS
op_or
l_int|0x00001200
op_or
id|SPCS_EMPHASIS_NONE
op_or
id|SPCS_COPYRIGHT
op_or
id|SPCS_NOTAUDIODATA
suffix:semicolon
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|SPCS0
op_plus
id|i
comma
l_int|0
comma
id|bits
)paren
suffix:semicolon
)brace
)brace
macro_line|#endif
id|result
op_assign
id|snd_emu10k1_fx8010_register_irq_handler
c_func
(paren
id|emu
comma
id|snd_emu10k1_fx8010_playback_irq
comma
id|pcm-&gt;gpr_running
comma
id|substream
comma
op_amp
id|pcm-&gt;irq
)paren
suffix:semicolon
r_if
c_cond
(paren
id|result
OL
l_int|0
)paren
r_goto
id|__err
suffix:semicolon
id|snd_emu10k1_fx8010_playback_transfer
c_func
(paren
id|substream
comma
l_int|0
)paren
suffix:semicolon
multiline_comment|/* roll the ball */
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|emu-&gt;gpr_base
op_plus
id|pcm-&gt;gpr_trigger
comma
l_int|0
comma
l_int|1
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|SNDRV_PCM_TRIGGER_STOP
suffix:colon
r_case
id|SNDRV_PCM_TRIGGER_PAUSE_PUSH
suffix:colon
id|snd_emu10k1_fx8010_unregister_irq_handler
c_func
(paren
id|emu
comma
id|pcm-&gt;irq
)paren
suffix:semicolon
id|pcm-&gt;irq
op_assign
l_int|NULL
suffix:semicolon
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|emu-&gt;gpr_base
op_plus
id|pcm-&gt;gpr_trigger
comma
l_int|0
comma
l_int|0
)paren
suffix:semicolon
id|pcm-&gt;tram_pos
op_assign
id|INITIAL_TRAM_POS
c_func
(paren
id|pcm-&gt;buffer_size
)paren
suffix:semicolon
id|pcm-&gt;tram_shift
op_assign
l_int|0
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
id|result
op_assign
op_minus
id|EINVAL
suffix:semicolon
r_break
suffix:semicolon
)brace
id|__err
suffix:colon
id|spin_unlock_irqrestore
c_func
(paren
op_amp
id|emu-&gt;reg_lock
comma
id|flags
)paren
suffix:semicolon
r_return
id|result
suffix:semicolon
)brace
DECL|function|snd_emu10k1_fx8010_playback_pointer
r_static
id|snd_pcm_uframes_t
id|snd_emu10k1_fx8010_playback_pointer
c_func
(paren
id|snd_pcm_substream_t
op_star
id|substream
)paren
(brace
id|emu10k1_t
op_star
id|emu
op_assign
id|snd_pcm_substream_chip
c_func
(paren
id|substream
)paren
suffix:semicolon
id|snd_pcm_runtime_t
op_star
id|runtime
op_assign
id|substream-&gt;runtime
suffix:semicolon
id|snd_emu10k1_fx8010_pcm_t
op_star
id|pcm
op_assign
op_amp
id|emu-&gt;fx8010.pcm
(braket
id|substream-&gt;number
)braket
suffix:semicolon
r_int
id|ptr
suffix:semicolon
id|snd_pcm_sframes_t
id|frames
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|snd_emu10k1_ptr_read
c_func
(paren
id|emu
comma
id|emu-&gt;gpr_base
op_plus
id|pcm-&gt;gpr_trigger
comma
l_int|0
)paren
)paren
r_return
l_int|0
suffix:semicolon
id|ptr
op_assign
id|snd_emu10k1_ptr_read
c_func
(paren
id|emu
comma
id|emu-&gt;gpr_base
op_plus
id|pcm-&gt;gpr_ptr
comma
l_int|0
)paren
suffix:semicolon
id|frames
op_assign
id|ptr
op_minus
id|pcm-&gt;hw_io
suffix:semicolon
r_if
c_cond
(paren
id|frames
OL
l_int|0
)paren
id|frames
op_add_assign
id|runtime-&gt;buffer_size
suffix:semicolon
id|pcm-&gt;hw_io
op_assign
id|ptr
suffix:semicolon
id|pcm-&gt;hw_ready
op_sub_assign
id|frames
suffix:semicolon
id|pcm-&gt;sw_io
op_add_assign
id|frames
suffix:semicolon
r_if
c_cond
(paren
id|pcm-&gt;sw_io
OG
id|runtime-&gt;buffer_size
)paren
id|pcm-&gt;sw_io
op_sub_assign
id|runtime-&gt;buffer_size
suffix:semicolon
id|snd_emu10k1_fx8010_playback_transfer
c_func
(paren
id|substream
comma
l_int|0
)paren
suffix:semicolon
r_return
id|pcm-&gt;sw_io
suffix:semicolon
)brace
DECL|function|snd_emu10k1_fx8010_playback_copy
r_static
r_int
id|snd_emu10k1_fx8010_playback_copy
c_func
(paren
id|snd_pcm_substream_t
op_star
id|substream
comma
r_int
id|channel
comma
id|snd_pcm_uframes_t
id|hwoff
comma
r_void
op_star
id|src
comma
id|snd_pcm_uframes_t
id|frames
)paren
(brace
id|snd_pcm_runtime_t
op_star
id|runtime
op_assign
id|substream-&gt;runtime
suffix:semicolon
r_int
id|hwoffb
op_assign
id|hwoff
op_lshift
l_int|2
suffix:semicolon
r_int
id|bytes
op_assign
id|frames
op_lshift
l_int|2
suffix:semicolon
r_char
op_star
id|hwbuf
op_assign
id|runtime-&gt;dma_area
op_plus
id|hwoffb
suffix:semicolon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
id|hwbuf
comma
id|src
comma
id|bytes
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|spin_lock_irq
c_func
(paren
op_amp
id|runtime-&gt;lock
)paren
suffix:semicolon
id|snd_emu10k1_fx8010_playback_transfer
c_func
(paren
id|substream
comma
id|frames
)paren
suffix:semicolon
id|spin_unlock_irq
c_func
(paren
op_amp
id|runtime-&gt;lock
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|variable|snd_emu10k1_fx8010_playback
r_static
id|snd_pcm_hardware_t
id|snd_emu10k1_fx8010_playback
op_assign
(brace
id|info
suffix:colon
(paren
id|SNDRV_PCM_INFO_MMAP
op_or
id|SNDRV_PCM_INFO_INTERLEAVED
op_or
multiline_comment|/* SNDRV_PCM_INFO_MMAP_VALID | */
id|SNDRV_PCM_INFO_PAUSE
)paren
comma
id|formats
suffix:colon
id|SNDRV_PCM_FMTBIT_U8
op_or
id|SNDRV_PCM_FMTBIT_S16_LE
comma
id|rates
suffix:colon
id|SNDRV_PCM_RATE_48000
comma
id|rate_min
suffix:colon
l_int|48000
comma
id|rate_max
suffix:colon
l_int|48000
comma
id|channels_min
suffix:colon
l_int|1
comma
id|channels_max
suffix:colon
l_int|1
comma
id|buffer_bytes_max
suffix:colon
(paren
l_int|128
op_star
l_int|1024
)paren
comma
id|period_bytes_min
suffix:colon
l_int|1024
comma
id|period_bytes_max
suffix:colon
(paren
l_int|128
op_star
l_int|1024
)paren
comma
id|periods_min
suffix:colon
l_int|1
comma
id|periods_max
suffix:colon
l_int|1024
comma
id|fifo_size
suffix:colon
l_int|0
comma
)brace
suffix:semicolon
DECL|function|snd_emu10k1_fx8010_playback_open
r_static
r_int
id|snd_emu10k1_fx8010_playback_open
c_func
(paren
id|snd_pcm_substream_t
op_star
id|substream
)paren
(brace
id|emu10k1_t
op_star
id|emu
op_assign
id|snd_pcm_substream_chip
c_func
(paren
id|substream
)paren
suffix:semicolon
id|snd_pcm_runtime_t
op_star
id|runtime
op_assign
id|substream-&gt;runtime
suffix:semicolon
id|snd_emu10k1_fx8010_pcm_t
op_star
id|pcm
op_assign
op_amp
id|emu-&gt;fx8010.pcm
(braket
id|substream-&gt;number
)braket
suffix:semicolon
id|runtime-&gt;hw
op_assign
id|snd_emu10k1_fx8010_playback
suffix:semicolon
id|runtime-&gt;hw.channels_min
op_assign
id|runtime-&gt;hw.channels_max
op_assign
id|pcm-&gt;channels
suffix:semicolon
id|runtime-&gt;hw.period_bytes_max
op_assign
(paren
id|pcm-&gt;buffer_size
op_star
l_int|2
)paren
op_div
l_int|2
suffix:semicolon
id|spin_lock
c_func
(paren
op_amp
id|emu-&gt;reg_lock
)paren
suffix:semicolon
r_if
c_cond
(paren
id|pcm-&gt;valid
op_eq
l_int|0
)paren
(brace
id|spin_unlock
c_func
(paren
op_amp
id|emu-&gt;reg_lock
)paren
suffix:semicolon
r_return
op_minus
id|ENODEV
suffix:semicolon
)brace
id|pcm-&gt;opened
op_assign
l_int|1
suffix:semicolon
id|spin_unlock
c_func
(paren
op_amp
id|emu-&gt;reg_lock
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|snd_emu10k1_fx8010_playback_close
r_static
r_int
id|snd_emu10k1_fx8010_playback_close
c_func
(paren
id|snd_pcm_substream_t
op_star
id|substream
)paren
(brace
id|emu10k1_t
op_star
id|emu
op_assign
id|snd_pcm_substream_chip
c_func
(paren
id|substream
)paren
suffix:semicolon
id|snd_emu10k1_fx8010_pcm_t
op_star
id|pcm
op_assign
op_amp
id|emu-&gt;fx8010.pcm
(braket
id|substream-&gt;number
)braket
suffix:semicolon
id|spin_lock
c_func
(paren
op_amp
id|emu-&gt;reg_lock
)paren
suffix:semicolon
id|pcm-&gt;opened
op_assign
l_int|0
suffix:semicolon
id|spin_unlock
c_func
(paren
op_amp
id|emu-&gt;reg_lock
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|variable|snd_emu10k1_fx8010_playback_ops
r_static
id|snd_pcm_ops_t
id|snd_emu10k1_fx8010_playback_ops
op_assign
(brace
id|open
suffix:colon
id|snd_emu10k1_fx8010_playback_open
comma
id|close
suffix:colon
id|snd_emu10k1_fx8010_playback_close
comma
id|ioctl
suffix:colon
id|snd_pcm_lib_ioctl
comma
id|hw_params
suffix:colon
id|snd_emu10k1_fx8010_playback_hw_params
comma
id|hw_free
suffix:colon
id|snd_emu10k1_fx8010_playback_hw_free
comma
id|prepare
suffix:colon
id|snd_emu10k1_fx8010_playback_prepare
comma
id|trigger
suffix:colon
id|snd_emu10k1_fx8010_playback_trigger
comma
id|copy
suffix:colon
id|snd_emu10k1_fx8010_playback_copy
comma
id|pointer
suffix:colon
id|snd_emu10k1_fx8010_playback_pointer
comma
)brace
suffix:semicolon
DECL|function|snd_emu10k1_fx8010_pcm_free
r_static
r_void
id|snd_emu10k1_fx8010_pcm_free
c_func
(paren
id|snd_pcm_t
op_star
id|pcm
)paren
(brace
id|emu10k1_t
op_star
id|emu
op_assign
id|snd_magic_cast
c_func
(paren
id|emu10k1_t
comma
id|pcm-&gt;private_data
comma
r_return
)paren
suffix:semicolon
id|emu-&gt;pcm_fx8010
op_assign
l_int|NULL
suffix:semicolon
id|snd_pcm_lib_preallocate_free_for_all
c_func
(paren
id|pcm
)paren
suffix:semicolon
)brace
DECL|function|snd_emu10k1_fx8010_pcm
r_int
id|snd_emu10k1_fx8010_pcm
c_func
(paren
id|emu10k1_t
op_star
id|emu
comma
r_int
id|device
comma
id|snd_pcm_t
op_star
op_star
id|rpcm
)paren
(brace
id|snd_pcm_t
op_star
id|pcm
suffix:semicolon
r_int
id|err
suffix:semicolon
r_if
c_cond
(paren
id|rpcm
)paren
op_star
id|rpcm
op_assign
l_int|NULL
suffix:semicolon
r_if
c_cond
(paren
(paren
id|err
op_assign
id|snd_pcm_new
c_func
(paren
id|emu-&gt;card
comma
l_string|&quot;emu10k1&quot;
comma
id|device
comma
l_int|8
comma
l_int|0
comma
op_amp
id|pcm
)paren
)paren
OL
l_int|0
)paren
r_return
id|err
suffix:semicolon
id|pcm-&gt;private_data
op_assign
id|emu
suffix:semicolon
id|pcm-&gt;private_free
op_assign
id|snd_emu10k1_fx8010_pcm_free
suffix:semicolon
id|snd_pcm_set_ops
c_func
(paren
id|pcm
comma
id|SNDRV_PCM_STREAM_PLAYBACK
comma
op_amp
id|snd_emu10k1_fx8010_playback_ops
)paren
suffix:semicolon
id|pcm-&gt;info_flags
op_assign
l_int|0
suffix:semicolon
id|strcpy
c_func
(paren
id|pcm-&gt;name
comma
l_string|&quot;EMU10K1 FX8010&quot;
)paren
suffix:semicolon
id|emu-&gt;pcm_fx8010
op_assign
id|pcm
suffix:semicolon
id|snd_pcm_lib_preallocate_pci_pages_for_all
c_func
(paren
id|emu-&gt;pci
comma
id|pcm
comma
l_int|64
op_star
l_int|1024
comma
l_int|0
)paren
suffix:semicolon
r_if
c_cond
(paren
id|rpcm
)paren
op_star
id|rpcm
op_assign
id|pcm
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/*************************************************************************&n; * EMU10K1 effect manager&n; *************************************************************************/
DECL|function|snd_emu10k1_write_op
r_static
r_void
id|snd_emu10k1_write_op
c_func
(paren
id|emu10k1_fx8010_code_t
op_star
id|icode
comma
r_int
r_int
op_star
id|ptr
comma
id|u32
id|op
comma
id|u32
id|r
comma
id|u32
id|a
comma
id|u32
id|x
comma
id|u32
id|y
)paren
(brace
id|snd_assert
c_func
(paren
op_star
id|ptr
OL
l_int|512
comma
r_return
)paren
suffix:semicolon
id|set_bit
c_func
(paren
op_star
id|ptr
comma
op_amp
id|icode-&gt;code_valid
)paren
suffix:semicolon
id|icode-&gt;code
(braket
op_star
id|ptr
)braket
(braket
l_int|0
)braket
op_assign
(paren
(paren
id|x
op_amp
l_int|0x3ff
)paren
op_lshift
l_int|10
)paren
op_or
(paren
id|y
op_amp
l_int|0x3ff
)paren
suffix:semicolon
id|icode-&gt;code
(braket
(paren
op_star
id|ptr
)paren
op_increment
)braket
(braket
l_int|1
)braket
op_assign
(paren
(paren
id|op
op_amp
l_int|0x0f
)paren
op_lshift
l_int|20
)paren
op_or
(paren
(paren
id|r
op_amp
l_int|0x3ff
)paren
op_lshift
l_int|10
)paren
op_or
(paren
id|a
op_amp
l_int|0x3ff
)paren
suffix:semicolon
)brace
DECL|macro|OP
mdefine_line|#define OP(icode, ptr, op, r, a, x, y) &bslash;&n;&t;snd_emu10k1_write_op(icode, ptr, op, r, a, x, y)
DECL|function|snd_emu10k1_audigy_write_op
r_static
r_void
id|snd_emu10k1_audigy_write_op
c_func
(paren
id|emu10k1_fx8010_code_t
op_star
id|icode
comma
r_int
r_int
op_star
id|ptr
comma
id|u32
id|op
comma
id|u32
id|r
comma
id|u32
id|a
comma
id|u32
id|x
comma
id|u32
id|y
)paren
(brace
id|snd_assert
c_func
(paren
op_star
id|ptr
OL
l_int|512
comma
r_return
)paren
suffix:semicolon
id|set_bit
c_func
(paren
op_star
id|ptr
comma
op_amp
id|icode-&gt;code_valid
)paren
suffix:semicolon
id|icode-&gt;code
(braket
op_star
id|ptr
)braket
(braket
l_int|0
)braket
op_assign
(paren
(paren
id|x
op_amp
l_int|0x7ff
)paren
op_lshift
l_int|12
)paren
op_or
(paren
id|y
op_amp
l_int|0x7ff
)paren
suffix:semicolon
id|icode-&gt;code
(braket
(paren
op_star
id|ptr
)paren
op_increment
)braket
(braket
l_int|1
)braket
op_assign
(paren
(paren
id|op
op_amp
l_int|0x0f
)paren
op_lshift
l_int|24
)paren
op_or
(paren
(paren
id|r
op_amp
l_int|0x7ff
)paren
op_lshift
l_int|12
)paren
op_or
(paren
id|a
op_amp
l_int|0x7ff
)paren
suffix:semicolon
)brace
DECL|macro|A_OP
mdefine_line|#define A_OP(icode, ptr, op, r, a, x, y) &bslash;&n;&t;snd_emu10k1_audigy_write_op(icode, ptr, op, r, a, x, y)
DECL|function|snd_emu10k1_efx_write
r_void
id|snd_emu10k1_efx_write
c_func
(paren
id|emu10k1_t
op_star
id|emu
comma
r_int
r_int
id|pc
comma
r_int
r_int
id|data
)paren
(brace
id|pc
op_add_assign
id|emu-&gt;audigy
ques
c_cond
id|A_MICROCODEBASE
suffix:colon
id|MICROCODEBASE
suffix:semicolon
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|pc
comma
l_int|0
comma
id|data
)paren
suffix:semicolon
)brace
DECL|function|snd_emu10k1_efx_read
r_int
r_int
id|snd_emu10k1_efx_read
c_func
(paren
id|emu10k1_t
op_star
id|emu
comma
r_int
r_int
id|pc
)paren
(brace
id|pc
op_add_assign
id|emu-&gt;audigy
ques
c_cond
id|A_MICROCODEBASE
suffix:colon
id|MICROCODEBASE
suffix:semicolon
r_return
id|snd_emu10k1_ptr_read
c_func
(paren
id|emu
comma
id|pc
comma
l_int|0
)paren
suffix:semicolon
)brace
DECL|function|snd_emu10k1_gpr_poke
r_static
r_void
id|snd_emu10k1_gpr_poke
c_func
(paren
id|emu10k1_t
op_star
id|emu
comma
id|emu10k1_fx8010_code_t
op_star
id|icode
)paren
(brace
r_int
id|gpr
suffix:semicolon
r_for
c_loop
(paren
id|gpr
op_assign
l_int|0
suffix:semicolon
id|gpr
OL
l_int|0x100
suffix:semicolon
id|gpr
op_increment
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
id|test_bit
c_func
(paren
id|gpr
comma
op_amp
id|icode-&gt;gpr_valid
)paren
)paren
r_continue
suffix:semicolon
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|emu-&gt;gpr_base
op_plus
id|gpr
comma
l_int|0
comma
id|icode-&gt;gpr_map
(braket
id|gpr
)braket
)paren
suffix:semicolon
)brace
)brace
DECL|function|snd_emu10k1_gpr_peek
r_static
r_void
id|snd_emu10k1_gpr_peek
c_func
(paren
id|emu10k1_t
op_star
id|emu
comma
id|emu10k1_fx8010_code_t
op_star
id|icode
)paren
(brace
r_int
id|gpr
suffix:semicolon
r_for
c_loop
(paren
id|gpr
op_assign
l_int|0
suffix:semicolon
id|gpr
OL
l_int|0x100
suffix:semicolon
id|gpr
op_increment
)paren
(brace
id|set_bit
c_func
(paren
id|gpr
comma
op_amp
id|icode-&gt;gpr_valid
)paren
suffix:semicolon
id|icode-&gt;gpr_map
(braket
id|gpr
)braket
op_assign
id|snd_emu10k1_ptr_read
c_func
(paren
id|emu
comma
id|emu-&gt;gpr_base
op_plus
id|gpr
comma
l_int|0
)paren
suffix:semicolon
)brace
)brace
DECL|function|snd_emu10k1_tram_poke
r_static
r_void
id|snd_emu10k1_tram_poke
c_func
(paren
id|emu10k1_t
op_star
id|emu
comma
id|emu10k1_fx8010_code_t
op_star
id|icode
)paren
(brace
r_int
id|tram
suffix:semicolon
r_for
c_loop
(paren
id|tram
op_assign
l_int|0
suffix:semicolon
id|tram
OL
l_int|0xa0
suffix:semicolon
id|tram
op_increment
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
id|test_bit
c_func
(paren
id|tram
comma
op_amp
id|icode-&gt;tram_valid
)paren
)paren
r_continue
suffix:semicolon
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|TANKMEMDATAREGBASE
op_plus
id|tram
comma
l_int|0
comma
id|icode-&gt;tram_data_map
(braket
id|tram
)braket
)paren
suffix:semicolon
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|TANKMEMADDRREGBASE
op_plus
id|tram
comma
l_int|0
comma
id|icode-&gt;tram_addr_map
(braket
id|tram
)braket
)paren
suffix:semicolon
)brace
)brace
DECL|function|snd_emu10k1_tram_peek
r_static
r_void
id|snd_emu10k1_tram_peek
c_func
(paren
id|emu10k1_t
op_star
id|emu
comma
id|emu10k1_fx8010_code_t
op_star
id|icode
)paren
(brace
r_int
id|tram
suffix:semicolon
r_for
c_loop
(paren
id|tram
op_assign
l_int|0
suffix:semicolon
id|tram
OL
l_int|0xa0
suffix:semicolon
id|tram
op_increment
)paren
(brace
id|set_bit
c_func
(paren
id|tram
comma
op_amp
id|icode-&gt;tram_valid
)paren
suffix:semicolon
id|icode-&gt;tram_data_map
(braket
id|tram
)braket
op_assign
id|snd_emu10k1_ptr_read
c_func
(paren
id|emu
comma
id|TANKMEMDATAREGBASE
op_plus
id|tram
comma
l_int|0
)paren
suffix:semicolon
id|icode-&gt;tram_addr_map
(braket
id|tram
)braket
op_assign
id|snd_emu10k1_ptr_read
c_func
(paren
id|emu
comma
id|TANKMEMADDRREGBASE
op_plus
id|tram
comma
l_int|0
)paren
suffix:semicolon
)brace
)brace
DECL|function|snd_emu10k1_code_poke
r_static
r_void
id|snd_emu10k1_code_poke
c_func
(paren
id|emu10k1_t
op_star
id|emu
comma
id|emu10k1_fx8010_code_t
op_star
id|icode
)paren
(brace
id|u32
id|pc
suffix:semicolon
r_for
c_loop
(paren
id|pc
op_assign
l_int|0
suffix:semicolon
id|pc
OL
l_int|512
suffix:semicolon
id|pc
op_increment
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
id|test_bit
c_func
(paren
id|pc
comma
op_amp
id|icode-&gt;code_valid
)paren
)paren
r_continue
suffix:semicolon
id|snd_emu10k1_efx_write
c_func
(paren
id|emu
comma
id|pc
op_star
l_int|2
comma
id|icode-&gt;code
(braket
id|pc
)braket
(braket
l_int|0
)braket
)paren
suffix:semicolon
id|snd_emu10k1_efx_write
c_func
(paren
id|emu
comma
id|pc
op_star
l_int|2
op_plus
l_int|1
comma
id|icode-&gt;code
(braket
id|pc
)braket
(braket
l_int|1
)braket
)paren
suffix:semicolon
)brace
)brace
DECL|function|snd_emu10k1_code_peek
r_static
r_void
id|snd_emu10k1_code_peek
c_func
(paren
id|emu10k1_t
op_star
id|emu
comma
id|emu10k1_fx8010_code_t
op_star
id|icode
)paren
(brace
id|u32
id|pc
suffix:semicolon
r_for
c_loop
(paren
id|pc
op_assign
l_int|0
suffix:semicolon
id|pc
OL
l_int|512
suffix:semicolon
id|pc
op_increment
)paren
(brace
id|set_bit
c_func
(paren
id|pc
comma
op_amp
id|icode-&gt;code_valid
)paren
suffix:semicolon
id|icode-&gt;code
(braket
id|pc
)braket
(braket
l_int|0
)braket
op_assign
id|snd_emu10k1_efx_read
c_func
(paren
id|emu
comma
id|pc
op_star
l_int|2
)paren
suffix:semicolon
id|icode-&gt;code
(braket
id|pc
)braket
(braket
l_int|1
)braket
op_assign
id|snd_emu10k1_efx_read
c_func
(paren
id|emu
comma
id|pc
op_star
l_int|2
op_plus
l_int|1
)paren
suffix:semicolon
)brace
)brace
DECL|function|snd_emu10k1_look_for_ctl
r_static
id|snd_emu10k1_fx8010_ctl_t
op_star
id|snd_emu10k1_look_for_ctl
c_func
(paren
id|emu10k1_t
op_star
id|emu
comma
id|snd_ctl_elem_id_t
op_star
id|id
)paren
(brace
id|snd_emu10k1_fx8010_ctl_t
op_star
id|ctl
suffix:semicolon
id|snd_kcontrol_t
op_star
id|kcontrol
suffix:semicolon
r_struct
id|list_head
op_star
id|list
suffix:semicolon
id|list_for_each
c_func
(paren
id|list
comma
op_amp
id|emu-&gt;fx8010.gpr_ctl
)paren
(brace
id|ctl
op_assign
id|emu10k1_gpr_ctl
c_func
(paren
id|list
)paren
suffix:semicolon
id|kcontrol
op_assign
id|ctl-&gt;kcontrol
suffix:semicolon
r_if
c_cond
(paren
id|kcontrol-&gt;id.iface
op_eq
id|id-&gt;iface
op_logical_and
op_logical_neg
id|strcmp
c_func
(paren
id|kcontrol-&gt;id.name
comma
id|id-&gt;name
)paren
op_logical_and
id|kcontrol-&gt;id.index
op_eq
id|id-&gt;index
)paren
r_return
id|ctl
suffix:semicolon
)brace
r_return
l_int|NULL
suffix:semicolon
)brace
DECL|function|snd_emu10k1_verify_controls
r_static
r_int
id|snd_emu10k1_verify_controls
c_func
(paren
id|emu10k1_t
op_star
id|emu
comma
id|emu10k1_fx8010_code_t
op_star
id|icode
)paren
(brace
r_int
id|i
suffix:semicolon
id|snd_ctl_elem_id_t
op_star
id|_id
comma
id|id
suffix:semicolon
id|emu10k1_fx8010_control_gpr_t
op_star
id|_gctl
comma
id|gctl
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
comma
id|_id
op_assign
id|icode-&gt;gpr_del_controls
suffix:semicolon
id|i
OL
id|icode-&gt;gpr_del_control_count
suffix:semicolon
id|i
op_increment
comma
id|_id
op_increment
)paren
(brace
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
op_amp
id|id
comma
id|_id
comma
r_sizeof
(paren
id|id
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|snd_emu10k1_look_for_ctl
c_func
(paren
id|emu
comma
op_amp
id|id
)paren
op_eq
l_int|NULL
)paren
r_return
op_minus
id|ENOENT
suffix:semicolon
)brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0
comma
id|_gctl
op_assign
id|icode-&gt;gpr_add_controls
suffix:semicolon
id|i
OL
id|icode-&gt;gpr_add_control_count
suffix:semicolon
id|i
op_increment
)paren
(brace
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
op_amp
id|gctl
comma
id|_gctl
comma
r_sizeof
(paren
id|gctl
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|snd_emu10k1_look_for_ctl
c_func
(paren
id|emu
comma
op_amp
id|gctl.id
)paren
)paren
r_continue
suffix:semicolon
r_if
c_cond
(paren
id|snd_ctl_find_id
c_func
(paren
id|emu-&gt;card
comma
op_amp
id|gctl.id
)paren
op_ne
l_int|NULL
)paren
r_return
op_minus
id|EEXIST
suffix:semicolon
r_if
c_cond
(paren
id|gctl.id.iface
op_ne
id|SNDRV_CTL_ELEM_IFACE_MIXER
op_logical_and
id|gctl.id.iface
op_ne
id|SNDRV_CTL_ELEM_IFACE_PCM
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|snd_emu10k1_ctl_private_free
r_static
r_void
id|snd_emu10k1_ctl_private_free
c_func
(paren
id|snd_kcontrol_t
op_star
id|kctl
)paren
(brace
id|snd_emu10k1_fx8010_ctl_t
op_star
id|ctl
suffix:semicolon
id|ctl
op_assign
(paren
id|snd_emu10k1_fx8010_ctl_t
op_star
)paren
id|kctl-&gt;private_value
suffix:semicolon
id|kctl-&gt;private_value
op_assign
l_int|0
suffix:semicolon
id|list_del
c_func
(paren
op_amp
id|ctl-&gt;list
)paren
suffix:semicolon
id|kfree
c_func
(paren
id|ctl
)paren
suffix:semicolon
)brace
DECL|function|snd_emu10k1_add_controls
r_static
r_void
id|snd_emu10k1_add_controls
c_func
(paren
id|emu10k1_t
op_star
id|emu
comma
id|emu10k1_fx8010_code_t
op_star
id|icode
)paren
(brace
r_int
id|i
comma
id|j
suffix:semicolon
id|emu10k1_fx8010_control_gpr_t
op_star
id|_gctl
comma
id|gctl
suffix:semicolon
id|snd_emu10k1_fx8010_ctl_t
op_star
id|ctl
comma
id|nctl
suffix:semicolon
id|snd_kcontrol_new_t
id|knew
suffix:semicolon
id|snd_kcontrol_t
op_star
id|kctl
suffix:semicolon
id|snd_ctl_elem_value_t
id|val
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
comma
id|_gctl
op_assign
id|icode-&gt;gpr_add_controls
suffix:semicolon
id|i
OL
id|icode-&gt;gpr_add_control_count
suffix:semicolon
id|i
op_increment
comma
id|_gctl
op_increment
)paren
(brace
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
op_amp
id|gctl
comma
id|_gctl
comma
r_sizeof
(paren
id|gctl
)paren
)paren
)paren
r_return
suffix:semicolon
id|snd_runtime_check
c_func
(paren
id|gctl.id.iface
op_eq
id|SNDRV_CTL_ELEM_IFACE_MIXER
op_logical_or
id|gctl.id.iface
op_eq
id|SNDRV_CTL_ELEM_IFACE_PCM
comma
r_continue
)paren
suffix:semicolon
id|snd_runtime_check
c_func
(paren
id|gctl.id.name
(braket
l_int|0
)braket
op_ne
l_char|&squot;&bslash;0&squot;
comma
r_continue
)paren
suffix:semicolon
id|ctl
op_assign
id|snd_emu10k1_look_for_ctl
c_func
(paren
id|emu
comma
op_amp
id|gctl.id
)paren
suffix:semicolon
id|memset
c_func
(paren
op_amp
id|knew
comma
l_int|0
comma
r_sizeof
(paren
id|knew
)paren
)paren
suffix:semicolon
id|knew.iface
op_assign
id|gctl.id.iface
suffix:semicolon
id|knew.name
op_assign
id|gctl.id.name
suffix:semicolon
id|knew.index
op_assign
id|gctl.id.index
suffix:semicolon
id|knew.info
op_assign
id|snd_emu10k1_gpr_ctl_info
suffix:semicolon
id|knew.get
op_assign
id|snd_emu10k1_gpr_ctl_get
suffix:semicolon
id|knew.put
op_assign
id|snd_emu10k1_gpr_ctl_put
suffix:semicolon
id|memset
c_func
(paren
op_amp
id|nctl
comma
l_int|0
comma
r_sizeof
(paren
id|nctl
)paren
)paren
suffix:semicolon
id|nctl.vcount
op_assign
id|gctl.vcount
suffix:semicolon
id|nctl.count
op_assign
id|gctl.count
suffix:semicolon
r_for
c_loop
(paren
id|j
op_assign
l_int|0
suffix:semicolon
id|j
OL
l_int|32
suffix:semicolon
id|j
op_increment
)paren
(brace
id|nctl.gpr
(braket
id|j
)braket
op_assign
id|gctl.gpr
(braket
id|j
)braket
suffix:semicolon
id|nctl.value
(braket
id|j
)braket
op_assign
op_complement
id|gctl.value
(braket
id|j
)braket
suffix:semicolon
id|val.value.integer.value
(braket
id|j
)braket
op_assign
id|gctl.value
(braket
id|j
)braket
suffix:semicolon
)brace
id|nctl.min
op_assign
id|gctl.min
suffix:semicolon
id|nctl.max
op_assign
id|gctl.max
suffix:semicolon
id|nctl.translation
op_assign
id|gctl.translation
suffix:semicolon
r_if
c_cond
(paren
id|ctl
op_eq
l_int|NULL
)paren
(brace
id|ctl
op_assign
(paren
id|snd_emu10k1_fx8010_ctl_t
op_star
)paren
id|kmalloc
c_func
(paren
r_sizeof
(paren
op_star
id|ctl
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
id|ctl
op_eq
l_int|NULL
)paren
r_continue
suffix:semicolon
id|knew.private_value
op_assign
(paren
r_int
r_int
)paren
id|ctl
suffix:semicolon
id|memcpy
c_func
(paren
id|ctl
comma
op_amp
id|nctl
comma
r_sizeof
(paren
id|nctl
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|snd_ctl_add
c_func
(paren
id|emu-&gt;card
comma
id|kctl
op_assign
id|snd_ctl_new1
c_func
(paren
op_amp
id|knew
comma
id|emu
)paren
)paren
OL
l_int|0
)paren
(brace
id|kfree
c_func
(paren
id|ctl
)paren
suffix:semicolon
r_continue
suffix:semicolon
)brace
id|kctl-&gt;private_free
op_assign
id|snd_emu10k1_ctl_private_free
suffix:semicolon
id|ctl-&gt;kcontrol
op_assign
id|kctl
suffix:semicolon
id|list_add_tail
c_func
(paren
op_amp
id|ctl-&gt;list
comma
op_amp
id|emu-&gt;fx8010.gpr_ctl
)paren
suffix:semicolon
)brace
r_else
(brace
multiline_comment|/* overwrite */
id|nctl.list
op_assign
id|ctl-&gt;list
suffix:semicolon
id|nctl.kcontrol
op_assign
id|ctl-&gt;kcontrol
suffix:semicolon
id|memcpy
c_func
(paren
id|ctl
comma
op_amp
id|nctl
comma
r_sizeof
(paren
id|nctl
)paren
)paren
suffix:semicolon
id|snd_ctl_notify
c_func
(paren
id|emu-&gt;card
comma
id|SNDRV_CTL_EVENT_MASK_VALUE
op_or
id|SNDRV_CTL_EVENT_MASK_INFO
comma
op_amp
id|ctl-&gt;kcontrol-&gt;id
)paren
suffix:semicolon
)brace
id|snd_emu10k1_gpr_ctl_put
c_func
(paren
id|ctl-&gt;kcontrol
comma
op_amp
id|val
)paren
suffix:semicolon
)brace
)brace
DECL|function|snd_emu10k1_del_controls
r_static
r_void
id|snd_emu10k1_del_controls
c_func
(paren
id|emu10k1_t
op_star
id|emu
comma
id|emu10k1_fx8010_code_t
op_star
id|icode
)paren
(brace
r_int
id|i
suffix:semicolon
id|snd_ctl_elem_id_t
op_star
id|_id
comma
id|id
suffix:semicolon
id|snd_emu10k1_fx8010_ctl_t
op_star
id|ctl
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
comma
id|_id
op_assign
id|icode-&gt;gpr_del_controls
suffix:semicolon
id|i
OL
id|icode-&gt;gpr_del_control_count
suffix:semicolon
id|i
op_increment
comma
id|_id
op_increment
)paren
(brace
id|snd_runtime_check
c_func
(paren
id|copy_from_user
c_func
(paren
op_amp
id|id
comma
id|_id
comma
r_sizeof
(paren
id|id
)paren
)paren
op_eq
l_int|0
comma
r_continue
)paren
suffix:semicolon
id|ctl
op_assign
id|snd_emu10k1_look_for_ctl
c_func
(paren
id|emu
comma
op_amp
id|id
)paren
suffix:semicolon
id|snd_runtime_check
c_func
(paren
id|ctl
op_eq
l_int|NULL
comma
r_continue
)paren
suffix:semicolon
id|snd_ctl_remove
c_func
(paren
id|emu-&gt;card
comma
id|ctl-&gt;kcontrol
)paren
suffix:semicolon
)brace
)brace
DECL|function|snd_emu10k1_icode_poke
r_static
r_int
id|snd_emu10k1_icode_poke
c_func
(paren
id|emu10k1_t
op_star
id|emu
comma
id|emu10k1_fx8010_code_t
op_star
id|icode
)paren
(brace
r_int
id|err
op_assign
l_int|0
suffix:semicolon
id|down
c_func
(paren
op_amp
id|emu-&gt;fx8010.lock
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|err
op_assign
id|snd_emu10k1_verify_controls
c_func
(paren
id|emu
comma
id|icode
)paren
)paren
OL
l_int|0
)paren
r_goto
id|__error
suffix:semicolon
id|strncpy
c_func
(paren
id|emu-&gt;fx8010.name
comma
id|icode-&gt;name
comma
r_sizeof
(paren
id|emu-&gt;fx8010.name
)paren
op_minus
l_int|1
)paren
suffix:semicolon
id|emu-&gt;fx8010.name
(braket
r_sizeof
(paren
id|emu-&gt;fx8010.name
)paren
op_minus
l_int|1
)braket
op_assign
l_char|&squot;&bslash;0&squot;
suffix:semicolon
multiline_comment|/* stop FX processor - this may be dangerous, but it&squot;s better to miss&n;&t;   some samples than generate wrong ones - [jk] */
r_if
c_cond
(paren
id|emu-&gt;audigy
)paren
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|A_DBG
comma
l_int|0
comma
id|emu-&gt;fx8010.dbg
op_or
id|A_DBG_SINGLE_STEP
)paren
suffix:semicolon
r_else
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|DBG
comma
l_int|0
comma
id|emu-&gt;fx8010.dbg
op_or
id|EMU10K1_DBG_SINGLE_STEP
)paren
suffix:semicolon
multiline_comment|/* ok, do the main job */
id|snd_emu10k1_del_controls
c_func
(paren
id|emu
comma
id|icode
)paren
suffix:semicolon
id|snd_emu10k1_gpr_poke
c_func
(paren
id|emu
comma
id|icode
)paren
suffix:semicolon
id|snd_emu10k1_tram_poke
c_func
(paren
id|emu
comma
id|icode
)paren
suffix:semicolon
id|snd_emu10k1_code_poke
c_func
(paren
id|emu
comma
id|icode
)paren
suffix:semicolon
id|snd_emu10k1_add_controls
c_func
(paren
id|emu
comma
id|icode
)paren
suffix:semicolon
multiline_comment|/* start FX processor when the DSP code is updated */
r_if
c_cond
(paren
id|emu-&gt;audigy
)paren
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|A_DBG
comma
l_int|0
comma
id|emu-&gt;fx8010.dbg
)paren
suffix:semicolon
r_else
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|DBG
comma
l_int|0
comma
id|emu-&gt;fx8010.dbg
)paren
suffix:semicolon
id|__error
suffix:colon
id|up
c_func
(paren
op_amp
id|emu-&gt;fx8010.lock
)paren
suffix:semicolon
r_return
id|err
suffix:semicolon
)brace
DECL|function|snd_emu10k1_icode_peek
r_static
r_int
id|snd_emu10k1_icode_peek
c_func
(paren
id|emu10k1_t
op_star
id|emu
comma
id|emu10k1_fx8010_code_t
op_star
id|icode
)paren
(brace
id|down
c_func
(paren
op_amp
id|emu-&gt;fx8010.lock
)paren
suffix:semicolon
id|strncpy
c_func
(paren
id|icode-&gt;name
comma
id|emu-&gt;fx8010.name
comma
r_sizeof
(paren
id|icode-&gt;name
)paren
op_minus
l_int|1
)paren
suffix:semicolon
id|emu-&gt;fx8010.name
(braket
r_sizeof
(paren
id|emu-&gt;fx8010.name
)paren
op_minus
l_int|1
)braket
op_assign
l_char|&squot;&bslash;0&squot;
suffix:semicolon
multiline_comment|/* ok, do the main job */
id|snd_emu10k1_gpr_peek
c_func
(paren
id|emu
comma
id|icode
)paren
suffix:semicolon
id|snd_emu10k1_tram_peek
c_func
(paren
id|emu
comma
id|icode
)paren
suffix:semicolon
id|snd_emu10k1_code_peek
c_func
(paren
id|emu
comma
id|icode
)paren
suffix:semicolon
id|up
c_func
(paren
op_amp
id|emu-&gt;fx8010.lock
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|snd_emu10k1_ipcm_poke
r_static
r_int
id|snd_emu10k1_ipcm_poke
c_func
(paren
id|emu10k1_t
op_star
id|emu
comma
id|emu10k1_fx8010_pcm_t
op_star
id|ipcm
)paren
(brace
r_int
id|err
op_assign
l_int|0
comma
id|i
suffix:semicolon
id|snd_emu10k1_fx8010_pcm_t
op_star
id|pcm
suffix:semicolon
r_if
c_cond
(paren
id|ipcm-&gt;substream
op_ge
id|EMU10K1_FX8010_PCM_COUNT
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
r_if
c_cond
(paren
id|ipcm-&gt;channels
OG
l_int|32
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
id|pcm
op_assign
op_amp
id|emu-&gt;fx8010.pcm
(braket
id|ipcm-&gt;substream
)braket
suffix:semicolon
id|down
c_func
(paren
op_amp
id|emu-&gt;fx8010.lock
)paren
suffix:semicolon
id|spin_lock_irq
c_func
(paren
op_amp
id|emu-&gt;reg_lock
)paren
suffix:semicolon
r_if
c_cond
(paren
id|pcm-&gt;opened
)paren
(brace
id|err
op_assign
op_minus
id|EBUSY
suffix:semicolon
r_goto
id|__error
suffix:semicolon
)brace
r_if
c_cond
(paren
id|ipcm-&gt;channels
op_eq
l_int|0
)paren
(brace
multiline_comment|/* remove */
id|pcm-&gt;valid
op_assign
l_int|0
suffix:semicolon
)brace
r_else
(brace
multiline_comment|/* FIXME: we need to add universal code to the PCM transfer routine */
r_if
c_cond
(paren
id|ipcm-&gt;channels
op_ne
l_int|2
)paren
(brace
id|err
op_assign
op_minus
id|EINVAL
suffix:semicolon
r_goto
id|__error
suffix:semicolon
)brace
id|pcm-&gt;valid
op_assign
l_int|1
suffix:semicolon
id|pcm-&gt;opened
op_assign
l_int|0
suffix:semicolon
id|pcm-&gt;channels
op_assign
id|ipcm-&gt;channels
suffix:semicolon
id|pcm-&gt;tram_start
op_assign
id|ipcm-&gt;tram_start
suffix:semicolon
id|pcm-&gt;buffer_size
op_assign
id|ipcm-&gt;buffer_size
suffix:semicolon
id|pcm-&gt;gpr_size
op_assign
id|ipcm-&gt;gpr_size
suffix:semicolon
id|pcm-&gt;gpr_count
op_assign
id|ipcm-&gt;gpr_count
suffix:semicolon
id|pcm-&gt;gpr_tmpcount
op_assign
id|ipcm-&gt;gpr_tmpcount
suffix:semicolon
id|pcm-&gt;gpr_ptr
op_assign
id|ipcm-&gt;gpr_ptr
suffix:semicolon
id|pcm-&gt;gpr_trigger
op_assign
id|ipcm-&gt;gpr_trigger
suffix:semicolon
id|pcm-&gt;gpr_running
op_assign
id|ipcm-&gt;gpr_running
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|pcm-&gt;channels
suffix:semicolon
id|i
op_increment
)paren
id|pcm-&gt;etram
(braket
id|i
)braket
op_assign
id|ipcm-&gt;etram
(braket
id|i
)braket
suffix:semicolon
)brace
id|__error
suffix:colon
id|spin_unlock_irq
c_func
(paren
op_amp
id|emu-&gt;reg_lock
)paren
suffix:semicolon
id|up
c_func
(paren
op_amp
id|emu-&gt;fx8010.lock
)paren
suffix:semicolon
r_return
id|err
suffix:semicolon
)brace
DECL|function|snd_emu10k1_ipcm_peek
r_static
r_int
id|snd_emu10k1_ipcm_peek
c_func
(paren
id|emu10k1_t
op_star
id|emu
comma
id|emu10k1_fx8010_pcm_t
op_star
id|ipcm
)paren
(brace
r_int
id|err
op_assign
l_int|0
comma
id|i
suffix:semicolon
id|snd_emu10k1_fx8010_pcm_t
op_star
id|pcm
suffix:semicolon
r_if
c_cond
(paren
id|ipcm-&gt;substream
op_ge
id|EMU10K1_FX8010_PCM_COUNT
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
id|pcm
op_assign
op_amp
id|emu-&gt;fx8010.pcm
(braket
id|ipcm-&gt;substream
)braket
suffix:semicolon
id|down
c_func
(paren
op_amp
id|emu-&gt;fx8010.lock
)paren
suffix:semicolon
id|spin_lock_irq
c_func
(paren
op_amp
id|emu-&gt;reg_lock
)paren
suffix:semicolon
id|ipcm-&gt;channels
op_assign
id|pcm-&gt;channels
suffix:semicolon
id|ipcm-&gt;tram_start
op_assign
id|pcm-&gt;tram_start
suffix:semicolon
id|ipcm-&gt;buffer_size
op_assign
id|pcm-&gt;buffer_size
suffix:semicolon
id|ipcm-&gt;gpr_size
op_assign
id|pcm-&gt;gpr_size
suffix:semicolon
id|ipcm-&gt;gpr_ptr
op_assign
id|pcm-&gt;gpr_ptr
suffix:semicolon
id|ipcm-&gt;gpr_count
op_assign
id|pcm-&gt;gpr_count
suffix:semicolon
id|ipcm-&gt;gpr_tmpcount
op_assign
id|pcm-&gt;gpr_tmpcount
suffix:semicolon
id|ipcm-&gt;gpr_trigger
op_assign
id|pcm-&gt;gpr_trigger
suffix:semicolon
id|ipcm-&gt;gpr_running
op_assign
id|pcm-&gt;gpr_running
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|pcm-&gt;channels
suffix:semicolon
id|i
op_increment
)paren
id|ipcm-&gt;etram
(braket
id|i
)braket
op_assign
id|pcm-&gt;etram
(braket
id|i
)braket
suffix:semicolon
id|ipcm-&gt;res1
op_assign
id|ipcm-&gt;res2
op_assign
l_int|0
suffix:semicolon
id|ipcm-&gt;pad
op_assign
l_int|0
suffix:semicolon
id|spin_unlock_irq
c_func
(paren
op_amp
id|emu-&gt;reg_lock
)paren
suffix:semicolon
id|up
c_func
(paren
op_amp
id|emu-&gt;fx8010.lock
)paren
suffix:semicolon
r_return
id|err
suffix:semicolon
)brace
DECL|macro|SND_EMU10K1_GPR_CONTROLS
mdefine_line|#define SND_EMU10K1_GPR_CONTROLS&t;41
DECL|macro|SND_EMU10K1_INPUTS
mdefine_line|#define SND_EMU10K1_INPUTS&t;&t;10
DECL|macro|SND_EMU10K1_PLAYBACK_CHANNELS
mdefine_line|#define SND_EMU10K1_PLAYBACK_CHANNELS&t;6
DECL|macro|SND_EMU10K1_CAPTURE_CHANNELS
mdefine_line|#define SND_EMU10K1_CAPTURE_CHANNELS&t;4
DECL|function|snd_emu10k1_init_mono_control
r_static
r_void
id|__devinit
id|snd_emu10k1_init_mono_control
c_func
(paren
id|emu10k1_fx8010_control_gpr_t
op_star
id|ctl
comma
r_const
r_char
op_star
id|name
comma
r_int
id|gpr
comma
r_int
id|defval
)paren
(brace
id|ctl-&gt;id.iface
op_assign
id|SNDRV_CTL_ELEM_IFACE_MIXER
suffix:semicolon
id|strcpy
c_func
(paren
id|ctl-&gt;id.name
comma
id|name
)paren
suffix:semicolon
id|ctl-&gt;vcount
op_assign
id|ctl-&gt;count
op_assign
l_int|1
suffix:semicolon
id|ctl-&gt;gpr
(braket
l_int|0
)braket
op_assign
id|gpr
op_plus
l_int|0
suffix:semicolon
id|ctl-&gt;value
(braket
l_int|0
)braket
op_assign
id|defval
suffix:semicolon
id|ctl-&gt;min
op_assign
l_int|0
suffix:semicolon
id|ctl-&gt;max
op_assign
l_int|100
suffix:semicolon
id|ctl-&gt;translation
op_assign
id|EMU10K1_GPR_TRANSLATION_TABLE100
suffix:semicolon
)brace
DECL|function|snd_emu10k1_init_stereo_control
r_static
r_void
id|__devinit
id|snd_emu10k1_init_stereo_control
c_func
(paren
id|emu10k1_fx8010_control_gpr_t
op_star
id|ctl
comma
r_const
r_char
op_star
id|name
comma
r_int
id|gpr
comma
r_int
id|defval
)paren
(brace
id|ctl-&gt;id.iface
op_assign
id|SNDRV_CTL_ELEM_IFACE_MIXER
suffix:semicolon
id|strcpy
c_func
(paren
id|ctl-&gt;id.name
comma
id|name
)paren
suffix:semicolon
id|ctl-&gt;vcount
op_assign
id|ctl-&gt;count
op_assign
l_int|2
suffix:semicolon
id|ctl-&gt;gpr
(braket
l_int|0
)braket
op_assign
id|gpr
op_plus
l_int|0
suffix:semicolon
id|ctl-&gt;value
(braket
l_int|0
)braket
op_assign
id|defval
suffix:semicolon
id|ctl-&gt;gpr
(braket
l_int|1
)braket
op_assign
id|gpr
op_plus
l_int|1
suffix:semicolon
id|ctl-&gt;value
(braket
l_int|1
)braket
op_assign
id|defval
suffix:semicolon
id|ctl-&gt;min
op_assign
l_int|0
suffix:semicolon
id|ctl-&gt;max
op_assign
l_int|100
suffix:semicolon
id|ctl-&gt;translation
op_assign
id|EMU10K1_GPR_TRANSLATION_TABLE100
suffix:semicolon
)brace
DECL|function|snd_emu10k1_init_mono_onoff_control
r_static
r_void
id|__devinit
id|snd_emu10k1_init_mono_onoff_control
c_func
(paren
id|emu10k1_fx8010_control_gpr_t
op_star
id|ctl
comma
r_const
r_char
op_star
id|name
comma
r_int
id|gpr
comma
r_int
id|defval
)paren
(brace
id|ctl-&gt;id.iface
op_assign
id|SNDRV_CTL_ELEM_IFACE_MIXER
suffix:semicolon
id|strcpy
c_func
(paren
id|ctl-&gt;id.name
comma
id|name
)paren
suffix:semicolon
id|ctl-&gt;vcount
op_assign
id|ctl-&gt;count
op_assign
l_int|1
suffix:semicolon
id|ctl-&gt;gpr
(braket
l_int|0
)braket
op_assign
id|gpr
op_plus
l_int|0
suffix:semicolon
id|ctl-&gt;value
(braket
l_int|0
)braket
op_assign
id|defval
suffix:semicolon
id|ctl-&gt;min
op_assign
l_int|0
suffix:semicolon
id|ctl-&gt;max
op_assign
l_int|1
suffix:semicolon
id|ctl-&gt;translation
op_assign
id|EMU10K1_GPR_TRANSLATION_ONOFF
suffix:semicolon
)brace
DECL|function|snd_emu10k1_init_stereo_onoff_control
r_static
r_void
id|__devinit
id|snd_emu10k1_init_stereo_onoff_control
c_func
(paren
id|emu10k1_fx8010_control_gpr_t
op_star
id|ctl
comma
r_const
r_char
op_star
id|name
comma
r_int
id|gpr
comma
r_int
id|defval
)paren
(brace
id|ctl-&gt;id.iface
op_assign
id|SNDRV_CTL_ELEM_IFACE_MIXER
suffix:semicolon
id|strcpy
c_func
(paren
id|ctl-&gt;id.name
comma
id|name
)paren
suffix:semicolon
id|ctl-&gt;vcount
op_assign
id|ctl-&gt;count
op_assign
l_int|2
suffix:semicolon
id|ctl-&gt;gpr
(braket
l_int|0
)braket
op_assign
id|gpr
op_plus
l_int|0
suffix:semicolon
id|ctl-&gt;value
(braket
l_int|0
)braket
op_assign
id|defval
suffix:semicolon
id|ctl-&gt;gpr
(braket
l_int|1
)braket
op_assign
id|gpr
op_plus
l_int|1
suffix:semicolon
id|ctl-&gt;value
(braket
l_int|1
)braket
op_assign
id|defval
suffix:semicolon
id|ctl-&gt;min
op_assign
l_int|0
suffix:semicolon
id|ctl-&gt;max
op_assign
l_int|1
suffix:semicolon
id|ctl-&gt;translation
op_assign
id|EMU10K1_GPR_TRANSLATION_ONOFF
suffix:semicolon
)brace
multiline_comment|/*&n; * initial DSP configuration for Audigy&n; */
DECL|function|_snd_emu10k1_audigy_init_efx
r_static
r_int
id|__devinit
id|_snd_emu10k1_audigy_init_efx
c_func
(paren
id|emu10k1_t
op_star
id|emu
)paren
(brace
r_int
id|err
comma
id|i
comma
id|gpr
comma
id|tmp
comma
id|playback
comma
id|capture
comma
id|nctl
suffix:semicolon
id|u32
id|ptr
suffix:semicolon
id|emu10k1_fx8010_code_t
op_star
id|icode
suffix:semicolon
id|emu10k1_fx8010_control_gpr_t
op_star
id|controls
suffix:semicolon
id|mm_segment_t
id|seg
suffix:semicolon
id|spin_lock_init
c_func
(paren
op_amp
id|emu-&gt;fx8010.irq_lock
)paren
suffix:semicolon
id|INIT_LIST_HEAD
c_func
(paren
op_amp
id|emu-&gt;fx8010.gpr_ctl
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|icode
op_assign
id|snd_kcalloc
c_func
(paren
r_sizeof
(paren
id|emu10k1_fx8010_code_t
)paren
comma
id|GFP_KERNEL
)paren
)paren
op_eq
l_int|NULL
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
r_if
c_cond
(paren
(paren
id|controls
op_assign
id|snd_kcalloc
c_func
(paren
r_sizeof
(paren
id|emu10k1_fx8010_control_gpr_t
)paren
op_star
id|SND_EMU10K1_GPR_CONTROLS
comma
id|GFP_KERNEL
)paren
)paren
op_eq
l_int|NULL
)paren
(brace
id|kfree
c_func
(paren
id|icode
)paren
suffix:semicolon
r_return
op_minus
id|ENOMEM
suffix:semicolon
)brace
multiline_comment|/* clear free GPRs */
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|256
suffix:semicolon
id|i
op_increment
)paren
id|set_bit
c_func
(paren
id|i
comma
op_amp
id|icode-&gt;gpr_valid
)paren
suffix:semicolon
id|strcpy
c_func
(paren
id|icode-&gt;name
comma
l_string|&quot;Audigy DSP code for ALSA&quot;
)paren
suffix:semicolon
id|ptr
op_assign
l_int|0
suffix:semicolon
id|nctl
op_assign
l_int|0
suffix:semicolon
id|playback
op_assign
l_int|10
suffix:semicolon
id|capture
op_assign
id|playback
op_plus
l_int|10
suffix:semicolon
multiline_comment|/* we reserve 10 voices */
id|gpr
op_assign
id|capture
op_plus
l_int|10
suffix:semicolon
id|tmp
op_assign
l_int|0x80
suffix:semicolon
multiline_comment|/* stop FX processor */
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|A_DBG
comma
l_int|0
comma
(paren
id|emu-&gt;fx8010.dbg
op_assign
l_int|0
)paren
op_or
id|A_DBG_SINGLE_STEP
)paren
suffix:semicolon
multiline_comment|/* Wave Playback */
id|A_OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMAC0
comma
id|A_GPR
c_func
(paren
id|playback
)paren
comma
id|A_C_00000000
comma
id|A_GPR
c_func
(paren
id|gpr
)paren
comma
id|A_FXBUS
c_func
(paren
id|FXBUS_PCM_LEFT
)paren
)paren
suffix:semicolon
id|A_OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMAC0
comma
id|A_GPR
c_func
(paren
id|playback
op_plus
l_int|1
)paren
comma
id|A_C_00000000
comma
id|A_GPR
c_func
(paren
id|gpr
op_plus
l_int|1
)paren
comma
id|A_FXBUS
c_func
(paren
id|FXBUS_PCM_RIGHT
)paren
)paren
suffix:semicolon
id|snd_emu10k1_init_stereo_control
c_func
(paren
op_amp
id|controls
(braket
id|nctl
op_increment
)braket
comma
l_string|&quot;Wave Playback Volume&quot;
comma
id|gpr
comma
l_int|100
)paren
suffix:semicolon
id|gpr
op_add_assign
l_int|2
suffix:semicolon
multiline_comment|/* Wave Surround Playback */
id|A_OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMAC0
comma
id|A_GPR
c_func
(paren
id|playback
op_plus
l_int|2
)paren
comma
id|A_C_00000000
comma
id|A_GPR
c_func
(paren
id|gpr
)paren
comma
id|A_FXBUS
c_func
(paren
id|FXBUS_PCM_LEFT
)paren
)paren
suffix:semicolon
id|A_OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMAC0
comma
id|A_GPR
c_func
(paren
id|playback
op_plus
l_int|3
)paren
comma
id|A_C_00000000
comma
id|A_GPR
c_func
(paren
id|gpr
op_plus
l_int|1
)paren
comma
id|A_FXBUS
c_func
(paren
id|FXBUS_PCM_RIGHT
)paren
)paren
suffix:semicolon
id|snd_emu10k1_init_stereo_control
c_func
(paren
op_amp
id|controls
(braket
id|nctl
op_increment
)braket
comma
l_string|&quot;Wave Surround Playback Volume&quot;
comma
id|gpr
comma
l_int|0
)paren
suffix:semicolon
id|gpr
op_add_assign
l_int|2
suffix:semicolon
multiline_comment|/* Wave Center Playback */
multiline_comment|/* Center = sub = Left/2 + Right/2 */
id|A_OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iINTERP
comma
id|A_GPR
c_func
(paren
id|tmp
)paren
comma
id|A_FXBUS
c_func
(paren
id|FXBUS_PCM_LEFT
)paren
comma
l_int|0xcd
comma
id|A_FXBUS
c_func
(paren
id|FXBUS_PCM_RIGHT
)paren
)paren
suffix:semicolon
id|A_OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMAC0
comma
id|A_GPR
c_func
(paren
id|playback
op_plus
l_int|4
)paren
comma
id|A_C_00000000
comma
id|A_GPR
c_func
(paren
id|gpr
)paren
comma
id|A_GPR
c_func
(paren
id|tmp
)paren
)paren
suffix:semicolon
id|snd_emu10k1_init_mono_control
c_func
(paren
op_amp
id|controls
(braket
id|nctl
op_increment
)braket
comma
l_string|&quot;Wave Center Playback Volume&quot;
comma
id|gpr
comma
l_int|0
)paren
suffix:semicolon
id|gpr
op_increment
suffix:semicolon
multiline_comment|/* Wave LFE Playback */
id|A_OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMAC0
comma
id|A_GPR
c_func
(paren
id|playback
op_plus
l_int|5
)paren
comma
id|A_C_00000000
comma
id|A_GPR
c_func
(paren
id|gpr
)paren
comma
id|A_GPR
c_func
(paren
id|tmp
)paren
)paren
suffix:semicolon
id|snd_emu10k1_init_mono_control
c_func
(paren
op_amp
id|controls
(braket
id|nctl
op_increment
)braket
comma
l_string|&quot;Wave LFE Playback Volume&quot;
comma
id|gpr
comma
l_int|0
)paren
suffix:semicolon
id|gpr
op_increment
suffix:semicolon
multiline_comment|/* Music Playback */
id|A_OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMAC0
comma
id|A_GPR
c_func
(paren
id|playback
op_plus
l_int|0
)paren
comma
id|A_GPR
c_func
(paren
id|playback
op_plus
l_int|0
)paren
comma
id|A_GPR
c_func
(paren
id|gpr
)paren
comma
id|A_FXBUS
c_func
(paren
id|FXBUS_MIDI_LEFT
)paren
)paren
suffix:semicolon
id|A_OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMAC0
comma
id|A_GPR
c_func
(paren
id|playback
op_plus
l_int|1
)paren
comma
id|A_GPR
c_func
(paren
id|playback
op_plus
l_int|1
)paren
comma
id|A_GPR
c_func
(paren
id|gpr
op_plus
l_int|1
)paren
comma
id|A_FXBUS
c_func
(paren
id|FXBUS_MIDI_RIGHT
)paren
)paren
suffix:semicolon
id|snd_emu10k1_init_stereo_control
c_func
(paren
op_amp
id|controls
(braket
id|nctl
op_increment
)braket
comma
l_string|&quot;Music Playback Volume&quot;
comma
id|gpr
comma
l_int|100
)paren
suffix:semicolon
id|gpr
op_add_assign
l_int|2
suffix:semicolon
multiline_comment|/* Wave Capture */
id|A_OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMAC0
comma
id|A_GPR
c_func
(paren
id|capture
op_plus
l_int|0
)paren
comma
id|A_C_00000000
comma
id|A_GPR
c_func
(paren
id|gpr
)paren
comma
id|A_FXBUS
c_func
(paren
id|FXBUS_PCM_LEFT
)paren
)paren
suffix:semicolon
id|A_OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMAC0
comma
id|A_GPR
c_func
(paren
id|capture
op_plus
l_int|1
)paren
comma
id|A_C_00000000
comma
id|A_GPR
c_func
(paren
id|gpr
op_plus
l_int|1
)paren
comma
id|A_FXBUS
c_func
(paren
id|FXBUS_PCM_RIGHT
)paren
)paren
suffix:semicolon
id|snd_emu10k1_init_stereo_control
c_func
(paren
op_amp
id|controls
(braket
id|nctl
op_increment
)braket
comma
l_string|&quot;Wave Capture Volume&quot;
comma
id|gpr
comma
l_int|0
)paren
suffix:semicolon
id|gpr
op_add_assign
l_int|2
suffix:semicolon
multiline_comment|/* Music Capture */
id|A_OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMAC0
comma
id|A_GPR
c_func
(paren
id|capture
op_plus
l_int|0
)paren
comma
id|A_GPR
c_func
(paren
id|capture
op_plus
l_int|0
)paren
comma
id|A_GPR
c_func
(paren
id|gpr
)paren
comma
id|A_FXBUS
c_func
(paren
id|FXBUS_MIDI_LEFT
)paren
)paren
suffix:semicolon
id|A_OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMAC0
comma
id|A_GPR
c_func
(paren
id|capture
op_plus
l_int|1
)paren
comma
id|A_GPR
c_func
(paren
id|capture
op_plus
l_int|1
)paren
comma
id|A_GPR
c_func
(paren
id|gpr
op_plus
l_int|1
)paren
comma
id|A_FXBUS
c_func
(paren
id|FXBUS_MIDI_RIGHT
)paren
)paren
suffix:semicolon
id|snd_emu10k1_init_stereo_control
c_func
(paren
op_amp
id|controls
(braket
id|nctl
op_increment
)braket
comma
l_string|&quot;Music Capture Volume&quot;
comma
id|gpr
comma
l_int|0
)paren
suffix:semicolon
id|gpr
op_add_assign
l_int|2
suffix:semicolon
multiline_comment|/* Surround Playback */
id|A_OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMAC0
comma
id|A_GPR
c_func
(paren
id|playback
op_plus
l_int|2
)paren
comma
id|A_C_00000000
comma
id|A_GPR
c_func
(paren
id|gpr
)paren
comma
id|A_FXBUS
c_func
(paren
id|FXBUS_PCM_LEFT_REAR
)paren
)paren
suffix:semicolon
id|A_OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMAC0
comma
id|A_GPR
c_func
(paren
id|playback
op_plus
l_int|3
)paren
comma
id|A_C_00000000
comma
id|A_GPR
c_func
(paren
id|gpr
op_plus
l_int|1
)paren
comma
id|A_FXBUS
c_func
(paren
id|FXBUS_PCM_RIGHT_REAR
)paren
)paren
suffix:semicolon
id|snd_emu10k1_init_stereo_control
c_func
(paren
op_amp
id|controls
(braket
id|nctl
op_increment
)braket
comma
l_string|&quot;Surround Playback Volume&quot;
comma
id|gpr
comma
l_int|80
)paren
suffix:semicolon
id|gpr
op_add_assign
l_int|2
suffix:semicolon
multiline_comment|/* Center Playback */
id|A_OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMAC0
comma
id|A_GPR
c_func
(paren
id|playback
op_plus
l_int|4
)paren
comma
id|A_GPR
c_func
(paren
id|playback
op_plus
l_int|4
)paren
comma
id|A_GPR
c_func
(paren
id|gpr
)paren
comma
id|A_FXBUS
c_func
(paren
id|FXBUS_PCM_CENTER
)paren
)paren
suffix:semicolon
id|snd_emu10k1_init_mono_control
c_func
(paren
op_amp
id|controls
(braket
id|nctl
op_increment
)braket
comma
l_string|&quot;Center Playback Volume&quot;
comma
id|gpr
comma
l_int|80
)paren
suffix:semicolon
id|gpr
op_increment
suffix:semicolon
multiline_comment|/* LFE Playback */
id|A_OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMAC0
comma
id|A_GPR
c_func
(paren
id|playback
op_plus
l_int|5
)paren
comma
id|A_GPR
c_func
(paren
id|playback
op_plus
l_int|5
)paren
comma
id|A_GPR
c_func
(paren
id|gpr
)paren
comma
id|A_FXBUS
c_func
(paren
id|FXBUS_PCM_LFE
)paren
)paren
suffix:semicolon
id|snd_emu10k1_init_mono_control
c_func
(paren
op_amp
id|controls
(braket
id|nctl
op_increment
)braket
comma
l_string|&quot;LFE Playback Volume&quot;
comma
id|gpr
comma
l_int|80
)paren
suffix:semicolon
id|gpr
op_increment
suffix:semicolon
multiline_comment|/*&n;&t; * inputs&n;&t; */
DECL|macro|A_ADD_VOLUME_IN
mdefine_line|#define A_ADD_VOLUME_IN(var,vol,input) &bslash;&n;A_OP(icode, &amp;ptr, iMAC0, A_GPR(var), A_GPR(var), A_GPR(vol), A_EXTIN(input))
multiline_comment|/* AC&squot;97 Playback Volume */
id|A_ADD_VOLUME_IN
c_func
(paren
id|playback
comma
id|gpr
comma
id|A_EXTIN_AC97_L
)paren
suffix:semicolon
id|A_ADD_VOLUME_IN
c_func
(paren
id|playback
op_plus
l_int|1
comma
id|gpr
op_plus
l_int|1
comma
id|A_EXTIN_AC97_R
)paren
suffix:semicolon
id|snd_emu10k1_init_stereo_control
c_func
(paren
op_amp
id|controls
(braket
id|nctl
op_increment
)braket
comma
l_string|&quot;AC97 Playback Volume&quot;
comma
id|gpr
comma
l_int|0
)paren
suffix:semicolon
id|gpr
op_add_assign
l_int|2
suffix:semicolon
multiline_comment|/* AC&squot;97 Capture Volume */
id|A_ADD_VOLUME_IN
c_func
(paren
id|capture
comma
id|gpr
comma
id|A_EXTIN_AC97_L
)paren
suffix:semicolon
id|A_ADD_VOLUME_IN
c_func
(paren
id|capture
op_plus
l_int|1
comma
id|gpr
op_plus
l_int|1
comma
id|A_EXTIN_AC97_R
)paren
suffix:semicolon
id|snd_emu10k1_init_stereo_control
c_func
(paren
op_amp
id|controls
(braket
id|nctl
op_increment
)braket
comma
l_string|&quot;AC97 Capture Volume&quot;
comma
id|gpr
comma
l_int|100
)paren
suffix:semicolon
id|gpr
op_add_assign
l_int|2
suffix:semicolon
multiline_comment|/* Audigy CD Playback Volume */
id|A_ADD_VOLUME_IN
c_func
(paren
id|playback
comma
id|gpr
comma
id|A_EXTIN_SPDIF_CD_L
)paren
suffix:semicolon
id|A_ADD_VOLUME_IN
c_func
(paren
id|playback
op_plus
l_int|1
comma
id|gpr
op_plus
l_int|1
comma
id|A_EXTIN_SPDIF_CD_R
)paren
suffix:semicolon
id|snd_emu10k1_init_stereo_control
c_func
(paren
op_amp
id|controls
(braket
id|nctl
op_increment
)braket
comma
l_string|&quot;Audigy CD Playback Volume&quot;
comma
id|gpr
comma
l_int|0
)paren
suffix:semicolon
id|gpr
op_add_assign
l_int|2
suffix:semicolon
multiline_comment|/* Audigy CD Capture Volume */
id|A_ADD_VOLUME_IN
c_func
(paren
id|capture
comma
id|gpr
comma
id|A_EXTIN_SPDIF_CD_L
)paren
suffix:semicolon
id|A_ADD_VOLUME_IN
c_func
(paren
id|capture
op_plus
l_int|1
comma
id|gpr
op_plus
l_int|1
comma
id|A_EXTIN_SPDIF_CD_R
)paren
suffix:semicolon
id|snd_emu10k1_init_stereo_control
c_func
(paren
op_amp
id|controls
(braket
id|nctl
op_increment
)braket
comma
l_string|&quot;Audigy CD Capture Volume&quot;
comma
id|gpr
comma
l_int|0
)paren
suffix:semicolon
id|gpr
op_add_assign
l_int|2
suffix:semicolon
multiline_comment|/* Line2 Playback Volume */
id|A_ADD_VOLUME_IN
c_func
(paren
id|playback
comma
id|gpr
comma
id|A_EXTIN_LINE2_L
)paren
suffix:semicolon
id|A_ADD_VOLUME_IN
c_func
(paren
id|playback
op_plus
l_int|1
comma
id|gpr
op_plus
l_int|1
comma
id|A_EXTIN_LINE2_R
)paren
suffix:semicolon
id|snd_emu10k1_init_stereo_control
c_func
(paren
op_amp
id|controls
(braket
id|nctl
op_increment
)braket
comma
l_string|&quot;Line2 Playback Volume&quot;
comma
id|gpr
comma
l_int|0
)paren
suffix:semicolon
id|gpr
op_add_assign
l_int|2
suffix:semicolon
multiline_comment|/* Line2 Capture Volume */
id|A_ADD_VOLUME_IN
c_func
(paren
id|capture
comma
id|gpr
comma
id|A_EXTIN_LINE2_L
)paren
suffix:semicolon
id|A_ADD_VOLUME_IN
c_func
(paren
id|capture
op_plus
l_int|1
comma
id|gpr
op_plus
l_int|1
comma
id|A_EXTIN_LINE2_R
)paren
suffix:semicolon
id|snd_emu10k1_init_stereo_control
c_func
(paren
op_amp
id|controls
(braket
id|nctl
op_increment
)braket
comma
l_string|&quot;Line2 Capture Volume&quot;
comma
id|gpr
comma
l_int|0
)paren
suffix:semicolon
id|gpr
op_add_assign
l_int|2
suffix:semicolon
multiline_comment|/* Aux2 Playback Volume */
id|A_ADD_VOLUME_IN
c_func
(paren
id|playback
comma
id|gpr
comma
id|A_EXTIN_AUX2_L
)paren
suffix:semicolon
id|A_ADD_VOLUME_IN
c_func
(paren
id|playback
op_plus
l_int|1
comma
id|gpr
op_plus
l_int|1
comma
id|A_EXTIN_AUX2_R
)paren
suffix:semicolon
id|snd_emu10k1_init_stereo_control
c_func
(paren
op_amp
id|controls
(braket
id|nctl
op_increment
)braket
comma
l_string|&quot;Aux2 Playback Volume&quot;
comma
id|gpr
comma
l_int|0
)paren
suffix:semicolon
id|gpr
op_add_assign
l_int|2
suffix:semicolon
multiline_comment|/* Aux2 Capture Volume */
id|A_ADD_VOLUME_IN
c_func
(paren
id|capture
comma
id|gpr
comma
id|A_EXTIN_AUX2_L
)paren
suffix:semicolon
id|A_ADD_VOLUME_IN
c_func
(paren
id|capture
op_plus
l_int|1
comma
id|gpr
op_plus
l_int|1
comma
id|A_EXTIN_AUX2_R
)paren
suffix:semicolon
id|snd_emu10k1_init_stereo_control
c_func
(paren
op_amp
id|controls
(braket
id|nctl
op_increment
)braket
comma
l_string|&quot;Aux2 Capture Volume&quot;
comma
id|gpr
comma
l_int|0
)paren
suffix:semicolon
id|gpr
op_add_assign
l_int|2
suffix:semicolon
multiline_comment|/*&n;&t; * outputs&n;&t; */
DECL|macro|A_PUT_OUTPUT
mdefine_line|#define A_PUT_OUTPUT(out,src) A_OP(icode, &amp;ptr, iACC3, A_EXTOUT(out), A_C_00000000, A_C_00000000, A_GPR(src))
DECL|macro|A_PUT_STEREO_OUTPUT
mdefine_line|#define A_PUT_STEREO_OUTPUT(out1,out2,src) &bslash;&n;&t;{A_PUT_OUTPUT(out1,src); A_PUT_OUTPUT(out2,src+1);}
multiline_comment|/* digital outputs */
id|A_PUT_STEREO_OUTPUT
c_func
(paren
id|A_EXTOUT_FRONT_L
comma
id|A_EXTOUT_FRONT_R
comma
id|playback
)paren
suffix:semicolon
id|A_PUT_STEREO_OUTPUT
c_func
(paren
id|A_EXTOUT_REAR_L
comma
id|A_EXTOUT_REAR_R
comma
id|playback
op_plus
l_int|2
)paren
suffix:semicolon
id|A_PUT_OUTPUT
c_func
(paren
id|A_EXTOUT_CENTER
comma
id|playback
op_plus
l_int|4
)paren
suffix:semicolon
id|A_PUT_OUTPUT
c_func
(paren
id|A_EXTOUT_LFE
comma
id|playback
op_plus
l_int|5
)paren
suffix:semicolon
multiline_comment|/* analog speakers */
singleline_comment|//A_PUT_STEREO_OUTPUT(A_EXTOUT_AFRONT_L, A_EXTOUT_AFRONT_R, playback);
id|A_PUT_STEREO_OUTPUT
c_func
(paren
id|A_EXTOUT_AC97_L
comma
id|A_EXTOUT_AC97_R
comma
id|playback
)paren
suffix:semicolon
id|A_PUT_STEREO_OUTPUT
c_func
(paren
id|A_EXTOUT_AREAR_L
comma
id|A_EXTOUT_AREAR_R
comma
id|playback
op_plus
l_int|2
)paren
suffix:semicolon
id|A_PUT_OUTPUT
c_func
(paren
id|A_EXTOUT_ACENTER
comma
id|playback
op_plus
l_int|4
)paren
suffix:semicolon
id|A_PUT_OUTPUT
c_func
(paren
id|A_EXTOUT_ALFE
comma
id|playback
op_plus
l_int|5
)paren
suffix:semicolon
multiline_comment|/* headphone */
id|A_PUT_STEREO_OUTPUT
c_func
(paren
id|A_EXTOUT_HEADPHONE_L
comma
id|A_EXTOUT_HEADPHONE_R
comma
id|playback
)paren
suffix:semicolon
multiline_comment|/* ADC buffer */
id|A_PUT_OUTPUT
c_func
(paren
id|A_EXTOUT_ADC_CAP_L
comma
id|capture
)paren
suffix:semicolon
id|A_PUT_OUTPUT
c_func
(paren
id|A_EXTOUT_ADC_CAP_R
comma
id|capture
op_plus
l_int|1
)paren
suffix:semicolon
multiline_comment|/*&n;&t; * ok, set up done..&n;&t; */
r_if
c_cond
(paren
id|gpr
OG
id|tmp
)paren
(brace
id|snd_BUG
c_func
(paren
)paren
suffix:semicolon
id|err
op_assign
op_minus
id|EIO
suffix:semicolon
r_goto
id|__err
suffix:semicolon
)brace
multiline_comment|/* clear remaining instruction memory */
r_while
c_loop
(paren
id|ptr
OL
l_int|0x200
)paren
id|A_OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
l_int|0x0f
comma
l_int|0xc0
comma
l_int|0xc0
comma
l_int|0xcf
comma
l_int|0xc0
)paren
suffix:semicolon
id|seg
op_assign
id|snd_enter_user
c_func
(paren
)paren
suffix:semicolon
id|icode-&gt;gpr_add_control_count
op_assign
id|nctl
suffix:semicolon
id|icode-&gt;gpr_add_controls
op_assign
id|controls
suffix:semicolon
id|err
op_assign
id|snd_emu10k1_icode_poke
c_func
(paren
id|emu
comma
id|icode
)paren
suffix:semicolon
id|snd_leave_user
c_func
(paren
id|seg
)paren
suffix:semicolon
id|__err
suffix:colon
id|kfree
c_func
(paren
id|controls
)paren
suffix:semicolon
id|kfree
c_func
(paren
id|icode
)paren
suffix:semicolon
r_return
id|err
suffix:semicolon
)brace
multiline_comment|/*&n; * initial DSP configuration for Emu10k1&n; */
multiline_comment|/* when volume = max, then copy only to avoid volume modification */
multiline_comment|/* with iMAC0 (negative values) */
DECL|function|_volume
r_static
r_void
id|__devinit
id|_volume
c_func
(paren
id|emu10k1_fx8010_code_t
op_star
id|icode
comma
id|u32
op_star
id|ptr
comma
id|u32
id|dst
comma
id|u32
id|src
comma
id|u32
id|vol
)paren
(brace
id|OP
c_func
(paren
id|icode
comma
id|ptr
comma
id|iMAC0
comma
id|dst
comma
id|C_00000000
comma
id|src
comma
id|vol
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
id|ptr
comma
id|iANDXOR
comma
id|C_00000000
comma
id|vol
comma
id|C_ffffffff
comma
id|C_7fffffff
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
id|ptr
comma
id|iSKIP
comma
id|GPR_COND
comma
id|GPR_COND
comma
id|CC_REG_NONZERO
comma
id|C_00000001
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
id|ptr
comma
id|iACC3
comma
id|dst
comma
id|src
comma
id|C_00000000
comma
id|C_00000000
)paren
suffix:semicolon
)brace
DECL|function|_volume_add
r_static
r_void
id|__devinit
id|_volume_add
c_func
(paren
id|emu10k1_fx8010_code_t
op_star
id|icode
comma
id|u32
op_star
id|ptr
comma
id|u32
id|dst
comma
id|u32
id|src
comma
id|u32
id|vol
)paren
(brace
id|OP
c_func
(paren
id|icode
comma
id|ptr
comma
id|iANDXOR
comma
id|C_00000000
comma
id|vol
comma
id|C_ffffffff
comma
id|C_7fffffff
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
id|ptr
comma
id|iSKIP
comma
id|GPR_COND
comma
id|GPR_COND
comma
id|CC_REG_NONZERO
comma
id|C_00000002
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
id|ptr
comma
id|iMACINT0
comma
id|dst
comma
id|dst
comma
id|src
comma
id|C_00000001
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
id|ptr
comma
id|iSKIP
comma
id|C_00000000
comma
id|C_7fffffff
comma
id|C_7fffffff
comma
id|C_00000001
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
id|ptr
comma
id|iMAC0
comma
id|dst
comma
id|dst
comma
id|src
comma
id|vol
)paren
suffix:semicolon
)brace
DECL|function|_volume_out
r_static
r_void
id|__devinit
id|_volume_out
c_func
(paren
id|emu10k1_fx8010_code_t
op_star
id|icode
comma
id|u32
op_star
id|ptr
comma
id|u32
id|dst
comma
id|u32
id|src
comma
id|u32
id|vol
)paren
(brace
id|OP
c_func
(paren
id|icode
comma
id|ptr
comma
id|iANDXOR
comma
id|C_00000000
comma
id|vol
comma
id|C_ffffffff
comma
id|C_7fffffff
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
id|ptr
comma
id|iSKIP
comma
id|GPR_COND
comma
id|GPR_COND
comma
id|CC_REG_NONZERO
comma
id|C_00000002
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
id|ptr
comma
id|iACC3
comma
id|dst
comma
id|src
comma
id|C_00000000
comma
id|C_00000000
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
id|ptr
comma
id|iSKIP
comma
id|C_00000000
comma
id|C_7fffffff
comma
id|C_7fffffff
comma
id|C_00000001
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
id|ptr
comma
id|iMAC0
comma
id|dst
comma
id|C_00000000
comma
id|src
comma
id|vol
)paren
suffix:semicolon
)brace
DECL|macro|VOLUME
mdefine_line|#define VOLUME(icode, ptr, dst, src, vol) &bslash;&n;&t;&t;_volume(icode, ptr, GPR(dst), GPR(src), GPR(vol))
DECL|macro|VOLUME_IN
mdefine_line|#define VOLUME_IN(icode, ptr, dst, src, vol) &bslash;&n;&t;&t;_volume(icode, ptr, GPR(dst), EXTIN(src), GPR(vol))
DECL|macro|VOLUME_ADD
mdefine_line|#define VOLUME_ADD(icode, ptr, dst, src, vol) &bslash;&n;&t;&t;_volume_add(icode, ptr, GPR(dst), GPR(src), GPR(vol))
DECL|macro|VOLUME_ADDIN
mdefine_line|#define VOLUME_ADDIN(icode, ptr, dst, src, vol) &bslash;&n;&t;&t;_volume_add(icode, ptr, GPR(dst), EXTIN(src), GPR(vol))
DECL|macro|VOLUME_OUT
mdefine_line|#define VOLUME_OUT(icode, ptr, dst, src, vol) &bslash;&n;&t;&t;_volume_out(icode, ptr, EXTOUT(dst), GPR(src), GPR(vol))
DECL|macro|_SWITCH
mdefine_line|#define _SWITCH(icode, ptr, dst, src, sw) &bslash;&n;&t;OP((icode), ptr, iMACINT0, dst, C_00000000, src, sw);
DECL|macro|SWITCH
mdefine_line|#define SWITCH(icode, ptr, dst, src, sw) &bslash;&n;&t;&t;_SWITCH(icode, ptr, GPR(dst), GPR(src), GPR(sw))
DECL|macro|SWITCH_IN
mdefine_line|#define SWITCH_IN(icode, ptr, dst, src, sw) &bslash;&n;&t;&t;_SWITCH(icode, ptr, GPR(dst), EXTIN(src), GPR(sw))
DECL|macro|_SWITCH_NEG
mdefine_line|#define _SWITCH_NEG(icode, ptr, dst, src) &bslash;&n;&t;OP((icode), ptr, iANDXOR, dst, src, C_00000001, C_00000001);
DECL|macro|SWITCH_NEG
mdefine_line|#define SWITCH_NEG(icode, ptr, dst, src) &bslash;&n;&t;&t;_SWITCH_NEG(icode, ptr, GPR(dst), GPR(src))
DECL|function|_snd_emu10k1_init_efx
r_static
r_int
id|__devinit
id|_snd_emu10k1_init_efx
c_func
(paren
id|emu10k1_t
op_star
id|emu
)paren
(brace
r_int
id|err
comma
id|i
comma
id|z
comma
id|gpr
comma
id|tmp
comma
id|playback
comma
id|capture
suffix:semicolon
id|u32
id|ptr
suffix:semicolon
id|emu10k1_fx8010_code_t
op_star
id|icode
suffix:semicolon
id|emu10k1_fx8010_pcm_t
op_star
id|ipcm
suffix:semicolon
id|emu10k1_fx8010_control_gpr_t
op_star
id|controls
comma
op_star
id|ctl
suffix:semicolon
id|mm_segment_t
id|seg
suffix:semicolon
id|spin_lock_init
c_func
(paren
op_amp
id|emu-&gt;fx8010.irq_lock
)paren
suffix:semicolon
id|INIT_LIST_HEAD
c_func
(paren
op_amp
id|emu-&gt;fx8010.gpr_ctl
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|icode
op_assign
id|snd_kcalloc
c_func
(paren
r_sizeof
(paren
id|emu10k1_fx8010_code_t
)paren
comma
id|GFP_KERNEL
)paren
)paren
op_eq
l_int|NULL
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
r_if
c_cond
(paren
(paren
id|controls
op_assign
id|snd_kcalloc
c_func
(paren
r_sizeof
(paren
id|emu10k1_fx8010_control_gpr_t
)paren
op_star
id|SND_EMU10K1_GPR_CONTROLS
comma
id|GFP_KERNEL
)paren
)paren
op_eq
l_int|NULL
)paren
(brace
id|kfree
c_func
(paren
id|icode
)paren
suffix:semicolon
r_return
op_minus
id|ENOMEM
suffix:semicolon
)brace
r_if
c_cond
(paren
(paren
id|ipcm
op_assign
id|snd_kcalloc
c_func
(paren
r_sizeof
(paren
id|emu10k1_fx8010_pcm_t
)paren
comma
id|GFP_KERNEL
)paren
)paren
op_eq
l_int|NULL
)paren
(brace
id|kfree
c_func
(paren
id|controls
)paren
suffix:semicolon
id|kfree
c_func
(paren
id|icode
)paren
suffix:semicolon
r_return
op_minus
id|ENOMEM
suffix:semicolon
)brace
multiline_comment|/* clear free GPRs */
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|256
suffix:semicolon
id|i
op_increment
)paren
id|set_bit
c_func
(paren
id|i
comma
op_amp
id|icode-&gt;gpr_valid
)paren
suffix:semicolon
multiline_comment|/* clear TRAM data &amp; address lines */
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|160
suffix:semicolon
id|i
op_increment
)paren
id|set_bit
c_func
(paren
id|i
comma
op_amp
id|icode-&gt;tram_valid
)paren
suffix:semicolon
id|strcpy
c_func
(paren
id|icode-&gt;name
comma
l_string|&quot;SB Live! FX8010 code for ALSA v1.2 by Jaroslav Kysela&quot;
)paren
suffix:semicolon
id|ptr
op_assign
l_int|0
suffix:semicolon
id|i
op_assign
l_int|0
suffix:semicolon
multiline_comment|/* we have 10 inputs */
id|playback
op_assign
id|SND_EMU10K1_INPUTS
suffix:semicolon
multiline_comment|/* we have 6 playback channels and tone control doubles */
id|capture
op_assign
id|playback
op_plus
(paren
id|SND_EMU10K1_PLAYBACK_CHANNELS
op_star
l_int|2
)paren
suffix:semicolon
id|gpr
op_assign
id|capture
op_plus
id|SND_EMU10K1_CAPTURE_CHANNELS
suffix:semicolon
id|tmp
op_assign
l_int|0x88
suffix:semicolon
multiline_comment|/* we need 4 temporary GPR */
multiline_comment|/* from 0x8c to 0xff is the area for tone control */
multiline_comment|/* stop FX processor */
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|DBG
comma
l_int|0
comma
(paren
id|emu-&gt;fx8010.dbg
op_assign
l_int|0
)paren
op_or
id|EMU10K1_DBG_SINGLE_STEP
)paren
suffix:semicolon
multiline_comment|/*&n;&t; *  Process FX Buses&n;&t; */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMACINT0
comma
id|GPR
c_func
(paren
l_int|0
)paren
comma
id|C_00000000
comma
id|FXBUS
c_func
(paren
id|FXBUS_PCM_LEFT
)paren
comma
id|C_00000004
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMACINT0
comma
id|GPR
c_func
(paren
l_int|1
)paren
comma
id|C_00000000
comma
id|FXBUS
c_func
(paren
id|FXBUS_PCM_RIGHT
)paren
comma
id|C_00000004
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMACINT0
comma
id|GPR
c_func
(paren
l_int|2
)paren
comma
id|C_00000000
comma
id|FXBUS
c_func
(paren
id|FXBUS_MIDI_LEFT
)paren
comma
id|C_00000004
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMACINT0
comma
id|GPR
c_func
(paren
l_int|3
)paren
comma
id|C_00000000
comma
id|FXBUS
c_func
(paren
id|FXBUS_MIDI_RIGHT
)paren
comma
id|C_00000004
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMACINT0
comma
id|GPR
c_func
(paren
l_int|4
)paren
comma
id|C_00000000
comma
id|FXBUS
c_func
(paren
id|FXBUS_PCM_LEFT_REAR
)paren
comma
id|C_00000004
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMACINT0
comma
id|GPR
c_func
(paren
l_int|5
)paren
comma
id|C_00000000
comma
id|FXBUS
c_func
(paren
id|FXBUS_PCM_RIGHT_REAR
)paren
comma
id|C_00000004
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMACINT0
comma
id|GPR
c_func
(paren
l_int|6
)paren
comma
id|C_00000000
comma
id|FXBUS
c_func
(paren
id|FXBUS_PCM_CENTER
)paren
comma
id|C_00000004
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMACINT0
comma
id|GPR
c_func
(paren
l_int|7
)paren
comma
id|C_00000000
comma
id|FXBUS
c_func
(paren
id|FXBUS_PCM_LFE
)paren
comma
id|C_00000004
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMACINT0
comma
id|GPR
c_func
(paren
l_int|8
)paren
comma
id|C_00000000
comma
id|C_00000000
comma
id|C_00000000
)paren
suffix:semicolon
multiline_comment|/* S/PDIF left */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMACINT0
comma
id|GPR
c_func
(paren
l_int|9
)paren
comma
id|C_00000000
comma
id|C_00000000
comma
id|C_00000000
)paren
suffix:semicolon
multiline_comment|/* S/PDIF right */
multiline_comment|/* Raw S/PDIF PCM */
id|ipcm-&gt;substream
op_assign
l_int|0
suffix:semicolon
id|ipcm-&gt;channels
op_assign
l_int|2
suffix:semicolon
id|ipcm-&gt;tram_start
op_assign
l_int|0
suffix:semicolon
id|ipcm-&gt;buffer_size
op_assign
(paren
l_int|64
op_star
l_int|1024
)paren
op_div
l_int|2
suffix:semicolon
id|ipcm-&gt;gpr_size
op_assign
id|gpr
op_increment
suffix:semicolon
id|ipcm-&gt;gpr_ptr
op_assign
id|gpr
op_increment
suffix:semicolon
id|ipcm-&gt;gpr_count
op_assign
id|gpr
op_increment
suffix:semicolon
id|ipcm-&gt;gpr_tmpcount
op_assign
id|gpr
op_increment
suffix:semicolon
id|ipcm-&gt;gpr_trigger
op_assign
id|gpr
op_increment
suffix:semicolon
id|ipcm-&gt;gpr_running
op_assign
id|gpr
op_increment
suffix:semicolon
id|ipcm-&gt;etram
(braket
l_int|0
)braket
op_assign
l_int|0
suffix:semicolon
id|ipcm-&gt;etram
(braket
l_int|1
)braket
op_assign
l_int|1
suffix:semicolon
id|icode-&gt;gpr_map
(braket
id|gpr
op_plus
l_int|0
)braket
op_assign
l_int|0xfffff000
suffix:semicolon
id|icode-&gt;gpr_map
(braket
id|gpr
op_plus
l_int|1
)braket
op_assign
l_int|0xffff0000
suffix:semicolon
id|icode-&gt;gpr_map
(braket
id|gpr
op_plus
l_int|2
)braket
op_assign
l_int|0x70000000
suffix:semicolon
id|icode-&gt;gpr_map
(braket
id|gpr
op_plus
l_int|3
)braket
op_assign
l_int|0x00000007
suffix:semicolon
id|icode-&gt;gpr_map
(braket
id|gpr
op_plus
l_int|4
)braket
op_assign
l_int|0x001f
op_lshift
l_int|11
suffix:semicolon
id|icode-&gt;gpr_map
(braket
id|gpr
op_plus
l_int|5
)braket
op_assign
l_int|0x001c
op_lshift
l_int|11
suffix:semicolon
id|icode-&gt;gpr_map
(braket
id|gpr
op_plus
l_int|6
)braket
op_assign
(paren
l_int|0x22
op_minus
l_int|0x01
)paren
op_minus
l_int|1
suffix:semicolon
multiline_comment|/* skip at 01 to 22 */
id|icode-&gt;gpr_map
(braket
id|gpr
op_plus
l_int|7
)braket
op_assign
(paren
l_int|0x22
op_minus
l_int|0x06
)paren
op_minus
l_int|1
suffix:semicolon
multiline_comment|/* skip at 06 to 22 */
id|icode-&gt;gpr_map
(braket
id|gpr
op_plus
l_int|8
)braket
op_assign
l_int|0x2000000
op_plus
(paren
l_int|2
op_lshift
l_int|11
)paren
suffix:semicolon
id|icode-&gt;gpr_map
(braket
id|gpr
op_plus
l_int|9
)braket
op_assign
l_int|0x4000000
op_plus
(paren
l_int|2
op_lshift
l_int|11
)paren
suffix:semicolon
id|icode-&gt;gpr_map
(braket
id|gpr
op_plus
l_int|10
)braket
op_assign
l_int|1
op_lshift
l_int|11
suffix:semicolon
id|icode-&gt;gpr_map
(braket
id|gpr
op_plus
l_int|11
)braket
op_assign
(paren
l_int|0x24
op_minus
l_int|0x0a
)paren
op_minus
l_int|1
suffix:semicolon
multiline_comment|/* skip at 0a to 24 */
id|icode-&gt;gpr_map
(braket
id|gpr
op_plus
l_int|12
)braket
op_assign
l_int|0
suffix:semicolon
multiline_comment|/* if the trigger flag is not set, skip */
multiline_comment|/* 00: */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMAC0
comma
id|C_00000000
comma
id|GPR
c_func
(paren
id|ipcm-&gt;gpr_trigger
)paren
comma
id|C_00000000
comma
id|C_00000000
)paren
suffix:semicolon
multiline_comment|/* 01: */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iSKIP
comma
id|GPR_COND
comma
id|GPR_COND
comma
id|CC_REG_ZERO
comma
id|GPR
c_func
(paren
id|gpr
op_plus
l_int|6
)paren
)paren
suffix:semicolon
multiline_comment|/* if the running flag is set, we&squot;re running */
multiline_comment|/* 02: */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMAC0
comma
id|C_00000000
comma
id|GPR
c_func
(paren
id|ipcm-&gt;gpr_running
)paren
comma
id|C_00000000
comma
id|C_00000000
)paren
suffix:semicolon
multiline_comment|/* 03: */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iSKIP
comma
id|GPR_COND
comma
id|GPR_COND
comma
id|CC_REG_NONZERO
comma
id|C_00000004
)paren
suffix:semicolon
multiline_comment|/* wait until ((GPR_DBAC&gt;&gt;11) &amp; 0x1f) == 0x1c) */
multiline_comment|/* 04: */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iANDXOR
comma
id|GPR
c_func
(paren
id|tmp
op_plus
l_int|0
)paren
comma
id|GPR_DBAC
comma
id|GPR
c_func
(paren
id|gpr
op_plus
l_int|4
)paren
comma
id|C_00000000
)paren
suffix:semicolon
multiline_comment|/* 05: */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMACINT0
comma
id|C_00000000
comma
id|GPR
c_func
(paren
id|tmp
op_plus
l_int|0
)paren
comma
id|C_ffffffff
comma
id|GPR
c_func
(paren
id|gpr
op_plus
l_int|5
)paren
)paren
suffix:semicolon
multiline_comment|/* 06: */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iSKIP
comma
id|GPR_COND
comma
id|GPR_COND
comma
id|CC_REG_NONZERO
comma
id|GPR
c_func
(paren
id|gpr
op_plus
l_int|7
)paren
)paren
suffix:semicolon
multiline_comment|/* 07: */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iACC3
comma
id|GPR
c_func
(paren
id|gpr
op_plus
l_int|12
)paren
comma
id|C_00000010
comma
id|C_00000001
comma
id|C_00000000
)paren
suffix:semicolon
multiline_comment|/* 08: */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iANDXOR
comma
id|GPR
c_func
(paren
id|ipcm-&gt;gpr_running
)paren
comma
id|GPR
c_func
(paren
id|ipcm-&gt;gpr_running
)paren
comma
id|C_00000000
comma
id|C_00000001
)paren
suffix:semicolon
multiline_comment|/* 09: */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iACC3
comma
id|GPR
c_func
(paren
id|gpr
op_plus
l_int|12
)paren
comma
id|GPR
c_func
(paren
id|gpr
op_plus
l_int|12
)paren
comma
id|C_ffffffff
comma
id|C_00000000
)paren
suffix:semicolon
multiline_comment|/* 0a: */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iSKIP
comma
id|GPR_COND
comma
id|GPR_COND
comma
id|CC_REG_NONZERO
comma
id|GPR
c_func
(paren
id|gpr
op_plus
l_int|11
)paren
)paren
suffix:semicolon
multiline_comment|/* 0b: */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iACC3
comma
id|GPR
c_func
(paren
id|gpr
op_plus
l_int|12
)paren
comma
id|C_00000001
comma
id|C_00000000
comma
id|C_00000000
)paren
suffix:semicolon
multiline_comment|/* 0c: */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iANDXOR
comma
id|GPR
c_func
(paren
id|tmp
op_plus
l_int|0
)paren
comma
id|ETRAM_DATA
c_func
(paren
id|ipcm-&gt;etram
(braket
l_int|0
)braket
)paren
comma
id|GPR
c_func
(paren
id|gpr
op_plus
l_int|0
)paren
comma
id|C_00000000
)paren
suffix:semicolon
multiline_comment|/* 0d: */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iLOG
comma
id|GPR
c_func
(paren
id|tmp
op_plus
l_int|0
)paren
comma
id|GPR
c_func
(paren
id|tmp
op_plus
l_int|0
)paren
comma
id|GPR
c_func
(paren
id|gpr
op_plus
l_int|3
)paren
comma
id|C_00000000
)paren
suffix:semicolon
multiline_comment|/* 0e: */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iANDXOR
comma
id|GPR
c_func
(paren
l_int|8
)paren
comma
id|GPR
c_func
(paren
id|tmp
op_plus
l_int|0
)paren
comma
id|GPR
c_func
(paren
id|gpr
op_plus
l_int|1
)paren
comma
id|GPR
c_func
(paren
id|gpr
op_plus
l_int|2
)paren
)paren
suffix:semicolon
multiline_comment|/* 0f: */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iSKIP
comma
id|C_00000000
comma
id|GPR_COND
comma
id|CC_REG_MINUS
comma
id|C_00000001
)paren
suffix:semicolon
multiline_comment|/* 10: */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iANDXOR
comma
id|GPR
c_func
(paren
l_int|8
)paren
comma
id|GPR
c_func
(paren
l_int|8
)paren
comma
id|GPR
c_func
(paren
id|gpr
op_plus
l_int|1
)paren
comma
id|GPR
c_func
(paren
id|gpr
op_plus
l_int|2
)paren
)paren
suffix:semicolon
multiline_comment|/* 11: */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iANDXOR
comma
id|GPR
c_func
(paren
id|tmp
op_plus
l_int|0
)paren
comma
id|ETRAM_DATA
c_func
(paren
id|ipcm-&gt;etram
(braket
l_int|1
)braket
)paren
comma
id|GPR
c_func
(paren
id|gpr
op_plus
l_int|0
)paren
comma
id|C_00000000
)paren
suffix:semicolon
multiline_comment|/* 12: */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iLOG
comma
id|GPR
c_func
(paren
id|tmp
op_plus
l_int|0
)paren
comma
id|GPR
c_func
(paren
id|tmp
op_plus
l_int|0
)paren
comma
id|GPR
c_func
(paren
id|gpr
op_plus
l_int|3
)paren
comma
id|C_00000000
)paren
suffix:semicolon
multiline_comment|/* 13: */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iANDXOR
comma
id|GPR
c_func
(paren
l_int|9
)paren
comma
id|GPR
c_func
(paren
id|tmp
op_plus
l_int|0
)paren
comma
id|GPR
c_func
(paren
id|gpr
op_plus
l_int|1
)paren
comma
id|GPR
c_func
(paren
id|gpr
op_plus
l_int|2
)paren
)paren
suffix:semicolon
multiline_comment|/* 14: */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iSKIP
comma
id|C_00000000
comma
id|GPR_COND
comma
id|CC_REG_MINUS
comma
id|C_00000001
)paren
suffix:semicolon
multiline_comment|/* 15: */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iANDXOR
comma
id|GPR
c_func
(paren
l_int|9
)paren
comma
id|GPR
c_func
(paren
l_int|9
)paren
comma
id|GPR
c_func
(paren
id|gpr
op_plus
l_int|1
)paren
comma
id|GPR
c_func
(paren
id|gpr
op_plus
l_int|2
)paren
)paren
suffix:semicolon
multiline_comment|/* 16: */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iACC3
comma
id|GPR
c_func
(paren
id|tmp
op_plus
l_int|0
)paren
comma
id|GPR
c_func
(paren
id|ipcm-&gt;gpr_ptr
)paren
comma
id|C_00000001
comma
id|C_00000000
)paren
suffix:semicolon
multiline_comment|/* 17: */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMACINT0
comma
id|C_00000000
comma
id|GPR
c_func
(paren
id|tmp
op_plus
l_int|0
)paren
comma
id|C_ffffffff
comma
id|GPR
c_func
(paren
id|ipcm-&gt;gpr_size
)paren
)paren
suffix:semicolon
multiline_comment|/* 18: */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iSKIP
comma
id|GPR_COND
comma
id|GPR_COND
comma
id|CC_REG_MINUS
comma
id|C_00000001
)paren
suffix:semicolon
multiline_comment|/* 19: */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iACC3
comma
id|GPR
c_func
(paren
id|tmp
op_plus
l_int|0
)paren
comma
id|C_00000000
comma
id|C_00000000
comma
id|C_00000000
)paren
suffix:semicolon
multiline_comment|/* 1a: */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iACC3
comma
id|GPR
c_func
(paren
id|ipcm-&gt;gpr_ptr
)paren
comma
id|GPR
c_func
(paren
id|tmp
op_plus
l_int|0
)paren
comma
id|C_00000000
comma
id|C_00000000
)paren
suffix:semicolon
multiline_comment|/* 1b: */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iACC3
comma
id|GPR
c_func
(paren
id|ipcm-&gt;gpr_tmpcount
)paren
comma
id|GPR
c_func
(paren
id|ipcm-&gt;gpr_tmpcount
)paren
comma
id|C_ffffffff
comma
id|C_00000000
)paren
suffix:semicolon
multiline_comment|/* 1c: */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iSKIP
comma
id|GPR_COND
comma
id|GPR_COND
comma
id|CC_REG_NONZERO
comma
id|C_00000002
)paren
suffix:semicolon
multiline_comment|/* 1d: */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iACC3
comma
id|GPR
c_func
(paren
id|ipcm-&gt;gpr_tmpcount
)paren
comma
id|GPR
c_func
(paren
id|ipcm-&gt;gpr_count
)paren
comma
id|C_00000000
comma
id|C_00000000
)paren
suffix:semicolon
multiline_comment|/* 1e: */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iACC3
comma
id|GPR_IRQ
comma
id|C_80000000
comma
id|C_00000000
comma
id|C_00000000
)paren
suffix:semicolon
multiline_comment|/* 1f: */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iANDXOR
comma
id|GPR
c_func
(paren
id|ipcm-&gt;gpr_running
)paren
comma
id|GPR
c_func
(paren
id|ipcm-&gt;gpr_running
)paren
comma
id|C_00000001
comma
id|C_00010000
)paren
suffix:semicolon
multiline_comment|/* 20: */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iANDXOR
comma
id|GPR
c_func
(paren
id|ipcm-&gt;gpr_running
)paren
comma
id|GPR
c_func
(paren
id|ipcm-&gt;gpr_running
)paren
comma
id|C_00010000
comma
id|C_00000001
)paren
suffix:semicolon
multiline_comment|/* 21: */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iSKIP
comma
id|C_00000000
comma
id|C_7fffffff
comma
id|C_7fffffff
comma
id|C_00000002
)paren
suffix:semicolon
multiline_comment|/* 22: */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMACINT1
comma
id|ETRAM_ADDR
c_func
(paren
id|ipcm-&gt;etram
(braket
l_int|0
)braket
)paren
comma
id|GPR
c_func
(paren
id|gpr
op_plus
l_int|8
)paren
comma
id|GPR_DBAC
comma
id|C_ffffffff
)paren
suffix:semicolon
multiline_comment|/* 23: */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMACINT1
comma
id|ETRAM_ADDR
c_func
(paren
id|ipcm-&gt;etram
(braket
l_int|1
)braket
)paren
comma
id|GPR
c_func
(paren
id|gpr
op_plus
l_int|9
)paren
comma
id|GPR_DBAC
comma
id|C_ffffffff
)paren
suffix:semicolon
multiline_comment|/* 24: */
id|gpr
op_add_assign
l_int|13
suffix:semicolon
multiline_comment|/* Wave Playback Volume */
r_for
c_loop
(paren
id|z
op_assign
l_int|0
suffix:semicolon
id|z
OL
l_int|2
suffix:semicolon
id|z
op_increment
)paren
id|VOLUME
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|playback
op_plus
id|z
comma
id|z
comma
id|gpr
op_plus
id|z
)paren
suffix:semicolon
id|snd_emu10k1_init_stereo_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;Wave Playback Volume&quot;
comma
id|gpr
comma
l_int|100
)paren
suffix:semicolon
id|gpr
op_add_assign
l_int|2
suffix:semicolon
multiline_comment|/* Wave Surround Playback Volume */
r_for
c_loop
(paren
id|z
op_assign
l_int|0
suffix:semicolon
id|z
OL
l_int|2
suffix:semicolon
id|z
op_increment
)paren
id|VOLUME
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|playback
op_plus
l_int|2
op_plus
id|z
comma
id|z
comma
id|gpr
op_plus
id|z
)paren
suffix:semicolon
id|snd_emu10k1_init_stereo_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;Wave Surround Playback Volume&quot;
comma
id|gpr
comma
l_int|0
)paren
suffix:semicolon
id|gpr
op_add_assign
l_int|2
suffix:semicolon
multiline_comment|/* Wave Center/LFE Playback Volume */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iACC3
comma
id|GPR
c_func
(paren
id|tmp
op_plus
l_int|0
)paren
comma
id|FXBUS
c_func
(paren
id|FXBUS_PCM_LEFT
)paren
comma
id|FXBUS
c_func
(paren
id|FXBUS_PCM_RIGHT
)paren
comma
id|C_00000000
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMACINT0
comma
id|GPR
c_func
(paren
id|tmp
op_plus
l_int|0
)paren
comma
id|C_00000000
comma
id|GPR
c_func
(paren
id|tmp
op_plus
l_int|0
)paren
comma
id|C_00000002
)paren
suffix:semicolon
id|VOLUME
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|playback
op_plus
l_int|4
comma
id|tmp
op_plus
l_int|0
comma
id|gpr
)paren
suffix:semicolon
id|snd_emu10k1_init_mono_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;Wave Center Playback Volume&quot;
comma
id|gpr
op_increment
comma
l_int|0
)paren
suffix:semicolon
id|VOLUME
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|playback
op_plus
l_int|5
comma
id|tmp
op_plus
l_int|0
comma
id|gpr
)paren
suffix:semicolon
id|snd_emu10k1_init_mono_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;Wave LFE Playback Volume&quot;
comma
id|gpr
op_increment
comma
l_int|0
)paren
suffix:semicolon
multiline_comment|/* Wave Capture Volume + Switch */
r_for
c_loop
(paren
id|z
op_assign
l_int|0
suffix:semicolon
id|z
OL
l_int|2
suffix:semicolon
id|z
op_increment
)paren
(brace
id|SWITCH
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|tmp
op_plus
l_int|0
comma
id|z
comma
id|gpr
op_plus
l_int|2
op_plus
id|z
)paren
suffix:semicolon
id|VOLUME
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|capture
op_plus
id|z
comma
id|tmp
op_plus
l_int|0
comma
id|gpr
op_plus
id|z
)paren
suffix:semicolon
)brace
id|snd_emu10k1_init_stereo_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;Wave Capture Volume&quot;
comma
id|gpr
comma
l_int|0
)paren
suffix:semicolon
id|snd_emu10k1_init_stereo_onoff_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;Wave Capture Switch&quot;
comma
id|gpr
op_plus
l_int|2
comma
l_int|0
)paren
suffix:semicolon
id|gpr
op_add_assign
l_int|4
suffix:semicolon
multiline_comment|/* Music Playback Volume */
r_for
c_loop
(paren
id|z
op_assign
l_int|0
suffix:semicolon
id|z
OL
l_int|2
suffix:semicolon
id|z
op_increment
)paren
id|VOLUME_ADD
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|playback
op_plus
id|z
comma
l_int|2
op_plus
id|z
comma
id|gpr
op_plus
id|z
)paren
suffix:semicolon
id|snd_emu10k1_init_stereo_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;Music Playback Volume&quot;
comma
id|gpr
comma
l_int|100
)paren
suffix:semicolon
id|gpr
op_add_assign
l_int|2
suffix:semicolon
multiline_comment|/* Music Capture Volume + Switch */
r_for
c_loop
(paren
id|z
op_assign
l_int|0
suffix:semicolon
id|z
OL
l_int|2
suffix:semicolon
id|z
op_increment
)paren
(brace
id|SWITCH
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|tmp
op_plus
l_int|0
comma
l_int|2
op_plus
id|z
comma
id|gpr
op_plus
l_int|2
op_plus
id|z
)paren
suffix:semicolon
id|VOLUME_ADD
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|capture
op_plus
id|z
comma
id|tmp
op_plus
l_int|0
comma
id|gpr
op_plus
id|z
)paren
suffix:semicolon
)brace
id|snd_emu10k1_init_stereo_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;Music Capture Volume&quot;
comma
id|gpr
comma
l_int|0
)paren
suffix:semicolon
id|snd_emu10k1_init_stereo_onoff_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;Music Capture Switch&quot;
comma
id|gpr
op_plus
l_int|2
comma
l_int|0
)paren
suffix:semicolon
id|gpr
op_add_assign
l_int|4
suffix:semicolon
multiline_comment|/* Surround Digital Playback Volume */
r_for
c_loop
(paren
id|z
op_assign
l_int|0
suffix:semicolon
id|z
OL
l_int|2
suffix:semicolon
id|z
op_increment
)paren
id|VOLUME_ADD
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|playback
op_plus
l_int|2
op_plus
id|z
comma
l_int|4
op_plus
id|z
comma
id|gpr
op_plus
id|z
)paren
suffix:semicolon
id|snd_emu10k1_init_stereo_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;Surround Digital Playback Volume&quot;
comma
id|gpr
comma
l_int|100
)paren
suffix:semicolon
id|gpr
op_add_assign
l_int|2
suffix:semicolon
multiline_comment|/* Surround Digital Capture Volume + Switch */
r_for
c_loop
(paren
id|z
op_assign
l_int|0
suffix:semicolon
id|z
OL
l_int|2
suffix:semicolon
id|z
op_increment
)paren
(brace
id|SWITCH
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|tmp
op_plus
l_int|0
comma
l_int|4
op_plus
id|z
comma
id|gpr
op_plus
l_int|2
op_plus
id|z
)paren
suffix:semicolon
id|VOLUME_ADD
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|capture
op_plus
id|z
comma
id|tmp
op_plus
l_int|0
comma
id|gpr
op_plus
id|z
)paren
suffix:semicolon
)brace
id|snd_emu10k1_init_stereo_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;Surround Digital Capture Volume&quot;
comma
id|gpr
comma
l_int|0
)paren
suffix:semicolon
id|snd_emu10k1_init_stereo_onoff_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;Surround Digital Capture Switch&quot;
comma
id|gpr
op_plus
l_int|2
comma
l_int|0
)paren
suffix:semicolon
id|gpr
op_add_assign
l_int|4
suffix:semicolon
multiline_comment|/* Center Playback Volume */
id|VOLUME_ADD
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|playback
op_plus
l_int|4
comma
l_int|6
comma
id|gpr
)paren
suffix:semicolon
id|snd_emu10k1_init_mono_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;Center Playback Volume&quot;
comma
id|gpr
op_increment
comma
l_int|100
)paren
suffix:semicolon
multiline_comment|/* LFE Playback Volume + Switch */
id|VOLUME_ADD
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|playback
op_plus
l_int|5
comma
l_int|7
comma
id|gpr
)paren
suffix:semicolon
id|snd_emu10k1_init_mono_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;LFE Playback Volume&quot;
comma
id|gpr
op_increment
comma
l_int|100
)paren
suffix:semicolon
multiline_comment|/*&n;&t; *  Process inputs&n;&t; */
r_if
c_cond
(paren
id|emu-&gt;fx8010.extin_mask
op_amp
(paren
(paren
l_int|1
op_lshift
id|EXTIN_AC97_L
)paren
op_or
(paren
l_int|1
op_lshift
id|EXTIN_AC97_R
)paren
)paren
)paren
(brace
multiline_comment|/* AC&squot;97 Playback Volume */
id|VOLUME_ADDIN
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|playback
op_plus
l_int|0
comma
id|EXTIN_AC97_L
comma
id|gpr
)paren
suffix:semicolon
id|gpr
op_increment
suffix:semicolon
id|VOLUME_ADDIN
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|playback
op_plus
l_int|1
comma
id|EXTIN_AC97_R
comma
id|gpr
)paren
suffix:semicolon
id|gpr
op_increment
suffix:semicolon
id|snd_emu10k1_init_stereo_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;AC97 Playback Volume&quot;
comma
id|gpr
op_minus
l_int|2
comma
l_int|0
)paren
suffix:semicolon
multiline_comment|/* AC&squot;97 Capture Volume */
id|VOLUME_ADDIN
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|capture
op_plus
l_int|0
comma
id|EXTIN_AC97_L
comma
id|gpr
)paren
suffix:semicolon
id|gpr
op_increment
suffix:semicolon
id|VOLUME_ADDIN
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|capture
op_plus
l_int|1
comma
id|EXTIN_AC97_R
comma
id|gpr
)paren
suffix:semicolon
id|gpr
op_increment
suffix:semicolon
id|snd_emu10k1_init_stereo_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;AC97 Capture Volume&quot;
comma
id|gpr
op_minus
l_int|2
comma
l_int|100
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|emu-&gt;fx8010.extin_mask
op_amp
(paren
(paren
l_int|1
op_lshift
id|EXTIN_SPDIF_CD_L
)paren
op_or
(paren
l_int|1
op_lshift
id|EXTIN_SPDIF_CD_R
)paren
)paren
)paren
(brace
multiline_comment|/* IEC958 TTL Playback Volume */
r_for
c_loop
(paren
id|z
op_assign
l_int|0
suffix:semicolon
id|z
OL
l_int|2
suffix:semicolon
id|z
op_increment
)paren
id|VOLUME_ADDIN
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|playback
op_plus
id|z
comma
id|EXTIN_SPDIF_CD_L
op_plus
id|z
comma
id|gpr
op_plus
id|z
)paren
suffix:semicolon
id|snd_emu10k1_init_stereo_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;IEC958 TTL Playback Volume&quot;
comma
id|gpr
comma
l_int|0
)paren
suffix:semicolon
id|gpr
op_add_assign
l_int|2
suffix:semicolon
multiline_comment|/* IEC958 TTL Capture Volume + Switch */
r_for
c_loop
(paren
id|z
op_assign
l_int|0
suffix:semicolon
id|z
OL
l_int|2
suffix:semicolon
id|z
op_increment
)paren
(brace
id|SWITCH_IN
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|tmp
op_plus
l_int|0
comma
id|EXTIN_SPDIF_CD_L
op_plus
id|z
comma
id|gpr
op_plus
l_int|2
op_plus
id|z
)paren
suffix:semicolon
id|VOLUME_ADD
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|capture
op_plus
id|z
comma
id|tmp
op_plus
l_int|0
comma
id|gpr
op_plus
id|z
)paren
suffix:semicolon
)brace
id|snd_emu10k1_init_stereo_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;IEC958 TTL Capture Volume&quot;
comma
id|gpr
comma
l_int|0
)paren
suffix:semicolon
id|snd_emu10k1_init_stereo_onoff_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;IEC958 TTL Capture Switch&quot;
comma
id|gpr
op_plus
l_int|2
comma
l_int|0
)paren
suffix:semicolon
id|gpr
op_add_assign
l_int|4
suffix:semicolon
)brace
r_if
c_cond
(paren
id|emu-&gt;fx8010.extin_mask
op_amp
(paren
(paren
l_int|1
op_lshift
id|EXTIN_ZOOM_L
)paren
op_or
(paren
l_int|1
op_lshift
id|EXTIN_ZOOM_R
)paren
)paren
)paren
(brace
multiline_comment|/* Zoom Video Playback Volume */
r_for
c_loop
(paren
id|z
op_assign
l_int|0
suffix:semicolon
id|z
OL
l_int|2
suffix:semicolon
id|z
op_increment
)paren
id|VOLUME_ADDIN
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|playback
op_plus
id|z
comma
id|EXTIN_ZOOM_L
op_plus
id|z
comma
id|gpr
op_plus
id|z
)paren
suffix:semicolon
id|snd_emu10k1_init_stereo_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;Zoom Video Playback Volume&quot;
comma
id|gpr
comma
l_int|0
)paren
suffix:semicolon
id|gpr
op_add_assign
l_int|2
suffix:semicolon
multiline_comment|/* Zoom Video Capture Volume + Switch */
r_for
c_loop
(paren
id|z
op_assign
l_int|0
suffix:semicolon
id|z
OL
l_int|2
suffix:semicolon
id|z
op_increment
)paren
(brace
id|SWITCH_IN
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|tmp
op_plus
l_int|0
comma
id|EXTIN_ZOOM_L
op_plus
id|z
comma
id|gpr
op_plus
l_int|2
op_plus
id|z
)paren
suffix:semicolon
id|VOLUME_ADD
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|capture
op_plus
id|z
comma
id|tmp
op_plus
l_int|0
comma
id|gpr
op_plus
id|z
)paren
suffix:semicolon
)brace
id|snd_emu10k1_init_stereo_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;Zoom Video Capture Volume&quot;
comma
id|gpr
comma
l_int|0
)paren
suffix:semicolon
id|snd_emu10k1_init_stereo_onoff_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;Zoom Video Capture Switch&quot;
comma
id|gpr
op_plus
l_int|2
comma
l_int|0
)paren
suffix:semicolon
id|gpr
op_add_assign
l_int|4
suffix:semicolon
)brace
r_if
c_cond
(paren
id|emu-&gt;fx8010.extin_mask
op_amp
(paren
(paren
l_int|1
op_lshift
id|EXTIN_TOSLINK_L
)paren
op_or
(paren
l_int|1
op_lshift
id|EXTIN_TOSLINK_R
)paren
)paren
)paren
(brace
multiline_comment|/* IEC958 Optical Playback Volume */
r_for
c_loop
(paren
id|z
op_assign
l_int|0
suffix:semicolon
id|z
OL
l_int|2
suffix:semicolon
id|z
op_increment
)paren
id|VOLUME_ADDIN
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|playback
op_plus
id|z
comma
id|EXTIN_TOSLINK_L
op_plus
id|z
comma
id|gpr
op_plus
id|z
)paren
suffix:semicolon
id|snd_emu10k1_init_stereo_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;IEC958 Optical Playback Volume&quot;
comma
id|gpr
comma
l_int|0
)paren
suffix:semicolon
id|gpr
op_add_assign
l_int|2
suffix:semicolon
multiline_comment|/* IEC958 Optical Capture Volume */
r_for
c_loop
(paren
id|z
op_assign
l_int|0
suffix:semicolon
id|z
OL
l_int|2
suffix:semicolon
id|z
op_increment
)paren
(brace
id|SWITCH_IN
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|tmp
op_plus
l_int|0
comma
id|EXTIN_TOSLINK_L
op_plus
id|z
comma
id|gpr
op_plus
l_int|2
op_plus
id|z
)paren
suffix:semicolon
id|VOLUME_ADD
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|capture
op_plus
id|z
comma
id|tmp
op_plus
l_int|0
comma
id|gpr
op_plus
id|z
)paren
suffix:semicolon
)brace
id|snd_emu10k1_init_stereo_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;IEC958 Optical Capture Volume&quot;
comma
id|gpr
comma
l_int|0
)paren
suffix:semicolon
id|snd_emu10k1_init_stereo_onoff_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;IEC958 Optical Capture Switch&quot;
comma
id|gpr
op_plus
l_int|2
comma
l_int|0
)paren
suffix:semicolon
id|gpr
op_add_assign
l_int|4
suffix:semicolon
)brace
r_if
c_cond
(paren
id|emu-&gt;fx8010.extin_mask
op_amp
(paren
(paren
l_int|1
op_lshift
id|EXTIN_LINE1_L
)paren
op_or
(paren
l_int|1
op_lshift
id|EXTIN_LINE1_R
)paren
)paren
)paren
(brace
multiline_comment|/* Line LiveDrive Playback Volume */
r_for
c_loop
(paren
id|z
op_assign
l_int|0
suffix:semicolon
id|z
OL
l_int|2
suffix:semicolon
id|z
op_increment
)paren
id|VOLUME_ADDIN
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|playback
op_plus
id|z
comma
id|EXTIN_LINE1_L
op_plus
id|z
comma
id|gpr
op_plus
id|z
)paren
suffix:semicolon
id|snd_emu10k1_init_stereo_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;Line LiveDrive Playback Volume&quot;
comma
id|gpr
comma
l_int|0
)paren
suffix:semicolon
id|gpr
op_add_assign
l_int|2
suffix:semicolon
multiline_comment|/* Line LiveDrive Capture Volume + Switch */
r_for
c_loop
(paren
id|z
op_assign
l_int|0
suffix:semicolon
id|z
OL
l_int|2
suffix:semicolon
id|z
op_increment
)paren
(brace
id|SWITCH_IN
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|tmp
op_plus
l_int|0
comma
id|EXTIN_LINE1_L
op_plus
id|z
comma
id|gpr
op_plus
l_int|2
op_plus
id|z
)paren
suffix:semicolon
id|VOLUME_ADD
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|capture
op_plus
id|z
comma
id|tmp
op_plus
l_int|0
comma
id|gpr
op_plus
id|z
)paren
suffix:semicolon
)brace
id|snd_emu10k1_init_stereo_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;Line LiveDrive Capture Volume&quot;
comma
id|gpr
comma
l_int|0
)paren
suffix:semicolon
id|snd_emu10k1_init_stereo_onoff_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;Line LiveDrive Capture Switch&quot;
comma
id|gpr
op_plus
l_int|2
comma
l_int|0
)paren
suffix:semicolon
id|gpr
op_add_assign
l_int|4
suffix:semicolon
)brace
r_if
c_cond
(paren
id|emu-&gt;fx8010.extin_mask
op_amp
(paren
(paren
l_int|1
op_lshift
id|EXTIN_COAX_SPDIF_L
)paren
op_or
(paren
l_int|1
op_lshift
id|EXTIN_COAX_SPDIF_R
)paren
)paren
)paren
(brace
multiline_comment|/* IEC958 Coax Playback Volume */
r_for
c_loop
(paren
id|z
op_assign
l_int|0
suffix:semicolon
id|z
OL
l_int|2
suffix:semicolon
id|z
op_increment
)paren
id|VOLUME_ADDIN
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|playback
op_plus
id|z
comma
id|EXTIN_COAX_SPDIF_L
op_plus
id|z
comma
id|gpr
op_plus
id|z
)paren
suffix:semicolon
id|snd_emu10k1_init_stereo_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;IEC958 Coaxial Playback Volume&quot;
comma
id|gpr
comma
l_int|0
)paren
suffix:semicolon
id|gpr
op_add_assign
l_int|2
suffix:semicolon
multiline_comment|/* IEC958 Coax Capture Volume + Switch */
r_for
c_loop
(paren
id|z
op_assign
l_int|0
suffix:semicolon
id|z
OL
l_int|2
suffix:semicolon
id|z
op_increment
)paren
(brace
id|SWITCH_IN
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|tmp
op_plus
l_int|0
comma
id|EXTIN_COAX_SPDIF_L
op_plus
id|z
comma
id|gpr
op_plus
l_int|2
op_plus
id|z
)paren
suffix:semicolon
id|VOLUME_ADD
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|capture
op_plus
id|z
comma
id|tmp
op_plus
l_int|0
comma
id|gpr
op_plus
id|z
)paren
suffix:semicolon
)brace
id|snd_emu10k1_init_stereo_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;IEC958 Coaxial Capture Volume&quot;
comma
id|gpr
comma
l_int|0
)paren
suffix:semicolon
id|snd_emu10k1_init_stereo_onoff_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;IEC958 Coaxial Capture Switch&quot;
comma
id|gpr
op_plus
l_int|2
comma
l_int|0
)paren
suffix:semicolon
id|gpr
op_add_assign
l_int|4
suffix:semicolon
)brace
r_if
c_cond
(paren
id|emu-&gt;fx8010.extin_mask
op_amp
(paren
(paren
l_int|1
op_lshift
id|EXTIN_LINE2_L
)paren
op_or
(paren
l_int|1
op_lshift
id|EXTIN_LINE2_R
)paren
)paren
)paren
(brace
multiline_comment|/* Line LiveDrive Playback Volume */
r_for
c_loop
(paren
id|z
op_assign
l_int|0
suffix:semicolon
id|z
OL
l_int|2
suffix:semicolon
id|z
op_increment
)paren
id|VOLUME_ADDIN
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|playback
op_plus
id|z
comma
id|EXTIN_LINE2_L
op_plus
id|z
comma
id|gpr
op_plus
id|z
)paren
suffix:semicolon
id|snd_emu10k1_init_stereo_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;Line LiveDrive Playback Volume&quot;
comma
id|gpr
comma
l_int|0
)paren
suffix:semicolon
id|controls
(braket
id|i
op_minus
l_int|1
)braket
dot
id|id.index
op_assign
l_int|1
suffix:semicolon
id|gpr
op_add_assign
l_int|2
suffix:semicolon
multiline_comment|/* Line LiveDrive Capture Volume */
r_for
c_loop
(paren
id|z
op_assign
l_int|0
suffix:semicolon
id|z
OL
l_int|2
suffix:semicolon
id|z
op_increment
)paren
(brace
id|SWITCH_IN
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|tmp
op_plus
l_int|0
comma
id|EXTIN_LINE2_L
op_plus
id|z
comma
id|gpr
op_plus
l_int|2
op_plus
id|z
)paren
suffix:semicolon
id|VOLUME_ADD
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|capture
op_plus
id|z
comma
id|tmp
op_plus
l_int|0
comma
id|gpr
op_plus
id|z
)paren
suffix:semicolon
)brace
id|snd_emu10k1_init_stereo_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;Line LiveDrive Capture Volume&quot;
comma
id|gpr
comma
l_int|0
)paren
suffix:semicolon
id|snd_emu10k1_init_stereo_onoff_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;Line LiveDrive Capture Switch&quot;
comma
id|gpr
op_plus
l_int|2
comma
l_int|0
)paren
suffix:semicolon
id|controls
(braket
id|i
op_minus
l_int|1
)braket
dot
id|id.index
op_assign
l_int|1
suffix:semicolon
id|gpr
op_add_assign
l_int|4
suffix:semicolon
)brace
multiline_comment|/*&n;&t; *  Process tone control&n;&t; */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iACC3
comma
id|GPR
c_func
(paren
id|playback
op_plus
id|SND_EMU10K1_PLAYBACK_CHANNELS
op_plus
l_int|0
)paren
comma
id|GPR
c_func
(paren
id|playback
op_plus
l_int|0
)paren
comma
id|C_00000000
comma
id|C_00000000
)paren
suffix:semicolon
multiline_comment|/* left */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iACC3
comma
id|GPR
c_func
(paren
id|playback
op_plus
id|SND_EMU10K1_PLAYBACK_CHANNELS
op_plus
l_int|1
)paren
comma
id|GPR
c_func
(paren
id|playback
op_plus
l_int|1
)paren
comma
id|C_00000000
comma
id|C_00000000
)paren
suffix:semicolon
multiline_comment|/* right */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iACC3
comma
id|GPR
c_func
(paren
id|playback
op_plus
id|SND_EMU10K1_PLAYBACK_CHANNELS
op_plus
l_int|2
)paren
comma
id|GPR
c_func
(paren
id|playback
op_plus
l_int|2
)paren
comma
id|C_00000000
comma
id|C_00000000
)paren
suffix:semicolon
multiline_comment|/* rear left */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iACC3
comma
id|GPR
c_func
(paren
id|playback
op_plus
id|SND_EMU10K1_PLAYBACK_CHANNELS
op_plus
l_int|3
)paren
comma
id|GPR
c_func
(paren
id|playback
op_plus
l_int|3
)paren
comma
id|C_00000000
comma
id|C_00000000
)paren
suffix:semicolon
multiline_comment|/* rear right */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iACC3
comma
id|GPR
c_func
(paren
id|playback
op_plus
id|SND_EMU10K1_PLAYBACK_CHANNELS
op_plus
l_int|4
)paren
comma
id|GPR
c_func
(paren
id|playback
op_plus
l_int|4
)paren
comma
id|C_00000000
comma
id|C_00000000
)paren
suffix:semicolon
multiline_comment|/* center */
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iACC3
comma
id|GPR
c_func
(paren
id|playback
op_plus
id|SND_EMU10K1_PLAYBACK_CHANNELS
op_plus
l_int|5
)paren
comma
id|GPR
c_func
(paren
id|playback
op_plus
l_int|5
)paren
comma
id|C_00000000
comma
id|C_00000000
)paren
suffix:semicolon
multiline_comment|/* LFE */
id|ctl
op_assign
op_amp
id|controls
(braket
id|i
op_plus
l_int|0
)braket
suffix:semicolon
id|ctl-&gt;id.iface
op_assign
id|SNDRV_CTL_ELEM_IFACE_MIXER
suffix:semicolon
id|strcpy
c_func
(paren
id|ctl-&gt;id.name
comma
l_string|&quot;Tone Control - Bass&quot;
)paren
suffix:semicolon
id|ctl-&gt;vcount
op_assign
l_int|2
suffix:semicolon
id|ctl-&gt;count
op_assign
l_int|10
suffix:semicolon
id|ctl-&gt;min
op_assign
l_int|0
suffix:semicolon
id|ctl-&gt;max
op_assign
l_int|40
suffix:semicolon
id|ctl-&gt;value
(braket
l_int|0
)braket
op_assign
id|ctl-&gt;value
(braket
l_int|1
)braket
op_assign
l_int|20
suffix:semicolon
id|ctl-&gt;translation
op_assign
id|EMU10K1_GRP_TRANSLATION_BASS
suffix:semicolon
id|ctl
op_assign
op_amp
id|controls
(braket
id|i
op_plus
l_int|1
)braket
suffix:semicolon
id|ctl-&gt;id.iface
op_assign
id|SNDRV_CTL_ELEM_IFACE_MIXER
suffix:semicolon
id|strcpy
c_func
(paren
id|ctl-&gt;id.name
comma
l_string|&quot;Tone Control - Treble&quot;
)paren
suffix:semicolon
id|ctl-&gt;vcount
op_assign
l_int|2
suffix:semicolon
id|ctl-&gt;count
op_assign
l_int|10
suffix:semicolon
id|ctl-&gt;min
op_assign
l_int|0
suffix:semicolon
id|ctl-&gt;max
op_assign
l_int|40
suffix:semicolon
id|ctl-&gt;value
(braket
l_int|0
)braket
op_assign
id|ctl-&gt;value
(braket
l_int|1
)braket
op_assign
l_int|20
suffix:semicolon
id|ctl-&gt;translation
op_assign
id|EMU10K1_GRP_TRANSLATION_TREBLE
suffix:semicolon
DECL|macro|BASS_GPR
mdefine_line|#define BASS_GPR&t;0x8c
DECL|macro|TREBLE_GPR
mdefine_line|#define TREBLE_GPR&t;0x96
r_for
c_loop
(paren
id|z
op_assign
l_int|0
suffix:semicolon
id|z
OL
l_int|5
suffix:semicolon
id|z
op_increment
)paren
(brace
r_int
id|j
suffix:semicolon
r_for
c_loop
(paren
id|j
op_assign
l_int|0
suffix:semicolon
id|j
OL
l_int|2
suffix:semicolon
id|j
op_increment
)paren
(brace
id|controls
(braket
id|i
op_plus
l_int|0
)braket
dot
id|gpr
(braket
id|z
op_star
l_int|2
op_plus
id|j
)braket
op_assign
id|BASS_GPR
op_plus
id|z
op_star
l_int|2
op_plus
id|j
suffix:semicolon
id|controls
(braket
id|i
op_plus
l_int|1
)braket
dot
id|gpr
(braket
id|z
op_star
l_int|2
op_plus
id|j
)braket
op_assign
id|TREBLE_GPR
op_plus
id|z
op_star
l_int|2
op_plus
id|j
suffix:semicolon
)brace
)brace
r_for
c_loop
(paren
id|z
op_assign
l_int|0
suffix:semicolon
id|z
OL
l_int|3
suffix:semicolon
id|z
op_increment
)paren
(brace
multiline_comment|/* front/rear/center-lfe */
r_int
id|j
comma
id|k
comma
id|l
comma
id|d
suffix:semicolon
r_for
c_loop
(paren
id|j
op_assign
l_int|0
suffix:semicolon
id|j
OL
l_int|2
suffix:semicolon
id|j
op_increment
)paren
(brace
multiline_comment|/* left/right */
id|k
op_assign
l_int|0xa0
op_plus
(paren
id|z
op_star
l_int|8
)paren
op_plus
(paren
id|j
op_star
l_int|4
)paren
suffix:semicolon
id|l
op_assign
l_int|0xd0
op_plus
(paren
id|z
op_star
l_int|8
)paren
op_plus
(paren
id|j
op_star
l_int|4
)paren
suffix:semicolon
id|d
op_assign
id|playback
op_plus
id|SND_EMU10K1_PLAYBACK_CHANNELS
op_plus
id|z
op_star
l_int|2
op_plus
id|j
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMAC0
comma
id|C_00000000
comma
id|C_00000000
comma
id|GPR
c_func
(paren
id|d
)paren
comma
id|GPR
c_func
(paren
id|BASS_GPR
op_plus
l_int|0
op_plus
id|j
)paren
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMACMV
comma
id|GPR
c_func
(paren
id|k
op_plus
l_int|1
)paren
comma
id|GPR
c_func
(paren
id|k
)paren
comma
id|GPR
c_func
(paren
id|k
op_plus
l_int|1
)paren
comma
id|GPR
c_func
(paren
id|BASS_GPR
op_plus
l_int|4
op_plus
id|j
)paren
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMACMV
comma
id|GPR
c_func
(paren
id|k
)paren
comma
id|GPR
c_func
(paren
id|d
)paren
comma
id|GPR
c_func
(paren
id|k
)paren
comma
id|GPR
c_func
(paren
id|BASS_GPR
op_plus
l_int|2
op_plus
id|j
)paren
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMACMV
comma
id|GPR
c_func
(paren
id|k
op_plus
l_int|3
)paren
comma
id|GPR
c_func
(paren
id|k
op_plus
l_int|2
)paren
comma
id|GPR
c_func
(paren
id|k
op_plus
l_int|3
)paren
comma
id|GPR
c_func
(paren
id|BASS_GPR
op_plus
l_int|8
op_plus
id|j
)paren
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMAC0
comma
id|GPR
c_func
(paren
id|k
op_plus
l_int|2
)paren
comma
id|GPR_ACCU
comma
id|GPR
c_func
(paren
id|k
op_plus
l_int|2
)paren
comma
id|GPR
c_func
(paren
id|BASS_GPR
op_plus
l_int|6
op_plus
id|j
)paren
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iACC3
comma
id|GPR
c_func
(paren
id|k
op_plus
l_int|2
)paren
comma
id|GPR
c_func
(paren
id|k
op_plus
l_int|2
)paren
comma
id|GPR
c_func
(paren
id|k
op_plus
l_int|2
)paren
comma
id|C_00000000
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMAC0
comma
id|C_00000000
comma
id|C_00000000
comma
id|GPR
c_func
(paren
id|k
op_plus
l_int|2
)paren
comma
id|GPR
c_func
(paren
id|TREBLE_GPR
op_plus
l_int|0
op_plus
id|j
)paren
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMACMV
comma
id|GPR
c_func
(paren
id|l
op_plus
l_int|1
)paren
comma
id|GPR
c_func
(paren
id|l
)paren
comma
id|GPR
c_func
(paren
id|l
op_plus
l_int|1
)paren
comma
id|GPR
c_func
(paren
id|TREBLE_GPR
op_plus
l_int|4
op_plus
id|j
)paren
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMACMV
comma
id|GPR
c_func
(paren
id|l
)paren
comma
id|GPR
c_func
(paren
id|k
op_plus
l_int|2
)paren
comma
id|GPR
c_func
(paren
id|l
)paren
comma
id|GPR
c_func
(paren
id|TREBLE_GPR
op_plus
l_int|2
op_plus
id|j
)paren
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMACMV
comma
id|GPR
c_func
(paren
id|l
op_plus
l_int|3
)paren
comma
id|GPR
c_func
(paren
id|l
op_plus
l_int|2
)paren
comma
id|GPR
c_func
(paren
id|l
op_plus
l_int|3
)paren
comma
id|GPR
c_func
(paren
id|TREBLE_GPR
op_plus
l_int|8
op_plus
id|j
)paren
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMAC0
comma
id|GPR
c_func
(paren
id|l
op_plus
l_int|2
)paren
comma
id|GPR_ACCU
comma
id|GPR
c_func
(paren
id|l
op_plus
l_int|2
)paren
comma
id|GPR
c_func
(paren
id|TREBLE_GPR
op_plus
l_int|6
op_plus
id|j
)paren
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iMACINT0
comma
id|GPR
c_func
(paren
id|l
op_plus
l_int|2
)paren
comma
id|C_00000000
comma
id|GPR
c_func
(paren
id|l
op_plus
l_int|2
)paren
comma
id|C_00000010
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iACC3
comma
id|GPR
c_func
(paren
id|d
)paren
comma
id|GPR
c_func
(paren
id|l
op_plus
l_int|2
)paren
comma
id|C_00000000
comma
id|C_00000000
)paren
suffix:semicolon
r_if
c_cond
(paren
id|z
op_eq
l_int|2
)paren
multiline_comment|/* center */
r_break
suffix:semicolon
)brace
)brace
id|i
op_add_assign
l_int|2
suffix:semicolon
DECL|macro|BASS_GPR
macro_line|#undef BASS_GPR
DECL|macro|TREBLE_GPR
macro_line|#undef TREBLE_GPR
r_for
c_loop
(paren
id|z
op_assign
l_int|0
suffix:semicolon
id|z
OL
l_int|6
suffix:semicolon
id|z
op_increment
)paren
(brace
id|SWITCH
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|tmp
op_plus
l_int|0
comma
id|playback
op_plus
id|SND_EMU10K1_PLAYBACK_CHANNELS
op_plus
id|z
comma
id|gpr
op_plus
l_int|0
)paren
suffix:semicolon
id|SWITCH_NEG
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|tmp
op_plus
l_int|1
comma
id|gpr
op_plus
l_int|0
)paren
suffix:semicolon
id|SWITCH
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|tmp
op_plus
l_int|1
comma
id|playback
op_plus
id|z
comma
id|tmp
op_plus
l_int|1
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iACC3
comma
id|GPR
c_func
(paren
id|playback
op_plus
id|SND_EMU10K1_PLAYBACK_CHANNELS
op_plus
id|z
)paren
comma
id|GPR
c_func
(paren
id|tmp
op_plus
l_int|0
)paren
comma
id|GPR
c_func
(paren
id|tmp
op_plus
l_int|1
)paren
comma
id|C_00000000
)paren
suffix:semicolon
)brace
id|snd_emu10k1_init_stereo_onoff_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;Tone Control - Switch&quot;
comma
id|gpr
comma
l_int|0
)paren
suffix:semicolon
id|gpr
op_add_assign
l_int|2
suffix:semicolon
multiline_comment|/*&n;&t; *  Process outputs&n;&t; */
r_if
c_cond
(paren
id|emu-&gt;fx8010.extout_mask
op_amp
(paren
(paren
l_int|1
op_lshift
id|EXTOUT_AC97_L
)paren
op_or
(paren
l_int|1
op_lshift
id|EXTOUT_AC97_R
)paren
)paren
)paren
(brace
multiline_comment|/* AC&squot;97 Playback Volume */
r_for
c_loop
(paren
id|z
op_assign
l_int|0
suffix:semicolon
id|z
OL
l_int|2
suffix:semicolon
id|z
op_increment
)paren
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iACC3
comma
id|EXTOUT
c_func
(paren
id|EXTOUT_AC97_L
op_plus
id|z
)paren
comma
id|GPR
c_func
(paren
id|playback
op_plus
id|SND_EMU10K1_PLAYBACK_CHANNELS
op_plus
id|z
)paren
comma
id|C_00000000
comma
id|C_00000000
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|emu-&gt;fx8010.extout_mask
op_amp
(paren
(paren
l_int|1
op_lshift
id|EXTOUT_TOSLINK_L
)paren
op_or
(paren
l_int|1
op_lshift
id|EXTOUT_TOSLINK_R
)paren
)paren
)paren
(brace
multiline_comment|/* IEC958 Optical Raw Playback Switch */
r_for
c_loop
(paren
id|z
op_assign
l_int|0
suffix:semicolon
id|z
OL
l_int|2
suffix:semicolon
id|z
op_increment
)paren
(brace
id|SWITCH
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|tmp
op_plus
l_int|0
comma
l_int|8
op_plus
id|z
comma
id|gpr
op_plus
id|z
)paren
suffix:semicolon
id|SWITCH_NEG
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|tmp
op_plus
l_int|1
comma
id|gpr
op_plus
id|z
)paren
suffix:semicolon
id|SWITCH
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|tmp
op_plus
l_int|1
comma
id|playback
op_plus
id|SND_EMU10K1_PLAYBACK_CHANNELS
op_plus
id|z
comma
id|tmp
op_plus
l_int|1
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iACC3
comma
id|EXTOUT
c_func
(paren
id|EXTOUT_TOSLINK_L
op_plus
id|z
)paren
comma
id|GPR
c_func
(paren
id|tmp
op_plus
l_int|0
)paren
comma
id|GPR
c_func
(paren
id|tmp
op_plus
l_int|1
)paren
comma
id|C_00000000
)paren
suffix:semicolon
macro_line|#ifdef EMU10K1_CAPTURE_DIGITAL_OUT
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iACC3
comma
id|EXTOUT
c_func
(paren
id|EXTOUT_ADC_CAP_L
op_plus
id|z
)paren
comma
id|GPR
c_func
(paren
id|tmp
op_plus
l_int|0
)paren
comma
id|GPR
c_func
(paren
id|tmp
op_plus
l_int|1
)paren
comma
id|C_00000000
)paren
suffix:semicolon
macro_line|#endif
)brace
id|snd_emu10k1_init_stereo_onoff_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;IEC958 Optical Raw Playback Switch&quot;
comma
id|gpr
comma
l_int|0
)paren
suffix:semicolon
id|gpr
op_add_assign
l_int|2
suffix:semicolon
)brace
r_if
c_cond
(paren
id|emu-&gt;fx8010.extout_mask
op_amp
(paren
(paren
l_int|1
op_lshift
id|EXTOUT_HEADPHONE_L
)paren
op_or
(paren
l_int|1
op_lshift
id|EXTOUT_HEADPHONE_R
)paren
)paren
)paren
(brace
multiline_comment|/* Headphone Playback Volume */
r_for
c_loop
(paren
id|z
op_assign
l_int|0
suffix:semicolon
id|z
OL
l_int|2
suffix:semicolon
id|z
op_increment
)paren
(brace
id|SWITCH
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|tmp
op_plus
l_int|0
comma
id|playback
op_plus
id|SND_EMU10K1_PLAYBACK_CHANNELS
op_plus
l_int|4
op_plus
id|z
comma
id|gpr
op_plus
l_int|2
op_plus
id|z
)paren
suffix:semicolon
id|SWITCH_NEG
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|tmp
op_plus
l_int|1
comma
id|gpr
op_plus
l_int|2
op_plus
id|z
)paren
suffix:semicolon
id|SWITCH
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|tmp
op_plus
l_int|1
comma
id|playback
op_plus
id|SND_EMU10K1_PLAYBACK_CHANNELS
op_plus
id|z
comma
id|tmp
op_plus
l_int|1
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iACC3
comma
id|GPR
c_func
(paren
id|tmp
op_plus
l_int|0
)paren
comma
id|GPR
c_func
(paren
id|tmp
op_plus
l_int|0
)paren
comma
id|GPR
c_func
(paren
id|tmp
op_plus
l_int|1
)paren
comma
id|C_00000000
)paren
suffix:semicolon
id|VOLUME_OUT
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|EXTOUT_HEADPHONE_L
op_plus
id|z
comma
id|tmp
op_plus
l_int|0
comma
id|gpr
op_plus
id|z
)paren
suffix:semicolon
)brace
id|snd_emu10k1_init_stereo_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;Headphone Playback Volume&quot;
comma
id|gpr
op_plus
l_int|0
comma
l_int|0
)paren
suffix:semicolon
id|controls
(braket
id|i
op_minus
l_int|1
)braket
dot
id|id.index
op_assign
l_int|1
suffix:semicolon
multiline_comment|/* AC&squot;97 can have also Headphone control */
id|snd_emu10k1_init_mono_onoff_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;Headphone Center Playback Switch&quot;
comma
id|gpr
op_plus
l_int|2
comma
l_int|0
)paren
suffix:semicolon
id|controls
(braket
id|i
op_minus
l_int|1
)braket
dot
id|id.index
op_assign
l_int|1
suffix:semicolon
id|snd_emu10k1_init_mono_onoff_control
c_func
(paren
id|controls
op_plus
id|i
op_increment
comma
l_string|&quot;Headphone LFE Playback Switch&quot;
comma
id|gpr
op_plus
l_int|3
comma
l_int|0
)paren
suffix:semicolon
id|controls
(braket
id|i
op_minus
l_int|1
)braket
dot
id|id.index
op_assign
l_int|1
suffix:semicolon
id|gpr
op_add_assign
l_int|4
suffix:semicolon
)brace
r_if
c_cond
(paren
id|emu-&gt;fx8010.extout_mask
op_amp
(paren
(paren
l_int|1
op_lshift
id|EXTOUT_REAR_L
)paren
op_or
(paren
l_int|1
op_lshift
id|EXTOUT_REAR_R
)paren
)paren
)paren
r_for
c_loop
(paren
id|z
op_assign
l_int|0
suffix:semicolon
id|z
OL
l_int|2
suffix:semicolon
id|z
op_increment
)paren
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iACC3
comma
id|EXTOUT
c_func
(paren
id|EXTOUT_REAR_L
op_plus
id|z
)paren
comma
id|GPR
c_func
(paren
id|playback
op_plus
id|SND_EMU10K1_PLAYBACK_CHANNELS
op_plus
l_int|2
op_plus
id|z
)paren
comma
id|C_00000000
comma
id|C_00000000
)paren
suffix:semicolon
r_if
c_cond
(paren
id|emu-&gt;fx8010.extout_mask
op_amp
(paren
l_int|1
op_lshift
id|EXTOUT_CENTER
)paren
)paren
(brace
macro_line|#ifndef EMU10K1_CENTER_LFE_FROM_FRONT
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iACC3
comma
id|EXTOUT
c_func
(paren
id|EXTOUT_CENTER
)paren
comma
id|GPR
c_func
(paren
id|playback
op_plus
id|SND_EMU10K1_PLAYBACK_CHANNELS
op_plus
l_int|4
)paren
comma
id|C_00000000
comma
id|C_00000000
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iACC3
comma
id|EXTOUT
c_func
(paren
id|EXTOUT_ACENTER
)paren
comma
id|GPR
c_func
(paren
id|playback
op_plus
id|SND_EMU10K1_PLAYBACK_CHANNELS
op_plus
l_int|4
)paren
comma
id|C_00000000
comma
id|C_00000000
)paren
suffix:semicolon
macro_line|#else
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iACC3
comma
id|EXTOUT
c_func
(paren
id|EXTOUT_CENTER
)paren
comma
id|GPR
c_func
(paren
id|playback
op_plus
id|SND_EMU10K1_PLAYBACK_CHANNELS
op_plus
l_int|0
)paren
comma
id|C_00000000
comma
id|C_00000000
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iACC3
comma
id|EXTOUT
c_func
(paren
id|EXTOUT_ACENTER
)paren
comma
id|GPR
c_func
(paren
id|playback
op_plus
id|SND_EMU10K1_PLAYBACK_CHANNELS
op_plus
l_int|0
)paren
comma
id|C_00000000
comma
id|C_00000000
)paren
suffix:semicolon
macro_line|#endif
)brace
r_if
c_cond
(paren
id|emu-&gt;fx8010.extout_mask
op_amp
(paren
l_int|1
op_lshift
id|EXTOUT_LFE
)paren
)paren
(brace
macro_line|#ifndef EMU10K1_CENTER_LFE_FROM_FRONT
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iACC3
comma
id|EXTOUT
c_func
(paren
id|EXTOUT_LFE
)paren
comma
id|GPR
c_func
(paren
id|playback
op_plus
id|SND_EMU10K1_PLAYBACK_CHANNELS
op_plus
l_int|5
)paren
comma
id|C_00000000
comma
id|C_00000000
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iACC3
comma
id|EXTOUT
c_func
(paren
id|EXTOUT_ALFE
)paren
comma
id|GPR
c_func
(paren
id|playback
op_plus
id|SND_EMU10K1_PLAYBACK_CHANNELS
op_plus
l_int|5
)paren
comma
id|C_00000000
comma
id|C_00000000
)paren
suffix:semicolon
macro_line|#else
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iACC3
comma
id|EXTOUT
c_func
(paren
id|EXTOUT_LFE
)paren
comma
id|GPR
c_func
(paren
id|playback
op_plus
id|SND_EMU10K1_PLAYBACK_CHANNELS
op_plus
l_int|1
)paren
comma
id|C_00000000
comma
id|C_00000000
)paren
suffix:semicolon
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iACC3
comma
id|EXTOUT
c_func
(paren
id|EXTOUT_ALFE
)paren
comma
id|GPR
c_func
(paren
id|playback
op_plus
id|SND_EMU10K1_PLAYBACK_CHANNELS
op_plus
l_int|1
)paren
comma
id|C_00000000
comma
id|C_00000000
)paren
suffix:semicolon
macro_line|#endif
)brace
macro_line|#ifndef EMU10K1_CAPTURE_DIGITAL_OUT
r_for
c_loop
(paren
id|z
op_assign
l_int|0
suffix:semicolon
id|z
OL
l_int|2
suffix:semicolon
id|z
op_increment
)paren
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iACC3
comma
id|EXTOUT
c_func
(paren
id|EXTOUT_ADC_CAP_L
op_plus
id|z
)paren
comma
id|GPR
c_func
(paren
id|capture
op_plus
id|z
)paren
comma
id|C_00000000
comma
id|C_00000000
)paren
suffix:semicolon
macro_line|#endif
r_if
c_cond
(paren
id|emu-&gt;fx8010.extout_mask
op_amp
(paren
l_int|1
op_lshift
id|EXTOUT_MIC_CAP
)paren
)paren
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iACC3
comma
id|EXTOUT
c_func
(paren
id|EXTOUT_MIC_CAP
)paren
comma
id|GPR
c_func
(paren
id|capture
op_plus
l_int|2
)paren
comma
id|C_00000000
comma
id|C_00000000
)paren
suffix:semicolon
r_if
c_cond
(paren
id|gpr
OG
id|tmp
)paren
(brace
id|snd_BUG
c_func
(paren
)paren
suffix:semicolon
id|err
op_assign
op_minus
id|EIO
suffix:semicolon
r_goto
id|__err
suffix:semicolon
)brace
r_if
c_cond
(paren
id|i
OG
id|SND_EMU10K1_GPR_CONTROLS
)paren
(brace
id|snd_BUG
c_func
(paren
)paren
suffix:semicolon
id|err
op_assign
op_minus
id|EIO
suffix:semicolon
r_goto
id|__err
suffix:semicolon
)brace
multiline_comment|/* clear remaining instruction memory */
r_while
c_loop
(paren
id|ptr
OL
l_int|0x200
)paren
id|OP
c_func
(paren
id|icode
comma
op_amp
id|ptr
comma
id|iACC3
comma
id|C_00000000
comma
id|C_00000000
comma
id|C_00000000
comma
id|C_00000000
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|err
op_assign
id|snd_emu10k1_fx8010_tram_setup
c_func
(paren
id|emu
comma
id|ipcm-&gt;buffer_size
)paren
)paren
OL
l_int|0
)paren
r_goto
id|__err
suffix:semicolon
id|seg
op_assign
id|snd_enter_user
c_func
(paren
)paren
suffix:semicolon
id|icode-&gt;gpr_add_control_count
op_assign
id|i
suffix:semicolon
id|icode-&gt;gpr_add_controls
op_assign
id|controls
suffix:semicolon
id|err
op_assign
id|snd_emu10k1_icode_poke
c_func
(paren
id|emu
comma
id|icode
)paren
suffix:semicolon
id|snd_leave_user
c_func
(paren
id|seg
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
op_ge
l_int|0
)paren
id|err
op_assign
id|snd_emu10k1_ipcm_poke
c_func
(paren
id|emu
comma
id|ipcm
)paren
suffix:semicolon
id|__err
suffix:colon
id|kfree
c_func
(paren
id|ipcm
)paren
suffix:semicolon
id|kfree
c_func
(paren
id|controls
)paren
suffix:semicolon
id|kfree
c_func
(paren
id|icode
)paren
suffix:semicolon
r_return
id|err
suffix:semicolon
)brace
DECL|function|snd_emu10k1_init_efx
r_int
id|__devinit
id|snd_emu10k1_init_efx
c_func
(paren
id|emu10k1_t
op_star
id|emu
)paren
(brace
r_if
c_cond
(paren
id|emu-&gt;audigy
)paren
r_return
id|_snd_emu10k1_audigy_init_efx
c_func
(paren
id|emu
)paren
suffix:semicolon
r_else
r_return
id|_snd_emu10k1_init_efx
c_func
(paren
id|emu
)paren
suffix:semicolon
)brace
DECL|function|snd_emu10k1_free_efx
r_void
id|snd_emu10k1_free_efx
c_func
(paren
id|emu10k1_t
op_star
id|emu
)paren
(brace
multiline_comment|/* stop processor */
r_if
c_cond
(paren
id|emu-&gt;audigy
)paren
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|A_DBG
comma
l_int|0
comma
id|emu-&gt;fx8010.dbg
op_assign
id|A_DBG_SINGLE_STEP
)paren
suffix:semicolon
r_else
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|DBG
comma
l_int|0
comma
id|emu-&gt;fx8010.dbg
op_assign
id|EMU10K1_DBG_SINGLE_STEP
)paren
suffix:semicolon
)brace
macro_line|#if 0 
singleline_comment|// FIXME: who use them?
r_int
id|snd_emu10k1_fx8010_tone_control_activate
c_func
(paren
id|emu10k1_t
op_star
id|emu
comma
r_int
id|output
)paren
(brace
id|snd_runtime_check
c_func
(paren
id|output
op_ge
l_int|0
op_logical_and
id|output
OL
l_int|6
comma
r_return
op_minus
id|EINVAL
)paren
suffix:semicolon
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|emu-&gt;gpr_base
op_plus
l_int|0x94
op_plus
id|output
comma
l_int|0
comma
l_int|1
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
r_int
id|snd_emu10k1_fx8010_tone_control_deactivate
c_func
(paren
id|emu10k1_t
op_star
id|emu
comma
r_int
id|output
)paren
(brace
id|snd_runtime_check
c_func
(paren
id|output
op_ge
l_int|0
op_logical_and
id|output
OL
l_int|6
comma
r_return
op_minus
id|EINVAL
)paren
suffix:semicolon
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|emu-&gt;gpr_base
op_plus
l_int|0x94
op_plus
id|output
comma
l_int|0
comma
l_int|0
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
macro_line|#endif
DECL|function|snd_emu10k1_fx8010_tram_setup
r_int
id|snd_emu10k1_fx8010_tram_setup
c_func
(paren
id|emu10k1_t
op_star
id|emu
comma
id|u32
id|size
)paren
(brace
id|u8
id|size_reg
op_assign
l_int|0
suffix:semicolon
multiline_comment|/* size is in samples */
r_if
c_cond
(paren
id|size
op_ne
l_int|0
)paren
(brace
id|size
op_assign
(paren
id|size
op_minus
l_int|1
)paren
op_rshift
l_int|13
suffix:semicolon
r_while
c_loop
(paren
id|size
)paren
(brace
id|size
op_rshift_assign
l_int|1
suffix:semicolon
id|size_reg
op_increment
suffix:semicolon
)brace
id|size
op_assign
l_int|0x2000
op_lshift
id|size_reg
suffix:semicolon
)brace
r_if
c_cond
(paren
id|emu-&gt;fx8010.etram_size
op_eq
id|size
)paren
r_return
l_int|0
suffix:semicolon
id|spin_lock_irq
c_func
(paren
op_amp
id|emu-&gt;emu_lock
)paren
suffix:semicolon
id|outl
c_func
(paren
id|HCFG_LOCKTANKCACHE_MASK
op_or
id|inl
c_func
(paren
id|emu-&gt;port
op_plus
id|HCFG
)paren
comma
id|emu-&gt;port
op_plus
id|HCFG
)paren
suffix:semicolon
id|spin_unlock_irq
c_func
(paren
op_amp
id|emu-&gt;emu_lock
)paren
suffix:semicolon
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|TCB
comma
l_int|0
comma
l_int|0
)paren
suffix:semicolon
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|TCBS
comma
l_int|0
comma
l_int|0
)paren
suffix:semicolon
r_if
c_cond
(paren
id|emu-&gt;fx8010.etram_pages
op_ne
l_int|NULL
)paren
(brace
id|snd_free_pci_pages
c_func
(paren
id|emu-&gt;pci
comma
id|emu-&gt;fx8010.etram_size
op_star
l_int|2
comma
id|emu-&gt;fx8010.etram_pages
comma
id|emu-&gt;fx8010.etram_pages_dmaaddr
)paren
suffix:semicolon
id|emu-&gt;fx8010.etram_pages
op_assign
l_int|NULL
suffix:semicolon
id|emu-&gt;fx8010.etram_size
op_assign
l_int|0
suffix:semicolon
)brace
r_if
c_cond
(paren
id|size
OG
l_int|0
)paren
(brace
id|emu-&gt;fx8010.etram_pages
op_assign
id|snd_malloc_pci_pages
c_func
(paren
id|emu-&gt;pci
comma
id|size
op_star
l_int|2
comma
op_amp
id|emu-&gt;fx8010.etram_pages_dmaaddr
)paren
suffix:semicolon
r_if
c_cond
(paren
id|emu-&gt;fx8010.etram_pages
op_eq
l_int|NULL
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
id|memset
c_func
(paren
id|emu-&gt;fx8010.etram_pages
comma
l_int|0
comma
id|size
op_star
l_int|2
)paren
suffix:semicolon
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|TCB
comma
l_int|0
comma
id|emu-&gt;fx8010.etram_pages_dmaaddr
)paren
suffix:semicolon
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|TCBS
comma
l_int|0
comma
id|size_reg
)paren
suffix:semicolon
id|spin_lock_irq
c_func
(paren
op_amp
id|emu-&gt;emu_lock
)paren
suffix:semicolon
id|outl
c_func
(paren
id|inl
c_func
(paren
id|emu-&gt;port
op_plus
id|HCFG
)paren
op_amp
op_complement
id|HCFG_LOCKTANKCACHE_MASK
comma
id|emu-&gt;port
op_plus
id|HCFG
)paren
suffix:semicolon
id|spin_unlock_irq
c_func
(paren
op_amp
id|emu-&gt;emu_lock
)paren
suffix:semicolon
)brace
id|emu-&gt;fx8010.etram_size
op_assign
id|size
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|snd_emu10k1_fx8010_open
r_static
r_int
id|snd_emu10k1_fx8010_open
c_func
(paren
id|snd_hwdep_t
op_star
id|hw
comma
r_struct
id|file
op_star
id|file
)paren
(brace
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|copy_string
r_static
r_void
id|copy_string
c_func
(paren
r_char
op_star
id|dst
comma
r_char
op_star
id|src
comma
r_char
op_star
id|null
comma
r_int
id|idx
)paren
(brace
r_if
c_cond
(paren
id|src
op_eq
l_int|NULL
)paren
id|sprintf
c_func
(paren
id|dst
comma
l_string|&quot;%s %02X&quot;
comma
id|null
comma
id|idx
)paren
suffix:semicolon
r_else
id|strcpy
c_func
(paren
id|dst
comma
id|src
)paren
suffix:semicolon
)brace
DECL|function|snd_emu10k1_fx8010_info
r_static
r_int
id|snd_emu10k1_fx8010_info
c_func
(paren
id|emu10k1_t
op_star
id|emu
comma
id|emu10k1_fx8010_info_t
op_star
id|info
)paren
(brace
r_char
op_star
op_star
id|fxbus
comma
op_star
op_star
id|extin
comma
op_star
op_star
id|extout
suffix:semicolon
r_int
r_int
id|fxbus_mask
comma
id|extin_mask
comma
id|extout_mask
suffix:semicolon
r_int
id|res
suffix:semicolon
id|memset
c_func
(paren
id|info
comma
l_int|0
comma
r_sizeof
(paren
id|info
)paren
)paren
suffix:semicolon
id|info-&gt;card
op_assign
id|emu-&gt;card_type
suffix:semicolon
id|info-&gt;internal_tram_size
op_assign
id|emu-&gt;fx8010.itram_size
suffix:semicolon
id|info-&gt;external_tram_size
op_assign
id|emu-&gt;fx8010.etram_size
suffix:semicolon
id|fxbus
op_assign
id|fxbuses
suffix:semicolon
id|extin
op_assign
id|emu-&gt;audigy
ques
c_cond
id|audigy_ins
suffix:colon
id|creative_ins
suffix:semicolon
id|extout
op_assign
id|emu-&gt;audigy
ques
c_cond
id|audigy_outs
suffix:colon
id|creative_outs
suffix:semicolon
id|fxbus_mask
op_assign
id|emu-&gt;fx8010.fxbus_mask
suffix:semicolon
id|extin_mask
op_assign
id|emu-&gt;fx8010.extin_mask
suffix:semicolon
id|extout_mask
op_assign
id|emu-&gt;fx8010.extout_mask
suffix:semicolon
r_for
c_loop
(paren
id|res
op_assign
l_int|0
suffix:semicolon
id|res
OL
l_int|16
suffix:semicolon
id|res
op_increment
comma
id|fxbus
op_increment
comma
id|extin
op_increment
comma
id|extout
op_increment
)paren
(brace
id|copy_string
c_func
(paren
id|info-&gt;fxbus_names
(braket
id|res
)braket
comma
id|fxbus_mask
op_amp
(paren
l_int|1
op_lshift
id|res
)paren
ques
c_cond
op_star
id|fxbus
suffix:colon
l_int|NULL
comma
l_string|&quot;FXBUS&quot;
comma
id|res
)paren
suffix:semicolon
id|copy_string
c_func
(paren
id|info-&gt;extin_names
(braket
id|res
)braket
comma
id|extin_mask
op_amp
(paren
l_int|1
op_lshift
id|res
)paren
ques
c_cond
op_star
id|extin
suffix:colon
l_int|NULL
comma
l_string|&quot;Unused&quot;
comma
id|res
)paren
suffix:semicolon
id|copy_string
c_func
(paren
id|info-&gt;extout_names
(braket
id|res
)braket
comma
id|extout_mask
op_amp
(paren
l_int|1
op_lshift
id|res
)paren
ques
c_cond
op_star
id|extout
suffix:colon
l_int|NULL
comma
l_string|&quot;Unused&quot;
comma
id|res
)paren
suffix:semicolon
)brace
r_for
c_loop
(paren
id|res
op_assign
l_int|16
suffix:semicolon
id|res
OL
l_int|32
suffix:semicolon
id|res
op_increment
comma
id|extout
op_increment
)paren
id|copy_string
c_func
(paren
id|info-&gt;extout_names
(braket
id|res
)braket
comma
id|extout_mask
op_amp
(paren
l_int|1
op_lshift
id|res
)paren
ques
c_cond
op_star
id|extout
suffix:colon
l_int|NULL
comma
l_string|&quot;Unused&quot;
comma
id|res
)paren
suffix:semicolon
id|info-&gt;gpr_controls
op_assign
id|emu-&gt;fx8010.gpr_count
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|snd_emu10k1_fx8010_ioctl
r_static
r_int
id|snd_emu10k1_fx8010_ioctl
c_func
(paren
id|snd_hwdep_t
op_star
id|hw
comma
r_struct
id|file
op_star
id|file
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|emu10k1_t
op_star
id|emu
op_assign
id|snd_magic_cast
c_func
(paren
id|emu10k1_t
comma
id|hw-&gt;private_data
comma
r_return
op_minus
id|ENXIO
)paren
suffix:semicolon
id|emu10k1_fx8010_info_t
id|info
suffix:semicolon
id|emu10k1_fx8010_code_t
op_star
id|icode
suffix:semicolon
id|emu10k1_fx8010_pcm_t
op_star
id|ipcm
suffix:semicolon
r_int
r_int
id|addr
suffix:semicolon
r_int
id|res
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|SNDRV_EMU10K1_IOCTL_INFO
suffix:colon
r_if
c_cond
(paren
(paren
id|res
op_assign
id|snd_emu10k1_fx8010_info
c_func
(paren
id|emu
comma
op_amp
id|info
)paren
)paren
OL
l_int|0
)paren
r_return
id|res
suffix:semicolon
r_if
c_cond
(paren
id|copy_to_user
c_func
(paren
(paren
r_void
op_star
)paren
id|arg
comma
op_amp
id|info
comma
r_sizeof
(paren
id|info
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_return
l_int|0
suffix:semicolon
r_case
id|SNDRV_EMU10K1_IOCTL_CODE_POKE
suffix:colon
r_if
c_cond
(paren
op_logical_neg
id|capable
c_func
(paren
id|CAP_SYS_ADMIN
)paren
)paren
r_return
op_minus
id|EPERM
suffix:semicolon
id|icode
op_assign
(paren
id|emu10k1_fx8010_code_t
op_star
)paren
id|kmalloc
c_func
(paren
r_sizeof
(paren
op_star
id|icode
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
id|icode
op_eq
l_int|NULL
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
id|icode
comma
(paren
r_void
op_star
)paren
id|arg
comma
r_sizeof
(paren
op_star
id|icode
)paren
)paren
)paren
(brace
id|kfree
c_func
(paren
id|icode
)paren
suffix:semicolon
r_return
op_minus
id|EFAULT
suffix:semicolon
)brace
id|res
op_assign
id|snd_emu10k1_icode_poke
c_func
(paren
id|emu
comma
id|icode
)paren
suffix:semicolon
id|kfree
c_func
(paren
id|icode
)paren
suffix:semicolon
r_return
id|res
suffix:semicolon
r_case
id|SNDRV_EMU10K1_IOCTL_CODE_PEEK
suffix:colon
id|icode
op_assign
(paren
id|emu10k1_fx8010_code_t
op_star
)paren
id|snd_kcalloc
c_func
(paren
r_sizeof
(paren
op_star
id|icode
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
id|icode
op_eq
l_int|NULL
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
id|res
op_assign
id|snd_emu10k1_icode_peek
c_func
(paren
id|emu
comma
id|icode
)paren
suffix:semicolon
r_if
c_cond
(paren
id|res
op_eq
l_int|0
op_logical_and
id|copy_to_user
c_func
(paren
(paren
r_void
op_star
)paren
id|arg
comma
id|icode
comma
r_sizeof
(paren
op_star
id|icode
)paren
)paren
)paren
(brace
id|kfree
c_func
(paren
id|icode
)paren
suffix:semicolon
r_return
op_minus
id|EFAULT
suffix:semicolon
)brace
id|kfree
c_func
(paren
id|icode
)paren
suffix:semicolon
r_return
id|res
suffix:semicolon
r_case
id|SNDRV_EMU10K1_IOCTL_PCM_POKE
suffix:colon
r_if
c_cond
(paren
id|emu-&gt;audigy
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
id|ipcm
op_assign
(paren
id|emu10k1_fx8010_pcm_t
op_star
)paren
id|snd_kcalloc
c_func
(paren
r_sizeof
(paren
op_star
id|ipcm
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
id|ipcm
op_eq
l_int|NULL
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
id|res
op_assign
id|snd_emu10k1_ipcm_poke
c_func
(paren
id|emu
comma
id|ipcm
)paren
suffix:semicolon
id|kfree
c_func
(paren
id|ipcm
)paren
suffix:semicolon
r_return
id|res
suffix:semicolon
r_case
id|SNDRV_EMU10K1_IOCTL_PCM_PEEK
suffix:colon
r_if
c_cond
(paren
id|emu-&gt;audigy
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
id|ipcm
op_assign
(paren
id|emu10k1_fx8010_pcm_t
op_star
)paren
id|snd_kcalloc
c_func
(paren
r_sizeof
(paren
op_star
id|ipcm
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
id|ipcm
op_eq
l_int|NULL
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
id|res
op_assign
id|snd_emu10k1_ipcm_peek
c_func
(paren
id|emu
comma
id|ipcm
)paren
suffix:semicolon
r_if
c_cond
(paren
id|res
op_eq
l_int|0
op_logical_and
id|copy_to_user
c_func
(paren
(paren
r_void
op_star
)paren
id|arg
comma
id|ipcm
comma
r_sizeof
(paren
op_star
id|ipcm
)paren
)paren
)paren
(brace
id|kfree
c_func
(paren
id|ipcm
)paren
suffix:semicolon
r_return
op_minus
id|EFAULT
suffix:semicolon
)brace
id|kfree
c_func
(paren
id|ipcm
)paren
suffix:semicolon
r_return
id|res
suffix:semicolon
r_case
id|SNDRV_EMU10K1_IOCTL_TRAM_SETUP
suffix:colon
r_if
c_cond
(paren
id|emu-&gt;audigy
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|capable
c_func
(paren
id|CAP_SYS_ADMIN
)paren
)paren
r_return
op_minus
id|EPERM
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|addr
comma
(paren
r_int
r_int
op_star
)paren
id|arg
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|down
c_func
(paren
op_amp
id|emu-&gt;fx8010.lock
)paren
suffix:semicolon
id|res
op_assign
id|snd_emu10k1_fx8010_tram_setup
c_func
(paren
id|emu
comma
id|addr
)paren
suffix:semicolon
id|up
c_func
(paren
op_amp
id|emu-&gt;fx8010.lock
)paren
suffix:semicolon
r_return
id|res
suffix:semicolon
r_case
id|SNDRV_EMU10K1_IOCTL_STOP
suffix:colon
r_if
c_cond
(paren
op_logical_neg
id|capable
c_func
(paren
id|CAP_SYS_ADMIN
)paren
)paren
r_return
op_minus
id|EPERM
suffix:semicolon
r_if
c_cond
(paren
id|emu-&gt;audigy
)paren
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|A_DBG
comma
l_int|0
comma
id|emu-&gt;fx8010.dbg
op_or_assign
id|A_DBG_SINGLE_STEP
)paren
suffix:semicolon
r_else
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|DBG
comma
l_int|0
comma
id|emu-&gt;fx8010.dbg
op_or_assign
id|EMU10K1_DBG_SINGLE_STEP
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
r_case
id|SNDRV_EMU10K1_IOCTL_CONTINUE
suffix:colon
r_if
c_cond
(paren
op_logical_neg
id|capable
c_func
(paren
id|CAP_SYS_ADMIN
)paren
)paren
r_return
op_minus
id|EPERM
suffix:semicolon
r_if
c_cond
(paren
id|emu-&gt;audigy
)paren
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|A_DBG
comma
l_int|0
comma
id|emu-&gt;fx8010.dbg
op_assign
l_int|0
)paren
suffix:semicolon
r_else
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|DBG
comma
l_int|0
comma
id|emu-&gt;fx8010.dbg
op_assign
l_int|0
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
r_case
id|SNDRV_EMU10K1_IOCTL_ZERO_TRAM_COUNTER
suffix:colon
r_if
c_cond
(paren
op_logical_neg
id|capable
c_func
(paren
id|CAP_SYS_ADMIN
)paren
)paren
r_return
op_minus
id|EPERM
suffix:semicolon
r_if
c_cond
(paren
id|emu-&gt;audigy
)paren
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|A_DBG
comma
l_int|0
comma
id|emu-&gt;fx8010.dbg
op_or
id|A_DBG_ZC
)paren
suffix:semicolon
r_else
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|DBG
comma
l_int|0
comma
id|emu-&gt;fx8010.dbg
op_or
id|EMU10K1_DBG_ZC
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|10
)paren
suffix:semicolon
r_if
c_cond
(paren
id|emu-&gt;audigy
)paren
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|A_DBG
comma
l_int|0
comma
id|emu-&gt;fx8010.dbg
)paren
suffix:semicolon
r_else
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|DBG
comma
l_int|0
comma
id|emu-&gt;fx8010.dbg
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
r_case
id|SNDRV_EMU10K1_IOCTL_SINGLE_STEP
suffix:colon
r_if
c_cond
(paren
op_logical_neg
id|capable
c_func
(paren
id|CAP_SYS_ADMIN
)paren
)paren
r_return
op_minus
id|EPERM
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|addr
comma
(paren
r_int
r_int
op_star
)paren
id|arg
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|addr
OG
l_int|0x1ff
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
r_if
c_cond
(paren
id|emu-&gt;audigy
)paren
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|A_DBG
comma
l_int|0
comma
id|emu-&gt;fx8010.dbg
op_or_assign
id|A_DBG_SINGLE_STEP
op_or
id|addr
)paren
suffix:semicolon
r_else
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|DBG
comma
l_int|0
comma
id|emu-&gt;fx8010.dbg
op_or_assign
id|EMU10K1_DBG_SINGLE_STEP
op_or
id|addr
)paren
suffix:semicolon
id|udelay
c_func
(paren
l_int|10
)paren
suffix:semicolon
r_if
c_cond
(paren
id|emu-&gt;audigy
)paren
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|A_DBG
comma
l_int|0
comma
id|emu-&gt;fx8010.dbg
op_or_assign
id|A_DBG_SINGLE_STEP
op_or
id|A_DBG_STEP_ADDR
op_or
id|addr
)paren
suffix:semicolon
r_else
id|snd_emu10k1_ptr_write
c_func
(paren
id|emu
comma
id|DBG
comma
l_int|0
comma
id|emu-&gt;fx8010.dbg
op_or_assign
id|EMU10K1_DBG_SINGLE_STEP
op_or
id|EMU10K1_DBG_STEP
op_or
id|addr
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
r_case
id|SNDRV_EMU10K1_IOCTL_DBG_READ
suffix:colon
r_if
c_cond
(paren
id|emu-&gt;audigy
)paren
id|addr
op_assign
id|snd_emu10k1_ptr_read
c_func
(paren
id|emu
comma
id|A_DBG
comma
l_int|0
)paren
suffix:semicolon
r_else
id|addr
op_assign
id|snd_emu10k1_ptr_read
c_func
(paren
id|emu
comma
id|DBG
comma
l_int|0
)paren
suffix:semicolon
r_if
c_cond
(paren
id|put_user
c_func
(paren
id|addr
comma
(paren
r_int
r_int
op_star
)paren
id|arg
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
r_return
op_minus
id|ENOTTY
suffix:semicolon
)brace
DECL|function|snd_emu10k1_fx8010_release
r_static
r_int
id|snd_emu10k1_fx8010_release
c_func
(paren
id|snd_hwdep_t
op_star
id|hw
comma
r_struct
id|file
op_star
id|file
)paren
(brace
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|snd_emu10k1_fx8010_new
r_int
id|__devinit
id|snd_emu10k1_fx8010_new
c_func
(paren
id|emu10k1_t
op_star
id|emu
comma
r_int
id|device
comma
id|snd_hwdep_t
op_star
op_star
id|rhwdep
)paren
(brace
id|snd_hwdep_t
op_star
id|hw
suffix:semicolon
r_int
id|err
suffix:semicolon
r_if
c_cond
(paren
id|rhwdep
)paren
op_star
id|rhwdep
op_assign
l_int|NULL
suffix:semicolon
r_if
c_cond
(paren
(paren
id|err
op_assign
id|snd_hwdep_new
c_func
(paren
id|emu-&gt;card
comma
l_string|&quot;FX8010&quot;
comma
id|device
comma
op_amp
id|hw
)paren
)paren
OL
l_int|0
)paren
r_return
id|err
suffix:semicolon
id|strcpy
c_func
(paren
id|hw-&gt;name
comma
l_string|&quot;EMU10K1 (FX8010)&quot;
)paren
suffix:semicolon
id|hw-&gt;iface
op_assign
id|SNDRV_HWDEP_IFACE_EMU10K1
suffix:semicolon
id|hw-&gt;ops.open
op_assign
id|snd_emu10k1_fx8010_open
suffix:semicolon
id|hw-&gt;ops.ioctl
op_assign
id|snd_emu10k1_fx8010_ioctl
suffix:semicolon
id|hw-&gt;ops.release
op_assign
id|snd_emu10k1_fx8010_release
suffix:semicolon
id|hw-&gt;private_data
op_assign
id|emu
suffix:semicolon
r_if
c_cond
(paren
id|rhwdep
)paren
op_star
id|rhwdep
op_assign
id|hw
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
eof
