multiline_comment|/*******************************************************************************&n;*&n;*      &quot;cs4281pm.c&quot; --  Cirrus Logic-Crystal CS4281 linux audio driver.&n;*&n;*      Copyright (C) 2000,2001  Cirrus Logic Corp.  &n;*            -- tom woller (twoller@crystal.cirrus.com) or&n;*               (audio@crystal.cirrus.com).&n;*&n;*      This program is free software; you can redistribute it and/or modify&n;*      it under the terms of the GNU General Public License as published by&n;*      the Free Software Foundation; either version 2 of the License, or&n;*      (at your option) any later version.&n;*&n;*      This program is distributed in the hope that it will be useful,&n;*      but WITHOUT ANY WARRANTY; without even the implied warranty of&n;*      MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the&n;*      GNU General Public License for more details.&n;*&n;*      You should have received a copy of the GNU General Public License&n;*      along with this program; if not, write to the Free Software&n;*      Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.&n;*&n;* 12/22/00 trw - new file. &n;*&n;*******************************************************************************/
macro_line|#ifndef NOT_CS4281_PM
macro_line|#include &lt;linux/pm.h&gt;
DECL|macro|cs_pm_register
mdefine_line|#define cs_pm_register(a, b, c) pm_register((a), (b), (c));
DECL|macro|cs_pm_unregister_all
mdefine_line|#define cs_pm_unregister_all(a) pm_unregister_all((a));
r_int
id|cs4281_suspend
c_func
(paren
r_struct
id|cs4281_state
op_star
id|s
)paren
suffix:semicolon
r_int
id|cs4281_resume
c_func
(paren
r_struct
id|cs4281_state
op_star
id|s
)paren
suffix:semicolon
multiline_comment|/* &n;* for now (12/22/00) only enable the pm_register PM support.&n;* allow these table entries to be null.&n;#define CS4281_SUSPEND_TBL cs4281_suspend_tbl&n;#define CS4281_RESUME_TBL cs4281_resume_tbl&n;*/
DECL|macro|CS4281_SUSPEND_TBL
mdefine_line|#define CS4281_SUSPEND_TBL cs4281_suspend_null
DECL|macro|CS4281_RESUME_TBL
mdefine_line|#define CS4281_RESUME_TBL cs4281_resume_null
DECL|function|cs4281_pm_callback
r_int
id|cs4281_pm_callback
c_func
(paren
r_struct
id|pm_dev
op_star
id|dev
comma
id|pm_request_t
id|rqst
comma
r_void
op_star
id|data
)paren
(brace
r_struct
id|cs4281_state
op_star
id|state
suffix:semicolon
id|CS_DBGOUT
c_func
(paren
id|CS_PM
comma
l_int|2
comma
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;cs4281: cs4281_pm_callback dev=%p rqst=0x%x state=%p&bslash;n&quot;
comma
id|dev
comma
(paren
r_int
)paren
id|rqst
comma
id|data
)paren
)paren
suffix:semicolon
id|state
op_assign
(paren
r_struct
id|cs4281_state
op_star
)paren
id|dev-&gt;data
suffix:semicolon
r_if
c_cond
(paren
id|state
)paren
(brace
r_switch
c_cond
(paren
id|rqst
)paren
(brace
r_case
id|PM_SUSPEND
suffix:colon
id|CS_DBGOUT
c_func
(paren
id|CS_PM
comma
l_int|2
comma
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;cs4281: PM suspend request&bslash;n&quot;
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|cs4281_suspend
c_func
(paren
id|state
)paren
)paren
(brace
id|CS_DBGOUT
c_func
(paren
id|CS_ERROR
comma
l_int|2
comma
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;cs4281: PM suspend request refused&bslash;n&quot;
)paren
)paren
suffix:semicolon
r_return
l_int|1
suffix:semicolon
)brace
r_break
suffix:semicolon
r_case
id|PM_RESUME
suffix:colon
id|CS_DBGOUT
c_func
(paren
id|CS_PM
comma
l_int|2
comma
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;cs4281: PM resume request&bslash;n&quot;
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|cs4281_resume
c_func
(paren
id|state
)paren
)paren
(brace
id|CS_DBGOUT
c_func
(paren
id|CS_ERROR
comma
l_int|2
comma
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;cs4281: PM resume request refused&bslash;n&quot;
)paren
)paren
suffix:semicolon
r_return
l_int|1
suffix:semicolon
)brace
r_break
suffix:semicolon
)brace
)brace
r_return
l_int|0
suffix:semicolon
)brace
macro_line|#else /* CS4281_PM */
DECL|macro|CS4281_SUSPEND_TBL
mdefine_line|#define CS4281_SUSPEND_TBL cs4281_suspend_null
DECL|macro|CS4281_RESUME_TBL
mdefine_line|#define CS4281_RESUME_TBL cs4281_resume_null
macro_line|#endif /* CS4281_PM */
eof
