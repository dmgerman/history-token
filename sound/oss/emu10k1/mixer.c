multiline_comment|/*&n; **********************************************************************&n; *     mixer.c - /dev/mixer interface for emu10k1 driver&n; *     Copyright 1999, 2000 Creative Labs, Inc.&n; *&n; **********************************************************************&n; *&n; *     Date                 Author          Summary of changes&n; *     ----                 ------          ------------------&n; *     October 20, 1999     Bertrand Lee    base code release&n; *     November 2, 1999     Alan Cox        cleaned up stuff&n; *&n; **********************************************************************&n; *&n; *     This program is free software; you can redistribute it and/or&n; *     modify it under the terms of the GNU General Public License as&n; *     published by the Free Software Foundation; either version 2 of&n; *     the License, or (at your option) any later version.&n; *&n; *     This program is distributed in the hope that it will be useful,&n; *     but WITHOUT ANY WARRANTY; without even the implied warranty of&n; *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the&n; *     GNU General Public License for more details.&n; *&n; *     You should have received a copy of the GNU General Public&n; *     License along with this program; if not, write to the Free&n; *     Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139,&n; *     USA.&n; *&n; **********************************************************************&n; */
macro_line|#include &lt;linux/module.h&gt;
macro_line|#include &lt;asm/uaccess.h&gt;
macro_line|#include &lt;linux/fs.h&gt;
macro_line|#include &quot;hwaccess.h&quot;
macro_line|#include &quot;8010.h&quot;
macro_line|#include &quot;recmgr.h&quot;
DECL|variable|bass_table
r_static
r_const
id|u32
id|bass_table
(braket
l_int|41
)braket
(braket
l_int|5
)braket
op_assign
(brace
(brace
l_int|0x3e4f844f
comma
l_int|0x84ed4cc3
comma
l_int|0x3cc69927
comma
l_int|0x7b03553a
comma
l_int|0xc4da8486
)brace
comma
(brace
l_int|0x3e69a17a
comma
l_int|0x84c280fb
comma
l_int|0x3cd77cd4
comma
l_int|0x7b2f2a6f
comma
l_int|0xc4b08d1d
)brace
comma
(brace
l_int|0x3e82ff42
comma
l_int|0x849991d5
comma
l_int|0x3ce7466b
comma
l_int|0x7b5917c6
comma
l_int|0xc48863ee
)brace
comma
(brace
l_int|0x3e9bab3c
comma
l_int|0x847267f0
comma
l_int|0x3cf5ffe8
comma
l_int|0x7b813560
comma
l_int|0xc461f22c
)brace
comma
(brace
l_int|0x3eb3b275
comma
l_int|0x844ced29
comma
l_int|0x3d03b295
comma
l_int|0x7ba79a1c
comma
l_int|0xc43d223b
)brace
comma
(brace
l_int|0x3ecb2174
comma
l_int|0x84290c8b
comma
l_int|0x3d106714
comma
l_int|0x7bcc5ba3
comma
l_int|0xc419dfa5
)brace
comma
(brace
l_int|0x3ee2044b
comma
l_int|0x8406b244
comma
l_int|0x3d1c2561
comma
l_int|0x7bef8e77
comma
l_int|0xc3f8170f
)brace
comma
(brace
l_int|0x3ef86698
comma
l_int|0x83e5cb96
comma
l_int|0x3d26f4d8
comma
l_int|0x7c114600
comma
l_int|0xc3d7b625
)brace
comma
(brace
l_int|0x3f0e5390
comma
l_int|0x83c646c9
comma
l_int|0x3d30dc39
comma
l_int|0x7c319498
comma
l_int|0xc3b8ab97
)brace
comma
(brace
l_int|0x3f23d60b
comma
l_int|0x83a81321
comma
l_int|0x3d39e1af
comma
l_int|0x7c508b9c
comma
l_int|0xc39ae704
)brace
comma
(brace
l_int|0x3f38f884
comma
l_int|0x838b20d2
comma
l_int|0x3d420ad2
comma
l_int|0x7c6e3b75
comma
l_int|0xc37e58f1
)brace
comma
(brace
l_int|0x3f4dc52c
comma
l_int|0x836f60ef
comma
l_int|0x3d495cab
comma
l_int|0x7c8ab3a6
comma
l_int|0xc362f2be
)brace
comma
(brace
l_int|0x3f6245e8
comma
l_int|0x8354c565
comma
l_int|0x3d4fdbb8
comma
l_int|0x7ca602d6
comma
l_int|0xc348a69b
)brace
comma
(brace
l_int|0x3f76845f
comma
l_int|0x833b40ec
comma
l_int|0x3d558bf0
comma
l_int|0x7cc036df
comma
l_int|0xc32f677c
)brace
comma
(brace
l_int|0x3f8a8a03
comma
l_int|0x8322c6fb
comma
l_int|0x3d5a70c4
comma
l_int|0x7cd95cd7
comma
l_int|0xc317290b
)brace
comma
(brace
l_int|0x3f9e6014
comma
l_int|0x830b4bc3
comma
l_int|0x3d5e8d25
comma
l_int|0x7cf1811a
comma
l_int|0xc2ffdfa5
)brace
comma
(brace
l_int|0x3fb20fae
comma
l_int|0x82f4c420
comma
l_int|0x3d61e37f
comma
l_int|0x7d08af56
comma
l_int|0xc2e9804a
)brace
comma
(brace
l_int|0x3fc5a1cc
comma
l_int|0x82df2592
comma
l_int|0x3d6475c3
comma
l_int|0x7d1ef294
comma
l_int|0xc2d40096
)brace
comma
(brace
l_int|0x3fd91f55
comma
l_int|0x82ca6632
comma
l_int|0x3d664564
comma
l_int|0x7d345541
comma
l_int|0xc2bf56b9
)brace
comma
(brace
l_int|0x3fec9120
comma
l_int|0x82b67cac
comma
l_int|0x3d675356
comma
l_int|0x7d48e138
comma
l_int|0xc2ab796e
)brace
comma
(brace
l_int|0x40000000
comma
l_int|0x82a36037
comma
l_int|0x3d67a012
comma
l_int|0x7d5c9fc9
comma
l_int|0xc2985fee
)brace
comma
(brace
l_int|0x401374c7
comma
l_int|0x8291088a
comma
l_int|0x3d672b93
comma
l_int|0x7d6f99c3
comma
l_int|0xc28601f2
)brace
comma
(brace
l_int|0x4026f857
comma
l_int|0x827f6dd7
comma
l_int|0x3d65f559
comma
l_int|0x7d81d77c
comma
l_int|0xc27457a3
)brace
comma
(brace
l_int|0x403a939f
comma
l_int|0x826e88c5
comma
l_int|0x3d63fc63
comma
l_int|0x7d9360d4
comma
l_int|0xc2635996
)brace
comma
(brace
l_int|0x404e4faf
comma
l_int|0x825e5266
comma
l_int|0x3d613f32
comma
l_int|0x7da43d42
comma
l_int|0xc25300c6
)brace
comma
(brace
l_int|0x406235ba
comma
l_int|0x824ec434
comma
l_int|0x3d5dbbc3
comma
l_int|0x7db473d7
comma
l_int|0xc243468e
)brace
comma
(brace
l_int|0x40764f1f
comma
l_int|0x823fd80c
comma
l_int|0x3d596f8f
comma
l_int|0x7dc40b44
comma
l_int|0xc23424a2
)brace
comma
(brace
l_int|0x408aa576
comma
l_int|0x82318824
comma
l_int|0x3d545787
comma
l_int|0x7dd309e2
comma
l_int|0xc2259509
)brace
comma
(brace
l_int|0x409f4296
comma
l_int|0x8223cf0b
comma
l_int|0x3d4e7012
comma
l_int|0x7de175b5
comma
l_int|0xc2179218
)brace
comma
(brace
l_int|0x40b430a0
comma
l_int|0x8216a7a1
comma
l_int|0x3d47b505
comma
l_int|0x7def5475
comma
l_int|0xc20a1670
)brace
comma
(brace
l_int|0x40c97a0a
comma
l_int|0x820a0d12
comma
l_int|0x3d4021a1
comma
l_int|0x7dfcab8d
comma
l_int|0xc1fd1cf5
)brace
comma
(brace
l_int|0x40df29a6
comma
l_int|0x81fdfad6
comma
l_int|0x3d37b08d
comma
l_int|0x7e098028
comma
l_int|0xc1f0a0ca
)brace
comma
(brace
l_int|0x40f54ab1
comma
l_int|0x81f26ca9
comma
l_int|0x3d2e5bd1
comma
l_int|0x7e15d72b
comma
l_int|0xc1e49d52
)brace
comma
(brace
l_int|0x410be8da
comma
l_int|0x81e75e89
comma
l_int|0x3d241cce
comma
l_int|0x7e21b544
comma
l_int|0xc1d90e24
)brace
comma
(brace
l_int|0x41231051
comma
l_int|0x81dcccb3
comma
l_int|0x3d18ec37
comma
l_int|0x7e2d1ee6
comma
l_int|0xc1cdef10
)brace
comma
(brace
l_int|0x413acdd0
comma
l_int|0x81d2b39e
comma
l_int|0x3d0cc20a
comma
l_int|0x7e38184e
comma
l_int|0xc1c33c13
)brace
comma
(brace
l_int|0x41532ea7
comma
l_int|0x81c90ffb
comma
l_int|0x3cff9585
comma
l_int|0x7e42a58b
comma
l_int|0xc1b8f15a
)brace
comma
(brace
l_int|0x416c40cd
comma
l_int|0x81bfdeb2
comma
l_int|0x3cf15d21
comma
l_int|0x7e4cca7c
comma
l_int|0xc1af0b3f
)brace
comma
(brace
l_int|0x418612ea
comma
l_int|0x81b71cdc
comma
l_int|0x3ce20e85
comma
l_int|0x7e568ad3
comma
l_int|0xc1a58640
)brace
comma
(brace
l_int|0x41a0b465
comma
l_int|0x81aec7c5
comma
l_int|0x3cd19e7c
comma
l_int|0x7e5fea1e
comma
l_int|0xc19c5f03
)brace
comma
(brace
l_int|0x41bc3573
comma
l_int|0x81a6dcea
comma
l_int|0x3cc000e9
comma
l_int|0x7e68ebc2
comma
l_int|0xc1939250
)brace
)brace
suffix:semicolon
DECL|variable|treble_table
r_static
r_const
id|u32
id|treble_table
(braket
l_int|41
)braket
(braket
l_int|5
)braket
op_assign
(brace
(brace
l_int|0x0125cba9
comma
l_int|0xfed5debd
comma
l_int|0x00599b6c
comma
l_int|0x0d2506da
comma
l_int|0xfa85b354
)brace
comma
(brace
l_int|0x0142f67e
comma
l_int|0xfeb03163
comma
l_int|0x0066cd0f
comma
l_int|0x0d14c69d
comma
l_int|0xfa914473
)brace
comma
(brace
l_int|0x016328bd
comma
l_int|0xfe860158
comma
l_int|0x0075b7f2
comma
l_int|0x0d03eb27
comma
l_int|0xfa9d32d2
)brace
comma
(brace
l_int|0x0186b438
comma
l_int|0xfe56c982
comma
l_int|0x00869234
comma
l_int|0x0cf27048
comma
l_int|0xfaa97fca
)brace
comma
(brace
l_int|0x01adf358
comma
l_int|0xfe21f5fe
comma
l_int|0x00999842
comma
l_int|0x0ce051c2
comma
l_int|0xfab62ca5
)brace
comma
(brace
l_int|0x01d949fa
comma
l_int|0xfde6e287
comma
l_int|0x00af0d8d
comma
l_int|0x0ccd8b4a
comma
l_int|0xfac33aa7
)brace
comma
(brace
l_int|0x02092669
comma
l_int|0xfda4d8bf
comma
l_int|0x00c73d4c
comma
l_int|0x0cba1884
comma
l_int|0xfad0ab07
)brace
comma
(brace
l_int|0x023e0268
comma
l_int|0xfd5b0e4a
comma
l_int|0x00e27b54
comma
l_int|0x0ca5f509
comma
l_int|0xfade7ef2
)brace
comma
(brace
l_int|0x0278645c
comma
l_int|0xfd08a2b0
comma
l_int|0x01012509
comma
l_int|0x0c911c63
comma
l_int|0xfaecb788
)brace
comma
(brace
l_int|0x02b8e091
comma
l_int|0xfcac9d1a
comma
l_int|0x0123a262
comma
l_int|0x0c7b8a14
comma
l_int|0xfafb55df
)brace
comma
(brace
l_int|0x03001a9a
comma
l_int|0xfc45e9ce
comma
l_int|0x014a6709
comma
l_int|0x0c65398f
comma
l_int|0xfb0a5aff
)brace
comma
(brace
l_int|0x034ec6d7
comma
l_int|0xfbd3576b
comma
l_int|0x0175f397
comma
l_int|0x0c4e2643
comma
l_int|0xfb19c7e4
)brace
comma
(brace
l_int|0x03a5ac15
comma
l_int|0xfb5393ee
comma
l_int|0x01a6d6ed
comma
l_int|0x0c364b94
comma
l_int|0xfb299d7c
)brace
comma
(brace
l_int|0x0405a562
comma
l_int|0xfac52968
comma
l_int|0x01ddafae
comma
l_int|0x0c1da4e2
comma
l_int|0xfb39dca5
)brace
comma
(brace
l_int|0x046fa3fe
comma
l_int|0xfa267a66
comma
l_int|0x021b2ddd
comma
l_int|0x0c042d8d
comma
l_int|0xfb4a8631
)brace
comma
(brace
l_int|0x04e4b17f
comma
l_int|0xf975be0f
comma
l_int|0x0260149f
comma
l_int|0x0be9e0f2
comma
l_int|0xfb5b9ae0
)brace
comma
(brace
l_int|0x0565f220
comma
l_int|0xf8b0fbe5
comma
l_int|0x02ad3c29
comma
l_int|0x0bceba73
comma
l_int|0xfb6d1b60
)brace
comma
(brace
l_int|0x05f4a745
comma
l_int|0xf7d60722
comma
l_int|0x030393d4
comma
l_int|0x0bb2b578
comma
l_int|0xfb7f084d
)brace
comma
(brace
l_int|0x06923236
comma
l_int|0xf6e279bd
comma
l_int|0x03642465
comma
l_int|0x0b95cd75
comma
l_int|0xfb916233
)brace
comma
(brace
l_int|0x07401713
comma
l_int|0xf5d3aef9
comma
l_int|0x03d01283
comma
l_int|0x0b77fded
comma
l_int|0xfba42984
)brace
comma
(brace
l_int|0x08000000
comma
l_int|0xf4a6bd88
comma
l_int|0x0448a161
comma
l_int|0x0b594278
comma
l_int|0xfbb75e9f
)brace
comma
(brace
l_int|0x08d3c097
comma
l_int|0xf3587131
comma
l_int|0x04cf35a4
comma
l_int|0x0b3996c9
comma
l_int|0xfbcb01cb
)brace
comma
(brace
l_int|0x09bd59a2
comma
l_int|0xf1e543f9
comma
l_int|0x05655880
comma
l_int|0x0b18f6b2
comma
l_int|0xfbdf1333
)brace
comma
(brace
l_int|0x0abefd0f
comma
l_int|0xf04956ca
comma
l_int|0x060cbb12
comma
l_int|0x0af75e2c
comma
l_int|0xfbf392e8
)brace
comma
(brace
l_int|0x0bdb123e
comma
l_int|0xee806984
comma
l_int|0x06c739fe
comma
l_int|0x0ad4c962
comma
l_int|0xfc0880dd
)brace
comma
(brace
l_int|0x0d143a94
comma
l_int|0xec85d287
comma
l_int|0x0796e150
comma
l_int|0x0ab134b0
comma
l_int|0xfc1ddce5
)brace
comma
(brace
l_int|0x0e6d5664
comma
l_int|0xea547598
comma
l_int|0x087df0a0
comma
l_int|0x0a8c9cb6
comma
l_int|0xfc33a6ad
)brace
comma
(brace
l_int|0x0fe98a2a
comma
l_int|0xe7e6ba35
comma
l_int|0x097edf83
comma
l_int|0x0a66fe5b
comma
l_int|0xfc49ddc2
)brace
comma
(brace
l_int|0x118c4421
comma
l_int|0xe536813a
comma
l_int|0x0a9c6248
comma
l_int|0x0a4056d7
comma
l_int|0xfc608185
)brace
comma
(brace
l_int|0x1359422e
comma
l_int|0xe23d19eb
comma
l_int|0x0bd96efb
comma
l_int|0x0a18a3bf
comma
l_int|0xfc77912c
)brace
comma
(brace
l_int|0x1554982b
comma
l_int|0xdef33645
comma
l_int|0x0d3942bd
comma
l_int|0x09efe312
comma
l_int|0xfc8f0bc1
)brace
comma
(brace
l_int|0x1782b68a
comma
l_int|0xdb50deb1
comma
l_int|0x0ebf676d
comma
l_int|0x09c6133f
comma
l_int|0xfca6f019
)brace
comma
(brace
l_int|0x19e8715d
comma
l_int|0xd74d64fd
comma
l_int|0x106fb999
comma
l_int|0x099b3337
comma
l_int|0xfcbf3cd6
)brace
comma
(brace
l_int|0x1c8b07b8
comma
l_int|0xd2df56ab
comma
l_int|0x124e6ec8
comma
l_int|0x096f4274
comma
l_int|0xfcd7f060
)brace
comma
(brace
l_int|0x1f702b6d
comma
l_int|0xcdfc6e92
comma
l_int|0x14601c10
comma
l_int|0x0942410b
comma
l_int|0xfcf108e5
)brace
comma
(brace
l_int|0x229e0933
comma
l_int|0xc89985cd
comma
l_int|0x16a9bcfa
comma
l_int|0x09142fb5
comma
l_int|0xfd0a8451
)brace
comma
(brace
l_int|0x261b5118
comma
l_int|0xc2aa8409
comma
l_int|0x1930bab6
comma
l_int|0x08e50fdc
comma
l_int|0xfd24604d
)brace
comma
(brace
l_int|0x29ef3f5d
comma
l_int|0xbc224f28
comma
l_int|0x1bfaf396
comma
l_int|0x08b4e3aa
comma
l_int|0xfd3e9a3b
)brace
comma
(brace
l_int|0x2e21a59b
comma
l_int|0xb4f2ba46
comma
l_int|0x1f0ec2d6
comma
l_int|0x0883ae15
comma
l_int|0xfd592f33
)brace
comma
(brace
l_int|0x32baf44b
comma
l_int|0xad0c7429
comma
l_int|0x227308a3
comma
l_int|0x085172eb
comma
l_int|0xfd741bfd
)brace
comma
(brace
l_int|0x37c4448b
comma
l_int|0xa45ef51d
comma
l_int|0x262f3267
comma
l_int|0x081e36dc
comma
l_int|0xfd8f5d14
)brace
)brace
suffix:semicolon
DECL|function|set_bass
r_static
r_void
id|set_bass
c_func
(paren
r_struct
id|emu10k1_card
op_star
id|card
comma
r_int
id|l
comma
r_int
id|r
)paren
(brace
r_int
id|i
suffix:semicolon
id|l
op_assign
(paren
id|l
op_star
l_int|40
op_plus
l_int|50
)paren
op_div
l_int|100
suffix:semicolon
id|r
op_assign
(paren
id|r
op_star
l_int|40
op_plus
l_int|50
)paren
op_div
l_int|100
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|5
suffix:semicolon
id|i
op_increment
)paren
id|sblive_writeptr
c_func
(paren
id|card
comma
(paren
id|card-&gt;is_audigy
ques
c_cond
id|A_GPR_BASE
suffix:colon
id|GPR_BASE
)paren
op_plus
id|card-&gt;mgr.ctrl_gpr
(braket
id|SOUND_MIXER_BASS
)braket
(braket
l_int|0
)braket
op_plus
id|i
comma
l_int|0
comma
id|bass_table
(braket
id|l
)braket
(braket
id|i
)braket
)paren
suffix:semicolon
)brace
DECL|function|set_treble
r_static
r_void
id|set_treble
c_func
(paren
r_struct
id|emu10k1_card
op_star
id|card
comma
r_int
id|l
comma
r_int
id|r
)paren
(brace
r_int
id|i
suffix:semicolon
id|l
op_assign
(paren
id|l
op_star
l_int|40
op_plus
l_int|50
)paren
op_div
l_int|100
suffix:semicolon
id|r
op_assign
(paren
id|r
op_star
l_int|40
op_plus
l_int|50
)paren
op_div
l_int|100
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|5
suffix:semicolon
id|i
op_increment
)paren
id|sblive_writeptr
c_func
(paren
id|card
comma
(paren
id|card-&gt;is_audigy
ques
c_cond
id|A_GPR_BASE
suffix:colon
id|GPR_BASE
)paren
op_plus
id|card-&gt;mgr.ctrl_gpr
(braket
id|SOUND_MIXER_TREBLE
)braket
(braket
l_int|0
)braket
op_plus
id|i
comma
l_int|0
comma
id|treble_table
(braket
id|l
)braket
(braket
id|i
)braket
)paren
suffix:semicolon
)brace
DECL|variable|volume_params
r_const
r_char
id|volume_params
(braket
id|SOUND_MIXER_NRDEVICES
)braket
op_assign
(brace
multiline_comment|/* Used by the ac97 driver */
(braket
id|SOUND_MIXER_VOLUME
)braket
op_assign
id|VOL_6BIT
comma
(braket
id|SOUND_MIXER_BASS
)braket
op_assign
id|VOL_4BIT
comma
(braket
id|SOUND_MIXER_TREBLE
)braket
op_assign
id|VOL_4BIT
comma
(braket
id|SOUND_MIXER_PCM
)braket
op_assign
id|VOL_5BIT
comma
(braket
id|SOUND_MIXER_SPEAKER
)braket
op_assign
id|VOL_4BIT
comma
(braket
id|SOUND_MIXER_LINE
)braket
op_assign
id|VOL_5BIT
comma
(braket
id|SOUND_MIXER_MIC
)braket
op_assign
id|VOL_5BIT
comma
(braket
id|SOUND_MIXER_CD
)braket
op_assign
id|VOL_5BIT
comma
(braket
id|SOUND_MIXER_ALTPCM
)braket
op_assign
id|VOL_6BIT
comma
(braket
id|SOUND_MIXER_IGAIN
)braket
op_assign
id|VOL_4BIT
comma
(braket
id|SOUND_MIXER_LINE1
)braket
op_assign
id|VOL_5BIT
comma
(braket
id|SOUND_MIXER_PHONEIN
)braket
op_assign
id|VOL_5BIT
comma
(braket
id|SOUND_MIXER_PHONEOUT
)braket
op_assign
id|VOL_6BIT
comma
(braket
id|SOUND_MIXER_VIDEO
)braket
op_assign
id|VOL_5BIT
comma
multiline_comment|/* Not used by the ac97 driver */
(braket
id|SOUND_MIXER_SYNTH
)braket
op_assign
id|VOL_5BIT
comma
(braket
id|SOUND_MIXER_IMIX
)braket
op_assign
id|VOL_5BIT
comma
(braket
id|SOUND_MIXER_RECLEV
)braket
op_assign
id|VOL_5BIT
comma
(braket
id|SOUND_MIXER_OGAIN
)braket
op_assign
id|VOL_5BIT
comma
(braket
id|SOUND_MIXER_LINE2
)braket
op_assign
id|VOL_5BIT
comma
(braket
id|SOUND_MIXER_LINE3
)braket
op_assign
id|VOL_5BIT
comma
(braket
id|SOUND_MIXER_DIGITAL1
)braket
op_assign
id|VOL_5BIT
comma
(braket
id|SOUND_MIXER_DIGITAL2
)braket
op_assign
id|VOL_5BIT
comma
(braket
id|SOUND_MIXER_DIGITAL3
)braket
op_assign
id|VOL_5BIT
comma
(braket
id|SOUND_MIXER_RADIO
)braket
op_assign
id|VOL_5BIT
comma
(braket
id|SOUND_MIXER_MONITOR
)braket
op_assign
id|VOL_5BIT
)brace
suffix:semicolon
multiline_comment|/* Mixer file operations */
DECL|function|emu10k1_private_mixer
r_static
r_int
id|emu10k1_private_mixer
c_func
(paren
r_struct
id|emu10k1_card
op_star
id|card
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|mixer_private_ioctl
op_star
id|ctl
suffix:semicolon
r_struct
id|dsp_patch
op_star
id|patch
suffix:semicolon
id|u32
id|size
comma
id|page
suffix:semicolon
r_int
id|addr
comma
id|size_reg
comma
id|i
comma
id|ret
suffix:semicolon
r_int
r_int
id|id
comma
id|ch
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|SOUND_MIXER_PRIVATE3
suffix:colon
id|ctl
op_assign
(paren
r_struct
id|mixer_private_ioctl
op_star
)paren
id|kmalloc
c_func
(paren
r_sizeof
(paren
r_struct
id|mixer_private_ioctl
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
id|ctl
op_eq
l_int|NULL
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
id|ctl
comma
(paren
r_void
op_star
)paren
id|arg
comma
r_sizeof
(paren
r_struct
id|mixer_private_ioctl
)paren
)paren
)paren
(brace
id|kfree
c_func
(paren
id|ctl
)paren
suffix:semicolon
r_return
op_minus
id|EFAULT
suffix:semicolon
)brace
id|ret
op_assign
l_int|0
suffix:semicolon
r_switch
c_cond
(paren
id|ctl-&gt;cmd
)paren
(brace
macro_line|#ifdef DBGEMU
r_case
id|CMD_WRITEFN0
suffix:colon
id|emu10k1_writefn0_2
c_func
(paren
id|card
comma
id|ctl-&gt;val
(braket
l_int|0
)braket
comma
id|ctl-&gt;val
(braket
l_int|1
)braket
comma
id|ctl-&gt;val
(braket
l_int|2
)braket
)paren
suffix:semicolon
r_break
suffix:semicolon
macro_line|#endif
r_case
id|CMD_WRITEPTR
suffix:colon
macro_line|#ifdef DBGEMU
r_if
c_cond
(paren
id|ctl-&gt;val
(braket
l_int|1
)braket
op_ge
l_int|0x40
op_logical_or
id|ctl-&gt;val
(braket
l_int|0
)braket
op_ge
l_int|0x1000
)paren
(brace
macro_line|#else
r_if
c_cond
(paren
id|ctl-&gt;val
(braket
l_int|1
)braket
op_ge
l_int|0x40
op_logical_or
id|ctl-&gt;val
(braket
l_int|0
)braket
op_ge
l_int|0x1000
op_logical_or
(paren
(paren
id|ctl-&gt;val
(braket
l_int|0
)braket
OL
l_int|0x100
)paren
op_logical_and
singleline_comment|//Any register allowed raw access goes here:
(paren
id|ctl-&gt;val
(braket
l_int|0
)braket
op_ne
id|A_SPDIF_SAMPLERATE
)paren
op_logical_and
(paren
id|ctl-&gt;val
(braket
l_int|0
)braket
op_ne
id|A_DBG
)paren
)paren
)paren
(brace
macro_line|#endif
id|ret
op_assign
op_minus
id|EINVAL
suffix:semicolon
r_break
suffix:semicolon
)brace
id|sblive_writeptr
c_func
(paren
id|card
comma
id|ctl-&gt;val
(braket
l_int|0
)braket
comma
id|ctl-&gt;val
(braket
l_int|1
)braket
comma
id|ctl-&gt;val
(braket
l_int|2
)braket
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|CMD_READFN0
suffix:colon
id|ctl-&gt;val
(braket
l_int|2
)braket
op_assign
id|emu10k1_readfn0
c_func
(paren
id|card
comma
id|ctl-&gt;val
(braket
l_int|0
)braket
)paren
suffix:semicolon
r_if
c_cond
(paren
id|copy_to_user
c_func
(paren
(paren
r_void
op_star
)paren
id|arg
comma
id|ctl
comma
r_sizeof
(paren
r_struct
id|mixer_private_ioctl
)paren
)paren
)paren
id|ret
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_break
suffix:semicolon
r_case
id|CMD_READPTR
suffix:colon
r_if
c_cond
(paren
id|ctl-&gt;val
(braket
l_int|1
)braket
op_ge
l_int|0x40
op_logical_or
(paren
id|ctl-&gt;val
(braket
l_int|0
)braket
op_amp
l_int|0x7ff
)paren
OG
l_int|0xff
)paren
(brace
id|ret
op_assign
op_minus
id|EINVAL
suffix:semicolon
r_break
suffix:semicolon
)brace
r_if
c_cond
(paren
(paren
id|ctl-&gt;val
(braket
l_int|0
)braket
op_amp
l_int|0x7ff
)paren
OG
l_int|0x3f
)paren
id|ctl-&gt;val
(braket
l_int|1
)braket
op_assign
l_int|0x00
suffix:semicolon
id|ctl-&gt;val
(braket
l_int|2
)braket
op_assign
id|sblive_readptr
c_func
(paren
id|card
comma
id|ctl-&gt;val
(braket
l_int|0
)braket
comma
id|ctl-&gt;val
(braket
l_int|1
)braket
)paren
suffix:semicolon
r_if
c_cond
(paren
id|copy_to_user
c_func
(paren
(paren
r_void
op_star
)paren
id|arg
comma
id|ctl
comma
r_sizeof
(paren
r_struct
id|mixer_private_ioctl
)paren
)paren
)paren
id|ret
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_break
suffix:semicolon
r_case
id|CMD_SETRECSRC
suffix:colon
r_switch
c_cond
(paren
id|ctl-&gt;val
(braket
l_int|0
)braket
)paren
(brace
r_case
id|WAVERECORD_AC97
suffix:colon
r_if
c_cond
(paren
id|card-&gt;is_aps
)paren
(brace
id|ret
op_assign
op_minus
id|EINVAL
suffix:semicolon
r_break
suffix:semicolon
)brace
id|card-&gt;wavein.recsrc
op_assign
id|WAVERECORD_AC97
suffix:semicolon
r_break
suffix:semicolon
r_case
id|WAVERECORD_MIC
suffix:colon
id|card-&gt;wavein.recsrc
op_assign
id|WAVERECORD_MIC
suffix:semicolon
r_break
suffix:semicolon
r_case
id|WAVERECORD_FX
suffix:colon
id|card-&gt;wavein.recsrc
op_assign
id|WAVERECORD_FX
suffix:semicolon
id|card-&gt;wavein.fxwc
op_assign
id|ctl-&gt;val
(braket
l_int|1
)braket
op_amp
l_int|0xffff
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|card-&gt;wavein.fxwc
)paren
id|ret
op_assign
op_minus
id|EINVAL
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
id|ret
op_assign
op_minus
id|EINVAL
suffix:semicolon
r_break
suffix:semicolon
)brace
r_break
suffix:semicolon
r_case
id|CMD_GETRECSRC
suffix:colon
id|ctl-&gt;val
(braket
l_int|0
)braket
op_assign
id|card-&gt;wavein.recsrc
suffix:semicolon
id|ctl-&gt;val
(braket
l_int|1
)braket
op_assign
id|card-&gt;wavein.fxwc
suffix:semicolon
r_if
c_cond
(paren
id|copy_to_user
c_func
(paren
(paren
r_void
op_star
)paren
id|arg
comma
id|ctl
comma
r_sizeof
(paren
r_struct
id|mixer_private_ioctl
)paren
)paren
)paren
id|ret
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_break
suffix:semicolon
r_case
id|CMD_GETVOICEPARAM
suffix:colon
id|ctl-&gt;val
(braket
l_int|0
)braket
op_assign
id|card-&gt;waveout.send_routing
(braket
l_int|0
)braket
suffix:semicolon
id|ctl-&gt;val
(braket
l_int|1
)braket
op_assign
id|card-&gt;waveout.send_dcba
(braket
l_int|0
)braket
suffix:semicolon
id|ctl-&gt;val
(braket
l_int|2
)braket
op_assign
id|card-&gt;waveout.send_routing
(braket
l_int|1
)braket
suffix:semicolon
id|ctl-&gt;val
(braket
l_int|3
)braket
op_assign
id|card-&gt;waveout.send_dcba
(braket
l_int|1
)braket
suffix:semicolon
id|ctl-&gt;val
(braket
l_int|4
)braket
op_assign
id|card-&gt;waveout.send_routing
(braket
l_int|2
)braket
suffix:semicolon
id|ctl-&gt;val
(braket
l_int|5
)braket
op_assign
id|card-&gt;waveout.send_dcba
(braket
l_int|2
)braket
suffix:semicolon
r_if
c_cond
(paren
id|copy_to_user
c_func
(paren
(paren
r_void
op_star
)paren
id|arg
comma
id|ctl
comma
r_sizeof
(paren
r_struct
id|mixer_private_ioctl
)paren
)paren
)paren
id|ret
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_break
suffix:semicolon
r_case
id|CMD_SETVOICEPARAM
suffix:colon
id|card-&gt;waveout.send_routing
(braket
l_int|0
)braket
op_assign
id|ctl-&gt;val
(braket
l_int|0
)braket
suffix:semicolon
id|card-&gt;waveout.send_dcba
(braket
l_int|0
)braket
op_assign
id|ctl-&gt;val
(braket
l_int|1
)braket
suffix:semicolon
id|card-&gt;waveout.send_routing
(braket
l_int|1
)braket
op_assign
id|ctl-&gt;val
(braket
l_int|2
)braket
suffix:semicolon
id|card-&gt;waveout.send_dcba
(braket
l_int|1
)braket
op_assign
id|ctl-&gt;val
(braket
l_int|3
)braket
suffix:semicolon
id|card-&gt;waveout.send_routing
(braket
l_int|2
)braket
op_assign
id|ctl-&gt;val
(braket
l_int|4
)braket
suffix:semicolon
id|card-&gt;waveout.send_dcba
(braket
l_int|2
)braket
op_assign
id|ctl-&gt;val
(braket
l_int|5
)braket
suffix:semicolon
r_break
suffix:semicolon
r_case
id|CMD_SETMCH_FX
suffix:colon
id|card-&gt;mchannel_fx
op_assign
id|ctl-&gt;val
(braket
l_int|0
)braket
op_amp
l_int|0x000f
suffix:semicolon
r_break
suffix:semicolon
r_case
id|CMD_GETPATCH
suffix:colon
r_if
c_cond
(paren
id|ctl-&gt;val
(braket
l_int|0
)braket
op_eq
l_int|0
)paren
(brace
r_if
c_cond
(paren
id|copy_to_user
c_func
(paren
(paren
r_void
op_star
)paren
id|arg
comma
op_amp
id|card-&gt;mgr.rpatch
comma
r_sizeof
(paren
r_struct
id|dsp_rpatch
)paren
)paren
)paren
id|ret
op_assign
op_minus
id|EFAULT
suffix:semicolon
)brace
r_else
(brace
r_if
c_cond
(paren
(paren
id|ctl-&gt;val
(braket
l_int|0
)braket
op_minus
l_int|1
)paren
op_div
id|PATCHES_PER_PAGE
op_ge
id|card-&gt;mgr.current_pages
)paren
(brace
id|ret
op_assign
op_minus
id|EINVAL
suffix:semicolon
r_break
suffix:semicolon
)brace
r_if
c_cond
(paren
id|copy_to_user
c_func
(paren
(paren
r_void
op_star
)paren
id|arg
comma
id|PATCH
c_func
(paren
op_amp
id|card-&gt;mgr
comma
id|ctl-&gt;val
(braket
l_int|0
)braket
op_minus
l_int|1
)paren
comma
r_sizeof
(paren
r_struct
id|dsp_patch
)paren
)paren
)paren
id|ret
op_assign
op_minus
id|EFAULT
suffix:semicolon
)brace
r_break
suffix:semicolon
r_case
id|CMD_GETGPR
suffix:colon
id|id
op_assign
id|ctl-&gt;val
(braket
l_int|0
)braket
suffix:semicolon
r_if
c_cond
(paren
id|id
OG
id|NUM_GPRS
)paren
(brace
id|ret
op_assign
op_minus
id|EINVAL
suffix:semicolon
r_break
suffix:semicolon
)brace
r_if
c_cond
(paren
id|copy_to_user
c_func
(paren
(paren
r_void
op_star
)paren
id|arg
comma
op_amp
id|card-&gt;mgr.gpr
(braket
id|id
)braket
comma
r_sizeof
(paren
r_struct
id|dsp_gpr
)paren
)paren
)paren
id|ret
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_break
suffix:semicolon
r_case
id|CMD_GETCTLGPR
suffix:colon
id|addr
op_assign
id|emu10k1_find_control_gpr
c_func
(paren
op_amp
id|card-&gt;mgr
comma
(paren
r_char
op_star
)paren
id|ctl-&gt;val
comma
op_amp
(paren
(paren
r_char
op_star
)paren
id|ctl-&gt;val
)paren
(braket
id|PATCH_NAME_SIZE
)braket
)paren
suffix:semicolon
id|ctl-&gt;val
(braket
l_int|0
)braket
op_assign
id|sblive_readptr
c_func
(paren
id|card
comma
id|addr
comma
l_int|0
)paren
suffix:semicolon
r_if
c_cond
(paren
id|copy_to_user
c_func
(paren
(paren
r_void
op_star
)paren
id|arg
comma
id|ctl
comma
r_sizeof
(paren
r_struct
id|mixer_private_ioctl
)paren
)paren
)paren
id|ret
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_break
suffix:semicolon
r_case
id|CMD_SETPATCH
suffix:colon
r_if
c_cond
(paren
id|ctl-&gt;val
(braket
l_int|0
)braket
op_eq
l_int|0
)paren
id|memcpy
c_func
(paren
op_amp
id|card-&gt;mgr.rpatch
comma
op_amp
id|ctl-&gt;val
(braket
l_int|1
)braket
comma
r_sizeof
(paren
r_struct
id|dsp_rpatch
)paren
)paren
suffix:semicolon
r_else
(brace
id|page
op_assign
(paren
id|ctl-&gt;val
(braket
l_int|0
)braket
op_minus
l_int|1
)paren
op_div
id|PATCHES_PER_PAGE
suffix:semicolon
r_if
c_cond
(paren
id|page
OG
id|MAX_PATCHES_PAGES
)paren
(brace
id|ret
op_assign
op_minus
id|EINVAL
suffix:semicolon
r_break
suffix:semicolon
)brace
r_if
c_cond
(paren
id|page
op_ge
id|card-&gt;mgr.current_pages
)paren
(brace
r_for
c_loop
(paren
id|i
op_assign
id|card-&gt;mgr.current_pages
suffix:semicolon
id|i
OL
id|page
op_plus
l_int|1
suffix:semicolon
id|i
op_increment
)paren
(brace
id|card-&gt;mgr.patch
(braket
id|i
)braket
op_assign
(paren
r_void
op_star
)paren
id|__get_free_page
c_func
(paren
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
id|card-&gt;mgr.patch
(braket
id|i
)braket
op_eq
l_int|NULL
)paren
(brace
id|card-&gt;mgr.current_pages
op_assign
id|i
suffix:semicolon
id|ret
op_assign
op_minus
id|ENOMEM
suffix:semicolon
r_break
suffix:semicolon
)brace
id|memset
c_func
(paren
id|card-&gt;mgr.patch
(braket
id|i
)braket
comma
l_int|0
comma
id|PAGE_SIZE
)paren
suffix:semicolon
)brace
id|card-&gt;mgr.current_pages
op_assign
id|page
op_plus
l_int|1
suffix:semicolon
)brace
id|patch
op_assign
id|PATCH
c_func
(paren
op_amp
id|card-&gt;mgr
comma
id|ctl-&gt;val
(braket
l_int|0
)braket
op_minus
l_int|1
)paren
suffix:semicolon
id|memcpy
c_func
(paren
id|patch
comma
op_amp
id|ctl-&gt;val
(braket
l_int|1
)braket
comma
r_sizeof
(paren
r_struct
id|dsp_patch
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|patch-&gt;code_size
op_eq
l_int|0
)paren
(brace
r_for
c_loop
(paren
id|i
op_assign
id|page
op_plus
l_int|1
suffix:semicolon
id|i
OL
id|card-&gt;mgr.current_pages
suffix:semicolon
id|i
op_increment
)paren
(brace
id|free_page
c_func
(paren
(paren
r_int
r_int
)paren
id|card-&gt;mgr.patch
(braket
id|i
)braket
)paren
suffix:semicolon
)brace
id|card-&gt;mgr.current_pages
op_assign
id|page
op_plus
l_int|1
suffix:semicolon
)brace
)brace
r_break
suffix:semicolon
r_case
id|CMD_SETGPR
suffix:colon
r_if
c_cond
(paren
id|ctl-&gt;val
(braket
l_int|0
)braket
OG
id|NUM_GPRS
)paren
(brace
id|ret
op_assign
op_minus
id|EINVAL
suffix:semicolon
r_break
suffix:semicolon
)brace
id|memcpy
c_func
(paren
op_amp
id|card-&gt;mgr.gpr
(braket
id|ctl-&gt;val
(braket
l_int|0
)braket
)braket
comma
op_amp
id|ctl-&gt;val
(braket
l_int|1
)braket
comma
r_sizeof
(paren
r_struct
id|dsp_gpr
)paren
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|CMD_SETCTLGPR
suffix:colon
id|addr
op_assign
id|emu10k1_find_control_gpr
c_func
(paren
op_amp
id|card-&gt;mgr
comma
(paren
r_char
op_star
)paren
id|ctl-&gt;val
comma
(paren
r_char
op_star
)paren
id|ctl-&gt;val
op_plus
id|PATCH_NAME_SIZE
)paren
suffix:semicolon
id|emu10k1_set_control_gpr
c_func
(paren
id|card
comma
id|addr
comma
op_star
(paren
(paren
id|s32
op_star
)paren
(paren
(paren
r_char
op_star
)paren
id|ctl-&gt;val
op_plus
l_int|2
op_star
id|PATCH_NAME_SIZE
)paren
)paren
comma
l_int|0
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|CMD_SETGPOUT
suffix:colon
r_if
c_cond
(paren
(paren
(paren
id|ctl-&gt;val
(braket
l_int|0
)braket
OG
l_int|2
)paren
op_logical_and
(paren
op_logical_neg
id|card-&gt;is_audigy
)paren
)paren
op_logical_or
(paren
id|ctl-&gt;val
(braket
l_int|0
)braket
OG
l_int|15
)paren
op_logical_or
id|ctl-&gt;val
(braket
l_int|1
)braket
OG
l_int|1
)paren
(brace
id|ret
op_assign
op_minus
id|EINVAL
suffix:semicolon
r_break
suffix:semicolon
)brace
r_if
c_cond
(paren
id|card-&gt;is_audigy
)paren
id|emu10k1_writefn0
c_func
(paren
id|card
comma
(paren
l_int|1
op_lshift
l_int|24
)paren
op_or
(paren
(paren
id|ctl-&gt;val
(braket
l_int|0
)braket
)paren
op_lshift
l_int|16
)paren
op_or
id|A_IOCFG
comma
id|ctl-&gt;val
(braket
l_int|1
)braket
)paren
suffix:semicolon
r_else
id|emu10k1_writefn0
c_func
(paren
id|card
comma
(paren
l_int|1
op_lshift
l_int|24
)paren
op_or
(paren
(paren
(paren
id|ctl-&gt;val
(braket
l_int|0
)braket
)paren
op_plus
l_int|10
)paren
op_lshift
l_int|16
)paren
op_or
id|HCFG
comma
id|ctl-&gt;val
(braket
l_int|1
)braket
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|CMD_GETGPR2OSS
suffix:colon
id|id
op_assign
id|ctl-&gt;val
(braket
l_int|0
)braket
suffix:semicolon
id|ch
op_assign
id|ctl-&gt;val
(braket
l_int|1
)braket
suffix:semicolon
r_if
c_cond
(paren
id|id
op_ge
id|SOUND_MIXER_NRDEVICES
op_logical_or
id|ch
op_ge
l_int|2
)paren
(brace
id|ret
op_assign
op_minus
id|EINVAL
suffix:semicolon
r_break
suffix:semicolon
)brace
id|ctl-&gt;val
(braket
l_int|2
)braket
op_assign
id|card-&gt;mgr.ctrl_gpr
(braket
id|id
)braket
(braket
id|ch
)braket
suffix:semicolon
r_if
c_cond
(paren
id|copy_to_user
c_func
(paren
(paren
r_void
op_star
)paren
id|arg
comma
id|ctl
comma
r_sizeof
(paren
r_struct
id|mixer_private_ioctl
)paren
)paren
)paren
id|ret
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_break
suffix:semicolon
r_case
id|CMD_SETGPR2OSS
suffix:colon
id|id
op_assign
id|ctl-&gt;val
(braket
l_int|0
)braket
suffix:semicolon
multiline_comment|/* 0 == left, 1 == right */
id|ch
op_assign
id|ctl-&gt;val
(braket
l_int|1
)braket
suffix:semicolon
id|addr
op_assign
id|ctl-&gt;val
(braket
l_int|2
)braket
suffix:semicolon
r_if
c_cond
(paren
id|id
op_ge
id|SOUND_MIXER_NRDEVICES
op_logical_or
id|ch
op_ge
l_int|2
)paren
(brace
id|ret
op_assign
op_minus
id|EINVAL
suffix:semicolon
r_break
suffix:semicolon
)brace
id|card-&gt;mgr.ctrl_gpr
(braket
id|id
)braket
(braket
id|ch
)braket
op_assign
id|addr
suffix:semicolon
r_if
c_cond
(paren
id|card-&gt;is_aps
)paren
r_break
suffix:semicolon
r_if
c_cond
(paren
id|addr
op_ge
l_int|0
)paren
(brace
r_int
r_int
id|state
op_assign
id|card-&gt;ac97-&gt;mixer_state
(braket
id|id
)braket
suffix:semicolon
r_if
c_cond
(paren
id|ch
op_eq
l_int|1
)paren
(brace
id|state
op_rshift_assign
l_int|8
suffix:semicolon
id|card-&gt;ac97-&gt;stereo_mixers
op_or_assign
(paren
l_int|1
op_lshift
id|id
)paren
suffix:semicolon
)brace
id|card-&gt;ac97-&gt;supported_mixers
op_or_assign
(paren
l_int|1
op_lshift
id|id
)paren
suffix:semicolon
r_if
c_cond
(paren
id|id
op_eq
id|SOUND_MIXER_TREBLE
)paren
(brace
id|set_treble
c_func
(paren
id|card
comma
id|card-&gt;ac97-&gt;mixer_state
(braket
id|id
)braket
op_amp
l_int|0xff
comma
(paren
id|card-&gt;ac97-&gt;mixer_state
(braket
id|id
)braket
op_rshift
l_int|8
)paren
op_amp
l_int|0xff
)paren
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|id
op_eq
id|SOUND_MIXER_BASS
)paren
(brace
id|set_bass
c_func
(paren
id|card
comma
id|card-&gt;ac97-&gt;mixer_state
(braket
id|id
)braket
op_amp
l_int|0xff
comma
(paren
id|card-&gt;ac97-&gt;mixer_state
(braket
id|id
)braket
op_rshift
l_int|8
)paren
op_amp
l_int|0xff
)paren
suffix:semicolon
)brace
r_else
id|emu10k1_set_volume_gpr
c_func
(paren
id|card
comma
id|addr
comma
id|state
op_amp
l_int|0xff
comma
id|volume_params
(braket
id|id
)braket
)paren
suffix:semicolon
)brace
r_else
(brace
id|card-&gt;ac97-&gt;stereo_mixers
op_and_assign
op_complement
(paren
l_int|1
op_lshift
id|id
)paren
suffix:semicolon
id|card-&gt;ac97-&gt;stereo_mixers
op_or_assign
id|card-&gt;ac97_stereo_mixers
suffix:semicolon
r_if
c_cond
(paren
id|ch
op_eq
l_int|0
)paren
(brace
id|card-&gt;ac97-&gt;supported_mixers
op_and_assign
op_complement
(paren
l_int|1
op_lshift
id|id
)paren
suffix:semicolon
id|card-&gt;ac97-&gt;supported_mixers
op_or_assign
id|card-&gt;ac97_supported_mixers
suffix:semicolon
)brace
)brace
r_break
suffix:semicolon
r_case
id|CMD_SETPASSTHROUGH
suffix:colon
id|card-&gt;pt.selected
op_assign
id|ctl-&gt;val
(braket
l_int|0
)braket
ques
c_cond
l_int|1
suffix:colon
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|card-&gt;pt.state
op_ne
id|PT_STATE_INACTIVE
)paren
r_break
suffix:semicolon
id|card-&gt;pt.spcs_to_use
op_assign
id|ctl-&gt;val
(braket
l_int|0
)braket
op_amp
l_int|0x07
suffix:semicolon
r_break
suffix:semicolon
r_case
id|CMD_PRIVATE3_VERSION
suffix:colon
id|ctl-&gt;val
(braket
l_int|0
)braket
op_assign
id|PRIVATE3_VERSION
suffix:semicolon
singleline_comment|//private3 version
id|ctl-&gt;val
(braket
l_int|1
)braket
op_assign
id|MAJOR_VER
suffix:semicolon
singleline_comment|//major driver version
id|ctl-&gt;val
(braket
l_int|2
)braket
op_assign
id|MINOR_VER
suffix:semicolon
singleline_comment|//minor driver version
id|ctl-&gt;val
(braket
l_int|3
)braket
op_assign
id|card-&gt;is_audigy
suffix:semicolon
singleline_comment|//1=card is audigy
r_if
c_cond
(paren
id|card-&gt;is_audigy
)paren
id|ctl-&gt;val
(braket
l_int|4
)braket
op_assign
id|emu10k1_readfn0
c_func
(paren
id|card
comma
l_int|0x18
)paren
suffix:semicolon
r_if
c_cond
(paren
id|copy_to_user
c_func
(paren
(paren
r_void
op_star
)paren
id|arg
comma
id|ctl
comma
r_sizeof
(paren
r_struct
id|mixer_private_ioctl
)paren
)paren
)paren
id|ret
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_break
suffix:semicolon
r_case
id|CMD_AC97_BOOST
suffix:colon
r_if
c_cond
(paren
id|ctl-&gt;val
(braket
l_int|0
)braket
)paren
id|emu10k1_ac97_write
c_func
(paren
id|card-&gt;ac97
comma
l_int|0x18
comma
l_int|0x0
)paren
suffix:semicolon
r_else
id|emu10k1_ac97_write
c_func
(paren
id|card-&gt;ac97
comma
l_int|0x18
comma
l_int|0x0808
)paren
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
id|ret
op_assign
op_minus
id|EINVAL
suffix:semicolon
r_break
suffix:semicolon
)brace
id|kfree
c_func
(paren
id|ctl
)paren
suffix:semicolon
r_return
id|ret
suffix:semicolon
r_break
suffix:semicolon
r_case
id|SOUND_MIXER_PRIVATE4
suffix:colon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
op_amp
id|size
comma
(paren
r_void
op_star
)paren
id|arg
comma
r_sizeof
(paren
id|size
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|DPD
c_func
(paren
l_int|2
comma
l_string|&quot;External tram size %#x&bslash;n&quot;
comma
id|size
)paren
suffix:semicolon
r_if
c_cond
(paren
id|size
OG
l_int|0x1fffff
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
id|size_reg
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|size
op_ne
l_int|0
)paren
(brace
id|size
op_assign
(paren
id|size
op_minus
l_int|1
)paren
op_rshift
l_int|14
suffix:semicolon
r_while
c_loop
(paren
id|size
)paren
(brace
id|size
op_rshift_assign
l_int|1
suffix:semicolon
id|size_reg
op_increment
suffix:semicolon
)brace
id|size
op_assign
l_int|0x4000
op_lshift
id|size_reg
suffix:semicolon
)brace
id|DPD
c_func
(paren
l_int|2
comma
l_string|&quot;External tram size %#x %#x&bslash;n&quot;
comma
id|size
comma
id|size_reg
)paren
suffix:semicolon
r_if
c_cond
(paren
id|size
op_ne
id|card-&gt;tankmem.size
)paren
(brace
r_if
c_cond
(paren
id|card-&gt;tankmem.size
OG
l_int|0
)paren
(brace
id|emu10k1_writefn0
c_func
(paren
id|card
comma
id|HCFG_LOCKTANKCACHE
comma
l_int|1
)paren
suffix:semicolon
id|sblive_writeptr_tag
c_func
(paren
id|card
comma
l_int|0
comma
id|TCB
comma
l_int|0
comma
id|TCBS
comma
l_int|0
comma
id|TAGLIST_END
)paren
suffix:semicolon
id|pci_free_consistent
c_func
(paren
id|card-&gt;pci_dev
comma
id|card-&gt;tankmem.size
comma
id|card-&gt;tankmem.addr
comma
id|card-&gt;tankmem.dma_handle
)paren
suffix:semicolon
id|card-&gt;tankmem.size
op_assign
l_int|0
suffix:semicolon
)brace
r_if
c_cond
(paren
id|size
op_ne
l_int|0
)paren
(brace
id|card-&gt;tankmem.addr
op_assign
id|pci_alloc_consistent
c_func
(paren
id|card-&gt;pci_dev
comma
id|size
comma
op_amp
id|card-&gt;tankmem.dma_handle
)paren
suffix:semicolon
r_if
c_cond
(paren
id|card-&gt;tankmem.addr
op_eq
l_int|NULL
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
id|card-&gt;tankmem.size
op_assign
id|size
suffix:semicolon
id|sblive_writeptr_tag
c_func
(paren
id|card
comma
l_int|0
comma
id|TCB
comma
(paren
id|u32
)paren
id|card-&gt;tankmem.dma_handle
comma
id|TCBS
comma
(paren
id|u32
)paren
id|size_reg
comma
id|TAGLIST_END
)paren
suffix:semicolon
id|emu10k1_writefn0
c_func
(paren
id|card
comma
id|HCFG_LOCKTANKCACHE
comma
l_int|0
)paren
suffix:semicolon
)brace
)brace
r_return
l_int|0
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
r_break
suffix:semicolon
)brace
r_return
op_minus
id|EINVAL
suffix:semicolon
)brace
DECL|function|emu10k1_dsp_mixer
r_static
r_int
id|emu10k1_dsp_mixer
c_func
(paren
r_struct
id|emu10k1_card
op_star
id|card
comma
r_int
r_int
id|oss_mixer
comma
r_int
r_int
id|arg
)paren
(brace
r_int
r_int
id|left
comma
id|right
suffix:semicolon
r_int
id|val
suffix:semicolon
r_int
id|scale
suffix:semicolon
id|card-&gt;ac97-&gt;modcnt
op_increment
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|val
comma
(paren
r_int
op_star
)paren
id|arg
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
multiline_comment|/* cleanse input a little */
id|right
op_assign
(paren
(paren
id|val
op_rshift
l_int|8
)paren
op_amp
l_int|0xff
)paren
suffix:semicolon
id|left
op_assign
(paren
id|val
op_amp
l_int|0xff
)paren
suffix:semicolon
r_if
c_cond
(paren
id|right
OG
l_int|100
)paren
id|right
op_assign
l_int|100
suffix:semicolon
r_if
c_cond
(paren
id|left
OG
l_int|100
)paren
id|left
op_assign
l_int|100
suffix:semicolon
id|card-&gt;ac97-&gt;mixer_state
(braket
id|oss_mixer
)braket
op_assign
(paren
id|right
op_lshift
l_int|8
)paren
op_or
id|left
suffix:semicolon
r_if
c_cond
(paren
id|oss_mixer
op_eq
id|SOUND_MIXER_TREBLE
)paren
(brace
id|set_treble
c_func
(paren
id|card
comma
id|left
comma
id|right
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
r_if
c_cond
(paren
id|oss_mixer
op_eq
id|SOUND_MIXER_BASS
)paren
(brace
id|set_bass
c_func
(paren
id|card
comma
id|left
comma
id|right
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
r_if
c_cond
(paren
id|oss_mixer
op_eq
id|SOUND_MIXER_VOLUME
)paren
id|scale
op_assign
l_int|1
op_lshift
id|card-&gt;ac97-&gt;bit_resolution
suffix:semicolon
r_else
id|scale
op_assign
id|volume_params
(braket
id|oss_mixer
)braket
suffix:semicolon
id|emu10k1_set_volume_gpr
c_func
(paren
id|card
comma
id|card-&gt;mgr.ctrl_gpr
(braket
id|oss_mixer
)braket
(braket
l_int|0
)braket
comma
id|left
comma
id|scale
)paren
suffix:semicolon
id|emu10k1_set_volume_gpr
c_func
(paren
id|card
comma
id|card-&gt;mgr.ctrl_gpr
(braket
id|oss_mixer
)braket
(braket
l_int|1
)braket
comma
id|right
comma
id|scale
)paren
suffix:semicolon
r_if
c_cond
(paren
id|card-&gt;ac97_supported_mixers
op_amp
(paren
l_int|1
op_lshift
id|oss_mixer
)paren
)paren
id|card-&gt;ac97
op_member_access_from_pointer
id|write_mixer
c_func
(paren
id|card-&gt;ac97
comma
id|oss_mixer
comma
id|left
comma
id|right
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|emu10k1_mixer_ioctl
r_static
r_int
id|emu10k1_mixer_ioctl
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|file
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_int
id|ret
suffix:semicolon
r_struct
id|emu10k1_card
op_star
id|card
op_assign
id|file-&gt;private_data
suffix:semicolon
r_int
r_int
id|oss_mixer
op_assign
id|_IOC_NR
c_func
(paren
id|cmd
)paren
suffix:semicolon
id|ret
op_assign
op_minus
id|EINVAL
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|card-&gt;is_aps
)paren
(brace
r_if
c_cond
(paren
id|cmd
op_eq
id|SOUND_MIXER_INFO
)paren
(brace
id|mixer_info
id|info
suffix:semicolon
id|strlcpy
c_func
(paren
id|info.id
comma
id|card-&gt;ac97-&gt;name
comma
r_sizeof
(paren
id|info.id
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|card-&gt;is_audigy
)paren
id|strlcpy
c_func
(paren
id|info.name
comma
l_string|&quot;Audigy - Emu10k1&quot;
comma
r_sizeof
(paren
id|info.name
)paren
)paren
suffix:semicolon
r_else
id|strlcpy
c_func
(paren
id|info.name
comma
l_string|&quot;Creative SBLive - Emu10k1&quot;
comma
r_sizeof
(paren
id|info.name
)paren
)paren
suffix:semicolon
id|info.modify_counter
op_assign
id|card-&gt;ac97-&gt;modcnt
suffix:semicolon
r_if
c_cond
(paren
id|copy_to_user
c_func
(paren
(paren
r_void
op_star
)paren
id|arg
comma
op_amp
id|info
comma
r_sizeof
(paren
id|info
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
r_if
c_cond
(paren
(paren
id|_SIOC_DIR
c_func
(paren
id|cmd
)paren
op_eq
(paren
id|_SIOC_WRITE
op_or
id|_SIOC_READ
)paren
)paren
op_logical_and
id|oss_mixer
op_le
id|SOUND_MIXER_NRDEVICES
)paren
id|ret
op_assign
id|emu10k1_dsp_mixer
c_func
(paren
id|card
comma
id|oss_mixer
comma
id|arg
)paren
suffix:semicolon
r_else
id|ret
op_assign
id|card-&gt;ac97
op_member_access_from_pointer
id|mixer_ioctl
c_func
(paren
id|card-&gt;ac97
comma
id|cmd
comma
id|arg
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|ret
OL
l_int|0
)paren
id|ret
op_assign
id|emu10k1_private_mixer
c_func
(paren
id|card
comma
id|cmd
comma
id|arg
)paren
suffix:semicolon
r_return
id|ret
suffix:semicolon
)brace
DECL|function|emu10k1_mixer_open
r_static
r_int
id|emu10k1_mixer_open
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|file
)paren
(brace
r_int
id|minor
op_assign
id|iminor
c_func
(paren
id|inode
)paren
suffix:semicolon
r_struct
id|emu10k1_card
op_star
id|card
op_assign
l_int|NULL
suffix:semicolon
r_struct
id|list_head
op_star
id|entry
suffix:semicolon
id|DPF
c_func
(paren
l_int|4
comma
l_string|&quot;emu10k1_mixer_open()&bslash;n&quot;
)paren
suffix:semicolon
id|list_for_each
c_func
(paren
id|entry
comma
op_amp
id|emu10k1_devs
)paren
(brace
id|card
op_assign
id|list_entry
c_func
(paren
id|entry
comma
r_struct
id|emu10k1_card
comma
id|list
)paren
suffix:semicolon
r_if
c_cond
(paren
id|card-&gt;ac97-&gt;dev_mixer
op_eq
id|minor
)paren
r_goto
id|match
suffix:semicolon
)brace
r_return
op_minus
id|ENODEV
suffix:semicolon
id|match
suffix:colon
id|file-&gt;private_data
op_assign
id|card
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|emu10k1_mixer_release
r_static
r_int
id|emu10k1_mixer_release
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|file
)paren
(brace
id|DPF
c_func
(paren
l_int|4
comma
l_string|&quot;emu10k1_mixer_release()&bslash;n&quot;
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|variable|emu10k1_mixer_fops
r_struct
id|file_operations
id|emu10k1_mixer_fops
op_assign
(brace
dot
id|owner
op_assign
id|THIS_MODULE
comma
dot
id|llseek
op_assign
id|no_llseek
comma
dot
id|ioctl
op_assign
id|emu10k1_mixer_ioctl
comma
dot
id|open
op_assign
id|emu10k1_mixer_open
comma
dot
id|release
op_assign
id|emu10k1_mixer_release
comma
)brace
suffix:semicolon
eof
