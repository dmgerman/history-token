multiline_comment|/*&n;  File: linux/mbcache.h&n;&n;  (C) 2001 by Andreas Gruenbacher, &lt;a.gruenbacher@computer.org&gt;&n;*/
multiline_comment|/* Hardwire the number of additional indexes */
DECL|macro|MB_CACHE_INDEXES_COUNT
mdefine_line|#define MB_CACHE_INDEXES_COUNT 1
r_struct
id|mb_cache_entry
suffix:semicolon
DECL|struct|mb_cache_op
r_struct
id|mb_cache_op
(brace
DECL|member|free
r_int
(paren
op_star
id|free
)paren
(paren
r_struct
id|mb_cache_entry
op_star
comma
r_int
)paren
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|mb_cache
r_struct
id|mb_cache
(brace
DECL|member|c_cache_list
r_struct
id|list_head
id|c_cache_list
suffix:semicolon
DECL|member|c_name
r_const
r_char
op_star
id|c_name
suffix:semicolon
DECL|member|c_op
r_struct
id|mb_cache_op
id|c_op
suffix:semicolon
DECL|member|c_entry_count
id|atomic_t
id|c_entry_count
suffix:semicolon
DECL|member|c_bucket_bits
r_int
id|c_bucket_bits
suffix:semicolon
macro_line|#ifndef MB_CACHE_INDEXES_COUNT
DECL|member|c_indexes_count
r_int
id|c_indexes_count
suffix:semicolon
macro_line|#endif
DECL|member|c_entry_cache
id|kmem_cache_t
op_star
id|c_entry_cache
suffix:semicolon
DECL|member|c_block_hash
r_struct
id|list_head
op_star
id|c_block_hash
suffix:semicolon
DECL|member|c_indexes_hash
r_struct
id|list_head
op_star
id|c_indexes_hash
(braket
l_int|0
)braket
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|mb_cache_entry_index
r_struct
id|mb_cache_entry_index
(brace
DECL|member|o_list
r_struct
id|list_head
id|o_list
suffix:semicolon
DECL|member|o_key
r_int
r_int
id|o_key
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|mb_cache_entry
r_struct
id|mb_cache_entry
(brace
DECL|member|e_lru_list
r_struct
id|list_head
id|e_lru_list
suffix:semicolon
DECL|member|e_cache
r_struct
id|mb_cache
op_star
id|e_cache
suffix:semicolon
DECL|member|e_used
id|atomic_t
id|e_used
suffix:semicolon
DECL|member|e_bdev
r_struct
id|block_device
op_star
id|e_bdev
suffix:semicolon
DECL|member|e_block
id|sector_t
id|e_block
suffix:semicolon
DECL|member|e_block_list
r_struct
id|list_head
id|e_block_list
suffix:semicolon
DECL|member|e_indexes
r_struct
id|mb_cache_entry_index
id|e_indexes
(braket
l_int|0
)braket
suffix:semicolon
)brace
suffix:semicolon
multiline_comment|/* Functions on caches */
r_struct
id|mb_cache
op_star
id|mb_cache_create
c_func
(paren
r_const
r_char
op_star
comma
r_struct
id|mb_cache_op
op_star
comma
r_int
comma
r_int
comma
r_int
)paren
suffix:semicolon
r_void
id|mb_cache_shrink
c_func
(paren
r_struct
id|mb_cache
op_star
comma
r_struct
id|block_device
op_star
)paren
suffix:semicolon
r_void
id|mb_cache_destroy
c_func
(paren
r_struct
id|mb_cache
op_star
)paren
suffix:semicolon
multiline_comment|/* Functions on cache entries */
r_struct
id|mb_cache_entry
op_star
id|mb_cache_entry_alloc
c_func
(paren
r_struct
id|mb_cache
op_star
)paren
suffix:semicolon
r_int
id|mb_cache_entry_insert
c_func
(paren
r_struct
id|mb_cache_entry
op_star
comma
r_struct
id|block_device
op_star
comma
id|sector_t
comma
r_int
r_int
(braket
)braket
)paren
suffix:semicolon
r_void
id|mb_cache_entry_rehash
c_func
(paren
r_struct
id|mb_cache_entry
op_star
comma
r_int
r_int
(braket
)braket
)paren
suffix:semicolon
r_void
id|mb_cache_entry_release
c_func
(paren
r_struct
id|mb_cache_entry
op_star
)paren
suffix:semicolon
r_void
id|mb_cache_entry_free
c_func
(paren
r_struct
id|mb_cache_entry
op_star
)paren
suffix:semicolon
r_struct
id|mb_cache_entry
op_star
id|mb_cache_entry_get
c_func
(paren
r_struct
id|mb_cache
op_star
comma
r_struct
id|block_device
op_star
comma
id|sector_t
)paren
suffix:semicolon
macro_line|#if !defined(MB_CACHE_INDEXES_COUNT) || (MB_CACHE_INDEXES_COUNT &gt; 0)
r_struct
id|mb_cache_entry
op_star
id|mb_cache_entry_find_first
c_func
(paren
r_struct
id|mb_cache
op_star
id|cache
comma
r_int
comma
r_struct
id|block_device
op_star
comma
r_int
r_int
)paren
suffix:semicolon
r_struct
id|mb_cache_entry
op_star
id|mb_cache_entry_find_next
c_func
(paren
r_struct
id|mb_cache_entry
op_star
comma
r_int
comma
r_struct
id|block_device
op_star
comma
r_int
r_int
)paren
suffix:semicolon
macro_line|#endif
eof
