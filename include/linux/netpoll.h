multiline_comment|/*&n; * Common code for low-level network console, dump, and debugger code&n; *&n; * Derived from netconsole, kgdb-over-ethernet, and netdump patches&n; */
macro_line|#ifndef _LINUX_NETPOLL_H
DECL|macro|_LINUX_NETPOLL_H
mdefine_line|#define _LINUX_NETPOLL_H
macro_line|#include &lt;linux/netdevice.h&gt;
macro_line|#include &lt;linux/interrupt.h&gt;
macro_line|#include &lt;linux/list.h&gt;
r_struct
id|netpoll
suffix:semicolon
DECL|struct|netpoll
r_struct
id|netpoll
(brace
DECL|member|dev
r_struct
id|net_device
op_star
id|dev
suffix:semicolon
DECL|member|dev_name
DECL|member|name
r_char
id|dev_name
(braket
l_int|16
)braket
comma
op_star
id|name
suffix:semicolon
DECL|member|rx_flags
r_int
id|rx_flags
suffix:semicolon
DECL|member|rx_hook
r_void
(paren
op_star
id|rx_hook
)paren
(paren
r_struct
id|netpoll
op_star
comma
r_int
comma
r_char
op_star
comma
r_int
)paren
suffix:semicolon
DECL|member|local_ip
DECL|member|remote_ip
id|u32
id|local_ip
comma
id|remote_ip
suffix:semicolon
DECL|member|local_port
DECL|member|remote_port
id|u16
id|local_port
comma
id|remote_port
suffix:semicolon
DECL|member|local_mac
DECL|member|remote_mac
r_int
r_char
id|local_mac
(braket
l_int|6
)braket
comma
id|remote_mac
(braket
l_int|6
)braket
suffix:semicolon
)brace
suffix:semicolon
r_void
id|netpoll_poll
c_func
(paren
r_struct
id|netpoll
op_star
id|np
)paren
suffix:semicolon
r_void
id|netpoll_send_udp
c_func
(paren
r_struct
id|netpoll
op_star
id|np
comma
r_const
r_char
op_star
id|msg
comma
r_int
id|len
)paren
suffix:semicolon
r_int
id|netpoll_parse_options
c_func
(paren
r_struct
id|netpoll
op_star
id|np
comma
r_char
op_star
id|opt
)paren
suffix:semicolon
r_int
id|netpoll_setup
c_func
(paren
r_struct
id|netpoll
op_star
id|np
)paren
suffix:semicolon
r_int
id|netpoll_trap
c_func
(paren
r_void
)paren
suffix:semicolon
r_void
id|netpoll_set_trap
c_func
(paren
r_int
id|trap
)paren
suffix:semicolon
r_void
id|netpoll_cleanup
c_func
(paren
r_struct
id|netpoll
op_star
id|np
)paren
suffix:semicolon
r_int
id|__netpoll_rx
c_func
(paren
r_struct
id|sk_buff
op_star
id|skb
)paren
suffix:semicolon
macro_line|#ifdef CONFIG_NETPOLL
DECL|function|netpoll_rx
r_static
r_inline
r_int
id|netpoll_rx
c_func
(paren
r_struct
id|sk_buff
op_star
id|skb
)paren
(brace
r_return
id|skb-&gt;dev-&gt;np
op_logical_and
id|skb-&gt;dev-&gt;np-&gt;rx_flags
op_logical_and
id|__netpoll_rx
c_func
(paren
id|skb
)paren
suffix:semicolon
)brace
macro_line|#else
DECL|macro|netpoll_rx
mdefine_line|#define netpoll_rx(a) 0
macro_line|#endif
macro_line|#endif
eof
