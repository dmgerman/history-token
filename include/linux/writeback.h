multiline_comment|/*&n; * include/linux/writeback.h.&n; *&n; * These declarations are private to fs/ and mm/.&n; * Declarations which are exported to filesystems do not&n; * get placed here.&n; */
macro_line|#ifndef WRITEBACK_H
DECL|macro|WRITEBACK_H
mdefine_line|#define WRITEBACK_H
r_extern
id|spinlock_t
id|inode_lock
suffix:semicolon
r_extern
r_struct
id|list_head
id|inode_in_use
suffix:semicolon
r_extern
r_struct
id|list_head
id|inode_unused
suffix:semicolon
multiline_comment|/*&n; * Yes, writeback.h requires sched.h&n; * No, sched.h is not included from here.&n; */
DECL|function|current_is_pdflush
r_static
r_inline
r_int
id|current_is_pdflush
c_func
(paren
r_void
)paren
(brace
r_return
id|current-&gt;flags
op_amp
id|PF_FLUSHER
suffix:semicolon
)brace
multiline_comment|/*&n; * fs/fs-writeback.c&n; */
DECL|macro|WB_SYNC_NONE
mdefine_line|#define WB_SYNC_NONE&t;0&t;/* Don&squot;t wait on anything */
DECL|macro|WB_SYNC_LAST
mdefine_line|#define WB_SYNC_LAST&t;1&t;/* Wait on the last-written mapping */
DECL|macro|WB_SYNC_ALL
mdefine_line|#define WB_SYNC_ALL&t;2&t;/* Wait on every mapping */
r_void
id|try_to_writeback_unused_inodes
c_func
(paren
r_int
r_int
id|pexclusive
)paren
suffix:semicolon
r_void
id|writeback_single_inode
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_int
id|sync
comma
r_int
op_star
id|nr_to_write
)paren
suffix:semicolon
r_void
id|writeback_unlocked_inodes
c_func
(paren
r_int
op_star
id|nr_to_write
comma
r_int
id|sync_mode
comma
r_int
r_int
op_star
id|older_than_this
)paren
suffix:semicolon
r_void
id|writeback_inodes_sb
c_func
(paren
r_struct
id|super_block
op_star
)paren
suffix:semicolon
r_void
id|__wait_on_inode
c_func
(paren
r_struct
id|inode
op_star
id|inode
)paren
suffix:semicolon
r_void
id|sync_inodes
c_func
(paren
r_void
)paren
suffix:semicolon
DECL|function|wait_on_inode
r_static
r_inline
r_void
id|wait_on_inode
c_func
(paren
r_struct
id|inode
op_star
id|inode
)paren
(brace
r_if
c_cond
(paren
id|inode-&gt;i_state
op_amp
id|I_LOCK
)paren
id|__wait_on_inode
c_func
(paren
id|inode
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * mm/page-writeback.c&n; */
multiline_comment|/*&n; * How much data to write out at a time in various places.  This isn&squot;t&n; * really very important - it&squot;s just here to prevent any thread from&n; * locking an inode for too long and blocking other threads which wish&n; * to write the same file for allocation throttling purposes.&n; */
DECL|macro|WRITEOUT_PAGES
mdefine_line|#define WRITEOUT_PAGES&t;((4096 * 1024) / PAGE_CACHE_SIZE)
r_void
id|balance_dirty_pages
c_func
(paren
r_struct
id|address_space
op_star
id|mapping
)paren
suffix:semicolon
r_void
id|balance_dirty_pages_ratelimited
c_func
(paren
r_struct
id|address_space
op_star
id|mapping
)paren
suffix:semicolon
r_int
id|pdflush_flush
c_func
(paren
r_int
r_int
id|nr_pages
)paren
suffix:semicolon
r_int
id|pdflush_operation
c_func
(paren
r_void
(paren
op_star
id|fn
)paren
(paren
r_int
r_int
)paren
comma
r_int
r_int
id|arg0
)paren
suffix:semicolon
macro_line|#endif&t;&t;/* WRITEBACK_H */
eof
