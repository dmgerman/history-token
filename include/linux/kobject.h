multiline_comment|/*&n; * kobject.h - generic kernel object infrastructure.&n; *&n; */
macro_line|#if defined(__KERNEL__) &amp;&amp; !defined(_KOBJECT_H_)
DECL|macro|_KOBJECT_H_
mdefine_line|#define _KOBJECT_H_
macro_line|#include &lt;linux/types.h&gt;
macro_line|#include &lt;linux/list.h&gt;
macro_line|#include &lt;linux/sysfs.h&gt;
macro_line|#include &lt;linux/rwsem.h&gt;
macro_line|#include &lt;asm/atomic.h&gt;
DECL|macro|KOBJ_NAME_LEN
mdefine_line|#define KOBJ_NAME_LEN&t;16
DECL|struct|kobject
r_struct
id|kobject
(brace
DECL|member|name
r_char
id|name
(braket
id|KOBJ_NAME_LEN
)braket
suffix:semicolon
DECL|member|refcount
id|atomic_t
id|refcount
suffix:semicolon
DECL|member|entry
r_struct
id|list_head
id|entry
suffix:semicolon
DECL|member|parent
r_struct
id|kobject
op_star
id|parent
suffix:semicolon
DECL|member|subsys
r_struct
id|subsystem
op_star
id|subsys
suffix:semicolon
DECL|member|kset
r_struct
id|kset
op_star
id|kset
suffix:semicolon
DECL|member|ktype
r_struct
id|kobj_type
op_star
id|ktype
suffix:semicolon
DECL|member|dentry
r_struct
id|dentry
op_star
id|dentry
suffix:semicolon
)brace
suffix:semicolon
r_extern
r_void
id|kobject_init
c_func
(paren
r_struct
id|kobject
op_star
)paren
suffix:semicolon
r_extern
r_void
id|kobject_cleanup
c_func
(paren
r_struct
id|kobject
op_star
)paren
suffix:semicolon
r_extern
r_int
id|kobject_add
c_func
(paren
r_struct
id|kobject
op_star
)paren
suffix:semicolon
r_extern
r_void
id|kobject_del
c_func
(paren
r_struct
id|kobject
op_star
)paren
suffix:semicolon
r_extern
r_int
id|kobject_register
c_func
(paren
r_struct
id|kobject
op_star
)paren
suffix:semicolon
r_extern
r_void
id|kobject_unregister
c_func
(paren
r_struct
id|kobject
op_star
)paren
suffix:semicolon
r_extern
r_struct
id|kobject
op_star
id|kobject_get
c_func
(paren
r_struct
id|kobject
op_star
)paren
suffix:semicolon
r_extern
r_void
id|kobject_put
c_func
(paren
r_struct
id|kobject
op_star
)paren
suffix:semicolon
DECL|struct|kobj_type
r_struct
id|kobj_type
(brace
DECL|member|release
r_void
(paren
op_star
id|release
)paren
(paren
r_struct
id|kobject
op_star
)paren
suffix:semicolon
DECL|member|sysfs_ops
r_struct
id|sysfs_ops
op_star
id|sysfs_ops
suffix:semicolon
DECL|member|default_attrs
r_struct
id|attribute
op_star
op_star
id|default_attrs
suffix:semicolon
)brace
suffix:semicolon
multiline_comment|/**&n; *&t;kset - a set of kobjects of a specific type, belonging&n; *&t;to a specific subsystem.&n; *&n; *&t;All kobjects of a kset should be embedded in an identical &n; *&t;type. This type may have a descriptor, which the kset points&n; *&t;to. This allows there to exist sets of objects of the same&n; *&t;type in different subsystems.&n; *&n; *&t;A subsystem does not have to be a list of only one type &n; *&t;of object; multiple ksets can belong to one subsystem. All &n; *&t;ksets of a subsystem share the subsystem&squot;s lock.&n; *&n; */
DECL|struct|kset
r_struct
id|kset
(brace
DECL|member|subsys
r_struct
id|subsystem
op_star
id|subsys
suffix:semicolon
DECL|member|ktype
r_struct
id|kobj_type
op_star
id|ktype
suffix:semicolon
DECL|member|list
r_struct
id|list_head
id|list
suffix:semicolon
DECL|member|kobj
r_struct
id|kobject
id|kobj
suffix:semicolon
)brace
suffix:semicolon
r_extern
r_void
id|kset_init
c_func
(paren
r_struct
id|kset
op_star
id|k
)paren
suffix:semicolon
r_extern
r_int
id|kset_add
c_func
(paren
r_struct
id|kset
op_star
id|k
)paren
suffix:semicolon
r_extern
r_int
id|kset_register
c_func
(paren
r_struct
id|kset
op_star
id|k
)paren
suffix:semicolon
r_extern
r_void
id|kset_unregister
c_func
(paren
r_struct
id|kset
op_star
id|k
)paren
suffix:semicolon
DECL|function|to_kset
r_static
r_inline
r_struct
id|kset
op_star
id|to_kset
c_func
(paren
r_struct
id|kobject
op_star
id|kobj
)paren
(brace
r_return
id|container_of
c_func
(paren
id|kobj
comma
r_struct
id|kset
comma
id|kobj
)paren
suffix:semicolon
)brace
DECL|function|kset_get
r_static
r_inline
r_struct
id|kset
op_star
id|kset_get
c_func
(paren
r_struct
id|kset
op_star
id|k
)paren
(brace
r_return
id|k
ques
c_cond
id|to_kset
c_func
(paren
id|kobject_get
c_func
(paren
op_amp
id|k-&gt;kobj
)paren
)paren
suffix:colon
l_int|NULL
suffix:semicolon
)brace
DECL|function|kset_put
r_static
r_inline
r_void
id|kset_put
c_func
(paren
r_struct
id|kset
op_star
id|k
)paren
(brace
id|kobject_put
c_func
(paren
op_amp
id|k-&gt;kobj
)paren
suffix:semicolon
)brace
DECL|struct|subsystem
r_struct
id|subsystem
(brace
DECL|member|kset
r_struct
id|kset
id|kset
suffix:semicolon
DECL|member|kobj
r_struct
id|kobject
id|kobj
suffix:semicolon
DECL|member|rwsem
r_struct
id|rw_semaphore
id|rwsem
suffix:semicolon
)brace
suffix:semicolon
r_extern
r_void
id|subsystem_init
c_func
(paren
r_struct
id|subsystem
op_star
)paren
suffix:semicolon
r_extern
r_int
id|subsystem_register
c_func
(paren
r_struct
id|subsystem
op_star
)paren
suffix:semicolon
r_extern
r_void
id|subsystem_unregister
c_func
(paren
r_struct
id|subsystem
op_star
)paren
suffix:semicolon
DECL|function|subsys_get
r_static
r_inline
r_struct
id|subsystem
op_star
id|subsys_get
c_func
(paren
r_struct
id|subsystem
op_star
id|s
)paren
(brace
r_return
id|s
ques
c_cond
id|container_of
c_func
(paren
id|kset_get
c_func
(paren
op_amp
id|s-&gt;kset
)paren
comma
r_struct
id|subsystem
comma
id|kset
)paren
suffix:colon
l_int|NULL
suffix:semicolon
)brace
DECL|function|subsys_put
r_static
r_inline
r_void
id|subsys_put
c_func
(paren
r_struct
id|subsystem
op_star
id|s
)paren
(brace
id|kset_put
c_func
(paren
op_amp
id|s-&gt;kset
)paren
suffix:semicolon
)brace
DECL|struct|subsys_attribute
r_struct
id|subsys_attribute
(brace
DECL|member|attr
r_struct
id|attribute
id|attr
suffix:semicolon
DECL|member|show
id|ssize_t
(paren
op_star
id|show
)paren
(paren
r_struct
id|subsystem
op_star
comma
r_char
op_star
comma
r_int
comma
id|loff_t
)paren
suffix:semicolon
DECL|member|store
id|ssize_t
(paren
op_star
id|store
)paren
(paren
r_struct
id|subsystem
op_star
comma
r_const
r_char
op_star
comma
r_int
comma
id|loff_t
)paren
suffix:semicolon
)brace
suffix:semicolon
r_extern
r_int
id|subsys_create_file
c_func
(paren
r_struct
id|subsystem
op_star
comma
r_struct
id|subsys_attribute
op_star
)paren
suffix:semicolon
r_extern
r_void
id|subsys_remove_file
c_func
(paren
r_struct
id|subsystem
op_star
comma
r_struct
id|subsys_attribute
op_star
)paren
suffix:semicolon
macro_line|#endif /* _KOBJECT_H_ */
eof
