macro_line|#ifndef _LINUX_PROFILE_H
DECL|macro|_LINUX_PROFILE_H
mdefine_line|#define _LINUX_PROFILE_H
macro_line|#ifdef __KERNEL__
macro_line|#include &lt;linux/kernel.h&gt;
macro_line|#include &lt;linux/config.h&gt;
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;linux/cpumask.h&gt;
macro_line|#include &lt;asm/errno.h&gt;
DECL|macro|CPU_PROFILING
mdefine_line|#define CPU_PROFILING&t;1
DECL|macro|SCHED_PROFILING
mdefine_line|#define SCHED_PROFILING&t;2
r_struct
id|proc_dir_entry
suffix:semicolon
r_struct
id|pt_regs
suffix:semicolon
multiline_comment|/* init basic kernel profiler */
r_void
id|__init
id|profile_init
c_func
(paren
r_void
)paren
suffix:semicolon
r_void
id|profile_tick
c_func
(paren
r_int
comma
r_struct
id|pt_regs
op_star
)paren
suffix:semicolon
r_void
id|profile_hit
c_func
(paren
r_int
comma
r_void
op_star
)paren
suffix:semicolon
macro_line|#ifdef CONFIG_PROC_FS
r_void
id|create_prof_cpu_mask
c_func
(paren
r_struct
id|proc_dir_entry
op_star
)paren
suffix:semicolon
macro_line|#else
DECL|macro|create_prof_cpu_mask
mdefine_line|#define create_prof_cpu_mask(x)&t;&t;&t;do { (void)(x); } while (0)
macro_line|#endif
DECL|enum|profile_type
r_enum
id|profile_type
(brace
DECL|enumerator|PROFILE_TASK_EXIT
id|PROFILE_TASK_EXIT
comma
DECL|enumerator|PROFILE_MUNMAP
id|PROFILE_MUNMAP
)brace
suffix:semicolon
macro_line|#ifdef CONFIG_PROFILING
r_struct
id|notifier_block
suffix:semicolon
r_struct
id|task_struct
suffix:semicolon
r_struct
id|mm_struct
suffix:semicolon
multiline_comment|/* task is in do_exit() */
r_void
id|profile_task_exit
c_func
(paren
r_struct
id|task_struct
op_star
id|task
)paren
suffix:semicolon
multiline_comment|/* task is dead, free task struct ? Returns 1 if&n; * the task was taken, 0 if the task should be freed.&n; */
r_int
id|profile_handoff_task
c_func
(paren
r_struct
id|task_struct
op_star
id|task
)paren
suffix:semicolon
multiline_comment|/* sys_munmap */
r_void
id|profile_munmap
c_func
(paren
r_int
r_int
id|addr
)paren
suffix:semicolon
r_int
id|task_handoff_register
c_func
(paren
r_struct
id|notifier_block
op_star
id|n
)paren
suffix:semicolon
r_int
id|task_handoff_unregister
c_func
(paren
r_struct
id|notifier_block
op_star
id|n
)paren
suffix:semicolon
r_int
id|profile_event_register
c_func
(paren
r_enum
id|profile_type
comma
r_struct
id|notifier_block
op_star
id|n
)paren
suffix:semicolon
r_int
id|profile_event_unregister
c_func
(paren
r_enum
id|profile_type
comma
r_struct
id|notifier_block
op_star
id|n
)paren
suffix:semicolon
r_int
id|register_timer_hook
c_func
(paren
r_int
(paren
op_star
id|hook
)paren
(paren
r_struct
id|pt_regs
op_star
)paren
)paren
suffix:semicolon
r_void
id|unregister_timer_hook
c_func
(paren
r_int
(paren
op_star
id|hook
)paren
(paren
r_struct
id|pt_regs
op_star
)paren
)paren
suffix:semicolon
multiline_comment|/* Timer based profiling hook */
r_extern
r_int
(paren
op_star
id|timer_hook
)paren
(paren
r_struct
id|pt_regs
op_star
)paren
suffix:semicolon
r_struct
id|pt_regs
suffix:semicolon
macro_line|#else
DECL|function|task_handoff_register
r_static
r_inline
r_int
id|task_handoff_register
c_func
(paren
r_struct
id|notifier_block
op_star
id|n
)paren
(brace
r_return
op_minus
id|ENOSYS
suffix:semicolon
)brace
DECL|function|task_handoff_unregister
r_static
r_inline
r_int
id|task_handoff_unregister
c_func
(paren
r_struct
id|notifier_block
op_star
id|n
)paren
(brace
r_return
op_minus
id|ENOSYS
suffix:semicolon
)brace
DECL|function|profile_event_register
r_static
r_inline
r_int
id|profile_event_register
c_func
(paren
r_enum
id|profile_type
id|t
comma
r_struct
id|notifier_block
op_star
id|n
)paren
(brace
r_return
op_minus
id|ENOSYS
suffix:semicolon
)brace
DECL|function|profile_event_unregister
r_static
r_inline
r_int
id|profile_event_unregister
c_func
(paren
r_enum
id|profile_type
id|t
comma
r_struct
id|notifier_block
op_star
id|n
)paren
(brace
r_return
op_minus
id|ENOSYS
suffix:semicolon
)brace
DECL|macro|profile_task_exit
mdefine_line|#define profile_task_exit(a) do { } while (0)
DECL|macro|profile_handoff_task
mdefine_line|#define profile_handoff_task(a) (0)
DECL|macro|profile_munmap
mdefine_line|#define profile_munmap(a) do { } while (0)
DECL|function|register_timer_hook
r_static
r_inline
r_int
id|register_timer_hook
c_func
(paren
r_int
(paren
op_star
id|hook
)paren
(paren
r_struct
id|pt_regs
op_star
)paren
)paren
(brace
r_return
op_minus
id|ENOSYS
suffix:semicolon
)brace
DECL|function|unregister_timer_hook
r_static
r_inline
r_void
id|unregister_timer_hook
c_func
(paren
r_int
(paren
op_star
id|hook
)paren
(paren
r_struct
id|pt_regs
op_star
)paren
)paren
(brace
r_return
suffix:semicolon
)brace
macro_line|#endif /* CONFIG_PROFILING */
macro_line|#endif /* __KERNEL__ */
macro_line|#endif /* _LINUX_PROFILE_H */
eof
