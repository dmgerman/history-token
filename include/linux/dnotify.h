macro_line|#ifndef _LINUX_DNOTIFY_H
DECL|macro|_LINUX_DNOTIFY_H
mdefine_line|#define _LINUX_DNOTIFY_H
multiline_comment|/*&n; * Directory notification for Linux&n; *&n; * Copyright (C) 2000,2002 Stephen Rothwell&n; */
macro_line|#include &lt;linux/fs.h&gt;
DECL|struct|dnotify_struct
r_struct
id|dnotify_struct
(brace
DECL|member|dn_next
r_struct
id|dnotify_struct
op_star
id|dn_next
suffix:semicolon
DECL|member|dn_mask
r_int
r_int
id|dn_mask
suffix:semicolon
DECL|member|dn_fd
r_int
id|dn_fd
suffix:semicolon
DECL|member|dn_filp
r_struct
id|file
op_star
id|dn_filp
suffix:semicolon
DECL|member|dn_owner
id|fl_owner_t
id|dn_owner
suffix:semicolon
)brace
suffix:semicolon
macro_line|#ifdef __KERNEL__
macro_line|#include &lt;linux/config.h&gt;
macro_line|#ifdef CONFIG_DNOTIFY
r_extern
r_void
id|__inode_dir_notify
c_func
(paren
r_struct
id|inode
op_star
comma
r_int
r_int
)paren
suffix:semicolon
r_extern
r_void
id|dnotify_flush
c_func
(paren
r_struct
id|file
op_star
comma
id|fl_owner_t
)paren
suffix:semicolon
r_extern
r_int
id|fcntl_dirnotify
c_func
(paren
r_int
comma
r_struct
id|file
op_star
comma
r_int
r_int
)paren
suffix:semicolon
r_extern
r_void
id|dnotify_parent
c_func
(paren
r_struct
id|dentry
op_star
comma
r_int
r_int
)paren
suffix:semicolon
DECL|function|inode_dir_notify
r_static
r_inline
r_void
id|inode_dir_notify
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_int
r_int
id|event
)paren
(brace
r_if
c_cond
(paren
id|inode-&gt;i_dnotify_mask
op_amp
(paren
id|event
)paren
)paren
id|__inode_dir_notify
c_func
(paren
id|inode
comma
id|event
)paren
suffix:semicolon
)brace
macro_line|#else
DECL|function|__inode_dir_notify
r_static
r_inline
r_void
id|__inode_dir_notify
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_int
r_int
id|event
)paren
(brace
)brace
DECL|function|dnotify_flush
r_static
r_inline
r_void
id|dnotify_flush
c_func
(paren
r_struct
id|file
op_star
id|filp
comma
id|fl_owner_t
id|id
)paren
(brace
)brace
DECL|function|fcntl_dirnotify
r_static
r_inline
r_int
id|fcntl_dirnotify
c_func
(paren
r_int
id|fd
comma
r_struct
id|file
op_star
id|filp
comma
r_int
r_int
id|arg
)paren
(brace
r_return
op_minus
id|EINVAL
suffix:semicolon
)brace
DECL|function|dnotify_parent
r_static
r_inline
r_void
id|dnotify_parent
c_func
(paren
r_struct
id|dentry
op_star
id|dentry
comma
r_int
r_int
id|event
)paren
(brace
)brace
DECL|function|inode_dir_notify
r_static
r_inline
r_void
id|inode_dir_notify
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_int
r_int
id|event
)paren
(brace
)brace
macro_line|#endif /* CONFIG_DNOTIFY */
macro_line|#endif /* __KERNEL __ */
macro_line|#endif /* _LINUX_DNOTIFY_H */
eof
