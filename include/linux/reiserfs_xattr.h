multiline_comment|/*&n;  File: linux/reiserfs_xattr.h&n;*/
macro_line|#include &lt;linux/config.h&gt;
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;linux/xattr.h&gt;
multiline_comment|/* Magic value in header */
DECL|macro|REISERFS_XATTR_MAGIC
mdefine_line|#define REISERFS_XATTR_MAGIC 0x52465841 /* &quot;RFXA&quot; */
DECL|struct|reiserfs_xattr_header
r_struct
id|reiserfs_xattr_header
(brace
DECL|member|h_magic
id|__u32
id|h_magic
suffix:semicolon
multiline_comment|/* magic number for identification */
DECL|member|h_hash
id|__u32
id|h_hash
suffix:semicolon
multiline_comment|/* hash of the value */
)brace
suffix:semicolon
macro_line|#ifdef __KERNEL__
DECL|struct|reiserfs_xattr_handler
r_struct
id|reiserfs_xattr_handler
(brace
DECL|member|prefix
r_char
op_star
id|prefix
suffix:semicolon
DECL|member|init
r_int
(paren
op_star
id|init
)paren
(paren
r_void
)paren
suffix:semicolon
DECL|member|exit
r_void
(paren
op_star
m_exit
)paren
(paren
r_void
)paren
suffix:semicolon
DECL|member|get
r_int
(paren
op_star
id|get
)paren
(paren
r_struct
id|inode
op_star
id|inode
comma
r_const
r_char
op_star
id|name
comma
r_void
op_star
id|buffer
comma
r_int
id|size
)paren
suffix:semicolon
DECL|member|set
r_int
(paren
op_star
id|set
)paren
(paren
r_struct
id|inode
op_star
id|inode
comma
r_const
r_char
op_star
id|name
comma
r_const
r_void
op_star
id|buffer
comma
r_int
id|size
comma
r_int
id|flags
)paren
suffix:semicolon
DECL|member|del
r_int
(paren
op_star
id|del
)paren
(paren
r_struct
id|inode
op_star
id|inode
comma
r_const
r_char
op_star
id|name
)paren
suffix:semicolon
DECL|member|list
r_int
(paren
op_star
id|list
)paren
(paren
r_struct
id|inode
op_star
id|inode
comma
r_const
r_char
op_star
id|name
comma
r_int
id|namelen
comma
r_char
op_star
id|out
)paren
suffix:semicolon
DECL|member|handlers
r_struct
id|list_head
id|handlers
suffix:semicolon
)brace
suffix:semicolon
macro_line|#ifdef CONFIG_REISERFS_FS_XATTR
DECL|macro|is_reiserfs_priv_object
mdefine_line|#define is_reiserfs_priv_object(inode) (REISERFS_I(inode)-&gt;i_flags &amp; i_priv_object)
id|ssize_t
id|reiserfs_getxattr
(paren
r_struct
id|dentry
op_star
id|dentry
comma
r_const
r_char
op_star
id|name
comma
r_void
op_star
id|buffer
comma
r_int
id|size
)paren
suffix:semicolon
r_int
id|reiserfs_setxattr
(paren
r_struct
id|dentry
op_star
id|dentry
comma
r_const
r_char
op_star
id|name
comma
r_const
r_void
op_star
id|value
comma
r_int
id|size
comma
r_int
id|flags
)paren
suffix:semicolon
id|ssize_t
id|reiserfs_listxattr
(paren
r_struct
id|dentry
op_star
id|dentry
comma
r_char
op_star
id|buffer
comma
r_int
id|size
)paren
suffix:semicolon
r_int
id|reiserfs_removexattr
(paren
r_struct
id|dentry
op_star
id|dentry
comma
r_const
r_char
op_star
id|name
)paren
suffix:semicolon
r_int
id|reiserfs_delete_xattrs
(paren
r_struct
id|inode
op_star
id|inode
)paren
suffix:semicolon
r_int
id|reiserfs_chown_xattrs
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|iattr
op_star
id|attrs
)paren
suffix:semicolon
r_int
id|reiserfs_xattr_init
(paren
r_struct
id|super_block
op_star
id|sb
comma
r_int
id|mount_flags
)paren
suffix:semicolon
r_int
id|reiserfs_permission
(paren
r_struct
id|inode
op_star
id|inode
comma
r_int
id|mask
comma
r_struct
id|nameidata
op_star
id|nd
)paren
suffix:semicolon
r_int
id|reiserfs_xattr_del
(paren
r_struct
id|inode
op_star
comma
r_const
r_char
op_star
)paren
suffix:semicolon
r_int
id|reiserfs_xattr_get
(paren
r_const
r_struct
id|inode
op_star
comma
r_const
r_char
op_star
comma
r_void
op_star
comma
r_int
)paren
suffix:semicolon
r_int
id|reiserfs_xattr_set
(paren
r_struct
id|inode
op_star
comma
r_const
r_char
op_star
comma
r_const
r_void
op_star
comma
r_int
comma
r_int
)paren
suffix:semicolon
r_extern
r_struct
id|reiserfs_xattr_handler
id|user_handler
suffix:semicolon
r_int
id|reiserfs_xattr_register_handlers
(paren
r_void
)paren
id|__init
suffix:semicolon
r_void
id|reiserfs_xattr_unregister_handlers
(paren
r_void
)paren
suffix:semicolon
r_static
r_inline
r_void
DECL|function|reiserfs_write_lock_xattrs
id|reiserfs_write_lock_xattrs
c_func
(paren
r_struct
id|super_block
op_star
id|sb
)paren
(brace
id|down_write
(paren
op_amp
id|REISERFS_XATTR_DIR_SEM
c_func
(paren
id|sb
)paren
)paren
suffix:semicolon
)brace
r_static
r_inline
r_void
DECL|function|reiserfs_write_unlock_xattrs
id|reiserfs_write_unlock_xattrs
c_func
(paren
r_struct
id|super_block
op_star
id|sb
)paren
(brace
id|up_write
(paren
op_amp
id|REISERFS_XATTR_DIR_SEM
c_func
(paren
id|sb
)paren
)paren
suffix:semicolon
)brace
r_static
r_inline
r_void
DECL|function|reiserfs_read_lock_xattrs
id|reiserfs_read_lock_xattrs
c_func
(paren
r_struct
id|super_block
op_star
id|sb
)paren
(brace
id|down_read
(paren
op_amp
id|REISERFS_XATTR_DIR_SEM
c_func
(paren
id|sb
)paren
)paren
suffix:semicolon
)brace
r_static
r_inline
r_void
DECL|function|reiserfs_read_unlock_xattrs
id|reiserfs_read_unlock_xattrs
c_func
(paren
r_struct
id|super_block
op_star
id|sb
)paren
(brace
id|up_read
(paren
op_amp
id|REISERFS_XATTR_DIR_SEM
c_func
(paren
id|sb
)paren
)paren
suffix:semicolon
)brace
macro_line|#else
DECL|macro|is_reiserfs_priv_object
mdefine_line|#define is_reiserfs_priv_object(inode) 0
DECL|macro|reiserfs_getxattr
mdefine_line|#define reiserfs_getxattr NULL
DECL|macro|reiserfs_setxattr
mdefine_line|#define reiserfs_setxattr NULL
DECL|macro|reiserfs_listxattr
mdefine_line|#define reiserfs_listxattr NULL
DECL|macro|reiserfs_removexattr
mdefine_line|#define reiserfs_removexattr NULL
DECL|macro|reiserfs_write_lock_xattrs
mdefine_line|#define reiserfs_write_lock_xattrs(sb)
DECL|macro|reiserfs_write_unlock_xattrs
mdefine_line|#define reiserfs_write_unlock_xattrs(sb)
DECL|macro|reiserfs_read_lock_xattrs
mdefine_line|#define reiserfs_read_lock_xattrs(sb)
DECL|macro|reiserfs_read_unlock_xattrs
mdefine_line|#define reiserfs_read_unlock_xattrs(sb)
DECL|macro|reiserfs_permission
mdefine_line|#define reiserfs_permission NULL
DECL|macro|reiserfs_xattr_register_handlers
mdefine_line|#define reiserfs_xattr_register_handlers() 0
DECL|macro|reiserfs_xattr_unregister_handlers
mdefine_line|#define reiserfs_xattr_unregister_handlers()
DECL|function|reiserfs_delete_xattrs
r_static
r_inline
r_int
id|reiserfs_delete_xattrs
(paren
r_struct
id|inode
op_star
id|inode
)paren
(brace
r_return
l_int|0
suffix:semicolon
)brace
suffix:semicolon
DECL|function|reiserfs_chown_xattrs
r_static
r_inline
r_int
id|reiserfs_chown_xattrs
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|iattr
op_star
id|attrs
)paren
(brace
r_return
l_int|0
suffix:semicolon
)brace
suffix:semicolon
DECL|function|reiserfs_xattr_init
r_static
r_inline
r_int
id|reiserfs_xattr_init
(paren
r_struct
id|super_block
op_star
id|sb
comma
r_int
id|mount_flags
)paren
(brace
r_return
l_int|0
suffix:semicolon
)brace
suffix:semicolon
macro_line|#endif
macro_line|#endif  /* __KERNEL__ */
eof
