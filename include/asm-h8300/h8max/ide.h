multiline_comment|/* H8MAX IDE I/F Config */
DECL|macro|H8300_IDE_BASE
mdefine_line|#define H8300_IDE_BASE 0x200000
DECL|macro|H8300_IDE_CTRL
mdefine_line|#define H8300_IDE_CTRL 0x60000c
DECL|macro|H8300_IDE_IRQ
mdefine_line|#define H8300_IDE_IRQ  5
DECL|macro|H8300_IDE_REG_OFFSET
mdefine_line|#define H8300_IDE_REG_OFFSET 2
DECL|macro|outb
macro_line|#undef outb
DECL|macro|inb
macro_line|#undef inb
DECL|macro|outb_p
macro_line|#undef outb_p
DECL|macro|inb_p
macro_line|#undef inb_p
DECL|macro|outsw
macro_line|#undef outsw
DECL|macro|insw
macro_line|#undef insw
DECL|macro|outb
mdefine_line|#define outb(d,a) h8max_outb(d,(unsigned short *)a)
DECL|macro|inb
mdefine_line|#define inb(a) h8max_inb((unsigned char *)a)
DECL|macro|outb_p
mdefine_line|#define outb_p(d,a) h8max_outb(d,(unsigned short *)a)
DECL|macro|inb_p
mdefine_line|#define inb_p(a) h8max_inb((unsigned char *)a)
DECL|macro|outsw
mdefine_line|#define outsw(addr,buf,len) h8max_outsw(addr,buf,len);
DECL|macro|insw
mdefine_line|#define insw(addr,buf,len) h8max_insw(addr,buf,len);
DECL|function|h8max_outb
r_static
r_inline
r_void
id|h8max_outb
c_func
(paren
r_int
r_int
id|d
comma
r_int
r_int
op_star
id|a
)paren
(brace
op_star
id|a
op_assign
id|d
suffix:semicolon
)brace
DECL|function|h8max_inb
r_static
r_inline
r_int
r_char
id|h8max_inb
c_func
(paren
r_int
r_char
op_star
id|a
)paren
(brace
r_return
op_star
(paren
id|a
op_plus
l_int|1
)paren
suffix:semicolon
)brace
DECL|function|h8max_outsw
r_static
r_inline
r_void
id|h8max_outsw
c_func
(paren
r_void
op_star
id|addr
comma
r_void
op_star
id|buf
comma
r_int
id|len
)paren
(brace
r_int
r_volatile
r_int
op_star
id|ap
op_assign
(paren
r_int
r_volatile
r_int
op_star
)paren
id|addr
suffix:semicolon
r_int
r_int
op_star
id|bp
op_assign
(paren
r_int
r_int
op_star
)paren
id|buf
suffix:semicolon
r_int
r_int
id|d
suffix:semicolon
r_while
c_loop
(paren
id|len
op_decrement
)paren
(brace
id|d
op_assign
op_star
id|bp
op_increment
suffix:semicolon
op_star
id|ap
op_assign
(paren
id|d
op_rshift
l_int|8
)paren
op_or
(paren
id|d
op_lshift
l_int|8
)paren
suffix:semicolon
)brace
)brace
DECL|function|h8max_insw
r_static
r_inline
r_void
id|h8max_insw
c_func
(paren
r_void
op_star
id|addr
comma
r_void
op_star
id|buf
comma
r_int
id|len
)paren
(brace
r_int
r_volatile
r_int
op_star
id|ap
op_assign
(paren
r_int
r_volatile
r_int
op_star
)paren
id|addr
suffix:semicolon
r_int
r_int
op_star
id|bp
op_assign
(paren
r_int
r_int
op_star
)paren
id|buf
suffix:semicolon
r_int
r_int
id|d
suffix:semicolon
r_while
c_loop
(paren
id|len
op_decrement
)paren
(brace
id|d
op_assign
op_star
id|ap
suffix:semicolon
op_star
id|bp
op_increment
op_assign
(paren
id|d
op_rshift
l_int|8
)paren
op_or
(paren
id|d
op_lshift
l_int|8
)paren
suffix:semicolon
)brace
)brace
DECL|function|target_ide_fix_driveid
r_static
r_inline
r_void
id|target_ide_fix_driveid
c_func
(paren
r_struct
id|hd_driveid
op_star
id|id
)paren
(brace
r_int
id|c
suffix:semicolon
r_int
r_int
op_star
id|p
op_assign
(paren
r_int
r_int
op_star
)paren
id|id
suffix:semicolon
r_for
c_loop
(paren
id|c
op_assign
l_int|0
suffix:semicolon
id|c
OL
id|SECTOR_WORDS
suffix:semicolon
id|c
op_increment
comma
id|p
op_increment
)paren
op_star
id|p
op_assign
(paren
op_star
id|p
op_rshift
l_int|8
)paren
op_or
(paren
op_star
id|p
op_lshift
l_int|8
)paren
suffix:semicolon
)brace
eof
