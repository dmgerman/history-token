macro_line|#ifndef _LINUX_SISFB
DECL|macro|_LINUX_SISFB
mdefine_line|#define _LINUX_SISFB
macro_line|#include &lt;linux/spinlock.h&gt;
macro_line|#include &lt;asm/ioctl.h&gt;
macro_line|#include &lt;asm/types.h&gt;
DECL|macro|DISPTYPE_CRT1
mdefine_line|#define DISPTYPE_CRT1       0x00000008L
DECL|macro|DISPTYPE_CRT2
mdefine_line|#define DISPTYPE_CRT2       0x00000004L
DECL|macro|DISPTYPE_LCD
mdefine_line|#define DISPTYPE_LCD        0x00000002L
DECL|macro|DISPTYPE_TV
mdefine_line|#define DISPTYPE_TV         0x00000001L
DECL|macro|DISPTYPE_DISP1
mdefine_line|#define DISPTYPE_DISP1      DISPTYPE_CRT1
DECL|macro|DISPTYPE_DISP2
mdefine_line|#define DISPTYPE_DISP2      (DISPTYPE_CRT2 | DISPTYPE_LCD | DISPTYPE_TV)
DECL|macro|DISPMODE_SINGLE
mdefine_line|#define DISPMODE_SINGLE&t;    0x00000020L
DECL|macro|DISPMODE_MIRROR
mdefine_line|#define DISPMODE_MIRROR&t;    0x00000010L
DECL|macro|DISPMODE_DUALVIEW
mdefine_line|#define DISPMODE_DUALVIEW   0x00000040L
DECL|macro|HASVB_NONE
mdefine_line|#define HASVB_NONE      &t;0x00
DECL|macro|HASVB_301
mdefine_line|#define HASVB_301       &t;0x01
DECL|macro|HASVB_LVDS
mdefine_line|#define HASVB_LVDS      &t;0x02
DECL|macro|HASVB_TRUMPION
mdefine_line|#define HASVB_TRUMPION  &t;0x04
DECL|macro|HASVB_LVDS_CHRONTEL
mdefine_line|#define HASVB_LVDS_CHRONTEL&t;0x10
DECL|macro|HASVB_302
mdefine_line|#define HASVB_302       &t;0x20
DECL|macro|HASVB_303
mdefine_line|#define HASVB_303       &t;0x40
DECL|macro|HASVB_CHRONTEL
mdefine_line|#define HASVB_CHRONTEL  &t;0x80
multiline_comment|/* TW: *Never* change the order of the following enum */
DECL|enum|_SIS_CHIP_TYPE
r_typedef
r_enum
id|_SIS_CHIP_TYPE
(brace
DECL|enumerator|SIS_VGALegacy
id|SIS_VGALegacy
op_assign
l_int|0
comma
DECL|enumerator|SIS_300
id|SIS_300
comma
DECL|enumerator|SIS_630
id|SIS_630
comma
DECL|enumerator|SIS_540
id|SIS_540
comma
DECL|enumerator|SIS_730
id|SIS_730
comma
DECL|enumerator|SIS_315H
id|SIS_315H
comma
DECL|enumerator|SIS_315
id|SIS_315
comma
DECL|enumerator|SIS_315PRO
id|SIS_315PRO
comma
DECL|enumerator|SIS_550
id|SIS_550
comma
DECL|enumerator|SIS_650
id|SIS_650
comma
DECL|enumerator|SIS_740
id|SIS_740
comma
DECL|enumerator|SIS_330
id|SIS_330
comma
DECL|enumerator|MAX_SIS_CHIP
id|MAX_SIS_CHIP
DECL|typedef|SIS_CHIP_TYPE
)brace
id|SIS_CHIP_TYPE
suffix:semicolon
DECL|enum|_VGA_ENGINE
r_typedef
r_enum
id|_VGA_ENGINE
(brace
DECL|enumerator|UNKNOWN_VGA
id|UNKNOWN_VGA
op_assign
l_int|0
comma
DECL|enumerator|SIS_300_VGA
id|SIS_300_VGA
comma
DECL|enumerator|SIS_315_VGA
id|SIS_315_VGA
comma
DECL|typedef|VGA_ENGINE
)brace
id|VGA_ENGINE
suffix:semicolon
DECL|enum|_TVTYPE
r_typedef
r_enum
id|_TVTYPE
(brace
DECL|enumerator|TVMODE_NTSC
id|TVMODE_NTSC
op_assign
l_int|0
comma
DECL|enumerator|TVMODE_PAL
id|TVMODE_PAL
comma
DECL|enumerator|TVMODE_HIVISION
id|TVMODE_HIVISION
comma
DECL|enumerator|TVMODE_TOTAL
id|TVMODE_TOTAL
DECL|typedef|SIS_TV_TYPE
)brace
id|SIS_TV_TYPE
suffix:semicolon
DECL|enum|_TVPLUGTYPE
r_typedef
r_enum
id|_TVPLUGTYPE
(brace
DECL|enumerator|TVPLUG_Legacy
id|TVPLUG_Legacy
op_assign
l_int|0
comma
DECL|enumerator|TVPLUG_COMPOSITE
id|TVPLUG_COMPOSITE
comma
DECL|enumerator|TVPLUG_SVIDEO
id|TVPLUG_SVIDEO
comma
DECL|enumerator|TVPLUG_SCART
id|TVPLUG_SCART
comma
DECL|enumerator|TVPLUG_TOTAL
id|TVPLUG_TOTAL
DECL|typedef|SIS_TV_PLUG
)brace
id|SIS_TV_PLUG
suffix:semicolon
DECL|struct|sis_memreq
r_struct
id|sis_memreq
(brace
DECL|member|offset
r_int
r_int
id|offset
suffix:semicolon
DECL|member|size
r_int
r_int
id|size
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|mode_info
r_struct
id|mode_info
(brace
DECL|member|bpp
r_int
id|bpp
suffix:semicolon
DECL|member|xres
r_int
id|xres
suffix:semicolon
DECL|member|yres
r_int
id|yres
suffix:semicolon
DECL|member|v_xres
r_int
id|v_xres
suffix:semicolon
DECL|member|v_yres
r_int
id|v_yres
suffix:semicolon
DECL|member|org_x
r_int
id|org_x
suffix:semicolon
DECL|member|org_y
r_int
id|org_y
suffix:semicolon
DECL|member|vrate
r_int
r_int
id|vrate
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|ap_data
r_struct
id|ap_data
(brace
DECL|member|minfo
r_struct
id|mode_info
id|minfo
suffix:semicolon
DECL|member|iobase
r_int
r_int
id|iobase
suffix:semicolon
DECL|member|mem_size
r_int
r_int
id|mem_size
suffix:semicolon
DECL|member|disp_state
r_int
r_int
id|disp_state
suffix:semicolon
DECL|member|chip
id|SIS_CHIP_TYPE
id|chip
suffix:semicolon
DECL|member|hasVB
r_int
r_char
id|hasVB
suffix:semicolon
DECL|member|TV_type
id|SIS_TV_TYPE
id|TV_type
suffix:semicolon
DECL|member|TV_plug
id|SIS_TV_PLUG
id|TV_plug
suffix:semicolon
DECL|member|version
r_int
r_int
id|version
suffix:semicolon
DECL|member|reserved
r_char
id|reserved
(braket
l_int|256
)braket
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|video_info
r_struct
id|video_info
(brace
DECL|member|chip_id
r_int
id|chip_id
suffix:semicolon
DECL|member|video_size
r_int
r_int
id|video_size
suffix:semicolon
DECL|member|video_base
r_int
r_int
id|video_base
suffix:semicolon
DECL|member|video_vbase
r_char
op_star
id|video_vbase
suffix:semicolon
DECL|member|mmio_base
r_int
r_int
id|mmio_base
suffix:semicolon
DECL|member|mmio_vbase
r_char
op_star
id|mmio_vbase
suffix:semicolon
DECL|member|vga_base
r_int
r_int
id|vga_base
suffix:semicolon
DECL|member|mtrr
r_int
r_int
id|mtrr
suffix:semicolon
DECL|member|heapstart
r_int
r_int
id|heapstart
suffix:semicolon
DECL|member|video_bpp
r_int
id|video_bpp
suffix:semicolon
DECL|member|video_cmap_len
r_int
id|video_cmap_len
suffix:semicolon
DECL|member|video_width
r_int
id|video_width
suffix:semicolon
DECL|member|video_height
r_int
id|video_height
suffix:semicolon
DECL|member|video_vwidth
r_int
id|video_vwidth
suffix:semicolon
DECL|member|video_vheight
r_int
id|video_vheight
suffix:semicolon
DECL|member|org_x
r_int
id|org_x
suffix:semicolon
DECL|member|org_y
r_int
id|org_y
suffix:semicolon
DECL|member|video_linelength
r_int
id|video_linelength
suffix:semicolon
DECL|member|refresh_rate
r_int
r_int
id|refresh_rate
suffix:semicolon
DECL|member|disp_state
r_int
r_int
id|disp_state
suffix:semicolon
DECL|member|hasVB
r_int
r_char
id|hasVB
suffix:semicolon
DECL|member|TV_type
r_int
r_char
id|TV_type
suffix:semicolon
DECL|member|TV_plug
r_int
r_char
id|TV_plug
suffix:semicolon
DECL|member|chip
id|SIS_CHIP_TYPE
id|chip
suffix:semicolon
DECL|member|revision_id
r_int
r_char
id|revision_id
suffix:semicolon
DECL|member|DstColor
r_int
r_int
id|DstColor
suffix:semicolon
multiline_comment|/* TW: For 2d acceleration */
DECL|member|SiS310_AccelDepth
r_int
r_int
id|SiS310_AccelDepth
suffix:semicolon
DECL|member|CommandReg
r_int
r_int
id|CommandReg
suffix:semicolon
DECL|member|lockaccel
id|spinlock_t
id|lockaccel
suffix:semicolon
DECL|member|pcibus
r_int
r_int
id|pcibus
suffix:semicolon
DECL|member|pcislot
r_int
r_int
id|pcislot
suffix:semicolon
DECL|member|pcifunc
r_int
r_int
id|pcifunc
suffix:semicolon
DECL|member|accel
r_int
id|accel
suffix:semicolon
DECL|member|subsysvendor
r_int
r_int
id|subsysvendor
suffix:semicolon
DECL|member|subsysdevice
r_int
r_int
id|subsysdevice
suffix:semicolon
DECL|member|reserved
r_char
id|reserved
(braket
l_int|236
)braket
suffix:semicolon
)brace
suffix:semicolon
multiline_comment|/* TW: Addtional IOCTL for communication sisfb &lt;&gt; X driver                 */
multiline_comment|/*     If changing this, vgatypes.h must also be changed (for X driver)    */
multiline_comment|/* TW: ioctl for identifying and giving some info (esp. memory heap start) */
DECL|macro|SISFB_GET_INFO
mdefine_line|#define SISFB_GET_INFO&t;  &t;_IOR(&squot;n&squot;,0xF8,sizeof(__u32))
DECL|macro|SISFB_GET_VBRSTATUS
mdefine_line|#define SISFB_GET_VBRSTATUS  &t;_IOR(&squot;n&squot;,0xF9,sizeof(__u32))
multiline_comment|/* TW: Structure argument for SISFB_GET_INFO ioctl  */
DECL|typedef|sisfb_info
DECL|typedef|psisfb_info
r_typedef
r_struct
id|_SISFB_INFO
id|sisfb_info
comma
op_star
id|psisfb_info
suffix:semicolon
DECL|struct|_SISFB_INFO
r_struct
id|_SISFB_INFO
(brace
DECL|member|sisfb_id
r_int
r_int
id|sisfb_id
suffix:semicolon
multiline_comment|/* for identifying sisfb */
macro_line|#ifndef SISFB_ID
DECL|macro|SISFB_ID
mdefine_line|#define SISFB_ID&t;  0x53495346    /* Identify myself with &squot;SISF&squot; */
macro_line|#endif
DECL|member|chip_id
r_int
id|chip_id
suffix:semicolon
multiline_comment|/* PCI ID of detected chip */
DECL|member|memory
r_int
id|memory
suffix:semicolon
multiline_comment|/* video memory in KB which sisfb manages */
DECL|member|heapstart
r_int
id|heapstart
suffix:semicolon
multiline_comment|/* heap start (= sisfb &quot;mem&quot; argument) in KB */
DECL|member|fbvidmode
r_int
r_char
id|fbvidmode
suffix:semicolon
multiline_comment|/* current sisfb mode */
DECL|member|sisfb_version
r_int
r_char
id|sisfb_version
suffix:semicolon
DECL|member|sisfb_revision
r_int
r_char
id|sisfb_revision
suffix:semicolon
DECL|member|sisfb_patchlevel
r_int
r_char
id|sisfb_patchlevel
suffix:semicolon
DECL|member|sisfb_caps
r_int
r_char
id|sisfb_caps
suffix:semicolon
multiline_comment|/* Sisfb capabilities */
DECL|member|sisfb_tqlen
r_int
id|sisfb_tqlen
suffix:semicolon
multiline_comment|/* turbo queue length (in KB) */
DECL|member|sisfb_pcibus
r_int
r_int
id|sisfb_pcibus
suffix:semicolon
multiline_comment|/* The card&squot;s PCI ID */
DECL|member|sisfb_pcislot
r_int
r_int
id|sisfb_pcislot
suffix:semicolon
DECL|member|sisfb_pcifunc
r_int
r_int
id|sisfb_pcifunc
suffix:semicolon
DECL|member|sisfb_lcdpdc
r_int
r_char
id|sisfb_lcdpdc
suffix:semicolon
multiline_comment|/* PanelDelayCompensation */
DECL|member|sisfb_lcda
r_int
r_char
id|sisfb_lcda
suffix:semicolon
multiline_comment|/* Detected status of LCDA for low res/text modes */
DECL|member|reserved
r_char
id|reserved
(braket
l_int|235
)braket
suffix:semicolon
multiline_comment|/* for future use */
)brace
suffix:semicolon
macro_line|#ifdef __KERNEL__
r_extern
r_struct
id|video_info
id|ivideo
suffix:semicolon
r_extern
r_void
id|sis_malloc
c_func
(paren
r_struct
id|sis_memreq
op_star
id|req
)paren
suffix:semicolon
r_extern
r_void
id|sis_free
c_func
(paren
r_int
r_int
id|base
)paren
suffix:semicolon
r_extern
r_void
id|sis_dispinfo
c_func
(paren
r_struct
id|ap_data
op_star
id|rec
)paren
suffix:semicolon
macro_line|#endif
macro_line|#endif
eof
