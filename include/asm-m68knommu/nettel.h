multiline_comment|/****************************************************************************/
multiline_comment|/*&n; *&t;nettel.h -- Lineo (formerly Moreton Bay) NETtel support.&n; *&n; *&t;(C) Copyright 1999-2000, Moreton Bay (www.moretonbay.com)&n; * &t;(C) Copyright 2000-2001, Lineo Inc. (www.lineo.com) &n; * &t;(C) Copyright 2001-2002, SnapGear Inc., (www.snapgear.com) &n; */
multiline_comment|/****************************************************************************/
macro_line|#ifndef&t;nettel_h
DECL|macro|nettel_h
mdefine_line|#define&t;nettel_h
multiline_comment|/****************************************************************************/
macro_line|#include &lt;linux/config.h&gt;
multiline_comment|/****************************************************************************/
macro_line|#ifdef CONFIG_NETtel
multiline_comment|/****************************************************************************/
macro_line|#ifdef CONFIG_COLDFIRE
macro_line|#include &lt;asm/coldfire.h&gt;
macro_line|#include &lt;asm/mcfsim.h&gt;
macro_line|#endif
multiline_comment|/*---------------------------------------------------------------------------*/
macro_line|#if defined(CONFIG_M5307)
multiline_comment|/*&n; *&t;NETtel/5307 based hardware first. DTR/DCD lines are wired to&n; *&t;GPIO lines. Most of the LED&squot;s are driver through a latch&n; *&t;connected to CS2.&n; */
DECL|macro|MCFPP_DCD1
mdefine_line|#define&t;MCFPP_DCD1&t;0x0001
DECL|macro|MCFPP_DCD0
mdefine_line|#define&t;MCFPP_DCD0&t;0x0002
DECL|macro|MCFPP_DTR1
mdefine_line|#define&t;MCFPP_DTR1&t;0x0004
DECL|macro|MCFPP_DTR0
mdefine_line|#define&t;MCFPP_DTR0&t;0x0008
DECL|macro|NETtel_LEDADDR
mdefine_line|#define&t;NETtel_LEDADDR&t;0x30400000
macro_line|#ifndef __ASSEMBLY__
r_extern
r_volatile
r_int
r_int
id|ppdata
suffix:semicolon
multiline_comment|/*&n; *&t;These functions defined to give quasi generic access to the&n; *&t;PPIO bits used for DTR/DCD.&n; */
DECL|function|mcf_getppdata
r_static
id|__inline__
r_int
r_int
id|mcf_getppdata
c_func
(paren
r_void
)paren
(brace
r_volatile
r_int
r_int
op_star
id|pp
suffix:semicolon
id|pp
op_assign
(paren
r_volatile
r_int
r_int
op_star
)paren
(paren
id|MCF_MBAR
op_plus
id|MCFSIM_PADAT
)paren
suffix:semicolon
r_return
(paren
r_int
r_int
)paren
op_star
id|pp
suffix:semicolon
)brace
DECL|function|mcf_setppdata
r_static
id|__inline__
r_void
id|mcf_setppdata
c_func
(paren
r_int
r_int
id|mask
comma
r_int
r_int
id|bits
)paren
(brace
r_volatile
r_int
r_int
op_star
id|pp
suffix:semicolon
id|pp
op_assign
(paren
r_volatile
r_int
r_int
op_star
)paren
(paren
id|MCF_MBAR
op_plus
id|MCFSIM_PADAT
)paren
suffix:semicolon
id|ppdata
op_assign
(paren
id|ppdata
op_amp
op_complement
id|mask
)paren
op_or
id|bits
suffix:semicolon
op_star
id|pp
op_assign
id|ppdata
suffix:semicolon
)brace
macro_line|#endif
multiline_comment|/*---------------------------------------------------------------------------*/
macro_line|#elif defined(CONFIG_M5206e)
multiline_comment|/*&n; *&t;NETtel/5206e based hardware has leds on latch on CS3.&n; *&t;No support modem for lines??&n; */
DECL|macro|NETtel_LEDADDR
mdefine_line|#define&t;NETtel_LEDADDR&t;0x50000000
multiline_comment|/*---------------------------------------------------------------------------*/
macro_line|#elif defined(CONFIG_M5272)
multiline_comment|/*&n; *&t;NETtel/5272 based hardware. DTR/DCD lines are wired to GPB lines.&n; */
DECL|macro|MCFPP_DCD0
mdefine_line|#define&t;MCFPP_DCD0&t;0x0080
DECL|macro|MCFPP_DCD1
mdefine_line|#define&t;MCFPP_DCD1&t;0x0000&t;&t;/* Port 1 no DCD support */
DECL|macro|MCFPP_DTR0
mdefine_line|#define&t;MCFPP_DTR0&t;0x0040
DECL|macro|MCFPP_DTR1
mdefine_line|#define&t;MCFPP_DTR1&t;0x0000&t;&t;/* Port 1 no DTR support */
macro_line|#ifndef __ASSEMBLY__
multiline_comment|/*&n; *&t;These functions defined to give quasi generic access to the&n; *&t;PPIO bits used for DTR/DCD.&n; */
DECL|function|mcf_getppdata
r_static
id|__inline__
r_int
r_int
id|mcf_getppdata
c_func
(paren
r_void
)paren
(brace
r_volatile
r_int
r_int
op_star
id|pp
suffix:semicolon
id|pp
op_assign
(paren
r_volatile
r_int
r_int
op_star
)paren
(paren
id|MCF_MBAR
op_plus
id|MCFSIM_PBDAT
)paren
suffix:semicolon
r_return
(paren
r_int
r_int
)paren
op_star
id|pp
suffix:semicolon
)brace
DECL|function|mcf_setppdata
r_static
id|__inline__
r_void
id|mcf_setppdata
c_func
(paren
r_int
r_int
id|mask
comma
r_int
r_int
id|bits
)paren
(brace
r_volatile
r_int
r_int
op_star
id|pp
suffix:semicolon
id|pp
op_assign
(paren
r_volatile
r_int
r_int
op_star
)paren
(paren
id|MCF_MBAR
op_plus
id|MCFSIM_PBDAT
)paren
suffix:semicolon
op_star
id|pp
op_assign
(paren
op_star
id|pp
op_amp
op_complement
id|mask
)paren
op_or
id|bits
suffix:semicolon
)brace
macro_line|#endif
macro_line|#endif
multiline_comment|/*---------------------------------------------------------------------------*/
multiline_comment|/****************************************************************************/
macro_line|#endif /* CONFIG_NETtel */
multiline_comment|/****************************************************************************/
macro_line|#endif&t;/* nettel_h */
eof
