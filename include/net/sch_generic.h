macro_line|#ifndef __NET_SCHED_GENERIC_H
DECL|macro|__NET_SCHED_GENERIC_H
mdefine_line|#define __NET_SCHED_GENERIC_H
macro_line|#include &lt;linux/config.h&gt;
macro_line|#include &lt;linux/netdevice.h&gt;
macro_line|#include &lt;linux/types.h&gt;
macro_line|#include &lt;linux/rcupdate.h&gt;
macro_line|#include &lt;linux/module.h&gt;
macro_line|#include &lt;linux/rtnetlink.h&gt;
macro_line|#include &lt;linux/pkt_sched.h&gt;
macro_line|#include &lt;linux/pkt_cls.h&gt;
macro_line|#include &lt;net/gen_stats.h&gt;
r_struct
id|Qdisc_ops
suffix:semicolon
r_struct
id|qdisc_walker
suffix:semicolon
r_struct
id|tcf_walker
suffix:semicolon
r_struct
id|module
suffix:semicolon
DECL|struct|qdisc_rate_table
r_struct
id|qdisc_rate_table
(brace
DECL|member|rate
r_struct
id|tc_ratespec
id|rate
suffix:semicolon
DECL|member|data
id|u32
id|data
(braket
l_int|256
)braket
suffix:semicolon
DECL|member|next
r_struct
id|qdisc_rate_table
op_star
id|next
suffix:semicolon
DECL|member|refcnt
r_int
id|refcnt
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|Qdisc
r_struct
id|Qdisc
(brace
DECL|member|enqueue
r_int
(paren
op_star
id|enqueue
)paren
(paren
r_struct
id|sk_buff
op_star
id|skb
comma
r_struct
id|Qdisc
op_star
id|dev
)paren
suffix:semicolon
DECL|member|dequeue
r_struct
id|sk_buff
op_star
(paren
op_star
id|dequeue
)paren
(paren
r_struct
id|Qdisc
op_star
id|dev
)paren
suffix:semicolon
DECL|member|flags
r_int
id|flags
suffix:semicolon
DECL|macro|TCQ_F_BUILTIN
mdefine_line|#define TCQ_F_BUILTIN&t;1
DECL|macro|TCQ_F_THROTTLED
mdefine_line|#define TCQ_F_THROTTLED&t;2
DECL|macro|TCQ_F_INGRESS
mdefine_line|#define TCQ_F_INGRESS&t;4
DECL|member|padded
r_int
id|padded
suffix:semicolon
DECL|member|ops
r_struct
id|Qdisc_ops
op_star
id|ops
suffix:semicolon
DECL|member|handle
id|u32
id|handle
suffix:semicolon
DECL|member|parent
id|u32
id|parent
suffix:semicolon
DECL|member|refcnt
id|atomic_t
id|refcnt
suffix:semicolon
DECL|member|q
r_struct
id|sk_buff_head
id|q
suffix:semicolon
DECL|member|dev
r_struct
id|net_device
op_star
id|dev
suffix:semicolon
DECL|member|list
r_struct
id|list_head
id|list
suffix:semicolon
DECL|member|bstats
r_struct
id|gnet_stats_basic
id|bstats
suffix:semicolon
DECL|member|qstats
r_struct
id|gnet_stats_queue
id|qstats
suffix:semicolon
DECL|member|rate_est
r_struct
id|gnet_stats_rate_est
id|rate_est
suffix:semicolon
DECL|member|stats_lock
id|spinlock_t
op_star
id|stats_lock
suffix:semicolon
DECL|member|q_rcu
r_struct
id|rcu_head
id|q_rcu
suffix:semicolon
DECL|member|reshape_fail
r_int
(paren
op_star
id|reshape_fail
)paren
(paren
r_struct
id|sk_buff
op_star
id|skb
comma
r_struct
id|Qdisc
op_star
id|q
)paren
suffix:semicolon
multiline_comment|/* This field is deprecated, but it is still used by CBQ&n;&t; * and it will live until better solution will be invented.&n;&t; */
DECL|member|__parent
r_struct
id|Qdisc
op_star
id|__parent
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|Qdisc_class_ops
r_struct
id|Qdisc_class_ops
(brace
multiline_comment|/* Child qdisc manipulation */
DECL|member|graft
r_int
(paren
op_star
id|graft
)paren
(paren
r_struct
id|Qdisc
op_star
comma
r_int
r_int
id|cl
comma
r_struct
id|Qdisc
op_star
comma
r_struct
id|Qdisc
op_star
op_star
)paren
suffix:semicolon
DECL|member|leaf
r_struct
id|Qdisc
op_star
(paren
op_star
id|leaf
)paren
(paren
r_struct
id|Qdisc
op_star
comma
r_int
r_int
id|cl
)paren
suffix:semicolon
multiline_comment|/* Class manipulation routines */
DECL|member|get
r_int
r_int
(paren
op_star
id|get
)paren
(paren
r_struct
id|Qdisc
op_star
comma
id|u32
id|classid
)paren
suffix:semicolon
DECL|member|put
r_void
(paren
op_star
id|put
)paren
(paren
r_struct
id|Qdisc
op_star
comma
r_int
r_int
)paren
suffix:semicolon
DECL|member|change
r_int
(paren
op_star
id|change
)paren
(paren
r_struct
id|Qdisc
op_star
comma
id|u32
comma
id|u32
comma
r_struct
id|rtattr
op_star
op_star
comma
r_int
r_int
op_star
)paren
suffix:semicolon
DECL|member|delete
r_int
(paren
op_star
r_delete
)paren
(paren
r_struct
id|Qdisc
op_star
comma
r_int
r_int
)paren
suffix:semicolon
DECL|member|walk
r_void
(paren
op_star
id|walk
)paren
(paren
r_struct
id|Qdisc
op_star
comma
r_struct
id|qdisc_walker
op_star
id|arg
)paren
suffix:semicolon
multiline_comment|/* Filter manipulation */
DECL|member|tcf_chain
r_struct
id|tcf_proto
op_star
op_star
(paren
op_star
id|tcf_chain
)paren
(paren
r_struct
id|Qdisc
op_star
comma
r_int
r_int
)paren
suffix:semicolon
DECL|member|bind_tcf
r_int
r_int
(paren
op_star
id|bind_tcf
)paren
(paren
r_struct
id|Qdisc
op_star
comma
r_int
r_int
comma
id|u32
id|classid
)paren
suffix:semicolon
DECL|member|unbind_tcf
r_void
(paren
op_star
id|unbind_tcf
)paren
(paren
r_struct
id|Qdisc
op_star
comma
r_int
r_int
)paren
suffix:semicolon
multiline_comment|/* rtnetlink specific */
DECL|member|dump
r_int
(paren
op_star
id|dump
)paren
(paren
r_struct
id|Qdisc
op_star
comma
r_int
r_int
comma
r_struct
id|sk_buff
op_star
id|skb
comma
r_struct
id|tcmsg
op_star
)paren
suffix:semicolon
DECL|member|dump_stats
r_int
(paren
op_star
id|dump_stats
)paren
(paren
r_struct
id|Qdisc
op_star
comma
r_int
r_int
comma
r_struct
id|gnet_dump
op_star
)paren
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|Qdisc_ops
r_struct
id|Qdisc_ops
(brace
DECL|member|next
r_struct
id|Qdisc_ops
op_star
id|next
suffix:semicolon
DECL|member|cl_ops
r_struct
id|Qdisc_class_ops
op_star
id|cl_ops
suffix:semicolon
DECL|member|id
r_char
id|id
(braket
id|IFNAMSIZ
)braket
suffix:semicolon
DECL|member|priv_size
r_int
id|priv_size
suffix:semicolon
DECL|member|enqueue
r_int
(paren
op_star
id|enqueue
)paren
(paren
r_struct
id|sk_buff
op_star
comma
r_struct
id|Qdisc
op_star
)paren
suffix:semicolon
DECL|member|dequeue
r_struct
id|sk_buff
op_star
(paren
op_star
id|dequeue
)paren
(paren
r_struct
id|Qdisc
op_star
)paren
suffix:semicolon
DECL|member|requeue
r_int
(paren
op_star
id|requeue
)paren
(paren
r_struct
id|sk_buff
op_star
comma
r_struct
id|Qdisc
op_star
)paren
suffix:semicolon
DECL|member|drop
r_int
r_int
(paren
op_star
id|drop
)paren
(paren
r_struct
id|Qdisc
op_star
)paren
suffix:semicolon
DECL|member|init
r_int
(paren
op_star
id|init
)paren
(paren
r_struct
id|Qdisc
op_star
comma
r_struct
id|rtattr
op_star
id|arg
)paren
suffix:semicolon
DECL|member|reset
r_void
(paren
op_star
id|reset
)paren
(paren
r_struct
id|Qdisc
op_star
)paren
suffix:semicolon
DECL|member|destroy
r_void
(paren
op_star
id|destroy
)paren
(paren
r_struct
id|Qdisc
op_star
)paren
suffix:semicolon
DECL|member|change
r_int
(paren
op_star
id|change
)paren
(paren
r_struct
id|Qdisc
op_star
comma
r_struct
id|rtattr
op_star
id|arg
)paren
suffix:semicolon
DECL|member|dump
r_int
(paren
op_star
id|dump
)paren
(paren
r_struct
id|Qdisc
op_star
comma
r_struct
id|sk_buff
op_star
)paren
suffix:semicolon
DECL|member|dump_stats
r_int
(paren
op_star
id|dump_stats
)paren
(paren
r_struct
id|Qdisc
op_star
comma
r_struct
id|gnet_dump
op_star
)paren
suffix:semicolon
DECL|member|owner
r_struct
id|module
op_star
id|owner
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|tcf_result
r_struct
id|tcf_result
(brace
DECL|member|class
r_int
r_int
r_class
suffix:semicolon
DECL|member|classid
id|u32
id|classid
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|tcf_proto_ops
r_struct
id|tcf_proto_ops
(brace
DECL|member|next
r_struct
id|tcf_proto_ops
op_star
id|next
suffix:semicolon
DECL|member|kind
r_char
id|kind
(braket
id|IFNAMSIZ
)braket
suffix:semicolon
DECL|member|classify
r_int
(paren
op_star
id|classify
)paren
(paren
r_struct
id|sk_buff
op_star
comma
r_struct
id|tcf_proto
op_star
comma
r_struct
id|tcf_result
op_star
)paren
suffix:semicolon
DECL|member|init
r_int
(paren
op_star
id|init
)paren
(paren
r_struct
id|tcf_proto
op_star
)paren
suffix:semicolon
DECL|member|destroy
r_void
(paren
op_star
id|destroy
)paren
(paren
r_struct
id|tcf_proto
op_star
)paren
suffix:semicolon
DECL|member|get
r_int
r_int
(paren
op_star
id|get
)paren
(paren
r_struct
id|tcf_proto
op_star
comma
id|u32
id|handle
)paren
suffix:semicolon
DECL|member|put
r_void
(paren
op_star
id|put
)paren
(paren
r_struct
id|tcf_proto
op_star
comma
r_int
r_int
)paren
suffix:semicolon
DECL|member|change
r_int
(paren
op_star
id|change
)paren
(paren
r_struct
id|tcf_proto
op_star
comma
r_int
r_int
comma
id|u32
id|handle
comma
r_struct
id|rtattr
op_star
op_star
comma
r_int
r_int
op_star
)paren
suffix:semicolon
DECL|member|delete
r_int
(paren
op_star
r_delete
)paren
(paren
r_struct
id|tcf_proto
op_star
comma
r_int
r_int
)paren
suffix:semicolon
DECL|member|walk
r_void
(paren
op_star
id|walk
)paren
(paren
r_struct
id|tcf_proto
op_star
comma
r_struct
id|tcf_walker
op_star
id|arg
)paren
suffix:semicolon
multiline_comment|/* rtnetlink specific */
DECL|member|dump
r_int
(paren
op_star
id|dump
)paren
(paren
r_struct
id|tcf_proto
op_star
comma
r_int
r_int
comma
r_struct
id|sk_buff
op_star
id|skb
comma
r_struct
id|tcmsg
op_star
)paren
suffix:semicolon
DECL|member|owner
r_struct
id|module
op_star
id|owner
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|tcf_proto
r_struct
id|tcf_proto
(brace
multiline_comment|/* Fast access part */
DECL|member|next
r_struct
id|tcf_proto
op_star
id|next
suffix:semicolon
DECL|member|root
r_void
op_star
id|root
suffix:semicolon
DECL|member|classify
r_int
(paren
op_star
id|classify
)paren
(paren
r_struct
id|sk_buff
op_star
comma
r_struct
id|tcf_proto
op_star
comma
r_struct
id|tcf_result
op_star
)paren
suffix:semicolon
DECL|member|protocol
id|u32
id|protocol
suffix:semicolon
multiline_comment|/* All the rest */
DECL|member|prio
id|u32
id|prio
suffix:semicolon
DECL|member|classid
id|u32
id|classid
suffix:semicolon
DECL|member|q
r_struct
id|Qdisc
op_star
id|q
suffix:semicolon
DECL|member|data
r_void
op_star
id|data
suffix:semicolon
DECL|member|ops
r_struct
id|tcf_proto_ops
op_star
id|ops
suffix:semicolon
)brace
suffix:semicolon
r_extern
r_void
id|qdisc_lock_tree
c_func
(paren
r_struct
id|net_device
op_star
id|dev
)paren
suffix:semicolon
r_extern
r_void
id|qdisc_unlock_tree
c_func
(paren
r_struct
id|net_device
op_star
id|dev
)paren
suffix:semicolon
DECL|macro|sch_tree_lock
mdefine_line|#define sch_tree_lock(q)&t;qdisc_lock_tree((q)-&gt;dev)
DECL|macro|sch_tree_unlock
mdefine_line|#define sch_tree_unlock(q)&t;qdisc_unlock_tree((q)-&gt;dev)
DECL|macro|tcf_tree_lock
mdefine_line|#define tcf_tree_lock(tp)&t;qdisc_lock_tree((tp)-&gt;q-&gt;dev)
DECL|macro|tcf_tree_unlock
mdefine_line|#define tcf_tree_unlock(tp)&t;qdisc_unlock_tree((tp)-&gt;q-&gt;dev)
r_static
r_inline
r_void
DECL|function|tcf_destroy
id|tcf_destroy
c_func
(paren
r_struct
id|tcf_proto
op_star
id|tp
)paren
(brace
id|tp-&gt;ops
op_member_access_from_pointer
id|destroy
c_func
(paren
id|tp
)paren
suffix:semicolon
id|module_put
c_func
(paren
id|tp-&gt;ops-&gt;owner
)paren
suffix:semicolon
id|kfree
c_func
(paren
id|tp
)paren
suffix:semicolon
)brace
macro_line|#endif
eof
